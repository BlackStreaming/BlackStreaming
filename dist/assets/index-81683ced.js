(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function z2(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Db={exports:{}},xu={},Ab={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var To=Symbol.for("react.element"),O2=Symbol.for("react.portal"),L2=Symbol.for("react.fragment"),V2=Symbol.for("react.strict_mode"),B2=Symbol.for("react.profiler"),F2=Symbol.for("react.provider"),U2=Symbol.for("react.context"),$2=Symbol.for("react.forward_ref"),q2=Symbol.for("react.suspense"),W2=Symbol.for("react.memo"),G2=Symbol.for("react.lazy"),Nf=Symbol.iterator;function H2(s){return s===null||typeof s!="object"?null:(s=Nf&&s[Nf]||s["@@iterator"],typeof s=="function"?s:null)}var Rb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mb=Object.assign,zb={};function Qi(s,t,r){this.props=s,this.context=t,this.refs=zb,this.updater=r||Rb}Qi.prototype.isReactComponent={};Qi.prototype.setState=function(s,t){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,t,"setState")};Qi.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function Ob(){}Ob.prototype=Qi.prototype;function Sh(s,t,r){this.props=s,this.context=t,this.refs=zb,this.updater=r||Rb}var _h=Sh.prototype=new Ob;_h.constructor=Sh;Mb(_h,Qi.prototype);_h.isPureReactComponent=!0;var wf=Array.isArray,Lb=Object.prototype.hasOwnProperty,Ph={current:null},Vb={key:!0,ref:!0,__self:!0,__source:!0};function Bb(s,t,r){var a,i={},o=null,l=null;if(t!=null)for(a in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)Lb.call(t,a)&&!Vb.hasOwnProperty(a)&&(i[a]=t[a]);var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){for(var x=Array(c),p=0;p<c;p++)x[p]=arguments[p+2];i.children=x}if(s&&s.defaultProps)for(a in c=s.defaultProps,c)i[a]===void 0&&(i[a]=c[a]);return{$$typeof:To,type:s,key:o,ref:l,props:i,_owner:Ph.current}}function Q2(s,t){return{$$typeof:To,type:s.type,key:t,ref:s.ref,props:s.props,_owner:s._owner}}function Th(s){return typeof s=="object"&&s!==null&&s.$$typeof===To}function K2(s){var t={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(r){return t[r]})}var kf=/\/+/g;function gx(s,t){return typeof s=="object"&&s!==null&&s.key!=null?K2(""+s.key):t.toString(36)}function $c(s,t,r,a,i){var o=typeof s;(o==="undefined"||o==="boolean")&&(s=null);var l=!1;if(s===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(s.$$typeof){case To:case O2:l=!0}}if(l)return l=s,i=i(l),s=a===""?"."+gx(l,0):a,wf(i)?(r="",s!=null&&(r=s.replace(kf,"$&/")+"/"),$c(i,t,r,"",function(p){return p})):i!=null&&(Th(i)&&(i=Q2(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(kf,"$&/")+"/")+s)),t.push(i)),1;if(l=0,a=a===""?".":a+":",wf(s))for(var c=0;c<s.length;c++){o=s[c];var x=a+gx(o,c);l+=$c(o,t,r,x,i)}else if(x=H2(s),typeof x=="function")for(s=x.call(s),c=0;!(o=s.next()).done;)o=o.value,x=a+gx(o,c++),l+=$c(o,t,r,x,i);else if(o==="object")throw t=String(s),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function fc(s,t,r){if(s==null)return s;var a=[],i=0;return $c(s,a,"","",function(o){return t.call(r,o,i++)}),a}function Y2(s){if(s._status===-1){var t=s._result;t=t(),t.then(function(r){(s._status===0||s._status===-1)&&(s._status=1,s._result=r)},function(r){(s._status===0||s._status===-1)&&(s._status=2,s._result=r)}),s._status===-1&&(s._status=0,s._result=t)}if(s._status===1)return s._result.default;throw s._result}var Fs={current:null},qc={transition:null},J2={ReactCurrentDispatcher:Fs,ReactCurrentBatchConfig:qc,ReactCurrentOwner:Ph};function Fb(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:fc,forEach:function(s,t,r){fc(s,function(){t.apply(this,arguments)},r)},count:function(s){var t=0;return fc(s,function(){t++}),t},toArray:function(s){return fc(s,function(t){return t})||[]},only:function(s){if(!Th(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};ft.Component=Qi;ft.Fragment=L2;ft.Profiler=B2;ft.PureComponent=Sh;ft.StrictMode=V2;ft.Suspense=q2;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J2;ft.act=Fb;ft.cloneElement=function(s,t,r){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var a=Mb({},s.props),i=s.key,o=s.ref,l=s._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=Ph.current),t.key!==void 0&&(i=""+t.key),s.type&&s.type.defaultProps)var c=s.type.defaultProps;for(x in t)Lb.call(t,x)&&!Vb.hasOwnProperty(x)&&(a[x]=t[x]===void 0&&c!==void 0?c[x]:t[x])}var x=arguments.length-2;if(x===1)a.children=r;else if(1<x){c=Array(x);for(var p=0;p<x;p++)c[p]=arguments[p+2];a.children=c}return{$$typeof:To,type:s.type,key:i,ref:o,props:a,_owner:l}};ft.createContext=function(s){return s={$$typeof:U2,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:F2,_context:s},s.Consumer=s};ft.createElement=Bb;ft.createFactory=function(s){var t=Bb.bind(null,s);return t.type=s,t};ft.createRef=function(){return{current:null}};ft.forwardRef=function(s){return{$$typeof:$2,render:s}};ft.isValidElement=Th;ft.lazy=function(s){return{$$typeof:G2,_payload:{_status:-1,_result:s},_init:Y2}};ft.memo=function(s,t){return{$$typeof:W2,type:s,compare:t===void 0?null:t}};ft.startTransition=function(s){var t=qc.transition;qc.transition={};try{s()}finally{qc.transition=t}};ft.unstable_act=Fb;ft.useCallback=function(s,t){return Fs.current.useCallback(s,t)};ft.useContext=function(s){return Fs.current.useContext(s)};ft.useDebugValue=function(){};ft.useDeferredValue=function(s){return Fs.current.useDeferredValue(s)};ft.useEffect=function(s,t){return Fs.current.useEffect(s,t)};ft.useId=function(){return Fs.current.useId()};ft.useImperativeHandle=function(s,t,r){return Fs.current.useImperativeHandle(s,t,r)};ft.useInsertionEffect=function(s,t){return Fs.current.useInsertionEffect(s,t)};ft.useLayoutEffect=function(s,t){return Fs.current.useLayoutEffect(s,t)};ft.useMemo=function(s,t){return Fs.current.useMemo(s,t)};ft.useReducer=function(s,t,r){return Fs.current.useReducer(s,t,r)};ft.useRef=function(s){return Fs.current.useRef(s)};ft.useState=function(s){return Fs.current.useState(s)};ft.useSyncExternalStore=function(s,t,r){return Fs.current.useSyncExternalStore(s,t,r)};ft.useTransition=function(){return Fs.current.useTransition()};ft.version="18.3.1";Ab.exports=ft;var j=Ab.exports;const Wa=z2(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X2=j,Z2=Symbol.for("react.element"),e4=Symbol.for("react.fragment"),t4=Object.prototype.hasOwnProperty,s4=X2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r4={key:!0,ref:!0,__self:!0,__source:!0};function Ub(s,t,r){var a,i={},o=null,l=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(a in t)t4.call(t,a)&&!r4.hasOwnProperty(a)&&(i[a]=t[a]);if(s&&s.defaultProps)for(a in t=s.defaultProps,t)i[a]===void 0&&(i[a]=t[a]);return{$$typeof:Z2,type:s,key:o,ref:l,props:i,_owner:s4.current}}xu.Fragment=e4;xu.jsx=Ub;xu.jsxs=Ub;Db.exports=xu;var e=Db.exports,im={},$b={exports:{}},cr={},qb={exports:{}},Wb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function t(ue,ge){var xe=ue.length;ue.push(ge);e:for(;0<xe;){var K=xe-1>>>1,ee=ue[K];if(0<i(ee,ge))ue[K]=ge,ue[xe]=ee,xe=K;else break e}}function r(ue){return ue.length===0?null:ue[0]}function a(ue){if(ue.length===0)return null;var ge=ue[0],xe=ue.pop();if(xe!==ge){ue[0]=xe;e:for(var K=0,ee=ue.length,n=ee>>>1;K<n;){var g=2*(K+1)-1,m=ue[g],T=g+1,F=ue[T];if(0>i(m,xe))T<ee&&0>i(F,m)?(ue[K]=F,ue[T]=xe,K=T):(ue[K]=m,ue[g]=xe,K=g);else if(T<ee&&0>i(F,xe))ue[K]=F,ue[T]=xe,K=T;else break e}}return ge}function i(ue,ge){var xe=ue.sortIndex-ge.sortIndex;return xe!==0?xe:ue.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();s.unstable_now=function(){return l.now()-c}}var x=[],p=[],N=1,E=null,S=3,R=!1,y=!1,V=!1,v=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(ue){for(var ge=r(p);ge!==null;){if(ge.callback===null)a(p);else if(ge.startTime<=ue)a(p),ge.sortIndex=ge.expirationTime,t(x,ge);else break;ge=r(p)}}function H(ue){if(V=!1,M(ue),!y)if(r(x)!==null)y=!0,Ee(Q);else{var ge=r(p);ge!==null&&Te(H,ge.startTime-ue)}}function Q(ue,ge){y=!1,V&&(V=!1,P(d),d=-1),R=!0;var xe=S;try{for(M(ge),E=r(x);E!==null&&(!(E.expirationTime>ge)||ue&&!J());){var K=E.callback;if(typeof K=="function"){E.callback=null,S=E.priorityLevel;var ee=K(E.expirationTime<=ge);ge=s.unstable_now(),typeof ee=="function"?E.callback=ee:E===r(x)&&a(x),M(ge)}else a(x);E=r(x)}if(E!==null)var n=!0;else{var g=r(p);g!==null&&Te(H,g.startTime-ge),n=!1}return n}finally{E=null,S=xe,R=!1}}var W=!1,D=null,d=-1,$=5,B=-1;function J(){return!(s.unstable_now()-B<$)}function _(){if(D!==null){var ue=s.unstable_now();B=ue;var ge=!0;try{ge=D(!0,ue)}finally{ge?q():(W=!1,D=null)}}else W=!1}var q;if(typeof z=="function")q=function(){z(_)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Oe=Se.port2;Se.port1.onmessage=_,q=function(){Oe.postMessage(null)}}else q=function(){v(_,0)};function Ee(ue){D=ue,W||(W=!0,q())}function Te(ue,ge){d=v(function(){ue(s.unstable_now())},ge)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(ue){ue.callback=null},s.unstable_continueExecution=function(){y||R||(y=!0,Ee(Q))},s.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<ue?Math.floor(1e3/ue):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_getFirstCallbackNode=function(){return r(x)},s.unstable_next=function(ue){switch(S){case 1:case 2:case 3:var ge=3;break;default:ge=S}var xe=S;S=ge;try{return ue()}finally{S=xe}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(ue,ge){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var xe=S;S=ue;try{return ge()}finally{S=xe}},s.unstable_scheduleCallback=function(ue,ge,xe){var K=s.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?K+xe:K):xe=K,ue){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=xe+ee,ue={id:N++,callback:ge,priorityLevel:ue,startTime:xe,expirationTime:ee,sortIndex:-1},xe>K?(ue.sortIndex=xe,t(p,ue),r(x)===null&&ue===r(p)&&(V?(P(d),d=-1):V=!0,Te(H,xe-K))):(ue.sortIndex=ee,t(x,ue),y||R||(y=!0,Ee(Q))),ue},s.unstable_shouldYield=J,s.unstable_wrapCallback=function(ue){var ge=S;return function(){var xe=S;S=ge;try{return ue.apply(this,arguments)}finally{S=xe}}}})(Wb);qb.exports=Wb;var a4=qb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n4=j,or=a4;function _e(s){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+s,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+s+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gb=new Set,Xl={};function Qn(s,t){Ri(s,t),Ri(s+"Capture",t)}function Ri(s,t){for(Xl[s]=t,s=0;s<t.length;s++)Gb.add(t[s])}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lm=Object.prototype.hasOwnProperty,i4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cf={},If={};function l4(s){return lm.call(If,s)?!0:lm.call(Cf,s)?!1:i4.test(s)?If[s]=!0:(Cf[s]=!0,!1)}function o4(s,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function c4(s,t,r,a){if(t===null||typeof t>"u"||o4(s,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Us(s,t,r,a,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=s,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var ks={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){ks[s]=new Us(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var t=s[0];ks[t]=new Us(t,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){ks[s]=new Us(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){ks[s]=new Us(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){ks[s]=new Us(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){ks[s]=new Us(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){ks[s]=new Us(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){ks[s]=new Us(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){ks[s]=new Us(s,5,!1,s.toLowerCase(),null,!1,!1)});var Dh=/[\-:]([a-z])/g;function Ah(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var t=s.replace(Dh,Ah);ks[t]=new Us(t,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var t=s.replace(Dh,Ah);ks[t]=new Us(t,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var t=s.replace(Dh,Ah);ks[t]=new Us(t,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){ks[s]=new Us(s,1,!1,s.toLowerCase(),null,!1,!1)});ks.xlinkHref=new Us("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){ks[s]=new Us(s,1,!1,s.toLowerCase(),null,!0,!0)});function Rh(s,t,r,a){var i=ks.hasOwnProperty(t)?ks[t]:null;(i!==null?i.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(c4(t,r,i,a)&&(r=null),a||i===null?l4(t)&&(r===null?s.removeAttribute(t):s.setAttribute(t,""+r)):i.mustUseProperty?s[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,a=i.attributeNamespace,r===null?s.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,a?s.setAttributeNS(a,t,r):s.setAttribute(t,r))))}var ka=n4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gc=Symbol.for("react.element"),di=Symbol.for("react.portal"),ui=Symbol.for("react.fragment"),Mh=Symbol.for("react.strict_mode"),om=Symbol.for("react.profiler"),Hb=Symbol.for("react.provider"),Qb=Symbol.for("react.context"),zh=Symbol.for("react.forward_ref"),cm=Symbol.for("react.suspense"),dm=Symbol.for("react.suspense_list"),Oh=Symbol.for("react.memo"),Ra=Symbol.for("react.lazy"),Kb=Symbol.for("react.offscreen"),Ef=Symbol.iterator;function ml(s){return s===null||typeof s!="object"?null:(s=Ef&&s[Ef]||s["@@iterator"],typeof s=="function"?s:null)}var Jt=Object.assign,yx;function kl(s){if(yx===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);yx=t&&t[1]||""}return`
`+yx+s}var bx=!1;function jx(s,t){if(!s||bx)return"";bx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var a=p}Reflect.construct(s,[],t)}else{try{t.call()}catch(p){a=p}s.call(t.prototype)}else{try{throw Error()}catch(p){a=p}s()}}catch(p){if(p&&a&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),o=a.stack.split(`
`),l=i.length-1,c=o.length-1;1<=l&&0<=c&&i[l]!==o[c];)c--;for(;1<=l&&0<=c;l--,c--)if(i[l]!==o[c]){if(l!==1||c!==1)do if(l--,c--,0>c||i[l]!==o[c]){var x=`
`+i[l].replace(" at new "," at ");return s.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",s.displayName)),x}while(1<=l&&0<=c);break}}}finally{bx=!1,Error.prepareStackTrace=r}return(s=s?s.displayName||s.name:"")?kl(s):""}function d4(s){switch(s.tag){case 5:return kl(s.type);case 16:return kl("Lazy");case 13:return kl("Suspense");case 19:return kl("SuspenseList");case 0:case 2:case 15:return s=jx(s.type,!1),s;case 11:return s=jx(s.type.render,!1),s;case 1:return s=jx(s.type,!0),s;default:return""}}function um(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case ui:return"Fragment";case di:return"Portal";case om:return"Profiler";case Mh:return"StrictMode";case cm:return"Suspense";case dm:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Qb:return(s.displayName||"Context")+".Consumer";case Hb:return(s._context.displayName||"Context")+".Provider";case zh:var t=s.render;return s=s.displayName,s||(s=t.displayName||t.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Oh:return t=s.displayName||null,t!==null?t:um(s.type)||"Memo";case Ra:t=s._payload,s=s._init;try{return um(s(t))}catch{}}return null}function u4(s){var t=s.type;switch(s.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=t.render,s=s.displayName||s.name||"",t.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return um(t);case 8:return t===Mh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function an(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Yb(s){var t=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function x4(s){var t=Yb(s)?"checked":"value",r=Object.getOwnPropertyDescriptor(s.constructor.prototype,t),a=""+s[t];if(!s.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(s,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){a=""+l,o.call(this,l)}}),Object.defineProperty(s,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){s._valueTracker=null,delete s[t]}}}}function yc(s){s._valueTracker||(s._valueTracker=x4(s))}function Jb(s){if(!s)return!1;var t=s._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return s&&(a=Yb(s)?s.checked?"true":"false":s.value),s=a,s!==r?(t.setValue(s),!0):!1}function md(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function xm(s,t){var r=t.checked;return Jt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??s._wrapperState.initialChecked})}function Sf(s,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=an(t.value!=null?t.value:r),s._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xb(s,t){t=t.checked,t!=null&&Rh(s,"checked",t,!1)}function mm(s,t){Xb(s,t);var r=an(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+r):s.value!==""+r&&(s.value=""+r);else if(a==="submit"||a==="reset"){s.removeAttribute("value");return}t.hasOwnProperty("value")?hm(s,t.type,r):t.hasOwnProperty("defaultValue")&&hm(s,t.type,an(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(s.defaultChecked=!!t.defaultChecked)}function _f(s,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+s._wrapperState.initialValue,r||t===s.value||(s.value=t),s.defaultValue=t}r=s.name,r!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,r!==""&&(s.name=r)}function hm(s,t,r){(t!=="number"||md(s.ownerDocument)!==s)&&(r==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+r&&(s.defaultValue=""+r))}var Cl=Array.isArray;function ki(s,t,r,a){if(s=s.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<s.length;r++)i=t.hasOwnProperty("$"+s[r].value),s[r].selected!==i&&(s[r].selected=i),i&&a&&(s[r].defaultSelected=!0)}else{for(r=""+an(r),t=null,i=0;i<s.length;i++){if(s[i].value===r){s[i].selected=!0,a&&(s[i].defaultSelected=!0);return}t!==null||s[i].disabled||(t=s[i])}t!==null&&(t.selected=!0)}}function pm(s,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return Jt({},t,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Pf(s,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(_e(92));if(Cl(r)){if(1<r.length)throw Error(_e(93));r=r[0]}t=r}t==null&&(t=""),r=t}s._wrapperState={initialValue:an(r)}}function Zb(s,t){var r=an(t.value),a=an(t.defaultValue);r!=null&&(r=""+r,r!==s.value&&(s.value=r),t.defaultValue==null&&s.defaultValue!==r&&(s.defaultValue=r)),a!=null&&(s.defaultValue=""+a)}function Tf(s){var t=s.textContent;t===s._wrapperState.initialValue&&t!==""&&t!==null&&(s.value=t)}function ej(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fm(s,t){return s==null||s==="http://www.w3.org/1999/xhtml"?ej(t):s==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var bc,tj=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,i){MSApp.execUnsafeLocalFunction(function(){return s(t,r,a,i)})}:s}(function(s,t){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=t;else{for(bc=bc||document.createElement("div"),bc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bc.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;t.firstChild;)s.appendChild(t.firstChild)}});function Zl(s,t){if(t){var r=s.firstChild;if(r&&r===s.lastChild&&r.nodeType===3){r.nodeValue=t;return}}s.textContent=t}var Rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m4=["Webkit","ms","Moz","O"];Object.keys(Rl).forEach(function(s){m4.forEach(function(t){t=t+s.charAt(0).toUpperCase()+s.substring(1),Rl[t]=Rl[s]})});function sj(s,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Rl.hasOwnProperty(s)&&Rl[s]?(""+t).trim():t+"px"}function rj(s,t){s=s.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,i=sj(r,t[r],a);r==="float"&&(r="cssFloat"),a?s.setProperty(r,i):s[r]=i}}var h4=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gm(s,t){if(t){if(h4[s]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,s));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function ym(s,t){if(s.indexOf("-")===-1)return typeof t.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bm=null;function Lh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var jm=null,Ci=null,Ii=null;function Df(s){if(s=Ro(s)){if(typeof jm!="function")throw Error(_e(280));var t=s.stateNode;t&&(t=gu(t),jm(s.stateNode,s.type,t))}}function aj(s){Ci?Ii?Ii.push(s):Ii=[s]:Ci=s}function nj(){if(Ci){var s=Ci,t=Ii;if(Ii=Ci=null,Df(s),t)for(s=0;s<t.length;s++)Df(t[s])}}function ij(s,t){return s(t)}function lj(){}var vx=!1;function oj(s,t,r){if(vx)return s(t,r);vx=!0;try{return ij(s,t,r)}finally{vx=!1,(Ci!==null||Ii!==null)&&(lj(),nj())}}function eo(s,t){var r=s.stateNode;if(r===null)return null;var a=gu(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(s=s.type,a=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!a;break e;default:s=!1}if(s)return null;if(r&&typeof r!="function")throw Error(_e(231,t,typeof r));return r}var vm=!1;if(pa)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){vm=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{vm=!1}function p4(s,t,r,a,i,o,l,c,x){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(N){this.onError(N)}}var Ml=!1,hd=null,pd=!1,Nm=null,f4={onError:function(s){Ml=!0,hd=s}};function g4(s,t,r,a,i,o,l,c,x){Ml=!1,hd=null,p4.apply(f4,arguments)}function y4(s,t,r,a,i,o,l,c,x){if(g4.apply(this,arguments),Ml){if(Ml){var p=hd;Ml=!1,hd=null}else throw Error(_e(198));pd||(pd=!0,Nm=p)}}function Kn(s){var t=s,r=s;if(s.alternate)for(;t.return;)t=t.return;else{s=t;do t=s,t.flags&4098&&(r=t.return),s=t.return;while(s)}return t.tag===3?r:null}function cj(s){if(s.tag===13){var t=s.memoizedState;if(t===null&&(s=s.alternate,s!==null&&(t=s.memoizedState)),t!==null)return t.dehydrated}return null}function Af(s){if(Kn(s)!==s)throw Error(_e(188))}function b4(s){var t=s.alternate;if(!t){if(t=Kn(s),t===null)throw Error(_e(188));return t!==s?null:s}for(var r=s,a=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(a=i.return,a!==null){r=a;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Af(i),s;if(o===a)return Af(i),t;o=o.sibling}throw Error(_e(188))}if(r.return!==a.return)r=i,a=o;else{for(var l=!1,c=i.child;c;){if(c===r){l=!0,r=i,a=o;break}if(c===a){l=!0,a=i,r=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===r){l=!0,r=o,a=i;break}if(c===a){l=!0,a=o,r=i;break}c=c.sibling}if(!l)throw Error(_e(189))}}if(r.alternate!==a)throw Error(_e(190))}if(r.tag!==3)throw Error(_e(188));return r.stateNode.current===r?s:t}function dj(s){return s=b4(s),s!==null?uj(s):null}function uj(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var t=uj(s);if(t!==null)return t;s=s.sibling}return null}var xj=or.unstable_scheduleCallback,Rf=or.unstable_cancelCallback,j4=or.unstable_shouldYield,v4=or.unstable_requestPaint,as=or.unstable_now,N4=or.unstable_getCurrentPriorityLevel,Vh=or.unstable_ImmediatePriority,mj=or.unstable_UserBlockingPriority,fd=or.unstable_NormalPriority,w4=or.unstable_LowPriority,hj=or.unstable_IdlePriority,mu=null,Wr=null;function k4(s){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(mu,s,void 0,(s.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:E4,C4=Math.log,I4=Math.LN2;function E4(s){return s>>>=0,s===0?32:31-(C4(s)/I4|0)|0}var jc=64,vc=4194304;function Il(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function gd(s,t){var r=s.pendingLanes;if(r===0)return 0;var a=0,i=s.suspendedLanes,o=s.pingedLanes,l=r&268435455;if(l!==0){var c=l&~i;c!==0?a=Il(c):(o&=l,o!==0&&(a=Il(o)))}else l=r&~i,l!==0?a=Il(l):o!==0&&(a=Il(o));if(a===0)return 0;if(t!==0&&t!==a&&!(t&i)&&(i=a&-a,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(a&4&&(a|=r&16),t=s.entangledLanes,t!==0)for(s=s.entanglements,t&=a;0<t;)r=31-Pr(t),i=1<<r,a|=s[r],t&=~i;return a}function S4(s,t){switch(s){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _4(s,t){for(var r=s.suspendedLanes,a=s.pingedLanes,i=s.expirationTimes,o=s.pendingLanes;0<o;){var l=31-Pr(o),c=1<<l,x=i[l];x===-1?(!(c&r)||c&a)&&(i[l]=S4(c,t)):x<=t&&(s.expiredLanes|=c),o&=~c}}function wm(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function pj(){var s=jc;return jc<<=1,!(jc&4194240)&&(jc=64),s}function Nx(s){for(var t=[],r=0;31>r;r++)t.push(s);return t}function Do(s,t,r){s.pendingLanes|=t,t!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,t=31-Pr(t),s[t]=r}function P4(s,t){var r=s.pendingLanes&~t;s.pendingLanes=t,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=t,s.mutableReadLanes&=t,s.entangledLanes&=t,t=s.entanglements;var a=s.eventTimes;for(s=s.expirationTimes;0<r;){var i=31-Pr(r),o=1<<i;t[i]=0,a[i]=-1,s[i]=-1,r&=~o}}function Bh(s,t){var r=s.entangledLanes|=t;for(s=s.entanglements;r;){var a=31-Pr(r),i=1<<a;i&t|s[a]&t&&(s[a]|=t),r&=~i}}var _t=0;function fj(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var gj,Fh,yj,bj,jj,km=!1,Nc=[],Ga=null,Ha=null,Qa=null,to=new Map,so=new Map,za=[],T4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mf(s,t){switch(s){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":to.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":so.delete(t.pointerId)}}function pl(s,t,r,a,i,o){return s===null||s.nativeEvent!==o?(s={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ro(t),t!==null&&Fh(t)),s):(s.eventSystemFlags|=a,t=s.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),s)}function D4(s,t,r,a,i){switch(t){case"focusin":return Ga=pl(Ga,s,t,r,a,i),!0;case"dragenter":return Ha=pl(Ha,s,t,r,a,i),!0;case"mouseover":return Qa=pl(Qa,s,t,r,a,i),!0;case"pointerover":var o=i.pointerId;return to.set(o,pl(to.get(o)||null,s,t,r,a,i)),!0;case"gotpointercapture":return o=i.pointerId,so.set(o,pl(so.get(o)||null,s,t,r,a,i)),!0}return!1}function vj(s){var t=Sn(s.target);if(t!==null){var r=Kn(t);if(r!==null){if(t=r.tag,t===13){if(t=cj(r),t!==null){s.blockedOn=t,jj(s.priority,function(){yj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){s.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Wc(s){if(s.blockedOn!==null)return!1;for(var t=s.targetContainers;0<t.length;){var r=Cm(s.domEventName,s.eventSystemFlags,t[0],s.nativeEvent);if(r===null){r=s.nativeEvent;var a=new r.constructor(r.type,r);bm=a,r.target.dispatchEvent(a),bm=null}else return t=Ro(r),t!==null&&Fh(t),s.blockedOn=r,!1;t.shift()}return!0}function zf(s,t,r){Wc(s)&&r.delete(t)}function A4(){km=!1,Ga!==null&&Wc(Ga)&&(Ga=null),Ha!==null&&Wc(Ha)&&(Ha=null),Qa!==null&&Wc(Qa)&&(Qa=null),to.forEach(zf),so.forEach(zf)}function fl(s,t){s.blockedOn===t&&(s.blockedOn=null,km||(km=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,A4)))}function ro(s){function t(i){return fl(i,s)}if(0<Nc.length){fl(Nc[0],s);for(var r=1;r<Nc.length;r++){var a=Nc[r];a.blockedOn===s&&(a.blockedOn=null)}}for(Ga!==null&&fl(Ga,s),Ha!==null&&fl(Ha,s),Qa!==null&&fl(Qa,s),to.forEach(t),so.forEach(t),r=0;r<za.length;r++)a=za[r],a.blockedOn===s&&(a.blockedOn=null);for(;0<za.length&&(r=za[0],r.blockedOn===null);)vj(r),r.blockedOn===null&&za.shift()}var Ei=ka.ReactCurrentBatchConfig,yd=!0;function R4(s,t,r,a){var i=_t,o=Ei.transition;Ei.transition=null;try{_t=1,Uh(s,t,r,a)}finally{_t=i,Ei.transition=o}}function M4(s,t,r,a){var i=_t,o=Ei.transition;Ei.transition=null;try{_t=4,Uh(s,t,r,a)}finally{_t=i,Ei.transition=o}}function Uh(s,t,r,a){if(yd){var i=Cm(s,t,r,a);if(i===null)Dx(s,t,a,bd,r),Mf(s,a);else if(D4(i,s,t,r,a))a.stopPropagation();else if(Mf(s,a),t&4&&-1<T4.indexOf(s)){for(;i!==null;){var o=Ro(i);if(o!==null&&gj(o),o=Cm(s,t,r,a),o===null&&Dx(s,t,a,bd,r),o===i)break;i=o}i!==null&&a.stopPropagation()}else Dx(s,t,a,null,r)}}var bd=null;function Cm(s,t,r,a){if(bd=null,s=Lh(a),s=Sn(s),s!==null)if(t=Kn(s),t===null)s=null;else if(r=t.tag,r===13){if(s=cj(t),s!==null)return s;s=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;s=null}else t!==s&&(s=null);return bd=s,null}function Nj(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N4()){case Vh:return 1;case mj:return 4;case fd:case w4:return 16;case hj:return 536870912;default:return 16}default:return 16}}var Ua=null,$h=null,Gc=null;function wj(){if(Gc)return Gc;var s,t=$h,r=t.length,a,i="value"in Ua?Ua.value:Ua.textContent,o=i.length;for(s=0;s<r&&t[s]===i[s];s++);var l=r-s;for(a=1;a<=l&&t[r-a]===i[o-a];a++);return Gc=i.slice(s,1<a?1-a:void 0)}function Hc(s){var t=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&t===13&&(s=13)):s=t,s===10&&(s=13),32<=s||s===13?s:0}function wc(){return!0}function Of(){return!1}function dr(s){function t(r,a,i,o,l){this._reactName=r,this._targetInst=i,this.type=a,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var c in s)s.hasOwnProperty(c)&&(r=s[c],this[c]=r?r(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?wc:Of,this.isPropagationStopped=Of,this}return Jt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wc)},persist:function(){},isPersistent:wc}),t}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qh=dr(Ki),Ao=Jt({},Ki,{view:0,detail:0}),z4=dr(Ao),wx,kx,gl,hu=Jt({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==gl&&(gl&&s.type==="mousemove"?(wx=s.screenX-gl.screenX,kx=s.screenY-gl.screenY):kx=wx=0,gl=s),wx)},movementY:function(s){return"movementY"in s?s.movementY:kx}}),Lf=dr(hu),O4=Jt({},hu,{dataTransfer:0}),L4=dr(O4),V4=Jt({},Ao,{relatedTarget:0}),Cx=dr(V4),B4=Jt({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),F4=dr(B4),U4=Jt({},Ki,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$4=dr(U4),q4=Jt({},Ki,{data:0}),Vf=dr(q4),W4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q4(s){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(s):(s=H4[s])?!!t[s]:!1}function Wh(){return Q4}var K4=Jt({},Ao,{key:function(s){if(s.key){var t=W4[s.key]||s.key;if(t!=="Unidentified")return t}return s.type==="keypress"?(s=Hc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?G4[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wh,charCode:function(s){return s.type==="keypress"?Hc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Hc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Y4=dr(K4),J4=Jt({},hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bf=dr(J4),X4=Jt({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wh}),Z4=dr(X4),ek=Jt({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),tk=dr(ek),sk=Jt({},hu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),rk=dr(sk),ak=[9,13,27,32],Gh=pa&&"CompositionEvent"in window,zl=null;pa&&"documentMode"in document&&(zl=document.documentMode);var nk=pa&&"TextEvent"in window&&!zl,kj=pa&&(!Gh||zl&&8<zl&&11>=zl),Ff=String.fromCharCode(32),Uf=!1;function Cj(s,t){switch(s){case"keyup":return ak.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ij(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var xi=!1;function ik(s,t){switch(s){case"compositionend":return Ij(t);case"keypress":return t.which!==32?null:(Uf=!0,Ff);case"textInput":return s=t.data,s===Ff&&Uf?null:s;default:return null}}function lk(s,t){if(xi)return s==="compositionend"||!Gh&&Cj(s,t)?(s=wj(),Gc=$h=Ua=null,xi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kj&&t.locale!=="ko"?null:t.data;default:return null}}var ok={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $f(s){var t=s&&s.nodeName&&s.nodeName.toLowerCase();return t==="input"?!!ok[s.type]:t==="textarea"}function Ej(s,t,r,a){aj(a),t=jd(t,"onChange"),0<t.length&&(r=new qh("onChange","change",null,r,a),s.push({event:r,listeners:t}))}var Ol=null,ao=null;function ck(s){Lj(s,0)}function pu(s){var t=pi(s);if(Jb(t))return s}function dk(s,t){if(s==="change")return t}var Sj=!1;if(pa){var Ix;if(pa){var Ex="oninput"in document;if(!Ex){var qf=document.createElement("div");qf.setAttribute("oninput","return;"),Ex=typeof qf.oninput=="function"}Ix=Ex}else Ix=!1;Sj=Ix&&(!document.documentMode||9<document.documentMode)}function Wf(){Ol&&(Ol.detachEvent("onpropertychange",_j),ao=Ol=null)}function _j(s){if(s.propertyName==="value"&&pu(ao)){var t=[];Ej(t,ao,s,Lh(s)),oj(ck,t)}}function uk(s,t,r){s==="focusin"?(Wf(),Ol=t,ao=r,Ol.attachEvent("onpropertychange",_j)):s==="focusout"&&Wf()}function xk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pu(ao)}function mk(s,t){if(s==="click")return pu(t)}function hk(s,t){if(s==="input"||s==="change")return pu(t)}function pk(s,t){return s===t&&(s!==0||1/s===1/t)||s!==s&&t!==t}var Dr=typeof Object.is=="function"?Object.is:pk;function no(s,t){if(Dr(s,t))return!0;if(typeof s!="object"||s===null||typeof t!="object"||t===null)return!1;var r=Object.keys(s),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var i=r[a];if(!lm.call(t,i)||!Dr(s[i],t[i]))return!1}return!0}function Gf(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Hf(s,t){var r=Gf(s);s=0;for(var a;r;){if(r.nodeType===3){if(a=s+r.textContent.length,s<=t&&a>=t)return{node:r,offset:t-s};s=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gf(r)}}function Pj(s,t){return s&&t?s===t?!0:s&&s.nodeType===3?!1:t&&t.nodeType===3?Pj(s,t.parentNode):"contains"in s?s.contains(t):s.compareDocumentPosition?!!(s.compareDocumentPosition(t)&16):!1:!1}function Tj(){for(var s=window,t=md();t instanceof s.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)s=t.contentWindow;else break;t=md(s.document)}return t}function Hh(s){var t=s&&s.nodeName&&s.nodeName.toLowerCase();return t&&(t==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||t==="textarea"||s.contentEditable==="true")}function fk(s){var t=Tj(),r=s.focusedElem,a=s.selectionRange;if(t!==r&&r&&r.ownerDocument&&Pj(r.ownerDocument.documentElement,r)){if(a!==null&&Hh(r)){if(t=a.start,s=a.end,s===void 0&&(s=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(s,r.value.length);else if(s=(t=r.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var i=r.textContent.length,o=Math.min(a.start,i);a=a.end===void 0?o:Math.min(a.end,i),!s.extend&&o>a&&(i=a,a=o,o=i),i=Hf(r,o);var l=Hf(r,a);i&&l&&(s.rangeCount!==1||s.anchorNode!==i.node||s.anchorOffset!==i.offset||s.focusNode!==l.node||s.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),s.removeAllRanges(),o>a?(s.addRange(t),s.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),s.addRange(t)))}}for(t=[],s=r;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)s=t[r],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var gk=pa&&"documentMode"in document&&11>=document.documentMode,mi=null,Im=null,Ll=null,Em=!1;function Qf(s,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Em||mi==null||mi!==md(a)||(a=mi,"selectionStart"in a&&Hh(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ll&&no(Ll,a)||(Ll=a,a=jd(Im,"onSelect"),0<a.length&&(t=new qh("onSelect","select",null,t,r),s.push({event:t,listeners:a}),t.target=mi)))}function kc(s,t){var r={};return r[s.toLowerCase()]=t.toLowerCase(),r["Webkit"+s]="webkit"+t,r["Moz"+s]="moz"+t,r}var hi={animationend:kc("Animation","AnimationEnd"),animationiteration:kc("Animation","AnimationIteration"),animationstart:kc("Animation","AnimationStart"),transitionend:kc("Transition","TransitionEnd")},Sx={},Dj={};pa&&(Dj=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function fu(s){if(Sx[s])return Sx[s];if(!hi[s])return s;var t=hi[s],r;for(r in t)if(t.hasOwnProperty(r)&&r in Dj)return Sx[s]=t[r];return s}var Aj=fu("animationend"),Rj=fu("animationiteration"),Mj=fu("animationstart"),zj=fu("transitionend"),Oj=new Map,Kf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(s,t){Oj.set(s,t),Qn(t,[s])}for(var _x=0;_x<Kf.length;_x++){var Px=Kf[_x],yk=Px.toLowerCase(),bk=Px[0].toUpperCase()+Px.slice(1);hn(yk,"on"+bk)}hn(Aj,"onAnimationEnd");hn(Rj,"onAnimationIteration");hn(Mj,"onAnimationStart");hn("dblclick","onDoubleClick");hn("focusin","onFocus");hn("focusout","onBlur");hn(zj,"onTransitionEnd");Ri("onMouseEnter",["mouseout","mouseover"]);Ri("onMouseLeave",["mouseout","mouseover"]);Ri("onPointerEnter",["pointerout","pointerover"]);Ri("onPointerLeave",["pointerout","pointerover"]);Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jk=new Set("cancel close invalid load scroll toggle".split(" ").concat(El));function Yf(s,t,r){var a=s.type||"unknown-event";s.currentTarget=r,y4(a,t,void 0,s),s.currentTarget=null}function Lj(s,t){t=(t&4)!==0;for(var r=0;r<s.length;r++){var a=s[r],i=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var l=a.length-1;0<=l;l--){var c=a[l],x=c.instance,p=c.currentTarget;if(c=c.listener,x!==o&&i.isPropagationStopped())break e;Yf(i,c,p),o=x}else for(l=0;l<a.length;l++){if(c=a[l],x=c.instance,p=c.currentTarget,c=c.listener,x!==o&&i.isPropagationStopped())break e;Yf(i,c,p),o=x}}}if(pd)throw s=Nm,pd=!1,Nm=null,s}function $t(s,t){var r=t[Dm];r===void 0&&(r=t[Dm]=new Set);var a=s+"__bubble";r.has(a)||(Vj(t,s,2,!1),r.add(a))}function Tx(s,t,r){var a=0;t&&(a|=4),Vj(r,s,a,t)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function io(s){if(!s[Cc]){s[Cc]=!0,Gb.forEach(function(r){r!=="selectionchange"&&(jk.has(r)||Tx(r,!1,s),Tx(r,!0,s))});var t=s.nodeType===9?s:s.ownerDocument;t===null||t[Cc]||(t[Cc]=!0,Tx("selectionchange",!1,t))}}function Vj(s,t,r,a){switch(Nj(t)){case 1:var i=R4;break;case 4:i=M4;break;default:i=Uh}r=i.bind(null,t,r,s),i=void 0,!vm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?s.addEventListener(t,r,{capture:!0,passive:i}):s.addEventListener(t,r,!0):i!==void 0?s.addEventListener(t,r,{passive:i}):s.addEventListener(t,r,!1)}function Dx(s,t,r,a,i){var o=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var c=a.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(l===4)for(l=a.return;l!==null;){var x=l.tag;if((x===3||x===4)&&(x=l.stateNode.containerInfo,x===i||x.nodeType===8&&x.parentNode===i))return;l=l.return}for(;c!==null;){if(l=Sn(c),l===null)return;if(x=l.tag,x===5||x===6){a=o=l;continue e}c=c.parentNode}}a=a.return}oj(function(){var p=o,N=Lh(r),E=[];e:{var S=Oj.get(s);if(S!==void 0){var R=qh,y=s;switch(s){case"keypress":if(Hc(r)===0)break e;case"keydown":case"keyup":R=Y4;break;case"focusin":y="focus",R=Cx;break;case"focusout":y="blur",R=Cx;break;case"beforeblur":case"afterblur":R=Cx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=L4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Z4;break;case Aj:case Rj:case Mj:R=F4;break;case zj:R=tk;break;case"scroll":R=z4;break;case"wheel":R=rk;break;case"copy":case"cut":case"paste":R=$4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Bf}var V=(t&4)!==0,v=!V&&s==="scroll",P=V?S!==null?S+"Capture":null:S;V=[];for(var z=p,M;z!==null;){M=z;var H=M.stateNode;if(M.tag===5&&H!==null&&(M=H,P!==null&&(H=eo(z,P),H!=null&&V.push(lo(z,H,M)))),v)break;z=z.return}0<V.length&&(S=new R(S,y,null,r,N),E.push({event:S,listeners:V}))}}if(!(t&7)){e:{if(S=s==="mouseover"||s==="pointerover",R=s==="mouseout"||s==="pointerout",S&&r!==bm&&(y=r.relatedTarget||r.fromElement)&&(Sn(y)||y[fa]))break e;if((R||S)&&(S=N.window===N?N:(S=N.ownerDocument)?S.defaultView||S.parentWindow:window,R?(y=r.relatedTarget||r.toElement,R=p,y=y?Sn(y):null,y!==null&&(v=Kn(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(R=null,y=p),R!==y)){if(V=Lf,H="onMouseLeave",P="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(V=Bf,H="onPointerLeave",P="onPointerEnter",z="pointer"),v=R==null?S:pi(R),M=y==null?S:pi(y),S=new V(H,z+"leave",R,r,N),S.target=v,S.relatedTarget=M,H=null,Sn(N)===p&&(V=new V(P,z+"enter",y,r,N),V.target=M,V.relatedTarget=v,H=V),v=H,R&&y)t:{for(V=R,P=y,z=0,M=V;M;M=ni(M))z++;for(M=0,H=P;H;H=ni(H))M++;for(;0<z-M;)V=ni(V),z--;for(;0<M-z;)P=ni(P),M--;for(;z--;){if(V===P||P!==null&&V===P.alternate)break t;V=ni(V),P=ni(P)}V=null}else V=null;R!==null&&Jf(E,S,R,V,!1),y!==null&&v!==null&&Jf(E,v,y,V,!0)}}e:{if(S=p?pi(p):window,R=S.nodeName&&S.nodeName.toLowerCase(),R==="select"||R==="input"&&S.type==="file")var Q=dk;else if($f(S))if(Sj)Q=hk;else{Q=xk;var W=uk}else(R=S.nodeName)&&R.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(Q=mk);if(Q&&(Q=Q(s,p))){Ej(E,Q,r,N);break e}W&&W(s,S,p),s==="focusout"&&(W=S._wrapperState)&&W.controlled&&S.type==="number"&&hm(S,"number",S.value)}switch(W=p?pi(p):window,s){case"focusin":($f(W)||W.contentEditable==="true")&&(mi=W,Im=p,Ll=null);break;case"focusout":Ll=Im=mi=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,Qf(E,r,N);break;case"selectionchange":if(gk)break;case"keydown":case"keyup":Qf(E,r,N)}var D;if(Gh)e:{switch(s){case"compositionstart":var d="onCompositionStart";break e;case"compositionend":d="onCompositionEnd";break e;case"compositionupdate":d="onCompositionUpdate";break e}d=void 0}else xi?Cj(s,r)&&(d="onCompositionEnd"):s==="keydown"&&r.keyCode===229&&(d="onCompositionStart");d&&(kj&&r.locale!=="ko"&&(xi||d!=="onCompositionStart"?d==="onCompositionEnd"&&xi&&(D=wj()):(Ua=N,$h="value"in Ua?Ua.value:Ua.textContent,xi=!0)),W=jd(p,d),0<W.length&&(d=new Vf(d,s,null,r,N),E.push({event:d,listeners:W}),D?d.data=D:(D=Ij(r),D!==null&&(d.data=D)))),(D=nk?ik(s,r):lk(s,r))&&(p=jd(p,"onBeforeInput"),0<p.length&&(N=new Vf("onBeforeInput","beforeinput",null,r,N),E.push({event:N,listeners:p}),N.data=D))}Lj(E,t)})}function lo(s,t,r){return{instance:s,listener:t,currentTarget:r}}function jd(s,t){for(var r=t+"Capture",a=[];s!==null;){var i=s,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=eo(s,r),o!=null&&a.unshift(lo(s,o,i)),o=eo(s,t),o!=null&&a.push(lo(s,o,i))),s=s.return}return a}function ni(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Jf(s,t,r,a,i){for(var o=t._reactName,l=[];r!==null&&r!==a;){var c=r,x=c.alternate,p=c.stateNode;if(x!==null&&x===a)break;c.tag===5&&p!==null&&(c=p,i?(x=eo(r,o),x!=null&&l.unshift(lo(r,x,c))):i||(x=eo(r,o),x!=null&&l.push(lo(r,x,c)))),r=r.return}l.length!==0&&s.push({event:t,listeners:l})}var vk=/\r\n?/g,Nk=/\u0000|\uFFFD/g;function Xf(s){return(typeof s=="string"?s:""+s).replace(vk,`
`).replace(Nk,"")}function Ic(s,t,r){if(t=Xf(t),Xf(s)!==t&&r)throw Error(_e(425))}function vd(){}var Sm=null,_m=null;function Pm(s,t){return s==="textarea"||s==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tm=typeof setTimeout=="function"?setTimeout:void 0,wk=typeof clearTimeout=="function"?clearTimeout:void 0,Zf=typeof Promise=="function"?Promise:void 0,kk=typeof queueMicrotask=="function"?queueMicrotask:typeof Zf<"u"?function(s){return Zf.resolve(null).then(s).catch(Ck)}:Tm;function Ck(s){setTimeout(function(){throw s})}function Ax(s,t){var r=t,a=0;do{var i=r.nextSibling;if(s.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(a===0){s.removeChild(i),ro(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=i}while(r);ro(t)}function Ka(s){for(;s!=null;s=s.nextSibling){var t=s.nodeType;if(t===1||t===3)break;if(t===8){if(t=s.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return s}function eg(s){s=s.previousSibling;for(var t=0;s;){if(s.nodeType===8){var r=s.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return s;t--}else r==="/$"&&t++}s=s.previousSibling}return null}var Yi=Math.random().toString(36).slice(2),$r="__reactFiber$"+Yi,oo="__reactProps$"+Yi,fa="__reactContainer$"+Yi,Dm="__reactEvents$"+Yi,Ik="__reactListeners$"+Yi,Ek="__reactHandles$"+Yi;function Sn(s){var t=s[$r];if(t)return t;for(var r=s.parentNode;r;){if(t=r[fa]||r[$r]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(s=eg(s);s!==null;){if(r=s[$r])return r;s=eg(s)}return t}s=r,r=s.parentNode}return null}function Ro(s){return s=s[$r]||s[fa],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function pi(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(_e(33))}function gu(s){return s[oo]||null}var Am=[],fi=-1;function pn(s){return{current:s}}function Wt(s){0>fi||(s.current=Am[fi],Am[fi]=null,fi--)}function Vt(s,t){fi++,Am[fi]=s.current,s.current=t}var nn={},Rs=pn(nn),Qs=pn(!1),zn=nn;function Mi(s,t){var r=s.type.contextTypes;if(!r)return nn;var a=s.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return a&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=t,s.__reactInternalMemoizedMaskedChildContext=i),i}function Ks(s){return s=s.childContextTypes,s!=null}function Nd(){Wt(Qs),Wt(Rs)}function tg(s,t,r){if(Rs.current!==nn)throw Error(_e(168));Vt(Rs,t),Vt(Qs,r)}function Bj(s,t,r){var a=s.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var i in a)if(!(i in t))throw Error(_e(108,u4(s)||"Unknown",i));return Jt({},r,a)}function wd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||nn,zn=Rs.current,Vt(Rs,s),Vt(Qs,Qs.current),!0}function sg(s,t,r){var a=s.stateNode;if(!a)throw Error(_e(169));r?(s=Bj(s,t,zn),a.__reactInternalMemoizedMergedChildContext=s,Wt(Qs),Wt(Rs),Vt(Rs,s)):Wt(Qs),Vt(Qs,r)}var la=null,yu=!1,Rx=!1;function Fj(s){la===null?la=[s]:la.push(s)}function Sk(s){yu=!0,Fj(s)}function fn(){if(!Rx&&la!==null){Rx=!0;var s=0,t=_t;try{var r=la;for(_t=1;s<r.length;s++){var a=r[s];do a=a(!0);while(a!==null)}la=null,yu=!1}catch(i){throw la!==null&&(la=la.slice(s+1)),xj(Vh,fn),i}finally{_t=t,Rx=!1}}return null}var gi=[],yi=0,kd=null,Cd=0,hr=[],pr=0,On=null,oa=1,ca="";function Cn(s,t){gi[yi++]=Cd,gi[yi++]=kd,kd=s,Cd=t}function Uj(s,t,r){hr[pr++]=oa,hr[pr++]=ca,hr[pr++]=On,On=s;var a=oa;s=ca;var i=32-Pr(a)-1;a&=~(1<<i),r+=1;var o=32-Pr(t)+i;if(30<o){var l=i-i%5;o=(a&(1<<l)-1).toString(32),a>>=l,i-=l,oa=1<<32-Pr(t)+i|r<<i|a,ca=o+s}else oa=1<<o|r<<i|a,ca=s}function Qh(s){s.return!==null&&(Cn(s,1),Uj(s,1,0))}function Kh(s){for(;s===kd;)kd=gi[--yi],gi[yi]=null,Cd=gi[--yi],gi[yi]=null;for(;s===On;)On=hr[--pr],hr[pr]=null,ca=hr[--pr],hr[pr]=null,oa=hr[--pr],hr[pr]=null}var nr=null,rr=null,Gt=!1,Ir=null;function $j(s,t){var r=fr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=s,t=s.deletions,t===null?(s.deletions=[r],s.flags|=16):t.push(r)}function rg(s,t){switch(s.tag){case 5:var r=s.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(s.stateNode=t,nr=s,rr=Ka(t.firstChild),!0):!1;case 6:return t=s.pendingProps===""||t.nodeType!==3?null:t,t!==null?(s.stateNode=t,nr=s,rr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=On!==null?{id:oa,overflow:ca}:null,s.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=fr(18,null,null,0),r.stateNode=t,r.return=s,s.child=r,nr=s,rr=null,!0):!1;default:return!1}}function Rm(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Mm(s){if(Gt){var t=rr;if(t){var r=t;if(!rg(s,t)){if(Rm(s))throw Error(_e(418));t=Ka(r.nextSibling);var a=nr;t&&rg(s,t)?$j(a,r):(s.flags=s.flags&-4097|2,Gt=!1,nr=s)}}else{if(Rm(s))throw Error(_e(418));s.flags=s.flags&-4097|2,Gt=!1,nr=s}}}function ag(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;nr=s}function Ec(s){if(s!==nr)return!1;if(!Gt)return ag(s),Gt=!0,!1;var t;if((t=s.tag!==3)&&!(t=s.tag!==5)&&(t=s.type,t=t!=="head"&&t!=="body"&&!Pm(s.type,s.memoizedProps)),t&&(t=rr)){if(Rm(s))throw qj(),Error(_e(418));for(;t;)$j(s,t),t=Ka(t.nextSibling)}if(ag(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_e(317));e:{for(s=s.nextSibling,t=0;s;){if(s.nodeType===8){var r=s.data;if(r==="/$"){if(t===0){rr=Ka(s.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}s=s.nextSibling}rr=null}}else rr=nr?Ka(s.stateNode.nextSibling):null;return!0}function qj(){for(var s=rr;s;)s=Ka(s.nextSibling)}function zi(){rr=nr=null,Gt=!1}function Yh(s){Ir===null?Ir=[s]:Ir.push(s)}var _k=ka.ReactCurrentBatchConfig;function yl(s,t,r){if(s=r.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_e(309));var a=r.stateNode}if(!a)throw Error(_e(147,s));var i=a,o=""+s;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var c=i.refs;l===null?delete c[o]:c[o]=l},t._stringRef=o,t)}if(typeof s!="string")throw Error(_e(284));if(!r._owner)throw Error(_e(290,s))}return s}function Sc(s,t){throw s=Object.prototype.toString.call(t),Error(_e(31,s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s))}function ng(s){var t=s._init;return t(s._payload)}function Wj(s){function t(P,z){if(s){var M=P.deletions;M===null?(P.deletions=[z],P.flags|=16):M.push(z)}}function r(P,z){if(!s)return null;for(;z!==null;)t(P,z),z=z.sibling;return null}function a(P,z){for(P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function i(P,z){return P=Za(P,z),P.index=0,P.sibling=null,P}function o(P,z,M){return P.index=M,s?(M=P.alternate,M!==null?(M=M.index,M<z?(P.flags|=2,z):M):(P.flags|=2,z)):(P.flags|=1048576,z)}function l(P){return s&&P.alternate===null&&(P.flags|=2),P}function c(P,z,M,H){return z===null||z.tag!==6?(z=Fx(M,P.mode,H),z.return=P,z):(z=i(z,M),z.return=P,z)}function x(P,z,M,H){var Q=M.type;return Q===ui?N(P,z,M.props.children,H,M.key):z!==null&&(z.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Ra&&ng(Q)===z.type)?(H=i(z,M.props),H.ref=yl(P,z,M),H.return=P,H):(H=ed(M.type,M.key,M.props,null,P.mode,H),H.ref=yl(P,z,M),H.return=P,H)}function p(P,z,M,H){return z===null||z.tag!==4||z.stateNode.containerInfo!==M.containerInfo||z.stateNode.implementation!==M.implementation?(z=Ux(M,P.mode,H),z.return=P,z):(z=i(z,M.children||[]),z.return=P,z)}function N(P,z,M,H,Q){return z===null||z.tag!==7?(z=Rn(M,P.mode,H,Q),z.return=P,z):(z=i(z,M),z.return=P,z)}function E(P,z,M){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Fx(""+z,P.mode,M),z.return=P,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case gc:return M=ed(z.type,z.key,z.props,null,P.mode,M),M.ref=yl(P,null,z),M.return=P,M;case di:return z=Ux(z,P.mode,M),z.return=P,z;case Ra:var H=z._init;return E(P,H(z._payload),M)}if(Cl(z)||ml(z))return z=Rn(z,P.mode,M,null),z.return=P,z;Sc(P,z)}return null}function S(P,z,M,H){var Q=z!==null?z.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return Q!==null?null:c(P,z,""+M,H);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case gc:return M.key===Q?x(P,z,M,H):null;case di:return M.key===Q?p(P,z,M,H):null;case Ra:return Q=M._init,S(P,z,Q(M._payload),H)}if(Cl(M)||ml(M))return Q!==null?null:N(P,z,M,H,null);Sc(P,M)}return null}function R(P,z,M,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number")return P=P.get(M)||null,c(z,P,""+H,Q);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case gc:return P=P.get(H.key===null?M:H.key)||null,x(z,P,H,Q);case di:return P=P.get(H.key===null?M:H.key)||null,p(z,P,H,Q);case Ra:var W=H._init;return R(P,z,M,W(H._payload),Q)}if(Cl(H)||ml(H))return P=P.get(M)||null,N(z,P,H,Q,null);Sc(z,H)}return null}function y(P,z,M,H){for(var Q=null,W=null,D=z,d=z=0,$=null;D!==null&&d<M.length;d++){D.index>d?($=D,D=null):$=D.sibling;var B=S(P,D,M[d],H);if(B===null){D===null&&(D=$);break}s&&D&&B.alternate===null&&t(P,D),z=o(B,z,d),W===null?Q=B:W.sibling=B,W=B,D=$}if(d===M.length)return r(P,D),Gt&&Cn(P,d),Q;if(D===null){for(;d<M.length;d++)D=E(P,M[d],H),D!==null&&(z=o(D,z,d),W===null?Q=D:W.sibling=D,W=D);return Gt&&Cn(P,d),Q}for(D=a(P,D);d<M.length;d++)$=R(D,P,d,M[d],H),$!==null&&(s&&$.alternate!==null&&D.delete($.key===null?d:$.key),z=o($,z,d),W===null?Q=$:W.sibling=$,W=$);return s&&D.forEach(function(J){return t(P,J)}),Gt&&Cn(P,d),Q}function V(P,z,M,H){var Q=ml(M);if(typeof Q!="function")throw Error(_e(150));if(M=Q.call(M),M==null)throw Error(_e(151));for(var W=Q=null,D=z,d=z=0,$=null,B=M.next();D!==null&&!B.done;d++,B=M.next()){D.index>d?($=D,D=null):$=D.sibling;var J=S(P,D,B.value,H);if(J===null){D===null&&(D=$);break}s&&D&&J.alternate===null&&t(P,D),z=o(J,z,d),W===null?Q=J:W.sibling=J,W=J,D=$}if(B.done)return r(P,D),Gt&&Cn(P,d),Q;if(D===null){for(;!B.done;d++,B=M.next())B=E(P,B.value,H),B!==null&&(z=o(B,z,d),W===null?Q=B:W.sibling=B,W=B);return Gt&&Cn(P,d),Q}for(D=a(P,D);!B.done;d++,B=M.next())B=R(D,P,d,B.value,H),B!==null&&(s&&B.alternate!==null&&D.delete(B.key===null?d:B.key),z=o(B,z,d),W===null?Q=B:W.sibling=B,W=B);return s&&D.forEach(function(_){return t(P,_)}),Gt&&Cn(P,d),Q}function v(P,z,M,H){if(typeof M=="object"&&M!==null&&M.type===ui&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case gc:e:{for(var Q=M.key,W=z;W!==null;){if(W.key===Q){if(Q=M.type,Q===ui){if(W.tag===7){r(P,W.sibling),z=i(W,M.props.children),z.return=P,P=z;break e}}else if(W.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Ra&&ng(Q)===W.type){r(P,W.sibling),z=i(W,M.props),z.ref=yl(P,W,M),z.return=P,P=z;break e}r(P,W);break}else t(P,W);W=W.sibling}M.type===ui?(z=Rn(M.props.children,P.mode,H,M.key),z.return=P,P=z):(H=ed(M.type,M.key,M.props,null,P.mode,H),H.ref=yl(P,z,M),H.return=P,P=H)}return l(P);case di:e:{for(W=M.key;z!==null;){if(z.key===W)if(z.tag===4&&z.stateNode.containerInfo===M.containerInfo&&z.stateNode.implementation===M.implementation){r(P,z.sibling),z=i(z,M.children||[]),z.return=P,P=z;break e}else{r(P,z);break}else t(P,z);z=z.sibling}z=Ux(M,P.mode,H),z.return=P,P=z}return l(P);case Ra:return W=M._init,v(P,z,W(M._payload),H)}if(Cl(M))return y(P,z,M,H);if(ml(M))return V(P,z,M,H);Sc(P,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,z!==null&&z.tag===6?(r(P,z.sibling),z=i(z,M),z.return=P,P=z):(r(P,z),z=Fx(M,P.mode,H),z.return=P,P=z),l(P)):r(P,z)}return v}var Oi=Wj(!0),Gj=Wj(!1),Id=pn(null),Ed=null,bi=null,Jh=null;function Xh(){Jh=bi=Ed=null}function Zh(s){var t=Id.current;Wt(Id),s._currentValue=t}function zm(s,t,r){for(;s!==null;){var a=s.alternate;if((s.childLanes&t)!==t?(s.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),s===r)break;s=s.return}}function Si(s,t){Ed=s,Jh=bi=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&t&&(Hs=!0),s.firstContext=null)}function yr(s){var t=s._currentValue;if(Jh!==s)if(s={context:s,memoizedValue:t,next:null},bi===null){if(Ed===null)throw Error(_e(308));bi=s,Ed.dependencies={lanes:0,firstContext:s}}else bi=bi.next=s;return t}var _n=null;function e0(s){_n===null?_n=[s]:_n.push(s)}function Hj(s,t,r,a){var i=t.interleaved;return i===null?(r.next=r,e0(t)):(r.next=i.next,i.next=r),t.interleaved=r,ga(s,a)}function ga(s,t){s.lanes|=t;var r=s.alternate;for(r!==null&&(r.lanes|=t),r=s,s=s.return;s!==null;)s.childLanes|=t,r=s.alternate,r!==null&&(r.childLanes|=t),r=s,s=s.return;return r.tag===3?r.stateNode:null}var Ma=!1;function t0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qj(s,t){s=s.updateQueue,t.updateQueue===s&&(t.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function xa(s,t){return{eventTime:s,lane:t,tag:0,payload:null,callback:null,next:null}}function Ya(s,t,r){var a=s.updateQueue;if(a===null)return null;if(a=a.shared,wt&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,ga(s,r)}return i=a.interleaved,i===null?(t.next=t,e0(a)):(t.next=i.next,i.next=t),a.interleaved=t,ga(s,r)}function Qc(s,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=s.pendingLanes,r|=a,t.lanes=r,Bh(s,r)}}function ig(s,t){var r=s.updateQueue,a=s.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=l:o=o.next=l,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:a.shared,effects:a.effects},s.updateQueue=r;return}s=r.lastBaseUpdate,s===null?r.firstBaseUpdate=t:s.next=t,r.lastBaseUpdate=t}function Sd(s,t,r,a){var i=s.updateQueue;Ma=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var x=c,p=x.next;x.next=null,l===null?o=p:l.next=p,l=x;var N=s.alternate;N!==null&&(N=N.updateQueue,c=N.lastBaseUpdate,c!==l&&(c===null?N.firstBaseUpdate=p:c.next=p,N.lastBaseUpdate=x))}if(o!==null){var E=i.baseState;l=0,N=p=x=null,c=o;do{var S=c.lane,R=c.eventTime;if((a&S)===S){N!==null&&(N=N.next={eventTime:R,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var y=s,V=c;switch(S=t,R=r,V.tag){case 1:if(y=V.payload,typeof y=="function"){E=y.call(R,E,S);break e}E=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=V.payload,S=typeof y=="function"?y.call(R,E,S):y,S==null)break e;E=Jt({},E,S);break e;case 2:Ma=!0}}c.callback!==null&&c.lane!==0&&(s.flags|=64,S=i.effects,S===null?i.effects=[c]:S.push(c))}else R={eventTime:R,lane:S,tag:c.tag,payload:c.payload,callback:c.callback,next:null},N===null?(p=N=R,x=E):N=N.next=R,l|=S;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;S=c,c=S.next,S.next=null,i.lastBaseUpdate=S,i.shared.pending=null}}while(1);if(N===null&&(x=E),i.baseState=x,i.firstBaseUpdate=p,i.lastBaseUpdate=N,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Vn|=l,s.lanes=l,s.memoizedState=E}}function lg(s,t,r){if(s=t.effects,t.effects=null,s!==null)for(t=0;t<s.length;t++){var a=s[t],i=a.callback;if(i!==null){if(a.callback=null,a=r,typeof i!="function")throw Error(_e(191,i));i.call(a)}}}var Mo={},Gr=pn(Mo),co=pn(Mo),uo=pn(Mo);function Pn(s){if(s===Mo)throw Error(_e(174));return s}function s0(s,t){switch(Vt(uo,t),Vt(co,s),Vt(Gr,Mo),s=t.nodeType,s){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fm(null,"");break;default:s=s===8?t.parentNode:t,t=s.namespaceURI||null,s=s.tagName,t=fm(t,s)}Wt(Gr),Vt(Gr,t)}function Li(){Wt(Gr),Wt(co),Wt(uo)}function Kj(s){Pn(uo.current);var t=Pn(Gr.current),r=fm(t,s.type);t!==r&&(Vt(co,s),Vt(Gr,r))}function r0(s){co.current===s&&(Wt(Gr),Wt(co))}var Ht=pn(0);function _d(s){for(var t=s;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break;for(;t.sibling===null;){if(t.return===null||t.return===s)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mx=[];function a0(){for(var s=0;s<Mx.length;s++)Mx[s]._workInProgressVersionPrimary=null;Mx.length=0}var Kc=ka.ReactCurrentDispatcher,zx=ka.ReactCurrentBatchConfig,Ln=0,Qt=null,os=null,ms=null,Pd=!1,Vl=!1,xo=0,Pk=0;function _s(){throw Error(_e(321))}function n0(s,t){if(t===null)return!1;for(var r=0;r<t.length&&r<s.length;r++)if(!Dr(s[r],t[r]))return!1;return!0}function i0(s,t,r,a,i,o){if(Ln=o,Qt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kc.current=s===null||s.memoizedState===null?Rk:Mk,s=r(a,i),Vl){o=0;do{if(Vl=!1,xo=0,25<=o)throw Error(_e(301));o+=1,ms=os=null,t.updateQueue=null,Kc.current=zk,s=r(a,i)}while(Vl)}if(Kc.current=Td,t=os!==null&&os.next!==null,Ln=0,ms=os=Qt=null,Pd=!1,t)throw Error(_e(300));return s}function l0(){var s=xo!==0;return xo=0,s}function Fr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ms===null?Qt.memoizedState=ms=s:ms=ms.next=s,ms}function br(){if(os===null){var s=Qt.alternate;s=s!==null?s.memoizedState:null}else s=os.next;var t=ms===null?Qt.memoizedState:ms.next;if(t!==null)ms=t,os=s;else{if(s===null)throw Error(_e(310));os=s,s={memoizedState:os.memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},ms===null?Qt.memoizedState=ms=s:ms=ms.next=s}return ms}function mo(s,t){return typeof t=="function"?t(s):t}function Ox(s){var t=br(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=s;var a=os,i=a.baseQueue,o=r.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}a.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,a=a.baseState;var c=l=null,x=null,p=o;do{var N=p.lane;if((Ln&N)===N)x!==null&&(x=x.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),a=p.hasEagerState?p.eagerState:s(a,p.action);else{var E={lane:N,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};x===null?(c=x=E,l=a):x=x.next=E,Qt.lanes|=N,Vn|=N}p=p.next}while(p!==null&&p!==o);x===null?l=a:x.next=c,Dr(a,t.memoizedState)||(Hs=!0),t.memoizedState=a,t.baseState=l,t.baseQueue=x,r.lastRenderedState=a}if(s=r.interleaved,s!==null){i=s;do o=i.lane,Qt.lanes|=o,Vn|=o,i=i.next;while(i!==s)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Lx(s){var t=br(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=s;var a=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do o=s(o,l.action),l=l.next;while(l!==i);Dr(o,t.memoizedState)||(Hs=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,a]}function Yj(){}function Jj(s,t){var r=Qt,a=br(),i=t(),o=!Dr(a.memoizedState,i);if(o&&(a.memoizedState=i,Hs=!0),a=a.queue,o0(ev.bind(null,r,a,s),[s]),a.getSnapshot!==t||o||ms!==null&&ms.memoizedState.tag&1){if(r.flags|=2048,ho(9,Zj.bind(null,r,a,i,t),void 0,null),fs===null)throw Error(_e(349));Ln&30||Xj(r,t,i)}return i}function Xj(s,t,r){s.flags|=16384,s={getSnapshot:t,value:r},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.stores=[s]):(r=t.stores,r===null?t.stores=[s]:r.push(s))}function Zj(s,t,r,a){t.value=r,t.getSnapshot=a,tv(t)&&sv(s)}function ev(s,t,r){return r(function(){tv(t)&&sv(s)})}function tv(s){var t=s.getSnapshot;s=s.value;try{var r=t();return!Dr(s,r)}catch{return!0}}function sv(s){var t=ga(s,1);t!==null&&Tr(t,s,1,-1)}function og(s){var t=Fr();return typeof s=="function"&&(s=s()),t.memoizedState=t.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:s},t.queue=s,s=s.dispatch=Ak.bind(null,Qt,s),[t.memoizedState,s]}function ho(s,t,r,a){return s={tag:s,create:t,destroy:r,deps:a,next:null},t=Qt.updateQueue,t===null?(t={lastEffect:null,stores:null},Qt.updateQueue=t,t.lastEffect=s.next=s):(r=t.lastEffect,r===null?t.lastEffect=s.next=s:(a=r.next,r.next=s,s.next=a,t.lastEffect=s)),s}function rv(){return br().memoizedState}function Yc(s,t,r,a){var i=Fr();Qt.flags|=s,i.memoizedState=ho(1|t,r,void 0,a===void 0?null:a)}function bu(s,t,r,a){var i=br();a=a===void 0?null:a;var o=void 0;if(os!==null){var l=os.memoizedState;if(o=l.destroy,a!==null&&n0(a,l.deps)){i.memoizedState=ho(t,r,o,a);return}}Qt.flags|=s,i.memoizedState=ho(1|t,r,o,a)}function cg(s,t){return Yc(8390656,8,s,t)}function o0(s,t){return bu(2048,8,s,t)}function av(s,t){return bu(4,2,s,t)}function nv(s,t){return bu(4,4,s,t)}function iv(s,t){if(typeof t=="function")return s=s(),t(s),function(){t(null)};if(t!=null)return s=s(),t.current=s,function(){t.current=null}}function lv(s,t,r){return r=r!=null?r.concat([s]):null,bu(4,4,iv.bind(null,t,s),r)}function c0(){}function ov(s,t){var r=br();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&n0(t,a[1])?a[0]:(r.memoizedState=[s,t],s)}function cv(s,t){var r=br();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&n0(t,a[1])?a[0]:(s=s(),r.memoizedState=[s,t],s)}function dv(s,t,r){return Ln&21?(Dr(r,t)||(r=pj(),Qt.lanes|=r,Vn|=r,s.baseState=!0),t):(s.baseState&&(s.baseState=!1,Hs=!0),s.memoizedState=r)}function Tk(s,t){var r=_t;_t=r!==0&&4>r?r:4,s(!0);var a=zx.transition;zx.transition={};try{s(!1),t()}finally{_t=r,zx.transition=a}}function uv(){return br().memoizedState}function Dk(s,t,r){var a=Xa(s);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},xv(s))mv(t,r);else if(r=Hj(s,t,r,a),r!==null){var i=Vs();Tr(r,s,a,i),hv(r,t,a)}}function Ak(s,t,r){var a=Xa(s),i={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(xv(s))mv(t,i);else{var o=s.alternate;if(s.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,c=o(l,r);if(i.hasEagerState=!0,i.eagerState=c,Dr(c,l)){var x=t.interleaved;x===null?(i.next=i,e0(t)):(i.next=x.next,x.next=i),t.interleaved=i;return}}catch{}finally{}r=Hj(s,t,i,a),r!==null&&(i=Vs(),Tr(r,s,a,i),hv(r,t,a))}}function xv(s){var t=s.alternate;return s===Qt||t!==null&&t===Qt}function mv(s,t){Vl=Pd=!0;var r=s.pending;r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t}function hv(s,t,r){if(r&4194240){var a=t.lanes;a&=s.pendingLanes,r|=a,t.lanes=r,Bh(s,r)}}var Td={readContext:yr,useCallback:_s,useContext:_s,useEffect:_s,useImperativeHandle:_s,useInsertionEffect:_s,useLayoutEffect:_s,useMemo:_s,useReducer:_s,useRef:_s,useState:_s,useDebugValue:_s,useDeferredValue:_s,useTransition:_s,useMutableSource:_s,useSyncExternalStore:_s,useId:_s,unstable_isNewReconciler:!1},Rk={readContext:yr,useCallback:function(s,t){return Fr().memoizedState=[s,t===void 0?null:t],s},useContext:yr,useEffect:cg,useImperativeHandle:function(s,t,r){return r=r!=null?r.concat([s]):null,Yc(4194308,4,iv.bind(null,t,s),r)},useLayoutEffect:function(s,t){return Yc(4194308,4,s,t)},useInsertionEffect:function(s,t){return Yc(4,2,s,t)},useMemo:function(s,t){var r=Fr();return t=t===void 0?null:t,s=s(),r.memoizedState=[s,t],s},useReducer:function(s,t,r){var a=Fr();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:t},a.queue=s,s=s.dispatch=Dk.bind(null,Qt,s),[a.memoizedState,s]},useRef:function(s){var t=Fr();return s={current:s},t.memoizedState=s},useState:og,useDebugValue:c0,useDeferredValue:function(s){return Fr().memoizedState=s},useTransition:function(){var s=og(!1),t=s[0];return s=Tk.bind(null,s[1]),Fr().memoizedState=s,[t,s]},useMutableSource:function(){},useSyncExternalStore:function(s,t,r){var a=Qt,i=Fr();if(Gt){if(r===void 0)throw Error(_e(407));r=r()}else{if(r=t(),fs===null)throw Error(_e(349));Ln&30||Xj(a,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,cg(ev.bind(null,a,o,s),[s]),a.flags|=2048,ho(9,Zj.bind(null,a,o,r,t),void 0,null),r},useId:function(){var s=Fr(),t=fs.identifierPrefix;if(Gt){var r=ca,a=oa;r=(a&~(1<<32-Pr(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=xo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Pk++,t=":"+t+"r"+r.toString(32)+":";return s.memoizedState=t},unstable_isNewReconciler:!1},Mk={readContext:yr,useCallback:ov,useContext:yr,useEffect:o0,useImperativeHandle:lv,useInsertionEffect:av,useLayoutEffect:nv,useMemo:cv,useReducer:Ox,useRef:rv,useState:function(){return Ox(mo)},useDebugValue:c0,useDeferredValue:function(s){var t=br();return dv(t,os.memoizedState,s)},useTransition:function(){var s=Ox(mo)[0],t=br().memoizedState;return[s,t]},useMutableSource:Yj,useSyncExternalStore:Jj,useId:uv,unstable_isNewReconciler:!1},zk={readContext:yr,useCallback:ov,useContext:yr,useEffect:o0,useImperativeHandle:lv,useInsertionEffect:av,useLayoutEffect:nv,useMemo:cv,useReducer:Lx,useRef:rv,useState:function(){return Lx(mo)},useDebugValue:c0,useDeferredValue:function(s){var t=br();return os===null?t.memoizedState=s:dv(t,os.memoizedState,s)},useTransition:function(){var s=Lx(mo)[0],t=br().memoizedState;return[s,t]},useMutableSource:Yj,useSyncExternalStore:Jj,useId:uv,unstable_isNewReconciler:!1};function kr(s,t){if(s&&s.defaultProps){t=Jt({},t),s=s.defaultProps;for(var r in s)t[r]===void 0&&(t[r]=s[r]);return t}return t}function Om(s,t,r,a){t=s.memoizedState,r=r(a,t),r=r==null?t:Jt({},t,r),s.memoizedState=r,s.lanes===0&&(s.updateQueue.baseState=r)}var ju={isMounted:function(s){return(s=s._reactInternals)?Kn(s)===s:!1},enqueueSetState:function(s,t,r){s=s._reactInternals;var a=Vs(),i=Xa(s),o=xa(a,i);o.payload=t,r!=null&&(o.callback=r),t=Ya(s,o,i),t!==null&&(Tr(t,s,i,a),Qc(t,s,i))},enqueueReplaceState:function(s,t,r){s=s._reactInternals;var a=Vs(),i=Xa(s),o=xa(a,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Ya(s,o,i),t!==null&&(Tr(t,s,i,a),Qc(t,s,i))},enqueueForceUpdate:function(s,t){s=s._reactInternals;var r=Vs(),a=Xa(s),i=xa(r,a);i.tag=2,t!=null&&(i.callback=t),t=Ya(s,i,a),t!==null&&(Tr(t,s,a,r),Qc(t,s,a))}};function dg(s,t,r,a,i,o,l){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(a,o,l):t.prototype&&t.prototype.isPureReactComponent?!no(r,a)||!no(i,o):!0}function pv(s,t,r){var a=!1,i=nn,o=t.contextType;return typeof o=="object"&&o!==null?o=yr(o):(i=Ks(t)?zn:Rs.current,a=t.contextTypes,o=(a=a!=null)?Mi(s,i):nn),t=new t(r,o),s.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ju,s.stateNode=t,t._reactInternals=s,a&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=o),t}function ug(s,t,r,a){s=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==s&&ju.enqueueReplaceState(t,t.state,null)}function Lm(s,t,r,a){var i=s.stateNode;i.props=r,i.state=s.memoizedState,i.refs={},t0(s);var o=t.contextType;typeof o=="object"&&o!==null?i.context=yr(o):(o=Ks(t)?zn:Rs.current,i.context=Mi(s,o)),i.state=s.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Om(s,t,o,r),i.state=s.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ju.enqueueReplaceState(i,i.state,null),Sd(s,r,i,a),i.state=s.memoizedState),typeof i.componentDidMount=="function"&&(s.flags|=4194308)}function Vi(s,t){try{var r="",a=t;do r+=d4(a),a=a.return;while(a);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:s,source:t,stack:i,digest:null}}function Vx(s,t,r){return{value:s,source:null,stack:r??null,digest:t??null}}function Vm(s,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ok=typeof WeakMap=="function"?WeakMap:Map;function fv(s,t,r){r=xa(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Ad||(Ad=!0,Km=a),Vm(s,t)},r}function gv(s,t,r){r=xa(-1,r),r.tag=3;var a=s.type.getDerivedStateFromError;if(typeof a=="function"){var i=t.value;r.payload=function(){return a(i)},r.callback=function(){Vm(s,t)}}var o=s.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Vm(s,t),typeof a!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function xg(s,t,r){var a=s.pingCache;if(a===null){a=s.pingCache=new Ok;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(r)||(i.add(r),s=Jk.bind(null,s,t,r),t.then(s,s))}function mg(s){do{var t;if((t=s.tag===13)&&(t=s.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return s;s=s.return}while(s!==null);return null}function hg(s,t,r,a,i){return s.mode&1?(s.flags|=65536,s.lanes=i,s):(s===t?s.flags|=65536:(s.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=xa(-1,1),t.tag=2,Ya(r,t,1))),r.lanes|=1),s)}var Lk=ka.ReactCurrentOwner,Hs=!1;function Os(s,t,r,a){t.child=s===null?Gj(t,null,r,a):Oi(t,s.child,r,a)}function pg(s,t,r,a,i){r=r.render;var o=t.ref;return Si(t,i),a=i0(s,t,r,a,o,i),r=l0(),s!==null&&!Hs?(t.updateQueue=s.updateQueue,t.flags&=-2053,s.lanes&=~i,ya(s,t,i)):(Gt&&r&&Qh(t),t.flags|=1,Os(s,t,a,i),t.child)}function fg(s,t,r,a,i){if(s===null){var o=r.type;return typeof o=="function"&&!g0(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,yv(s,t,o,a,i)):(s=ed(r.type,null,a,t,t.mode,i),s.ref=t.ref,s.return=t,t.child=s)}if(o=s.child,!(s.lanes&i)){var l=o.memoizedProps;if(r=r.compare,r=r!==null?r:no,r(l,a)&&s.ref===t.ref)return ya(s,t,i)}return t.flags|=1,s=Za(o,a),s.ref=t.ref,s.return=t,t.child=s}function yv(s,t,r,a,i){if(s!==null){var o=s.memoizedProps;if(no(o,a)&&s.ref===t.ref)if(Hs=!1,t.pendingProps=a=o,(s.lanes&i)!==0)s.flags&131072&&(Hs=!0);else return t.lanes=s.lanes,ya(s,t,i)}return Bm(s,t,r,a,i)}function bv(s,t,r){var a=t.pendingProps,i=a.children,o=s!==null?s.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(vi,tr),tr|=r;else{if(!(r&1073741824))return s=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:s,cachePool:null,transitions:null},t.updateQueue=null,Vt(vi,tr),tr|=s,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=o!==null?o.baseLanes:r,Vt(vi,tr),tr|=a}else o!==null?(a=o.baseLanes|r,t.memoizedState=null):a=r,Vt(vi,tr),tr|=a;return Os(s,t,i,r),t.child}function jv(s,t){var r=t.ref;(s===null&&r!==null||s!==null&&s.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Bm(s,t,r,a,i){var o=Ks(r)?zn:Rs.current;return o=Mi(t,o),Si(t,i),r=i0(s,t,r,a,o,i),a=l0(),s!==null&&!Hs?(t.updateQueue=s.updateQueue,t.flags&=-2053,s.lanes&=~i,ya(s,t,i)):(Gt&&a&&Qh(t),t.flags|=1,Os(s,t,r,i),t.child)}function gg(s,t,r,a,i){if(Ks(r)){var o=!0;wd(t)}else o=!1;if(Si(t,i),t.stateNode===null)Jc(s,t),pv(t,r,a),Lm(t,r,a,i),a=!0;else if(s===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var x=l.context,p=r.contextType;typeof p=="object"&&p!==null?p=yr(p):(p=Ks(r)?zn:Rs.current,p=Mi(t,p));var N=r.getDerivedStateFromProps,E=typeof N=="function"||typeof l.getSnapshotBeforeUpdate=="function";E||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==a||x!==p)&&ug(t,l,a,p),Ma=!1;var S=t.memoizedState;l.state=S,Sd(t,a,l,i),x=t.memoizedState,c!==a||S!==x||Qs.current||Ma?(typeof N=="function"&&(Om(t,r,N,a),x=t.memoizedState),(c=Ma||dg(t,r,c,a,S,x,p))?(E||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=x),l.props=a,l.state=x,l.context=p,a=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,Qj(s,t),c=t.memoizedProps,p=t.type===t.elementType?c:kr(t.type,c),l.props=p,E=t.pendingProps,S=l.context,x=r.contextType,typeof x=="object"&&x!==null?x=yr(x):(x=Ks(r)?zn:Rs.current,x=Mi(t,x));var R=r.getDerivedStateFromProps;(N=typeof R=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==E||S!==x)&&ug(t,l,a,x),Ma=!1,S=t.memoizedState,l.state=S,Sd(t,a,l,i);var y=t.memoizedState;c!==E||S!==y||Qs.current||Ma?(typeof R=="function"&&(Om(t,r,R,a),y=t.memoizedState),(p=Ma||dg(t,r,p,a,S,y,x)||!1)?(N||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,y,x),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,y,x)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===s.memoizedProps&&S===s.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===s.memoizedProps&&S===s.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=y),l.props=a,l.state=y,l.context=x,a=p):(typeof l.componentDidUpdate!="function"||c===s.memoizedProps&&S===s.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===s.memoizedProps&&S===s.memoizedState||(t.flags|=1024),a=!1)}return Fm(s,t,r,a,o,i)}function Fm(s,t,r,a,i,o){jv(s,t);var l=(t.flags&128)!==0;if(!a&&!l)return i&&sg(t,r,!1),ya(s,t,o);a=t.stateNode,Lk.current=t;var c=l&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,s!==null&&l?(t.child=Oi(t,s.child,null,o),t.child=Oi(t,null,c,o)):Os(s,t,c,o),t.memoizedState=a.state,i&&sg(t,r,!0),t.child}function vv(s){var t=s.stateNode;t.pendingContext?tg(s,t.pendingContext,t.pendingContext!==t.context):t.context&&tg(s,t.context,!1),s0(s,t.containerInfo)}function yg(s,t,r,a,i){return zi(),Yh(i),t.flags|=256,Os(s,t,r,a),t.child}var Um={dehydrated:null,treeContext:null,retryLane:0};function $m(s){return{baseLanes:s,cachePool:null,transitions:null}}function Nv(s,t,r){var a=t.pendingProps,i=Ht.current,o=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=s!==null&&s.memoizedState===null?!1:(i&2)!==0),c?(o=!0,t.flags&=-129):(s===null||s.memoizedState!==null)&&(i|=1),Vt(Ht,i&1),s===null)return Mm(t),s=t.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(t.mode&1?s.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=a.children,s=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},!(a&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=wu(l,a,0,null),s=Rn(s,a,r,null),o.return=t,s.return=t,o.sibling=s,t.child=o,t.child.memoizedState=$m(r),t.memoizedState=Um,s):d0(t,l));if(i=s.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return Vk(s,t,l,a,c,i,r);if(o){o=a.fallback,l=t.mode,i=s.child,c=i.sibling;var x={mode:"hidden",children:a.children};return!(l&1)&&t.child!==i?(a=t.child,a.childLanes=0,a.pendingProps=x,t.deletions=null):(a=Za(i,x),a.subtreeFlags=i.subtreeFlags&14680064),c!==null?o=Za(c,o):(o=Rn(o,l,r,null),o.flags|=2),o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=s.child.memoizedState,l=l===null?$m(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=s.childLanes&~r,t.memoizedState=Um,a}return o=s.child,s=o.sibling,a=Za(o,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,s!==null&&(r=t.deletions,r===null?(t.deletions=[s],t.flags|=16):r.push(s)),t.child=a,t.memoizedState=null,a}function d0(s,t){return t=wu({mode:"visible",children:t},s.mode,0,null),t.return=s,s.child=t}function _c(s,t,r,a){return a!==null&&Yh(a),Oi(t,s.child,null,r),s=d0(t,t.pendingProps.children),s.flags|=2,t.memoizedState=null,s}function Vk(s,t,r,a,i,o,l){if(r)return t.flags&256?(t.flags&=-257,a=Vx(Error(_e(422))),_c(s,t,l,a)):t.memoizedState!==null?(t.child=s.child,t.flags|=128,null):(o=a.fallback,i=t.mode,a=wu({mode:"visible",children:a.children},i,0,null),o=Rn(o,i,l,null),o.flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,t.mode&1&&Oi(t,s.child,null,l),t.child.memoizedState=$m(l),t.memoizedState=Um,o);if(!(t.mode&1))return _c(s,t,l,null);if(i.data==="$!"){if(a=i.nextSibling&&i.nextSibling.dataset,a)var c=a.dgst;return a=c,o=Error(_e(419)),a=Vx(o,a,void 0),_c(s,t,l,a)}if(c=(l&s.childLanes)!==0,Hs||c){if(a=fs,a!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(a.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ga(s,i),Tr(a,s,i,-1))}return f0(),a=Vx(Error(_e(421))),_c(s,t,l,a)}return i.data==="$?"?(t.flags|=128,t.child=s.child,t=Xk.bind(null,s),i._reactRetry=t,null):(s=o.treeContext,rr=Ka(i.nextSibling),nr=t,Gt=!0,Ir=null,s!==null&&(hr[pr++]=oa,hr[pr++]=ca,hr[pr++]=On,oa=s.id,ca=s.overflow,On=t),t=d0(t,a.children),t.flags|=4096,t)}function bg(s,t,r){s.lanes|=t;var a=s.alternate;a!==null&&(a.lanes|=t),zm(s.return,t,r)}function Bx(s,t,r,a,i){var o=s.memoizedState;o===null?s.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=r,o.tailMode=i)}function wv(s,t,r){var a=t.pendingProps,i=a.revealOrder,o=a.tail;if(Os(s,t,a.children,r),a=Ht.current,a&2)a=a&1|2,t.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=t.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&bg(s,r,t);else if(s.tag===19)bg(s,r,t);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}a&=1}if(Vt(Ht,a),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)s=r.alternate,s!==null&&_d(s)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Bx(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(s=i.alternate,s!==null&&_d(s)===null){t.child=i;break}s=i.sibling,i.sibling=r,r=i,i=s}Bx(t,!0,r,null,o);break;case"together":Bx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jc(s,t){!(t.mode&1)&&s!==null&&(s.alternate=null,t.alternate=null,t.flags|=2)}function ya(s,t,r){if(s!==null&&(t.dependencies=s.dependencies),Vn|=t.lanes,!(r&t.childLanes))return null;if(s!==null&&t.child!==s.child)throw Error(_e(153));if(t.child!==null){for(s=t.child,r=Za(s,s.pendingProps),t.child=r,r.return=t;s.sibling!==null;)s=s.sibling,r=r.sibling=Za(s,s.pendingProps),r.return=t;r.sibling=null}return t.child}function Bk(s,t,r){switch(t.tag){case 3:vv(t),zi();break;case 5:Kj(t);break;case 1:Ks(t.type)&&wd(t);break;case 4:s0(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,i=t.memoizedProps.value;Vt(Id,a._currentValue),a._currentValue=i;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Vt(Ht,Ht.current&1),t.flags|=128,null):r&t.child.childLanes?Nv(s,t,r):(Vt(Ht,Ht.current&1),s=ya(s,t,r),s!==null?s.sibling:null);Vt(Ht,Ht.current&1);break;case 19:if(a=(r&t.childLanes)!==0,s.flags&128){if(a)return wv(s,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Vt(Ht,Ht.current),a)break;return null;case 22:case 23:return t.lanes=0,bv(s,t,r)}return ya(s,t,r)}var kv,qm,Cv,Iv;kv=function(s,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)s.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qm=function(){};Cv=function(s,t,r,a){var i=s.memoizedProps;if(i!==a){s=t.stateNode,Pn(Gr.current);var o=null;switch(r){case"input":i=xm(s,i),a=xm(s,a),o=[];break;case"select":i=Jt({},i,{value:void 0}),a=Jt({},a,{value:void 0}),o=[];break;case"textarea":i=pm(s,i),a=pm(s,a),o=[];break;default:typeof i.onClick!="function"&&typeof a.onClick=="function"&&(s.onclick=vd)}gm(r,a);var l;r=null;for(p in i)if(!a.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var c=i[p];for(l in c)c.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Xl.hasOwnProperty(p)?o||(o=[]):(o=o||[]).push(p,null));for(p in a){var x=a[p];if(c=i!=null?i[p]:void 0,a.hasOwnProperty(p)&&x!==c&&(x!=null||c!=null))if(p==="style")if(c){for(l in c)!c.hasOwnProperty(l)||x&&x.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in x)x.hasOwnProperty(l)&&c[l]!==x[l]&&(r||(r={}),r[l]=x[l])}else r||(o||(o=[]),o.push(p,r)),r=x;else p==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,c=c?c.__html:void 0,x!=null&&c!==x&&(o=o||[]).push(p,x)):p==="children"?typeof x!="string"&&typeof x!="number"||(o=o||[]).push(p,""+x):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Xl.hasOwnProperty(p)?(x!=null&&p==="onScroll"&&$t("scroll",s),o||c===x||(o=[])):(o=o||[]).push(p,x))}r&&(o=o||[]).push("style",r);var p=o;(t.updateQueue=p)&&(t.flags|=4)}};Iv=function(s,t,r,a){r!==a&&(t.flags|=4)};function bl(s,t){if(!Gt)switch(s.tailMode){case"hidden":t=s.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?s.tail=null:r.sibling=null;break;case"collapsed":r=s.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||s.tail===null?s.tail=null:s.tail.sibling=null:a.sibling=null}}function Ps(s){var t=s.alternate!==null&&s.alternate.child===s.child,r=0,a=0;if(t)for(var i=s.child;i!==null;)r|=i.lanes|i.childLanes,a|=i.subtreeFlags&14680064,a|=i.flags&14680064,i.return=s,i=i.sibling;else for(i=s.child;i!==null;)r|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=s,i=i.sibling;return s.subtreeFlags|=a,s.childLanes=r,t}function Fk(s,t,r){var a=t.pendingProps;switch(Kh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ps(t),null;case 1:return Ks(t.type)&&Nd(),Ps(t),null;case 3:return a=t.stateNode,Li(),Wt(Qs),Wt(Rs),a0(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(s===null||s.child===null)&&(Ec(t)?t.flags|=4:s===null||s.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ir!==null&&(Xm(Ir),Ir=null))),qm(s,t),Ps(t),null;case 5:r0(t);var i=Pn(uo.current);if(r=t.type,s!==null&&t.stateNode!=null)Cv(s,t,r,a,i),s.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(_e(166));return Ps(t),null}if(s=Pn(Gr.current),Ec(t)){a=t.stateNode,r=t.type;var o=t.memoizedProps;switch(a[$r]=t,a[oo]=o,s=(t.mode&1)!==0,r){case"dialog":$t("cancel",a),$t("close",a);break;case"iframe":case"object":case"embed":$t("load",a);break;case"video":case"audio":for(i=0;i<El.length;i++)$t(El[i],a);break;case"source":$t("error",a);break;case"img":case"image":case"link":$t("error",a),$t("load",a);break;case"details":$t("toggle",a);break;case"input":Sf(a,o),$t("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!o.multiple},$t("invalid",a);break;case"textarea":Pf(a,o),$t("invalid",a)}gm(r,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="children"?typeof c=="string"?a.textContent!==c&&(o.suppressHydrationWarning!==!0&&Ic(a.textContent,c,s),i=["children",c]):typeof c=="number"&&a.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&Ic(a.textContent,c,s),i=["children",""+c]):Xl.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&$t("scroll",a)}switch(r){case"input":yc(a),_f(a,o,!0);break;case"textarea":yc(a),Tf(a);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(a.onclick=vd)}a=i,t.updateQueue=a,a!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ej(r)),s==="http://www.w3.org/1999/xhtml"?r==="script"?(s=l.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof a.is=="string"?s=l.createElement(r,{is:a.is}):(s=l.createElement(r),r==="select"&&(l=s,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):s=l.createElementNS(s,r),s[$r]=t,s[oo]=a,kv(s,t,!1,!1),t.stateNode=s;e:{switch(l=ym(r,a),r){case"dialog":$t("cancel",s),$t("close",s),i=a;break;case"iframe":case"object":case"embed":$t("load",s),i=a;break;case"video":case"audio":for(i=0;i<El.length;i++)$t(El[i],s);i=a;break;case"source":$t("error",s),i=a;break;case"img":case"image":case"link":$t("error",s),$t("load",s),i=a;break;case"details":$t("toggle",s),i=a;break;case"input":Sf(s,a),i=xm(s,a),$t("invalid",s);break;case"option":i=a;break;case"select":s._wrapperState={wasMultiple:!!a.multiple},i=Jt({},a,{value:void 0}),$t("invalid",s);break;case"textarea":Pf(s,a),i=pm(s,a),$t("invalid",s);break;default:i=a}gm(r,i),c=i;for(o in c)if(c.hasOwnProperty(o)){var x=c[o];o==="style"?rj(s,x):o==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&tj(s,x)):o==="children"?typeof x=="string"?(r!=="textarea"||x!=="")&&Zl(s,x):typeof x=="number"&&Zl(s,""+x):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Xl.hasOwnProperty(o)?x!=null&&o==="onScroll"&&$t("scroll",s):x!=null&&Rh(s,o,x,l))}switch(r){case"input":yc(s),_f(s,a,!1);break;case"textarea":yc(s),Tf(s);break;case"option":a.value!=null&&s.setAttribute("value",""+an(a.value));break;case"select":s.multiple=!!a.multiple,o=a.value,o!=null?ki(s,!!a.multiple,o,!1):a.defaultValue!=null&&ki(s,!!a.multiple,a.defaultValue,!0);break;default:typeof i.onClick=="function"&&(s.onclick=vd)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ps(t),null;case 6:if(s&&t.stateNode!=null)Iv(s,t,s.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(_e(166));if(r=Pn(uo.current),Pn(Gr.current),Ec(t)){if(a=t.stateNode,r=t.memoizedProps,a[$r]=t,(o=a.nodeValue!==r)&&(s=nr,s!==null))switch(s.tag){case 3:Ic(a.nodeValue,r,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ic(a.nodeValue,r,(s.mode&1)!==0)}o&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[$r]=t,t.stateNode=a}return Ps(t),null;case 13:if(Wt(Ht),a=t.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Gt&&rr!==null&&t.mode&1&&!(t.flags&128))qj(),zi(),t.flags|=98560,o=!1;else if(o=Ec(t),a!==null&&a.dehydrated!==null){if(s===null){if(!o)throw Error(_e(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(_e(317));o[$r]=t}else zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ps(t),o=!1}else Ir!==null&&(Xm(Ir),Ir=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(s!==null&&s.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(s===null||Ht.current&1?cs===0&&(cs=3):f0())),t.updateQueue!==null&&(t.flags|=4),Ps(t),null);case 4:return Li(),qm(s,t),s===null&&io(t.stateNode.containerInfo),Ps(t),null;case 10:return Zh(t.type._context),Ps(t),null;case 17:return Ks(t.type)&&Nd(),Ps(t),null;case 19:if(Wt(Ht),o=t.memoizedState,o===null)return Ps(t),null;if(a=(t.flags&128)!==0,l=o.rendering,l===null)if(a)bl(o,!1);else{if(cs!==0||s!==null&&s.flags&128)for(s=t.child;s!==null;){if(l=_d(s),l!==null){for(t.flags|=128,bl(o,!1),a=l.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)o=r,s=a,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,s=l.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r=r.sibling;return Vt(Ht,Ht.current&1|2),t.child}s=s.sibling}o.tail!==null&&as()>Bi&&(t.flags|=128,a=!0,bl(o,!1),t.lanes=4194304)}else{if(!a)if(s=_d(l),s!==null){if(t.flags|=128,a=!0,r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),bl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Gt)return Ps(t),null}else 2*as()-o.renderingStartTime>Bi&&r!==1073741824&&(t.flags|=128,a=!0,bl(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(r=o.last,r!==null?r.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=as(),t.sibling=null,r=Ht.current,Vt(Ht,a?r&1|2:r&1),t):(Ps(t),null);case 22:case 23:return p0(),a=t.memoizedState!==null,s!==null&&s.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?tr&1073741824&&(Ps(t),t.subtreeFlags&6&&(t.flags|=8192)):Ps(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function Uk(s,t){switch(Kh(t),t.tag){case 1:return Ks(t.type)&&Nd(),s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 3:return Li(),Wt(Qs),Wt(Rs),a0(),s=t.flags,s&65536&&!(s&128)?(t.flags=s&-65537|128,t):null;case 5:return r0(t),null;case 13:if(Wt(Ht),s=t.memoizedState,s!==null&&s.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));zi()}return s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 19:return Wt(Ht),null;case 4:return Li(),null;case 10:return Zh(t.type._context),null;case 22:case 23:return p0(),null;case 24:return null;default:return null}}var Pc=!1,As=!1,$k=typeof WeakSet=="function"?WeakSet:Set,qe=null;function ji(s,t){var r=s.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){ts(s,t,a)}else r.current=null}function Wm(s,t,r){try{r()}catch(a){ts(s,t,a)}}var jg=!1;function qk(s,t){if(Sm=yd,s=Tj(),Hh(s)){if("selectionStart"in s)var r={start:s.selectionStart,end:s.selectionEnd};else e:{r=(r=s.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var i=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var l=0,c=-1,x=-1,p=0,N=0,E=s,S=null;t:for(;;){for(var R;E!==r||i!==0&&E.nodeType!==3||(c=l+i),E!==o||a!==0&&E.nodeType!==3||(x=l+a),E.nodeType===3&&(l+=E.nodeValue.length),(R=E.firstChild)!==null;)S=E,E=R;for(;;){if(E===s)break t;if(S===r&&++p===i&&(c=l),S===o&&++N===a&&(x=l),(R=E.nextSibling)!==null)break;E=S,S=E.parentNode}E=R}r=c===-1||x===-1?null:{start:c,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(_m={focusedElem:s,selectionRange:r},yd=!1,qe=t;qe!==null;)if(t=qe,s=t.child,(t.subtreeFlags&1028)!==0&&s!==null)s.return=t,qe=s;else for(;qe!==null;){t=qe;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var V=y.memoizedProps,v=y.memoizedState,P=t.stateNode,z=P.getSnapshotBeforeUpdate(t.elementType===t.type?V:kr(t.type,V),v);P.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(H){ts(t,t.return,H)}if(s=t.sibling,s!==null){s.return=t.return,qe=s;break}qe=t.return}return y=jg,jg=!1,y}function Bl(s,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var i=a=a.next;do{if((i.tag&s)===s){var o=i.destroy;i.destroy=void 0,o!==void 0&&Wm(t,r,o)}i=i.next}while(i!==a)}}function vu(s,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&s)===s){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function Gm(s){var t=s.ref;if(t!==null){var r=s.stateNode;switch(s.tag){case 5:s=r;break;default:s=r}typeof t=="function"?t(s):t.current=s}}function Ev(s){var t=s.alternate;t!==null&&(s.alternate=null,Ev(t)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(t=s.stateNode,t!==null&&(delete t[$r],delete t[oo],delete t[Dm],delete t[Ik],delete t[Ek])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Sv(s){return s.tag===5||s.tag===3||s.tag===4}function vg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Sv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Hm(s,t,r){var a=s.tag;if(a===5||a===6)s=s.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(s,t):r.insertBefore(s,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(s,r)):(t=r,t.appendChild(s)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=vd));else if(a!==4&&(s=s.child,s!==null))for(Hm(s,t,r),s=s.sibling;s!==null;)Hm(s,t,r),s=s.sibling}function Qm(s,t,r){var a=s.tag;if(a===5||a===6)s=s.stateNode,t?r.insertBefore(s,t):r.appendChild(s);else if(a!==4&&(s=s.child,s!==null))for(Qm(s,t,r),s=s.sibling;s!==null;)Qm(s,t,r),s=s.sibling}var ys=null,Cr=!1;function Da(s,t,r){for(r=r.child;r!==null;)_v(s,t,r),r=r.sibling}function _v(s,t,r){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(mu,r)}catch{}switch(r.tag){case 5:As||ji(r,t);case 6:var a=ys,i=Cr;ys=null,Da(s,t,r),ys=a,Cr=i,ys!==null&&(Cr?(s=ys,r=r.stateNode,s.nodeType===8?s.parentNode.removeChild(r):s.removeChild(r)):ys.removeChild(r.stateNode));break;case 18:ys!==null&&(Cr?(s=ys,r=r.stateNode,s.nodeType===8?Ax(s.parentNode,r):s.nodeType===1&&Ax(s,r),ro(s)):Ax(ys,r.stateNode));break;case 4:a=ys,i=Cr,ys=r.stateNode.containerInfo,Cr=!0,Da(s,t,r),ys=a,Cr=i;break;case 0:case 11:case 14:case 15:if(!As&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){i=a=a.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Wm(r,t,l),i=i.next}while(i!==a)}Da(s,t,r);break;case 1:if(!As&&(ji(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(c){ts(r,t,c)}Da(s,t,r);break;case 21:Da(s,t,r);break;case 22:r.mode&1?(As=(a=As)||r.memoizedState!==null,Da(s,t,r),As=a):Da(s,t,r);break;default:Da(s,t,r)}}function Ng(s){var t=s.updateQueue;if(t!==null){s.updateQueue=null;var r=s.stateNode;r===null&&(r=s.stateNode=new $k),t.forEach(function(a){var i=Zk.bind(null,s,a);r.has(a)||(r.add(a),a.then(i,i))})}}function wr(s,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var i=r[a];try{var o=s,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:ys=c.stateNode,Cr=!1;break e;case 3:ys=c.stateNode.containerInfo,Cr=!0;break e;case 4:ys=c.stateNode.containerInfo,Cr=!0;break e}c=c.return}if(ys===null)throw Error(_e(160));_v(o,l,i),ys=null,Cr=!1;var x=i.alternate;x!==null&&(x.return=null),i.return=null}catch(p){ts(i,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pv(t,s),t=t.sibling}function Pv(s,t){var r=s.alternate,a=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(wr(t,s),Br(s),a&4){try{Bl(3,s,s.return),vu(3,s)}catch(V){ts(s,s.return,V)}try{Bl(5,s,s.return)}catch(V){ts(s,s.return,V)}}break;case 1:wr(t,s),Br(s),a&512&&r!==null&&ji(r,r.return);break;case 5:if(wr(t,s),Br(s),a&512&&r!==null&&ji(r,r.return),s.flags&32){var i=s.stateNode;try{Zl(i,"")}catch(V){ts(s,s.return,V)}}if(a&4&&(i=s.stateNode,i!=null)){var o=s.memoizedProps,l=r!==null?r.memoizedProps:o,c=s.type,x=s.updateQueue;if(s.updateQueue=null,x!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&Xb(i,o),ym(c,l);var p=ym(c,o);for(l=0;l<x.length;l+=2){var N=x[l],E=x[l+1];N==="style"?rj(i,E):N==="dangerouslySetInnerHTML"?tj(i,E):N==="children"?Zl(i,E):Rh(i,N,E,p)}switch(c){case"input":mm(i,o);break;case"textarea":Zb(i,o);break;case"select":var S=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var R=o.value;R!=null?ki(i,!!o.multiple,R,!1):S!==!!o.multiple&&(o.defaultValue!=null?ki(i,!!o.multiple,o.defaultValue,!0):ki(i,!!o.multiple,o.multiple?[]:"",!1))}i[oo]=o}catch(V){ts(s,s.return,V)}}break;case 6:if(wr(t,s),Br(s),a&4){if(s.stateNode===null)throw Error(_e(162));i=s.stateNode,o=s.memoizedProps;try{i.nodeValue=o}catch(V){ts(s,s.return,V)}}break;case 3:if(wr(t,s),Br(s),a&4&&r!==null&&r.memoizedState.isDehydrated)try{ro(t.containerInfo)}catch(V){ts(s,s.return,V)}break;case 4:wr(t,s),Br(s);break;case 13:wr(t,s),Br(s),i=s.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(m0=as())),a&4&&Ng(s);break;case 22:if(N=r!==null&&r.memoizedState!==null,s.mode&1?(As=(p=As)||N,wr(t,s),As=p):wr(t,s),Br(s),a&8192){if(p=s.memoizedState!==null,(s.stateNode.isHidden=p)&&!N&&s.mode&1)for(qe=s,N=s.child;N!==null;){for(E=qe=N;qe!==null;){switch(S=qe,R=S.child,S.tag){case 0:case 11:case 14:case 15:Bl(4,S,S.return);break;case 1:ji(S,S.return);var y=S.stateNode;if(typeof y.componentWillUnmount=="function"){a=S,r=S.return;try{t=a,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(V){ts(a,r,V)}}break;case 5:ji(S,S.return);break;case 22:if(S.memoizedState!==null){kg(E);continue}}R!==null?(R.return=S,qe=R):kg(E)}N=N.sibling}e:for(N=null,E=s;;){if(E.tag===5){if(N===null){N=E;try{i=E.stateNode,p?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=E.stateNode,x=E.memoizedProps.style,l=x!=null&&x.hasOwnProperty("display")?x.display:null,c.style.display=sj("display",l))}catch(V){ts(s,s.return,V)}}}else if(E.tag===6){if(N===null)try{E.stateNode.nodeValue=p?"":E.memoizedProps}catch(V){ts(s,s.return,V)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===s)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;N===E&&(N=null),E=E.return}N===E&&(N=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:wr(t,s),Br(s),a&4&&Ng(s);break;case 21:break;default:wr(t,s),Br(s)}}function Br(s){var t=s.flags;if(t&2){try{e:{for(var r=s.return;r!==null;){if(Sv(r)){var a=r;break e}r=r.return}throw Error(_e(160))}switch(a.tag){case 5:var i=a.stateNode;a.flags&32&&(Zl(i,""),a.flags&=-33);var o=vg(s);Qm(s,o,i);break;case 3:case 4:var l=a.stateNode.containerInfo,c=vg(s);Hm(s,c,l);break;default:throw Error(_e(161))}}catch(x){ts(s,s.return,x)}s.flags&=-3}t&4096&&(s.flags&=-4097)}function Wk(s,t,r){qe=s,Tv(s)}function Tv(s,t,r){for(var a=(s.mode&1)!==0;qe!==null;){var i=qe,o=i.child;if(i.tag===22&&a){var l=i.memoizedState!==null||Pc;if(!l){var c=i.alternate,x=c!==null&&c.memoizedState!==null||As;c=Pc;var p=As;if(Pc=l,(As=x)&&!p)for(qe=i;qe!==null;)l=qe,x=l.child,l.tag===22&&l.memoizedState!==null?Cg(i):x!==null?(x.return=l,qe=x):Cg(i);for(;o!==null;)qe=o,Tv(o),o=o.sibling;qe=i,Pc=c,As=p}wg(s)}else i.subtreeFlags&8772&&o!==null?(o.return=i,qe=o):wg(s)}}function wg(s){for(;qe!==null;){var t=qe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:As||vu(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!As)if(r===null)a.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:kr(t.type,r.memoizedProps);a.componentDidUpdate(i,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&lg(t,o,a);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}lg(t,l,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&r.focus();break;case"img":x.src&&(r.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var N=p.memoizedState;if(N!==null){var E=N.dehydrated;E!==null&&ro(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}As||t.flags&512&&Gm(t)}catch(S){ts(t,t.return,S)}}if(t===s){qe=null;break}if(r=t.sibling,r!==null){r.return=t.return,qe=r;break}qe=t.return}}function kg(s){for(;qe!==null;){var t=qe;if(t===s){qe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,qe=r;break}qe=t.return}}function Cg(s){for(;qe!==null;){var t=qe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{vu(4,t)}catch(x){ts(t,r,x)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var i=t.return;try{a.componentDidMount()}catch(x){ts(t,i,x)}}var o=t.return;try{Gm(t)}catch(x){ts(t,o,x)}break;case 5:var l=t.return;try{Gm(t)}catch(x){ts(t,l,x)}}}catch(x){ts(t,t.return,x)}if(t===s){qe=null;break}var c=t.sibling;if(c!==null){c.return=t.return,qe=c;break}qe=t.return}}var Gk=Math.ceil,Dd=ka.ReactCurrentDispatcher,u0=ka.ReactCurrentOwner,gr=ka.ReactCurrentBatchConfig,wt=0,fs=null,is=null,Ns=0,tr=0,vi=pn(0),cs=0,po=null,Vn=0,Nu=0,x0=0,Fl=null,Gs=null,m0=0,Bi=1/0,ia=null,Ad=!1,Km=null,Ja=null,Tc=!1,$a=null,Rd=0,Ul=0,Ym=null,Xc=-1,Zc=0;function Vs(){return wt&6?as():Xc!==-1?Xc:Xc=as()}function Xa(s){return s.mode&1?wt&2&&Ns!==0?Ns&-Ns:_k.transition!==null?(Zc===0&&(Zc=pj()),Zc):(s=_t,s!==0||(s=window.event,s=s===void 0?16:Nj(s.type)),s):1}function Tr(s,t,r,a){if(50<Ul)throw Ul=0,Ym=null,Error(_e(185));Do(s,r,a),(!(wt&2)||s!==fs)&&(s===fs&&(!(wt&2)&&(Nu|=r),cs===4&&Oa(s,Ns)),Ys(s,a),r===1&&wt===0&&!(t.mode&1)&&(Bi=as()+500,yu&&fn()))}function Ys(s,t){var r=s.callbackNode;_4(s,t);var a=gd(s,s===fs?Ns:0);if(a===0)r!==null&&Rf(r),s.callbackNode=null,s.callbackPriority=0;else if(t=a&-a,s.callbackPriority!==t){if(r!=null&&Rf(r),t===1)s.tag===0?Sk(Ig.bind(null,s)):Fj(Ig.bind(null,s)),kk(function(){!(wt&6)&&fn()}),r=null;else{switch(fj(a)){case 1:r=Vh;break;case 4:r=mj;break;case 16:r=fd;break;case 536870912:r=hj;break;default:r=fd}r=Vv(r,Dv.bind(null,s))}s.callbackPriority=t,s.callbackNode=r}}function Dv(s,t){if(Xc=-1,Zc=0,wt&6)throw Error(_e(327));var r=s.callbackNode;if(_i()&&s.callbackNode!==r)return null;var a=gd(s,s===fs?Ns:0);if(a===0)return null;if(a&30||a&s.expiredLanes||t)t=Md(s,a);else{t=a;var i=wt;wt|=2;var o=Rv();(fs!==s||Ns!==t)&&(ia=null,Bi=as()+500,An(s,t));do try{Kk();break}catch(c){Av(s,c)}while(1);Xh(),Dd.current=o,wt=i,is!==null?t=0:(fs=null,Ns=0,t=cs)}if(t!==0){if(t===2&&(i=wm(s),i!==0&&(a=i,t=Jm(s,i))),t===1)throw r=po,An(s,0),Oa(s,a),Ys(s,as()),r;if(t===6)Oa(s,a);else{if(i=s.current.alternate,!(a&30)&&!Hk(i)&&(t=Md(s,a),t===2&&(o=wm(s),o!==0&&(a=o,t=Jm(s,o))),t===1))throw r=po,An(s,0),Oa(s,a),Ys(s,as()),r;switch(s.finishedWork=i,s.finishedLanes=a,t){case 0:case 1:throw Error(_e(345));case 2:In(s,Gs,ia);break;case 3:if(Oa(s,a),(a&130023424)===a&&(t=m0+500-as(),10<t)){if(gd(s,0)!==0)break;if(i=s.suspendedLanes,(i&a)!==a){Vs(),s.pingedLanes|=s.suspendedLanes&i;break}s.timeoutHandle=Tm(In.bind(null,s,Gs,ia),t);break}In(s,Gs,ia);break;case 4:if(Oa(s,a),(a&4194240)===a)break;for(t=s.eventTimes,i=-1;0<a;){var l=31-Pr(a);o=1<<l,l=t[l],l>i&&(i=l),a&=~o}if(a=i,a=as()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Gk(a/1960))-a,10<a){s.timeoutHandle=Tm(In.bind(null,s,Gs,ia),a);break}In(s,Gs,ia);break;case 5:In(s,Gs,ia);break;default:throw Error(_e(329))}}}return Ys(s,as()),s.callbackNode===r?Dv.bind(null,s):null}function Jm(s,t){var r=Fl;return s.current.memoizedState.isDehydrated&&(An(s,t).flags|=256),s=Md(s,t),s!==2&&(t=Gs,Gs=r,t!==null&&Xm(t)),s}function Xm(s){Gs===null?Gs=s:Gs.push.apply(Gs,s)}function Hk(s){for(var t=s;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var i=r[a],o=i.getSnapshot;i=i.value;try{if(!Dr(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===s)break;for(;t.sibling===null;){if(t.return===null||t.return===s)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Oa(s,t){for(t&=~x0,t&=~Nu,s.suspendedLanes|=t,s.pingedLanes&=~t,s=s.expirationTimes;0<t;){var r=31-Pr(t),a=1<<r;s[r]=-1,t&=~a}}function Ig(s){if(wt&6)throw Error(_e(327));_i();var t=gd(s,0);if(!(t&1))return Ys(s,as()),null;var r=Md(s,t);if(s.tag!==0&&r===2){var a=wm(s);a!==0&&(t=a,r=Jm(s,a))}if(r===1)throw r=po,An(s,0),Oa(s,t),Ys(s,as()),r;if(r===6)throw Error(_e(345));return s.finishedWork=s.current.alternate,s.finishedLanes=t,In(s,Gs,ia),Ys(s,as()),null}function h0(s,t){var r=wt;wt|=1;try{return s(t)}finally{wt=r,wt===0&&(Bi=as()+500,yu&&fn())}}function Bn(s){$a!==null&&$a.tag===0&&!(wt&6)&&_i();var t=wt;wt|=1;var r=gr.transition,a=_t;try{if(gr.transition=null,_t=1,s)return s()}finally{_t=a,gr.transition=r,wt=t,!(wt&6)&&fn()}}function p0(){tr=vi.current,Wt(vi)}function An(s,t){s.finishedWork=null,s.finishedLanes=0;var r=s.timeoutHandle;if(r!==-1&&(s.timeoutHandle=-1,wk(r)),is!==null)for(r=is.return;r!==null;){var a=r;switch(Kh(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Nd();break;case 3:Li(),Wt(Qs),Wt(Rs),a0();break;case 5:r0(a);break;case 4:Li();break;case 13:Wt(Ht);break;case 19:Wt(Ht);break;case 10:Zh(a.type._context);break;case 22:case 23:p0()}r=r.return}if(fs=s,is=s=Za(s.current,null),Ns=tr=t,cs=0,po=null,x0=Nu=Vn=0,Gs=Fl=null,_n!==null){for(t=0;t<_n.length;t++)if(r=_n[t],a=r.interleaved,a!==null){r.interleaved=null;var i=a.next,o=r.pending;if(o!==null){var l=o.next;o.next=i,a.next=l}r.pending=a}_n=null}return s}function Av(s,t){do{var r=is;try{if(Xh(),Kc.current=Td,Pd){for(var a=Qt.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}Pd=!1}if(Ln=0,ms=os=Qt=null,Vl=!1,xo=0,u0.current=null,r===null||r.return===null){cs=1,po=t,is=null;break}e:{var o=s,l=r.return,c=r,x=t;if(t=Ns,c.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var p=x,N=c,E=N.tag;if(!(N.mode&1)&&(E===0||E===11||E===15)){var S=N.alternate;S?(N.updateQueue=S.updateQueue,N.memoizedState=S.memoizedState,N.lanes=S.lanes):(N.updateQueue=null,N.memoizedState=null)}var R=mg(l);if(R!==null){R.flags&=-257,hg(R,l,c,o,t),R.mode&1&&xg(o,p,t),t=R,x=p;var y=t.updateQueue;if(y===null){var V=new Set;V.add(x),t.updateQueue=V}else y.add(x);break e}else{if(!(t&1)){xg(o,p,t),f0();break e}x=Error(_e(426))}}else if(Gt&&c.mode&1){var v=mg(l);if(v!==null){!(v.flags&65536)&&(v.flags|=256),hg(v,l,c,o,t),Yh(Vi(x,c));break e}}o=x=Vi(x,c),cs!==4&&(cs=2),Fl===null?Fl=[o]:Fl.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var P=fv(o,x,t);ig(o,P);break e;case 1:c=x;var z=o.type,M=o.stateNode;if(!(o.flags&128)&&(typeof z.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Ja===null||!Ja.has(M)))){o.flags|=65536,t&=-t,o.lanes|=t;var H=gv(o,c,t);ig(o,H);break e}}o=o.return}while(o!==null)}zv(r)}catch(Q){t=Q,is===r&&r!==null&&(is=r=r.return);continue}break}while(1)}function Rv(){var s=Dd.current;return Dd.current=Td,s===null?Td:s}function f0(){(cs===0||cs===3||cs===2)&&(cs=4),fs===null||!(Vn&268435455)&&!(Nu&268435455)||Oa(fs,Ns)}function Md(s,t){var r=wt;wt|=2;var a=Rv();(fs!==s||Ns!==t)&&(ia=null,An(s,t));do try{Qk();break}catch(i){Av(s,i)}while(1);if(Xh(),wt=r,Dd.current=a,is!==null)throw Error(_e(261));return fs=null,Ns=0,cs}function Qk(){for(;is!==null;)Mv(is)}function Kk(){for(;is!==null&&!j4();)Mv(is)}function Mv(s){var t=Lv(s.alternate,s,tr);s.memoizedProps=s.pendingProps,t===null?zv(s):is=t,u0.current=null}function zv(s){var t=s;do{var r=t.alternate;if(s=t.return,t.flags&32768){if(r=Uk(r,t),r!==null){r.flags&=32767,is=r;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{cs=6,is=null;return}}else if(r=Fk(r,t,tr),r!==null){is=r;return}if(t=t.sibling,t!==null){is=t;return}is=t=s}while(t!==null);cs===0&&(cs=5)}function In(s,t,r){var a=_t,i=gr.transition;try{gr.transition=null,_t=1,Yk(s,t,r,a)}finally{gr.transition=i,_t=a}return null}function Yk(s,t,r,a){do _i();while($a!==null);if(wt&6)throw Error(_e(327));r=s.finishedWork;var i=s.finishedLanes;if(r===null)return null;if(s.finishedWork=null,s.finishedLanes=0,r===s.current)throw Error(_e(177));s.callbackNode=null,s.callbackPriority=0;var o=r.lanes|r.childLanes;if(P4(s,o),s===fs&&(is=fs=null,Ns=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Tc||(Tc=!0,Vv(fd,function(){return _i(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=gr.transition,gr.transition=null;var l=_t;_t=1;var c=wt;wt|=4,u0.current=null,qk(s,r),Pv(r,s),fk(_m),yd=!!Sm,_m=Sm=null,s.current=r,Wk(r),v4(),wt=c,_t=l,gr.transition=o}else s.current=r;if(Tc&&(Tc=!1,$a=s,Rd=i),o=s.pendingLanes,o===0&&(Ja=null),k4(r.stateNode),Ys(s,as()),t!==null)for(a=s.onRecoverableError,r=0;r<t.length;r++)i=t[r],a(i.value,{componentStack:i.stack,digest:i.digest});if(Ad)throw Ad=!1,s=Km,Km=null,s;return Rd&1&&s.tag!==0&&_i(),o=s.pendingLanes,o&1?s===Ym?Ul++:(Ul=0,Ym=s):Ul=0,fn(),null}function _i(){if($a!==null){var s=fj(Rd),t=gr.transition,r=_t;try{if(gr.transition=null,_t=16>s?16:s,$a===null)var a=!1;else{if(s=$a,$a=null,Rd=0,wt&6)throw Error(_e(331));var i=wt;for(wt|=4,qe=s.current;qe!==null;){var o=qe,l=o.child;if(qe.flags&16){var c=o.deletions;if(c!==null){for(var x=0;x<c.length;x++){var p=c[x];for(qe=p;qe!==null;){var N=qe;switch(N.tag){case 0:case 11:case 15:Bl(8,N,o)}var E=N.child;if(E!==null)E.return=N,qe=E;else for(;qe!==null;){N=qe;var S=N.sibling,R=N.return;if(Ev(N),N===p){qe=null;break}if(S!==null){S.return=R,qe=S;break}qe=R}}}var y=o.alternate;if(y!==null){var V=y.child;if(V!==null){y.child=null;do{var v=V.sibling;V.sibling=null,V=v}while(V!==null)}}qe=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,qe=l;else e:for(;qe!==null;){if(o=qe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Bl(9,o,o.return)}var P=o.sibling;if(P!==null){P.return=o.return,qe=P;break e}qe=o.return}}var z=s.current;for(qe=z;qe!==null;){l=qe;var M=l.child;if(l.subtreeFlags&2064&&M!==null)M.return=l,qe=M;else e:for(l=z;qe!==null;){if(c=qe,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:vu(9,c)}}catch(Q){ts(c,c.return,Q)}if(c===l){qe=null;break e}var H=c.sibling;if(H!==null){H.return=c.return,qe=H;break e}qe=c.return}}if(wt=i,fn(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(mu,s)}catch{}a=!0}return a}finally{_t=r,gr.transition=t}}return!1}function Eg(s,t,r){t=Vi(r,t),t=fv(s,t,1),s=Ya(s,t,1),t=Vs(),s!==null&&(Do(s,1,t),Ys(s,t))}function ts(s,t,r){if(s.tag===3)Eg(s,s,r);else for(;t!==null;){if(t.tag===3){Eg(t,s,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ja===null||!Ja.has(a))){s=Vi(r,s),s=gv(t,s,1),t=Ya(t,s,1),s=Vs(),t!==null&&(Do(t,1,s),Ys(t,s));break}}t=t.return}}function Jk(s,t,r){var a=s.pingCache;a!==null&&a.delete(t),t=Vs(),s.pingedLanes|=s.suspendedLanes&r,fs===s&&(Ns&r)===r&&(cs===4||cs===3&&(Ns&130023424)===Ns&&500>as()-m0?An(s,0):x0|=r),Ys(s,t)}function Ov(s,t){t===0&&(s.mode&1?(t=vc,vc<<=1,!(vc&130023424)&&(vc=4194304)):t=1);var r=Vs();s=ga(s,t),s!==null&&(Do(s,t,r),Ys(s,r))}function Xk(s){var t=s.memoizedState,r=0;t!==null&&(r=t.retryLane),Ov(s,r)}function Zk(s,t){var r=0;switch(s.tag){case 13:var a=s.stateNode,i=s.memoizedState;i!==null&&(r=i.retryLane);break;case 19:a=s.stateNode;break;default:throw Error(_e(314))}a!==null&&a.delete(t),Ov(s,r)}var Lv;Lv=function(s,t,r){if(s!==null)if(s.memoizedProps!==t.pendingProps||Qs.current)Hs=!0;else{if(!(s.lanes&r)&&!(t.flags&128))return Hs=!1,Bk(s,t,r);Hs=!!(s.flags&131072)}else Hs=!1,Gt&&t.flags&1048576&&Uj(t,Cd,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Jc(s,t),s=t.pendingProps;var i=Mi(t,Rs.current);Si(t,r),i=i0(null,t,a,s,i,r);var o=l0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ks(a)?(o=!0,wd(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,t0(t),i.updater=ju,t.stateNode=i,i._reactInternals=t,Lm(t,a,s,r),t=Fm(null,t,a,!0,o,r)):(t.tag=0,Gt&&o&&Qh(t),Os(null,t,i,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Jc(s,t),s=t.pendingProps,i=a._init,a=i(a._payload),t.type=a,i=t.tag=t3(a),s=kr(a,s),i){case 0:t=Bm(null,t,a,s,r);break e;case 1:t=gg(null,t,a,s,r);break e;case 11:t=pg(null,t,a,s,r);break e;case 14:t=fg(null,t,a,kr(a.type,s),r);break e}throw Error(_e(306,a,""))}return t;case 0:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:kr(a,i),Bm(s,t,a,i,r);case 1:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:kr(a,i),gg(s,t,a,i,r);case 3:e:{if(vv(t),s===null)throw Error(_e(387));a=t.pendingProps,o=t.memoizedState,i=o.element,Qj(s,t),Sd(t,a,null,r);var l=t.memoizedState;if(a=l.element,o.isDehydrated)if(o={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Vi(Error(_e(423)),t),t=yg(s,t,a,r,i);break e}else if(a!==i){i=Vi(Error(_e(424)),t),t=yg(s,t,a,r,i);break e}else for(rr=Ka(t.stateNode.containerInfo.firstChild),nr=t,Gt=!0,Ir=null,r=Gj(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zi(),a===i){t=ya(s,t,r);break e}Os(s,t,a,r)}t=t.child}return t;case 5:return Kj(t),s===null&&Mm(t),a=t.type,i=t.pendingProps,o=s!==null?s.memoizedProps:null,l=i.children,Pm(a,i)?l=null:o!==null&&Pm(a,o)&&(t.flags|=32),jv(s,t),Os(s,t,l,r),t.child;case 6:return s===null&&Mm(t),null;case 13:return Nv(s,t,r);case 4:return s0(t,t.stateNode.containerInfo),a=t.pendingProps,s===null?t.child=Oi(t,null,a,r):Os(s,t,a,r),t.child;case 11:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:kr(a,i),pg(s,t,a,i,r);case 7:return Os(s,t,t.pendingProps,r),t.child;case 8:return Os(s,t,t.pendingProps.children,r),t.child;case 12:return Os(s,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,Vt(Id,a._currentValue),a._currentValue=l,o!==null)if(Dr(o.value,l)){if(o.children===i.children&&!Qs.current){t=ya(s,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var c=o.dependencies;if(c!==null){l=o.child;for(var x=c.firstContext;x!==null;){if(x.context===a){if(o.tag===1){x=xa(-1,r&-r),x.tag=2;var p=o.updateQueue;if(p!==null){p=p.shared;var N=p.pending;N===null?x.next=x:(x.next=N.next,N.next=x),p.pending=x}}o.lanes|=r,x=o.alternate,x!==null&&(x.lanes|=r),zm(o.return,r,t),c.lanes|=r;break}x=x.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(_e(341));l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),zm(l,r,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Os(s,t,i.children,r),t=t.child}return t;case 9:return i=t.type,a=t.pendingProps.children,Si(t,r),i=yr(i),a=a(i),t.flags|=1,Os(s,t,a,r),t.child;case 14:return a=t.type,i=kr(a,t.pendingProps),i=kr(a.type,i),fg(s,t,a,i,r);case 15:return yv(s,t,t.type,t.pendingProps,r);case 17:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:kr(a,i),Jc(s,t),t.tag=1,Ks(a)?(s=!0,wd(t)):s=!1,Si(t,r),pv(t,a,i),Lm(t,a,i,r),Fm(null,t,a,!0,s,r);case 19:return wv(s,t,r);case 22:return bv(s,t,r)}throw Error(_e(156,t.tag))};function Vv(s,t){return xj(s,t)}function e3(s,t,r,a){this.tag=s,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(s,t,r,a){return new e3(s,t,r,a)}function g0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function t3(s){if(typeof s=="function")return g0(s)?1:0;if(s!=null){if(s=s.$$typeof,s===zh)return 11;if(s===Oh)return 14}return 2}function Za(s,t){var r=s.alternate;return r===null?(r=fr(s.tag,t,s.key,s.mode),r.elementType=s.elementType,r.type=s.type,r.stateNode=s.stateNode,r.alternate=s,s.alternate=r):(r.pendingProps=t,r.type=s.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=s.flags&14680064,r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,t=s.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=s.sibling,r.index=s.index,r.ref=s.ref,r}function ed(s,t,r,a,i,o){var l=2;if(a=s,typeof s=="function")g0(s)&&(l=1);else if(typeof s=="string")l=5;else e:switch(s){case ui:return Rn(r.children,i,o,t);case Mh:l=8,i|=8;break;case om:return s=fr(12,r,t,i|2),s.elementType=om,s.lanes=o,s;case cm:return s=fr(13,r,t,i),s.elementType=cm,s.lanes=o,s;case dm:return s=fr(19,r,t,i),s.elementType=dm,s.lanes=o,s;case Kb:return wu(r,i,o,t);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Hb:l=10;break e;case Qb:l=9;break e;case zh:l=11;break e;case Oh:l=14;break e;case Ra:l=16,a=null;break e}throw Error(_e(130,s==null?s:typeof s,""))}return t=fr(l,r,t,i),t.elementType=s,t.type=a,t.lanes=o,t}function Rn(s,t,r,a){return s=fr(7,s,a,t),s.lanes=r,s}function wu(s,t,r,a){return s=fr(22,s,a,t),s.elementType=Kb,s.lanes=r,s.stateNode={isHidden:!1},s}function Fx(s,t,r){return s=fr(6,s,null,t),s.lanes=r,s}function Ux(s,t,r){return t=fr(4,s.children!==null?s.children:[],s.key,t),t.lanes=r,t.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},t}function s3(s,t,r,a,i){this.tag=t,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nx(0),this.expirationTimes=Nx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nx(0),this.identifierPrefix=a,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function y0(s,t,r,a,i,o,l,c,x){return s=new s3(s,t,r,c,x),t===1?(t=1,o===!0&&(t|=8)):t=0,o=fr(3,null,null,t),s.current=o,o.stateNode=s,o.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},t0(o),s}function r3(s,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:di,key:a==null?null:""+a,children:s,containerInfo:t,implementation:r}}function Bv(s){if(!s)return nn;s=s._reactInternals;e:{if(Kn(s)!==s||s.tag!==1)throw Error(_e(170));var t=s;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ks(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(s.tag===1){var r=s.type;if(Ks(r))return Bj(s,r,t)}return t}function Fv(s,t,r,a,i,o,l,c,x){return s=y0(r,a,!0,s,i,o,l,c,x),s.context=Bv(null),r=s.current,a=Vs(),i=Xa(r),o=xa(a,i),o.callback=t??null,Ya(r,o,i),s.current.lanes=i,Do(s,i,a),Ys(s,a),s}function ku(s,t,r,a){var i=t.current,o=Vs(),l=Xa(i);return r=Bv(r),t.context===null?t.context=r:t.pendingContext=r,t=xa(o,l),t.payload={element:s},a=a===void 0?null:a,a!==null&&(t.callback=a),s=Ya(i,t,l),s!==null&&(Tr(s,i,l,o),Qc(s,i,l)),l}function zd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Sg(s,t){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var r=s.retryLane;s.retryLane=r!==0&&r<t?r:t}}function b0(s,t){Sg(s,t),(s=s.alternate)&&Sg(s,t)}function a3(){return null}var Uv=typeof reportError=="function"?reportError:function(s){console.error(s)};function j0(s){this._internalRoot=s}Cu.prototype.render=j0.prototype.render=function(s){var t=this._internalRoot;if(t===null)throw Error(_e(409));ku(s,t,null,null)};Cu.prototype.unmount=j0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var t=s.containerInfo;Bn(function(){ku(null,s,null,null)}),t[fa]=null}};function Cu(s){this._internalRoot=s}Cu.prototype.unstable_scheduleHydration=function(s){if(s){var t=bj();s={blockedOn:null,target:s,priority:t};for(var r=0;r<za.length&&t!==0&&t<za[r].priority;r++);za.splice(r,0,s),r===0&&vj(s)}};function v0(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Iu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function _g(){}function n3(s,t,r,a,i){if(i){if(typeof a=="function"){var o=a;a=function(){var p=zd(l);o.call(p)}}var l=Fv(t,a,s,0,null,!1,!1,"",_g);return s._reactRootContainer=l,s[fa]=l.current,io(s.nodeType===8?s.parentNode:s),Bn(),l}for(;i=s.lastChild;)s.removeChild(i);if(typeof a=="function"){var c=a;a=function(){var p=zd(x);c.call(p)}}var x=y0(s,0,!1,null,null,!1,!1,"",_g);return s._reactRootContainer=x,s[fa]=x.current,io(s.nodeType===8?s.parentNode:s),Bn(function(){ku(t,x,r,a)}),x}function Eu(s,t,r,a,i){var o=r._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var c=i;i=function(){var x=zd(l);c.call(x)}}ku(t,l,s,i)}else l=n3(r,t,s,i,a);return zd(l)}gj=function(s){switch(s.tag){case 3:var t=s.stateNode;if(t.current.memoizedState.isDehydrated){var r=Il(t.pendingLanes);r!==0&&(Bh(t,r|1),Ys(t,as()),!(wt&6)&&(Bi=as()+500,fn()))}break;case 13:Bn(function(){var a=ga(s,1);if(a!==null){var i=Vs();Tr(a,s,1,i)}}),b0(s,1)}};Fh=function(s){if(s.tag===13){var t=ga(s,134217728);if(t!==null){var r=Vs();Tr(t,s,134217728,r)}b0(s,134217728)}};yj=function(s){if(s.tag===13){var t=Xa(s),r=ga(s,t);if(r!==null){var a=Vs();Tr(r,s,t,a)}b0(s,t)}};bj=function(){return _t};jj=function(s,t){var r=_t;try{return _t=s,t()}finally{_t=r}};jm=function(s,t,r){switch(t){case"input":if(mm(s,r),t=r.name,r.type==="radio"&&t!=null){for(r=s;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==s&&a.form===s.form){var i=gu(a);if(!i)throw Error(_e(90));Jb(a),mm(a,i)}}}break;case"textarea":Zb(s,r);break;case"select":t=r.value,t!=null&&ki(s,!!r.multiple,t,!1)}};ij=h0;lj=Bn;var i3={usingClientEntryPoint:!1,Events:[Ro,pi,gu,aj,nj,h0]},jl={findFiberByHostInstance:Sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l3={bundleType:jl.bundleType,version:jl.version,rendererPackageName:jl.rendererPackageName,rendererConfig:jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ka.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=dj(s),s===null?null:s.stateNode},findFiberByHostInstance:jl.findFiberByHostInstance||a3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{mu=Dc.inject(l3),Wr=Dc}catch{}}cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i3;cr.createPortal=function(s,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v0(t))throw Error(_e(200));return r3(s,t,null,r)};cr.createRoot=function(s,t){if(!v0(s))throw Error(_e(299));var r=!1,a="",i=Uv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=y0(s,1,!1,null,null,r,!1,a,i),s[fa]=t.current,io(s.nodeType===8?s.parentNode:s),new j0(t)};cr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var t=s._reactInternals;if(t===void 0)throw typeof s.render=="function"?Error(_e(188)):(s=Object.keys(s).join(","),Error(_e(268,s)));return s=dj(t),s=s===null?null:s.stateNode,s};cr.flushSync=function(s){return Bn(s)};cr.hydrate=function(s,t,r){if(!Iu(t))throw Error(_e(200));return Eu(null,s,t,!0,r)};cr.hydrateRoot=function(s,t,r){if(!v0(s))throw Error(_e(405));var a=r!=null&&r.hydratedSources||null,i=!1,o="",l=Uv;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Fv(t,null,s,1,r??null,i,!1,o,l),s[fa]=t.current,io(s),a)for(s=0;s<a.length;s++)r=a[s],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Cu(t)};cr.render=function(s,t,r){if(!Iu(t))throw Error(_e(200));return Eu(null,s,t,!1,r)};cr.unmountComponentAtNode=function(s){if(!Iu(s))throw Error(_e(40));return s._reactRootContainer?(Bn(function(){Eu(null,null,s,!1,function(){s._reactRootContainer=null,s[fa]=null})}),!0):!1};cr.unstable_batchedUpdates=h0;cr.unstable_renderSubtreeIntoContainer=function(s,t,r,a){if(!Iu(r))throw Error(_e(200));if(s==null||s._reactInternals===void 0)throw Error(_e(38));return Eu(s,t,r,!1,a)};cr.version="18.3.1-next-f1338f8080-20240426";function $v(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($v)}catch(s){console.error(s)}}$v(),$b.exports=cr;var o3=$b.exports,Pg=o3;im.createRoot=Pg.createRoot,im.hydrateRoot=Pg.hydrateRoot;const c3="modulepreload",d3=function(s){return"/"+s},Tg={},u3=function(t,r,a){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=d3(o),o in Tg)return;Tg[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!a)for(let N=i.length-1;N>=0;N--){const E=i[N];if(E.href===o&&(!l||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const p=document.createElement("link");if(p.rel=l?"stylesheet":c3,l||(p.as="script",p.crossOrigin=""),p.href=o,document.head.appendChild(p),l)return new Promise((N,E)=>{p.addEventListener("load",N),p.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})};var N0={};Object.defineProperty(N0,"__esModule",{value:!0});N0.parse=y3;N0.serialize=b3;const x3=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,m3=/^[\u0021-\u003A\u003C-\u007E]*$/,h3=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,p3=/^[\u0020-\u003A\u003D-\u007E]*$/,f3=Object.prototype.toString,g3=(()=>{const s=function(){};return s.prototype=Object.create(null),s})();function y3(s,t){const r=new g3,a=s.length;if(a<2)return r;const i=(t==null?void 0:t.decode)||j3;let o=0;do{const l=s.indexOf("=",o);if(l===-1)break;const c=s.indexOf(";",o),x=c===-1?a:c;if(l>x){o=s.lastIndexOf(";",l-1)+1;continue}const p=Dg(s,o,l),N=Ag(s,l,p),E=s.slice(p,N);if(r[E]===void 0){let S=Dg(s,l+1,x),R=Ag(s,x,S);const y=i(s.slice(S,R));r[E]=y}o=x+1}while(o<a);return r}function Dg(s,t,r){do{const a=s.charCodeAt(t);if(a!==32&&a!==9)return t}while(++t<r);return r}function Ag(s,t,r){for(;t>r;){const a=s.charCodeAt(--t);if(a!==32&&a!==9)return t+1}return r}function b3(s,t,r){const a=(r==null?void 0:r.encode)||encodeURIComponent;if(!x3.test(s))throw new TypeError(`argument name is invalid: ${s}`);const i=a(t);if(!m3.test(i))throw new TypeError(`argument val is invalid: ${t}`);let o=s+"="+i;if(!r)return o;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);o+="; Max-Age="+r.maxAge}if(r.domain){if(!h3.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);o+="; Domain="+r.domain}if(r.path){if(!p3.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);o+="; Path="+r.path}if(r.expires){if(!v3(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.partitioned&&(o+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return o}function j3(s){if(s.indexOf("%")===-1)return s;try{return decodeURIComponent(s)}catch{return s}}function v3(s){return f3.call(s)==="[object Date]"}var Rg="popstate";function N3(s={}){function t(a,i){let{pathname:o,search:l,hash:c}=a.location;return Zm("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){return typeof i=="string"?i:fo(i)}return k3(t,r,null,s)}function Kt(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function Jr(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function w3(){return Math.random().toString(36).substring(2,10)}function Mg(s,t){return{usr:s.state,key:s.key,idx:t}}function Zm(s,t,r=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Ji(t):t,state:r,key:t&&t.key||a||w3()}}function fo({pathname:s="/",search:t="",hash:r=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Ji(s){let t={};if(s){let r=s.indexOf("#");r>=0&&(t.hash=s.substring(r),s=s.substring(0,r));let a=s.indexOf("?");a>=0&&(t.search=s.substring(a),s=s.substring(0,a)),s&&(t.pathname=s)}return t}function k3(s,t,r,a={}){let{window:i=document.defaultView,v5Compat:o=!1}=a,l=i.history,c="POP",x=null,p=N();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function N(){return(l.state||{idx:null}).idx}function E(){c="POP";let v=N(),P=v==null?null:v-p;p=v,x&&x({action:c,location:V.location,delta:P})}function S(v,P){c="PUSH";let z=Zm(V.location,v,P);r&&r(z,v),p=N()+1;let M=Mg(z,p),H=V.createHref(z);try{l.pushState(M,"",H)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(H)}o&&x&&x({action:c,location:V.location,delta:1})}function R(v,P){c="REPLACE";let z=Zm(V.location,v,P);r&&r(z,v),p=N();let M=Mg(z,p),H=V.createHref(z);l.replaceState(M,"",H),o&&x&&x({action:c,location:V.location,delta:0})}function y(v){let P=i.location.origin!=="null"?i.location.origin:i.location.href,z=typeof v=="string"?v:fo(v);return z=z.replace(/ $/,"%20"),Kt(P,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,P)}let V={get action(){return c},get location(){return s(i,l)},listen(v){if(x)throw new Error("A history only accepts one active listener");return i.addEventListener(Rg,E),x=v,()=>{i.removeEventListener(Rg,E),x=null}},createHref(v){return t(i,v)},createURL:y,encodeLocation(v){let P=y(v);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:S,replace:R,go(v){return l.go(v)}};return V}function qv(s,t,r="/"){return C3(s,t,r,!1)}function C3(s,t,r,a){let i=typeof t=="string"?Ji(t):t,o=ba(i.pathname||"/",r);if(o==null)return null;let l=Wv(s);I3(l);let c=null;for(let x=0;c==null&&x<l.length;++x){let p=O3(o);c=M3(l[x],p,a)}return c}function Wv(s,t=[],r=[],a=""){let i=(o,l,c)=>{let x={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};x.relativePath.startsWith("/")&&(Kt(x.relativePath.startsWith(a),`Absolute route path "${x.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(a.length));let p=ma([a,x.relativePath]),N=r.concat(x);o.children&&o.children.length>0&&(Kt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Wv(o.children,t,N,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:A3(p,o.index),routesMeta:N})};return s.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let x of Gv(o.path))i(o,l,x)}),t}function Gv(s){let t=s.split("/");if(t.length===0)return[];let[r,...a]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(a.length===0)return i?[o,""]:[o];let l=Gv(a.join("/")),c=[];return c.push(...l.map(x=>x===""?o:[o,x].join("/"))),i&&c.push(...l),c.map(x=>s.startsWith("/")&&x===""?"/":x)}function I3(s){s.sort((t,r)=>t.score!==r.score?r.score-t.score:R3(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var E3=/^:[\w-]+$/,S3=3,_3=2,P3=1,T3=10,D3=-2,zg=s=>s==="*";function A3(s,t){let r=s.split("/"),a=r.length;return r.some(zg)&&(a+=D3),t&&(a+=_3),r.filter(i=>!zg(i)).reduce((i,o)=>i+(E3.test(o)?S3:o===""?P3:T3),a)}function R3(s,t){return s.length===t.length&&s.slice(0,-1).every((a,i)=>a===t[i])?s[s.length-1]-t[t.length-1]:0}function M3(s,t,r=!1){let{routesMeta:a}=s,i={},o="/",l=[];for(let c=0;c<a.length;++c){let x=a[c],p=c===a.length-1,N=o==="/"?t:t.slice(o.length)||"/",E=Od({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},N),S=x.route;if(!E&&p&&r&&!a[a.length-1].route.index&&(E=Od({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},N)),!E)return null;Object.assign(i,E.params),l.push({params:i,pathname:ma([o,E.pathname]),pathnameBase:F3(ma([o,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(o=ma([o,E.pathnameBase]))}return l}function Od(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,a]=z3(s.path,s.caseSensitive,s.end),i=t.match(r);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:a.reduce((p,{paramName:N,isOptional:E},S)=>{if(N==="*"){let y=c[S]||"";l=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const R=c[S];return E&&!R?p[N]=void 0:p[N]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:s}}function z3(s,t=!1,r=!0){Jr(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],i="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,x)=>(a.push({paramName:c,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),i+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":s!==""&&s!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),a]}function O3(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Jr(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function ba(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=s.charAt(r);return a&&a!=="/"?null:s.slice(r)||"/"}function L3(s,t="/"){let{pathname:r,search:a="",hash:i=""}=typeof s=="string"?Ji(s):s;return{pathname:r?r.startsWith("/")?r:V3(r,t):t,search:U3(a),hash:$3(i)}}function V3(s,t){let r=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function $x(s,t,r,a){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B3(s){return s.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Hv(s){let t=B3(s);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function Qv(s,t,r,a=!1){let i;typeof s=="string"?i=Ji(s):(i={...s},Kt(!i.pathname||!i.pathname.includes("?"),$x("?","pathname","search",i)),Kt(!i.pathname||!i.pathname.includes("#"),$x("#","pathname","hash",i)),Kt(!i.search||!i.search.includes("#"),$x("#","search","hash",i)));let o=s===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=r;else{let E=t.length-1;if(!a&&l.startsWith("..")){let S=l.split("/");for(;S[0]==="..";)S.shift(),E-=1;i.pathname=S.join("/")}c=E>=0?t[E]:"/"}let x=L3(i,c),p=l&&l!=="/"&&l.endsWith("/"),N=(o||l===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(p||N)&&(x.pathname+="/"),x}var ma=s=>s.join("/").replace(/\/\/+/g,"/"),F3=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),U3=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,$3=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function q3(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Kv=["POST","PUT","PATCH","DELETE"];new Set(Kv);var W3=["GET",...Kv];new Set(W3);var Xi=j.createContext(null);Xi.displayName="DataRouter";var Su=j.createContext(null);Su.displayName="DataRouterState";var Yv=j.createContext({isTransitioning:!1});Yv.displayName="ViewTransition";var G3=j.createContext(new Map);G3.displayName="Fetchers";var H3=j.createContext(null);H3.displayName="Await";var ta=j.createContext(null);ta.displayName="Navigation";var zo=j.createContext(null);zo.displayName="Location";var Ca=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ca.displayName="Route";var w0=j.createContext(null);w0.displayName="RouteError";function Q3(s,{relative:t}={}){Kt(Oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=j.useContext(ta),{hash:i,pathname:o,search:l}=Lo(s,{relative:t}),c=o;return r!=="/"&&(c=o==="/"?r:ma([r,o])),a.createHref({pathname:c,search:l,hash:i})}function Oo(){return j.useContext(zo)!=null}function Yn(){return Kt(Oo(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(zo).location}var Jv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xv(s){j.useContext(ta).static||j.useLayoutEffect(s)}function mt(){let{isDataRoute:s}=j.useContext(Ca);return s?lC():K3()}function K3(){Kt(Oo(),"useNavigate() may be used only in the context of a <Router> component.");let s=j.useContext(Xi),{basename:t,navigator:r}=j.useContext(ta),{matches:a}=j.useContext(Ca),{pathname:i}=Yn(),o=JSON.stringify(Hv(a)),l=j.useRef(!1);return Xv(()=>{l.current=!0}),j.useCallback((x,p={})=>{if(Jr(l.current,Jv),!l.current)return;if(typeof x=="number"){r.go(x);return}let N=Qv(x,JSON.parse(o),i,p.relative==="path");s==null&&t!=="/"&&(N.pathname=N.pathname==="/"?t:ma([t,N.pathname])),(p.replace?r.replace:r.push)(N,p.state,p)},[t,r,o,i,s])}j.createContext(null);function Lo(s,{relative:t}={}){let{matches:r}=j.useContext(Ca),{pathname:a}=Yn(),i=JSON.stringify(Hv(r));return j.useMemo(()=>Qv(s,JSON.parse(i),a,t==="path"),[s,i,a,t])}function Y3(s,t){return Zv(s,t)}function Zv(s,t,r,a){var z;Kt(Oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=j.useContext(ta),{matches:l}=j.useContext(Ca),c=l[l.length-1],x=c?c.params:{},p=c?c.pathname:"/",N=c?c.pathnameBase:"/",E=c&&c.route;{let M=E&&E.path||"";eN(p,!E||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let S=Yn(),R;if(t){let M=typeof t=="string"?Ji(t):t;Kt(N==="/"||((z=M.pathname)==null?void 0:z.startsWith(N)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${N}" but pathname "${M.pathname}" was given in the \`location\` prop.`),R=M}else R=S;let y=R.pathname||"/",V=y;if(N!=="/"){let M=N.replace(/^\//,"").split("/");V="/"+y.replace(/^\//,"").split("/").slice(M.length).join("/")}let v=!o&&r&&r.matches&&r.matches.length>0?r.matches:qv(s,{pathname:V});Jr(E||v!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Jr(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=tC(v&&v.map(M=>Object.assign({},M,{params:Object.assign({},x,M.params),pathname:ma([N,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?N:ma([N,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,r,a);return t&&P?j.createElement(zo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},P):P}function J3(){let s=iC(),t=q3(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},l=null;return console.error("Error handled by React Router default ErrorBoundary:",s),l=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:i},r):null,l)}var X3=j.createElement(J3,null),Z3=class extends j.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?j.createElement(Ca.Provider,{value:this.props.routeContext},j.createElement(w0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eC({routeContext:s,match:t,children:r}){let a=j.useContext(Xi);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Ca.Provider,{value:s},r)}function tC(s,t=[],r=null,a=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let i=s,o=r==null?void 0:r.errors;if(o!=null){let x=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Kt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,x+1))}let l=!1,c=-1;if(r)for(let x=0;x<i.length;x++){let p=i[x];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=x),p.route.id){let{loaderData:N,errors:E}=r,S=p.route.loader&&!N.hasOwnProperty(p.route.id)&&(!E||E[p.route.id]===void 0);if(p.route.lazy||S){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((x,p,N)=>{let E,S=!1,R=null,y=null;r&&(E=o&&p.route.id?o[p.route.id]:void 0,R=p.route.errorElement||X3,l&&(c<0&&N===0?(eN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,y=null):c===N&&(S=!0,y=p.route.hydrateFallbackElement||null)));let V=t.concat(i.slice(0,N+1)),v=()=>{let P;return E?P=R:S?P=y:p.route.Component?P=j.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=x,j.createElement(eC,{match:p,routeContext:{outlet:x,matches:V,isDataRoute:r!=null},children:P})};return r&&(p.route.ErrorBoundary||p.route.errorElement||N===0)?j.createElement(Z3,{location:r.location,revalidation:r.revalidation,component:R,error:E,children:v(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):v()},null)}function k0(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sC(s){let t=j.useContext(Xi);return Kt(t,k0(s)),t}function rC(s){let t=j.useContext(Su);return Kt(t,k0(s)),t}function aC(s){let t=j.useContext(Ca);return Kt(t,k0(s)),t}function C0(s){let t=aC(s),r=t.matches[t.matches.length-1];return Kt(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function nC(){return C0("useRouteId")}function iC(){var a;let s=j.useContext(w0),t=rC("useRouteError"),r=C0("useRouteError");return s!==void 0?s:(a=t.errors)==null?void 0:a[r]}function lC(){let{router:s}=sC("useNavigate"),t=C0("useNavigate"),r=j.useRef(!1);return Xv(()=>{r.current=!0}),j.useCallback(async(i,o={})=>{Jr(r.current,Jv),r.current&&(typeof i=="number"?s.navigate(i):await s.navigate(i,{fromRouteId:t,...o}))},[s,t])}var Og={};function eN(s,t,r){!t&&!Og[s]&&(Og[s]=!0,Jr(!1,r))}j.memo(oC);function oC({routes:s,future:t,state:r}){return Zv(s,void 0,r,t)}function ht(s){Kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cC({basename:s="/",children:t=null,location:r,navigationType:a="POP",navigator:i,static:o=!1}){Kt(!Oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=s.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof r=="string"&&(r=Ji(r));let{pathname:x="/",search:p="",hash:N="",state:E=null,key:S="default"}=r,R=j.useMemo(()=>{let y=ba(x,l);return y==null?null:{location:{pathname:y,search:p,hash:N,state:E,key:S},navigationType:a}},[l,x,p,N,E,S,a]);return Jr(R!=null,`<Router basename="${l}"> is not able to match the URL "${x}${p}${N}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:j.createElement(ta.Provider,{value:c},j.createElement(zo.Provider,{children:t,value:R}))}function dC({children:s,location:t}){return Y3(eh(s),t)}function eh(s,t=[]){let r=[];return j.Children.forEach(s,(a,i)=>{if(!j.isValidElement(a))return;let o=[...t,i];if(a.type===j.Fragment){r.push.apply(r,eh(a.props.children,o));return}Kt(a.type===ht,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Kt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let l={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=eh(a.props.children,o)),r.push(l)}),r}var td="get",sd="application/x-www-form-urlencoded";function _u(s){return s!=null&&typeof s.tagName=="string"}function uC(s){return _u(s)&&s.tagName.toLowerCase()==="button"}function xC(s){return _u(s)&&s.tagName.toLowerCase()==="form"}function mC(s){return _u(s)&&s.tagName.toLowerCase()==="input"}function hC(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function pC(s,t){return s.button===0&&(!t||t==="_self")&&!hC(s)}var Ac=null;function fC(){if(Ac===null)try{new FormData(document.createElement("form"),0),Ac=!1}catch{Ac=!0}return Ac}var gC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qx(s){return s!=null&&!gC.has(s)?(Jr(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sd}"`),null):s}function yC(s,t){let r,a,i,o,l;if(xC(s)){let c=s.getAttribute("action");a=c?ba(c,t):null,r=s.getAttribute("method")||td,i=qx(s.getAttribute("enctype"))||sd,o=new FormData(s)}else if(uC(s)||mC(s)&&(s.type==="submit"||s.type==="image")){let c=s.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=s.getAttribute("formaction")||c.getAttribute("action");if(a=x?ba(x,t):null,r=s.getAttribute("formmethod")||c.getAttribute("method")||td,i=qx(s.getAttribute("formenctype"))||qx(c.getAttribute("enctype"))||sd,o=new FormData(c,s),!fC()){let{name:p,type:N,value:E}=s;if(N==="image"){let S=p?`${p}.`:"";o.append(`${S}x`,"0"),o.append(`${S}y`,"0")}else p&&o.append(p,E)}}else{if(_u(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=td,a=null,i=sd,l=s}return o&&i==="text/plain"&&(l=o,o=void 0),{action:a,method:r.toLowerCase(),encType:i,formData:o,body:l}}function I0(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}async function bC(s,t){if(s.id in t)return t[s.id];try{let r=await u3(()=>import(s.module),[]);return t[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jC(s){return s!=null&&typeof s.page=="string"}function vC(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function NC(s,t,r){let a=await Promise.all(s.map(async i=>{let o=t.routes[i.route.id];if(o){let l=await bC(o,r);return l.links?l.links():[]}return[]}));return IC(a.flat(1).filter(vC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Lg(s,t,r,a,i,o){let l=(x,p)=>r[p]?x.route.id!==r[p].route.id:!0,c=(x,p)=>{var N;return r[p].pathname!==x.pathname||((N=r[p].route.path)==null?void 0:N.endsWith("*"))&&r[p].params["*"]!==x.params["*"]};return o==="assets"?t.filter((x,p)=>l(x,p)||c(x,p)):o==="data"?t.filter((x,p)=>{var E;let N=a.routes[x.route.id];if(!N||!N.hasLoader)return!1;if(l(x,p)||c(x,p))return!0;if(x.route.shouldRevalidate){let S=x.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((E=r[0])==null?void 0:E.params)||{},nextUrl:new URL(s,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function wC(s,t,{includeHydrateFallback:r}={}){return kC(s.map(a=>{let i=t.routes[a.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function kC(s){return[...new Set(s)]}function CC(s){let t={},r=Object.keys(s).sort();for(let a of r)t[a]=s[a];return t}function IC(s,t){let r=new Set,a=new Set(t);return s.reduce((i,o)=>{if(t&&!jC(o)&&o.as==="script"&&o.href&&a.has(o.href))return i;let c=JSON.stringify(CC(o));return r.has(c)||(r.add(c),i.push({key:c,link:o})),i},[])}function EC(s,t){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname="_root.data":t&&ba(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function tN(){let s=j.useContext(Xi);return I0(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function SC(){let s=j.useContext(Su);return I0(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var E0=j.createContext(void 0);E0.displayName="FrameworkContext";function sN(){let s=j.useContext(E0);return I0(s,"You must render this element inside a <HydratedRouter> element"),s}function _C(s,t){let r=j.useContext(E0),[a,i]=j.useState(!1),[o,l]=j.useState(!1),{onFocus:c,onBlur:x,onMouseEnter:p,onMouseLeave:N,onTouchStart:E}=t,S=j.useRef(null);j.useEffect(()=>{if(s==="render"&&l(!0),s==="viewport"){let V=P=>{P.forEach(z=>{l(z.isIntersecting)})},v=new IntersectionObserver(V,{threshold:.5});return S.current&&v.observe(S.current),()=>{v.disconnect()}}},[s]),j.useEffect(()=>{if(a){let V=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(V)}}},[a]);let R=()=>{i(!0)},y=()=>{i(!1),l(!1)};return r?s!=="intent"?[o,S,{}]:[o,S,{onFocus:vl(c,R),onBlur:vl(x,y),onMouseEnter:vl(p,R),onMouseLeave:vl(N,y),onTouchStart:vl(E,R)}]:[!1,S,{}]}function vl(s,t){return r=>{s&&s(r),r.defaultPrevented||t(r)}}function PC({page:s,...t}){let{router:r}=tN(),a=j.useMemo(()=>qv(r.routes,s,r.basename),[r.routes,s,r.basename]);return a?j.createElement(DC,{page:s,matches:a,...t}):null}function TC(s){let{manifest:t,routeModules:r}=sN(),[a,i]=j.useState([]);return j.useEffect(()=>{let o=!1;return NC(s,t,r).then(l=>{o||i(l)}),()=>{o=!0}},[s,t,r]),a}function DC({page:s,matches:t,...r}){let a=Yn(),{manifest:i,routeModules:o}=sN(),{basename:l}=tN(),{loaderData:c,matches:x}=SC(),p=j.useMemo(()=>Lg(s,t,x,i,a,"data"),[s,t,x,i,a]),N=j.useMemo(()=>Lg(s,t,x,i,a,"assets"),[s,t,x,i,a]),E=j.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let y=new Set,V=!1;if(t.forEach(P=>{var M;let z=i.routes[P.route.id];!z||!z.hasLoader||(!p.some(H=>H.route.id===P.route.id)&&P.route.id in c&&((M=o[P.route.id])!=null&&M.shouldRevalidate)||z.hasClientLoader?V=!0:y.add(P.route.id))}),y.size===0)return[];let v=EC(s,l);return V&&y.size>0&&v.searchParams.set("_routes",t.filter(P=>y.has(P.route.id)).map(P=>P.route.id).join(",")),[v.pathname+v.search]},[l,c,a,i,p,t,s,o]),S=j.useMemo(()=>wC(N,i),[N,i]),R=TC(N);return j.createElement(j.Fragment,null,E.map(y=>j.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),S.map(y=>j.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),R.map(({key:y,link:V})=>j.createElement("link",{key:y,...V})))}function AC(...s){return t=>{s.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var rN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rN&&(window.__reactRouterVersion="7.5.0")}catch{}function RC({basename:s,children:t,window:r}){let a=j.useRef();a.current==null&&(a.current=N3({window:r,v5Compat:!0}));let i=a.current,[o,l]=j.useState({action:i.action,location:i.location}),c=j.useCallback(x=>{j.startTransition(()=>l(x))},[l]);return j.useLayoutEffect(()=>i.listen(c),[i,c]),j.createElement(cC,{basename:s,children:t,location:o.location,navigationType:o.action,navigator:i})}var aN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h=j.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:i,reloadDocument:o,replace:l,state:c,target:x,to:p,preventScrollReset:N,viewTransition:E,...S},R){let{basename:y}=j.useContext(ta),V=typeof p=="string"&&aN.test(p),v,P=!1;if(typeof p=="string"&&V&&(v=p,rN))try{let $=new URL(window.location.href),B=p.startsWith("//")?new URL($.protocol+p):new URL(p),J=ba(B.pathname,y);B.origin===$.origin&&J!=null?p=J+B.search+B.hash:P=!0}catch{Jr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=Q3(p,{relative:i}),[M,H,Q]=_C(a,S),W=LC(p,{replace:l,state:c,target:x,preventScrollReset:N,relative:i,viewTransition:E});function D($){t&&t($),$.defaultPrevented||W($)}let d=j.createElement("a",{...S,...Q,href:v||z,onClick:P||o?t:D,ref:AC(R,H),target:x,"data-discover":!V&&r==="render"?"true":void 0});return M&&!V?j.createElement(j.Fragment,null,d,j.createElement(PC,{page:z})):d});h.displayName="Link";var MC=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:i=!1,style:o,to:l,viewTransition:c,children:x,...p},N){let E=Lo(l,{relative:p.relative}),S=Yn(),R=j.useContext(Su),{navigator:y,basename:V}=j.useContext(ta),v=R!=null&&$C(E)&&c===!0,P=y.encodeLocation?y.encodeLocation(E).pathname:E.pathname,z=S.pathname,M=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;r||(z=z.toLowerCase(),M=M?M.toLowerCase():null,P=P.toLowerCase()),M&&V&&(M=ba(M,V)||M);const H=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let Q=z===P||!i&&z.startsWith(P)&&z.charAt(H)==="/",W=M!=null&&(M===P||!i&&M.startsWith(P)&&M.charAt(P.length)==="/"),D={isActive:Q,isPending:W,isTransitioning:v},d=Q?t:void 0,$;typeof a=="function"?$=a(D):$=[a,Q?"active":null,W?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(D):o;return j.createElement(h,{...p,"aria-current":d,className:$,ref:N,style:B,to:l,viewTransition:c},typeof x=="function"?x(D):x)});MC.displayName="NavLink";var zC=j.forwardRef(({discover:s="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:i,state:o,method:l=td,action:c,onSubmit:x,relative:p,preventScrollReset:N,viewTransition:E,...S},R)=>{let y=FC(),V=UC(c,{relative:p}),v=l.toLowerCase()==="get"?"get":"post",P=typeof c=="string"&&aN.test(c),z=M=>{if(x&&x(M),M.defaultPrevented)return;M.preventDefault();let H=M.nativeEvent.submitter,Q=(H==null?void 0:H.getAttribute("formmethod"))||l;y(H||M.currentTarget,{fetcherKey:t,method:Q,navigate:r,replace:i,state:o,relative:p,preventScrollReset:N,viewTransition:E})};return j.createElement("form",{ref:R,method:v,action:V,onSubmit:a?x:z,...S,"data-discover":!P&&s==="render"?"true":void 0})});zC.displayName="Form";function OC(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nN(s){let t=j.useContext(Xi);return Kt(t,OC(s)),t}function LC(s,{target:t,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=mt(),x=Yn(),p=Lo(s,{relative:o});return j.useCallback(N=>{if(pC(N,t)){N.preventDefault();let E=r!==void 0?r:fo(x)===fo(p);c(s,{replace:E,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[x,c,p,r,a,t,s,i,o,l])}var VC=0,BC=()=>`__${String(++VC)}__`;function FC(){let{router:s}=nN("useSubmit"),{basename:t}=j.useContext(ta),r=nC();return j.useCallback(async(a,i={})=>{let{action:o,method:l,encType:c,formData:x,body:p}=yC(a,t);if(i.navigate===!1){let N=i.fetcherKey||BC();await s.fetch(N,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:x,body:p,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await s.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:x,body:p,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[s,t,r])}function UC(s,{relative:t}={}){let{basename:r}=j.useContext(ta),a=j.useContext(Ca);Kt(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),o={...Lo(s||".",{relative:t})},l=Yn();if(s==null){o.search=l.search;let c=new URLSearchParams(o.search),x=c.getAll("index");if(x.some(N=>N==="")){c.delete("index"),x.filter(E=>E).forEach(E=>c.append("index",E));let N=c.toString();o.search=N?`?${N}`:""}}return(!s||s===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:ma([r,o.pathname])),fo(o)}function $C(s,t={}){let r=j.useContext(Yv);Kt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=nN("useViewTransitionState"),i=Lo(s,{relative:t.relative});if(!r.isTransitioning)return!1;let o=ba(r.currentLocation.pathname,a)||r.currentLocation.pathname,l=ba(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Od(i.pathname,l)!=null||Od(i.pathname,o)!=null}new TextEncoder;var iN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Vg=Wa.createContext&&Wa.createContext(iN),qC=["attr","size","title"];function WC(s,t){if(s==null)return{};var r=GC(s,t),a,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);for(i=0;i<o.length;i++)a=o[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(r[a]=s[a])}return r}function GC(s,t){if(s==null)return{};var r={};for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)){if(t.indexOf(a)>=0)continue;r[a]=s[a]}return r}function Ld(){return Ld=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=r[a])}return s},Ld.apply(this,arguments)}function Bg(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),r.push.apply(r,a)}return r}function Vd(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bg(Object(r),!0).forEach(function(a){HC(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Bg(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}function HC(s,t,r){return t=QC(t),t in s?Object.defineProperty(s,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[t]=r,s}function QC(s){var t=KC(s,"string");return typeof t=="symbol"?t:t+""}function KC(s,t){if(typeof s!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var a=r.call(s,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function lN(s){return s&&s.map((t,r)=>Wa.createElement(t.tag,Vd({key:r},t.attr),lN(t.child)))}function rt(s){return t=>Wa.createElement(YC,Ld({attr:Vd({},s.attr)},t),lN(s.child))}function YC(s){var t=r=>{var{attr:a,size:i,title:o}=s,l=WC(s,qC),c=i||r.size||"1em",x;return r.className&&(x=r.className),s.className&&(x=(x?x+" ":"")+s.className),Wa.createElement("svg",Ld({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,l,{className:x,style:Vd(Vd({color:s.color||r.color},r.style),s.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&Wa.createElement("title",null,o),s.children)};return Vg!==void 0?Wa.createElement(Vg.Consumer,null,r=>t(r)):t(iN)}function S0(s){return rt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(s)}function JC(s){return rt({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(s)}function XC(s){return rt({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(s)}function Fg(s){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"},child:[]}]})(s)}function _0(s){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(s)}function Ug(s){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(s)}function Dt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(s)}function lt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(s)}function oN(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(s)}function ZC(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(s)}function Ke(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(s)}function Rc(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(s)}function go(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(s)}function $l(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(s)}function It(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(s)}function eI(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(s)}function Nl(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(s)}function hs(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(s)}function Mc(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(s)}function Ge(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(s)}function De(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"},child:[]},{tag:"line",attr:{x1:"7",y1:"2",x2:"7",y2:"22"},child:[]},{tag:"line",attr:{x1:"17",y1:"2",x2:"17",y2:"22"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"2",y1:"7",x2:"7",y2:"7"},child:[]},{tag:"line",attr:{x1:"2",y1:"17",x2:"7",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"17",x2:"22",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"7",x2:"22",y2:"7"},child:[]}]})(s)}function Ye(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(s)}function Pu(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(s)}function Pt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(s)}function Je(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(s)}function cN(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(s)}function pt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(s)}function tI(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(s)}function kt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(s)}function qr(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(s)}function Tt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(s)}function je(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 18V5l12-2v13"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"16",r:"3"},child:[]}]})(s)}function Xe(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"},child:[]},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"},child:[]},{tag:"path",attr:{d:"M2 2l7.586 7.586"},child:[]},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"},child:[]}]})(s)}function Ze(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"10 8 16 12 10 16 10 8"},child:[]}]})(s)}function $g(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(s)}function dN(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(s)}function Qe(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(s)}function yo(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(s)}function ut(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(s)}function At(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(s)}function Wx(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(s)}function sI(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(s)}function th(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(s)}function re(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"},child:[]},{tag:"polyline",attr:{points:"17 2 12 7 7 2"},child:[]}]})(s)}function qg(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(s)}function Rt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(s)}function Ve(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(s)}function ql(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(s)}function Ae(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"},child:[]},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"},child:[]}]})(s)}function le(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(s)}const rI=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=function(s){const t=[];let r=0;for(let a=0;a<s.length;a++){let i=s.charCodeAt(a);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(i=65536+((i&1023)<<10)+(s.charCodeAt(++a)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},aI=function(s){const t=[];let r=0,a=0;for(;r<s.length;){const i=s[r++];if(i<128)t[a++]=String.fromCharCode(i);else if(i>191&&i<224){const o=s[r++];t[a++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=s[r++],l=s[r++],c=s[r++],x=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;t[a++]=String.fromCharCode(55296+(x>>10)),t[a++]=String.fromCharCode(56320+(x&1023))}else{const o=s[r++],l=s[r++];t[a++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return t.join("")},xN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let i=0;i<s.length;i+=3){const o=s[i],l=i+1<s.length,c=l?s[i+1]:0,x=i+2<s.length,p=x?s[i+2]:0,N=o>>2,E=(o&3)<<4|c>>4;let S=(c&15)<<2|p>>6,R=p&63;x||(R=64,l||(S=64)),a.push(r[N],r[E],r[S],r[R])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(uN(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):aI(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let i=0;i<s.length;){const o=r[s.charAt(i++)],c=i<s.length?r[s.charAt(i)]:0;++i;const p=i<s.length?r[s.charAt(i)]:64;++i;const E=i<s.length?r[s.charAt(i)]:64;if(++i,o==null||c==null||p==null||E==null)throw new nI;const S=o<<2|c>>4;if(a.push(S),p!==64){const R=c<<4&240|p>>2;if(a.push(R),E!==64){const y=p<<6&192|E;a.push(y)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class nI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iI=function(s){const t=uN(s);return xN.encodeByteArray(t,!0)},Bd=function(s){return iI(s).replace(/\./g,"")},mN=function(s){try{return xN.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=()=>lI().__FIREBASE_DEFAULTS__,cI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const s={}.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},dI=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&mN(s[1]);return t&&JSON.parse(t)},Tu=()=>{try{return rI()||oI()||cI()||dI()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},hN=s=>{var t,r;return(r=(t=Tu())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[s]},pN=s=>{const t=hN(s);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),a]:[t.substring(0,r),a]},fN=()=>{var s;return(s=Tu())===null||s===void 0?void 0:s.config},gN=s=>{var t;return(t=Tu())===null||t===void 0?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=t||"demo-project",i=s.iat||0,o=s.sub||s.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},s),c="";return[Bd(JSON.stringify(r)),Bd(JSON.stringify(l)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ms())}function mI(){var s;const t=(s=Tu())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bN(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function pI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fI(){const s=Ms();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function gI(){return!mI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jN(){try{return typeof indexedDB=="object"}catch{return!1}}function vN(){return new Promise((s,t)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(a);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(a),s(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){t(r)}})}function yI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="FirebaseError";class vr extends Error{constructor(t,r,a){super(r),this.code=t,this.customData=a,this.name=bI,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jn.prototype.create)}}class Jn{constructor(t,r,a){this.service=t,this.serviceName=r,this.errors=a}create(t,...r){const a=r[0]||{},i=`${this.service}/${t}`,o=this.errors[t],l=o?jI(o,a):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new vr(i,c,a)}}function jI(s,t){return s.replace(vI,(r,a)=>{const i=t[a];return i!=null?String(i):`<${a}?>`})}const vI=/\{\$([^}]+)}/g;function NI(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ln(s,t){if(s===t)return!0;const r=Object.keys(s),a=Object.keys(t);for(const i of r){if(!a.includes(i))return!1;const o=s[i],l=t[i];if(Wg(o)&&Wg(l)){if(!ln(o,l))return!1}else if(o!==l)return!1}for(const i of a)if(!r.includes(i))return!1;return!0}function Wg(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(s){const t=[];for(const[r,a]of Object.entries(s))Array.isArray(a)?a.forEach(i=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Sl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[i,o]=a.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function _l(s){const t=s.indexOf("?");if(!t)return"";const r=s.indexOf("#",t);return s.substring(t,r>0?r:void 0)}function wI(s,t){const r=new kI(s,t);return r.subscribe.bind(r)}class kI{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,a){let i;if(t===void 0&&r===void 0&&a===void 0)throw new Error("Missing Observer.");CI(t,["next","error","complete"])?i=t:i={next:t,error:r,complete:a},i.next===void 0&&(i.next=Gx),i.error===void 0&&(i.error=Gx),i.complete===void 0&&(i.complete=Gx);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CI(s,t){if(typeof s!="object"||s===null)return!1;for(const r of t)if(r in s&&typeof s[r]=="function")return!0;return!1}function Gx(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=1e3,EI=2,SI=4*60*60*1e3,_I=.5;function Gg(s,t=II,r=EI){const a=t*Math.pow(r,s),i=Math.round(_I*a*(Math.random()-.5)*2);return Math.min(SI,a+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(s){return s&&s._delegate?s._delegate:s}class jr{constructor(t,r,a){this.name=t,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const a=new uI;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&a.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(DI(t))try{this.getOrInitializeService({instanceIdentifier:En})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});a.resolve(o)}catch{}}}}clearInstance(t=En){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=En){return this.instances.has(t)}getOptions(t=En){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);a===c&&l.resolve(i)}return i}onInit(t,r){var a;const i=this.normalizeInstanceIdentifier(r),o=(a=this.onInitCallbacks.get(i))!==null&&a!==void 0?a:new Set;o.add(t),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&t(l,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,r){const a=this.onInitCallbacks.get(r);if(a)for(const i of a)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:TI(t),options:r}),this.instances.set(t,a),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=En){return this.component?this.component.multipleInstances?t:En:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TI(s){return s===En?void 0:s}function DI(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new PI(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(gt||(gt={}));const RI={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},MI=gt.INFO,zI={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},OI=(s,t,...r)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),i=zI[t];if(i)console[i](`[${a}]  ${s.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Du{constructor(t){this.name=t,this._logLevel=MI,this._logHandler=OI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in gt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...t),this._logHandler(this,gt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...t),this._logHandler(this,gt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...t),this._logHandler(this,gt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...t),this._logHandler(this,gt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...t),this._logHandler(this,gt.ERROR,...t)}}const LI=(s,t)=>t.some(r=>s instanceof r);let Hg,Qg;function VI(){return Hg||(Hg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BI(){return Qg||(Qg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NN=new WeakMap,sh=new WeakMap,wN=new WeakMap,Hx=new WeakMap,P0=new WeakMap;function FI(s){const t=new Promise((r,a)=>{const i=()=>{s.removeEventListener("success",o),s.removeEventListener("error",l)},o=()=>{r(en(s.result)),i()},l=()=>{a(s.error),i()};s.addEventListener("success",o),s.addEventListener("error",l)});return t.then(r=>{r instanceof IDBCursor&&NN.set(r,s)}).catch(()=>{}),P0.set(t,s),t}function UI(s){if(sh.has(s))return;const t=new Promise((r,a)=>{const i=()=>{s.removeEventListener("complete",o),s.removeEventListener("error",l),s.removeEventListener("abort",l)},o=()=>{r(),i()},l=()=>{a(s.error||new DOMException("AbortError","AbortError")),i()};s.addEventListener("complete",o),s.addEventListener("error",l),s.addEventListener("abort",l)});sh.set(s,t)}let rh={get(s,t,r){if(s instanceof IDBTransaction){if(t==="done")return sh.get(s);if(t==="objectStoreNames")return s.objectStoreNames||wN.get(s);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return en(s[t])},set(s,t,r){return s[t]=r,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function $I(s){rh=s(rh)}function qI(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const a=s.call(Qx(this),t,...r);return wN.set(a,t.sort?t.sort():[t]),en(a)}:BI().includes(s)?function(...t){return s.apply(Qx(this),t),en(NN.get(this))}:function(...t){return en(s.apply(Qx(this),t))}}function WI(s){return typeof s=="function"?qI(s):(s instanceof IDBTransaction&&UI(s),LI(s,VI())?new Proxy(s,rh):s)}function en(s){if(s instanceof IDBRequest)return FI(s);if(Hx.has(s))return Hx.get(s);const t=WI(s);return t!==s&&(Hx.set(s,t),P0.set(t,s)),t}const Qx=s=>P0.get(s);function kN(s,t,{blocked:r,upgrade:a,blocking:i,terminated:o}={}){const l=indexedDB.open(s,t),c=en(l);return a&&l.addEventListener("upgradeneeded",x=>{a(en(l.result),x.oldVersion,x.newVersion,en(l.transaction),x)}),r&&l.addEventListener("blocked",x=>r(x.oldVersion,x.newVersion,x)),c.then(x=>{o&&x.addEventListener("close",()=>o()),i&&x.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const GI=["get","getKey","getAll","getAllKeys","count"],HI=["put","add","delete","clear"],Kx=new Map;function Kg(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Kx.get(t))return Kx.get(t);const r=t.replace(/FromIndex$/,""),a=t!==r,i=HI.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(i||GI.includes(r)))return;const o=async function(l,...c){const x=this.transaction(l,i?"readwrite":"readonly");let p=x.store;return a&&(p=p.index(c.shift())),(await Promise.all([p[r](...c),i&&x.done]))[0]};return Kx.set(t,o),o}$I(s=>({...s,get:(t,r,a)=>Kg(t,r)||s.get(t,r,a),has:(t,r)=>!!Kg(t,r)||s.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(KI(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function KI(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ah="@firebase/app",Yg="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new Du("@firebase/app"),YI="@firebase/app-compat",JI="@firebase/analytics-compat",XI="@firebase/analytics",ZI="@firebase/app-check-compat",eE="@firebase/app-check",tE="@firebase/auth",sE="@firebase/auth-compat",rE="@firebase/database",aE="@firebase/data-connect",nE="@firebase/database-compat",iE="@firebase/functions",lE="@firebase/functions-compat",oE="@firebase/installations",cE="@firebase/installations-compat",dE="@firebase/messaging",uE="@firebase/messaging-compat",xE="@firebase/performance",mE="@firebase/performance-compat",hE="@firebase/remote-config",pE="@firebase/remote-config-compat",fE="@firebase/storage",gE="@firebase/storage-compat",yE="@firebase/firestore",bE="@firebase/vertexai",jE="@firebase/firestore-compat",vE="firebase",NE="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="[DEFAULT]",wE={[ah]:"fire-core",[YI]:"fire-core-compat",[XI]:"fire-analytics",[JI]:"fire-analytics-compat",[eE]:"fire-app-check",[ZI]:"fire-app-check-compat",[tE]:"fire-auth",[sE]:"fire-auth-compat",[rE]:"fire-rtdb",[aE]:"fire-data-connect",[nE]:"fire-rtdb-compat",[iE]:"fire-fn",[lE]:"fire-fn-compat",[oE]:"fire-iid",[cE]:"fire-iid-compat",[dE]:"fire-fcm",[uE]:"fire-fcm-compat",[xE]:"fire-perf",[mE]:"fire-perf-compat",[hE]:"fire-rc",[pE]:"fire-rc-compat",[fE]:"fire-gcs",[gE]:"fire-gcs-compat",[yE]:"fire-fst",[jE]:"fire-fst-compat",[bE]:"fire-vertex","fire-js":"fire-js",[vE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new Map,kE=new Map,ih=new Map;function Jg(s,t){try{s.container.addComponent(t)}catch(r){ja.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,r)}}function Ar(s){const t=s.name;if(ih.has(t))return ja.debug(`There were multiple attempts to register component ${t}.`),!1;ih.set(t,s);for(const r of Fd.values())Jg(r,s);for(const r of kE.values())Jg(r,s);return!0}function gn(s,t){const r=s.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),s.container.getProvider(t)}function sr(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tn=new Jn("app","Firebase",CE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t,r,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw tn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=NE;function CN(s,t={}){let r=s;typeof t!="object"&&(t={name:t});const a=Object.assign({name:nh,automaticDataCollectionEnabled:!1},t),i=a.name;if(typeof i!="string"||!i)throw tn.create("bad-app-name",{appName:String(i)});if(r||(r=fN()),!r)throw tn.create("no-options");const o=Fd.get(i);if(o){if(ln(r,o.options)&&ln(a,o.config))return o;throw tn.create("duplicate-app",{appName:i})}const l=new AI(i);for(const x of ih.values())l.addComponent(x);const c=new IE(r,a,l);return Fd.set(i,c),c}function Au(s=nh){const t=Fd.get(s);if(!t&&s===nh&&fN())return CN();if(!t)throw tn.create("no-app",{appName:s});return t}function Js(s,t,r){var a;let i=(a=wE[s])!==null&&a!==void 0?a:s;r&&(i+=`-${r}`);const o=i.match(/\s|\//),l=t.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${t}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ja.warn(c.join(" "));return}Ar(new jr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="firebase-heartbeat-database",SE=1,bo="firebase-heartbeat-store";let Yx=null;function IN(){return Yx||(Yx=kN(EE,SE,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(bo)}catch(r){console.warn(r)}}}}).catch(s=>{throw tn.create("idb-open",{originalErrorMessage:s.message})})),Yx}async function _E(s){try{const r=(await IN()).transaction(bo),a=await r.objectStore(bo).get(EN(s));return await r.done,a}catch(t){if(t instanceof vr)ja.warn(t.message);else{const r=tn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ja.warn(r.message)}}}async function Xg(s,t){try{const a=(await IN()).transaction(bo,"readwrite");await a.objectStore(bo).put(t,EN(s)),await a.done}catch(r){if(r instanceof vr)ja.warn(r.message);else{const a=tn.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ja.warn(a.message)}}}function EN(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=1024,TE=30;class DE{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new RE(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Zg();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>TE){const l=ME(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ja.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Zg(),{heartbeatsToSend:a,unsentEntries:i}=AE(this._heartbeatsCache.heartbeats),o=Bd(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return ja.warn(r),""}}}function Zg(){return new Date().toISOString().substring(0,10)}function AE(s,t=PE){const r=[];let a=s.slice();for(const i of s){const o=r.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),ey(r)>t){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),ey(r)>t){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class RE{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jN()?vN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await _E(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xg(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Xg(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function ey(s){return Bd(JSON.stringify({version:2,heartbeats:s})).length}function ME(s){if(s.length===0)return-1;let t=0,r=s[0].date;for(let a=1;a<s.length;a++)s[a].date<r&&(r=s[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(s){Ar(new jr("platform-logger",t=>new QI(t),"PRIVATE")),Ar(new jr("heartbeat",t=>new DE(t),"PRIVATE")),Js(ah,Yg,s),Js(ah,Yg,"esm2017"),Js("fire-js","")}zE("");var OE="firebase",LE="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js(OE,LE,"app");const SN="@firebase/installations",T0="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=1e4,PN=`w:${T0}`,TN="FIS_v2",VE="https://firebaseinstallations.googleapis.com/v1",BE=60*60*1e3,FE="installations",UE="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fn=new Jn(FE,UE,$E);function DN(s){return s instanceof vr&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN({projectId:s}){return`${VE}/projects/${s}/installations`}function RN(s){return{token:s.token,requestStatus:2,expiresIn:WE(s.expiresIn),creationTime:Date.now()}}async function MN(s,t){const a=(await t.json()).error;return Fn.create("request-failed",{requestName:s,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function zN({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function qE(s,{refreshToken:t}){const r=zN(s);return r.append("Authorization",GE(t)),r}async function ON(s){const t=await s();return t.status>=500&&t.status<600?s():t}function WE(s){return Number(s.replace("s","000"))}function GE(s){return`${TN} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HE({appConfig:s,heartbeatServiceProvider:t},{fid:r}){const a=AN(s),i=zN(s),o=t.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={fid:r,authVersion:TN,appId:s.appId,sdkVersion:PN},c={method:"POST",headers:i,body:JSON.stringify(l)},x=await ON(()=>fetch(a,c));if(x.ok){const p=await x.json();return{fid:p.fid||r,registrationStatus:2,refreshToken:p.refreshToken,authToken:RN(p.authToken)}}else throw await MN("Create Installation",x)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(s){return new Promise(t=>{setTimeout(t,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=/^[cdef][\w-]{21}$/,lh="";function YE(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const r=JE(s);return KE.test(r)?r:lh}catch{return lh}}function JE(s){return QE(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new Map;function BN(s,t){const r=Ru(s);FN(r,t),XE(r,t)}function FN(s,t){const r=VN.get(s);if(r)for(const a of r)a(t)}function XE(s,t){const r=ZE();r&&r.postMessage({key:s,fid:t}),e1()}let Tn=null;function ZE(){return!Tn&&"BroadcastChannel"in self&&(Tn=new BroadcastChannel("[Firebase] FID Change"),Tn.onmessage=s=>{FN(s.data.key,s.data.fid)}),Tn}function e1(){VN.size===0&&Tn&&(Tn.close(),Tn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="firebase-installations-database",s1=1,Un="firebase-installations-store";let Jx=null;function D0(){return Jx||(Jx=kN(t1,s1,{upgrade:(s,t)=>{switch(t){case 0:s.createObjectStore(Un)}}})),Jx}async function Ud(s,t){const r=Ru(s),i=(await D0()).transaction(Un,"readwrite"),o=i.objectStore(Un),l=await o.get(r);return await o.put(t,r),await i.done,(!l||l.fid!==t.fid)&&BN(s,t.fid),t}async function UN(s){const t=Ru(s),a=(await D0()).transaction(Un,"readwrite");await a.objectStore(Un).delete(t),await a.done}async function Mu(s,t){const r=Ru(s),i=(await D0()).transaction(Un,"readwrite"),o=i.objectStore(Un),l=await o.get(r),c=t(l);return c===void 0?await o.delete(r):await o.put(c,r),await i.done,c&&(!l||l.fid!==c.fid)&&BN(s,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A0(s){let t;const r=await Mu(s.appConfig,a=>{const i=r1(a),o=a1(s,i);return t=o.registrationPromise,o.installationEntry});return r.fid===lh?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function r1(s){const t=s||{fid:YE(),registrationStatus:0};return $N(t)}function a1(s,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Fn.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=n1(s,r);return{installationEntry:r,registrationPromise:a}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:i1(s)}:{installationEntry:t}}async function n1(s,t){try{const r=await HE(s,t);return Ud(s.appConfig,r)}catch(r){throw DN(r)&&r.customData.serverCode===409?await UN(s.appConfig):await Ud(s.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function i1(s){let t=await ty(s.appConfig);for(;t.registrationStatus===1;)await LN(100),t=await ty(s.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:a}=await A0(s);return a||r}return t}function ty(s){return Mu(s,t=>{if(!t)throw Fn.create("installation-not-found");return $N(t)})}function $N(s){return l1(s)?{fid:s.fid,registrationStatus:0}:s}function l1(s){return s.registrationStatus===1&&s.registrationTime+_N<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o1({appConfig:s,heartbeatServiceProvider:t},r){const a=c1(s,r),i=qE(s,r),o=t.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const l={installation:{sdkVersion:PN,appId:s.appId}},c={method:"POST",headers:i,body:JSON.stringify(l)},x=await ON(()=>fetch(a,c));if(x.ok){const p=await x.json();return RN(p)}else throw await MN("Generate Auth Token",x)}function c1(s,{fid:t}){return`${AN(s)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R0(s,t=!1){let r;const a=await Mu(s.appConfig,o=>{if(!qN(o))throw Fn.create("not-registered");const l=o.authToken;if(!t&&x1(l))return o;if(l.requestStatus===1)return r=d1(s,t),o;{if(!navigator.onLine)throw Fn.create("app-offline");const c=h1(o);return r=u1(s,c),c}});return r?await r:a.authToken}async function d1(s,t){let r=await sy(s.appConfig);for(;r.authToken.requestStatus===1;)await LN(100),r=await sy(s.appConfig);const a=r.authToken;return a.requestStatus===0?R0(s,t):a}function sy(s){return Mu(s,t=>{if(!qN(t))throw Fn.create("not-registered");const r=t.authToken;return p1(r)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function u1(s,t){try{const r=await o1(s,t),a=Object.assign(Object.assign({},t),{authToken:r});return await Ud(s.appConfig,a),r}catch(r){if(DN(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await UN(s.appConfig);else{const a=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Ud(s.appConfig,a)}throw r}}function qN(s){return s!==void 0&&s.registrationStatus===2}function x1(s){return s.requestStatus===2&&!m1(s)}function m1(s){const t=Date.now();return t<s.creationTime||s.creationTime+s.expiresIn<t+BE}function h1(s){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},s),{authToken:t})}function p1(s){return s.requestStatus===1&&s.requestTime+_N<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(s){const t=s,{installationEntry:r,registrationPromise:a}=await A0(t);return a?a.catch(console.error):R0(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(s,t=!1){const r=s;return await y1(r),(await R0(r,t)).token}async function y1(s){const{registrationPromise:t}=await A0(s);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(s){if(!s||!s.options)throw Xx("App Configuration");if(!s.name)throw Xx("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!s.options[r])throw Xx(r);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Xx(s){return Fn.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="installations",j1="installations-internal",v1=s=>{const t=s.getProvider("app").getImmediate(),r=b1(t),a=gn(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},N1=s=>{const t=s.getProvider("app").getImmediate(),r=gn(t,WN).getImmediate();return{getId:()=>f1(r),getToken:i=>g1(r,i)}};function w1(){Ar(new jr(WN,v1,"PUBLIC")),Ar(new jr(j1,N1,"PRIVATE"))}w1();Js(SN,T0);Js(SN,T0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="analytics",k1="firebase_id",C1="origin",I1=60*1e3,E1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",M0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new Du("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ir=new Jn("analytics","Analytics",S1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(s){if(!s.startsWith(M0)){const t=ir.create("invalid-gtag-resource",{gtagURL:s});return Xs.warn(t.message),""}return s}function GN(s){return Promise.all(s.map(t=>t.catch(r=>r)))}function P1(s,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(s,t)),r}function T1(s,t){const r=P1("firebase-js-sdk-policy",{createScriptURL:_1}),a=document.createElement("script"),i=`${M0}?l=${s}&id=${t}`;a.src=r?r==null?void 0:r.createScriptURL(i):i,a.async=!0,document.head.appendChild(a)}function D1(s){let t=[];return Array.isArray(window[s])?t=window[s]:window[s]=t,t}async function A1(s,t,r,a,i,o){const l=a[i];try{if(l)await t[l];else{const x=(await GN(r)).find(p=>p.measurementId===i);x&&await t[x.appId]}}catch(c){Xs.error(c)}s("config",i,o)}async function R1(s,t,r,a,i){try{let o=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const c=await GN(r);for(const x of l){const p=c.find(E=>E.measurementId===x),N=p&&t[p.appId];if(N)o.push(N);else{o=[];break}}}o.length===0&&(o=Object.values(t)),await Promise.all(o),s("event",a,i||{})}catch(o){Xs.error(o)}}function M1(s,t,r,a){async function i(o,...l){try{if(o==="event"){const[c,x]=l;await R1(s,t,r,c,x)}else if(o==="config"){const[c,x]=l;await A1(s,t,r,a,c,x)}else if(o==="consent"){const[c,x]=l;s("consent",c,x)}else if(o==="get"){const[c,x,p]=l;s("get",c,x,p)}else if(o==="set"){const[c]=l;s("set",c)}else s(o,...l)}catch(c){Xs.error(c)}}return i}function z1(s,t,r,a,i){let o=function(...l){window[a].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=M1(o,s,t,r),{gtagCore:o,wrappedGtag:window[i]}}function O1(s){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(M0)&&r.src.includes(s))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=30,V1=1e3;class B1{constructor(t={},r=V1){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const HN=new B1;function F1(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function U1(s){var t;const{appId:r,apiKey:a}=s,i={method:"GET",headers:F1(a)},o=E1.replace("{app-id}",r),l=await fetch(o,i);if(l.status!==200&&l.status!==304){let c="";try{const x=await l.json();!((t=x.error)===null||t===void 0)&&t.message&&(c=x.error.message)}catch{}throw ir.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function $1(s,t=HN,r){const{appId:a,apiKey:i,measurementId:o}=s.options;if(!a)throw ir.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:a};throw ir.create("no-api-key")}const l=t.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new G1;return setTimeout(async()=>{c.abort()},r!==void 0?r:I1),QN({appId:a,apiKey:i,measurementId:o},l,c,t)}async function QN(s,{throttleEndTimeMillis:t,backoffCount:r},a,i=HN){var o;const{appId:l,measurementId:c}=s;try{await q1(a,t)}catch(x){if(c)return Xs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${x==null?void 0:x.message}]`),{appId:l,measurementId:c};throw x}try{const x=await U1(s);return i.deleteThrottleMetadata(l),x}catch(x){const p=x;if(!W1(p)){if(i.deleteThrottleMetadata(l),c)return Xs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:l,measurementId:c};throw x}const N=Number((o=p==null?void 0:p.customData)===null||o===void 0?void 0:o.httpStatus)===503?Gg(r,i.intervalMillis,L1):Gg(r,i.intervalMillis),E={throttleEndTimeMillis:Date.now()+N,backoffCount:r+1};return i.setThrottleMetadata(l,E),Xs.debug(`Calling attemptFetch again in ${N} millis`),QN(s,E,a,i)}}function q1(s,t){return new Promise((r,a)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(r,i);s.addEventListener(()=>{clearTimeout(o),a(ir.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function W1(s){if(!(s instanceof vr)||!s.customData)return!1;const t=Number(s.customData.httpStatus);return t===429||t===500||t===503||t===504}class G1{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function H1(s,t,r,a,i){if(i&&i.global){s("event",r,a);return}else{const o=await t,l=Object.assign(Object.assign({},a),{send_to:o});s("event",r,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(){if(jN())try{await vN()}catch(s){return Xs.warn(ir.create("indexeddb-unavailable",{errorInfo:s==null?void 0:s.toString()}).message),!1}else return Xs.warn(ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function K1(s,t,r,a,i,o,l){var c;const x=$1(s);x.then(R=>{r[R.measurementId]=R.appId,s.options.measurementId&&R.measurementId!==s.options.measurementId&&Xs.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>Xs.error(R)),t.push(x);const p=Q1().then(R=>{if(R)return a.getId()}),[N,E]=await Promise.all([x,p]);O1(o)||T1(o,N.measurementId),i("js",new Date);const S=(c=l==null?void 0:l.config)!==null&&c!==void 0?c:{};return S[C1]="firebase",S.update=!0,E!=null&&(S[k1]=E),i("config",N.measurementId,S),N.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(t){this.app=t}_delete(){return delete Wl[this.app.options.appId],Promise.resolve()}}let Wl={},ry=[];const ay={};let Zx="dataLayer",J1="gtag",ny,KN,iy=!1;function X1(){const s=[];if(bN()&&s.push("This is a browser extension environment."),yI()||s.push("Cookies are not available."),s.length>0){const t=s.map((a,i)=>`(${i+1}) ${a}`).join(" "),r=ir.create("invalid-analytics-context",{errorInfo:t});Xs.warn(r.message)}}function Z1(s,t,r){X1();const a=s.options.appId;if(!a)throw ir.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)Xs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ir.create("no-api-key");if(Wl[a]!=null)throw ir.create("already-exists",{id:a});if(!iy){D1(Zx);const{wrappedGtag:o,gtagCore:l}=z1(Wl,ry,ay,Zx,J1);KN=o,ny=l,iy=!0}return Wl[a]=K1(s,ry,ay,t,ny,Zx,r),new Y1(s)}function eS(s=Au()){s=Bt(s);const t=gn(s,$d);return t.isInitialized()?t.getImmediate():tS(s)}function tS(s,t={}){const r=gn(s,$d);if(r.isInitialized()){const i=r.getImmediate();if(ln(t,r.getOptions()))return i;throw ir.create("already-initialized")}return r.initialize({options:t})}function sS(s,t,r,a){s=Bt(s),H1(KN,Wl[s.app.options.appId],t,r,a).catch(i=>Xs.error(i))}const ly="@firebase/analytics",oy="0.10.12";function rS(){Ar(new jr($d,(t,{options:r})=>{const a=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return Z1(a,i,r)},"PUBLIC")),Ar(new jr("analytics-internal",s,"PRIVATE")),Js(ly,oy),Js(ly,oy,"esm2017");function s(t){try{const r=t.getProvider($d).getImmediate();return{logEvent:(a,i,o)=>sS(r,a,i,o)}}catch(r){throw ir.create("interop-component-reg-failed",{reason:r})}}}rS();var cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sn,YN;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,d){function $(){}$.prototype=d.prototype,D.D=d.prototype,D.prototype=new $,D.prototype.constructor=D,D.C=function(B,J,_){for(var q=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)q[Se-2]=arguments[Se];return d.prototype[J].apply(B,q)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,r),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,d,$){$||($=0);var B=Array(16);if(typeof d=="string")for(var J=0;16>J;++J)B[J]=d.charCodeAt($++)|d.charCodeAt($++)<<8|d.charCodeAt($++)<<16|d.charCodeAt($++)<<24;else for(J=0;16>J;++J)B[J]=d[$++]|d[$++]<<8|d[$++]<<16|d[$++]<<24;d=D.g[0],$=D.g[1],J=D.g[2];var _=D.g[3],q=d+(_^$&(J^_))+B[0]+3614090360&4294967295;d=$+(q<<7&4294967295|q>>>25),q=_+(J^d&($^J))+B[1]+3905402710&4294967295,_=d+(q<<12&4294967295|q>>>20),q=J+($^_&(d^$))+B[2]+606105819&4294967295,J=_+(q<<17&4294967295|q>>>15),q=$+(d^J&(_^d))+B[3]+3250441966&4294967295,$=J+(q<<22&4294967295|q>>>10),q=d+(_^$&(J^_))+B[4]+4118548399&4294967295,d=$+(q<<7&4294967295|q>>>25),q=_+(J^d&($^J))+B[5]+1200080426&4294967295,_=d+(q<<12&4294967295|q>>>20),q=J+($^_&(d^$))+B[6]+2821735955&4294967295,J=_+(q<<17&4294967295|q>>>15),q=$+(d^J&(_^d))+B[7]+4249261313&4294967295,$=J+(q<<22&4294967295|q>>>10),q=d+(_^$&(J^_))+B[8]+1770035416&4294967295,d=$+(q<<7&4294967295|q>>>25),q=_+(J^d&($^J))+B[9]+2336552879&4294967295,_=d+(q<<12&4294967295|q>>>20),q=J+($^_&(d^$))+B[10]+4294925233&4294967295,J=_+(q<<17&4294967295|q>>>15),q=$+(d^J&(_^d))+B[11]+2304563134&4294967295,$=J+(q<<22&4294967295|q>>>10),q=d+(_^$&(J^_))+B[12]+1804603682&4294967295,d=$+(q<<7&4294967295|q>>>25),q=_+(J^d&($^J))+B[13]+4254626195&4294967295,_=d+(q<<12&4294967295|q>>>20),q=J+($^_&(d^$))+B[14]+2792965006&4294967295,J=_+(q<<17&4294967295|q>>>15),q=$+(d^J&(_^d))+B[15]+1236535329&4294967295,$=J+(q<<22&4294967295|q>>>10),q=d+(J^_&($^J))+B[1]+4129170786&4294967295,d=$+(q<<5&4294967295|q>>>27),q=_+($^J&(d^$))+B[6]+3225465664&4294967295,_=d+(q<<9&4294967295|q>>>23),q=J+(d^$&(_^d))+B[11]+643717713&4294967295,J=_+(q<<14&4294967295|q>>>18),q=$+(_^d&(J^_))+B[0]+3921069994&4294967295,$=J+(q<<20&4294967295|q>>>12),q=d+(J^_&($^J))+B[5]+3593408605&4294967295,d=$+(q<<5&4294967295|q>>>27),q=_+($^J&(d^$))+B[10]+38016083&4294967295,_=d+(q<<9&4294967295|q>>>23),q=J+(d^$&(_^d))+B[15]+3634488961&4294967295,J=_+(q<<14&4294967295|q>>>18),q=$+(_^d&(J^_))+B[4]+3889429448&4294967295,$=J+(q<<20&4294967295|q>>>12),q=d+(J^_&($^J))+B[9]+568446438&4294967295,d=$+(q<<5&4294967295|q>>>27),q=_+($^J&(d^$))+B[14]+3275163606&4294967295,_=d+(q<<9&4294967295|q>>>23),q=J+(d^$&(_^d))+B[3]+4107603335&4294967295,J=_+(q<<14&4294967295|q>>>18),q=$+(_^d&(J^_))+B[8]+1163531501&4294967295,$=J+(q<<20&4294967295|q>>>12),q=d+(J^_&($^J))+B[13]+2850285829&4294967295,d=$+(q<<5&4294967295|q>>>27),q=_+($^J&(d^$))+B[2]+4243563512&4294967295,_=d+(q<<9&4294967295|q>>>23),q=J+(d^$&(_^d))+B[7]+1735328473&4294967295,J=_+(q<<14&4294967295|q>>>18),q=$+(_^d&(J^_))+B[12]+2368359562&4294967295,$=J+(q<<20&4294967295|q>>>12),q=d+($^J^_)+B[5]+4294588738&4294967295,d=$+(q<<4&4294967295|q>>>28),q=_+(d^$^J)+B[8]+2272392833&4294967295,_=d+(q<<11&4294967295|q>>>21),q=J+(_^d^$)+B[11]+1839030562&4294967295,J=_+(q<<16&4294967295|q>>>16),q=$+(J^_^d)+B[14]+4259657740&4294967295,$=J+(q<<23&4294967295|q>>>9),q=d+($^J^_)+B[1]+2763975236&4294967295,d=$+(q<<4&4294967295|q>>>28),q=_+(d^$^J)+B[4]+1272893353&4294967295,_=d+(q<<11&4294967295|q>>>21),q=J+(_^d^$)+B[7]+4139469664&4294967295,J=_+(q<<16&4294967295|q>>>16),q=$+(J^_^d)+B[10]+3200236656&4294967295,$=J+(q<<23&4294967295|q>>>9),q=d+($^J^_)+B[13]+681279174&4294967295,d=$+(q<<4&4294967295|q>>>28),q=_+(d^$^J)+B[0]+3936430074&4294967295,_=d+(q<<11&4294967295|q>>>21),q=J+(_^d^$)+B[3]+3572445317&4294967295,J=_+(q<<16&4294967295|q>>>16),q=$+(J^_^d)+B[6]+76029189&4294967295,$=J+(q<<23&4294967295|q>>>9),q=d+($^J^_)+B[9]+3654602809&4294967295,d=$+(q<<4&4294967295|q>>>28),q=_+(d^$^J)+B[12]+3873151461&4294967295,_=d+(q<<11&4294967295|q>>>21),q=J+(_^d^$)+B[15]+530742520&4294967295,J=_+(q<<16&4294967295|q>>>16),q=$+(J^_^d)+B[2]+3299628645&4294967295,$=J+(q<<23&4294967295|q>>>9),q=d+(J^($|~_))+B[0]+4096336452&4294967295,d=$+(q<<6&4294967295|q>>>26),q=_+($^(d|~J))+B[7]+1126891415&4294967295,_=d+(q<<10&4294967295|q>>>22),q=J+(d^(_|~$))+B[14]+2878612391&4294967295,J=_+(q<<15&4294967295|q>>>17),q=$+(_^(J|~d))+B[5]+4237533241&4294967295,$=J+(q<<21&4294967295|q>>>11),q=d+(J^($|~_))+B[12]+1700485571&4294967295,d=$+(q<<6&4294967295|q>>>26),q=_+($^(d|~J))+B[3]+2399980690&4294967295,_=d+(q<<10&4294967295|q>>>22),q=J+(d^(_|~$))+B[10]+4293915773&4294967295,J=_+(q<<15&4294967295|q>>>17),q=$+(_^(J|~d))+B[1]+2240044497&4294967295,$=J+(q<<21&4294967295|q>>>11),q=d+(J^($|~_))+B[8]+1873313359&4294967295,d=$+(q<<6&4294967295|q>>>26),q=_+($^(d|~J))+B[15]+4264355552&4294967295,_=d+(q<<10&4294967295|q>>>22),q=J+(d^(_|~$))+B[6]+2734768916&4294967295,J=_+(q<<15&4294967295|q>>>17),q=$+(_^(J|~d))+B[13]+1309151649&4294967295,$=J+(q<<21&4294967295|q>>>11),q=d+(J^($|~_))+B[4]+4149444226&4294967295,d=$+(q<<6&4294967295|q>>>26),q=_+($^(d|~J))+B[11]+3174756917&4294967295,_=d+(q<<10&4294967295|q>>>22),q=J+(d^(_|~$))+B[2]+718787259&4294967295,J=_+(q<<15&4294967295|q>>>17),q=$+(_^(J|~d))+B[9]+3951481745&4294967295,D.g[0]=D.g[0]+d&4294967295,D.g[1]=D.g[1]+(J+(q<<21&4294967295|q>>>11))&4294967295,D.g[2]=D.g[2]+J&4294967295,D.g[3]=D.g[3]+_&4294967295}a.prototype.u=function(D,d){d===void 0&&(d=D.length);for(var $=d-this.blockSize,B=this.B,J=this.h,_=0;_<d;){if(J==0)for(;_<=$;)i(this,D,_),_+=this.blockSize;if(typeof D=="string"){for(;_<d;)if(B[J++]=D.charCodeAt(_++),J==this.blockSize){i(this,B),J=0;break}}else for(;_<d;)if(B[J++]=D[_++],J==this.blockSize){i(this,B),J=0;break}}this.h=J,this.o+=d},a.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var d=1;d<D.length-8;++d)D[d]=0;var $=8*this.o;for(d=D.length-8;d<D.length;++d)D[d]=$&255,$/=256;for(this.u(D),D=Array(16),d=$=0;4>d;++d)for(var B=0;32>B;B+=8)D[$++]=this.g[d]>>>B&255;return D};function o(D,d){var $=c;return Object.prototype.hasOwnProperty.call($,D)?$[D]:$[D]=d(D)}function l(D,d){this.h=d;for(var $=[],B=!0,J=D.length-1;0<=J;J--){var _=D[J]|0;B&&_==d||($[J]=_,B=!1)}this.g=$}var c={};function x(D){return-128<=D&&128>D?o(D,function(d){return new l([d|0],0>d?-1:0)}):new l([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return E;if(0>D)return v(p(-D));for(var d=[],$=1,B=0;D>=$;B++)d[B]=D/$|0,$*=4294967296;return new l(d,0)}function N(D,d){if(D.length==0)throw Error("number format error: empty string");if(d=d||10,2>d||36<d)throw Error("radix out of range: "+d);if(D.charAt(0)=="-")return v(N(D.substring(1),d));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var $=p(Math.pow(d,8)),B=E,J=0;J<D.length;J+=8){var _=Math.min(8,D.length-J),q=parseInt(D.substring(J,J+_),d);8>_?(_=p(Math.pow(d,_)),B=B.j(_).add(p(q))):(B=B.j($),B=B.add(p(q)))}return B}var E=x(0),S=x(1),R=x(16777216);s=l.prototype,s.m=function(){if(V(this))return-v(this).m();for(var D=0,d=1,$=0;$<this.g.length;$++){var B=this.i($);D+=(0<=B?B:4294967296+B)*d,d*=4294967296}return D},s.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(y(this))return"0";if(V(this))return"-"+v(this).toString(D);for(var d=p(Math.pow(D,6)),$=this,B="";;){var J=H($,d).g;$=P($,J.j(d));var _=((0<$.g.length?$.g[0]:$.h)>>>0).toString(D);if($=J,y($))return _+B;for(;6>_.length;)_="0"+_;B=_+B}},s.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function y(D){if(D.h!=0)return!1;for(var d=0;d<D.g.length;d++)if(D.g[d]!=0)return!1;return!0}function V(D){return D.h==-1}s.l=function(D){return D=P(this,D),V(D)?-1:y(D)?0:1};function v(D){for(var d=D.g.length,$=[],B=0;B<d;B++)$[B]=~D.g[B];return new l($,~D.h).add(S)}s.abs=function(){return V(this)?v(this):this},s.add=function(D){for(var d=Math.max(this.g.length,D.g.length),$=[],B=0,J=0;J<=d;J++){var _=B+(this.i(J)&65535)+(D.i(J)&65535),q=(_>>>16)+(this.i(J)>>>16)+(D.i(J)>>>16);B=q>>>16,_&=65535,q&=65535,$[J]=q<<16|_}return new l($,$[$.length-1]&-2147483648?-1:0)};function P(D,d){return D.add(v(d))}s.j=function(D){if(y(this)||y(D))return E;if(V(this))return V(D)?v(this).j(v(D)):v(v(this).j(D));if(V(D))return v(this.j(v(D)));if(0>this.l(R)&&0>D.l(R))return p(this.m()*D.m());for(var d=this.g.length+D.g.length,$=[],B=0;B<2*d;B++)$[B]=0;for(B=0;B<this.g.length;B++)for(var J=0;J<D.g.length;J++){var _=this.i(B)>>>16,q=this.i(B)&65535,Se=D.i(J)>>>16,Oe=D.i(J)&65535;$[2*B+2*J]+=q*Oe,z($,2*B+2*J),$[2*B+2*J+1]+=_*Oe,z($,2*B+2*J+1),$[2*B+2*J+1]+=q*Se,z($,2*B+2*J+1),$[2*B+2*J+2]+=_*Se,z($,2*B+2*J+2)}for(B=0;B<d;B++)$[B]=$[2*B+1]<<16|$[2*B];for(B=d;B<2*d;B++)$[B]=0;return new l($,0)};function z(D,d){for(;(D[d]&65535)!=D[d];)D[d+1]+=D[d]>>>16,D[d]&=65535,d++}function M(D,d){this.g=D,this.h=d}function H(D,d){if(y(d))throw Error("division by zero");if(y(D))return new M(E,E);if(V(D))return d=H(v(D),d),new M(v(d.g),v(d.h));if(V(d))return d=H(D,v(d)),new M(v(d.g),d.h);if(30<D.g.length){if(V(D)||V(d))throw Error("slowDivide_ only works with positive integers.");for(var $=S,B=d;0>=B.l(D);)$=Q($),B=Q(B);var J=W($,1),_=W(B,1);for(B=W(B,2),$=W($,2);!y(B);){var q=_.add(B);0>=q.l(D)&&(J=J.add($),_=q),B=W(B,1),$=W($,1)}return d=P(D,J.j(d)),new M(J,d)}for(J=E;0<=D.l(d);){for($=Math.max(1,Math.floor(D.m()/d.m())),B=Math.ceil(Math.log($)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),_=p($),q=_.j(d);V(q)||0<q.l(D);)$-=B,_=p($),q=_.j(d);y(_)&&(_=S),J=J.add(_),D=P(D,q)}return new M(J,D)}s.A=function(D){return H(this,D).h},s.and=function(D){for(var d=Math.max(this.g.length,D.g.length),$=[],B=0;B<d;B++)$[B]=this.i(B)&D.i(B);return new l($,this.h&D.h)},s.or=function(D){for(var d=Math.max(this.g.length,D.g.length),$=[],B=0;B<d;B++)$[B]=this.i(B)|D.i(B);return new l($,this.h|D.h)},s.xor=function(D){for(var d=Math.max(this.g.length,D.g.length),$=[],B=0;B<d;B++)$[B]=this.i(B)^D.i(B);return new l($,this.h^D.h)};function Q(D){for(var d=D.g.length+1,$=[],B=0;B<d;B++)$[B]=D.i(B)<<1|D.i(B-1)>>>31;return new l($,D.h)}function W(D,d){var $=d>>5;d%=32;for(var B=D.g.length-$,J=[],_=0;_<B;_++)J[_]=0<d?D.i(_+$)>>>d|D.i(_+$+1)<<32-d:D.i(_+$);return new l(J,D.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,YN=a,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=N,sn=l}).apply(typeof cy<"u"?cy:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JN,Pl,XN,rd,oh,ZN,ew,tw;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,k,A){return u==Array.prototype||u==Object.prototype||(u[k]=A.value),u};function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var k=0;k<u.length;++k){var A=u[k];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var a=r(this);function i(u,k){if(k)e:{var A=a;u=u.split(".");for(var G=0;G<u.length-1;G++){var de=u[G];if(!(de in A))break e;A=A[de]}u=u[u.length-1],G=A[u],k=k(G),k!=G&&k!=null&&t(A,u,{configurable:!0,writable:!0,value:k})}}function o(u,k){u instanceof String&&(u+="");var A=0,G=!1,de={next:function(){if(!G&&A<u.length){var he=A++;return{value:k(he,u[he]),done:!1}}return G=!0,{done:!0,value:void 0}}};return de[Symbol.iterator]=function(){return de},de}i("Array.prototype.values",function(u){return u||function(){return o(this,function(k,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function x(u){var k=typeof u;return k=k!="object"?k:u?Array.isArray(u)?"array":k:"null",k=="array"||k=="object"&&typeof u.length=="number"}function p(u){var k=typeof u;return k=="object"&&u!=null||k=="function"}function N(u,k,A){return u.call.apply(u.bind,arguments)}function E(u,k,A){if(!u)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var de=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(de,G),u.apply(k,de)}}return function(){return u.apply(k,arguments)}}function S(u,k,A){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?N:E,S.apply(null,arguments)}function R(u,k){var A=Array.prototype.slice.call(arguments,1);return function(){var G=A.slice();return G.push.apply(G,arguments),u.apply(this,G)}}function y(u,k){function A(){}A.prototype=k.prototype,u.aa=k.prototype,u.prototype=new A,u.prototype.constructor=u,u.Qb=function(G,de,he){for(var Me=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)Me[Ot-2]=arguments[Ot];return k.prototype[de].apply(G,Me)}}function V(u){const k=u.length;if(0<k){const A=Array(k);for(let G=0;G<k;G++)A[G]=u[G];return A}return[]}function v(u,k){for(let A=1;A<arguments.length;A++){const G=arguments[A];if(x(G)){const de=u.length||0,he=G.length||0;u.length=de+he;for(let Me=0;Me<he;Me++)u[de+Me]=G[Me]}else u.push(G)}}class P{constructor(k,A){this.i=k,this.j=A,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function z(u){return/^[\s\xa0]*$/.test(u)}function M(){var u=c.navigator;return u&&(u=u.userAgent)?u:""}function H(u){return H[" "](u),u}H[" "]=function(){};var Q=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function W(u,k,A){for(const G in u)k.call(A,u[G],G,u)}function D(u,k){for(const A in u)k.call(void 0,u[A],A,u)}function d(u){const k={};for(const A in u)k[A]=u[A];return k}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(u,k){let A,G;for(let de=1;de<arguments.length;de++){G=arguments[de];for(A in G)u[A]=G[A];for(let he=0;he<$.length;he++)A=$[he],Object.prototype.hasOwnProperty.call(G,A)&&(u[A]=G[A])}}function J(u){var k=1;u=u.split(":");const A=[];for(;0<k&&u.length;)A.push(u.shift()),k--;return u.length&&A.push(u.join(":")),A}function _(u){c.setTimeout(()=>{throw u},0)}function q(){var u=ge;let k=null;return u.g&&(k=u.g,u.g=u.g.next,u.g||(u.h=null),k.next=null),k}class Se{constructor(){this.h=this.g=null}add(k,A){const G=Oe.get();G.set(k,A),this.h?this.h.next=G:this.g=G,this.h=G}}var Oe=new P(()=>new Ee,u=>u.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(k,A){this.h=k,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ue=!1,ge=new Se,xe=()=>{const u=c.Promise.resolve(void 0);Te=()=>{u.then(K)}};var K=()=>{for(var u;u=q();){try{u.h.call(u.g)}catch(A){_(A)}var k=Oe;k.j(u),100>k.h&&(k.h++,u.next=k.g,k.g=u)}ue=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function n(u,k){this.type=u,this.g=this.target=k,this.defaultPrevented=!1}n.prototype.h=function(){this.defaultPrevented=!0};var g=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,k=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const A=()=>{};c.addEventListener("test",A,k),c.removeEventListener("test",A,k)}catch{}return u}();function m(u,k){if(n.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var A=this.type=u.type,G=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=k,k=u.relatedTarget){if(Q){e:{try{H(k.nodeName);var de=!0;break e}catch{}de=!1}de||(k=null)}}else A=="mouseover"?k=u.fromElement:A=="mouseout"&&(k=u.toElement);this.relatedTarget=k,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:T[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&m.aa.h.call(this)}}y(m,n);var T={2:"touch",3:"pen",4:"mouse"};m.prototype.h=function(){m.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),Z=0;function w(u,k,A,G,de){this.listener=u,this.proxy=null,this.src=k,this.type=A,this.capture=!!G,this.ha=de,this.key=++Z,this.da=this.fa=!1}function L(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function O(u){this.src=u,this.g={},this.h=0}O.prototype.add=function(u,k,A,G,de){var he=u.toString();u=this.g[he],u||(u=this.g[he]=[],this.h++);var Me=f(u,k,G,de);return-1<Me?(k=u[Me],A||(k.fa=!1)):(k=new w(k,this.src,he,!!G,de),k.fa=A,u.push(k)),k};function b(u,k){var A=k.type;if(A in u.g){var G=u.g[A],de=Array.prototype.indexOf.call(G,k,void 0),he;(he=0<=de)&&Array.prototype.splice.call(G,de,1),he&&(L(k),u.g[A].length==0&&(delete u.g[A],u.h--))}}function f(u,k,A,G){for(var de=0;de<u.length;++de){var he=u[de];if(!he.da&&he.listener==k&&he.capture==!!A&&he.ha==G)return de}return-1}var I="closure_lm_"+(1e6*Math.random()|0),oe={};function ae(u,k,A,G,de){if(G&&G.once)return te(u,k,A,G,de);if(Array.isArray(k)){for(var he=0;he<k.length;he++)ae(u,k[he],A,G,de);return null}return A=Pe(A),u&&u[F]?u.K(k,A,p(G)?!!G.capture:!!G,de):ie(u,k,A,!1,G,de)}function ie(u,k,A,G,de,he){if(!k)throw Error("Invalid event type");var Me=p(de)?!!de.capture:!!de,Ot=Ie(u);if(Ot||(u[I]=Ot=new O(u)),A=Ot.add(k,A,G,Me,he),A.proxy)return A;if(G=Y(),A.proxy=G,G.src=u,G.listener=A,u.addEventListener)g||(de=Me),de===void 0&&(de=!1),u.addEventListener(k.toString(),G,de);else if(u.attachEvent)u.attachEvent(se(k.toString()),G);else if(u.addListener&&u.removeListener)u.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Y(){function u(A){return k.call(u.src,u.listener,A)}const k=ce;return u}function te(u,k,A,G,de){if(Array.isArray(k)){for(var he=0;he<k.length;he++)te(u,k[he],A,G,de);return null}return A=Pe(A),u&&u[F]?u.L(k,A,p(G)?!!G.capture:!!G,de):ie(u,k,A,!0,G,de)}function Be(u,k,A,G,de){if(Array.isArray(k))for(var he=0;he<k.length;he++)Be(u,k[he],A,G,de);else G=p(G)?!!G.capture:!!G,A=Pe(A),u&&u[F]?(u=u.i,k=String(k).toString(),k in u.g&&(he=u.g[k],A=f(he,A,G,de),-1<A&&(L(he[A]),Array.prototype.splice.call(he,A,1),he.length==0&&(delete u.g[k],u.h--)))):u&&(u=Ie(u))&&(k=u.g[k.toString()],u=-1,k&&(u=f(k,A,G,de)),(A=-1<u?k[u]:null)&&me(A))}function me(u){if(typeof u!="number"&&u&&!u.da){var k=u.src;if(k&&k[F])b(k.i,u);else{var A=u.type,G=u.proxy;k.removeEventListener?k.removeEventListener(A,G,u.capture):k.detachEvent?k.detachEvent(se(A),G):k.addListener&&k.removeListener&&k.removeListener(G),(A=Ie(k))?(b(A,u),A.h==0&&(A.src=null,k[I]=null)):L(u)}}}function se(u){return u in oe?oe[u]:oe[u]="on"+u}function ce(u,k){if(u.da)u=!0;else{k=new m(k,this);var A=u.listener,G=u.ha||u.src;u.fa&&me(u),u=A.call(G,k)}return u}function Ie(u){return u=u[I],u instanceof O?u:null}var ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pe(u){return typeof u=="function"?u:(u[ke]||(u[ke]=function(k){return u.handleEvent(k)}),u[ke])}function ye(){ee.call(this),this.i=new O(this),this.M=this,this.F=null}y(ye,ee),ye.prototype[F]=!0,ye.prototype.removeEventListener=function(u,k,A,G){Be(this,u,k,A,G)};function Ce(u,k){var A,G=u.F;if(G)for(A=[];G;G=G.F)A.push(G);if(u=u.M,G=k.type||k,typeof k=="string")k=new n(k,u);else if(k instanceof n)k.target=k.target||u;else{var de=k;k=new n(G,u),B(k,de)}if(de=!0,A)for(var he=A.length-1;0<=he;he--){var Me=k.g=A[he];de=Ft(Me,G,!0,k)&&de}if(Me=k.g=u,de=Ft(Me,G,!0,k)&&de,de=Ft(Me,G,!1,k)&&de,A)for(he=0;he<A.length;he++)Me=k.g=A[he],de=Ft(Me,G,!1,k)&&de}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var u=this.i,k;for(k in u.g){for(var A=u.g[k],G=0;G<A.length;G++)L(A[G]);delete u.g[k],u.h--}}this.F=null},ye.prototype.K=function(u,k,A,G){return this.i.add(String(u),k,!1,A,G)},ye.prototype.L=function(u,k,A,G){return this.i.add(String(u),k,!0,A,G)};function Ft(u,k,A,G){if(k=u.i.g[String(k)],!k)return!0;k=k.concat();for(var de=!0,he=0;he<k.length;++he){var Me=k[he];if(Me&&!Me.da&&Me.capture==A){var Ot=Me.listener,gs=Me.ha||Me.src;Me.fa&&b(u.i,Me),de=Ot.call(gs,G)!==!1&&de}}return de&&!G.defaultPrevented}function bt(u,k,A){if(typeof u=="function")A&&(u=S(u,A));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:c.setTimeout(u,k||0)}function ot(u){u.g=bt(()=>{u.g=null,u.i&&(u.i=!1,ot(u))},u.l);const k=u.h;u.h=null,u.m.apply(null,k)}class Zt extends ee{constructor(k,A){super(),this.m=k,this.l=A,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:ot(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mt(u){ee.call(this),this.h=u,this.g={}}y(Mt,ee);var Is=[];function $s(u){W(u.g,function(k,A){this.g.hasOwnProperty(A)&&me(k)},u),u.g={}}Mt.prototype.N=function(){Mt.aa.N.call(this),$s(this)},Mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zs=c.JSON.stringify,zr=c.JSON.parse,Zs=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function ur(){}ur.prototype.h=null;function xr(u){return u.h||(u.h=u.i())}function jn(){}var ss={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Or(){n.call(this,"d")}y(Or,n);function Et(){n.call(this,"c")}y(Et,n);var qs={},vn=null;function Lr(){return vn=vn||new ye}qs.La="serverreachability";function ne(u){n.call(this,qs.La,u)}y(ne,n);function Ne(u){const k=Lr();Ce(k,new ne(k))}qs.STAT_EVENT="statevent";function Re(u,k){n.call(this,qs.STAT_EVENT,u),this.stat=k}y(Re,n);function $e(u){const k=Lr();Ce(k,new Re(k,u))}qs.Ma="timingevent";function zt(u,k){n.call(this,qs.Ma,u),this.size=k}y(zt,n);function xt(u,k){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},k)}function Sa(){this.g=!0}Sa.prototype.xa=function(){this.g=!1};function ec(u,k,A,G,de,he){u.info(function(){if(u.g)if(he)for(var Me="",Ot=he.split("&"),gs=0;gs<Ot.length;gs++){var Ct=Ot[gs].split("=");if(1<Ct.length){var Es=Ct[0];Ct=Ct[1];var Ss=Es.split("_");Me=2<=Ss.length&&Ss[1]=="type"?Me+(Es+"="+Ct+"&"):Me+(Es+"=redacted&")}}else Me=null;else Me=he;return"XMLHTTP REQ ("+G+") [attempt "+de+"]: "+k+`
`+A+`
`+Me})}function tc(u,k,A,G,de,he,Me){u.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+de+"]: "+k+`
`+A+`
`+he+" "+Me})}function Vr(u,k,A,G){u.info(function(){return"XMLHTTP TEXT ("+k+"): "+f2(u,A)+(G?" "+G:"")})}function p2(u,k){u.info(function(){return"TIMEOUT: "+k})}Sa.prototype.info=function(){};function f2(u,k){if(!u.g)return k;if(!k)return null;try{var A=JSON.parse(k);if(A){for(u=0;u<A.length;u++)if(Array.isArray(A[u])){var G=A[u];if(!(2>G.length)){var de=G[1];if(Array.isArray(de)&&!(1>de.length)){var he=de[0];if(he!="noop"&&he!="stop"&&he!="close")for(var Me=1;Me<de.length;Me++)de[Me]=""}}}}return zs(A)}catch{return k}}var sc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nx;function rc(){}y(rc,ur),rc.prototype.g=function(){return new XMLHttpRequest},rc.prototype.i=function(){return{}},nx=new rc;function _a(u,k,A,G){this.j=u,this.i=k,this.l=A,this.R=G||1,this.U=new Mt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Op}function Op(){this.i=null,this.g="",this.h=!1}var Lp={},ix={};function lx(u,k,A){u.L=1,u.v=lc(aa(k)),u.m=A,u.P=!0,Vp(u,null)}function Vp(u,k){u.F=Date.now(),ac(u),u.A=aa(u.v);var A=u.A,G=u.R;Array.isArray(G)||(G=[String(G)]),Zp(A.i,"t",G),u.C=0,A=u.j.J,u.h=new Op,u.g=yf(u.j,A?k:null,!u.m),0<u.O&&(u.M=new Zt(S(u.Y,u,u.g),u.O)),k=u.U,A=u.g,G=u.ca;var de="readystatechange";Array.isArray(de)||(de&&(Is[0]=de.toString()),de=Is);for(var he=0;he<de.length;he++){var Me=ae(A,de[he],G||k.handleEvent,!1,k.h||k);if(!Me)break;k.g[Me.key]=Me}k=u.H?d(u.H):{},u.m?(u.u||(u.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,k)):(u.u="GET",u.g.ea(u.A,u.u,null,k)),Ne(),ec(u.i,u.u,u.A,u.l,u.R,u.m)}_a.prototype.ca=function(u){u=u.target;const k=this.M;k&&na(u)==3?k.j():this.Y(u)},_a.prototype.Y=function(u){try{if(u==this.g)e:{const Ss=na(this.g);var k=this.g.Ba();const ai=this.g.Z();if(!(3>Ss)&&(Ss!=3||this.g&&(this.h.h||this.g.oa()||lf(this.g)))){this.J||Ss!=4||k==7||(k==8||0>=ai?Ne(3):Ne(2)),ox(this);var A=this.g.Z();this.X=A;t:if(Bp(this)){var G=lf(this.g);u="";var de=G.length,he=na(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nn(this),nl(this);var Me="";break t}this.h.i=new c.TextDecoder}for(k=0;k<de;k++)this.h.h=!0,u+=this.h.i.decode(G[k],{stream:!(he&&k==de-1)});G.length=0,this.h.g+=u,this.C=0,Me=this.h.g}else Me=this.g.oa();if(this.o=A==200,tc(this.i,this.u,this.A,this.l,this.R,Ss,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Ot,gs=this.g;if((Ot=gs.g?gs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ot)){var Ct=Ot;break t}}Ct=null}if(A=Ct)Vr(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cx(this,A);else{this.o=!1,this.s=3,$e(12),Nn(this),nl(this);break e}}if(this.P){A=!0;let Nr;for(;!this.J&&this.C<Me.length;)if(Nr=g2(this,Me),Nr==ix){Ss==4&&(this.s=4,$e(14),A=!1),Vr(this.i,this.l,null,"[Incomplete Response]");break}else if(Nr==Lp){this.s=4,$e(15),Vr(this.i,this.l,Me,"[Invalid Chunk]"),A=!1;break}else Vr(this.i,this.l,Nr,null),cx(this,Nr);if(Bp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ss!=4||Me.length!=0||this.h.h||(this.s=1,$e(16),A=!1),this.o=this.o&&A,!A)Vr(this.i,this.l,Me,"[Invalid Chunked Response]"),Nn(this),nl(this);else if(0<Me.length&&!this.W){this.W=!0;var Es=this.j;Es.g==this&&Es.ba&&!Es.M&&(Es.j.info("Great, no buffering proxy detected. Bytes received: "+Me.length),px(Es),Es.M=!0,$e(11))}}else Vr(this.i,this.l,Me,null),cx(this,Me);Ss==4&&Nn(this),this.o&&!this.J&&(Ss==4?hf(this.j,this):(this.o=!1,ac(this)))}else R2(this.g),A==400&&0<Me.indexOf("Unknown SID")?(this.s=3,$e(12)):(this.s=0,$e(13)),Nn(this),nl(this)}}}catch{}finally{}};function Bp(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function g2(u,k){var A=u.C,G=k.indexOf(`
`,A);return G==-1?ix:(A=Number(k.substring(A,G)),isNaN(A)?Lp:(G+=1,G+A>k.length?ix:(k=k.slice(G,G+A),u.C=G+A,k)))}_a.prototype.cancel=function(){this.J=!0,Nn(this)};function ac(u){u.S=Date.now()+u.I,Fp(u,u.I)}function Fp(u,k){if(u.B!=null)throw Error("WatchDog timer not null");u.B=xt(S(u.ba,u),k)}function ox(u){u.B&&(c.clearTimeout(u.B),u.B=null)}_a.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(p2(this.i,this.A),this.L!=2&&(Ne(),$e(17)),Nn(this),this.s=2,nl(this)):Fp(this,this.S-u)};function nl(u){u.j.G==0||u.J||hf(u.j,u)}function Nn(u){ox(u);var k=u.M;k&&typeof k.ma=="function"&&k.ma(),u.M=null,$s(u.U),u.g&&(k=u.g,u.g=null,k.abort(),k.ma())}function cx(u,k){try{var A=u.j;if(A.G!=0&&(A.g==u||dx(A.h,u))){if(!u.K&&dx(A.h,u)&&A.G==3){try{var G=A.Da.g.parse(k)}catch{G=null}if(Array.isArray(G)&&G.length==3){var de=G;if(de[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<u.F)mc(A),uc(A);else break e;hx(A),$e(18)}}else A.za=de[1],0<A.za-A.T&&37500>de[2]&&A.F&&A.v==0&&!A.C&&(A.C=xt(S(A.Za,A),6e3));if(1>=qp(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else kn(A,11)}else if((u.K||A.g==u)&&mc(A),!z(k))for(de=A.Da.g.parse(k),k=0;k<de.length;k++){let Ct=de[k];if(A.T=Ct[0],Ct=Ct[1],A.G==2)if(Ct[0]=="c"){A.K=Ct[1],A.ia=Ct[2];const Es=Ct[3];Es!=null&&(A.la=Es,A.j.info("VER="+A.la));const Ss=Ct[4];Ss!=null&&(A.Aa=Ss,A.j.info("SVER="+A.Aa));const ai=Ct[5];ai!=null&&typeof ai=="number"&&0<ai&&(G=1.5*ai,A.L=G,A.j.info("backChannelRequestTimeoutMs_="+G)),G=A;const Nr=u.g;if(Nr){const pc=Nr.g?Nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pc){var he=G.h;he.g||pc.indexOf("spdy")==-1&&pc.indexOf("quic")==-1&&pc.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(ux(he,he.h),he.h=null))}if(G.D){const fx=Nr.g?Nr.g.getResponseHeader("X-HTTP-Session-Id"):null;fx&&(G.ya=fx,Ut(G.I,G.D,fx))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-u.F,A.j.info("Handshake RTT: "+A.R+"ms")),G=A;var Me=u;if(G.qa=gf(G,G.J?G.ia:null,G.W),Me.K){Wp(G.h,Me);var Ot=Me,gs=G.L;gs&&(Ot.I=gs),Ot.B&&(ox(Ot),ac(Ot)),G.g=Me}else xf(G);0<A.i.length&&xc(A)}else Ct[0]!="stop"&&Ct[0]!="close"||kn(A,7);else A.G==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?kn(A,7):mx(A):Ct[0]!="noop"&&A.l&&A.l.ta(Ct),A.v=0)}}Ne(4)}catch{}}var y2=class{constructor(u,k){this.g=u,this.map=k}};function Up(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $p(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function qp(u){return u.h?1:u.g?u.g.size:0}function dx(u,k){return u.h?u.h==k:u.g?u.g.has(k):!1}function ux(u,k){u.g?u.g.add(k):u.h=k}function Wp(u,k){u.h&&u.h==k?u.h=null:u.g&&u.g.has(k)&&u.g.delete(k)}Up.prototype.cancel=function(){if(this.i=Gp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Gp(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let k=u.i;for(const A of u.g.values())k=k.concat(A.D);return k}return V(u.i)}function b2(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(x(u)){for(var k=[],A=u.length,G=0;G<A;G++)k.push(u[G]);return k}k=[],A=0;for(G in u)k[A++]=u[G];return k}function j2(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(x(u)||typeof u=="string"){var k=[];u=u.length;for(var A=0;A<u;A++)k.push(A);return k}k=[],A=0;for(const G in u)k[A++]=G;return k}}}function Hp(u,k){if(u.forEach&&typeof u.forEach=="function")u.forEach(k,void 0);else if(x(u)||typeof u=="string")Array.prototype.forEach.call(u,k,void 0);else for(var A=j2(u),G=b2(u),de=G.length,he=0;he<de;he++)k.call(void 0,G[he],A&&A[he],u)}var Qp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function v2(u,k){if(u){u=u.split("&");for(var A=0;A<u.length;A++){var G=u[A].indexOf("="),de=null;if(0<=G){var he=u[A].substring(0,G);de=u[A].substring(G+1)}else he=u[A];k(he,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function wn(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof wn){this.h=u.h,nc(this,u.j),this.o=u.o,this.g=u.g,ic(this,u.s),this.l=u.l;var k=u.i,A=new ol;A.i=k.i,k.g&&(A.g=new Map(k.g),A.h=k.h),Kp(this,A),this.m=u.m}else u&&(k=String(u).match(Qp))?(this.h=!1,nc(this,k[1]||"",!0),this.o=il(k[2]||""),this.g=il(k[3]||"",!0),ic(this,k[4]),this.l=il(k[5]||"",!0),Kp(this,k[6]||"",!0),this.m=il(k[7]||"")):(this.h=!1,this.i=new ol(null,this.h))}wn.prototype.toString=function(){var u=[],k=this.j;k&&u.push(ll(k,Yp,!0),":");var A=this.g;return(A||k=="file")&&(u.push("//"),(k=this.o)&&u.push(ll(k,Yp,!0),"@"),u.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&u.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&u.push("/"),u.push(ll(A,A.charAt(0)=="/"?k2:w2,!0))),(A=this.i.toString())&&u.push("?",A),(A=this.m)&&u.push("#",ll(A,I2)),u.join("")};function aa(u){return new wn(u)}function nc(u,k,A){u.j=A?il(k,!0):k,u.j&&(u.j=u.j.replace(/:$/,""))}function ic(u,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);u.s=k}else u.s=null}function Kp(u,k,A){k instanceof ol?(u.i=k,E2(u.i,u.h)):(A||(k=ll(k,C2)),u.i=new ol(k,u.h))}function Ut(u,k,A){u.i.set(k,A)}function lc(u){return Ut(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function il(u,k){return u?k?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ll(u,k,A){return typeof u=="string"?(u=encodeURI(u).replace(k,N2),A&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function N2(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Yp=/[#\/\?@]/g,w2=/[#\?:]/g,k2=/[#\?]/g,C2=/[#\?@]/g,I2=/#/g;function ol(u,k){this.h=this.g=null,this.i=u||null,this.j=!!k}function Pa(u){u.g||(u.g=new Map,u.h=0,u.i&&v2(u.i,function(k,A){u.add(decodeURIComponent(k.replace(/\+/g," ")),A)}))}s=ol.prototype,s.add=function(u,k){Pa(this),this.i=null,u=si(this,u);var A=this.g.get(u);return A||this.g.set(u,A=[]),A.push(k),this.h+=1,this};function Jp(u,k){Pa(u),k=si(u,k),u.g.has(k)&&(u.i=null,u.h-=u.g.get(k).length,u.g.delete(k))}function Xp(u,k){return Pa(u),k=si(u,k),u.g.has(k)}s.forEach=function(u,k){Pa(this),this.g.forEach(function(A,G){A.forEach(function(de){u.call(k,de,G,this)},this)},this)},s.na=function(){Pa(this);const u=Array.from(this.g.values()),k=Array.from(this.g.keys()),A=[];for(let G=0;G<k.length;G++){const de=u[G];for(let he=0;he<de.length;he++)A.push(k[G])}return A},s.V=function(u){Pa(this);let k=[];if(typeof u=="string")Xp(this,u)&&(k=k.concat(this.g.get(si(this,u))));else{u=Array.from(this.g.values());for(let A=0;A<u.length;A++)k=k.concat(u[A])}return k},s.set=function(u,k){return Pa(this),this.i=null,u=si(this,u),Xp(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[k]),this.h+=1,this},s.get=function(u,k){return u?(u=this.V(u),0<u.length?String(u[0]):k):k};function Zp(u,k,A){Jp(u,k),0<A.length&&(u.i=null,u.g.set(si(u,k),V(A)),u.h+=A.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],k=Array.from(this.g.keys());for(var A=0;A<k.length;A++){var G=k[A];const he=encodeURIComponent(String(G)),Me=this.V(G);for(G=0;G<Me.length;G++){var de=he;Me[G]!==""&&(de+="="+encodeURIComponent(String(Me[G]))),u.push(de)}}return this.i=u.join("&")};function si(u,k){return k=String(k),u.j&&(k=k.toLowerCase()),k}function E2(u,k){k&&!u.j&&(Pa(u),u.i=null,u.g.forEach(function(A,G){var de=G.toLowerCase();G!=de&&(Jp(this,G),Zp(this,de,A))},u)),u.j=k}function S2(u,k){const A=new Sa;if(c.Image){const G=new Image;G.onload=R(Ta,A,"TestLoadImage: loaded",!0,k,G),G.onerror=R(Ta,A,"TestLoadImage: error",!1,k,G),G.onabort=R(Ta,A,"TestLoadImage: abort",!1,k,G),G.ontimeout=R(Ta,A,"TestLoadImage: timeout",!1,k,G),c.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=u}else k(!1)}function _2(u,k){const A=new Sa,G=new AbortController,de=setTimeout(()=>{G.abort(),Ta(A,"TestPingServer: timeout",!1,k)},1e4);fetch(u,{signal:G.signal}).then(he=>{clearTimeout(de),he.ok?Ta(A,"TestPingServer: ok",!0,k):Ta(A,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(de),Ta(A,"TestPingServer: error",!1,k)})}function Ta(u,k,A,G,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),G(A)}catch{}}function P2(){this.g=new Zs}function T2(u,k,A){const G=A||"";try{Hp(u,function(de,he){let Me=de;p(de)&&(Me=zs(de)),k.push(G+he+"="+encodeURIComponent(Me))})}catch(de){throw k.push(G+"type="+encodeURIComponent("_badmap")),de}}function oc(u){this.l=u.Ub||null,this.j=u.eb||!1}y(oc,ur),oc.prototype.g=function(){return new cc(this.l,this.j)},oc.prototype.i=function(u){return function(){return u}}({});function cc(u,k){ye.call(this),this.D=u,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(cc,ye),s=cc.prototype,s.open=function(u,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=k,this.readyState=1,dl(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(k.body=u),(this.D||c).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cl(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,dl(this)),this.g&&(this.readyState=3,dl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ef(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ef(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var k=u.value?u.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!u.done}))&&(this.response=this.responseText+=k)}u.done?cl(this):dl(this),this.readyState==3&&ef(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,cl(this))},s.Qa=function(u){this.g&&(this.response=u,cl(this))},s.ga=function(){this.g&&cl(this)};function cl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,dl(u)}s.setRequestHeader=function(u,k){this.u.append(u,k)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],k=this.h.entries();for(var A=k.next();!A.done;)A=A.value,u.push(A[0]+": "+A[1]),A=k.next();return u.join(`\r
`)};function dl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function tf(u){let k="";return W(u,function(A,G){k+=G,k+=":",k+=A,k+=`\r
`}),k}function xx(u,k,A){e:{for(G in A){var G=!1;break e}G=!0}G||(A=tf(A),typeof u=="string"?A!=null&&encodeURIComponent(String(A)):Ut(u,k,A))}function es(u){ye.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(es,ye);var D2=/^https?$/i,A2=["POST","PUT"];s=es.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,k,A,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);k=k?k.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nx.g(),this.v=this.o?xr(this.o):xr(nx),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(k,String(u),!0),this.B=!1}catch(he){sf(this,he);return}if(u=A||"",A=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var de in G)A.set(de,G[de]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const he of G.keys())A.set(he,G.get(he));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(A.keys()).find(he=>he.toLowerCase()=="content-type"),de=c.FormData&&u instanceof c.FormData,!(0<=Array.prototype.indexOf.call(A2,k,void 0))||G||de||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Me]of A)this.g.setRequestHeader(he,Me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nf(this),this.u=!0,this.g.send(u),this.u=!1}catch(he){sf(this,he)}};function sf(u,k){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=k,u.m=5,rf(u),dc(u)}function rf(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),dc(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dc(this,!0)),es.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?af(this):this.bb())},s.bb=function(){af(this)};function af(u){if(u.h&&typeof l<"u"&&(!u.v[1]||na(u)!=4||u.Z()!=2)){if(u.u&&na(u)==4)bt(u.Ea,0,u);else if(Ce(u,"readystatechange"),na(u)==4){u.h=!1;try{const Me=u.Z();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var A;if(!(A=k)){var G;if(G=Me===0){var de=String(u.D).match(Qp)[1]||null;!de&&c.self&&c.self.location&&(de=c.self.location.protocol.slice(0,-1)),G=!D2.test(de?de.toLowerCase():"")}A=G}if(A)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var he=2<na(u)?u.g.statusText:""}catch{he=""}u.l=he+" ["+u.Z()+"]",rf(u)}}finally{dc(u)}}}}function dc(u,k){if(u.g){nf(u);const A=u.g,G=u.v[0]?()=>{}:null;u.g=null,u.v=null,k||Ce(u,"ready");try{A.onreadystatechange=G}catch{}}}function nf(u){u.I&&(c.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function na(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<na(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var k=this.g.responseText;return u&&k.indexOf(u)==0&&(k=k.substring(u.length)),zr(k)}};function lf(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function R2(u){const k={};u=(u.g&&2<=na(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<u.length;G++){if(z(u[G]))continue;var A=J(u[G]);const de=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const he=k[de]||[];k[de]=he,he.push(A)}D(k,function(G){return G.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ul(u,k,A){return A&&A.internalChannelParams&&A.internalChannelParams[u]||k}function of(u){this.Aa=0,this.i=[],this.j=new Sa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ul("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ul("baseRetryDelayMs",5e3,u),this.cb=ul("retryDelaySeedMs",1e4,u),this.Wa=ul("forwardChannelMaxRetries",2,u),this.wa=ul("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Up(u&&u.concurrentRequestLimit),this.Da=new P2,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=of.prototype,s.la=8,s.G=1,s.connect=function(u,k,A,G){$e(0),this.W=u,this.H=k||{},A&&G!==void 0&&(this.H.OSID=A,this.H.OAID=G),this.F=this.X,this.I=gf(this,null,this.W),xc(this)};function mx(u){if(cf(u),u.G==3){var k=u.U++,A=aa(u.I);if(Ut(A,"SID",u.K),Ut(A,"RID",k),Ut(A,"TYPE","terminate"),xl(u,A),k=new _a(u,u.j,k),k.L=2,k.v=lc(aa(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(k.v.toString(),"")}catch{}!A&&c.Image&&(new Image().src=k.v,A=!0),A||(k.g=yf(k.j,null),k.g.ea(k.v)),k.F=Date.now(),ac(k)}ff(u)}function uc(u){u.g&&(px(u),u.g.cancel(),u.g=null)}function cf(u){uc(u),u.u&&(c.clearTimeout(u.u),u.u=null),mc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&c.clearTimeout(u.s),u.s=null)}function xc(u){if(!$p(u.h)&&!u.s){u.s=!0;var k=u.Ga;Te||xe(),ue||(Te(),ue=!0),ge.add(k,u),u.B=0}}function M2(u,k){return qp(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=k.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=xt(S(u.Ga,u,k),pf(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const de=new _a(this,this.j,u);let he=this.o;if(this.S&&(he?(he=d(he),B(he,this.S)):he=this.S),this.m!==null||this.O||(de.H=he,he=null),this.P)e:{for(var k=0,A=0;A<this.i.length;A++){t:{var G=this.i[A];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(k+=G,4096<k){k=A;break e}if(k===4096||A===this.i.length-1){k=A+1;break e}}k=1e3}else k=1e3;k=uf(this,de,k),A=aa(this.I),Ut(A,"RID",u),Ut(A,"CVER",22),this.D&&Ut(A,"X-HTTP-Session-Id",this.D),xl(this,A),he&&(this.O?k="headers="+encodeURIComponent(String(tf(he)))+"&"+k:this.m&&xx(A,this.m,he)),ux(this.h,de),this.Ua&&Ut(A,"TYPE","init"),this.P?(Ut(A,"$req",k),Ut(A,"SID","null"),de.T=!0,lx(de,A,null)):lx(de,A,k),this.G=2}}else this.G==3&&(u?df(this,u):this.i.length==0||$p(this.h)||df(this))};function df(u,k){var A;k?A=k.l:A=u.U++;const G=aa(u.I);Ut(G,"SID",u.K),Ut(G,"RID",A),Ut(G,"AID",u.T),xl(u,G),u.m&&u.o&&xx(G,u.m,u.o),A=new _a(u,u.j,A,u.B+1),u.m===null&&(A.H=u.o),k&&(u.i=k.D.concat(u.i)),k=uf(u,A,1e3),A.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ux(u.h,A),lx(A,G,k)}function xl(u,k){u.H&&W(u.H,function(A,G){Ut(k,G,A)}),u.l&&Hp({},function(A,G){Ut(k,G,A)})}function uf(u,k,A){A=Math.min(u.i.length,A);var G=u.l?S(u.l.Na,u.l,u):null;e:{var de=u.i;let he=-1;for(;;){const Me=["count="+A];he==-1?0<A?(he=de[0].g,Me.push("ofs="+he)):he=0:Me.push("ofs="+he);let Ot=!0;for(let gs=0;gs<A;gs++){let Ct=de[gs].g;const Es=de[gs].map;if(Ct-=he,0>Ct)he=Math.max(0,de[gs].g-100),Ot=!1;else try{T2(Es,Me,"req"+Ct+"_")}catch{G&&G(Es)}}if(Ot){G=Me.join("&");break e}}}return u=u.i.splice(0,A),k.D=u,G}function xf(u){if(!u.g&&!u.u){u.Y=1;var k=u.Fa;Te||xe(),ue||(Te(),ue=!0),ge.add(k,u),u.v=0}}function hx(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=xt(S(u.Fa,u),pf(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,mf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=xt(S(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$e(10),uc(this),mf(this))};function px(u){u.A!=null&&(c.clearTimeout(u.A),u.A=null)}function mf(u){u.g=new _a(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var k=aa(u.qa);Ut(k,"RID","rpc"),Ut(k,"SID",u.K),Ut(k,"AID",u.T),Ut(k,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ut(k,"TO",u.ja),Ut(k,"TYPE","xmlhttp"),xl(u,k),u.m&&u.o&&xx(k,u.m,u.o),u.L&&(u.g.I=u.L);var A=u.g;u=u.ia,A.L=1,A.v=lc(aa(k)),A.m=null,A.P=!0,Vp(A,u)}s.Za=function(){this.C!=null&&(this.C=null,uc(this),hx(this),$e(19))};function mc(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function hf(u,k){var A=null;if(u.g==k){mc(u),px(u),u.g=null;var G=2}else if(dx(u.h,k))A=k.D,Wp(u.h,k),G=1;else return;if(u.G!=0){if(k.o)if(G==1){A=k.m?k.m.length:0,k=Date.now()-k.F;var de=u.B;G=Lr(),Ce(G,new zt(G,A)),xc(u)}else xf(u);else if(de=k.s,de==3||de==0&&0<k.X||!(G==1&&M2(u,k)||G==2&&hx(u)))switch(A&&0<A.length&&(k=u.h,k.i=k.i.concat(A)),de){case 1:kn(u,5);break;case 4:kn(u,10);break;case 3:kn(u,6);break;default:kn(u,2)}}}function pf(u,k){let A=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(A*=2),A*k}function kn(u,k){if(u.j.info("Error code "+k),k==2){var A=S(u.fb,u),G=u.Xa;const de=!G;G=new wn(G||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||nc(G,"https"),lc(G),de?S2(G.toString(),A):_2(G.toString(),A)}else $e(2);u.G=0,u.l&&u.l.sa(k),ff(u),cf(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),$e(2)):(this.j.info("Failed to ping google.com"),$e(1))};function ff(u){if(u.G=0,u.ka=[],u.l){const k=Gp(u.h);(k.length!=0||u.i.length!=0)&&(v(u.ka,k),v(u.ka,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.ra()}}function gf(u,k,A){var G=A instanceof wn?aa(A):new wn(A);if(G.g!="")k&&(G.g=k+"."+G.g),ic(G,G.s);else{var de=c.location;G=de.protocol,k=k?k+"."+de.hostname:de.hostname,de=+de.port;var he=new wn(null);G&&nc(he,G),k&&(he.g=k),de&&ic(he,de),A&&(he.l=A),G=he}return A=u.D,k=u.ya,A&&k&&Ut(G,A,k),Ut(G,"VER",u.la),xl(u,G),G}function yf(u,k,A){if(k&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=u.Ca&&!u.pa?new es(new oc({eb:A})):new es(u.pa),k.Ha(u.J),k}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function bf(){}s=bf.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function hc(){}hc.prototype.g=function(u,k){return new er(u,k)};function er(u,k){ye.call(this),this.g=new of(k),this.l=u,this.h=k&&k.messageUrlParams||null,u=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(u?u["X-WebChannel-Content-Type"]=k.messageContentType:u={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(u?u["X-WebChannel-Client-Profile"]=k.va:u={"X-WebChannel-Client-Profile":k.va}),this.g.S=u,(u=k&&k.Sb)&&!z(u)&&(this.g.m=u),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!z(k)&&(this.g.D=k,u=this.h,u!==null&&k in u&&(u=this.h,k in u&&delete u[k])),this.j=new ri(this)}y(er,ye),er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},er.prototype.close=function(){mx(this.g)},er.prototype.o=function(u){var k=this.g;if(typeof u=="string"){var A={};A.__data__=u,u=A}else this.u&&(A={},A.__data__=zs(u),u=A);k.i.push(new y2(k.Ya++,u)),k.G==3&&xc(k)},er.prototype.N=function(){this.g.l=null,delete this.j,mx(this.g),delete this.g,er.aa.N.call(this)};function jf(u){Or.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var k=u.__sm__;if(k){e:{for(const A in k){u=A;break e}u=void 0}(this.i=u)&&(u=this.i,k=k!==null&&u in k?k[u]:void 0),this.data=k}else this.data=u}y(jf,Or);function vf(){Et.call(this),this.status=1}y(vf,Et);function ri(u){this.g=u}y(ri,bf),ri.prototype.ua=function(){Ce(this.g,"a")},ri.prototype.ta=function(u){Ce(this.g,new jf(u))},ri.prototype.sa=function(u){Ce(this.g,new vf)},ri.prototype.ra=function(){Ce(this.g,"b")},hc.prototype.createWebChannel=hc.prototype.g,er.prototype.send=er.prototype.o,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,tw=function(){return new hc},ew=function(){return Lr()},ZN=qs,oh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sc.NO_ERROR=0,sc.TIMEOUT=8,sc.HTTP_ERROR=6,rd=sc,zp.COMPLETE="complete",XN=zp,jn.EventType=ss,ss.OPEN="a",ss.CLOSE="b",ss.ERROR="c",ss.MESSAGE="d",ye.prototype.listen=ye.prototype.K,Pl=jn,es.prototype.listenOnce=es.prototype.L,es.prototype.getLastError=es.prototype.Ka,es.prototype.getLastErrorCode=es.prototype.Ba,es.prototype.getStatus=es.prototype.Z,es.prototype.getResponseJson=es.prototype.Oa,es.prototype.getResponseText=es.prototype.oa,es.prototype.send=es.prototype.ea,es.prototype.setWithCredentials=es.prototype.Ha,JN=es}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const dy="@firebase/firestore",uy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ds.UNAUTHENTICATED=new Ds(null),Ds.GOOGLE_CREDENTIALS=new Ds("google-credentials-uid"),Ds.FIRST_PARTY=new Ds("first-party-uid"),Ds.MOCK_USER=new Ds("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zi="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new Du("@firebase/firestore");function ii(){return $n.logLevel}function Fe(s,...t){if($n.logLevel<=gt.DEBUG){const r=t.map(z0);$n.debug(`Firestore (${Zi}): ${s}`,...r)}}function va(s,...t){if($n.logLevel<=gt.ERROR){const r=t.map(z0);$n.error(`Firestore (${Zi}): ${s}`,...r)}}function Fi(s,...t){if($n.logLevel<=gt.WARN){const r=t.map(z0);$n.warn(`Firestore (${Zi}): ${s}`,...r)}}function z0(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(s="Unexpected state"){const t=`FIRESTORE (${Zi}) INTERNAL ASSERTION FAILED: `+s;throw va(t),new Error(t)}function vt(s,t){s||st()}function it(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends vr{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class aS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Ds.UNAUTHENTICATED))}shutdown(){}}class nS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class iS{constructor(t){this.t=t,this.currentUser=Ds.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){vt(this.o===void 0);let a=this.i;const i=x=>this.i!==a?(a=this.i,r(x)):Promise.resolve();let o=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Hr,t.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const x=o;t.enqueueRetryable(async()=>{await x.promise,await i(this.currentUser)})},c=x=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(x=>c(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?c(x):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Hr)}},0),l()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==t?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(vt(typeof a.accessToken=="string"),new sw(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return vt(t===null||typeof t=="string"),new Ds(t)}}class lS{constructor(t,r,a){this.l=t,this.h=r,this.P=a,this.type="FirstParty",this.user=Ds.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class oS{constructor(t,r,a){this.l=t,this.h=r,this.P=a}getToken(){return Promise.resolve(new lS(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Ds.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cS{constructor(t,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,sr(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,r){vt(this.o===void 0);const a=o=>{o.error!=null&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,Fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>a(o))};const i=o=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new xy(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(vt(typeof r.token=="string"),this.R=r.token,new xy(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let a=0;a<s;a++)r[a]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const i=dS(40);for(let o=0;o<i.length;++o)a.length<20&&i[o]<r&&(a+=t.charAt(i[o]%62))}return a}}function dt(s,t){return s<t?-1:s>t?1:0}function ch(s,t){let r=0;for(;r<s.length&&r<t.length;){const a=s.codePointAt(r),i=t.codePointAt(r);if(a!==i){if(a<128&&i<128)return dt(a,i);{const o=rw(),l=uS(o.encode(my(s,r)),o.encode(my(t,r)));return l!==0?l:dt(a,i)}}r+=a>65535?2:1}return dt(s.length,t.length)}function my(s,t){return s.codePointAt(t)>65535?s.substring(t,t+2):s.substring(t,t+1)}function uS(s,t){for(let r=0;r<s.length&&r<t.length;++r)if(s[r]!==t[r])return dt(s[r],t[r]);return dt(s.length,t.length)}function Ui(s,t,r){return s.length===t.length&&s.every((a,i)=>r(a,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=-62135596800,py=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(t){return Yt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),a=Math.floor((t-1e3*r)*py);return new Yt(r,a)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Le(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Le(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<hy)throw new Le(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Le(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/py}_compareTo(t){return this.seconds===t.seconds?dt(this.nanoseconds,t.nanoseconds):dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-hy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{static fromTimestamp(t){return new at(t)}static min(){return new at(new Yt(0,0))}static max(){return new at(new Yt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy="__name__";class Ur{constructor(t,r,a){r===void 0?r=0:r>t.length&&st(),a===void 0?a=t.length-r:a>t.length-r&&st(),this.segments=t,this.offset=r,this.len=a}get length(){return this.len}isEqual(t){return Ur.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Ur?t.forEach(a=>{r.push(a)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,a=this.limit();r<a;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const a=Math.min(t.length,r.length);for(let i=0;i<a;i++){const o=Ur.compareSegments(t.get(i),r.get(i));if(o!==0)return o}return dt(t.length,r.length)}static compareSegments(t,r){const a=Ur.isNumericId(t),i=Ur.isNumericId(r);return a&&!i?-1:!a&&i?1:a&&i?Ur.extractNumericId(t).compare(Ur.extractNumericId(r)):ch(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return sn.fromString(t.substring(4,t.length-2))}}class Lt extends Ur{construct(t,r,a){return new Lt(t,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const a of t){if(a.indexOf("//")>=0)throw new Le(be.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(i=>i.length>0))}return new Lt(r)}static emptyPath(){return new Lt([])}}const xS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class js extends Ur{construct(t,r,a){return new js(t,r,a)}static isValidIdentifier(t){return xS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),js.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fy}static keyField(){return new js([fy])}static fromServerFormat(t){const r=[];let a="",i=0;const o=()=>{if(a.length===0)throw new Le(be.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let l=!1;for(;i<t.length;){const c=t[i];if(c==="\\"){if(i+1===t.length)throw new Le(be.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const x=t[i+1];if(x!=="\\"&&x!=="."&&x!=="`")throw new Le(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=x,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(a+=c,i++):(o(),i++)}if(o(),l)throw new Le(be.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new js(r)}static emptyPath(){return new js([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.path=t}static fromPath(t){return new tt(Lt.fromString(t))}static fromName(t){return new tt(Lt.fromString(t).popFirst(5))}static empty(){return new tt(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Lt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Lt.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new tt(new Lt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=-1;function mS(s,t){const r=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,i=at.fromTimestamp(a===1e9?new Yt(r+1,0):new Yt(r,a));return new on(i,tt.empty(),t)}function hS(s){return new on(s.readTime,s.key,jo)}class on{constructor(t,r,a){this.readTime=t,this.documentKey=r,this.largestBatchId=a}static min(){return new on(at.min(),tt.empty(),jo)}static max(){return new on(at.max(),tt.empty(),jo)}}function pS(s,t){let r=s.readTime.compareTo(t.readTime);return r!==0?r:(r=tt.comparator(s.documentKey,t.documentKey),r!==0?r:dt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(s){if(s.code!==be.FAILED_PRECONDITION||s.message!==fS)throw s;Fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new ve((a,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(a,i)},this.catchCallback=o=>{this.wrapFailure(r,o).next(a,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof ve?r:ve.resolve(r)}catch(r){return ve.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):ve.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):ve.reject(r)}static resolve(t){return new ve((r,a)=>{r(t)})}static reject(t){return new ve((r,a)=>{a(t)})}static waitFor(t){return new ve((r,a)=>{let i=0,o=0,l=!1;t.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&r()},x=>a(x))}),l=!0,o===i&&r()})}static or(t){let r=ve.resolve(!1);for(const a of t)r=r.next(i=>i?ve.resolve(i):a());return r}static forEach(t,r){const a=[];return t.forEach((i,o)=>{a.push(r.call(this,i,o))}),this.waitFor(a)}static mapArray(t,r){return new ve((a,i)=>{const o=t.length,l=new Array(o);let c=0;for(let x=0;x<o;x++){const p=x;r(t[p]).next(N=>{l[p]=N,++c,c===o&&a(l)},N=>i(N))}})}static doWhile(t,r){return new ve((a,i)=>{const o=()=>{t()===!0?r().next(()=>{o()},i):a()};o()})}}function yS(s){const t=s.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function tl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=a=>this.oe(a),this._e=a=>r.writeSequenceNumber(a))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}zu.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=-1;function Bo(s){return s==null}function qd(s){return s===0&&1/s==-1/0}function bS(s){return typeof s=="number"&&Number.isInteger(s)&&!qd(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="";function jS(s){let t="";for(let r=0;r<s.length;r++)t.length>0&&(t=gy(t)),t=vS(s.get(r),t);return gy(t)}function vS(s,t){let r=t;const a=s.length;for(let i=0;i<a;i++){const o=s.charAt(i);switch(o){case"\0":r+="";break;case nw:r+="";break;default:r+=o}}return r}function gy(s){return s+nw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(s){let t=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t++;return t}function yn(s,t){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t(r,s[r])}function iw(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t,r){this.comparator=t,this.root=r||bs.EMPTY}insert(t,r){return new Xt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,bs.BLACK,null,null))}remove(t){return new Xt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,bs.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(t){let r=0,a=this.root;for(;!a.isEmpty();){const i=this.comparator(t,a.key);if(i===0)return r+a.left.size;i<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,a)=>(t(r,a),!1))}toString(){const t=[];return this.inorderTraversal((r,a)=>(t.push(`${r}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oc(this.root,t,this.comparator,!0)}}class Oc{constructor(t,r,a,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=r?a(t.key,r):1,r&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class bs{constructor(t,r,a,i,o){this.key=t,this.value=r,this.color=a??bs.RED,this.left=i??bs.EMPTY,this.right=o??bs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,a,i,o){return new bs(t??this.key,r??this.value,a??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,a){let i=this;const o=a(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,r,a),null):o===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,a)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let a,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return bs.EMPTY;a=i.right.min(),i=i.copy(a.key,a.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,bs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,bs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const t=this.left.check();if(t!==this.right.check())throw st();return t+(this.isRed()?0:1)}}bs.EMPTY=null,bs.RED=!0,bs.BLACK=!1;bs.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(t,r,a,i,o){return this}insert(t,r,a){return new bs(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t){this.comparator=t,this.data=new Xt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,a)=>(t(r),!1))}forEachInRange(t,r){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const i=a.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new by(this.data.getIterator())}getIteratorFrom(t){return new by(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(a=>{r=r.add(a)}),r}isEqual(t){if(!(t instanceof ds)||this.size!==t.size)return!1;const r=this.data.getIterator(),a=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=a.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new ds(this.comparator);return r.data=t,r}}class by{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t){this.fields=t,t.sort(js.comparator)}static empty(){return new ar([])}unionWith(t){let r=new ds(js.comparator);for(const a of this.fields)r=r.add(a);for(const a of t)r=r.add(a);return new ar(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Ui(this.fields,t.fields,(r,a)=>r.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new lw("Invalid base64 string: "+o):o}}(t);return new Cs(r)}static fromUint8Array(t){const r=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(t);return new Cs(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Cs.EMPTY_BYTE_STRING=new Cs("");const NS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cn(s){if(vt(!!s),typeof s=="string"){let t=0;const r=NS.exec(s);if(vt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:rs(s.seconds),nanos:rs(s.nanos)}}function rs(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function dn(s){return typeof s=="string"?Cs.fromBase64String(s):Cs.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="server_timestamp",cw="__type__",dw="__previous_value__",uw="__local_write_time__";function L0(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[cw])===null||r===void 0?void 0:r.stringValue)===ow}function Ou(s){const t=s.mapValue.fields[dw];return L0(t)?Ou(t):t}function vo(s){const t=cn(s.mapValue.fields[uw].timestampValue);return new Yt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(t,r,a,i,o,l,c,x,p){this.databaseId=t,this.appId=r,this.persistenceKey=a,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=x,this.useFetchStreams=p}}const Wd="(default)";class No{constructor(t,r){this.projectId=t,this.database=r||Wd}static empty(){return new No("","")}get isDefaultDatabase(){return this.database===Wd}isEqual(t){return t instanceof No&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="__type__",mw="__max__",Lc={mapValue:{fields:{__type__:{stringValue:mw}}}},hw="__vector__",Gd="value";function un(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?L0(s)?4:CS(s)?9007199254740991:kS(s)?10:11:st()}function Xr(s,t){if(s===t)return!0;const r=un(s);if(r!==un(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return vo(s).isEqual(vo(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=cn(i.timestampValue),c=cn(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(i,o){return dn(i.bytesValue).isEqual(dn(o.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(i,o){return rs(i.geoPointValue.latitude)===rs(o.geoPointValue.latitude)&&rs(i.geoPointValue.longitude)===rs(o.geoPointValue.longitude)}(s,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return rs(i.integerValue)===rs(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=rs(i.doubleValue),c=rs(o.doubleValue);return l===c?qd(l)===qd(c):isNaN(l)&&isNaN(c)}return!1}(s,t);case 9:return Ui(s.arrayValue.values||[],t.arrayValue.values||[],Xr);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(yy(l)!==yy(c))return!1;for(const x in l)if(l.hasOwnProperty(x)&&(c[x]===void 0||!Xr(l[x],c[x])))return!1;return!0}(s,t);default:return st()}}function wo(s,t){return(s.values||[]).find(r=>Xr(r,t))!==void 0}function $i(s,t){if(s===t)return 0;const r=un(s),a=un(t);if(r!==a)return dt(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return dt(s.booleanValue,t.booleanValue);case 2:return function(o,l){const c=rs(o.integerValue||o.doubleValue),x=rs(l.integerValue||l.doubleValue);return c<x?-1:c>x?1:c===x?0:isNaN(c)?isNaN(x)?0:-1:1}(s,t);case 3:return jy(s.timestampValue,t.timestampValue);case 4:return jy(vo(s),vo(t));case 5:return ch(s.stringValue,t.stringValue);case 6:return function(o,l){const c=dn(o),x=dn(l);return c.compareTo(x)}(s.bytesValue,t.bytesValue);case 7:return function(o,l){const c=o.split("/"),x=l.split("/");for(let p=0;p<c.length&&p<x.length;p++){const N=dt(c[p],x[p]);if(N!==0)return N}return dt(c.length,x.length)}(s.referenceValue,t.referenceValue);case 8:return function(o,l){const c=dt(rs(o.latitude),rs(l.latitude));return c!==0?c:dt(rs(o.longitude),rs(l.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return vy(s.arrayValue,t.arrayValue);case 10:return function(o,l){var c,x,p,N;const E=o.fields||{},S=l.fields||{},R=(c=E[Gd])===null||c===void 0?void 0:c.arrayValue,y=(x=S[Gd])===null||x===void 0?void 0:x.arrayValue,V=dt(((p=R==null?void 0:R.values)===null||p===void 0?void 0:p.length)||0,((N=y==null?void 0:y.values)===null||N===void 0?void 0:N.length)||0);return V!==0?V:vy(R,y)}(s.mapValue,t.mapValue);case 11:return function(o,l){if(o===Lc.mapValue&&l===Lc.mapValue)return 0;if(o===Lc.mapValue)return 1;if(l===Lc.mapValue)return-1;const c=o.fields||{},x=Object.keys(c),p=l.fields||{},N=Object.keys(p);x.sort(),N.sort();for(let E=0;E<x.length&&E<N.length;++E){const S=ch(x[E],N[E]);if(S!==0)return S;const R=$i(c[x[E]],p[N[E]]);if(R!==0)return R}return dt(x.length,N.length)}(s.mapValue,t.mapValue);default:throw st()}}function jy(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return dt(s,t);const r=cn(s),a=cn(t),i=dt(r.seconds,a.seconds);return i!==0?i:dt(r.nanos,a.nanos)}function vy(s,t){const r=s.values||[],a=t.values||[];for(let i=0;i<r.length&&i<a.length;++i){const o=$i(r[i],a[i]);if(o)return o}return dt(r.length,a.length)}function qi(s){return dh(s)}function dh(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(r){const a=cn(r);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(r){return dn(r).toBase64()}(s.bytesValue):"referenceValue"in s?function(r){return tt.fromName(r).toString()}(s.referenceValue):"geoPointValue"in s?function(r){return`geo(${r.latitude},${r.longitude})`}(s.geoPointValue):"arrayValue"in s?function(r){let a="[",i=!0;for(const o of r.values||[])i?i=!1:a+=",",a+=dh(o);return a+"]"}(s.arrayValue):"mapValue"in s?function(r){const a=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const l of a)o?o=!1:i+=",",i+=`${l}:${dh(r.fields[l])}`;return i+"}"}(s.mapValue):st()}function ad(s){switch(un(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ou(s);return t?16+ad(t):16;case 5:return 2*s.stringValue.length;case 6:return dn(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((i,o)=>i+ad(o),0)}(s.arrayValue);case 10:case 11:return function(a){let i=0;return yn(a.fields,(o,l)=>{i+=o.length+ad(l)}),i}(s.mapValue);default:throw st()}}function Ny(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function uh(s){return!!s&&"integerValue"in s}function V0(s){return!!s&&"arrayValue"in s}function wy(s){return!!s&&"nullValue"in s}function ky(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function nd(s){return!!s&&"mapValue"in s}function kS(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[xw])===null||r===void 0?void 0:r.stringValue)===hw}function Gl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return yn(s.mapValue.fields,(r,a)=>t.mapValue.fields[r]=Gl(a)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Gl(s.arrayValue.values[r]);return t}return Object.assign({},s)}function CS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===mw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t){this.value=t}static empty(){return new Ls({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let a=0;a<t.length-1;++a)if(r=(r.mapValue.fields||{})[t.get(a)],!nd(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Gl(r)}setAll(t){let r=js.emptyPath(),a={},i=[];t.forEach((l,c)=>{if(!r.isImmediateParentOf(c)){const x=this.getFieldsMap(r);this.applyChanges(x,a,i),a={},i=[],r=c.popLast()}l?a[c.lastSegment()]=Gl(l):i.push(c.lastSegment())});const o=this.getFieldsMap(r);this.applyChanges(o,a,i)}delete(t){const r=this.field(t.popLast());nd(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Xr(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<t.length;++a){let i=r.mapValue.fields[t.get(a)];nd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(a)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,a){yn(r,(i,o)=>t[i]=o);for(const i of a)delete t[i]}clone(){return new Ls(Gl(this.value))}}function pw(s){const t=[];return yn(s.fields,(r,a)=>{const i=new js([r]);if(nd(a)){const o=pw(a.mapValue).fields;if(o.length===0)t.push(i);else for(const l of o)t.push(i.child(l))}else t.push(i)}),new ar(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t,r,a,i,o,l,c){this.key=t,this.documentType=r,this.version=a,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(t){return new ps(t,0,at.min(),at.min(),at.min(),Ls.empty(),0)}static newFoundDocument(t,r,a,i){return new ps(t,1,r,at.min(),a,i,0)}static newNoDocument(t,r){return new ps(t,2,r,at.min(),at.min(),Ls.empty(),0)}static newUnknownDocument(t,r){return new ps(t,3,r,at.min(),at.min(),Ls.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ls.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ps&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ps(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(t,r){this.position=t,this.inclusive=r}}function Cy(s,t,r){let a=0;for(let i=0;i<s.position.length;i++){const o=t[i],l=s.position[i];if(o.field.isKeyField()?a=tt.comparator(tt.fromName(l.referenceValue),r.key):a=$i(l,r.data.field(o.field)),o.dir==="desc"&&(a*=-1),a!==0)break}return a}function Iy(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!Xr(s.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t,r="asc"){this.field=t,this.dir=r}}function IS(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{}class ls extends fw{constructor(t,r,a){super(),this.field=t,this.op=r,this.value=a}static create(t,r,a){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,a):new SS(t,r,a):r==="array-contains"?new TS(t,a):r==="in"?new DS(t,a):r==="not-in"?new AS(t,a):r==="array-contains-any"?new RS(t,a):new ls(t,r,a)}static createKeyFieldInFilter(t,r,a){return r==="in"?new _S(t,a):new PS(t,a)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison($i(r,this.value)):r!==null&&un(this.value)===un(r)&&this.matchesComparison($i(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return st()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends fw{constructor(t,r){super(),this.filters=t,this.op=r,this.ce=null}static create(t,r){return new Rr(t,r)}matches(t){return gw(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function gw(s){return s.op==="and"}function yw(s){return ES(s)&&gw(s)}function ES(s){for(const t of s.filters)if(t instanceof Rr)return!1;return!0}function xh(s){if(s instanceof ls)return s.field.canonicalString()+s.op.toString()+qi(s.value);if(yw(s))return s.filters.map(t=>xh(t)).join(",");{const t=s.filters.map(r=>xh(r)).join(",");return`${s.op}(${t})`}}function bw(s,t){return s instanceof ls?function(a,i){return i instanceof ls&&a.op===i.op&&a.field.isEqual(i.field)&&Xr(a.value,i.value)}(s,t):s instanceof Rr?function(a,i){return i instanceof Rr&&a.op===i.op&&a.filters.length===i.filters.length?a.filters.reduce((o,l,c)=>o&&bw(l,i.filters[c]),!0):!1}(s,t):void st()}function jw(s){return s instanceof ls?function(r){return`${r.field.canonicalString()} ${r.op} ${qi(r.value)}`}(s):s instanceof Rr?function(r){return r.op.toString()+" {"+r.getFilters().map(jw).join(" ,")+"}"}(s):"Filter"}class SS extends ls{constructor(t,r,a){super(t,r,a),this.key=tt.fromName(a.referenceValue)}matches(t){const r=tt.comparator(t.key,this.key);return this.matchesComparison(r)}}class _S extends ls{constructor(t,r){super(t,"in",r),this.keys=vw("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class PS extends ls{constructor(t,r){super(t,"not-in",r),this.keys=vw("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function vw(s,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(a=>tt.fromName(a.referenceValue))}class TS extends ls{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return V0(r)&&wo(r.arrayValue,this.value)}}class DS extends ls{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&wo(this.value.arrayValue,r)}}class AS extends ls{constructor(t,r){super(t,"not-in",r)}matches(t){if(wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!wo(this.value.arrayValue,r)}}class RS extends ls{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!V0(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>wo(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t,r=null,a=[],i=[],o=null,l=null,c=null){this.path=t,this.collectionGroup=r,this.orderBy=a,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.le=null}}function Ey(s,t=null,r=[],a=[],i=null,o=null,l=null){return new MS(s,t,r,a,i,o,l)}function B0(s){const t=it(s);if(t.le===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(a=>xh(a)).join(","),r+="|ob:",r+=t.orderBy.map(a=>function(o){return o.field.canonicalString()+o.dir}(a)).join(","),Bo(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>qi(a)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>qi(a)).join(",")),t.le=r}return t.le}function F0(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<s.orderBy.length;r++)if(!IS(s.orderBy[r],t.orderBy[r]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let r=0;r<s.filters.length;r++)if(!bw(s.filters[r],t.filters[r]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Iy(s.startAt,t.startAt)&&Iy(s.endAt,t.endAt)}function mh(s){return tt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t,r=null,a=[],i=[],o=null,l="F",c=null,x=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=x,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function zS(s,t,r,a,i,o,l,c){return new sl(s,t,r,a,i,o,l,c)}function Lu(s){return new sl(s)}function Sy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Nw(s){return s.collectionGroup!==null}function Hl(s){const t=it(s);if(t.he===null){t.he=[];const r=new Set;for(const o of t.explicitOrderBy)t.he.push(o),r.add(o.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new ds(js.comparator);return l.filters.forEach(x=>{x.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(t).forEach(o=>{r.has(o.canonicalString())||o.isKeyField()||t.he.push(new ko(o,a))}),r.has(js.keyField().canonicalString())||t.he.push(new ko(js.keyField(),a))}return t.he}function Qr(s){const t=it(s);return t.Pe||(t.Pe=OS(t,Hl(s))),t.Pe}function OS(s,t){if(s.limitType==="F")return Ey(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ko(i.field,o)});const r=s.endAt?new Hd(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Hd(s.startAt.position,s.startAt.inclusive):null;return Ey(s.path,s.collectionGroup,t,s.filters,s.limit,r,a)}}function hh(s,t){const r=s.filters.concat([t]);return new sl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),r,s.limit,s.limitType,s.startAt,s.endAt)}function Qd(s,t,r){return new sl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,r,s.startAt,s.endAt)}function Vu(s,t){return F0(Qr(s),Qr(t))&&s.limitType===t.limitType}function ww(s){return`${B0(Qr(s))}|lt:${s.limitType}`}function li(s){return`Query(target=${function(r){let a=r.path.canonicalString();return r.collectionGroup!==null&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(i=>jw(i)).join(", ")}]`),Bo(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(i=>qi(i)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(i=>qi(i)).join(",")),`Target(${a})`}(Qr(s))}; limitType=${s.limitType})`}function Bu(s,t){return t.isFoundDocument()&&function(a,i){const o=i.key.path;return a.collectionGroup!==null?i.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(o):tt.isDocumentKey(a.path)?a.path.isEqual(o):a.path.isImmediateParentOf(o)}(s,t)&&function(a,i){for(const o of Hl(a))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(s,t)&&function(a,i){for(const o of a.filters)if(!o.matches(i))return!1;return!0}(s,t)&&function(a,i){return!(a.startAt&&!function(l,c,x){const p=Cy(l,c,x);return l.inclusive?p<=0:p<0}(a.startAt,Hl(a),i)||a.endAt&&!function(l,c,x){const p=Cy(l,c,x);return l.inclusive?p>=0:p>0}(a.endAt,Hl(a),i))}(s,t)}function LS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function kw(s){return(t,r)=>{let a=!1;for(const i of Hl(s)){const o=VS(i,t,r);if(o!==0)return o;a=a||i.field.isKeyField()}return 0}}function VS(s,t,r){const a=s.field.isKeyField()?tt.comparator(t.key,r.key):function(o,l,c){const x=l.data.field(o),p=c.data.field(o);return x!==null&&p!==null?$i(x,p):st()}(s.field,t,r);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return st()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a!==void 0){for(const[i,o]of a)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,r){const a=this.mapKeyFn(t),i=this.inner[a];if(i===void 0)return this.inner[a]=[[t,r]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return!1;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return a.length===1?delete this.inner[r]:a.splice(i,1),this.innerSize--,!0;return!1}forEach(t){yn(this.inner,(r,a)=>{for(const[i,o]of a)t(i,o)})}isEmpty(){return iw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=new Xt(tt.comparator);function Na(){return BS}const Cw=new Xt(tt.comparator);function Tl(...s){let t=Cw;for(const r of s)t=t.insert(r.key,r);return t}function Iw(s){let t=Cw;return s.forEach((r,a)=>t=t.insert(r,a.overlayedDocument)),t}function Dn(){return Ql()}function Ew(){return Ql()}function Ql(){return new Zn(s=>s.toString(),(s,t)=>s.isEqual(t))}const FS=new Xt(tt.comparator),US=new ds(tt.comparator);function yt(...s){let t=US;for(const r of s)t=t.add(r);return t}const $S=new ds(dt);function qS(){return $S}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qd(t)?"-0":t}}function Sw(s){return{integerValue:""+s}}function _w(s,t){return bS(t)?Sw(t):U0(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(){this._=void 0}}function WS(s,t,r){return s instanceof Co?function(i,o){const l={fields:{[cw]:{stringValue:ow},[uw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&L0(o)&&(o=Ou(o)),o&&(l.fields[dw]=o),{mapValue:l}}(r,t):s instanceof Io?Tw(s,t):s instanceof Eo?Dw(s,t):function(i,o){const l=Pw(i,o),c=_y(l)+_y(i.Ie);return uh(l)&&uh(i.Ie)?Sw(c):U0(i.serializer,c)}(s,t)}function GS(s,t,r){return s instanceof Io?Tw(s,t):s instanceof Eo?Dw(s,t):r}function Pw(s,t){return s instanceof So?function(a){return uh(a)||function(o){return!!o&&"doubleValue"in o}(a)}(t)?t:{integerValue:0}:null}class Co extends Fu{}class Io extends Fu{constructor(t){super(),this.elements=t}}function Tw(s,t){const r=Aw(t);for(const a of s.elements)r.some(i=>Xr(i,a))||r.push(a);return{arrayValue:{values:r}}}class Eo extends Fu{constructor(t){super(),this.elements=t}}function Dw(s,t){let r=Aw(t);for(const a of s.elements)r=r.filter(i=>!Xr(i,a));return{arrayValue:{values:r}}}class So extends Fu{constructor(t,r){super(),this.serializer=t,this.Ie=r}}function _y(s){return rs(s.integerValue||s.doubleValue)}function Aw(s){return V0(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,r){this.field=t,this.transform=r}}function HS(s,t){return s.field.isEqual(t.field)&&function(a,i){return a instanceof Io&&i instanceof Io||a instanceof Eo&&i instanceof Eo?Ui(a.elements,i.elements,Xr):a instanceof So&&i instanceof So?Xr(a.Ie,i.Ie):a instanceof Co&&i instanceof Co}(s.transform,t.transform)}class QS{constructor(t,r){this.version=t,this.transformResults=r}}class vs{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new vs}static exists(t){return new vs(void 0,t)}static updateTime(t){return new vs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function id(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Uu{}function Mw(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new $u(s.key,vs.none()):new Fo(s.key,s.data,vs.none());{const r=s.data,a=Ls.empty();let i=new ds(js.comparator);for(let o of t.fields)if(!i.has(o)){let l=r.field(o);l===null&&o.length>1&&(o=o.popLast(),l=r.field(o)),l===null?a.delete(o):a.set(o,l),i=i.add(o)}return new bn(s.key,a,new ar(i.toArray()),vs.none())}}function KS(s,t,r){s instanceof Fo?function(i,o,l){const c=i.value.clone(),x=Ty(i.fieldTransforms,o,l.transformResults);c.setAll(x),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(s,t,r):s instanceof bn?function(i,o,l){if(!id(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=Ty(i.fieldTransforms,o,l.transformResults),x=o.data;x.setAll(zw(i)),x.setAll(c),o.convertToFoundDocument(l.version,x).setHasCommittedMutations()}(s,t,r):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,r)}function Kl(s,t,r,a){return s instanceof Fo?function(o,l,c,x){if(!id(o.precondition,l))return c;const p=o.value.clone(),N=Dy(o.fieldTransforms,x,l);return p.setAll(N),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(s,t,r,a):s instanceof bn?function(o,l,c,x){if(!id(o.precondition,l))return c;const p=Dy(o.fieldTransforms,x,l),N=l.data;return N.setAll(zw(o)),N.setAll(p),l.convertToFoundDocument(l.version,N).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(E=>E.field))}(s,t,r,a):function(o,l,c){return id(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(s,t,r)}function YS(s,t){let r=null;for(const a of s.fieldTransforms){const i=t.data.field(a.field),o=Pw(a.transform,i||null);o!=null&&(r===null&&(r=Ls.empty()),r.set(a.field,o))}return r||null}function Py(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(a,i){return a===void 0&&i===void 0||!(!a||!i)&&Ui(a,i,(o,l)=>HS(o,l))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Fo extends Uu{constructor(t,r,a,i=[]){super(),this.key=t,this.value=r,this.precondition=a,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bn extends Uu{constructor(t,r,a,i,o=[]){super(),this.key=t,this.data=r,this.fieldMask=a,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function zw(s){const t=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=s.data.field(r);t.set(r,a)}}),t}function Ty(s,t,r){const a=new Map;vt(s.length===r.length);for(let i=0;i<r.length;i++){const o=s[i],l=o.transform,c=t.data.field(o.field);a.set(o.field,GS(l,c,r[i]))}return a}function Dy(s,t,r){const a=new Map;for(const i of s){const o=i.transform,l=r.data.field(i.field);a.set(i.field,WS(o,l,t))}return a}class $u extends Uu{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ow extends Uu{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t,r,a,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=a,this.mutations=i}applyToRemoteDocument(t,r){const a=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&KS(o,t,a[i])}}applyToLocalView(t,r){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(r=Kl(a,t,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(r=Kl(a,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const a=Ew();return this.mutations.forEach(i=>{const o=t.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=r.has(i.key)?null:c;const x=Mw(l,c);x!==null&&a.set(i.key,x),l.isValidDocument()||l.convertToNoDocument(at.min())}),a}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),yt())}isEqual(t){return this.batchId===t.batchId&&Ui(this.mutations,t.mutations,(r,a)=>Py(r,a))&&Ui(this.baseMutations,t.baseMutations,(r,a)=>Py(r,a))}}class $0{constructor(t,r,a,i){this.batch=t,this.commitVersion=r,this.mutationResults=a,this.docVersions=i}static from(t,r,a){vt(t.mutations.length===a.length);let i=function(){return FS}();const o=t.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,a[l].version);return new $0(t,r,a,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ns,jt;function Lw(s){switch(s){case be.OK:return st();case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0;default:return st()}}function Vw(s){if(s===void 0)return va("GRPC error has no .code"),be.UNKNOWN;switch(s){case ns.OK:return be.OK;case ns.CANCELLED:return be.CANCELLED;case ns.UNKNOWN:return be.UNKNOWN;case ns.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case ns.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case ns.INTERNAL:return be.INTERNAL;case ns.UNAVAILABLE:return be.UNAVAILABLE;case ns.UNAUTHENTICATED:return be.UNAUTHENTICATED;case ns.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case ns.NOT_FOUND:return be.NOT_FOUND;case ns.ALREADY_EXISTS:return be.ALREADY_EXISTS;case ns.PERMISSION_DENIED:return be.PERMISSION_DENIED;case ns.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case ns.ABORTED:return be.ABORTED;case ns.OUT_OF_RANGE:return be.OUT_OF_RANGE;case ns.UNIMPLEMENTED:return be.UNIMPLEMENTED;case ns.DATA_LOSS:return be.DATA_LOSS;default:return st()}}(jt=ns||(ns={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new sn([4294967295,4294967295],0);function Ay(s){const t=rw().encode(s),r=new YN;return r.update(t),new Uint8Array(r.digest())}function Ry(s){const t=new DataView(s.buffer),r=t.getUint32(0,!0),a=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new sn([r,a],0),new sn([i,o],0)]}class q0{constructor(t,r,a){if(this.bitmap=t,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Dl(`Invalid padding: ${r}`);if(a<0)throw new Dl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${a}`);if(t.length===0&&r!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*t.length-r,this.de=sn.fromNumber(this.Ee)}Ae(t,r,a){let i=t.add(r.multiply(sn.fromNumber(a)));return i.compare(e_)===1&&(i=new sn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const r=Ay(t),[a,i]=Ry(r);for(let o=0;o<this.hashCount;o++){const l=this.Ae(a,i,o);if(!this.Re(l))return!1}return!0}static create(t,r,a){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new q0(o,i,r);return a.forEach(c=>l.insert(c)),l}insert(t){if(this.Ee===0)return;const r=Ay(t),[a,i]=Ry(r);for(let o=0;o<this.hashCount;o++){const l=this.Ae(a,i,o);this.Ve(l)}}Ve(t){const r=Math.floor(t/8),a=t%8;this.bitmap[r]|=1<<a}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(t,r,a,i,o){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,r,a){const i=new Map;return i.set(t,Uo.createSynthesizedTargetChangeForCurrentChange(t,r,a)),new qu(at.min(),i,new Xt(dt),Na(),yt())}}class Uo{constructor(t,r,a,i,o){this.resumeToken=t,this.current=r,this.addedDocuments=a,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,r,a){return new Uo(a,r,yt(),yt(),yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(t,r,a,i){this.me=t,this.removedTargetIds=r,this.key=a,this.fe=i}}class Bw{constructor(t,r){this.targetId=t,this.ge=r}}class Fw{constructor(t,r,a=Cs.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=a,this.cause=i}}class My{constructor(){this.pe=0,this.ye=zy(),this.we=Cs.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=yt(),r=yt(),a=yt();return this.ye.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:a=a.add(i);break;default:st()}}),new Uo(this.we,this.Se,t,r,a)}Me(){this.be=!1,this.ye=zy()}xe(t,r){this.be=!0,this.ye=this.ye.insert(t,r)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,vt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class t_{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Na(),this.$e=Vc(),this.Ue=Vc(),this.Ke=new Xt(dt)}We(t){for(const r of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(r,t.fe):this.ze(r,t.key,t.fe);for(const r of t.removedTargetIds)this.ze(r,t.key,t.fe)}je(t){this.forEachTarget(t,r=>{const a=this.He(r);switch(t.state){case 0:this.Je(r)&&a.Ce(t.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(t.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(r);break;case 3:this.Je(r)&&(a.Le(),a.Ce(t.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),a.Ce(t.resumeToken));break;default:st()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.qe.forEach((a,i)=>{this.Je(i)&&r(i)})}Ze(t){const r=t.targetId,a=t.ge.count,i=this.Xe(r);if(i){const o=i.target;if(mh(o))if(a===0){const l=new tt(o.path);this.ze(r,l,ps.newNoDocument(l,at.min()))}else vt(a===1);else{const l=this.et(r);if(l!==a){const c=this.tt(t),x=c?this.nt(c,t,l):1;if(x!==0){this.Ye(r);const p=x===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,p)}}}}}tt(t){const r=t.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:i=0},hashCount:o=0}=r;let l,c;try{l=dn(a).toUint8Array()}catch(x){if(x instanceof lw)return Fi("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw x}try{c=new q0(l,i,o)}catch(x){return Fi(x instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",x),null}return c.Ee===0?null:c}nt(t,r,a){return r.ge.count===a-this.st(t,r.targetId)?0:2}st(t,r){const a=this.ke.getRemoteKeysForTarget(r);let i=0;return a.forEach(o=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(c)||(this.ze(r,o,null),i++)}),i}ot(t){const r=new Map;this.qe.forEach((o,l)=>{const c=this.Xe(l);if(c){if(o.current&&mh(c.target)){const x=new tt(c.target.path);this._t(x).has(l)||this.ut(l,x)||this.ze(l,x,ps.newNoDocument(x,t))}o.ve&&(r.set(l,o.Fe()),o.Me())}});let a=yt();this.Ue.forEach((o,l)=>{let c=!0;l.forEachWhile(x=>{const p=this.Xe(x);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(a=a.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(t));const i=new qu(t,r,this.Ke,this.Qe,a);return this.Qe=Na(),this.$e=Vc(),this.Ue=Vc(),this.Ke=new Xt(dt),i}Ge(t,r){if(!this.Je(t))return;const a=this.ut(t,r.key)?2:0;this.He(t).xe(r.key,a),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(t)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(t))}ze(t,r,a){if(!this.Je(t))return;const i=this.He(t);this.ut(t,r)?i.xe(r,1):i.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(t)),this.Ue=this.Ue.insert(r,this.ct(r).add(t)),a&&(this.Qe=this.Qe.insert(r,a))}removeTarget(t){this.qe.delete(t)}et(t){const r=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let r=this.qe.get(t);return r||(r=new My,this.qe.set(t,r)),r}ct(t){let r=this.Ue.get(t);return r||(r=new ds(dt),this.Ue=this.Ue.insert(t,r)),r}_t(t){let r=this.$e.get(t);return r||(r=new ds(dt),this.$e=this.$e.insert(t,r)),r}Je(t){const r=this.Xe(t)!==null;return r||Fe("WatchChangeAggregator","Detected inactive target",t),r}Xe(t){const r=this.qe.get(t);return r&&r.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new My),this.ke.getRemoteKeysForTarget(t).forEach(r=>{this.ze(t,r,null)})}ut(t,r){return this.ke.getRemoteKeysForTarget(t).has(r)}}function Vc(){return new Xt(tt.comparator)}function zy(){return new Xt(tt.comparator)}const s_=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),r_=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),a_=(()=>({and:"AND",or:"OR"}))();class n_{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function ph(s,t){return s.useProto3Json||Bo(t)?t:{value:t}}function Kd(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Uw(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function i_(s,t){return Kd(s,t.toTimestamp())}function lr(s){return vt(!!s),at.fromTimestamp(function(r){const a=cn(r);return new Yt(a.seconds,a.nanos)}(s))}function W0(s,t){return fh(s,t).canonicalString()}function fh(s,t){const r=function(i){return new Lt(["projects",i.projectId,"databases",i.database])}(s).child("documents");return t===void 0?r:r.child(t)}function $w(s){const t=Lt.fromString(s);return vt(Kw(t)),t}function Yd(s,t){return W0(s.databaseId,t.path)}function Yl(s,t){const r=$w(t);if(r.get(1)!==s.databaseId.projectId)throw new Le(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new Le(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new tt(Ww(r))}function qw(s,t){return W0(s.databaseId,t)}function l_(s){const t=$w(s);return t.length===4?Lt.emptyPath():Ww(t)}function gh(s){return new Lt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Ww(s){return vt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Oy(s,t,r){return{name:Yd(s,t),fields:r.value.mapValue.fields}}function o_(s,t){return"found"in t?function(a,i){vt(!!i.found),i.found.name,i.found.updateTime;const o=Yl(a,i.found.name),l=lr(i.found.updateTime),c=i.found.createTime?lr(i.found.createTime):at.min(),x=new Ls({mapValue:{fields:i.found.fields}});return ps.newFoundDocument(o,l,c,x)}(s,t):"missing"in t?function(a,i){vt(!!i.missing),vt(!!i.readTime);const o=Yl(a,i.missing),l=lr(i.readTime);return ps.newNoDocument(o,l)}(s,t):st()}function c_(s,t){let r;if("targetChange"in t){t.targetChange;const a=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:st()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(p,N){return p.useProto3Json?(vt(N===void 0||typeof N=="string"),Cs.fromBase64String(N||"")):(vt(N===void 0||N instanceof Buffer||N instanceof Uint8Array),Cs.fromUint8Array(N||new Uint8Array))}(s,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(p){const N=p.code===void 0?be.UNKNOWN:Vw(p.code);return new Le(N,p.message||"")}(l);r=new Fw(a,i,o,c||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const i=Yl(s,a.document.name),o=lr(a.document.updateTime),l=a.document.createTime?lr(a.document.createTime):at.min(),c=new Ls({mapValue:{fields:a.document.fields}}),x=ps.newFoundDocument(i,o,l,c),p=a.targetIds||[],N=a.removedTargetIds||[];r=new ld(p,N,x.key,x)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const i=Yl(s,a.document),o=a.readTime?lr(a.readTime):at.min(),l=ps.newNoDocument(i,o),c=a.removedTargetIds||[];r=new ld([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const i=Yl(s,a.document),o=a.removedTargetIds||[];r=new ld([],o,i,null)}else{if(!("filter"in t))return st();{t.filter;const a=t.filter;a.targetId;const{count:i=0,unchangedNames:o}=a,l=new ZS(i,o),c=a.targetId;r=new Bw(c,l)}}return r}function Gw(s,t){let r;if(t instanceof Fo)r={update:Oy(s,t.key,t.value)};else if(t instanceof $u)r={delete:Yd(s,t.key)};else if(t instanceof bn)r={update:Oy(s,t.key,t.data),updateMask:y_(t.fieldMask)};else{if(!(t instanceof Ow))return st();r={verify:Yd(s,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(a=>function(o,l){const c=l.transform;if(c instanceof Co)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Io)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Eo)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof So)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw st()}(0,a))),t.precondition.isNone||(r.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:i_(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:st()}(s,t.precondition)),r}function d_(s,t){return s&&s.length>0?(vt(t!==void 0),s.map(r=>function(i,o){let l=i.updateTime?lr(i.updateTime):lr(o);return l.isEqual(at.min())&&(l=lr(o)),new QS(l,i.transformResults||[])}(r,t))):[]}function u_(s,t){return{documents:[qw(s,t.path)]}}function x_(s,t){const r={structuredQuery:{}},a=t.path;let i;t.collectionGroup!==null?(i=a,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=qw(s,i);const o=function(p){if(p.length!==0)return Qw(Rr.create(p,"and"))}(t.filters);o&&(r.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(N=>function(S){return{field:oi(S.field),direction:p_(S.dir)}}(N))}(t.orderBy);l&&(r.structuredQuery.orderBy=l);const c=ph(s,t.limit);return c!==null&&(r.structuredQuery.limit=c),t.startAt&&(r.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{ht:r,parent:i}}function m_(s){let t=l_(s.parent);const r=s.structuredQuery,a=r.from?r.from.length:0;let i=null;if(a>0){vt(a===1);const N=r.from[0];N.allDescendants?i=N.collectionId:t=t.child(N.collectionId)}let o=[];r.where&&(o=function(E){const S=Hw(E);return S instanceof Rr&&yw(S)?S.getFilters():[S]}(r.where));let l=[];r.orderBy&&(l=function(E){return E.map(S=>function(y){return new ko(ci(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(S))}(r.orderBy));let c=null;r.limit&&(c=function(E){let S;return S=typeof E=="object"?E.value:E,Bo(S)?null:S}(r.limit));let x=null;r.startAt&&(x=function(E){const S=!!E.before,R=E.values||[];return new Hd(R,S)}(r.startAt));let p=null;return r.endAt&&(p=function(E){const S=!E.before,R=E.values||[];return new Hd(R,S)}(r.endAt)),zS(t,i,l,o,c,"F",x,p)}function h_(s,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return st()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function Hw(s){return s.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=ci(r.unaryFilter.field);return ls.create(a,"==",{doubleValue:NaN});case"IS_NULL":const i=ci(r.unaryFilter.field);return ls.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ci(r.unaryFilter.field);return ls.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ci(r.unaryFilter.field);return ls.create(l,"!=",{nullValue:"NULL_VALUE"});default:return st()}}(s):s.fieldFilter!==void 0?function(r){return ls.create(ci(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(r.fieldFilter.op),r.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(r){return Rr.create(r.compositeFilter.filters.map(a=>Hw(a)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return st()}}(r.compositeFilter.op))}(s):st()}function p_(s){return s_[s]}function f_(s){return r_[s]}function g_(s){return a_[s]}function oi(s){return{fieldPath:s.canonicalString()}}function ci(s){return js.fromServerFormat(s.fieldPath)}function Qw(s){return s instanceof ls?function(r){if(r.op==="=="){if(ky(r.value))return{unaryFilter:{field:oi(r.field),op:"IS_NAN"}};if(wy(r.value))return{unaryFilter:{field:oi(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(ky(r.value))return{unaryFilter:{field:oi(r.field),op:"IS_NOT_NAN"}};if(wy(r.value))return{unaryFilter:{field:oi(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oi(r.field),op:f_(r.op),value:r.value}}}(s):s instanceof Rr?function(r){const a=r.getFilters().map(i=>Qw(i));return a.length===1?a[0]:{compositeFilter:{op:g_(r.op),filters:a}}}(s):st()}function y_(s){const t=[];return s.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function Kw(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t,r,a,i,o=at.min(),l=at.min(),c=Cs.EMPTY_BYTE_STRING,x=null){this.target=t,this.targetId=r,this.purpose=a,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=x}withSequenceNumber(t){return new qa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(t){this.Tt=t}}function j_(s){const t=m_({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Qd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.Tn=new N_}addToCollectionParentIndex(t,r){return this.Tn.add(r),ve.resolve()}getCollectionParents(t,r){return ve.resolve(this.Tn.getEntries(r))}addFieldIndex(t,r){return ve.resolve()}deleteFieldIndex(t,r){return ve.resolve()}deleteAllFieldIndexes(t){return ve.resolve()}createTargetIndexes(t,r){return ve.resolve()}getDocumentsMatchingTarget(t,r){return ve.resolve(null)}getIndexType(t,r){return ve.resolve(0)}getFieldIndexes(t,r){return ve.resolve([])}getNextCollectionGroupToUpdate(t){return ve.resolve(null)}getMinOffset(t,r){return ve.resolve(on.min())}getMinOffsetFromCollectionGroup(t,r){return ve.resolve(on.min())}updateCollectionGroup(t,r,a){return ve.resolve()}updateIndexEntries(t,r){return ve.resolve()}}class N_{constructor(){this.index={}}add(t){const r=t.lastSegment(),a=t.popLast(),i=this.index[r]||new ds(Lt.comparator),o=!i.has(a);return this.index[r]=i.add(a),o}has(t){const r=t.lastSegment(),a=t.popLast(),i=this.index[r];return i&&i.has(a)}getEntries(t){return(this.index[t]||new ds(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yw=41943040;class Ws{static withCacheSize(t){return new Ws(t,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws.DEFAULT_COLLECTION_PERCENTILE=10,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ws.DEFAULT=new Ws(Yw,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ws.DISABLED=new Ws(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Wi(0)}static Kn(){return new Wi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="LruGarbageCollector",w_=1048576;function By([s,t],[r,a]){const i=dt(s,r);return i===0?dt(t,a):i}class k_{constructor(t){this.Hn=t,this.buffer=new ds(By),this.Jn=0}Yn(){return++this.Jn}Zn(t){const r=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();By(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class C_{constructor(t,r,a){this.garbageCollector=t,this.asyncQueue=r,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){Fe(Vy,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){tl(r)?Fe(Vy,"Ignoring IndexedDB error during garbage collection: ",r):await el(r)}await this.er(3e5)})}}class I_{constructor(t,r){this.tr=t,this.params=r}calculateTargetCount(t,r){return this.tr.nr(t).next(a=>Math.floor(r/100*a))}nthSequenceNumber(t,r){if(r===0)return ve.resolve(zu.ae);const a=new k_(r);return this.tr.forEachTarget(t,i=>a.Zn(i.sequenceNumber)).next(()=>this.tr.rr(t,i=>a.Zn(i))).next(()=>a.maxValue)}removeTargets(t,r,a){return this.tr.removeTargets(t,r,a)}removeOrphanedDocuments(t,r){return this.tr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(Ly)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ly):this.ir(t,r))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,r){let a,i,o,l,c,x,p;const N=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),i=this.params.maximumSequenceNumbersToCollect):i=E,l=Date.now(),this.nthSequenceNumber(t,i))).next(E=>(a=E,c=Date.now(),this.removeTargets(t,a,r))).next(E=>(o=E,x=Date.now(),this.removeOrphanedDocuments(t,a))).next(E=>(p=Date.now(),ii()<=gt.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-N}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(x-c)+`ms
	Removed ${E} documents in `+(p-x)+`ms
Total Duration: ${p-N}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:E})))}}function E_(s,t){return new I_(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.changes=new Zn(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,ps.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?ve.resolve(a):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(t,r,a,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=i}getDocument(t,r){let a=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(a=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(a!==null&&Kl(a.mutation,i,ar.empty(),Yt.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.getLocalViewOfDocuments(t,a,yt()).next(()=>a))}getLocalViewOfDocuments(t,r,a=yt()){const i=Dn();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,a).next(o=>{let l=Tl();return o.forEach((c,x)=>{l=l.insert(c,x.overlayedDocument)}),l}))}getOverlayedDocuments(t,r){const a=Dn();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,yt()))}populateOverlays(t,r,a){const i=[];return a.forEach(o=>{r.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((l,c)=>{r.set(l,c)})})}computeViews(t,r,a,i){let o=Na();const l=Ql(),c=function(){return Ql()}();return r.forEach((x,p)=>{const N=a.get(p.key);i.has(p.key)&&(N===void 0||N.mutation instanceof bn)?o=o.insert(p.key,p):N!==void 0?(l.set(p.key,N.mutation.getFieldMask()),Kl(N.mutation,p,N.mutation.getFieldMask(),Yt.now())):l.set(p.key,ar.empty())}),this.recalculateAndSaveOverlays(t,o).next(x=>(x.forEach((p,N)=>l.set(p,N)),r.forEach((p,N)=>{var E;return c.set(p,new __(N,(E=l.get(p))!==null&&E!==void 0?E:null))}),c))}recalculateAndSaveOverlays(t,r){const a=Ql();let i=new Xt((l,c)=>l-c),o=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(l=>{for(const c of l)c.keys().forEach(x=>{const p=r.get(x);if(p===null)return;let N=a.get(x)||ar.empty();N=c.applyToLocalView(p,N),a.set(x,N);const E=(i.get(c.batchId)||yt()).add(x);i=i.insert(c.batchId,E)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const x=c.getNext(),p=x.key,N=x.value,E=Ew();N.forEach(S=>{if(!o.has(S)){const R=Mw(r.get(S),a.get(S));R!==null&&E.set(S,R),o=o.add(S)}}),l.push(this.documentOverlayCache.saveOverlays(t,p,E))}return ve.waitFor(l)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,r,a,i){return function(l){return tt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):Nw(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,a,i):this.getDocumentsMatchingCollectionQuery(t,r,a,i)}getNextDocuments(t,r,a,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,a,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,a.largestBatchId,i-o.size):ve.resolve(Dn());let c=jo,x=o;return l.next(p=>ve.forEach(p,(N,E)=>(c<E.largestBatchId&&(c=E.largestBatchId),o.get(N)?ve.resolve():this.remoteDocumentCache.getEntry(t,N).next(S=>{x=x.insert(N,S)}))).next(()=>this.populateOverlays(t,p,o)).next(()=>this.computeViews(t,x,p,yt())).next(N=>({batchId:c,changes:Iw(N)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new tt(r)).next(a=>{let i=Tl();return a.isFoundDocument()&&(i=i.insert(a.key,a)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,a,i){const o=r.collectionGroup;let l=Tl();return this.indexManager.getCollectionParents(t,o).next(c=>ve.forEach(c,x=>{const p=function(E,S){return new sl(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(r,x.child(o));return this.getDocumentsMatchingCollectionQuery(t,p,a,i).next(N=>{N.forEach((E,S)=>{l=l.insert(E,S)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,r,a,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,a.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,a,o,i))).next(l=>{o.forEach((x,p)=>{const N=p.getKey();l.get(N)===null&&(l=l.insert(N,ps.newInvalidDocument(N)))});let c=Tl();return l.forEach((x,p)=>{const N=o.get(x);N!==void 0&&Kl(N.mutation,p,ar.empty(),Yt.now()),Bu(r,p)&&(c=c.insert(x,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,r){return ve.resolve(this.dr.get(r))}saveBundleMetadata(t,r){return this.dr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:lr(i.createTime)}}(r)),ve.resolve()}getNamedQuery(t,r){return ve.resolve(this.Ar.get(r))}saveNamedQuery(t,r){return this.Ar.set(r.name,function(i){return{name:i.name,query:j_(i.bundledQuery),readTime:lr(i.readTime)}}(r)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.overlays=new Xt(tt.comparator),this.Rr=new Map}getOverlay(t,r){return ve.resolve(this.overlays.get(r))}getOverlays(t,r){const a=Dn();return ve.forEach(r,i=>this.getOverlay(t,i).next(o=>{o!==null&&a.set(i,o)})).next(()=>a)}saveOverlays(t,r,a){return a.forEach((i,o)=>{this.Et(t,r,o)}),ve.resolve()}removeOverlaysForBatchId(t,r,a){const i=this.Rr.get(a);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(a)),ve.resolve()}getOverlaysForCollection(t,r,a){const i=Dn(),o=r.length+1,l=new tt(r.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const x=c.getNext().value,p=x.getKey();if(!r.isPrefixOf(p.path))break;p.path.length===o&&x.largestBatchId>a&&i.set(x.getKey(),x)}return ve.resolve(i)}getOverlaysForCollectionGroup(t,r,a,i){let o=new Xt((p,N)=>p-N);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===r&&p.largestBatchId>a){let N=o.get(p.largestBatchId);N===null&&(N=Dn(),o=o.insert(p.largestBatchId,N)),N.set(p.getKey(),p)}}const c=Dn(),x=o.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((p,N)=>c.set(p,N)),!(c.size()>=i)););return ve.resolve(c)}Et(t,r,a){const i=this.overlays.get(a.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(a.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(a.key,new XS(r,a));let o=this.Rr.get(r);o===void 0&&(o=yt(),this.Rr.set(r,o)),this.Rr.set(r,o.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.sessionToken=Cs.EMPTY_BYTE_STRING}getSessionToken(t){return ve.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.Vr=new ds(us.mr),this.gr=new ds(us.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,r){const a=new us(t,r);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(t,r){t.forEach(a=>this.addReference(a,r))}removeReference(t,r){this.wr(new us(t,r))}Sr(t,r){t.forEach(a=>this.removeReference(a,r))}br(t){const r=new tt(new Lt([])),a=new us(r,t),i=new us(r,t+1),o=[];return this.gr.forEachInRange([a,i],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const r=new tt(new Lt([])),a=new us(r,t),i=new us(r,t+1);let o=yt();return this.gr.forEachInRange([a,i],l=>{o=o.add(l.key)}),o}containsKey(t){const r=new us(t,0),a=this.Vr.firstAfterOrEqual(r);return a!==null&&t.isEqual(a.key)}}class us{constructor(t,r){this.key=t,this.Cr=r}static mr(t,r){return tt.comparator(t.key,r.key)||dt(t.Cr,r.Cr)}static pr(t,r){return dt(t.Cr,r.Cr)||tt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new ds(us.mr)}checkEmpty(t){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,a,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new JS(o,r,a,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new us(c.key,o)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return ve.resolve(l)}lookupMutationBatch(t,r){return ve.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(t,r){const a=r+1,i=this.Nr(a),o=i<0?0:i;return ve.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?O0:this.Fr-1)}getAllMutationBatches(t){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const a=new us(r,0),i=new us(r,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([a,i],l=>{const c=this.Or(l.Cr);o.push(c)}),ve.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,r){let a=new ds(dt);return r.forEach(i=>{const o=new us(i,0),l=new us(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],c=>{a=a.add(c.Cr)})}),ve.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(t,r){const a=r.path,i=a.length+1;let o=a;tt.isDocumentKey(o)||(o=o.child(""));const l=new us(new tt(o),0);let c=new ds(dt);return this.Mr.forEachWhile(x=>{const p=x.key.path;return!!a.isPrefixOf(p)&&(p.length===i&&(c=c.add(x.Cr)),!0)},l),ve.resolve(this.Br(c))}Br(t){const r=[];return t.forEach(a=>{const i=this.Or(a);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){vt(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return ve.forEach(r.mutations,i=>{const o=new us(i.key,r.batchId);return a=a.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Mr=a})}qn(t){}containsKey(t,r){const a=new us(r,0),i=this.Mr.firstAfterOrEqual(a);return ve.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,ve.resolve()}Lr(t,r){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const r=this.Nr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(t){this.kr=t,this.docs=function(){return new Xt(tt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const a=r.key,i=this.docs.get(a),o=i?i.size:0,l=this.kr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const a=this.docs.get(r);return ve.resolve(a?a.document.mutableCopy():ps.newInvalidDocument(r))}getEntries(t,r){let a=Na();return r.forEach(i=>{const o=this.docs.get(i);a=a.insert(i,o?o.document.mutableCopy():ps.newInvalidDocument(i))}),ve.resolve(a)}getDocumentsMatchingQuery(t,r,a,i){let o=Na();const l=r.path,c=new tt(l.child("__id-9223372036854775808__")),x=this.docs.getIteratorFrom(c);for(;x.hasNext();){const{key:p,value:{document:N}}=x.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||pS(hS(N),a)<=0||(i.has(N.key)||Bu(r,N))&&(o=o.insert(N.key,N.mutableCopy()))}return ve.resolve(o)}getAllFromCollectionGroup(t,r,a,i){st()}qr(t,r){return ve.forEach(this.docs,a=>r(a))}newChangeBuffer(t){return new z_(this)}getSize(t){return ve.resolve(this.size)}}class z_ extends S_{constructor(t){super(),this.Ir=t}applyChanges(t){const r=[];return this.changes.forEach((a,i)=>{i.isValidDocument()?r.push(this.Ir.addEntry(t,i)):this.Ir.removeEntry(a)}),ve.waitFor(r)}getFromCache(t,r){return this.Ir.getEntry(t,r)}getAllFromCache(t,r){return this.Ir.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(t){this.persistence=t,this.Qr=new Zn(r=>B0(r),F0),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.$r=0,this.Ur=new G0,this.targetCount=0,this.Kr=Wi.Un()}forEachTarget(t,r){return this.Qr.forEach((a,i)=>r(i)),ve.resolve()}getLastRemoteSnapshotVersion(t){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ve.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(t,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.$r&&(this.$r=r),ve.resolve()}zn(t){this.Qr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Kr=new Wi(r),this.highestTargetId=r),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,r){return this.zn(r),this.targetCount+=1,ve.resolve()}updateTargetData(t,r){return this.zn(r),ve.resolve()}removeTargetData(t,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,ve.resolve()}removeTargets(t,r,a){let i=0;const o=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=r&&a.get(c.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(t,c.targetId)),i++)}),ve.waitFor(o).next(()=>i)}getTargetCount(t){return ve.resolve(this.targetCount)}getTargetData(t,r){const a=this.Qr.get(r)||null;return ve.resolve(a)}addMatchingKeys(t,r,a){return this.Ur.yr(r,a),ve.resolve()}removeMatchingKeys(t,r,a){this.Ur.Sr(r,a);const i=this.persistence.referenceDelegate,o=[];return i&&r.forEach(l=>{o.push(i.markPotentiallyOrphaned(t,l))}),ve.waitFor(o)}removeMatchingKeysForTargetId(t,r){return this.Ur.br(r),ve.resolve()}getMatchingKeysForTargetId(t,r){const a=this.Ur.vr(r);return ve.resolve(a)}containsKey(t,r){return ve.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t,r){this.Wr={},this.overlays={},this.Gr=new zu(0),this.zr=!1,this.zr=!0,this.jr=new A_,this.referenceDelegate=t(this),this.Hr=new O_(this),this.indexManager=new v_,this.remoteDocumentCache=function(i){return new M_(i)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new b_(r),this.Yr=new T_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new D_,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let a=this.Wr[t.toKey()];return a||(a=new R_(r,this.referenceDelegate),this.Wr[t.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,r,a){Fe("MemoryPersistence","Starting transaction:",t);const i=new L_(this.Gr.next());return this.referenceDelegate.Zr(),a(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(t,r){return ve.or(Object.values(this.Wr).map(a=>()=>a.containsKey(t,r)))}}class L_ extends gS{constructor(t){super(),this.currentSequenceNumber=t}}class H0{constructor(t){this.persistence=t,this.ti=new G0,this.ni=null}static ri(t){return new H0(t)}get ii(){if(this.ni)return this.ni;throw st()}addReference(t,r,a){return this.ti.addReference(a,r),this.ii.delete(a.toString()),ve.resolve()}removeReference(t,r,a){return this.ti.removeReference(a,r),this.ii.add(a.toString()),ve.resolve()}markPotentiallyOrphaned(t,r){return this.ii.add(r.toString()),ve.resolve()}removeTarget(t,r){this.ti.br(r.targetId).forEach(i=>this.ii.add(i.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>a.removeTargetData(t,r))}Zr(){this.ni=new Set}Xr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.ii,a=>{const i=tt.fromPath(a);return this.si(t,i).next(o=>{o||r.removeEntry(i,at.min())})}).next(()=>(this.ni=null,r.apply(t)))}updateLimboDocument(t,r){return this.si(t,r).next(a=>{a?this.ii.delete(r.toString()):this.ii.add(r.toString())})}Jr(t){return 0}si(t,r){return ve.or([()=>ve.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.ei(t,r)])}}class Jd{constructor(t,r){this.persistence=t,this.oi=new Zn(a=>jS(a.path),(a,i)=>a.isEqual(i)),this.garbageCollector=E_(this,r)}static ri(t,r){return new Jd(t,r)}Zr(){}Xr(t){return ve.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}nr(t){const r=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>r.next(i=>a+i))}sr(t){let r=0;return this.rr(t,a=>{r++}).next(()=>r)}rr(t,r){return ve.forEach(this.oi,(a,i)=>this.ar(t,a,i).next(o=>o?ve.resolve():r(i)))}removeTargets(t,r,a){return this.persistence.getTargetCache().removeTargets(t,r,a)}removeOrphanedDocuments(t,r){let a=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(t,l=>this.ar(t,l,r).next(c=>{c||(a++,o.removeEntry(l,at.min()))})).next(()=>o.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,r){return this.oi.set(r,t.currentSequenceNumber),ve.resolve()}removeTarget(t,r){const a=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,r,a){return this.oi.set(a,t.currentSequenceNumber),ve.resolve()}removeReference(t,r,a){return this.oi.set(a,t.currentSequenceNumber),ve.resolve()}updateLimboDocument(t,r){return this.oi.set(r,t.currentSequenceNumber),ve.resolve()}Jr(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=ad(t.data.value)),r}ar(t,r,a){return ve.or([()=>this.persistence.ei(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const i=this.oi.get(r);return ve.resolve(i!==void 0&&i>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(t,r,a,i){this.targetId=t,this.fromCache=r,this.Hi=a,this.Ji=i}static Yi(t,r){let a=yt(),i=yt();for(const o of r.docChanges)switch(o.type){case 0:a=a.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Q0(t,r.fromCache,a,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return gI()?8:yS(Ms())>0?6:4}()}initialize(t,r){this.ns=t,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(t,r,a,i){const o={result:null};return this.rs(t,r).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(t,r,i,a).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new V_;return this._s(t,r,l).next(c=>{if(o.result=c,this.Xi)return this.us(t,r,l,c.size)})}).next(()=>o.result)}us(t,r,a,i){return a.documentReadCount<this.es?(ii()<=gt.DEBUG&&Fe("QueryEngine","SDK will not create cache indexes for query:",li(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ve.resolve()):(ii()<=gt.DEBUG&&Fe("QueryEngine","Query:",li(r),"scans",a.documentReadCount,"local documents and returns",i,"documents as results."),a.documentReadCount>this.ts*i?(ii()<=gt.DEBUG&&Fe("QueryEngine","The SDK decides to create cache indexes for query:",li(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Qr(r))):ve.resolve())}rs(t,r){if(Sy(r))return ve.resolve(null);let a=Qr(r);return this.indexManager.getIndexType(t,a).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Qd(r,null,"F"),a=Qr(r)),this.indexManager.getDocumentsMatchingTarget(t,a).next(o=>{const l=yt(...o);return this.ns.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,a).next(x=>{const p=this.cs(r,c);return this.ls(r,p,l,x.readTime)?this.rs(t,Qd(r,null,"F")):this.hs(t,p,r,x)}))})))}ss(t,r,a,i){return Sy(r)||i.isEqual(at.min())?ve.resolve(null):this.ns.getDocuments(t,a).next(o=>{const l=this.cs(r,o);return this.ls(r,l,a,i)?ve.resolve(null):(ii()<=gt.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),li(r)),this.hs(t,l,r,mS(i,jo)).next(c=>c))})}cs(t,r){let a=new ds(kw(t));return r.forEach((i,o)=>{Bu(t,o)&&(a=a.add(o))}),a}ls(t,r,a,i){if(t.limit===null)return!1;if(a.size!==r.size)return!0;const o=t.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(t,r,a){return ii()<=gt.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",li(r)),this.ns.getDocumentsMatchingQuery(t,r,on.min(),a)}hs(t,r,a,i){return this.ns.getDocumentsMatchingQuery(t,a,i).next(o=>(r.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="LocalStore",F_=3e8;class U_{constructor(t,r,a,i){this.persistence=t,this.Ps=r,this.serializer=i,this.Ts=new Xt(dt),this.Is=new Zn(o=>B0(o),F0),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(a)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new P_(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ts))}}function $_(s,t,r,a){return new U_(s,t,r,a)}async function Xw(s,t){const r=it(s);return await r.persistence.runTransaction("Handle user change","readonly",a=>{let i;return r.mutationQueue.getAllMutationBatches(a).next(o=>(i=o,r.As(t),r.mutationQueue.getAllMutationBatches(a))).next(o=>{const l=[],c=[];let x=yt();for(const p of i){l.push(p.batchId);for(const N of p.mutations)x=x.add(N.key)}for(const p of o){c.push(p.batchId);for(const N of p.mutations)x=x.add(N.key)}return r.localDocuments.getDocuments(a,x).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function q_(s,t){const r=it(s);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const i=t.batch.keys(),o=r.ds.newChangeBuffer({trackRemovals:!0});return function(c,x,p,N){const E=p.batch,S=E.keys();let R=ve.resolve();return S.forEach(y=>{R=R.next(()=>N.getEntry(x,y)).next(V=>{const v=p.docVersions.get(y);vt(v!==null),V.version.compareTo(v)<0&&(E.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),N.addEntry(V)))})}),R.next(()=>c.mutationQueue.removeMutationBatch(x,E))}(r,a,t,o).next(()=>o.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(c){let x=yt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(x=x.add(c.batch.mutations[p].key));return x}(t))).next(()=>r.localDocuments.getDocuments(a,i))})}function Zw(s){const t=it(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Hr.getLastRemoteSnapshotVersion(r))}function W_(s,t){const r=it(s),a=t.snapshotVersion;let i=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=r.ds.newChangeBuffer({trackRemovals:!0});i=r.Ts;const c=[];t.targetChanges.forEach((N,E)=>{const S=i.get(E);if(!S)return;c.push(r.Hr.removeMatchingKeys(o,N.removedDocuments,E).next(()=>r.Hr.addMatchingKeys(o,N.addedDocuments,E)));let R=S.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(E)!==null?R=R.withResumeToken(Cs.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):N.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(N.resumeToken,a)),i=i.insert(E,R),function(V,v,P){return V.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=F_?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(S,R,N)&&c.push(r.Hr.updateTargetData(o,R))});let x=Na(),p=yt();if(t.documentUpdates.forEach(N=>{t.resolvedLimboDocuments.has(N)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(o,N))}),c.push(G_(o,l,t.documentUpdates).next(N=>{x=N.Vs,p=N.fs})),!a.isEqual(at.min())){const N=r.Hr.getLastRemoteSnapshotVersion(o).next(E=>r.Hr.setTargetsMetadata(o,o.currentSequenceNumber,a));c.push(N)}return ve.waitFor(c).next(()=>l.apply(o)).next(()=>r.localDocuments.getLocalViewOfDocuments(o,x,p)).next(()=>x)}).then(o=>(r.Ts=i,o))}function G_(s,t,r){let a=yt(),i=yt();return r.forEach(o=>a=a.add(o)),t.getEntries(s,a).next(o=>{let l=Na();return r.forEach((c,x)=>{const p=o.get(c);x.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(c)),x.isNoDocument()&&x.version.isEqual(at.min())?(t.removeEntry(c,x.readTime),l=l.insert(c,x)):!p.isValidDocument()||x.version.compareTo(p.version)>0||x.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(x),l=l.insert(c,x)):Fe(K0,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",x.version)}),{Vs:l,fs:i}})}function H_(s,t){const r=it(s);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=O0),r.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function Q_(s,t){const r=it(s);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let i;return r.Hr.getTargetData(a,t).next(o=>o?(i=o,ve.resolve(i)):r.Hr.allocateTargetId(a).next(l=>(i=new qa(t,l,"TargetPurposeListen",a.currentSequenceNumber),r.Hr.addTargetData(a,i).next(()=>i))))}).then(a=>{const i=r.Ts.get(a.targetId);return(i===null||a.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(a.targetId,a),r.Is.set(t,a.targetId)),a})}async function yh(s,t,r){const a=it(s),i=a.Ts.get(t),o=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",o,l=>a.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!tl(l))throw l;Fe(K0,`Failed to update sequence numbers for target ${t}: ${l}`)}a.Ts=a.Ts.remove(t),a.Is.delete(i.target)}function Fy(s,t,r){const a=it(s);let i=at.min(),o=yt();return a.persistence.runTransaction("Execute query","readwrite",l=>function(x,p,N){const E=it(x),S=E.Is.get(N);return S!==void 0?ve.resolve(E.Ts.get(S)):E.Hr.getTargetData(p,N)}(a,l,Qr(t)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(l,c.targetId).next(x=>{o=x})}).next(()=>a.Ps.getDocumentsMatchingQuery(l,t,r?i:at.min(),r?o:yt())).next(c=>(K_(a,LS(t),c),{documents:c,gs:o})))}function K_(s,t,r){let a=s.Es.get(t)||at.min();r.forEach((i,o)=>{o.readTime.compareTo(a)>0&&(a=o.readTime)}),s.Es.set(t,a)}class Uy{constructor(){this.activeTargetIds=qS()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Y_{constructor(){this.ho=new Uy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,a){}addLocalQueryTarget(t,r=!0){return r&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,r,a){this.Po[t]=r}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Uy,Promise.resolve()}handleUserChange(t,r,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="ConnectivityMonitor";class qy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Fe($y,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){Fe($y,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc=null;function bh(){return Bc===null?Bc=function(){return 268435456+Math.round(2147483648*Math.random())}():Bc++,"0x"+Bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="RestConnection",X_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Z_{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=r+"://"+t.host,this.yo=`projects/${a}/databases/${i}`,this.wo=this.databaseId.database===Wd?`project_id=${a}`:`project_id=${a}&database_id=${i}`}So(t,r,a,i,o){const l=bh(),c=this.bo(t,r.toUriEncodedString());Fe(em,`Sending RPC '${t}' ${l}:`,c,a);const x={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(x,i,o),this.vo(t,c,x,a).then(p=>(Fe(em,`Received RPC '${t}' ${l}: `,p),p),p=>{throw Fi(em,`RPC '${t}' ${l} failed with error: `,p,"url: ",c,"request:",a),p})}Co(t,r,a,i,o,l){return this.So(t,r,a,i,o)}Do(t,r,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zi}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>t[o]=i),a&&a.headers.forEach((i,o)=>t[o]=i)}bo(t,r){const a=X_[t];return`${this.po}/v1/${r}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="WebChannelConnection";class tP extends Z_{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,r,a,i){const o=bh();return new Promise((l,c)=>{const x=new JN;x.setWithCredentials(!0),x.listenOnce(XN.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case rd.NO_ERROR:const N=x.getResponseJson();Fe(Ts,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(N)),l(N);break;case rd.TIMEOUT:Fe(Ts,`RPC '${t}' ${o} timed out`),c(new Le(be.DEADLINE_EXCEEDED,"Request time out"));break;case rd.HTTP_ERROR:const E=x.getStatus();if(Fe(Ts,`RPC '${t}' ${o} failed with status:`,E,"response text:",x.getResponseText()),E>0){let S=x.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S==null?void 0:S.error;if(R&&R.status&&R.message){const y=function(v){const P=v.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(P)>=0?P:be.UNKNOWN}(R.status);c(new Le(y,R.message))}else c(new Le(be.UNKNOWN,"Server responded with status "+x.getStatus()))}else c(new Le(be.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Fe(Ts,`RPC '${t}' ${o} completed.`)}});const p=JSON.stringify(i);Fe(Ts,`RPC '${t}' ${o} sending request:`,i),x.send(r,"POST",p,a,15)})}Wo(t,r,a){const i=bh(),o=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=tw(),c=ew(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(x.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(x.useFetchStreams=!0),this.Do(x.initMessageHeaders,r,a),x.encodeInitMessageHeaders=!0;const N=o.join("");Fe(Ts,`Creating RPC '${t}' stream ${i}: ${N}`,x);const E=l.createWebChannel(N,x);let S=!1,R=!1;const y=new eP({Fo:v=>{R?Fe(Ts,`Not sending because RPC '${t}' stream ${i} is closed:`,v):(S||(Fe(Ts,`Opening RPC '${t}' stream ${i} transport.`),E.open(),S=!0),Fe(Ts,`RPC '${t}' stream ${i} sending:`,v),E.send(v))},Mo:()=>E.close()}),V=(v,P,z)=>{v.listen(P,M=>{try{z(M)}catch(H){setTimeout(()=>{throw H},0)}})};return V(E,Pl.EventType.OPEN,()=>{R||(Fe(Ts,`RPC '${t}' stream ${i} transport opened.`),y.Qo())}),V(E,Pl.EventType.CLOSE,()=>{R||(R=!0,Fe(Ts,`RPC '${t}' stream ${i} transport closed`),y.Uo())}),V(E,Pl.EventType.ERROR,v=>{R||(R=!0,Fi(Ts,`RPC '${t}' stream ${i} transport errored:`,v),y.Uo(new Le(be.UNAVAILABLE,"The operation could not be completed")))}),V(E,Pl.EventType.MESSAGE,v=>{var P;if(!R){const z=v.data[0];vt(!!z);const M=z,H=(M==null?void 0:M.error)||((P=M[0])===null||P===void 0?void 0:P.error);if(H){Fe(Ts,`RPC '${t}' stream ${i} received error:`,H);const Q=H.status;let W=function($){const B=ns[$];if(B!==void 0)return Vw(B)}(Q),D=H.message;W===void 0&&(W=be.INTERNAL,D="Unknown error status: "+Q+" with message "+H.message),R=!0,y.Uo(new Le(W,D)),E.close()}else Fe(Ts,`RPC '${t}' stream ${i} received:`,z),y.Ko(z)}}),V(c,ZN.STAT_EVENT,v=>{v.stat===oh.PROXY?Fe(Ts,`RPC '${t}' stream ${i} detected buffering proxy`):v.stat===oh.NOPROXY&&Fe(Ts,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.$o()},0),y}}function tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(s){return new n_(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(t,r,a=1e3,i=1.5,o=6e4){this.Ti=t,this.timerId=r,this.Go=a,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const r=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),i=Math.max(0,r-a);i>0&&Fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="PersistentStream";class e5{constructor(t,r,a,i,o,l,c,x){this.Ti=t,this.n_=a,this.r_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=x,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Y0(t,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():r&&r.code===be.RESOURCE_EXHAUSTED?(va(r.toString()),va("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,i])=>{this.i_===r&&this.V_(a,i)},a=>{t(()=>{const i=new Le(be.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(i)})})}V_(t,r){const a=this.R_(this.i_);this.stream=this.f_(t,r),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{a(()=>this.m_(i))}),this.stream.onMessage(i=>{a(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return Fe(Wy,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return r=>{this.Ti.enqueueAndForget(()=>this.i_===t?r():(Fe(Wy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sP extends e5{constructor(t,r,a,i,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,i,l),this.serializer=o}f_(t,r){return this.connection.Wo("Listen",t,r)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const r=c_(this.serializer,t),a=function(o){if(!("targetChange"in o))return at.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?at.min():l.readTime?lr(l.readTime):at.min()}(t);return this.listener.p_(r,a)}y_(t){const r={};r.database=gh(this.serializer),r.addTarget=function(o,l){let c;const x=l.target;if(c=mh(x)?{documents:u_(o,x)}:{query:x_(o,x).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=Uw(o,l.resumeToken);const p=ph(o,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(at.min())>0){c.readTime=Kd(o,l.snapshotVersion.toTimestamp());const p=ph(o,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,t);const a=h_(this.serializer,t);a&&(r.labels=a),this.I_(r)}w_(t){const r={};r.database=gh(this.serializer),r.removeTarget=t,this.I_(r)}}class rP extends e5{constructor(t,r,a,i,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,i,l),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,r){return this.connection.Wo("Write",t,r)}g_(t){return vt(!!t.streamToken),this.lastStreamToken=t.streamToken,vt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){vt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const r=d_(t.writeResults,t.commitTime),a=lr(t.commitTime);return this.listener.v_(a,r)}C_(){const t={};t.database=gh(this.serializer),this.I_(t)}b_(t){const r={streamToken:this.lastStreamToken,writes:t.map(a=>Gw(this.serializer,a))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{}class nP extends aP{constructor(t,r,a,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=a,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Le(be.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,r,a,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(t,fh(r,a),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(be.UNKNOWN,o.toString())})}Co(t,r,a,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(t,fh(r,a),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Le(be.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class iP{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(va(r),this.N_=!1):Fe("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="RemoteStore";class lP{constructor(t,r,a,i,o){this.localStore=t,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{a.enqueueAndForget(async()=>{ei(this)&&(Fe(qn,"Restarting streams for network reachability change."),await async function(x){const p=it(x);p.W_.add(4),await $o(p),p.j_.set("Unknown"),p.W_.delete(4),await Gu(p)}(this))})}),this.j_=new iP(a,i)}}async function Gu(s){if(ei(s))for(const t of s.G_)await t(!0)}async function $o(s){for(const t of s.G_)await t(!1)}function t5(s,t){const r=it(s);r.K_.has(t.targetId)||(r.K_.set(t.targetId,t),ep(r)?Z0(r):rl(r).c_()&&X0(r,t))}function J0(s,t){const r=it(s),a=rl(r);r.K_.delete(t),a.c_()&&s5(r,t),r.K_.size===0&&(a.c_()?a.P_():ei(r)&&r.j_.set("Unknown"))}function X0(s,t){if(s.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(at.min())>0){const r=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}rl(s).y_(t)}function s5(s,t){s.H_.Ne(t),rl(s).w_(t)}function Z0(s){s.H_=new t_({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>s.K_.get(t)||null,it:()=>s.datastore.serializer.databaseId}),rl(s).start(),s.j_.B_()}function ep(s){return ei(s)&&!rl(s).u_()&&s.K_.size>0}function ei(s){return it(s).W_.size===0}function r5(s){s.H_=void 0}async function oP(s){s.j_.set("Online")}async function cP(s){s.K_.forEach((t,r)=>{X0(s,t)})}async function dP(s,t){r5(s),ep(s)?(s.j_.q_(t),Z0(s)):s.j_.set("Unknown")}async function uP(s,t,r){if(s.j_.set("Online"),t instanceof Fw&&t.state===2&&t.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.K_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.K_.delete(c),i.H_.removeTarget(c))}(s,t)}catch(a){Fe(qn,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Xd(s,a)}else if(t instanceof ld?s.H_.We(t):t instanceof Bw?s.H_.Ze(t):s.H_.je(t),!r.isEqual(at.min()))try{const a=await Zw(s.localStore);r.compareTo(a)>=0&&await function(o,l){const c=o.H_.ot(l);return c.targetChanges.forEach((x,p)=>{if(x.resumeToken.approximateByteSize()>0){const N=o.K_.get(p);N&&o.K_.set(p,N.withResumeToken(x.resumeToken,l))}}),c.targetMismatches.forEach((x,p)=>{const N=o.K_.get(x);if(!N)return;o.K_.set(x,N.withResumeToken(Cs.EMPTY_BYTE_STRING,N.snapshotVersion)),s5(o,x);const E=new qa(N.target,x,p,N.sequenceNumber);X0(o,E)}),o.remoteSyncer.applyRemoteEvent(c)}(s,r)}catch(a){Fe(qn,"Failed to raise snapshot:",a),await Xd(s,a)}}async function Xd(s,t,r){if(!tl(t))throw t;s.W_.add(1),await $o(s),s.j_.set("Offline"),r||(r=()=>Zw(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{Fe(qn,"Retrying IndexedDB access"),await r(),s.W_.delete(1),await Gu(s)})}function a5(s,t){return t().catch(r=>Xd(s,r,t))}async function Hu(s){const t=it(s),r=xn(t);let a=t.U_.length>0?t.U_[t.U_.length-1].batchId:O0;for(;xP(t);)try{const i=await H_(t.localStore,a);if(i===null){t.U_.length===0&&r.P_();break}a=i.batchId,mP(t,i)}catch(i){await Xd(t,i)}n5(t)&&i5(t)}function xP(s){return ei(s)&&s.U_.length<10}function mP(s,t){s.U_.push(t);const r=xn(s);r.c_()&&r.S_&&r.b_(t.mutations)}function n5(s){return ei(s)&&!xn(s).u_()&&s.U_.length>0}function i5(s){xn(s).start()}async function hP(s){xn(s).C_()}async function pP(s){const t=xn(s);for(const r of s.U_)t.b_(r.mutations)}async function fP(s,t,r){const a=s.U_.shift(),i=$0.from(a,t,r);await a5(s,()=>s.remoteSyncer.applySuccessfulWrite(i)),await Hu(s)}async function gP(s,t){t&&xn(s).S_&&await async function(a,i){if(function(l){return Lw(l)&&l!==be.ABORTED}(i.code)){const o=a.U_.shift();xn(a).h_(),await a5(a,()=>a.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Hu(a)}}(s,t),n5(s)&&i5(s)}async function Gy(s,t){const r=it(s);r.asyncQueue.verifyOperationInProgress(),Fe(qn,"RemoteStore received new credentials");const a=ei(r);r.W_.add(3),await $o(r),a&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.W_.delete(3),await Gu(r)}async function yP(s,t){const r=it(s);t?(r.W_.delete(2),await Gu(r)):t||(r.W_.add(2),await $o(r),r.j_.set("Unknown"))}function rl(s){return s.J_||(s.J_=function(r,a,i){const o=it(r);return o.M_(),new sP(a,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(s.datastore,s.asyncQueue,{xo:oP.bind(null,s),No:cP.bind(null,s),Lo:dP.bind(null,s),p_:uP.bind(null,s)}),s.G_.push(async t=>{t?(s.J_.h_(),ep(s)?Z0(s):s.j_.set("Unknown")):(await s.J_.stop(),r5(s))})),s.J_}function xn(s){return s.Y_||(s.Y_=function(r,a,i){const o=it(r);return o.M_(),new rP(a,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:hP.bind(null,s),Lo:gP.bind(null,s),D_:pP.bind(null,s),v_:fP.bind(null,s)}),s.G_.push(async t=>{t?(s.Y_.h_(),await Hu(s)):(await s.Y_.stop(),s.U_.length>0&&(Fe(qn,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t,r,a,i,o){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=a,this.op=i,this.removalCallback=o,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,a,i,o){const l=Date.now()+a,c=new tp(t,r,l,i,o);return c.start(a),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(be.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sp(s,t){if(va("AsyncQueue",`${t}: ${s}`),tl(s))return new Le(be.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{static emptySet(t){return new Pi(t.comparator)}constructor(t){this.comparator=t?(r,a)=>t(r,a)||tt.comparator(r.key,a.key):(r,a)=>tt.comparator(r.key,a.key),this.keyedMap=Tl(),this.sortedSet=new Xt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,a)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Pi)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=a.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const a=new Pi;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=r,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this.Z_=new Xt(tt.comparator)}track(t){const r=t.doc.key,a=this.Z_.get(r);a?t.type!==0&&a.type===3?this.Z_=this.Z_.insert(r,t):t.type===3&&a.type!==1?this.Z_=this.Z_.insert(r,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Z_=this.Z_.remove(r):t.type===1&&a.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:t.doc}):st():this.Z_=this.Z_.insert(r,t)}X_(){const t=[];return this.Z_.inorderTraversal((r,a)=>{t.push(a)}),t}}class Gi{constructor(t,r,a,i,o,l,c,x,p){this.query=t,this.docs=r,this.oldDocs=a,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=x,this.hasCachedResults=p}static fromInitialDocuments(t,r,a,i,o){const l=[];return r.forEach(c=>{l.push({type:0,doc:c})}),new Gi(t,r,Pi.emptySet(r),l,a,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,a=t.docChanges;if(r.length!==a.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==a[i].type||!r[i].doc.isEqual(a[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class jP{constructor(){this.queries=Qy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,a){const i=it(r),o=i.queries;i.queries=Qy(),o.forEach((l,c)=>{for(const x of c.ta)x.onError(a)})})(this,new Le(be.ABORTED,"Firestore shutting down"))}}function Qy(){return new Zn(s=>ww(s),Vu)}async function rp(s,t){const r=it(s);let a=3;const i=t.query;let o=r.queries.get(i);o?!o.na()&&t.ra()&&(a=2):(o=new bP,a=t.ra()?0:1);try{switch(a){case 0:o.ea=await r.onListen(i,!0);break;case 1:o.ea=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(l){const c=sp(l,`Initialization of query '${li(t.query)}' failed`);return void t.onError(c)}r.queries.set(i,o),o.ta.push(t),t.sa(r.onlineState),o.ea&&t.oa(o.ea)&&np(r)}async function ap(s,t){const r=it(s),a=t.query;let i=3;const o=r.queries.get(a);if(o){const l=o.ta.indexOf(t);l>=0&&(o.ta.splice(l,1),o.ta.length===0?i=t.ra()?0:1:!o.na()&&t.ra()&&(i=2))}switch(i){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function vP(s,t){const r=it(s);let a=!1;for(const i of t){const o=i.query,l=r.queries.get(o);if(l){for(const c of l.ta)c.oa(i)&&(a=!0);l.ea=i}}a&&np(r)}function NP(s,t,r){const a=it(s),i=a.queries.get(t);if(i)for(const o of i.ta)o.onError(r);a.queries.delete(t)}function np(s){s.ia.forEach(t=>{t.next()})}var jh,Ky;(Ky=jh||(jh={}))._a="default",Ky.Cache="cache";class ip{constructor(t,r,a){this.query=t,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(t){if(!this.options.includeMetadataChanges){const a=[];for(const i of t.docChanges)i.type!==3&&a.push(i);t=new Gi(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ua?this.la(t)&&(this.aa.next(t),r=!0):this.ha(t,this.onlineState)&&(this.Pa(t),r=!0),this.ca=t,r}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),r=!0),r}ha(t,r){if(!t.fromCache||!this.ra())return!0;const a=r!=="Offline";return(!this.options.Ta||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}la(t){if(t.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(t){t=Gi.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==jh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(t){this.key=t}}class o5{constructor(t){this.key=t}}class wP{constructor(t,r){this.query=t,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=yt(),this.mutatedKeys=yt(),this.ya=kw(t),this.wa=new Pi(this.ya)}get Sa(){return this.fa}ba(t,r){const a=r?r.Da:new Hy,i=r?r.wa:this.wa;let o=r?r.mutatedKeys:this.mutatedKeys,l=i,c=!1;const x=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((N,E)=>{const S=i.get(N),R=Bu(this.query,E)?E:null,y=!!S&&this.mutatedKeys.has(S.key),V=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let v=!1;S&&R?S.data.isEqual(R.data)?y!==V&&(a.track({type:3,doc:R}),v=!0):this.va(S,R)||(a.track({type:2,doc:R}),v=!0,(x&&this.ya(R,x)>0||p&&this.ya(R,p)<0)&&(c=!0)):!S&&R?(a.track({type:0,doc:R}),v=!0):S&&!R&&(a.track({type:1,doc:S}),v=!0,(x||p)&&(c=!0)),v&&(R?(l=l.add(R),o=V?o.add(N):o.delete(N)):(l=l.delete(N),o=o.delete(N)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const N=this.query.limitType==="F"?l.last():l.first();l=l.delete(N.key),o=o.delete(N.key),a.track({type:1,doc:N})}return{wa:l,Da:a,ls:c,mutatedKeys:o}}va(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,a,i){const o=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const l=t.Da.X_();l.sort((N,E)=>function(R,y){const V=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return V(R)-V(y)}(N.type,E.type)||this.ya(N.doc,E.doc)),this.Ca(a),i=i!=null&&i;const c=r&&!i?this.Fa():[],x=this.pa.size===0&&this.current&&!i?1:0,p=x!==this.ga;return this.ga=x,l.length!==0||p?{snapshot:new Gi(this.query,t.wa,o,l,t.mutatedKeys,x===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Hy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(r=>this.fa=this.fa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.fa=this.fa.delete(r)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=yt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const r=[];return t.forEach(a=>{this.pa.has(a)||r.push(new o5(a))}),this.pa.forEach(a=>{t.has(a)||r.push(new l5(a))}),r}Oa(t){this.fa=t.gs,this.pa=yt();const r=this.ba(t.documents);return this.applyChanges(r,!0)}Na(){return Gi.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const lp="SyncEngine";class kP{constructor(t,r,a){this.query=t,this.targetId=r,this.view=a}}class CP{constructor(t){this.key=t,this.Ba=!1}}class IP{constructor(t,r,a,i,o,l){this.localStore=t,this.remoteStore=r,this.eventManager=a,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Zn(c=>ww(c),Vu),this.qa=new Map,this.Qa=new Set,this.$a=new Xt(tt.comparator),this.Ua=new Map,this.Ka=new G0,this.Wa={},this.Ga=new Map,this.za=Wi.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function EP(s,t,r=!0){const a=h5(s);let i;const o=a.ka.get(t);return o?(a.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await c5(a,t,r,!0),i}async function SP(s,t){const r=h5(s);await c5(r,t,!0,!1)}async function c5(s,t,r,a){const i=await Q_(s.localStore,Qr(t)),o=i.targetId,l=s.sharedClientState.addLocalQueryTarget(o,r);let c;return a&&(c=await _P(s,t,o,l==="current",i.resumeToken)),s.isPrimaryClient&&r&&t5(s.remoteStore,i),c}async function _P(s,t,r,a,i){s.Ha=(E,S,R)=>async function(V,v,P,z){let M=v.view.ba(P);M.ls&&(M=await Fy(V.localStore,v.query,!1).then(({documents:D})=>v.view.ba(D,M)));const H=z&&z.targetChanges.get(v.targetId),Q=z&&z.targetMismatches.get(v.targetId)!=null,W=v.view.applyChanges(M,V.isPrimaryClient,H,Q);return Jy(V,v.targetId,W.Ma),W.snapshot}(s,E,S,R);const o=await Fy(s.localStore,t,!0),l=new wP(t,o.gs),c=l.ba(o.documents),x=Uo.createSynthesizedTargetChangeForCurrentChange(r,a&&s.onlineState!=="Offline",i),p=l.applyChanges(c,s.isPrimaryClient,x);Jy(s,r,p.Ma);const N=new kP(t,r,l);return s.ka.set(t,N),s.qa.has(r)?s.qa.get(r).push(t):s.qa.set(r,[t]),p.snapshot}async function PP(s,t,r){const a=it(s),i=a.ka.get(t),o=a.qa.get(i.targetId);if(o.length>1)return a.qa.set(i.targetId,o.filter(l=>!Vu(l,t))),void a.ka.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(i.targetId),a.sharedClientState.isActiveQueryTarget(i.targetId)||await yh(a.localStore,i.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(i.targetId),r&&J0(a.remoteStore,i.targetId),vh(a,i.targetId)}).catch(el)):(vh(a,i.targetId),await yh(a.localStore,i.targetId,!0))}async function TP(s,t){const r=it(s),a=r.ka.get(t),i=r.qa.get(a.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),J0(r.remoteStore,a.targetId))}async function DP(s,t,r){const a=VP(s);try{const i=await function(l,c){const x=it(l),p=Yt.now(),N=c.reduce((R,y)=>R.add(y.key),yt());let E,S;return x.persistence.runTransaction("Locally write mutations","readwrite",R=>{let y=Na(),V=yt();return x.ds.getEntries(R,N).next(v=>{y=v,y.forEach((P,z)=>{z.isValidDocument()||(V=V.add(P))})}).next(()=>x.localDocuments.getOverlayedDocuments(R,y)).next(v=>{E=v;const P=[];for(const z of c){const M=YS(z,E.get(z.key).overlayedDocument);M!=null&&P.push(new bn(z.key,M,pw(M.value.mapValue),vs.exists(!0)))}return x.mutationQueue.addMutationBatch(R,p,P,c)}).next(v=>{S=v;const P=v.applyToLocalDocumentSet(E,V);return x.documentOverlayCache.saveOverlays(R,v.batchId,P)})}).then(()=>({batchId:S.batchId,changes:Iw(E)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(i.batchId),function(l,c,x){let p=l.Wa[l.currentUser.toKey()];p||(p=new Xt(dt)),p=p.insert(c,x),l.Wa[l.currentUser.toKey()]=p}(a,i.batchId,r),await qo(a,i.changes),await Hu(a.remoteStore)}catch(i){const o=sp(i,"Failed to persist write");r.reject(o)}}async function d5(s,t){const r=it(s);try{const a=await W_(r.localStore,t);t.targetChanges.forEach((i,o)=>{const l=r.Ua.get(o);l&&(vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?vt(l.Ba):i.removedDocuments.size>0&&(vt(l.Ba),l.Ba=!1))}),await qo(r,a,t)}catch(a){await el(a)}}function Yy(s,t,r){const a=it(s);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const i=[];a.ka.forEach((o,l)=>{const c=l.view.sa(t);c.snapshot&&i.push(c.snapshot)}),function(l,c){const x=it(l);x.onlineState=c;let p=!1;x.queries.forEach((N,E)=>{for(const S of E.ta)S.sa(c)&&(p=!0)}),p&&np(x)}(a.eventManager,t),i.length&&a.La.p_(i),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function AP(s,t,r){const a=it(s);a.sharedClientState.updateQueryState(t,"rejected",r);const i=a.Ua.get(t),o=i&&i.key;if(o){let l=new Xt(tt.comparator);l=l.insert(o,ps.newNoDocument(o,at.min()));const c=yt().add(o),x=new qu(at.min(),new Map,new Xt(dt),l,c);await d5(a,x),a.$a=a.$a.remove(o),a.Ua.delete(t),op(a)}else await yh(a.localStore,t,!1).then(()=>vh(a,t,r)).catch(el)}async function RP(s,t){const r=it(s),a=t.batch.batchId;try{const i=await q_(r.localStore,t);x5(r,a,null),u5(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await qo(r,i)}catch(i){await el(i)}}async function MP(s,t,r){const a=it(s);try{const i=await function(l,c){const x=it(l);return x.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let N;return x.mutationQueue.lookupMutationBatch(p,c).next(E=>(vt(E!==null),N=E.keys(),x.mutationQueue.removeMutationBatch(p,E))).next(()=>x.mutationQueue.performConsistencyCheck(p)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(p,N,c)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,N)).next(()=>x.localDocuments.getDocuments(p,N))})}(a.localStore,t);x5(a,t,r),u5(a,t),a.sharedClientState.updateMutationState(t,"rejected",r),await qo(a,i)}catch(i){await el(i)}}function u5(s,t){(s.Ga.get(t)||[]).forEach(r=>{r.resolve()}),s.Ga.delete(t)}function x5(s,t,r){const a=it(s);let i=a.Wa[a.currentUser.toKey()];if(i){const o=i.get(t);o&&(r?o.reject(r):o.resolve(),i=i.remove(t)),a.Wa[a.currentUser.toKey()]=i}}function vh(s,t,r=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.qa.get(t))s.ka.delete(a),r&&s.La.Ja(a,r);s.qa.delete(t),s.isPrimaryClient&&s.Ka.br(t).forEach(a=>{s.Ka.containsKey(a)||m5(s,a)})}function m5(s,t){s.Qa.delete(t.path.canonicalString());const r=s.$a.get(t);r!==null&&(J0(s.remoteStore,r),s.$a=s.$a.remove(t),s.Ua.delete(r),op(s))}function Jy(s,t,r){for(const a of r)a instanceof l5?(s.Ka.addReference(a.key,t),zP(s,a)):a instanceof o5?(Fe(lp,"Document no longer in limbo: "+a.key),s.Ka.removeReference(a.key,t),s.Ka.containsKey(a.key)||m5(s,a.key)):st()}function zP(s,t){const r=t.key,a=r.path.canonicalString();s.$a.get(r)||s.Qa.has(a)||(Fe(lp,"New document in limbo: "+r),s.Qa.add(a),op(s))}function op(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const t=s.Qa.values().next().value;s.Qa.delete(t);const r=new tt(Lt.fromString(t)),a=s.za.next();s.Ua.set(a,new CP(r)),s.$a=s.$a.insert(r,a),t5(s.remoteStore,new qa(Qr(Lu(r.path)),a,"TargetPurposeLimboResolution",zu.ae))}}async function qo(s,t,r){const a=it(s),i=[],o=[],l=[];a.ka.isEmpty()||(a.ka.forEach((c,x)=>{l.push(a.Ha(x,t,r).then(p=>{var N;if((p||r)&&a.isPrimaryClient){const E=p?!p.fromCache:(N=r==null?void 0:r.targetChanges.get(x.targetId))===null||N===void 0?void 0:N.current;a.sharedClientState.updateQueryState(x.targetId,E?"current":"not-current")}if(p){i.push(p);const E=Q0.Yi(x.targetId,p);o.push(E)}}))}),await Promise.all(l),a.La.p_(i),await async function(x,p){const N=it(x);try{await N.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ve.forEach(p,S=>ve.forEach(S.Hi,R=>N.persistence.referenceDelegate.addReference(E,S.targetId,R)).next(()=>ve.forEach(S.Ji,R=>N.persistence.referenceDelegate.removeReference(E,S.targetId,R)))))}catch(E){if(!tl(E))throw E;Fe(K0,"Failed to update sequence numbers: "+E)}for(const E of p){const S=E.targetId;if(!E.fromCache){const R=N.Ts.get(S),y=R.snapshotVersion,V=R.withLastLimboFreeSnapshotVersion(y);N.Ts=N.Ts.insert(S,V)}}}(a.localStore,o))}async function OP(s,t){const r=it(s);if(!r.currentUser.isEqual(t)){Fe(lp,"User change. New user:",t.toKey());const a=await Xw(r.localStore,t);r.currentUser=t,function(o,l){o.Ga.forEach(c=>{c.forEach(x=>{x.reject(new Le(be.CANCELLED,l))})}),o.Ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await qo(r,a.Rs)}}function LP(s,t){const r=it(s),a=r.Ua.get(t);if(a&&a.Ba)return yt().add(a.key);{let i=yt();const o=r.qa.get(t);if(!o)return i;for(const l of o){const c=r.ka.get(l);i=i.unionWith(c.view.Sa)}return i}}function h5(s){const t=it(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=d5.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=AP.bind(null,t),t.La.p_=vP.bind(null,t.eventManager),t.La.Ja=NP.bind(null,t.eventManager),t}function VP(s){const t=it(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=MP.bind(null,t),t}class Zd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Wu(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,r){return null}nu(t,r){return null}eu(t){return $_(this.persistence,new B_,t.initialUser,this.serializer)}Xa(t){return new Jw(H0.ri,this.serializer)}Za(t){return new Y_}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zd.provider={build:()=>new Zd};class BP extends Zd{constructor(t){super(),this.cacheSizeBytes=t}tu(t,r){vt(this.persistence.referenceDelegate instanceof Jd);const a=this.persistence.referenceDelegate.garbageCollector;return new C_(a,t.asyncQueue,r)}Xa(t){const r=this.cacheSizeBytes!==void 0?Ws.withCacheSize(this.cacheSizeBytes):Ws.DEFAULT;return new Jw(a=>Jd.ri(a,r),this.serializer)}}class Nh{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Yy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=OP.bind(null,this.syncEngine),await yP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new jP}()}createDatastore(t){const r=Wu(t.databaseInfo.databaseId),a=function(o){return new tP(o)}(t.databaseInfo);return function(o,l,c,x){return new nP(o,l,c,x)}(t.authCredentials,t.appCheckCredentials,a,r)}createRemoteStore(t){return function(a,i,o,l,c){return new lP(a,i,o,l,c)}(this.localStore,this.datastore,t.asyncQueue,r=>Yy(this.syncEngine,r,0),function(){return qy.D()?new qy:new J_}())}createSyncEngine(t,r){return function(i,o,l,c,x,p,N){const E=new IP(i,o,l,c,x,p);return N&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const o=it(i);Fe(qn,"RemoteStore shutting down."),o.W_.add(5),await $o(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Nh.provider={build:()=>new Nh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):va("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Le(be.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await async function(i,o){const l=it(i),c={documents:o.map(E=>Yd(l.serializer,E))},x=await l.Co("BatchGetDocuments",l.serializer.databaseId,Lt.emptyPath(),c,o.length),p=new Map;x.forEach(E=>{const S=o_(l.serializer,E);p.set(S.key.toString(),S)});const N=[];return o.forEach(E=>{const S=p.get(E.toString());vt(!!S),N.push(S)}),N}(this.datastore,t);return r.forEach(a=>this.recordVersion(a)),r}set(t,r){this.write(r.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,r){try{this.write(r.toMutation(t,this.preconditionForUpdate(t)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(t.toString())}delete(t){this.write(new $u(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,a)=>{const i=tt.fromPath(a);this.mutations.push(new Ow(i,this.precondition(i)))}),await async function(a,i){const o=it(a),l={writes:i.map(c=>Gw(o.serializer,c))};await o.So("Commit",o.serializer.databaseId,Lt.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let r;if(t.isFoundDocument())r=t.version;else{if(!t.isNoDocument())throw st();r=at.min()}const a=this.readVersions.get(t.key.toString());if(a){if(!r.isEqual(a))throw new Le(be.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),r)}precondition(t){const r=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&r?r.isEqual(at.min())?vs.exists(!1):vs.updateTime(r):vs.none()}preconditionForUpdate(t){const r=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&r){if(r.isEqual(at.min()))throw new Le(be.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vs.updateTime(r)}return vs.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(t,r,a,i,o){this.asyncQueue=t,this.datastore=r,this.options=a,this.updateFunction=i,this.deferred=o,this.Tu=a.maxAttempts,this.a_=new Y0(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const t=new FP(this.datastore),r=this.du(t);r&&r.then(a=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(a)}).catch(i=>{this.Au(i)}))}).catch(a=>{this.Au(a)})})}du(t){try{const r=this.updateFunction(t);return!Bo(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Au(t){this.Tu>0&&this.Ru(t)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(t)}Ru(t){if(t.name==="FirebaseError"){const r=t.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!Lw(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="FirestoreClient";class $P{constructor(t,r,a,i,o){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=i,this.user=Ds.UNAUTHENTICATED,this.clientId=aw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(a,async l=>{Fe(mn,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(a,l=>(Fe(mn,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=sp(r,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function sm(s,t){s.asyncQueue.verifyOperationInProgress(),Fe(mn,"Initializing OfflineComponentProvider");const r=s.configuration;await t.initialize(r);let a=r.initialUser;s.setCredentialChangeListener(async i=>{a.isEqual(i)||(await Xw(t.localStore,i),a=i)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function Xy(s,t){s.asyncQueue.verifyOperationInProgress();const r=await qP(s);Fe(mn,"Initializing OnlineComponentProvider"),await t.initialize(r,s.configuration),s.setCredentialChangeListener(a=>Gy(t.remoteStore,a)),s.setAppCheckTokenChangeListener((a,i)=>Gy(t.remoteStore,i)),s._onlineComponents=t}async function qP(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Fe(mn,"Using user provided OfflineComponentProvider");try{await sm(s,s._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===be.FAILED_PRECONDITION||i.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Fi("Error using user provided cache. Falling back to memory cache: "+r),await sm(s,new Zd)}}else Fe(mn,"Using default OfflineComponentProvider"),await sm(s,new BP(void 0));return s._offlineComponents}async function dp(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Fe(mn,"Using user provided OnlineComponentProvider"),await Xy(s,s._uninitializedComponentsProvider._online)):(Fe(mn,"Using default OnlineComponentProvider"),await Xy(s,new Nh))),s._onlineComponents}function WP(s){return dp(s).then(t=>t.syncEngine)}function GP(s){return dp(s).then(t=>t.datastore)}async function eu(s){const t=await dp(s),r=t.eventManager;return r.onListen=EP.bind(null,t.syncEngine),r.onUnlisten=PP.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=SP.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=TP.bind(null,t.syncEngine),r}function HP(s,t,r={}){const a=new Hr;return s.asyncQueue.enqueueAndForget(async()=>function(o,l,c,x,p){const N=new cp({next:S=>{N.su(),l.enqueueAndForget(()=>ap(o,E));const R=S.docs.has(c);!R&&S.fromCache?p.reject(new Le(be.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&S.fromCache&&x&&x.source==="server"?p.reject(new Le(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),E=new ip(Lu(c.path),N,{includeMetadataChanges:!0,Ta:!0});return rp(o,E)}(await eu(s),s.asyncQueue,t,r,a)),a.promise}function QP(s,t,r={}){const a=new Hr;return s.asyncQueue.enqueueAndForget(async()=>function(o,l,c,x,p){const N=new cp({next:S=>{N.su(),l.enqueueAndForget(()=>ap(o,E)),S.fromCache&&x.source==="server"?p.reject(new Le(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),E=new ip(c,N,{includeMetadataChanges:!0,Ta:!0});return rp(o,E)}(await eu(s),s.asyncQueue,t,r,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(s,t,r){if(!r)throw new Le(be.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function KP(s,t,r,a){if(t===!0&&a===!0)throw new Le(be.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function eb(s){if(!tt.isDocumentKey(s))throw new Le(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function tb(s){if(tt.isDocumentKey(s))throw new Le(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Qu(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":st()}function Bs(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new Le(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Qu(s);throw new Le(be.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return s}function YP(s,t){if(t<=0)throw new Le(be.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5="firestore.googleapis.com",sb=!0;class rb{constructor(t){var r,a;if(t.host===void 0){if(t.ssl!==void 0)throw new Le(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=g5,this.ssl=sb}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:sb;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Yw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<w_)throw new Le(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}KP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p5((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Le(be.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Le(be.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Le(be.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,i){return a.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ku{constructor(t,r,a,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=a,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Le(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new aS;switch(a.type){case"firstParty":return new oS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Le(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=Zy.get(r);a&&(Fe("ComponentProvider","Removing Datastore"),Zy.delete(r),a.terminate())}(this),Promise.resolve()}}function JP(s,t,r,a={}){var i;const o=(s=Bs(s,Ku))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:s._getEmulatorOptions()}),c=`${t}:${r}`;o.host!==g5&&o.host!==c&&Fi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const x=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:a});if(!ln(x,l)&&(s._setSettings(x),a.mockUserToken)){let p,N;if(typeof a.mockUserToken=="string")p=a.mockUserToken,N=Ds.MOCK_USER;else{p=yN(a.mockUserToken,(i=s._app)===null||i===void 0?void 0:i.options.projectId);const E=a.mockUserToken.sub||a.mockUserToken.user_id;if(!E)throw new Le(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Ds(E)}s._authCredentials=new nS(new sw(p,N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(t,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ia(this.firestore,t,this._query)}}class ws{constructor(t,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rn(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ws(this.firestore,t,this._key)}}class rn extends Ia{constructor(t,r,a){super(t,r,Lu(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ws(this.firestore,null,new tt(t))}withConverter(t){return new rn(this.firestore,t,this._path)}}function X(s,t,...r){if(s=Bt(s),f5("collection","path",t),s instanceof Ku){const a=Lt.fromString(t,...r);return tb(a),new rn(s,null,a)}{if(!(s instanceof ws||s instanceof rn))throw new Le(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Lt.fromString(t,...r));return tb(a),new rn(s.firestore,null,a)}}function U(s,t,...r){if(s=Bt(s),arguments.length===1&&(t=aw.newId()),f5("doc","path",t),s instanceof Ku){const a=Lt.fromString(t,...r);return eb(a),new ws(s,null,new tt(a))}{if(!(s instanceof ws||s instanceof rn))throw new Le(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Lt.fromString(t,...r));return eb(a),new ws(s.firestore,s instanceof rn?s.converter:null,new tt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="AsyncQueue";class nb{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Y0(this,"async_queue_retry"),this.Su=()=>{const a=tm();a&&Fe(ab,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=t;const r=tm();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const r=tm();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const r=new Hr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!tl(t))throw t;Fe(ab,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const r=this.bu.then(()=>(this.pu=!0,t().catch(a=>{this.gu=a,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(a);throw va("INTERNAL UNHANDLED ERROR: ",i),a}).then(a=>(this.pu=!1,a))));return this.bu=r,r}enqueueAfterDelay(t,r,a){this.Du(),this.wu.indexOf(t)>-1&&(r=0);const i=tp.createAndSchedule(this,t,r,a,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&st()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const r of this.fu)if(r.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.fu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const r=this.fu.indexOf(t);this.fu.splice(r,1)}}function ib(s){return function(r,a){if(typeof r!="object"||r===null)return!1;const i=r;for(const o of a)if(o in i&&typeof i[o]=="function")return!0;return!1}(s,["next","error","complete"])}class Zr extends Ku{constructor(t,r,a,i){super(t,r,a,i),this.type="firestore",this._queue=new nb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new nb(t),this._firestoreClient=void 0,await t}}}function XP(s,t){const r=typeof s=="object"?s:Au(),a=typeof s=="string"?s:t||Wd,i=gn(r,"firestore").getImmediate({identifier:a});if(!i._initialized){const o=pN("firestore");o&&JP(i,...o)}return i}function Wo(s){if(s._terminated)throw new Le(be.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||ZP(s),s._firestoreClient}function ZP(s){var t,r,a;const i=s._freezeSettings(),o=function(c,x,p,N){return new wS(c,x,p,N.host,N.ssl,N.experimentalForceLongPolling,N.experimentalAutoDetectLongPolling,p5(N.experimentalLongPollingOptions),N.useFetchStreams)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,i);s._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((a=i.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),s._firestoreClient=new $P(s._authCredentials,s._appCheckCredentials,s._queue,o,s._componentsProvider&&function(c){const x=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(x),_online:x}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wn(Cs.fromBase64String(t))}catch(r){throw new Le(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Wn(Cs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Le(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new js(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Le(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Le(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return dt(this._lat,t._lat)||dt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,i){if(a.length!==i.length)return!1;for(let o=0;o<a.length;++o)if(a[o]!==i[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=/^__.*__$/;class t6{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return this.fieldMask!==null?new bn(t,this.data,this.fieldMask,r,this.fieldTransforms):new Fo(t,this.data,r,this.fieldTransforms)}}class y5{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return new bn(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function b5(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class mp{constructor(t,r,a,i,o,l){this.settings=t,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new mp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(t),i=this.ku({path:a,Qu:!1});return i.$u(t),i}Uu(t){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(t),i=this.ku({path:a,Qu:!1});return i.Bu(),i}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return tu(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(b5(this.Lu)&&e6.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class s6{constructor(t,r,a){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=a||Wu(t)}ju(t,r,a,i=!1){return new mp({Lu:t,methodName:r,zu:a,path:js.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qo(s){const t=s._freezeSettings(),r=Wu(s._databaseId);return new s6(s._databaseId,!!t.ignoreUndefinedProperties,r)}function hp(s,t,r,a,i,o={}){const l=s.ju(o.merge||o.mergeFields?2:0,t,r,i);gp("Data must be an object, but it was:",l,a);const c=N5(a,l);let x,p;if(o.merge)x=new ar(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const N=[];for(const E of o.mergeFields){const S=wh(t,E,r);if(!l.contains(S))throw new Le(be.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);k5(N,S)||N.push(S)}x=new ar(N),p=l.fieldTransforms.filter(E=>x.covers(E.field))}else x=null,p=l.fieldTransforms;return new t6(new Ls(c),x,p)}class Yu extends Ho{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Yu}}class pp extends Ho{_toFieldTransform(t){return new Rw(t.path,new Co)}isEqual(t){return t instanceof pp}}class fp extends Ho{constructor(t,r){super(t),this.Ju=r}_toFieldTransform(t){const r=new So(t.serializer,_w(t.serializer,this.Ju));return new Rw(t.path,r)}isEqual(t){return t instanceof fp&&this.Ju===t.Ju}}function j5(s,t,r,a){const i=s.ju(1,t,r);gp("Data must be an object, but it was:",i,a);const o=[],l=Ls.empty();yn(a,(x,p)=>{const N=yp(t,x,r);p=Bt(p);const E=i.Uu(N);if(p instanceof Yu)o.push(N);else{const S=Ko(p,E);S!=null&&(o.push(N),l.set(N,S))}});const c=new ar(o);return new y5(l,c,i.fieldTransforms)}function v5(s,t,r,a,i,o){const l=s.ju(1,t,r),c=[wh(t,a,r)],x=[i];if(o.length%2!=0)throw new Le(be.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<o.length;S+=2)c.push(wh(t,o[S])),x.push(o[S+1]);const p=[],N=Ls.empty();for(let S=c.length-1;S>=0;--S)if(!k5(p,c[S])){const R=c[S];let y=x[S];y=Bt(y);const V=l.Uu(R);if(y instanceof Yu)p.push(R);else{const v=Ko(y,V);v!=null&&(p.push(R),N.set(R,v))}}const E=new ar(p);return new y5(N,E,l.fieldTransforms)}function r6(s,t,r,a=!1){return Ko(r,s.ju(a?4:3,t))}function Ko(s,t){if(w5(s=Bt(s)))return gp("Unsupported field value:",t,s),N5(s,t);if(s instanceof Ho)return function(a,i){if(!b5(i.Lu))throw i.Wu(`${a._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${a._methodName}() is not currently supported inside arrays`);const o=a._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(a,i){const o=[];let l=0;for(const c of a){let x=Ko(c,i.Ku(l));x==null&&(x={nullValue:"NULL_VALUE"}),o.push(x),l++}return{arrayValue:{values:o}}}(s,t)}return function(a,i){if((a=Bt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return _w(i.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const o=Yt.fromDate(a);return{timestampValue:Kd(i.serializer,o)}}if(a instanceof Yt){const o=new Yt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Kd(i.serializer,o)}}if(a instanceof up)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Wn)return{bytesValue:Uw(i.serializer,a._byteString)};if(a instanceof ws){const o=i.databaseId,l=a.firestore._databaseId;if(!l.isEqual(o))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:W0(a.firestore._databaseId||i.databaseId,a._key.path)}}if(a instanceof xp)return function(l,c){return{mapValue:{fields:{[xw]:{stringValue:hw},[Gd]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return U0(c.serializer,p)})}}}}}}(a,i);throw i.Wu(`Unsupported field value: ${Qu(a)}`)}(s,t)}function N5(s,t){const r={};return iw(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yn(s,(a,i)=>{const o=Ko(i,t.qu(a));o!=null&&(r[a]=o)}),{mapValue:{fields:r}}}function w5(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Yt||s instanceof up||s instanceof Wn||s instanceof ws||s instanceof Ho||s instanceof xp)}function gp(s,t,r){if(!w5(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const a=Qu(r);throw a==="an object"?t.Wu(s+" a custom object"):t.Wu(s+" "+a)}}function wh(s,t,r){if((t=Bt(t))instanceof Go)return t._internalPath;if(typeof t=="string")return yp(s,t);throw tu("Field path arguments must be of type string or ",s,!1,void 0,r)}const a6=new RegExp("[~\\*/\\[\\]]");function yp(s,t,r){if(t.search(a6)>=0)throw tu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,r);try{return new Go(...t.split("."))._internalPath}catch{throw tu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,r)}}function tu(s,t,r,a,i){const o=a&&!a.isEmpty(),l=i!==void 0;let c=`Function ${t}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let x="";return(o||l)&&(x+=" (found",o&&(x+=` in field ${a}`),l&&(x+=` in document ${i}`),x+=")"),new Le(be.INVALID_ARGUMENT,c+s+x)}function k5(s,t){return s.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,r,a,i,o){this._firestore=t,this._userDataWriter=r,this._key=a,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ws(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new n6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Ju("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class n6 extends su{data(){return super.data()}}function Ju(s,t){return typeof t=="string"?yp(s,t):t instanceof Go?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Le(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bp{}class jp extends bp{}function pe(s,t,...r){let a=[];t instanceof bp&&a.push(t),a=a.concat(r),function(o){const l=o.filter(x=>x instanceof vp).length,c=o.filter(x=>x instanceof Xu).length;if(l>1||l>0&&c>0)throw new Le(be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const i of a)s=i._apply(s);return s}class Xu extends jp{constructor(t,r,a){super(),this._field=t,this._op=r,this._value=a,this.type="where"}static _create(t,r,a){return new Xu(t,r,a)}_apply(t){const r=this._parse(t);return I5(t._query,r),new Ia(t.firestore,t.converter,hh(t._query,r))}_parse(t){const r=Qo(t.firestore);return function(o,l,c,x,p,N,E){let S;if(p.isKeyField()){if(N==="array-contains"||N==="array-contains-any")throw new Le(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${N}' queries on documentId().`);if(N==="in"||N==="not-in"){ob(E,N);const y=[];for(const V of E)y.push(lb(x,o,V));S={arrayValue:{values:y}}}else S=lb(x,o,E)}else N!=="in"&&N!=="not-in"&&N!=="array-contains-any"||ob(E,N),S=r6(c,l,E,N==="in"||N==="not-in");return ls.create(p,N,S)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function fe(s,t,r){const a=t,i=Ju("where",s);return Xu._create(i,a,r)}class vp extends bp{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new vp(t,r)}_parse(t){const r=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return r.length===1?r[0]:Rr.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,o){let l=i;const c=o.getFlattenedFilters();for(const x of c)I5(l,x),l=hh(l,x)}(t._query,r),new Ia(t.firestore,t.converter,hh(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Np extends jp{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new Np(t,r)}_apply(t){const r=function(i,o,l){if(i.startAt!==null)throw new Le(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Le(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ko(o,l)}(t._query,this._field,this._direction);return new Ia(t.firestore,t.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new sl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}function kh(s,t="asc"){const r=t,a=Ju("orderBy",s);return Np._create(a,r)}class wp extends jp{constructor(t,r,a){super(),this.type=t,this._limit=r,this._limitType=a}static _create(t,r,a){return new wp(t,r,a)}_apply(t){return new Ia(t.firestore,t.converter,Qd(t._query,this._limit,this._limitType))}}function St(s){return YP("limit",s),wp._create("limit",s,"F")}function lb(s,t,r){if(typeof(r=Bt(r))=="string"){if(r==="")throw new Le(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nw(t)&&r.indexOf("/")!==-1)throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=t.path.child(Lt.fromString(r));if(!tt.isDocumentKey(a))throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Ny(s,new tt(a))}if(r instanceof ws)return Ny(s,r._key);throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qu(r)}.`)}function ob(s,t){if(!Array.isArray(s)||s.length===0)throw new Le(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function I5(s,t){const r=function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(s.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Le(be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Le(be.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class E5{convertValue(t,r="none"){switch(un(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rs(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(dn(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw st()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const a={};return yn(t,(i,o)=>{a[i]=this.convertValue(o,r)}),a}convertVectorValue(t){var r,a,i;const o=(i=(a=(r=t.fields)===null||r===void 0?void 0:r[Gd].arrayValue)===null||a===void 0?void 0:a.values)===null||i===void 0?void 0:i.map(l=>rs(l.doubleValue));return new xp(o)}convertGeoPoint(t){return new up(rs(t.latitude),rs(t.longitude))}convertArray(t,r){return(t.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(t,r){switch(r){case"previous":const a=Ou(t);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(vo(t));default:return null}}convertTimestamp(t){const r=cn(t);return new Yt(r.seconds,r.nanos)}convertDocumentKey(t,r){const a=Lt.fromString(t);vt(Kw(a));const i=new No(a.get(1),a.get(3)),o=new tt(a.popFirst(5));return i.isEqual(r)||va(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(s,t,r){let a;return a=s?r&&(r.merge||r.mergeFields)?s.toFirestore(t,r):s.toFirestore(t):t,a}class i6 extends E5{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wn(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new ws(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Cp extends su{constructor(t,r,a,i,o,l){super(t,r,a,i,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const a=this._document.data.field(Ju("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class od extends Cp{data(t={}){return super.data(t)}}class S5{constructor(t,r,a,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new Ni(i.hasPendingWrites,i.fromCache),this.query=a}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(a=>{t.call(r,new od(this._firestore,this._userDataWriter,a.key,a,new Ni(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Le(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const x=new od(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ni(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:x,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const x=new od(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ni(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,N=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),N=l.indexOf(c.doc.key)),{type:l6(c.type),doc:x,oldIndex:p,newIndex:N}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function l6(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(s){s=Bs(s,ws);const t=Bs(s.firestore,Zr);return HP(Wo(t),s._key).then(r=>_5(t,s,r))}class Zu extends E5{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wn(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new ws(this.firestore,null,r)}}function ct(s){s=Bs(s,Ia);const t=Bs(s.firestore,Zr),r=Wo(t),a=new Zu(t);return C5(s._query),QP(r,s._query).then(i=>new S5(t,a,s,i))}function Er(s,t,r){s=Bs(s,ws);const a=Bs(s.firestore,Zr),i=kp(s.converter,t,r);return ex(a,[hp(Qo(a),"setDoc",s._key,i,s.converter!==null,r).toMutation(s._key,vs.none())])}function xs(s,t,r,...a){s=Bs(s,ws);const i=Bs(s.firestore,Zr),o=Qo(i);let l;return l=typeof(t=Bt(t))=="string"||t instanceof Go?v5(o,"updateDoc",s._key,t,r,a):j5(o,"updateDoc",s._key,t),ex(i,[l.toMutation(s._key,vs.exists(!0))])}function o6(s){return ex(Bs(s.firestore,Zr),[new $u(s._key,vs.none())])}function Mn(s,t){const r=Bs(s.firestore,Zr),a=U(s),i=kp(s.converter,t);return ex(r,[hp(Qo(s.firestore),"addDoc",a._key,i,s.converter!==null,{}).toMutation(a._key,vs.exists(!1))]).then(()=>a)}function we(s,...t){var r,a,i;s=Bt(s);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof t[l]!="object"||ib(t[l])||(o=t[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(ib(t[l])){const E=t[l];t[l]=(r=E.next)===null||r===void 0?void 0:r.bind(E),t[l+1]=(a=E.error)===null||a===void 0?void 0:a.bind(E),t[l+2]=(i=E.complete)===null||i===void 0?void 0:i.bind(E)}let x,p,N;if(s instanceof ws)p=Bs(s.firestore,Zr),N=Lu(s._key.path),x={next:E=>{t[l]&&t[l](_5(p,s,E))},error:t[l+1],complete:t[l+2]};else{const E=Bs(s,Ia);p=Bs(E.firestore,Zr),N=E._query;const S=new Zu(p);x={next:R=>{t[l]&&t[l](new S5(p,S,E,R))},error:t[l+1],complete:t[l+2]},C5(s._query)}return function(S,R,y,V){const v=new cp(V),P=new ip(R,v,y);return S.asyncQueue.enqueueAndForget(async()=>rp(await eu(S),P)),()=>{v.su(),S.asyncQueue.enqueueAndForget(async()=>ap(await eu(S),P))}}(Wo(p),N,c,x)}function ex(s,t){return function(a,i){const o=new Hr;return a.asyncQueue.enqueueAndForget(async()=>DP(await WP(a),i,o)),o.promise}(Wo(s),t)}function _5(s,t,r){const a=r.docs.get(t._key),i=new Zu(s);return new Cp(s,i,t._key,a,new Ni(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6={maxAttempts:5};function Al(s,t){if((s=Bt(s)).firestore!==t)throw new Le(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Qo(t)}get(t){const r=Al(t,this._firestore),a=new i6(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return st();const o=i[0];if(o.isFoundDocument())return new su(this._firestore,a,o.key,o,r.converter);if(o.isNoDocument())return new su(this._firestore,a,r._key,null,r.converter);throw st()})}set(t,r,a){const i=Al(t,this._firestore),o=kp(i.converter,r,a),l=hp(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,a);return this._transaction.set(i._key,l),this}update(t,r,a,...i){const o=Al(t,this._firestore);let l;return l=typeof(r=Bt(r))=="string"||r instanceof Go?v5(this._dataReader,"Transaction.update",o._key,r,a,i):j5(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,l),this}delete(t){const r=Al(t,this._firestore);return this._transaction.delete(r._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6 extends d6{constructor(t,r){super(t,r),this._firestore=t}get(t){const r=Al(t,this._firestore),a=new Zu(this._firestore);return super.get(t).then(i=>new Cp(this._firestore,a,r._key,i._document,new Ni(!1,!1),r.converter))}}function et(s,t,r){s=Bs(s,Zr);const a=Object.assign(Object.assign({},c6),r);return function(o){if(o.maxAttempts<1)throw new Le(be.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(o,l,c){const x=new Hr;return o.asyncQueue.enqueueAndForget(async()=>{const p=await GP(o);new UP(o.asyncQueue,p,c,l,x).Iu()}),x.promise}(Wo(s),i=>t(new u6(s,i)),a)}function qt(){return new pp("serverTimestamp")}function He(s){return new fp("increment",s)}(function(t,r=!0){(function(i){Zi=i})(Xn),Ar(new jr("firestore",(a,{instanceIdentifier:i,options:o})=>{const l=a.getProvider("app").getImmediate(),c=new Zr(new iS(a.getProvider("auth-internal")),new cS(l,a.getProvider("app-check-internal")),function(p,N){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Le(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(p.options.projectId,N)}(l,i),l);return o=Object.assign({useFetchStreams:r},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Js(dy,uy,t),Js(dy,uy,"esm2017")})();function Ip(s,t){var r={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.indexOf(a)<0&&(r[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(s);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(s,a[i])&&(r[a[i]]=s[a[i]]);return r}function P5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x6=P5,T5=new Jn("auth","Firebase",P5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=new Du("@firebase/auth");function m6(s,...t){ru.logLevel<=gt.WARN&&ru.warn(`Auth (${Xn}): ${s}`,...t)}function cd(s,...t){ru.logLevel<=gt.ERROR&&ru.error(`Auth (${Xn}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(s,...t){throw Ep(s,...t)}function Kr(s,...t){return Ep(s,...t)}function D5(s,t,r){const a=Object.assign(Object.assign({},x6()),{[t]:r});return new Jn("auth","Firebase",a).create(t,{appName:s.name})}function ha(s){return D5(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ep(s,...t){if(typeof s!="string"){const r=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(r,...a)}return T5.create(s,...t)}function nt(s,t,...r){if(!s)throw Ep(t,...r)}function da(s){const t="INTERNAL ASSERTION FAILED: "+s;throw cd(t),new Error(t)}function wa(s,t){s||da(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function A5(){return cb()==="http:"||cb()==="https:"}function cb(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A5()||bN()||"connection"in navigator)?navigator.onLine:!0}function p6(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t,r){this.shortDelay=t,this.longDelay=r,wa(r>t,"Short delay should be less than long delay!"),this.isMobile=xI()||pI()}get(){return h6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(s,t){wa(s.emulator,"Emulator should always be set here");const{url:r}=s.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{static initialize(t,r,a){this.fetchImpl=t,r&&(this.headersImpl=r),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;da("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;da("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;da("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],y6=new Yo(3e4,6e4);function Ea(s,t){return s.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:s.tenantId}):t}async function sa(s,t,r,a,i={}){return M5(s,i,async()=>{let o={},l={};a&&(t==="GET"?l=a:o={body:JSON.stringify(a)});const c=Vo(Object.assign({key:s.config.apiKey},l)).slice(1),x=await s._getAdditionalHeaders();x["Content-Type"]="application/json",s.languageCode&&(x["X-Firebase-Locale"]=s.languageCode);const p=Object.assign({method:t,headers:x},o);return hI()||(p.referrerPolicy="no-referrer"),R5.fetch()(await z5(s,s.config.apiHost,r,c),p)})}async function M5(s,t,r){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},f6),t);try{const i=new j6(s),o=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Fc(s,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[x,p]=c.split(" : ");if(x==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(s,"credential-already-in-use",l);if(x==="EMAIL_EXISTS")throw Fc(s,"email-already-in-use",l);if(x==="USER_DISABLED")throw Fc(s,"user-disabled",l);const N=a[x]||x.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw D5(s,N,p);Mr(s,N)}}catch(i){if(i instanceof vr)throw i;Mr(s,"network-request-failed",{message:String(i)})}}async function Jo(s,t,r,a,i={}){const o=await sa(s,t,r,a,i);return"mfaPendingCredential"in o&&Mr(s,"multi-factor-auth-required",{_serverResponse:o}),o}async function z5(s,t,r,a){const i=`${t}${r}?${a}`,o=s,l=o.config.emulator?Sp(s.config,i):`${s.config.apiScheme}://${i}`;return g6.includes(r)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function b6(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,a)=>{this.timer=setTimeout(()=>a(Kr(this.auth,"network-request-failed")),y6.get())})}}function Fc(s,t,r){const a={appName:s.name};r.email&&(a.email=r.email),r.phoneNumber&&(a.phoneNumber=r.phoneNumber);const i=Kr(s,t,a);return i.customData._tokenResponse=r,i}function db(s){return s!==void 0&&s.enterprise!==void 0}class v6{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return b6(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function N6(s,t){return sa(s,"GET","/v2/recaptchaConfig",Ea(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6(s,t){return sa(s,"POST","/v1/accounts:delete",t)}async function nu(s,t){return sa(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function k6(s,t=!1){const r=Bt(s),a=await r.getIdToken(t),i=_p(a);nt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:a,authTime:Jl(rm(i.auth_time)),issuedAtTime:Jl(rm(i.iat)),expirationTime:Jl(rm(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function rm(s){return Number(s)*1e3}function _p(s){const[t,r,a]=s.split(".");if(t===void 0||r===void 0||a===void 0)return cd("JWT malformed, contained fewer than 3 sections"),null;try{const i=mN(r);return i?JSON.parse(i):(cd("Failed to decode base64 JWT payload"),null)}catch(i){return cd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ub(s){const t=_p(s);return nt(t,"internal-error"),nt(typeof t.exp<"u","internal-error"),nt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hi(s,t,r=!1){if(r)return t;try{return await t}catch(a){throw a instanceof vr&&C6(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function C6({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(s){var t;const r=s.auth,a=await s.getIdToken(),i=await Hi(s,nu(r,{idToken:a}));nt(i==null?void 0:i.users.length,r,"internal-error");const o=i.users[0];s._notifyReloadListener(o);const l=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?O5(o.providerUserInfo):[],c=S6(s.providerData,l),x=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!(c!=null&&c.length),N=x?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ch(o.createdAt,o.lastLoginAt),isAnonymous:N};Object.assign(s,E)}async function E6(s){const t=Bt(s);await iu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function S6(s,t){return[...s.filter(a=>!t.some(i=>i.providerId===a.providerId)),...t]}function O5(s){return s.map(t=>{var{providerId:r}=t,a=Ip(t,["providerId"]);return{providerId:r,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(s,t){const r=await M5(s,{},async()=>{const a=Vo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=s.config,l=await z5(s,i,"/v1/token",`key=${o}`),c=await s._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",R5.fetch()(l,{method:"POST",headers:c,body:a})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function P6(s,t){return sa(s,"POST","/v2/accounts:revokeToken",Ea(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){nt(t.idToken,"internal-error"),nt(typeof t.idToken<"u","internal-error"),nt(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ub(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){nt(t.length!==0,"internal-error");const r=ub(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(nt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:a,refreshToken:i,expiresIn:o}=await _6(t,r);this.updateTokensAndExpiration(a,i,Number(o))}updateTokensAndExpiration(t,r,a){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,r){const{refreshToken:a,accessToken:i,expirationTime:o}=r,l=new Ti;return a&&(nt(typeof a=="string","internal-error",{appName:t}),l.refreshToken=a),i&&(nt(typeof i=="string","internal-error",{appName:t}),l.accessToken=i),o&&(nt(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ti,this.toJSON())}_performRefresh(){return da("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(s,t){nt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Sr{constructor(t){var{uid:r,auth:a,stsTokenManager:i}=t,o=Ip(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new I6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=a,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ch(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const r=await Hi(this,this.stsTokenManager.getToken(this.auth,t));return nt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return k6(this,t)}reload(){return E6(this)}_assign(t){this!==t&&(nt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Sr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),r&&await iu(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(ha(this.auth));const t=await this.getIdToken();return await Hi(this,w6(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var a,i,o,l,c,x,p,N;const E=(a=r.displayName)!==null&&a!==void 0?a:void 0,S=(i=r.email)!==null&&i!==void 0?i:void 0,R=(o=r.phoneNumber)!==null&&o!==void 0?o:void 0,y=(l=r.photoURL)!==null&&l!==void 0?l:void 0,V=(c=r.tenantId)!==null&&c!==void 0?c:void 0,v=(x=r._redirectEventId)!==null&&x!==void 0?x:void 0,P=(p=r.createdAt)!==null&&p!==void 0?p:void 0,z=(N=r.lastLoginAt)!==null&&N!==void 0?N:void 0,{uid:M,emailVerified:H,isAnonymous:Q,providerData:W,stsTokenManager:D}=r;nt(M&&D,t,"internal-error");const d=Ti.fromJSON(this.name,D);nt(typeof M=="string",t,"internal-error"),Aa(E,t.name),Aa(S,t.name),nt(typeof H=="boolean",t,"internal-error"),nt(typeof Q=="boolean",t,"internal-error"),Aa(R,t.name),Aa(y,t.name),Aa(V,t.name),Aa(v,t.name),Aa(P,t.name),Aa(z,t.name);const $=new Sr({uid:M,auth:t,email:S,emailVerified:H,displayName:E,isAnonymous:Q,photoURL:y,phoneNumber:R,tenantId:V,stsTokenManager:d,createdAt:P,lastLoginAt:z});return W&&Array.isArray(W)&&($.providerData=W.map(B=>Object.assign({},B))),v&&($._redirectEventId=v),$}static async _fromIdTokenResponse(t,r,a=!1){const i=new Ti;i.updateFromServerResponse(r);const o=new Sr({uid:r.localId,auth:t,stsTokenManager:i,isAnonymous:a});return await iu(o),o}static async _fromGetAccountInfoResponse(t,r,a){const i=r.users[0];nt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?O5(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new Ti;c.updateFromIdToken(a);const x=new Sr({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ch(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(x,p),x}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=new Map;function ua(s){wa(s instanceof Function,"Expected a class definition");let t=xb.get(s);return t?(wa(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,xb.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}L5.type="NONE";const mb=L5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(s,t,r){return`firebase:${s}:${t}:${r}`}class Di{constructor(t,r,a){this.persistence=t,this.auth=r,this.userKey=a;const{config:i,name:o}=this.auth;this.fullUserKey=dd(this.userKey,i.apiKey,o),this.fullPersistenceKey=dd("persistence",i.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await nu(this.auth,{idToken:t}).catch(()=>{});return r?Sr._fromGetAccountInfoResponse(this.auth,r,t):null}return Sr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,a="authUser"){if(!r.length)return new Di(ua(mb),t,a);const i=(await Promise.all(r.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||ua(mb);const l=dd(a,t.config.apiKey,t.name);let c=null;for(const p of r)try{const N=await p._get(l);if(N){let E;if(typeof N=="string"){const S=await nu(t,{idToken:N}).catch(()=>{});if(!S)break;E=await Sr._fromGetAccountInfoResponse(t,S,N)}else E=Sr._fromJSON(t,N);p!==o&&(c=E),o=p;break}}catch{}const x=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!x.length?new Di(o,t,a):(o=x[0],c&&await o._set(l,c.toJSON()),await Promise.all(r.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new Di(o,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(U5(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(V5(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(q5(t))return"Blackberry";if(W5(t))return"Webos";if(B5(t))return"Safari";if((t.includes("chrome/")||F5(t))&&!t.includes("edge/"))return"Chrome";if($5(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(r);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function V5(s=Ms()){return/firefox\//i.test(s)}function B5(s=Ms()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function F5(s=Ms()){return/crios\//i.test(s)}function U5(s=Ms()){return/iemobile/i.test(s)}function $5(s=Ms()){return/android/i.test(s)}function q5(s=Ms()){return/blackberry/i.test(s)}function W5(s=Ms()){return/webos/i.test(s)}function Pp(s=Ms()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function T6(s=Ms()){var t;return Pp(s)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function D6(){return fI()&&document.documentMode===10}function G5(s=Ms()){return Pp(s)||$5(s)||W5(s)||q5(s)||/windows phone/i.test(s)||U5(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(s,t=[]){let r;switch(s){case"Browser":r=hb(Ms());break;case"Worker":r=`${hb(Ms())}-${s}`;break;default:r=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Xn}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const a=o=>new Promise((l,c)=>{try{const x=t(o);l(x)}catch(x){c(x)}});a.onAbort=r,this.queue.push(a);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const a of this.queue)await a(t),a.onAbort&&r.push(a.onAbort)}catch(a){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R6(s,t={}){return sa(s,"GET","/v2/passwordPolicy",Ea(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=6;class z6{constructor(t){var r,a,i,o;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=l.minPasswordLength)!==null&&r!==void 0?r:M6,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var r,a,i,o,l,c;const x={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,x),this.validatePasswordCharacterOptions(t,x),x.isValid&&(x.isValid=(r=x.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),x.isValid&&(x.isValid=(a=x.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),x.isValid&&(x.isValid=(i=x.containsLowercaseLetter)!==null&&i!==void 0?i:!0),x.isValid&&(x.isValid=(o=x.containsUppercaseLetter)!==null&&o!==void 0?o:!0),x.isValid&&(x.isValid=(l=x.containsNumericCharacter)!==null&&l!==void 0?l:!0),x.isValid&&(x.isValid=(c=x.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),x}validatePasswordLengthOptions(t,r){const a=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;a&&(r.meetsMinPasswordLength=t.length>=a),i&&(r.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let a;for(let i=0;i<t.length;i++)a=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,r,a,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(t,r,a,i){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=a,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pb(this),this.idTokenSubscription=new pb(this),this.beforeStateQueue=new A6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=ua(r)),this._initializationPromise=this.queue(async()=>{var a,i,o;if(!this._deleted&&(this.persistenceManager=await Di.create(this,t),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await nu(this,{idToken:t}),a=await Sr._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(a)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(sr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let i=a,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,c=i==null?void 0:i._redirectEventId,x=await this.tryRedirectSignIn(t);(!l||l===c)&&(x!=null&&x.user)&&(i=x.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await iu(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=p6()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(sr(this.app))return Promise.reject(ha(this));const r=t?Bt(t):null;return r&&nt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&nt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return sr(this.app)?Promise.reject(ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ua(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await R6(this),r=new z6(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Jn("auth","Firebase",t())}onAuthStateChanged(t,r,a){return this.registerStateListener(this.authStateSubscription,t,r,a)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,a){return this.registerStateListener(this.idTokenSubscription,t,r,a)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(a.tenantId=this.tenantId),await P6(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const a=await this.getOrInitRedirectPersistenceManager(r);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&ua(t)||this._popupRedirectResolver;nt(r,this,"argument-error"),this.redirectPersistenceManager=await Di.create(this,[ua(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,a;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,a,i){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(nt(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof r=="function"){const x=t.addObserver(r,a,i);return()=>{l=!0,x()}}else{const x=t.addObserver(r);return()=>{l=!0,x()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=H5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(r["X-Firebase-Client"]=a);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var t;if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&m6(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function ti(s){return Bt(s)}class pb{constructor(t){this.auth=t,this.observer=null,this.addObserver=wI(r=>this.observer=r)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L6(s){tx=s}function Q5(s){return tx.loadJS(s)}function V6(){return tx.recaptchaEnterpriseScript}function B6(){return tx.gapiScript}function F6(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class U6{constructor(){this.enterprise=new $6}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class $6{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const q6="recaptcha-enterprise",K5="NO_RECAPTCHA";class W6{constructor(t){this.type=q6,this.auth=ti(t)}async verify(t="verify",r=!1){async function a(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{N6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(x=>{if(x.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new v6(x);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(x=>{c(x)})})}function i(o,l,c){const x=window.grecaptcha;db(x)?x.enterprise.ready(()=>{x.enterprise.execute(o,{action:t}).then(p=>{l(p)}).catch(()=>{l(K5)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new U6().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{a(this.auth).then(c=>{if(!r&&db(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let x=V6();x.length!==0&&(x+=c),Q5(x).then(()=>{i(c,o,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function wl(s,t,r,a=!1,i=!1){const o=new W6(s);let l;if(i)l=K5;else try{l=await o.verify(r)}catch{l=await o.verify(r,!0)}const c=Object.assign({},t);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const x=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:x,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const x=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:x,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return a?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Ih(s,t,r,a,i){var o,l;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=s._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await wl(s,t,r,r==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const x=await wl(s,t,r,r==="getOobCode");return a(s,x)}else return Promise.reject(c)});else if(i==="PHONE_PROVIDER")if(!((l=s._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("PHONE_PROVIDER")){const c=await wl(s,t,r);return a(s,c).catch(async x=>{var p;if(((p=s._getRecaptchaConfig())===null||p===void 0?void 0:p.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(x.code==="auth/missing-recaptcha-token"||x.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${r} flow.`);const N=await wl(s,t,r,!1,!0);return a(s,N)}return Promise.reject(x)})}else{const c=await wl(s,t,r,!1,!0);return a(s,c)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(s,t){const r=gn(s,"auth");if(r.isInitialized()){const i=r.getImmediate(),o=r.getOptions();if(ln(o,t??{}))return i;Mr(i,"already-initialized")}return r.initialize({options:t})}function H6(s,t){const r=(t==null?void 0:t.persistence)||[],a=(Array.isArray(r)?r:[r]).map(ua);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function Q6(s,t,r){const a=ti(s);nt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),o=Y5(t),{host:l,port:c}=K6(t),x=c===null?"":`:${c}`,p={url:`${o}//${l}${x}/`},N=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!a._canInitEmulator){nt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),nt(ln(p,a.config.emulator)&&ln(N,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=N,a.settings.appVerificationDisabledForTesting=!0,i||Y6()}function Y5(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function K6(s){const t=Y5(s),r=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!r)return{host:"",port:null};const a=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(a);if(i){const o=i[1];return{host:o,port:fb(a.substr(o.length+1))}}else{const[o,l]=a.split(":");return{host:o,port:fb(l)}}}function fb(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Y6(){function s(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return da("not implemented")}_getIdTokenResponse(t){return da("not implemented")}_linkToIdToken(t,r){return da("not implemented")}_getReauthenticationResolver(t){return da("not implemented")}}async function J6(s,t){return sa(s,"POST","/v1/accounts:update",t)}async function X6(s,t){return sa(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z6(s,t){return Jo(s,"POST","/v1/accounts:signInWithPassword",Ea(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e8(s,t){return Jo(s,"POST","/v1/accounts:signInWithEmailLink",Ea(s,t))}async function t8(s,t){return Jo(s,"POST","/v1/accounts:signInWithEmailLink",Ea(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends Tp{constructor(t,r,a,i=null){super("password",a),this._email=t,this._password=r,this._tenantId=i}static _fromEmailAndPassword(t,r){return new _o(t,r,"password")}static _fromEmailAndCode(t,r,a=null){return new _o(t,r,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(t,r,"signInWithPassword",Z6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return e8(t,{email:this._email,oobCode:this._password});default:Mr(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const a={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(t,a,"signUpPassword",X6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return t8(t,{idToken:r,email:this._email,oobCode:this._password});default:Mr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ai(s,t){return Jo(s,"POST","/v1/accounts:signInWithIdp",Ea(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8="http://localhost";class Gn extends Tp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Gn(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):Mr("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:i}=r,o=Ip(r,["providerId","signInMethod"]);if(!a||!i)return null;const l=new Gn(a,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const r=this.buildRequest();return Ai(t,r)}_linkToIdToken(t,r){const a=this.buildRequest();return a.idToken=r,Ai(t,a)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Ai(t,r)}buildRequest(){const t={requestUri:s8,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Vo(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function a8(s){const t=Sl(_l(s)).link,r=t?Sl(_l(t)).deep_link_id:null,a=Sl(_l(s)).deep_link_id;return(a?Sl(_l(a)).link:null)||a||r||t||s}class Dp{constructor(t){var r,a,i,o,l,c;const x=Sl(_l(t)),p=(r=x.apiKey)!==null&&r!==void 0?r:null,N=(a=x.oobCode)!==null&&a!==void 0?a:null,E=r8((i=x.mode)!==null&&i!==void 0?i:null);nt(p&&N&&E,"argument-error"),this.apiKey=p,this.operation=E,this.code=N,this.continueUrl=(o=x.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=x.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=x.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){const r=a8(t);try{return new Dp(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.providerId=al.PROVIDER_ID}static credential(t,r){return _o._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const a=Dp.parseLink(r);return nt(a,"argument-error"),_o._fromEmailAndCode(t,a.code,a.tenantId)}}al.PROVIDER_ID="password";al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends J5{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends Xo{constructor(){super("facebook.com")}static credential(t){return Gn._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return La.credentialFromTaggedObject(t)}static credentialFromError(t){return La.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return La.credential(t.oauthAccessToken)}catch{return null}}}La.FACEBOOK_SIGN_IN_METHOD="facebook.com";La.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends Xo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Gn._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Va.credentialFromTaggedObject(t)}static credentialFromError(t){return Va.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:a}=t;if(!r&&!a)return null;try{return Va.credential(r,a)}catch{return null}}}Va.GOOGLE_SIGN_IN_METHOD="google.com";Va.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Xo{constructor(){super("github.com")}static credential(t){return Gn._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ba.credentialFromTaggedObject(t)}static credentialFromError(t){return Ba.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ba.credential(t.oauthAccessToken)}catch{return null}}}Ba.GITHUB_SIGN_IN_METHOD="github.com";Ba.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Xo{constructor(){super("twitter.com")}static credential(t,r){return Gn._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Fa.credentialFromTaggedObject(t)}static credentialFromError(t){return Fa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:a}=t;if(!r||!a)return null;try{return Fa.credential(r,a)}catch{return null}}}Fa.TWITTER_SIGN_IN_METHOD="twitter.com";Fa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n8(s,t){return Jo(s,"POST","/v1/accounts:signUp",Ea(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,a,i=!1){const o=await Sr._fromIdTokenResponse(t,a,i),l=gb(a);return new Hn({user:o,providerId:l,_tokenResponse:a,operationType:r})}static async _forOperation(t,r,a){await t._updateTokensIfNecessary(a,!0);const i=gb(a);return new Hn({user:t,providerId:i,_tokenResponse:a,operationType:r})}}function gb(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends vr{constructor(t,r,a,i){var o;super(r.code,r.message),this.operationType=a,this.user=i,Object.setPrototypeOf(this,lu.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:r.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,r,a,i){return new lu(t,r,a,i)}}function X5(s,t,r,a){return(t==="reauthenticate"?r._getReauthenticationResolver(s):r._getIdTokenResponse(s)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?lu._fromErrorAndOperation(s,o,t,a):o})}async function i8(s,t,r=!1){const a=await Hi(s,t._linkToIdToken(s.auth,await s.getIdToken()),r);return Hn._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l8(s,t,r=!1){const{auth:a}=s;if(sr(a.app))return Promise.reject(ha(a));const i="reauthenticate";try{const o=await Hi(s,X5(a,i,t,s),r);nt(o.idToken,a,"internal-error");const l=_p(o.idToken);nt(l,a,"internal-error");const{sub:c}=l;return nt(s.uid===c,a,"user-mismatch"),Hn._forOperation(s,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Mr(a,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z5(s,t,r=!1){if(sr(s.app))return Promise.reject(ha(s));const a="signIn",i=await X5(s,a,t),o=await Hn._fromIdTokenResponse(s,a,i);return r||await s._updateCurrentUser(o.user),o}async function o8(s,t){return Z5(ti(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(s){const t=ti(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function c8(s,t,r){if(sr(s.app))return Promise.reject(ha(s));const a=ti(s),l=await Ih(a,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",n8,"EMAIL_PASSWORD_PROVIDER").catch(x=>{throw x.code==="auth/password-does-not-meet-requirements"&&e2(s),x}),c=await Hn._fromIdTokenResponse(a,"signIn",l);return await a._updateCurrentUser(c.user),c}function d8(s,t,r){return sr(s.app)?Promise.reject(ha(s)):o8(Bt(s),al.credential(t,r)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&e2(s),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u8(s,t){return sa(s,"POST","/v1/accounts:createAuthUri",Ea(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x8(s,t){const r=A5()?au():"http://localhost",a={identifier:t,continueUri:r},{signinMethods:i}=await u8(Bt(s),a);return i||[]}function Ap(s,t){return m8(Bt(s),null,t)}async function m8(s,t,r){const{auth:a}=s,o={idToken:await s.getIdToken(),returnSecureToken:!0};t&&(o.email=t),r&&(o.password=r);const l=await Hi(s,J6(a,o));await s._updateTokensIfNecessary(l,!0)}function h8(s,t,r,a){return Bt(s).onIdTokenChanged(t,r,a)}function p8(s,t,r){return Bt(s).beforeAuthStateChanged(t,r)}function Nt(s,t,r,a){return Bt(s).onAuthStateChanged(t,r,a)}function Po(s){return Bt(s).signOut()}const ou="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(ou,"1"),this.storage.removeItem(ou),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=1e3,g8=10;class s2 extends t2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G5(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const a=this.storage.getItem(r),i=this.localCache[r];a!==i&&t(r,i,a)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((l,c,x)=>{this.notifyListeners(l,x)});return}const a=t.key;r?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(a);!r&&this.localCache[a]===l||this.notifyListeners(a,l)},o=this.storage.getItem(a);D6()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,g8):i()}notifyListeners(t,r){this.localCache[t]=r;const a=this.listeners[t];if(a)for(const i of Array.from(a))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:a}),!0)})},f8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}s2.type="LOCAL";const y8=s2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2 extends t2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}r2.type="SESSION";const a2=r2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(i=>i.isListeningto(t));if(r)return r;const a=new sx(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:a,eventType:i,data:o}=r.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;r.ports[0].postMessage({status:"ack",eventId:a,eventType:i});const c=Array.from(l).map(async p=>p(r.origin,o)),x=await b8(c);r.ports[0].postMessage({status:"done",eventId:a,eventType:i,response:x})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(s="",t=10){let r="";for(let a=0;a<t;a++)r+=Math.floor(Math.random()*10);return s+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,a=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,x)=>{const p=Rp("",20);i.port1.start();const N=setTimeout(()=>{x(new Error("unsupported_event"))},a);l={messageChannel:i,onMessage(E){const S=E;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(N),o=setTimeout(()=>{x(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(S.data.response);break;default:clearTimeout(N),clearTimeout(o),x(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:p,data:r},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return window}function v8(s){Yr().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(){return typeof Yr().WorkerGlobalScope<"u"&&typeof Yr().importScripts=="function"}async function N8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w8(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function k8(){return n2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="firebaseLocalStorageDb",C8=1,cu="firebaseLocalStorage",l2="fbase_key";class Zo{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function rx(s,t){return s.transaction([cu],t?"readwrite":"readonly").objectStore(cu)}function I8(){const s=indexedDB.deleteDatabase(i2);return new Zo(s).toPromise()}function Eh(){const s=indexedDB.open(i2,C8);return new Promise((t,r)=>{s.addEventListener("error",()=>{r(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(cu,{keyPath:l2})}catch(i){r(i)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(cu)?t(a):(a.close(),await I8(),t(await Eh()))})})}async function yb(s,t,r){const a=rx(s,!0).put({[l2]:t,value:r});return new Zo(a).toPromise()}async function E8(s,t){const r=rx(s,!1).get(t),a=await new Zo(r).toPromise();return a===void 0?null:a.value}function bb(s,t){const r=rx(s,!0).delete(t);return new Zo(r).toPromise()}const S8=800,_8=3;class o2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eh(),this.db)}async _withRetries(t){let r=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(r++>_8)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return n2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sx._getInstance(k8()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await N8(),!this.activeServiceWorker)return;this.sender=new j8(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((r=a[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||w8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Eh();return await yb(t,ou,"1"),await bb(t,ou),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(a=>yb(a,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(a=>E8(a,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>bb(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=rx(i,!1).getAll();return new Zo(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],a=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)a.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!a.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(t,r){this.localCache[t]=r;const a=this.listeners[t];if(a)for(const i of Array.from(a))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o2.type="LOCAL";const P8=o2;new Yo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(s,t){return t?ua(t):(nt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends Tp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ai(t,this._buildIdpRequest())}_linkToIdToken(t,r){return Ai(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return Ai(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function D8(s){return Z5(s.auth,new Mp(s),s.bypassAuthState)}function A8(s){const{auth:t,user:r}=s;return nt(r,t,"internal-error"),l8(r,new Mp(s),s.bypassAuthState)}async function R8(s){const{auth:t,user:r}=s;return nt(r,t,"internal-error"),i8(r,new Mp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t,r,a,i,o=!1){this.auth=t,this.resolver=a,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:a,postBody:i,tenantId:o,error:l,type:c}=t;if(l){this.reject(l);return}const x={auth:this.auth,requestUri:r,sessionId:a,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(x))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return D8;case"linkViaPopup":case"linkViaRedirect":return R8;case"reauthViaPopup":case"reauthViaRedirect":return A8;default:Mr(this.auth,"internal-error")}}resolve(t){wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=new Yo(2e3,1e4);class wi extends c2{constructor(t,r,a,i,o){super(t,r,i,o),this.provider=a,this.authWindow=null,this.pollId=null,wi.currentPopupAction&&wi.currentPopupAction.cancel(),wi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return nt(t,this.auth,"internal-error"),t}async onExecution(){wa(this.filter.length===1,"Popup operations only handle one event");const t=Rp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wi.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,a;if(!((a=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,M8.get())};t()}}wi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8="pendingRedirect",ud=new Map;class O8 extends c2{constructor(t,r,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a),this.eventId=null}async execute(){let t=ud.get(this.auth._key());if(!t){try{const a=await L8(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(r){t=()=>Promise.reject(r)}ud.set(this.auth._key(),t)}return this.bypassAuthState||ud.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L8(s,t){const r=F8(t),a=B8(s);if(!await a._isAvailable())return!1;const i=await a._get(r)==="true";return await a._remove(r),i}function V8(s,t){ud.set(s._key(),t)}function B8(s){return ua(s._redirectPersistence)}function F8(s){return dd(z8,s.config.apiKey,s.name)}async function U8(s,t,r=!1){if(sr(s.app))return Promise.reject(ha(s));const a=ti(s),i=T8(a,t),l=await new O8(a,i,r).execute();return l&&!r&&(delete l.user._redirectEventId,await a._persistUserIfCurrent(l.user),await a._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=10*60*1e3;class q8{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(r=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!W8(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var a;if(t.error&&!d2(t)){const i=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";r.onError(Kr(this.auth,i))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const a=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$8&&this.cachedEventUids.clear(),this.cachedEventUids.has(jb(t))}saveEventToCache(t){this.cachedEventUids.add(jb(t)),this.lastProcessedEventTime=Date.now()}}function jb(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function d2({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function W8(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d2(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8(s,t={}){return sa(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q8=/^https?/;async function K8(s){if(s.config.emulator)return;const{authorizedDomains:t}=await G8(s);for(const r of t)try{if(Y8(r))return}catch{}Mr(s,"unauthorized-domain")}function Y8(s){const t=au(),{protocol:r,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const l=new URL(s);return l.hostname===""&&a===""?r==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&l.hostname===a}if(!Q8.test(r))return!1;if(H8.test(s))return a===s;const i=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8=new Yo(3e4,6e4);function vb(){const s=Yr().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let r=0;r<s.CP.length;r++)s.CP[r]=null}}function X8(s){return new Promise((t,r)=>{var a,i,o;function l(){vb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vb(),r(Kr(s,"network-request-failed"))},timeout:J8.get()})}if(!((i=(a=Yr().gapi)===null||a===void 0?void 0:a.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=Yr().gapi)===null||o===void 0)&&o.load)l();else{const c=F6("iframefcb");return Yr()[c]=()=>{gapi.load?l():r(Kr(s,"network-request-failed"))},Q5(`${B6()}?onload=${c}`).catch(x=>r(x))}}).catch(t=>{throw xd=null,t})}let xd=null;function Z8(s){return xd=xd||X8(s),xd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=new Yo(5e3,15e3),tT="__/auth/iframe",sT="emulator/auth/iframe",rT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nT(s){const t=s.config;nt(t.authDomain,s,"auth-domain-config-required");const r=t.emulator?Sp(t,sT):`https://${s.config.authDomain}/${tT}`,a={apiKey:t.apiKey,appName:s.name,v:Xn},i=aT.get(s.config.apiHost);i&&(a.eid=i);const o=s._getFrameworks();return o.length&&(a.fw=o.join(",")),`${r}?${Vo(a).slice(1)}`}async function iT(s){const t=await Z8(s),r=Yr().gapi;return nt(r,s,"internal-error"),t.open({where:document.body,url:nT(s),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rT,dontclear:!0},a=>new Promise(async(i,o)=>{await a.restyle({setHideOnLeave:!1});const l=Kr(s,"network-request-failed"),c=Yr().setTimeout(()=>{o(l)},eT.get());function x(){Yr().clearTimeout(c),i(a)}a.ping(x).then(x,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oT=500,cT=600,dT="_blank",uT="http://localhost";class Nb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xT(s,t,r,a=oT,i=cT){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-a)/2,0).toString();let c="";const x=Object.assign(Object.assign({},lT),{width:a.toString(),height:i.toString(),top:o,left:l}),p=Ms().toLowerCase();r&&(c=F5(p)?dT:r),V5(p)&&(t=t||uT,x.scrollbars="yes");const N=Object.entries(x).reduce((S,[R,y])=>`${S}${R}=${y},`,"");if(T6(p)&&c!=="_self")return mT(t||"",c),new Nb(null);const E=window.open(t||"",c,N);nt(E,s,"popup-blocked");try{E.focus()}catch{}return new Nb(E)}function mT(s,t){const r=document.createElement("a");r.href=s,r.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="__/auth/handler",pT="emulator/auth/handler",fT=encodeURIComponent("fac");async function wb(s,t,r,a,i,o){nt(s.config.authDomain,s,"auth-domain-config-required"),nt(s.config.apiKey,s,"invalid-api-key");const l={apiKey:s.config.apiKey,appName:s.name,authType:r,redirectUrl:a,v:Xn,eventId:i};if(t instanceof J5){t.setDefaultLanguage(s.languageCode),l.providerId=t.providerId||"",NI(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[N,E]of Object.entries(o||{}))l[N]=E}if(t instanceof Xo){const N=t.getScopes().filter(E=>E!=="");N.length>0&&(l.scopes=N.join(","))}s.tenantId&&(l.tid=s.tenantId);const c=l;for(const N of Object.keys(c))c[N]===void 0&&delete c[N];const x=await s._getAppCheckToken(),p=x?`#${fT}=${encodeURIComponent(x)}`:"";return`${gT(s)}?${Vo(c).slice(1)}${p}`}function gT({config:s}){return s.emulator?Sp(s,pT):`https://${s.authDomain}/${hT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="webStorageSupport";class yT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=a2,this._completeRedirectFn=U8,this._overrideRedirectResult=V8}async _openPopup(t,r,a,i){var o;wa((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await wb(t,r,a,au(),i);return xT(t,l,Rp())}async _openRedirect(t,r,a,i){await this._originValidation(t);const o=await wb(t,r,a,au(),i);return v8(o),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:i,promise:o}=this.eventManagers[r];return i?Promise.resolve(i):(wa(o,"If manager is not set, promise should be"),o)}const a=this.initAndGetManager(t);return this.eventManagers[r]={promise:a},a.catch(()=>{delete this.eventManagers[r]}),a}async initAndGetManager(t){const r=await iT(t),a=new q8(t);return r.register("authEvent",i=>(nt(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:a.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=r,a}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(am,{type:am},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[am];l!==void 0&&r(!!l),Mr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=K8(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return G5()||B5()||Pp()}}const bT=yT;var kb="@firebase/auth",Cb="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NT(s){Ar(new jr("auth",(t,{options:r})=>{const a=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=a.options;nt(l&&!l.includes(":"),"invalid-api-key",{appName:a.name});const x={apiKey:l,authDomain:c,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H5(s)},p=new O6(a,i,o,x);return H6(p,r),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,a)=>{t.getProvider("auth-internal").initialize()})),Ar(new jr("auth-internal",t=>{const r=ti(t.getProvider("auth").getImmediate());return(a=>new jT(a))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(kb,Cb,vT(s)),Js(kb,Cb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=5*60,kT=gN("authIdTokenMaxAge")||wT;let Ib=null;const CT=s=>async t=>{const r=t&&await t.getIdTokenResult(),a=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(a&&a>kT)return;const i=r==null?void 0:r.token;Ib!==i&&(Ib=i,await fetch(s,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function u2(s=Au()){const t=gn(s,"auth");if(t.isInitialized())return t.getImmediate();const r=G6(s,{popupRedirectResolver:bT,persistence:[P8,y8,a2]}),a=gN("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(a,location.origin);if(location.origin===o.origin){const l=CT(o.toString());p8(r,l,()=>l(r.currentUser)),h8(r,c=>l(c))}}const i=hN("auth");return i&&Q6(r,`http://${i}`),r}function IT(){var s,t;return(t=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&t!==void 0?t:document}L6({loadJS(s){return new Promise((t,r)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=i=>{const o=Kr("internal-error");o.customData=i,r(o)},a.type="text/javascript",a.charset="UTF-8",IT().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NT("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="firebasestorage.googleapis.com",ET="storageBucket",ST=2*60*1e3,_T=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends vr{constructor(t,r,a=0){super(nm(t),`Firebase Storage: ${r} (${nm(t)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ra.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return nm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ea;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ea||(ea={}));function nm(s){return"storage/"+s}function PT(){const s="An unknown error occurred, please check the error payload for server response.";return new ra(ea.UNKNOWN,s)}function TT(){return new ra(ea.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DT(){return new ra(ea.CANCELED,"User canceled the upload/download.")}function AT(s){return new ra(ea.INVALID_URL,"Invalid URL '"+s+"'.")}function RT(s){return new ra(ea.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function Eb(s){return new ra(ea.INVALID_ARGUMENT,s)}function m2(){return new ra(ea.APP_DELETED,"The Firebase app was deleted.")}function MT(s){return new ra(ea.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let a;try{a=_r.makeFromUrl(t,r)}catch{return new _r(t,"")}if(a.path==="")return a;throw RT(t)}static makeFromUrl(t,r){let a=null;const i="([A-Za-z0-9.\\-_]+)";function o(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),x={bucket:1,path:3};function p(H){H.path_=decodeURIComponent(H.path)}const N="v[A-Za-z0-9_]+",E=r.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",R=new RegExp(`^https?://${E}/${N}/b/${i}/o${S}`,"i"),y={bucket:1,path:3},V=r===x2?"(?:storage.googleapis.com|storage.cloud.google.com)":r,v="([^?#]*)",P=new RegExp(`^https?://${V}/${i}/${v}`,"i"),M=[{regex:c,indices:x,postModify:o},{regex:R,indices:y,postModify:p},{regex:P,indices:{bucket:1,path:2},postModify:p}];for(let H=0;H<M.length;H++){const Q=M[H],W=Q.regex.exec(t);if(W){const D=W[Q.indices.bucket];let d=W[Q.indices.path];d||(d=""),a=new _r(D,d),Q.postModify(a);break}}if(a==null)throw AT(t);return a}}class zT{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(s,t,r){let a=1,i=null,o=null,l=!1,c=0;function x(){return c===2}let p=!1;function N(...v){p||(p=!0,t.apply(null,v))}function E(v){i=setTimeout(()=>{i=null,s(R,x())},v)}function S(){o&&clearTimeout(o)}function R(v,...P){if(p){S();return}if(v){S(),N.call(null,v,...P);return}if(x()||l){S(),N.call(null,v,...P);return}a<64&&(a*=2);let M;c===1?(c=2,M=0):M=(a+Math.random())*1e3,E(M)}let y=!1;function V(v){y||(y=!0,S(),!p&&(i!==null?(v||(c=2),clearTimeout(i),E(0)):v||(c=1)))}return E(0),o=setTimeout(()=>{l=!0,V(!0)},r),V}function LT(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(s){return s!==void 0}function Sb(s,t,r,a){if(a<t)throw Eb(`Invalid value for '${s}'. Expected ${t} or greater.`);if(a>r)throw Eb(`Invalid value for '${s}'. Expected ${r} or less.`)}function BT(s){const t=encodeURIComponent;let r="?";for(const a in s)if(s.hasOwnProperty(a)){const i=t(a)+"="+t(s[a]);r=r+i+"&"}return r=r.slice(0,-1),r}var du;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(du||(du={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(s,t){const r=s>=500&&s<600,i=[408,429].indexOf(s)!==-1,o=t.indexOf(s)!==-1;return r||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t,r,a,i,o,l,c,x,p,N,E,S=!0){this.url_=t,this.method_=r,this.headers_=a,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=x,this.timeout_=p,this.progressCallback_=N,this.connectionFactory_=E,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,y)=>{this.resolve_=R,this.reject_=y,this.start_()})}start_(){const t=(a,i)=>{if(i){a(!1,new Uc(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const x=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(x,p)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===du.NO_ERROR,x=o.getStatus();if(!c||FT(x,this.additionalRetryCodes_)&&this.retry){const N=o.getErrorCode()===du.ABORT;a(!1,new Uc(!1,null,N));return}const p=this.successCodes_.indexOf(x)!==-1;a(!0,new Uc(p,o))})},r=(a,i)=>{const o=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const x=this.callback_(c,c.getResponse());VT(x)?o(x):o()}catch(x){l(x)}else if(c!==null){const x=PT();x.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,x)):l(x)}else if(i.canceled){const x=this.appDelete_?m2():DT();l(x)}else{const x=TT();l(x)}};this.canceled_?r(!1,new Uc(!1,null,!0)):this.backoffId_=OT(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&LT(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Uc{constructor(t,r,a){this.wasSuccessCode=t,this.connection=r,this.canceled=!!a}}function $T(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function qT(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function WT(s,t){t&&(s["X-Firebase-GMPID"]=t)}function GT(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function HT(s,t,r,a,i,o,l=!0){const c=BT(s.urlParams),x=s.url+c,p=Object.assign({},s.headers);return WT(p,t),$T(p,r),qT(p,o),GT(p,a),new UT(x,s.method,p,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function KT(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t,r){this._service=t,r instanceof _r?this._location=r:this._location=_r.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new uu(t,r)}get root(){const t=new _r(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KT(this._location.path)}get storage(){return this._service}get parent(){const t=QT(this._location.path);if(t===null)return null;const r=new _r(this._location.bucket,t);return new uu(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw MT(t)}}function _b(s,t){const r=t==null?void 0:t[ET];return r==null?null:_r.makeFromBucketSpec(r,s)}function YT(s,t,r,a={}){s.host=`${t}:${r}`,s._protocol="http";const{mockUserToken:i}=a;i&&(s._overrideAuthToken=typeof i=="string"?i:yN(i,s.app.options.projectId))}class JT{constructor(t,r,a,i,o){this.app=t,this._authProvider=r,this._appCheckProvider=a,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=x2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ST,this._maxUploadRetryTime=_T,this._requests=new Set,i!=null?this._bucket=_r.makeFromBucketSpec(i,this._host):this._bucket=_b(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=_r.makeFromBucketSpec(this._url,t):this._bucket=_b(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Sb("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Sb("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new uu(this,t)}_makeRequest(t,r,a,i,o=!0){if(this._deleted)return new zT(m2());{const l=HT(t,this._appId,a,i,r,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(t,r){const[a,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,a,i).getPromise()}}const Pb="@firebase/storage",Tb="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="storage";function XT(s=Au(),t){s=Bt(s);const a=gn(s,h2).getImmediate({identifier:t}),i=pN("storage");return i&&ZT(a,...i),a}function ZT(s,t,r,a={}){YT(s,t,r,a)}function eD(s,{instanceIdentifier:t}){const r=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),i=s.getProvider("app-check-internal");return new JT(r,a,i,t,Xn)}function tD(){Ar(new jr(h2,eD,"PUBLIC").setMultipleInstances(!0)),Js(Pb,Tb,""),Js(Pb,Tb,"esm2017")}tD();const sD={apiKey:"AIzaSyDYacL_WIzZUSP-Tjl3794P_jHocMDqN9g",authDomain:"blackkstreaming-55f0e.firebaseapp.com",projectId:"blackkstreaming-55f0e",storageBucket:"blackkstreaming-55f0e.firebasestorage.app",messagingSenderId:"998157647233",appId:"1:998157647233:web:3e5b8128a0275ae4553c80",measurementId:"G-GFM50WNMSP"},ax=CN(sD);eS(ax);const C=XP(ax),ze=u2(ax);XT(ax);const We="/assets/logo-e43e9960.png",rD="/assets/brooklyn99-7c1a6c47.png",aD="/assets/stranger-things-31a579dc.png",nD="/assets/breaking-bad-482f4098.png",iD="/assets/naruto-54b60bd0.png",lD="/assets/alice-5ff5523e.png",oD="/assets/netflix-e3c8e0d2.png",cD="/assets/spotify-d09996b4.png",dD="/assets/disney-0c4f0934.png",uD="/assets/max-c00a4c65.png",xD="/assets/prime-video-72b85c51.png",mD="/assets/vix-ee8ed6dc.png",hD="/assets/Canva-e7a7d520.png",pD="/assets/ChatGPT-b8d712b1.png",fD="/assets/crunchyroll-562435fc.png",gD="/assets/redessociales-65298696.png",yD="/assets/dgo-7ac16535.png",bD="/assets/ligamax-7ac6606f.png",jD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAB4CAYAAADblO/uAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACnFJREFUeNrsnd912zYbh+Gc3FedoPQEVSYINUHUm+bS0gS2JlA8ga0JrF7qyvYElieIMkHYCapvAn+EQEb2sUgR1AsSIJ/nHKU9jkOKIH54/+AFcPby8qIAoNucIXQAhA4ACB0AEDoAIHQAQOgAgNABAKEDAEIHQOgAgNABAKEDAEIHAIQOAAgdABA6ACB0AIQOAAgdABA6AHRX6GdnZ7RiVVZJlP45Tj+D9PM5++k2/fxIPxv1NXqgkeA1UoYYoTcj8En652X6GR75TS36Rfq5TUW/peEAoYchcG29b9JPZPkvk/QzTcW+phEROkL3V+DaNb/L3PRT0GJf0qAIHaH7KfKnCm46YgeEjsjf8CkV+4YGRugIvbsiz2P2TyToEHpdPtCUYtw4ErkmSj9XNDGEadHNvLL+xK9+qq3WJqiMs8mu3zdwp/O0XRK6LRbdf6EbF1dbpwt1fNpJF5AsvBa9eZ6fyhTBuGaZtsWU7o/Q/Rb6KvmmTOGIrSi04KdexqjmmeYN3vF3YnWE7qfQZRJV2mX9y6vsc7PWPGeWtsEtEkDofgl9lQwzkUuIQVuykTdiXyU6BLlp+K5J+vznne7dxks6FLYkCN1HobuxeP6IfZX8VPblrRJ0e159lRzqlKM+lgRLCf2j4+/5pOTdWhMGrJJ2xW4WqkQt3V0nMjeOnitWb2dB6rDeDcgU+XjDR4dCcDmvrMV+n96jzSKSixbf23gXq7tBi/zU5OI86wPbTPSPlPG2ywdHItedxXWBR6SambsuyjvELb63KKtB8J1BNijdpd/3v8wLgs4IvbnpprggceOaSw/e3TiwvjbIBH+f5W4gaKHLxHh2g4qxsE1Z84EnIvscaJ9rqooQHMfo8xaeQ6/9/tTQvSaq2Xnzsli6Scqz3vty5igbhMYl7WQ8sa/RNyQYokVvL3YdZsm/vrjtxhX2KU7Xc9x6INBJN1Omq+f6b0vbERc+WNe9zUz0VRY2uHTbY9XelNrhAc5X9GzI10jPDExLYnZW5AUq9EnLz+Paql949v6G3vcwM61WtLvtFyQYmtCNtRu03vFdZeGNmznx7P2FkpC7LnlfuO+BWXRfRmdXWfiJh+8vDJGYCrkkWK+kA0hm3WOPnku78CPha156+P5CEokWetToYPU2ZzPI2stsbJJ/p54slPko1KADzzpdvKvCkiq79C8J9/q7RYF01ucCYzAsieFt39GX7HrDygNI3TLdw/UiSe0+V3Q9vWrPI4vuo2W5SRvvQagWXjoJpzvWIvtvXoAzr2ndohK3uE9okdTJ4uftP077i34Hs4pHY8Xqfc3I+gRhSl/PSYwee/ji80MUTreYsvG57kijXWcyU1BJtpHEuXK1Ig1sBs37lsqqnSIldF+zv2OBhRSSIp8W7g5jPI86K9LiQPpaUR/xcXCbZxt+EqMfGAl9Rbvwm1pro401nwuKvNwN05Vlq2QdkHhtPaxDSC4zXqv96bTbkkEkP812XNJ373bvoiP78/VB6KdsVCG1+GJpkaR57JzQy5O1Mhbdvm7+YedBFW8Hlsfuyy68gg8CLzGETpmLfVy5Y66SOyWTZEwsXfIuxulXhW3TtsU0oVTR++lM5V6fTmrJd6W5K63GMgPXk2Bsfm3ZmW07vt/VcaatL0usavsYsScH/qYzxTwSrntojTHZffTUm5nbzS1orPbzsHIxo+28qg4vVkmXXPayfQP/8ejbPhzwPCKE/tZShshYud9A4lr1kf3mHDcl/WPt2eaR/3b5lXxU4IpNx7YnvqiQj/kt84iO/Z4OT6bevS+EDjVYdOx5JoLXmnJYZH+Ens9z+lYnL/NsbG9cbMmrlZhKhxPHvIwhQpdHi2D2KxttXsJ9wPH+oeer2yG72uHevnO3otb5gc8VwwgsuiOSd0f/moowvaz0qSNiP8Vtt31+n2PLtTIFQA+NuOqm3FlXMkZIu32hHxaBmVbShQt3gbfppuH4838N3WdmMag0u87bZPlvlJ+bg/RW6MWdRce1q0TPZYe8oODUJJyvHo3Pswh3Fn1mXdLuQ4Qux7EYbZbFVaG68KcmmobC7dltjLs+LjEqi2yQ2hy5TpyFjghdKEYs75ja5VslC9XOQRCni7z52u2+r2GfFxqMoiXBPUSi1t22Y0dHf8OsREoCbM9HgWv8SbesbM2HBf1picjlhe5KkLMA21NiftguZOlW9Z0tRS77NdKWFrp9djWueF0tmnVQIpdx222EvqULi/RJKaLuCt1gI0gb1zQkq/4odB2bZBx7zPlF54WeOOnIJlO67JHb7kvYBPXzBlGXhf7DatSza4xZAC7qpqWdUn70XFbbArGNG3nnh5l0Wei2LmRc+TeNgHxfCdbWBgp9d92LQsY6U7ORUNtfWq9XMAPTF/+Fbp/5/WJ5/W+eu6ltuO3bnmfcy85004c33h/1HM3egHq3oe/KtvTaJPwOiT3fn/Bb4ZZl5r7jbFuzn8os6HJalSdZGbe2sNRxjevPlNyurNJueyIq4GqZ9wcFmusCkeanrzxkIc7m1yBgNsiIBcS1KLj3IPMq5rutxt+GGNWPi/LQdbd1IwfWu8f6O90m/Z0eKg4GzBWbfrE88g7y467us4/+/ysRC3r83rmw41efVkq7JYX+7NR931v1rsfni0rtwA4tr/lLIF+xqeklSdx7qxznW+SEbr9ryLjGPXybbkvENzg01yvbT23K7jXv2kznKz5lXs62hsCn2b9/rnVvc0T3bc3BRb9rfe7eo8smkl69ZhOnR7vspL1QZtkg4cPqtoWjjquX62qLfaH22WCzEsu9JS9yR5vM8I9q3V8nbVeJFtxEmR1mDrnKufV8VO93ol3Wes783DyzGOv1vd8bBnP953f3drzF99nLy8tpFzg7U6++bNHxNmUuqP1IaH8fF2x3I3FHzuaCljEnuL47Nvnl7z9GvsXoqkaMU+/ccTM4tD2HvEDkEAqyQi+eWyxiWHo8Ujlt7gu+rRmTARTxRzhCN9hmoeuVK5r4pq0pphnWHISJQhO6rfte/5BAUzHXdOHIkqw3NCT0xF+h27vv8Yl3nDYYr29UmBtigM+YUt1DQv/XX6EbbKadTnNZ9vOY6wZEPsJlBwdMCn4u1qdlp9f2I5ROsOli/aqJtpHIAo1Voqfcrhy8iNv0+2HJwYU11yWy3w/8jS4C+v1Ufbq16MbqNR/HGjGOBGObdTYIIXKQFvggmzt/EvCKW7Lo+7jje0Wrfi5e8WX2+76okQPQg5RO8P3T+2WgUNerzBfMHCqprXK09K9iLCmL7k7o5qGrVLDpevFzx4kO3ah/quIVS89Z467Fa9ehj0I/JXzcZl7krh+GIXTz4E9HRi822ocuCV2743MJkUsK/UMDj66X8RUJ+RaRQ8eoG4IuM3fdiUfp3qK/d6GjX3Ewa6qhexZd9+/LLEyMVPH08UbtV7IVngngjesOAP6D0AEQOgAgdABA6ACA0AEAoQMAQgcAhA4ACB0AoQMAQgcAhA4ACB0AEDoAIHQAQOgAgNABEDoAIHQAQOgAgNABAKEDAEIHAIQOAAgdAKEjdIDu838BBgAP9Pzi++BqOAAAAABJRU5ErkJggg==",vD="/assets/youtube-49ca55e1.png",ND="/assets/deezer-17be4fc1.png",wD="/assets/tidal-d3f361cb.png",kD="/assets/vpn-62bcb4e7.png",CD="/assets/wintv-4112ccf1.png",ID="/assets/applemusic-67f0cc24.png",ED="/assets/appletv-e2fd6c55.png",SD="/assets/iptv-a55016d0.png",_D="/assets/flujotv-4d1c58b0.png",PD="/assets/vikirakuten-116faf85.png",TD="/assets/pornhub-46f32d0d.png",DD="/assets/paramount-5ab87b8f.png",AD="/assets/licencias-80ba80ab.png",RD="/assets/capcut-bc65a6c0.png",MD="/assets/duolingo-4d803f89.png",zD="/assets/buscapersonas-88e00efa.png",mr=[{src:rD,title:"Brooklyn Nine-Nine"},{src:aD,title:"Stranger Things"},{src:nD,title:"Breaking Bad"},{src:iD,title:"Naruto"},{src:lD,title:"Alice in Borderland"}],OD=[{name:"Netflix",logo:oD,route:"/netflix",color:"#E50914"},{name:"Spotify",logo:cD,route:"/spotify",color:"#1DB954"},{name:"Disney+",logo:dD,route:"/disney",color:"#1C4ED8"},{name:"Max",logo:uD,route:"/max",color:"#B5179E"},{name:"Prime Video",logo:xD,route:"/primevideo",color:"#00A8E1"},{name:"Vix",logo:mD,route:"/vix",color:"#FF5733"},{name:"Canva",logo:hD,route:"/canva",color:"#00C4B4"},{name:"ChatGPT",logo:pD,route:"/chatgpt",color:"#10A37F"},{name:"Crunchyroll",logo:fD,route:"/crunchyroll",color:"#F47521"},{name:"Redes Sociales",logo:gD,route:"/redessociales",color:"#3B5998"},{name:"Dgo",logo:yD,route:"/dgo",color:"#4CAF50"},{name:"Liga Max",logo:bD,route:"/ligamax",color:"#FFD700"},{name:"Movistar Play",logo:jD,route:"/movistarplay",color:"#00ADEF"},{name:"Youtube",logo:vD,route:"/youtube",color:"#FF0000"},{name:"Deezer",logo:ND,route:"/deezer",color:"#FEAA2D"},{name:"Tidal",logo:wD,route:"/tidal",color:"#00C7B7"},{name:"Vpn",logo:kD,route:"/vpn",color:"#4B0082"},{name:"Win Tv",logo:CD,route:"/wintv",color:"#4682B4"},{name:"Apple Music",logo:ID,route:"/applemusic",color:"#FA2C43"},{name:"Apple Tv",logo:ED,route:"/appletv",color:"#A3AAAE"},{name:"Iptv",logo:SD,route:"/iptv",color:"#8B008B"},{name:"Flujo Tv",logo:_D,route:"/flujotv",color:"#20B2AA"},{name:"Viki Rakuten",logo:PD,route:"/vikirakuten",color:"#D81B60"},{name:"Pornhub",logo:TD,route:"/pornhub",color:"#FFA500"},{name:"Paramount",logo:DD,route:"/paramount",color:"#0064D2"},{name:"Licencias",logo:AD,route:"/licencias",color:"#708090"},{name:"Capcut",logo:RD,route:"/capcut",color:"#00CED1"},{name:"Duolingo",logo:MD,route:"/duolingo",color:"#58CC02"},{name:"Busca Personas",logo:zD,route:"/buscapersonas",color:"#6A5ACD"}],LD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState(0),[i,o]=j.useState(null),[l,c]=j.useState(0),[x,p]=j.useState("user"),[N,E]=j.useState(""),S=mt();j.useEffect(()=>{const v=setInterval(()=>{a(P=>(P+1)%mr.length)},5e3);return()=>clearInterval(v)},[]),j.useEffect(()=>{(async()=>{if(ze.currentUser)try{const P=X(C,"users"),z=pe(P,fe("email","==",ze.currentUser.email)),M=await ct(z);if(!M.empty){const H=M.docs[0].data();o({name:H.username||"Usuario",email:ze.currentUser.email}),c(H.balance||0),p(H.role||"user")}}catch(P){console.error("Error loading user data:",P)}})()},[ze.currentUser]);const R=()=>{ze.signOut().then(()=>{o(null),S("/login")}).catch(v=>{console.error("Logout error:",v)})},y=()=>{x==="user"?S("/dashboard/user"):x==="affiliate"?S("/dashboard/affiliate"):x==="provider"?S("/dashboard/provider"):x==="admin"&&S("/dashboard/admin")},V=v=>{v.preventDefault(),N.trim()&&S(`/search?q=${encodeURIComponent(N)}`)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsxs("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:[e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(S0,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar películas, series...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:N,onChange:v=>E(v.target.value)}),e.jsx("button",{onClick:V,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(_0,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:i?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:["👤 ",i.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",l.toFixed(2)]}),e.jsx("button",{onClick:y,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Fg,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:R,className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(Ug,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>S("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>S("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]}),s&&e.jsx("div",{className:"fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform translate-x-0 transition-transform duration-300 ease-in-out z-50 md:hidden",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"flex flex-col space-y-2 p-4",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[e.jsxs("span",{className:"font-medium",children:["👤 ",i.name]}),e.jsxs("span",{className:"font-medium",children:["S/ ",l.toFixed(2)]})]}),e.jsxs("button",{onClick:y,className:"px-3 py-2 text-left rounded-xl hover:bg-gray-700/50 transition-colors flex items-center space-x-2",children:[e.jsx(Fg,{className:"text-cyan-400"}),e.jsx("span",{children:"Dashboard"})]}),e.jsxs("button",{onClick:R,className:"px-3 py-2 text-left rounded-xl hover:bg-gray-700/50 transition-colors flex items-center space-x-2 text-red-400",children:[e.jsx(Ug,{}),e.jsx("span",{children:"Salir"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>S("/login"),className:"px-3 py-2 text-left rounded-xl hover:bg-gray-700/50 transition-colors",children:"Ingresar"}),e.jsx("button",{onClick:()=>S("/register"),className:"px-3 py-2 text-left rounded-xl bg-cyan-500 hover:bg-cyan-600 transition-colors",children:"Registrarse"})]})})]})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),e.jsxs("main",{className:"flex-grow",children:[e.jsx("section",{className:"py-6 px-4 text-center",children:e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white",children:"Tus plataformas favoritas al instante"})}),e.jsxs("section",{className:"relative flex justify-center items-center space-x-4 mt-6 px-4 sm:px-6",children:[e.jsx("div",{className:"hidden sm:block w-40 h-56 rounded-2xl overflow-hidden shadow-lg",children:e.jsx("img",{src:mr[(r-1+mr.length)%mr.length].src,alt:"Previous show",className:"w-full h-full object-cover opacity-50 transition-all duration-500 scale-95"})}),e.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-xl border border-gray-700/50",children:[e.jsx("img",{src:mr[r].src,alt:"Featured show",className:"w-48 h-64 sm:w-64 sm:h-80 object-cover transition-all duration-700 scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/80 to-transparent"}),e.jsx("h2",{className:"absolute bottom-0 w-full text-center text-base sm:text-lg font-bold text-white py-3 drop-shadow-lg",children:mr[r].title})]}),e.jsx("div",{className:"hidden sm:block w-40 h-56 rounded-2xl overflow-hidden shadow-lg",children:e.jsx("img",{src:mr[(r+1)%mr.length].src,alt:"Next show",className:"w-full h-full object-cover opacity-50 transition-all duration-500 scale-95"})}),e.jsx("button",{onClick:()=>a(v=>(v-1+mr.length)%mr.length),className:"absolute left-4 sm:left-6 text-2xl sm:text-3xl bg-gray-900/80 backdrop-blur-sm hover:bg-gray-700/80 px-3 py-2 sm:px-4 sm:py-2 rounded-full transition-all border border-gray-700/50",children:e.jsx(JC,{})}),e.jsx("button",{onClick:()=>a(v=>(v+1)%mr.length),className:"absolute right-4 sm:right-6 text-2xl sm:text-3xl bg-gray-900/80 backdrop-blur-sm hover:bg-gray-700/80 px-3 py-2 sm:px-4 sm:py-2 rounded-full transition-all border border-gray-700/50",children:e.jsx(XC,{})})]}),e.jsx("div",{className:"flex justify-center space-x-2 mt-4",children:mr.map((v,P)=>e.jsx("div",{className:`w-3 h-3 rounded-full ${P===r?"bg-cyan-400":"bg-gray-600"} transition-all duration-300`},P))}),e.jsxs("section",{className:"py-12 container mx-auto px-4",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Plataformas de Streaming"}),e.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto",children:"Acceso a todas tus plataformas favoritas en un solo lugar"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-8 sm:gap-10",children:OD.map((v,P)=>e.jsxs(h,{to:v.route,className:"group relative overflow-hidden rounded-2xl bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 p-4 flex flex-col items-center shadow-xl",style:{border:`2px solid ${v.color}`,backgroundColor:`${v.color}10`},children:[e.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 mb-4 flex items-center justify-center",children:e.jsx("img",{src:v.logo,alt:v.name,className:"max-h-full max-w-full object-contain group-hover:scale-105 transition-transform duration-300"})}),e.jsx("span",{className:"font-medium text-center text-gray-200",children:v.name})]},P))})]}),!i&&e.jsx("section",{className:"py-12 bg-gradient-to-r from-gray-900/80 to-blue-950/80",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"¿Listo para adquirir?"}),e.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto mb-6",children:"Únete a miles de usuarios satisfechos accediendo a todas tus plataformas favoritas en un solo lugar."}),e.jsx("button",{onClick:()=>S("/register"),className:"px-6 py-3 rounded-xl bg-cyan-500 hover:bg-cyan-600 transition-all duration-300 font-medium text-white",children:"Regístrate - Gratis por tiempo limitado"})]})})]}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},VD=()=>{const[s,t]=j.useState(""),[r,a]=j.useState(""),[i,o]=j.useState(null),[l,c]=j.useState(!1),x=mt(),p=async N=>{N.preventDefault(),o(null);try{const E=X(C,"users"),S=pe(E,fe("username","==",s)),R=await ct(S);if(R.empty){o("Nombre de usuario no encontrado.");return}const v=R.docs[0].data().email,z=(await d8(ze,v,r)).user;x("/")}catch{o("Usuario o contraseña incorrectos.")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsxs("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:[e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>c(!l),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(S0,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx("button",{onClick:()=>x("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>x("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})]}),l&&e.jsx("div",{className:"fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform translate-x-0 transition-transform duration-300 ease-in-out z-50 md:hidden",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"flex flex-col space-y-2 p-4",children:[e.jsx("button",{onClick:()=>x("/login"),className:"px-3 py-2 text-left rounded-xl hover:bg-gray-700/50 transition-colors",children:"Ingresar"}),e.jsx("button",{onClick:()=>x("/register"),className:"px-3 py-2 text-left rounded-xl bg-cyan-500 hover:bg-cyan-600 transition-colors",children:"Registrarse"})]})]})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>c(!1)})]}),e.jsx("main",{className:"flex-grow flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-md rounded-2xl shadow-xl p-8 w-full max-w-md border border-gray-700/50",children:[e.jsxs("h1",{className:"text-2xl font-bold text-white mb-6 text-center",children:["Black",e.jsx("span",{className:"text-cyan-400",children:"Streaming"})]}),e.jsx("p",{className:"text-sm text-center text-gray-400 mb-6",children:"Bienvenido de nuevo. Inicia sesión para continuar."}),i&&e.jsxs("div",{className:"mb-4 p-3 bg-red-900/80 border-l-4 border-red-500 rounded-xl flex items-center",children:[e.jsx(lt,{className:"mr-2 text-red-400"}),e.jsx("span",{className:"text-red-300",children:i})]}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de Usuario"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ve,{className:"absolute top-3 left-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Tu nombre de usuario",value:s,onChange:N=>t(N.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(cN,{className:"absolute top-3 left-3 text-gray-400"}),e.jsx("input",{type:"password",placeholder:"••••••••",value:r,onChange:N=>a(N.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",required:!0})]})]}),e.jsx("button",{type:"submit",className:"w-full py-3 bg-cyan-500 hover:bg-cyan-600 text-white font-medium rounded-xl transition-all duration-300",children:"Iniciar Sesión"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(h,{to:"/register",className:"text-gray-400 hover:text-cyan-400 flex items-center justify-center transition-all",children:[e.jsx(oN,{className:"mr-1"})," ¿No tienes una cuenta? Regístrate"]})})]})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},BD=({isOpen:s,message:t,type:r,onClose:a})=>s?e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:`bg-gray-800/90 backdrop-blur-md p-6 rounded-2xl shadow-2xl max-w-sm w-full border transform transition-all duration-300 ${r==="success"?"border-green-500 scale-100":"border-red-500 scale-100"}`,children:[e.jsxs("div",{className:"flex items-center mb-4",children:[r==="success"?e.jsx(go,{className:"text-green-400 text-2xl mr-2"}):e.jsx(lt,{className:"text-red-400 text-2xl mr-2"}),e.jsx("h3",{className:`text-lg font-bold ${r==="success"?"text-green-400":"text-red-400"}`,children:r==="success"?"Éxito":"Error"})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("button",{onClick:a,className:`w-full py-2 rounded-xl font-medium transition-all duration-300 ${r==="success"?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:"Cerrar"})]})}):null,FD=()=>{const[s,t]=j.useState(""),[r,a]=j.useState(""),[i,o]=j.useState(""),[l,c]=j.useState("user"),[x,p]=j.useState(""),[N,E]=j.useState(!1),[S,R]=j.useState({isOpen:!1,message:"",type:"success"}),[y,V]=j.useState(!1),v=mt(),P=async z=>{z.preventDefault(),R({isOpen:!1,message:"",type:"success"}),E(!0);try{if(!s||s.length<3)throw new Error("El nombre de usuario debe tener al menos 3 caracteres.");if(!r||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r))throw new Error("Por favor, ingresa un correo electrónico válido.");if(!i||i.length<6)throw new Error("La contraseña debe tener al menos 6 caracteres.");if(!["user","affiliate","provider"].includes(l))throw new Error("Rol no válido.");await Er(U(C,"pendingRegistrations",r),{username:s,email:r,password:i,role:l,status:"pending",referrerCode:x||null,createdAt:new Date().toISOString()}),R({isOpen:!0,message:"Tu solicitud de registro ha sido enviada y está pendiente de aprobación.",type:"success"}),setTimeout(()=>{v("/login")},2e3)}catch(M){console.error("Error al registrar la solicitud:",M.message),R({isOpen:!0,message:M.message||"Error al enviar la solicitud de registro. Por favor, inténtalo de nuevo.",type:"error"})}finally{E(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsxs("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:[e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>V(!y),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(S0,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx("button",{onClick:()=>v("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:textcyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>v("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})]}),y&&e.jsx("div",{className:"fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform translate-x-0 transition-transform duration-300 ease-in-out z-50 md:hidden",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>V(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"flex flex-col space-y-2 p-4",children:[e.jsx("button",{onClick:()=>v("/login"),className:"px-3 py-2 text-left rounded-xl hover:bg-gray-700/50 transition-colors",children:"Ingresar"}),e.jsx("button",{onClick:()=>v("/register"),className:"px-3 py-2 text-left rounded-xl bg-cyan-500 hover:bg-cyan-600 transition-colors",children:"Registrarse"})]})]})}),y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>V(!1)})]}),e.jsx("main",{className:"flex-grow flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-md rounded-2xl shadow-xl p-8 w-full max-w-md border border-gray-700/50",children:[e.jsxs("h1",{className:"text-2xl font-bold text-white mb-6 text-center",children:["Black",e.jsx("span",{className:"text-cyan-400",children:"Streaming"})]}),e.jsx("p",{className:"text-sm text-center text-gray-400 mb-6",children:"Regístrate para acceder al sistema."}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de Usuario"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ve,{className:"absolute top-3 left-3 text-gray-400"}),e.jsx("input",{type:"text",value:s,onChange:z=>t(z.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-700/50 border border-gray-600/50 text-white focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Elige un nombre de usuario",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo Electrónico"}),e.jsxs("div",{className:"relative",children:[e.jsx(tI,{className:"absolute top-3 left-3 text-gray-400"}),e.jsx("input",{type:"email",value:r,onChange:z=>a(z.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-700/50 border border-gray-600/50 text-white focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Tu correo electrónico",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(cN,{className:"absolute top-3 left-3 text-gray-400"}),e.jsx("input",{type:"password",value:i,onChange:z=>o(z.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-700/50 border border-gray-600/50 text-white focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Elige una contraseña",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Rol"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:l,onChange:z=>c(z.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 border border-gray-600/50 text-white focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all appearance-none",children:[e.jsx("option",{value:"user",children:"Usuario"}),e.jsx("option",{value:"affiliate",children:"Afiliado"}),e.jsx("option",{value:"provider",children:"Proveedor"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Código de Referido (opcional)"}),e.jsx("input",{type:"text",value:x,onChange:z=>p(z.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 border border-gray-600/50 text-white focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ingresa un código de referido (si tienes)"})]}),e.jsx("button",{type:"submit",disabled:N,className:`w-full py-3 rounded-xl font-medium transition-all duration-300 ${N?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:N?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white mr-2",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h-8z"})]}),"Registrando..."]}):"Registrarse"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(h,{to:"/login",className:"text-gray-400 hover:text-cyan-400 flex items-center justify-center transition-all",children:[e.jsx(oN,{className:"mr-1"})," ¿Ya tienes una cuenta? Inicia sesión"]})})]})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})}),e.jsx(BD,{isOpen:S.isOpen,message:S.message,type:S.type,onClose:()=>R({isOpen:!1,message:"",type:"success"})})]})},UD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState(""),[i,o]=j.useState([]),[l,c]=j.useState(""),[x,p]=j.useState(""),[N,E]=j.useState(0),[S,R]=j.useState(null),[y,V]=j.useState("inicio"),[v,P]=j.useState([]),[z,M]=j.useState({}),[H,Q]=j.useState(!0),[W,D]=j.useState(null),[d,$]=j.useState({show:!1,message:"",title:""}),[B,J]=j.useState(""),_=mt(),q=(K,ee)=>{$({show:!0,title:K,message:ee})},Se=()=>{$({show:!1,message:"",title:""})};j.useEffect(()=>{(async()=>{try{const ee=pe(X(C,"products")),n=await ct(ee),g={};n.forEach(m=>{g[m.id]=m.data()}),M(g)}catch(ee){console.error("Error fetching products:",ee),D("Error al cargar productos")}})()},[]);const Oe=async K=>{var ee,n,g,m,T,F,Z;try{Q(!0),D(null);const w=parseFloat(K.price)||0;if(N<w){D("Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const L=parseInt(K.durationDays)||30,O=Yt.now(),b=O.toDate(),f=new Date(b.getTime()+L*24*60*60*1e3),I=f.toISOString(),oe={customerId:S,customerName:((ee=K.client)==null?void 0:ee.customerName)||"Cliente desconocido",customerEmail:((n=K.client)==null?void 0:n.email)||x,phoneNumber:((g=K.client)==null?void 0:g.phone)||"No especificado",productName:K.productName||"Producto sin nombre",type:K.category||"netflix",price:w,accountDetails:{email:((m=K.account)==null?void 0:m.email)||"No especificado",password:((T=K.account)==null?void 0:T.password)||"No especificado",profile:((F=K.account)==null?void 0:F.profile)||"No especificado",pin:((Z=K.account)==null?void 0:Z.pin)||"No especificado"},provider:K.provider||"Proveedor desconocido",providerId:K.providerId||"",providerPhone:K.providerPhone||K.providerWhatsapp||"51999999999",status:"completed",createdAt:O,saleDate:O,startDate:O,endDate:I,durationDays:L,renewedAt:O,renewable:K.renewable!==void 0?K.renewable:!0},ae=await Mn(X(C,"sales"),oe),ie=U(C,"users",S);await xs(ie,{balance:N-w}),E(Y=>Y-w),P(Y=>[...Y,{...oe,id:ae.id,saleDate:b,startDate:b,endDate:f,account:oe.accountDetails,client:{customerName:oe.customerName,email:oe.customerEmail,phone:oe.phoneNumber},orderId:`BS-${ae.id.slice(0,8).toUpperCase()}`,renewable:oe.renewable}]),q("Éxito","¡Pedido renovado exitosamente!")}catch(w){console.error("Error al renovar el pedido:",w),D("Error al renovar el pedido: "+w.message)}finally{Q(!1)}},Ee=async()=>{try{await Po(ze),_("/")}catch(K){console.error("Error al cerrar sesión:",K),D("Error al cerrar sesión")}};j.useEffect(()=>{const K=Nt(ze,ee=>{ee?(R(ee.uid),p(ee.email||"No especificado"),Q(!1)):_("/login")});return()=>K()},[_]),j.useEffect(()=>{if(!S)return;(async()=>{try{const ee=U(C,"users",S);return we(ee,g=>{if(g.exists()){const m=g.data();c(m.username||"Usuario"),p(m.email||"No especificado"),E(Number(m.balance)||0)}else D("Usuario no encontrado")})}catch(ee){console.error("Error al obtener datos del usuario:",ee),D("Error al cargar datos del usuario")}})()},[S]),j.useEffect(()=>{if(!S)return;(()=>{const ee=pe(X(C,"sales"),fe("customerId","==",S)),n=we(ee,m=>{if(m.empty){P([]),Q(!1);return}const T=m.docs.map(F=>{var ke,Pe,ye,Ce,Ft,bt,ot,Zt,Mt,Is,$s;const Z=F.data(),L=((Pe=(ke=Z.saleDate)==null?void 0:ke.toDate)==null?void 0:Pe.call(ke))||((Ce=(ye=Z.createdAt)==null?void 0:ye.toDate)==null?void 0:Ce.call(ye))||new Date;let O=(bt=(Ft=Z.startDate)==null?void 0:Ft.toDate)==null?void 0:bt.call(Ft),b=O||L,f=!1;O||(f=!0);const I=Z.durationDays||30;let oe;Z.endDate?oe=new Date(Z.endDate):(oe=new Date(b.getTime()+I*24*60*60*1e3),f=!0),f&&xs(U(C,"sales",F.id),{startDate:O||Yt.fromDate(L),endDate:oe.toISOString(),durationDays:I}).catch(zs=>{console.error("Error al actualizar startDate/endDate en Firestore:",zs)});const ae=new Date,ie=oe.getTime()-b.getTime(),Y=ae.getTime()-b.getTime(),te=oe.getTime()-ae.getTime(),Be=Math.ceil(ie/(1e3*60*60*24)),me=Math.max(0,Math.ceil(te/(1e3*60*60*24))),se=Math.ceil(Y/(1e3*60*60*24)),ce=Be>0?se/Be*100:100,Ie=((ot=z[Z.providerId])==null?void 0:ot.terms)||"No se especificaron términos y condiciones.";return{id:F.id,productName:Z.productName||"Producto sin nombre",category:Z.type||"netflix",price:parseFloat(Z.price)||0,provider:Z.provider||"No especificado",providerId:Z.providerId||"",providerPhone:Z.providerPhone||Z.providerWhatsapp||"51999999999",providerWhatsapp:Z.providerPhone||Z.providerWhatsapp||"51999999999",status:Z.status||"completed",saleDate:L,startDate:b,endDate:oe,durationDays:I,daysRemaining:me,totalDays:Be,timeElapsedPercentage:ce,account:{email:((Zt=Z.accountDetails)==null?void 0:Zt.email)||"No especificado",password:((Mt=Z.accountDetails)==null?void 0:Mt.password)||"No especificado",profile:((Is=Z.accountDetails)==null?void 0:Is.profile)||"No especificado",pin:(($s=Z.accountDetails)==null?void 0:$s.pin)||"No especificado"},client:{customerName:Z.customerName||"Cliente desconocido",email:Z.customerEmail||"No especificado",phone:Z.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BS-${F.id.slice(0,8).toUpperCase()}`,termsAndConditions:Ie,renewable:Z.renewable!==void 0?Z.renewable:!0}});P(T),Q(!1)},m=>{console.error("Error al obtener pedidos:",m),D("Error al cargar pedidos: "+m.message),Q(!1)}),g=setInterval(()=>{P(m=>m.map(T=>{const F=new Date,Z=new Date(T.endDate).getTime()-new Date(T.startDate).getTime(),w=F.getTime()-new Date(T.startDate).getTime(),L=new Date(T.endDate).getTime()-F.getTime(),O=Math.ceil(Z/(1e3*60*60*24)),b=Math.max(0,Math.ceil(L/(1e3*60*60*24))),f=Math.ceil(w/(1e3*60*60*24)),I=O>0?f/O*100:100;return{...T,daysRemaining:b,totalDays:O,timeElapsedPercentage:I}}))},6e4);return()=>{n(),clearInterval(g)}})()},[S,z]),j.useEffect(()=>{if(!S)return;(()=>{const ee=pe(X(C,"pendingTopUps"),fe("userId","==",S));return we(ee,g=>{const m=g.docs.map(T=>{var F,Z;return{id:T.id,...T.data(),date:((Z=(F=T.data().requestedAt)==null?void 0:F.toDate)==null?void 0:Z.call(F))||new Date,amount:parseFloat(T.data().amount)||0}});o(m)},g=>{console.error("Error al obtener recargas:",g),D("Error al cargar recargas")})})()},[S]);const Te=async()=>{try{if(!r||isNaN(r)){D("Ingrese un monto válido");return}const K=parseFloat(r);if(K<10){D("El monto mínimo de recarga es S/ 10.00");return}await Mn(X(C,"pendingTopUps"),{userId:S,username:l,amount:K,status:"pendiente",requestedAt:qt()}),a(""),q("Éxito","Solicitud de recarga enviada correctamente")}catch(K){console.error("Error al solicitar recarga:",K),D("Error al enviar solicitud de recarga")}},ue=K=>{if(!K)return"No especificada";try{const ee=K instanceof Date?K:new Date(K);return isNaN(ee.getTime())?"Fecha inválida":ee.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(ee){return console.error("Error formatting date:",ee),"Fecha inválida"}},ge=async()=>{try{if(!B){D("Por favor, ingrese una nueva contraseña");return}const K=ze.currentUser;K&&(await Ap(K,B),J(""),q("Éxito","Contraseña actualizada correctamente"))}catch(K){console.error("Error al actualizar la contraseña:",K),D("Error al actualizar la contraseña: "+K.message)}},xe=()=>{if(H)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(W)return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(lt,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:W}),e.jsx("button",{onClick:()=>D(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(y){case"inicio":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:l})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Información de cuenta"}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:l})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(qr,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:x})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Saldo disponible"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",N.toFixed(2)]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Pedidos activos"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:v.filter(K=>new Date(K.endDate)>new Date&&K.status==="completed").length})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Pedidos recientes"}),v.slice(0,3).map((K,ee)=>{const n=new Date(K.endDate)>new Date&&K.status==="completed",g=K.status==="pending";return e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:K.productName}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${g?"bg-yellow-900/80 text-yellow-400":n?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:g?"A pedido":n?"Activo":"Expirado"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Vence: ",ue(K.endDate)]})]},ee)}),v.length===0&&e.jsx("p",{className:"text-gray-400 py-2",children:"No tienes pedidos recientes"}),v.length>3&&e.jsx("button",{onClick:()=>V("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]})]});case"recargar":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Recargar saldo"}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),e.jsx("input",{type:"number",value:r,onChange:K=>a(K.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mínimo S/ 10.00",min:"10",step:"0.01"})]}),e.jsx("button",{onClick:Te,disabled:!r||parseFloat(r)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${r&&parseFloat(r)>=10?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"Solicitar recarga"})]}),e.jsxs("div",{className:"mt-6 bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50 max-w-md mx-auto",children:[e.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(hs,{className:"mr-2"})," ¿Cómo realizar tu recarga?"]}),e.jsxs("p",{className:"text-gray-300 mb-2",children:["Realiza tu pago mediante ",e.jsx("span",{className:"font-semibold text-white",children:"Yape"})," al número:"]}),e.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"📱 940505969"}),e.jsx("p",{className:"text-gray-300 mb-3",children:"Una vez realizado el pago, por favor contáctanos vía WhatsApp al mismo número para confirmar tu recarga."}),e.jsxs("a",{href:`https://wa.me/51940505969?text=${encodeURIComponent("Hola 😊, he realizado una recarga a través de Yape. Por favor, confirma mi pago.")}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300",children:[e.jsx(qr,{className:"mr-2"})," Confirmar por WhatsApp"]})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),i.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:i.map((K,ee)=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",K.amount.toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${K.status==="aprobado"?"bg-green-900/80 text-green-400":K.status==="pendiente"?"bg-yellow-900/80 text-yellow-400":"bg-red-900/80 text-red-400"}`,children:K.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-400",children:ue(K.date)})]},ee))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(hs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-400",children:"No hay recargas registradas"})]})]})]});case"pedidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Mis pedidos"}),v.length>0?e.jsx("div",{className:"space-y-6",children:v.map((K,ee)=>{var f,I,oe,ae,ie,Y,te,Be,me,se,ce,Ie;const n=parseFloat(K.price)||0,g=new Date(K.endDate)>new Date&&K.status==="completed",m=K.status==="pending",T=K.daysRemaining||0,F=K.timeElapsedPercentage||0;let Z="text-green-400";F>70&&F<=90?Z="text-yellow-400":F>90&&(Z="text-red-400");const w=m?e.jsx(It,{className:"text-yellow-400"}):g?e.jsx(go,{className:"text-green-400"}):e.jsx(lt,{className:"text-red-400"}),L=encodeURIComponent(`*Consulta sobre Pedido - ${K.productName||"Sin nombre"}*

*N° Pedido:* ${K.orderId||"No especificado"}
*Producto:* ${K.productName||"No especificado"}
*Precio:* S/ ${n.toFixed(2)}
*Estado:* ${m?"A pedido":g?"Activo":"Expirado"}
*Fecha de Inicio:* ${ue(K.startDate)}
*Fecha de Vencimiento:* ${ue(K.endDate)}

`+(m?`Hola 😊, he comprado un producto a pedido (${K.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),O=encodeURIComponent(`😊 Estimado/a ${((f=K.client)==null?void 0:f.customerName)||"Cliente"} 😊

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📌 Tipo: ${K.productName||"Sin nombre"}.
🔢 Código: ${K.orderId||"No especificado"}
`+(m?"":`📧 Correo: ${((I=K.account)==null?void 0:I.email)||"No especificado"}
🔐 Contraseña: ${((oe=K.account)==null?void 0:oe.password)||"No especificado"}
👤 Perfil: ${((ae=K.account)==null?void 0:ae.profile)||"No especificado"}
📌 PIN: ${((ie=K.account)==null?void 0:ie.pin)||"No especificado"}
`)+`🌐 URL: Sin URL
📅 Fecha de creación: ${ue(K.startDate)}
📅 Fecha de vencimiento: ${ue(K.endDate)}
🏁 Días contratados: ${K.durationDays||30} días.

`+(m?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:"")+`*Términos y Condiciones:*
${K.termsAndConditions||"No se especificaron términos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),b=K.providerPhone?K.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[w,e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:K.productName||"Producto sin nombre"}),K.orderId&&e.jsxs("p",{className:"text-xs text-gray-400",children:["N° Pedido: ",K.orderId]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",n.toFixed(2)]}),e.jsx("p",{className:`text-xs font-medium ${m?"text-yellow-400":Z}`,children:m?"Pendiente de activación":`${T} día${T===1?"":"s"} restante${T===1?"":"s"}`})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ve,{className:"mr-2"})," Detalles de la Cuenta"]}),e.jsx("div",{className:"space-y-2 text-gray-300",children:m?e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Usuario:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white break-all",children:((Y=K.account)==null?void 0:Y.email)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),e.jsx("span",{className:"block text-white break-all",children:((te=K.account)==null?void 0:te.password)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:((Be=K.account)==null?void 0:Be.profile)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),e.jsx("span",{className:"block text-white",children:((me=K.account)==null?void 0:me.pin)||"No especificado"})]})]})})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ge,{className:"mr-2"})," Información del Pedido"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"block text-white",children:K.provider||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono del Proveedor:"}),e.jsx("span",{className:"block text-white",children:K.providerPhone||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Estado:"}),e.jsx("span",{className:`block px-2 py-1 text-xs rounded-full ${m?"bg-yellow-900/80 text-yellow-400":g?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:m?"A pedido":g?"Activo":"Expirado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Método de Pago:"}),e.jsx("span",{className:"block text-white",children:"BlackStreaming"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de inicio:"}),e.jsx("span",{className:"block text-white",children:ue(K.startDate)})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de vencimiento:"}),e.jsx("span",{className:"block text-white",children:ue(K.endDate)})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Días restantes:"}),e.jsx("span",{className:`block ${Z}`,children:T})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ve,{className:"mr-2"})," Información del Cliente"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),e.jsx("span",{className:"block text-white",children:((se=K.client)==null?void 0:se.customerName)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono:"}),e.jsx("span",{className:"block text-white",children:((ce=K.client)==null?void 0:ce.phone)||"No especificado"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("a",{href:`https://wa.me/51${b}?text=${L}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(qr,{size:18})," Contactar Proveedor"]}),K.renewable&&e.jsxs("button",{onClick:()=>Oe(K),disabled:H,className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 ${H?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:[e.jsx(dN,{size:18})," Renovar Pedido"]}),((Ie=K.client)==null?void 0:Ie.phone)&&e.jsxs("a",{href:`https://wa.me/${K.client.phone.replace(/^\+/,"")}?text=${O}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(qr,{size:18})," Contactar Cliente por WhatsApp"]})]})]})]},ee)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ut,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes pedidos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Realiza tu primer pedido en nuestra tienda"})]})]});case"configuracion":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuración de cuenta"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsx("input",{type:"text",value:l,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico"}),e.jsx("input",{type:"email",value:x,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Cambiar contraseña"}),e.jsx("input",{type:"password",value:B,onChange:K=>J(K.target.value),placeholder:"Nueva contraseña",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),e.jsx("button",{onClick:ge,disabled:!B,className:`w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium mt-4 transition-all duration-300 ${B?"":"opacity-50 cursor-not-allowed"}`,children:"Guardar cambios"})]}),e.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:e.jsxs("button",{onClick:Ee,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[e.jsx(pt,{})," Cerrar sesión"]})})]});default:return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(lt,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),e.jsx("button",{onClick:()=>V("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!s),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:e.jsx(kt,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${s?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(le,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:l.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:l}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:x})]})]}),e.jsxs("nav",{className:"flex-1 space-y-1",children:[e.jsxs("button",{onClick:()=>{V("inicio"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${y==="inicio"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(Pu,{})," ",e.jsx("span",{children:"Inicio"})]}),e.jsxs("button",{onClick:()=>{V("recargar"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${y==="recargar"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(hs,{})," ",e.jsx("span",{children:"Recargar saldo"})]}),e.jsxs("button",{onClick:()=>{V("pedidos"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${y==="pedidos"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(ut,{})," ",e.jsx("span",{children:"Mis pedidos"})]}),e.jsxs("button",{onClick:()=>{V("configuracion"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${y==="configuracion"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(yo,{})," ",e.jsx("span",{children:"Configuración"})]})]}),e.jsx("div",{className:"mt-auto pt-4",children:e.jsxs("button",{onClick:Ee,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx(pt,{})," ",e.jsx("span",{children:"Cerrar sesión"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 sm:p-6 pt-20 md:pt-6",children:xe()}),d.show&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:d.title}),e.jsx("button",{onClick:Se,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(le,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:d.message}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:Se,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>t(!1)})]})},$D=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState("inicio"),[i,o]=j.useState(""),[l,c]=j.useState(""),[x,p]=j.useState(""),[N,E]=j.useState(""),[S,R]=j.useState([]),[y,V]=j.useState(0),[v,P]=j.useState(0),[z,M]=j.useState(null),[H,Q]=j.useState(!0),[W,D]=j.useState(null),[d,$]=j.useState([]),[B,J]=j.useState(!1),[_,q]=j.useState(""),[Se,Oe]=j.useState(""),[Ee,Te]=j.useState([]),[ue,ge]=j.useState([]),[xe,K]=j.useState({}),[ee,n]=j.useState({show:!1,message:"",title:""}),g=mt(),m=(I,oe)=>{n({show:!0,title:I,message:oe})},T=()=>{n({show:!1,message:"",title:""})};j.useEffect(()=>{const I=Nt(ze,oe=>{oe?(M(oe.uid),c(oe.email||"No especificado"),Q(!1)):g("/login")});return()=>I()},[g]),j.useEffect(()=>{(async()=>{try{const oe=pe(X(C,"products")),ae=await ct(oe),ie={};ae.forEach(Y=>{ie[Y.id]=Y.data()}),K(ie)}catch(oe){console.error("Error fetching products:",oe),D("Error al cargar productos")}})()},[]),j.useEffect(()=>{(async()=>{if(z)try{const oe=U(C,"users",z),ae=await Ue(oe);if(ae.exists()){const te=ae.data();o(te.username||"Usuario"),P(Number(te.balance)||0)}const ie=U(C,"affiliates",z),Y=await Ue(ie);if(Y.exists()){const te=Y.data();E(te.affiliateCode||""),V(Number(te.earnings)||0)}else{const te=`AFF-${Math.random().toString(36).substring(2,8).toUpperCase()}`;await Er(ie,{username:i||"Nuevo Afiliado",email:l,affiliateCode:te,earnings:0,createdAt:qt(),updatedAt:qt()}),E(te)}}catch(oe){console.error("Error al manejar datos:",oe),D("Error al cargar datos")}finally{Q(!1)}})()},[z,l,i]),j.useEffect(()=>{if(!z)return;const I=X(C,"pendingTopUps"),oe=pe(I,fe("userId","==",z)),ae=we(oe,async ie=>{const Y=ie.docs.map(te=>{var Be;return{id:te.id,...te.data(),date:((Be=te.data().requestedAt)==null?void 0:Be.toDate())||new Date,amount:parseFloat(te.data().amount)||0}});Te(Y);for(const te of Y)if(te.status==="aprobado"&&!te.processed)try{const Be=U(C,"users",z),me=await Ue(Be);if(me.exists()){const ce=(Number(me.data().balance)||0)+Number(te.amount||0);await xs(Be,{balance:ce,updatedAt:qt()}),P(ce),await xs(U(C,"pendingTopUps",te.id),{processed:!0,updatedAt:qt()})}}catch(Be){console.error("Error al actualizar saldo:",Be),D("Error al actualizar saldo tras aprobación de recarga")}},ie=>{console.error("Error al escuchar recargas:",ie),D("Error al cargar recargas")});return()=>ae()},[z]),j.useEffect(()=>{if(!N)return;const I=pe(X(C,"users"),fe("referrerCode","==",N),kh("createdAt","desc"),St(5)),oe=we(I,ae=>{const ie=ae.docs.map(Y=>{var te;return{id:Y.id,...Y.data(),joinDate:((te=Y.data().createdAt)==null?void 0:te.toDate())||new Date}});$(ie)});return()=>oe()},[N]),j.useEffect(()=>{if(!N)return;const I=pe(X(C,"users"),fe("referrerCode","==",N)),oe=we(I,ae=>{const ie=ae.docs.map(Y=>{var te;return{id:Y.id,...Y.data(),joinDate:((te=Y.data().createdAt)==null?void 0:te.toDate())||new Date}});R(ie)});return()=>oe()},[N]),j.useEffect(()=>{if(!z)return;(()=>{const oe=pe(X(C,"sales"),fe("customerId","==",z)),ae=we(oe,Y=>{if(Y.empty){ge([]),Q(!1);return}const te=Y.docs.map(Be=>{var Zs,ur,xr,jn,ss,Or,Et,qs,vn,Lr,ne;const me=Be.data(),ce=((ur=(Zs=me.saleDate)==null?void 0:Zs.toDate)==null?void 0:ur.call(Zs))||((jn=(xr=me.createdAt)==null?void 0:xr.toDate)==null?void 0:jn.call(xr))||new Date;let Ie=(Or=(ss=me.startDate)==null?void 0:ss.toDate)==null?void 0:Or.call(ss),ke=Ie||ce,Pe=!1;Ie||(Pe=!0);const ye=me.durationDays||30;let Ce;me.endDate?Ce=new Date(me.endDate):(Ce=new Date(ke.getTime()+ye*24*60*60*1e3),Pe=!0),Pe&&xs(U(C,"sales",Be.id),{startDate:Ie||Yt.fromDate(ce),endDate:Ce.toISOString(),durationDays:ye}).catch(Ne=>{console.error("Error al actualizar startDate/endDate en Firestore:",Ne)});const Ft=new Date,bt=Ce.getTime()-ke.getTime(),ot=Ft.getTime()-ke.getTime(),Zt=Ce.getTime()-Ft.getTime(),Mt=Math.ceil(bt/(1e3*60*60*24)),Is=Math.max(0,Math.ceil(Zt/(1e3*60*60*24))),$s=Math.ceil(ot/(1e3*60*60*24)),zs=Mt>0?$s/Mt*100:100,zr=((Et=xe[me.providerId])==null?void 0:Et.terms)||"No se especificaron términos y condiciones.";return{id:Be.id,productName:me.productName||"Producto sin nombre",category:me.type||"netflix",price:parseFloat(me.price)||0,provider:me.provider||"No especificado",providerId:me.providerId||"",providerPhone:me.providerPhone||me.providerWhatsapp||"51999999999",providerWhatsapp:me.providerPhone||me.providerWhatsapp||"51999999999",status:me.status||"completed",saleDate:ce,startDate:ke,endDate:Ce,durationDays:ye,daysRemaining:Is,totalDays:Mt,timeElapsedPercentage:zs,account:{email:((qs=me.accountDetails)==null?void 0:qs.email)||"No especificado",password:((vn=me.accountDetails)==null?void 0:vn.password)||"No especificado",profile:((Lr=me.accountDetails)==null?void 0:Lr.profile)||"No especificado",pin:((ne=me.accountDetails)==null?void 0:ne.pin)||"No especificado"},client:{name:me.customerName||"Cliente desconocido",email:me.customerEmail||"No especificado",phone:me.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BS-${Be.id.slice(0,8).toUpperCase()}`,termsAndConditions:zr,renewable:me.renewable!==void 0?me.renewable:!0}});ge(te),Q(!1)},Y=>{console.error("Error al obtener pedidos:",Y),D("Error al cargar pedidos: "+Y.message),Q(!1)}),ie=setInterval(()=>{ge(Y=>Y.map(te=>{const Be=new Date,me=new Date(te.endDate).getTime()-new Date(te.startDate).getTime(),se=Be.getTime()-new Date(te.startDate).getTime(),ce=new Date(te.endDate).getTime()-Be.getTime(),Ie=Math.ceil(me/(1e3*60*60*24)),ke=Math.max(0,Math.ceil(ce/(1e3*60*60*24))),Pe=Math.ceil(se/(1e3*60*60*24)),ye=Ie>0?Pe/Ie*100:100;return{...te,daysRemaining:ke,totalDays:Ie,timeElapsedPercentage:ye}}))},6e4);return()=>{ae(),clearInterval(ie)}})()},[z,xe]);const F=async()=>{try{if(!Se||isNaN(Se)){D("Ingrese un monto válido");return}const I=parseFloat(Se);if(I<10){D("El monto mínimo de recarga es S/ 10.00");return}await Mn(X(C,"pendingTopUps"),{userId:z,username:i,amount:I,status:"pendiente",requestedAt:qt(),processed:!1}),Oe(""),m("Éxito","Solicitud de recarga enviada correctamente")}catch(I){console.error("Error al solicitar recarga:",I),D("Error al enviar solicitud de recarga")}},Z=async I=>{var oe,ae,ie,Y,te,Be,me;try{Q(!0),D(null);const se=parseFloat(I.price)||0;if(v<se){D("Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const ce=parseInt(I.durationDays)||30,Ie=Yt.now(),ke=Ie.toDate(),Pe=new Date(ke.getTime()+ce*24*60*60*1e3),ye=Pe.toISOString(),Ce={customerId:z,customerName:((oe=I.client)==null?void 0:oe.name)||"Cliente desconocido",customerEmail:((ae=I.client)==null?void 0:ae.email)||l,phoneNumber:((ie=I.client)==null?void 0:ie.phone)||"No especificado",productName:I.productName||"Producto sin nombre",type:I.category||"netflix",price:se,accountDetails:{email:((Y=I.account)==null?void 0:Y.email)||"No especificado",password:((te=I.account)==null?void 0:te.password)||"No especificado",profile:((Be=I.account)==null?void 0:Be.profile)||"No especificado",pin:((me=I.account)==null?void 0:me.pin)||"No especificado"},provider:I.provider||"Proveedor desconocido",providerId:I.providerId||"",providerPhone:I.providerPhone||I.providerWhatsapp||"51999999999",status:"completed",createdAt:Ie,saleDate:Ie,startDate:Ie,endDate:ye,durationDays:ce,renewedAt:Ie,renewable:I.renewable!==void 0?I.renewable:!0},Ft=await Mn(X(C,"sales"),Ce),bt=U(C,"users",z);await xs(bt,{balance:v-se}),P(ot=>ot-se),ge(ot=>{var Zt;return[...ot,{...Ce,id:Ft.id,saleDate:ke,startDate:ke,endDate:Pe,account:Ce.accountDetails,client:{name:Ce.customerName,email:Ce.customerEmail,phone:Ce.phoneNumber},orderId:`BS-${Ft.id.slice(0,8).toUpperCase()}`,renewable:Ce.renewable,daysRemaining:ce,totalDays:ce,timeElapsedPercentage:0,termsAndConditions:((Zt=xe[Ce.providerId])==null?void 0:Zt.terms)||"No se especificaron términos y condiciones."}]}),m("Éxito","¡Pedido renovado exitosamente!")}catch(se){console.error("Error al renovar el pedido:",se),D("Error al renovar el pedido: "+se.message)}finally{Q(!1)}},w=()=>{N&&(navigator.clipboard.writeText(N),J(!0),setTimeout(()=>J(!1),2e3))},L=I=>{if(!I)return"No especificada";try{const oe=I instanceof Date?I:new Date(I);return isNaN(oe.getTime())?"Fecha inválida":oe.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(oe){return console.error("Error formatting date:",oe),"Fecha inválida"}},O=async()=>{try{await Po(ze),g("/")}catch(I){console.error("Error al cerrar sesión:",I),D("Error al cerrar sesión")}},b=async()=>{try{if(!x){D("Por favor, ingrese una nueva contraseña");return}const I=ze.currentUser;I&&(await Ap(I,x),p(""),m("Éxito","Contraseña actualizada correctamente"))}catch(I){console.error("Error al actualizar la contraseña:",I),D("Error al actualizar la contraseña: "+I.message)}},f=()=>{if(H)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(W)return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(lt,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:W}),e.jsx("button",{onClick:()=>D(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(r){case"inicio":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:i})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Información de cuenta"}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:i})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(qr,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:l})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Saldo disponible"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",v.toFixed(2)]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Ganancias totales"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",y.toFixed(2)]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tu código de afiliado"}),e.jsxs("button",{onClick:w,disabled:!N,className:`flex items-center gap-2 px-3 py-1 rounded-xl transition-all duration-300 ${N?"bg-cyan-900/80 text-cyan-400 hover:bg-cyan-800/80":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:[e.jsx(eI,{size:16}),B?"¡Copiado!":"Copiar"]})]}),e.jsx("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 border border-gray-600/50",children:e.jsx("p",{className:"text-2xl font-bold text-center tracking-wider text-white",children:N||"Generando código..."})}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Comparte este código con tus amigos para que se registren y ganes comisiones por sus compras."}),e.jsxs("div",{className:"bg-cyan-900/30 p-4 rounded-xl border border-cyan-800/50",children:[e.jsx("h4",{className:"font-medium text-cyan-400 mb-2",children:"Enlace de afiliado:"}),e.jsx("p",{className:"text-sm bg-gray-800/50 p-2 rounded-xl border border-gray-600/50 overflow-x-auto text-gray-300",children:N?`https://blackkstreaming.com/registro?ref=${N}`:"Generando enlace..."})]})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recargar saldo"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),e.jsx("input",{type:"number",value:Se,onChange:I=>Oe(I.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mínimo S/ 10.00",min:"10",step:"0.01"})]}),e.jsx("button",{onClick:F,disabled:!Se||parseFloat(Se)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${Se&&parseFloat(Se)>=10?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"Solicitar recarga"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Pedidos recientes"}),ue.slice(0,3).map((I,oe)=>{const ae=new Date(I.endDate)>new Date&&I.status==="completed",ie=I.status==="pending";return e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:I.productName}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${ie?"bg-yellow-900/80 text-yellow-400":ae?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:ie?"A pedido":ae?"Activo":"Expirado"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Vence: ",L(I.endDate)]})]},oe)}),ue.length===0&&e.jsx("p",{className:"text-gray-400 py-2",children:"No tienes pedidos recientes"}),ue.length>3&&e.jsx("button",{onClick:()=>a("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]})]})]});case"recargas":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Recargar saldo"}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),e.jsx("input",{type:"number",value:Se,onChange:I=>Oe(I.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mínimo S/ 10.00",min:"10",step:"0.01"})]}),e.jsx("button",{onClick:F,disabled:!Se||parseFloat(Se)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${Se&&parseFloat(Se)>=10?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"Solicitar recarga"}),e.jsxs("div",{className:"mt-6 bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(hs,{className:"mr-2"})," ¿Cómo realizar tu recarga?"]}),e.jsxs("p",{className:"text-gray-300 mb-2",children:["Realiza tu pago mediante ",e.jsx("span",{className:"font-semibold text-white",children:"Yape"})," al número:"]}),e.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"📱 940505969"}),e.jsx("p",{className:"text-gray-300 mb-3",children:"Una vez realizado el pago, por favor contáctanos vía WhatsApp al mismo número para confirmar tu recarga."}),e.jsxs("a",{href:"https://wa.me/51940505969?text=Hola%2C%20he%20realizado%20una%20recarga%20a%20trav%C3%A9s%20de%20Yape.%20Por%20favor%2C%20confirma%20mi%20pago.",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300",children:[e.jsx(qr,{className:"mr-2"})," Confirmar por WhatsApp"]})]})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),Ee.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acción"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:Ee.map((I,oe)=>{var ie,Y;const ae=encodeURIComponent(`Hola, he pedido una recarga de S/ ${((ie=I.amount)==null?void 0:ie.toFixed(2))||"0.00"} con el nombre ${i}. Adjunto la captura de mi pago, por favor.`);return e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",((Y=I.amount)==null?void 0:Y.toFixed(2))||"0.00"]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I.status==="aprobado"?"bg-green-900/80 text-green-400":I.status==="pendiente"?"bg-yellow-900/80 text-yellow-400":"bg-red-900/80 text-red-400"}`,children:I.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-400",children:L(I.date)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:I.status==="pendiente"?e.jsxs("a",{href:`https://wa.me/51940505969?text=${ae}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300 text-sm",children:[e.jsx(qr,{className:"mr-2"})," Enviar captura"]}):e.jsx("span",{className:"text-gray-400 text-sm",children:"—"})})]},oe)})})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(hs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-400",children:"No hay recargas registradas"})]})]})]});case"pedidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Mis pedidos"}),ue.length>0?e.jsx("div",{className:"space-y-6",children:ue.map((I,oe)=>{var Pe,ye,Ce,Ft,bt,ot,Zt,Mt,Is,$s,zs,zr,Zs;const ae=parseFloat(I.price)||0,ie=new Date(I.endDate)>new Date&&I.status==="completed",Y=I.status==="pending",te=I.daysRemaining||0,Be=I.timeElapsedPercentage||0;let me="text-green-400";Be>70&&Be<=90?me="text-yellow-400":Be>90&&(me="text-red-400");const se=Y?e.jsx(It,{className:"text-yellow-400"}):ie?e.jsx(go,{className:"text-green-400"}):e.jsx(lt,{className:"text-red-400"}),ce=encodeURIComponent(`*Consulta sobre Pedido - ${I.productName||"Sin nombre"}*

*N° Pedido:* ${I.orderId||"No especificado"}
*Producto:* ${I.productName||"No especificado"}
*Precio:* S/ ${ae.toFixed(2)}
*Estado:* ${Y?"A pedido":ie?"Activo":"Expirado"}
*Fecha de Inicio:* ${L(I.startDate)}
*Fecha de Vencimiento:* ${L(I.endDate)}

`+(Y?`Hola 😊, he comprado un producto a pedido (${I.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),Ie=encodeURIComponent(`😊 Estimado/a ${((Pe=I.client)==null?void 0:Pe.name)||"Cliente"} 😊

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📌 Tipo: ${I.productName||"Sin nombre"}.
🔢 Código: ${I.orderId||"No especificado"}
`+(Y?"":`📧 Correo: ${((ye=I.account)==null?void 0:ye.email)||"No especificado"}
🔐 Contraseña: ${((Ce=I.account)==null?void 0:Ce.password)||"No especificado"}
👤 Perfil: ${((Ft=I.account)==null?void 0:Ft.profile)||"No especificado"}
📌 PIN: ${((bt=I.account)==null?void 0:bt.pin)||"No especificado"}
`)+`🌐 URL: Sin URL
📅 Fecha de creación: ${L(I.startDate)}
📅 Fecha de vencimiento: ${L(I.endDate)}
🏁 Días contratados: ${I.durationDays||30} días.

`+(Y?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:"")+`*Términos y Condiciones:*
${I.termsAndConditions||"No se especificaron términos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),ke=I.providerPhone?I.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[se,e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:I.productName||"Producto sin nombre"}),I.orderId&&e.jsxs("p",{className:"text-xs text-gray-400",children:["N° Pedido: ",I.orderId]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",ae.toFixed(2)]}),e.jsx("p",{className:`text-xs font-medium ${Y?"text-yellow-400":me}`,children:Y?"Pendiente de activación":`${te} día${te===1?"":"s"} restante${te===1?"":"s"}`})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ve,{className:"mr-2"})," Detalles de la Cuenta"]}),e.jsx("div",{className:"space-y-2 text-gray-300",children:Y?e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Usuario:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white break-all",children:((ot=I.account)==null?void 0:ot.email)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),e.jsx("span",{className:"block text-white break-all",children:((Zt=I.account)==null?void 0:Zt.password)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:((Mt=I.account)==null?void 0:Mt.profile)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),e.jsx("span",{className:"block text-white",children:((Is=I.account)==null?void 0:Is.pin)||"No especificado"})]})]})})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ge,{className:"mr-2"})," Información del Pedido"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"block text-white",children:I.provider||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono del Proveedor:"}),e.jsx("span",{className:"block text-white",children:I.providerPhone||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Estado:"}),e.jsx("span",{className:`block px-2 py-1 text-xs rounded-full ${Y?"bg-yellow-900/80 text-yellow-400":ie?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:Y?"A pedido":ie?"Activo":"Expirado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Método de Pago:"}),e.jsx("span",{className:"block text-white",children:"BlackStreaming"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de inicio:"}),e.jsx("span",{className:"block text-white",children:L(I.startDate)})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de vencimiento:"}),e.jsx("span",{className:"block text-white",children:L(I.endDate)})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Días restantes:"}),e.jsx("span",{className:`block ${me}`,children:te})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ve,{className:"mr-2"})," Información del Cliente"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),e.jsx("span",{className:"block text-white",children:(($s=I.client)==null?void 0:$s.name)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono:"}),e.jsx("span",{className:"block text-white",children:((zs=I.client)==null?void 0:zs.phone)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white",children:((zr=I.client)==null?void 0:zr.email)||"No especificado"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("a",{href:`https://wa.me/51${ke}?text=${ce}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(qr,{size:18})," Contactar Proveedor"]}),I.renewable&&e.jsxs("button",{onClick:()=>Z(I),disabled:H,className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 ${H?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:[e.jsx(dN,{size:18})," Renovar Pedido"]}),((Zs=I.client)==null?void 0:Zs.phone)&&e.jsxs("a",{href:`https://wa.me/${I.client.phone.replace(/^\+/,"")}?text=${Ie}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(qr,{size:18})," Contactar Cliente por WhatsApp"]})]})]})]},oe)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ut,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes pedidos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Realiza tu primer pedido en nuestra tienda"})]})]});case"referidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:["Todos tus referidos (",S.length,")"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar referidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:_,onChange:I=>q(I.target.value)}),e.jsx(_0,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),S.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha de registro"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:S.filter(I=>{const oe=I.username||"",ae=I.email||"";return oe.toLowerCase().includes(_.toLowerCase())||ae.toLowerCase().includes(_.toLowerCase())}).map((I,oe)=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:I.username||"Sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:I.email||"Sin email"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:I.joinDate?L(I.joinDate):"No especificada"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900/80 text-green-400",children:I.status||"Activo"})})]},oe))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ql,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes referidos aún"}),e.jsx("p",{className:"text-gray-400",children:"Comparte tu código de afiliado para empezar a ganar comisiones"})]})]});case"ganancias":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Reporte de ganancias"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias hoy"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde ayer"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias esta semana"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde la semana pasada"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias totales"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",y.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[S.length," referidos"]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(th,{className:"mr-2 text-cyan-400"})," Historial de comisiones"]}),S.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-800/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Referido"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Origen"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-700/50 divide-y divide-gray-600/50",children:S.map((I,oe)=>e.jsxs("tr",{className:"hover:bg-gray-600/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:I.username||"Usuario sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:I.joinDate?L(I.joinDate):"No especificada"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:"S/ 0.00"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:"Registro"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-900/80 text-yellow-400",children:"Pendiente"})})]},oe))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(hs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-400",children:"No hay comisiones registradas"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gana comisiones cuando tus referidos realicen compras"})]})]})]});case"configuracion":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuración de cuenta"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsx("input",{type:"text",value:i,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico"}),e.jsx("input",{type:"email",value:l,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Cambiar contraseña"}),e.jsx("input",{type:"password",value:x,onChange:I=>p(I.target.value),placeholder:"Nueva contraseña",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),e.jsx("button",{onClick:b,disabled:!x,className:`w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium mt-4 transition-all duration-300 ${x?"":"opacity-50 cursor-not-allowed"}`,children:"Guardar cambios"})]}),e.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:e.jsxs("button",{onClick:O,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[e.jsx(pt,{})," Cerrar sesión"]})})]});default:return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(lt,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),e.jsx("button",{onClick:()=>a("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!s),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:e.jsx(kt,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${s?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(le,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:i.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:i}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:l})]})]}),e.jsxs("nav",{className:"flex-1 space-y-1",children:[e.jsxs("button",{onClick:()=>{a("inicio"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="inicio"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(Pu,{})," ",e.jsx("span",{children:"Inicio"})]}),e.jsxs("button",{onClick:()=>{a("recargas"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="recargas"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(hs,{})," ",e.jsx("span",{children:"Recargas"})]}),e.jsxs("button",{onClick:()=>{a("pedidos"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="pedidos"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(ut,{})," ",e.jsx("span",{children:"Mis pedidos"})]}),e.jsxs("button",{onClick:()=>{a("referidos"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="referidos"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(ql,{})," ",e.jsx("span",{children:"Referidos"})]}),e.jsxs("button",{onClick:()=>{a("ganancias"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="ganancias"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(th,{})," ",e.jsx("span",{children:"Ganancias"})]}),e.jsxs("button",{onClick:()=>{a("configuracion"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="configuracion"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(yo,{})," ",e.jsx("span",{children:"Configuración"})]})]}),e.jsx("div",{className:"mt-auto pt-4",children:e.jsxs("button",{onClick:O,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx(pt,{})," ",e.jsx("span",{children:"Cerrar sesión"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 sm:p-6 pt-20 md:pt-6",children:f()}),ee.show&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:ee.title}),e.jsx("button",{onClick:T,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(le,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:ee.message}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:T,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>t(!1)})]})},qD=()=>{var Lr;const[s,t]=j.useState(!1),[r,a]=j.useState("inicio"),[i,o]=j.useState("Usuario"),[l,c]=j.useState(""),[x,p]=j.useState(""),[N,E]=j.useState([]),[S,R]=j.useState([]),[y,V]=j.useState(!0),[v,P]=j.useState(""),[z,M]=j.useState({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:Array(1).fill({email:"",password:"",profile:"",pin:""})}),[H,Q]=j.useState(null),[W,D]=j.useState(!1),[d,$]=j.useState(""),[B,J]=j.useState({open:!1,message:""}),[_,q]=j.useState({email:"",password:"",preferences:""}),[Se,Oe]=j.useState([]),[Ee,Te]=j.useState(""),[ue,ge]=j.useState("Yape"),[xe,K]=j.useState(""),[ee,n]=j.useState(!1),[g,m]=j.useState([]),[T,F]=j.useState(!0),[Z,w]=j.useState(0),[L,O]=j.useState(!1),[b,f]=j.useState(null),[I,oe]=j.useState(""),ae=mt(),ie=u2(),Y=ne=>{var Ne;if(!ne)return"No especificada";try{const Re=ne instanceof Date?ne:((Ne=ne==null?void 0:ne.toDate)==null?void 0:Ne.call(ne))||new Date(ne);return isNaN(Re.getTime())?"Fecha inválida":Re.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(Re){return console.error("Error formatting date:",Re),"Fecha inválida"}},te=ne=>({netflix:"Netflix",spotify:"Spotify",disney:"Disney",max:"Max",primevideo:"Prime Video",vix:"Vix",crunchyroll:"Crunchyroll",canva:"Canva",chatgpt:"ChatGPT",redessociales:"Redes Sociales",dgo:"Dgo",ligamax:"Liga Max",movistarplay:"Movistar Play",youtube:"Youtube",deezer:"Deezer",tidal:"Tidal",vpn:"Vpn",wintv:"WinTv",applemusic:"Apple Music",appletv:"Apple TV",iptv:"Iptv",flujotv:"Flujo Tv",vikirakuten:"Viki Rakuten",pornhub:"Pornhub",paramount:"Paramount",licencias:"Licencias",capcut:"Capcut",duolingo:"Duolingo",buscapersonas:"BuscaPersonas"})[ne==null?void 0:ne.toLowerCase()]||"Otro";j.useEffect(()=>{const ne=Nt(ie,Ne=>{Ne?(c(Ne.email||""),p(Ne.uid),Be(Ne.uid)):ae("/login")});return()=>ne()},[ie,ae]);const Be=async ne=>{try{const Ne=U(C,"users",ne),Re=await Ue(Ne);if(Re.exists()){const $e=Re.data();o($e.username||"Usuario"),q({email:$e.email||"",password:"",preferences:$e.preferences||""})}V(!1)}catch(Ne){P("Error al cargar datos del usuario"),console.error("Error fetching user data:",Ne),V(!1)}};j.useEffect(()=>{l&&(async Ne=>{try{const Re=await Ue(U(C,"admins",Ne));n(Re.exists())}catch(Re){console.error("Error checking admin status:",Re)}})(l)},[l]),j.useEffect(()=>{if(!i)return;const ne=pe(X(C,"products"),fe("provider","==",i)),Ne=we(ne,Re=>{const $e=Re.docs.map(zt=>({id:zt.id,...zt.data()}));R($e)},Re=>{console.error("Error fetching products:",Re),P("Error al cargar productos")});return()=>Ne()},[i]),j.useEffect(()=>{if(!x)return;const ne=pe(X(C,"sales"),fe("providerId","==",x)),Ne=we(ne,Re=>{const $e=Re.docs.map(zt=>{const xt=zt.data();return{id:zt.id,productName:xt.productName||"Producto sin nombre",category:xt.type||"netflix",buyer:xt.customerName||xt.customerNAME||"Comprador desconocido",buyerEmail:xt.customerEmail||"Sin email",buyerPhone:xt.phoneNumber||"Sin teléfono",date:xt.saleDate?xt.saleDate:xt.createdAt||new Date,amount:parseFloat(xt.price)||0,status:xt.status||"completed",accountDetails:xt.accountDetails||{email:"No disponible",password:"No disponible",profile:"N/A",pin:""}}});E($e),F(!1)},Re=>{console.error("Error fetching sales:",Re),P("Error al cargar ventas"),F(!1)});return()=>Ne()},[x]),j.useEffect(()=>{if(!i)return;const ne=pe(X(C,"withdrawals"),fe("provider","==",i),kh("createdAt","desc")),Ne=we(ne,Re=>{const $e=Re.docs.map(zt=>{const xt=zt.data();return{id:zt.id,...xt,amount:parseFloat(xt.amount)||0,createdAt:xt.createdAt||new Date,processedAt:xt.processedAt||null}});Oe($e),F(!1)},Re=>{console.error("Error fetching withdrawals:",Re),P("Error al cargar retiros")});return()=>Ne()},[i]),j.useEffect(()=>{if(!ee)return;const ne=pe(X(C,"withdrawals"),fe("status","==","pending"),kh("createdAt","desc")),Ne=we(ne,Re=>{const $e=Re.docs.map(zt=>{const xt=zt.data();return{id:zt.id,...xt,amount:parseFloat(xt.amount)||0,createdAt:xt.createdAt||new Date}});m($e)},Re=>{console.error("Error fetching pending withdrawals:",Re),P("Error al cargar solicitudes de retiro pendientes")});return()=>Ne()},[ee]),j.useEffect(()=>{if(!i)return;const ne=U(C,"providerBalances",i),Ne=we(ne,Re=>{Re.exists()?w(Re.data().balance||0):(Er(ne,{balance:0,provider:i,updatedAt:qt()}),w(0)),F(!1)},Re=>{console.error("Error fetching provider balance:",Re),P("Error al cargar el saldo del proveedor"),F(!1)});return()=>Ne()},[i]);const me=()=>{Po(ie).then(()=>ae("/login")).catch(ne=>{P("Error al cerrar sesión"),console.error("Logout error:",ne)})},se=ne=>{const{name:Ne,value:Re,type:$e,checked:zt}=ne.target;M(xt=>({...xt,[Ne]:$e==="checkbox"?zt:Re}))},ce=ne=>{const{name:Ne,value:Re}=ne.target;q($e=>({...$e,[Ne]:Re}))},Ie=(ne,Ne=!1)=>{const Re=ne.target.files[0];if(Re){if(Re.size>10485760){Ne?$("La imagen no debe exceder los 10MB"):P("La imagen no debe exceder los 10MB");return}const zt=new FileReader;zt.onloadend=()=>{Ne?Q(xt=>({...xt,image:zt.result})):M(xt=>({...xt,image:zt.result}))},zt.readAsDataURL(Re)}},ke=ne=>{const Ne=parseInt(ne.target.value)||1,Re=z.accounts||[];if(Ne>Re.length){const $e=[...Re];for(;$e.length<Ne;)$e.push({email:"",password:"",profile:"",pin:""});M({...z,stock:Ne,accounts:$e})}else if(Ne<Re.length){const $e=Re.slice(0,Math.max(Ne,1));M({...z,stock:Ne,accounts:$e})}else M({...z,stock:Ne})},Pe=ne=>{const Ne=parseInt(ne.target.value)||1;let $e=[...H.accounts||[]];if(Ne>$e.length)for(;$e.length<Ne;)$e.push({email:"",password:"",profile:"",pin:""});else Ne<$e.length&&($e=$e.slice(0,Math.max(Ne,1)));Q({...H,stock:Ne,accounts:$e})},ye=(ne,Ne,Re)=>{const $e=[...z.accounts];$e[ne]={...$e[ne],[Ne]:Re},M({...z,accounts:$e})},Ce=(ne,Ne,Re)=>{Q($e=>({...$e,accounts:$e.accounts.map((zt,xt)=>xt===ne?{...zt,[Ne]:Re}:zt)}))},Ft=ne=>{const{name:Ne,value:Re}=ne.target;f($e=>({...$e,accountDetails:{...$e.accountDetails,[Ne]:Re}}))},bt=async()=>{if(P(""),!z.name||!z.price){P("Por favor complete todos los campos obligatorios");return}if(z.renewal&&!z.renewalPrice){P("Por favor ingrese el precio de renovación");return}if(z.status==="En stock"&&z.accounts.some(Ne=>!Ne.email||!Ne.password)){P("Por favor complete todos los campos de las cuentas");return}try{const ne={...z,provider:i,providerId:x,providerPhone:z.status==="En stock"?z.providerPhone||"":z.providerPhone||"No especificado",createdAt:qt(),availableAccounts:z.status==="En stock"?z.accounts.length:0},Ne=await Mn(X(C,"products"),ne);if(z.status==="En stock"){const Re=X(C,`products/${Ne.id}/accounts`);for(const $e of z.accounts)await Mn(Re,{email:$e.email,password:$e.password,profile:$e.profile||"",pin:$e.pin||"",status:"available"})}M({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:[{email:"",password:"",profile:"",pin:""}]}),a("inventario"),J({open:!0,message:"Producto subido exitosamente!"})}catch(ne){console.error("Error al subir el producto:",ne),P(`Error al subir el producto: ${ne.message}`)}},ot=ne=>{$(""),Q({...ne,accounts:ne.status==="En stock"?ne.accounts||Array(Math.max(ne.stock||1,1)).fill({email:"",password:"",profile:"",pin:""}):[],providerId:ne.providerId||x,accountType:ne.accountType||"Premium",renewal:ne.renewal||!1,renewalPrice:ne.renewalPrice||""}),D(!0)},Zt=async()=>{var ne;if($(""),!H.name||!H.price){$("Por favor complete todos los campos obligatorios");return}if(H.renewal&&!H.renewalPrice){$("Por favor ingrese el precio de renovación");return}if(H.status==="En stock"&&H.accounts.some(Re=>!Re.email||!Re.password)){$("Por favor complete todos los campos de las cuentas");return}try{const Ne=U(C,"products",H.id);await Er(Ne,{...H,providerId:H.providerId||x,availableAccounts:H.status==="En stock"&&((ne=H.accounts)==null?void 0:ne.length)||0},{merge:!0}),D(!1),J({open:!0,message:"Producto actualizado exitosamente!"})}catch(Ne){console.error("Error al actualizar el producto:",Ne),$("Error al actualizar el producto")}},Mt=async ne=>{try{await o6(U(C,"products",ne)),J({open:!0,message:"Producto eliminado exitosamente!"})}catch(Ne){console.error("Error al eliminar el producto:",Ne),P("Error al eliminar el producto")}},Is=async()=>{try{const ne=ie.currentUser;if(ne){const Ne=U(C,"users",ne.uid);await Er(Ne,{preferences:_.preferences,..._.password&&{password:_.password}},{merge:!0}),J({open:!0,message:"Configuración actualizada correctamente!"})}}catch(ne){console.error("Error al actualizar la configuración:",ne),P("Error al actualizar la configuración")}},$s=async()=>{if(!Ee||parseFloat(Ee)<=0){P("Ingrese un monto válido");return}if(parseFloat(Ee)>Z){P("No tienes suficientes fondos disponibles");return}if(!xe){P("Ingrese los datos de su cuenta");return}try{await Mn(X(C,"withdrawals"),{provider:i,providerEmail:l,amount:parseFloat(Ee),method:ue,account:xe,status:"pending",createdAt:qt()}),Te(""),K(""),J({open:!0,message:"Solicitud de retiro enviada correctamente"})}catch(ne){console.error("Error al solicitar retiro:",ne),P("Error al solicitar retiro")}},zs=async(ne,Ne)=>{try{const Re=U(C,"withdrawals",ne),$e=await Ue(Re);if(!$e.exists())throw new Error("Solicitud de retiro no encontrada");const zt=$e.data(),xt=zt.provider,Sa=parseFloat(zt.amount);if(Ne==="approved"){const ec=U(C,"providerBalances",xt),tc=await Ue(ec);let Vr=0;if(tc.exists()&&(Vr=tc.data().balance||0),Sa>Vr){P("El proveedor no tiene suficientes fondos para aprobar este retiro");return}await Er(ec,{balance:Vr-Sa,provider:xt,updatedAt:qt()},{merge:!0})}await xs(Re,{status:Ne,processedAt:qt(),processedBy:l}),J({open:!0,message:Ne==="approved"?"Retiro aprobado y saldo actualizado correctamente":"Retiro rechazado"})}catch(Re){console.error("Error al procesar retiro:",Re),P("Error al procesar retiro: "+Re.message)}},zr=ne=>{oe(""),f({...ne,accountDetails:{email:ne.accountDetails.email||"",password:ne.accountDetails.password||"",profile:ne.accountDetails.profile||"",pin:ne.accountDetails.pin||""}}),O(!0)},Zs=async()=>{if(oe(""),!b.accountDetails.email||!b.accountDetails.password){oe("Por favor complete todos los campos obligatorios de la cuenta");return}try{const ne=U(C,"sales",b.id);await xs(ne,{accountDetails:b.accountDetails,updatedAt:qt()}),O(!1),J({open:!0,message:"Detalles de la cuenta actualizados exitosamente!"})}catch(ne){console.error("Error al actualizar los detalles de la cuenta:",ne),oe("Error al actualizar los detalles de la cuenta")}},ur=T?0:N.reduce((ne,Ne)=>ne+(Ne.amount||0),0),xr=T?0:Se.reduce((ne,Ne)=>ne+(Ne.status==="approved"?Ne.amount:0),0),ss=(()=>T?0:Z)(),Or=S.reduce((ne,Ne)=>ne+(parseInt(Ne.stock)||0),0),Et=async ne=>{try{const Ne=U(C,"sales",ne);await xs(Ne,{status:"completed",updatedAt:qt()}),J({open:!0,message:"Pedido activado exitosamente!"})}catch(Ne){console.error("Error al activar el pedido:",Ne),P("Error al activar el pedido")}},qs=()=>{if(y)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(v)return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(lt,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:v}),e.jsx("button",{onClick:()=>P(""),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(r){case"inicio":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:i})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(Rc,{className:"mr-2"})," Inventario"]}),e.jsx("p",{className:"text-3xl font-bold text-white",children:S.length}),e.jsx("p",{className:"text-gray-400",children:"Productos registrados"}),e.jsxs("p",{className:"text-gray-400",children:["Stock total: ",Or]}),e.jsx("button",{onClick:()=>a("inventario"),className:"text-cyan-400 hover:underline text-sm mt-2",children:"Ver inventario"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(hs,{className:"mr-2"})," Ganancias"]}),T?e.jsx("div",{className:"animate-pulse text-gray-400",children:"Cargando..."}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",ur.toFixed(2)]}),e.jsxs("p",{className:"text-gray-400",children:[N.length," ventas realizadas"]}),e.jsxs("p",{className:"text-gray-400",children:["Disponible: S/ ",ss.toFixed(2)]}),e.jsx("button",{onClick:()=>a("retiros"),className:"text-cyan-400 hover:underline text-sm mt-2",children:"Retirar fondos"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ve,{className:"mr-2"})," Mi Cuenta"]}),e.jsx("p",{className:"text-lg font-medium text-white",children:i}),e.jsx("p",{className:"text-sm text-gray-400 truncate",children:l}),e.jsx("p",{className:"text-xs mt-2 bg-cyan-900 text-cyan-400 py-1 px-2 rounded-full inline-block",children:ee?"Administrador":"Proveedor"}),e.jsx("button",{onClick:()=>a("configuracion"),className:"text-cyan-400 hover:underline text-sm mt-2",children:"Editar perfil"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center",children:[e.jsx(ut,{className:"mr-2"})," Pedidos recientes"]}),N.length===0?e.jsx("p",{className:"text-gray-400 py-2 text-center",children:"No hay pedidos recientes."}):N.slice(0,3).map((ne,Ne)=>e.jsx("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"w-2/3",children:[e.jsx("p",{className:"font-medium text-white truncate",children:ne.productName}),e.jsxs("p",{className:"text-sm text-gray-400 truncate",children:["Comprador: ",ne.buyer]})]}),e.jsxs("div",{className:"text-right w-1/3",children:[e.jsxs("p",{className:"font-medium text-white",children:["S/ ",(ne.amount||0).toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-400",children:Y(ne.date)})]})]})},Ne)),N.length>3&&e.jsx("button",{onClick:()=>a("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]})]});case"inventario":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white flex items-center",children:[e.jsx(Rc,{className:"mr-2"})," Inventario"]}),e.jsxs("button",{onClick:()=>a("subirProducto"),className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl flex items-center w-full md:w-auto justify-center transition-all duration-300",children:[e.jsx($g,{className:"mr-2"})," Nuevo Producto"]})]}),S.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Precio"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:S.map(ne=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[ne.image&&e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:ne.image,alt:ne.name})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-white truncate max-w-xs",children:ne.name}),e.jsx("div",{className:"text-xs text-gray-400",children:te(ne.category)})]})]})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["S/ ",(parseFloat(ne.price)||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:ne.stock||0}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ne.status==="En stock"?"bg-green-900/80 text-green-400":"bg-yellow-900/80 text-yellow-400"}`,children:ne.status})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{onClick:()=>ot(ne),className:"text-cyan-400 hover:text-cyan-500 mr-3",title:"Editar",children:e.jsx(Mc,{})}),e.jsx("button",{onClick:()=>Mt(ne.id),className:"text-red-400 hover:text-red-500",title:"Eliminar",children:e.jsx(sI,{})})]})]},ne.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Rc,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes productos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Agrega tu primer producto para comenzar"}),e.jsxs("button",{onClick:()=>a("subirProducto"),className:"mt-4 px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl flex items-center mx-auto transition-all duration-300",children:[e.jsx($g,{className:"mr-2"})," Agregar Producto"]})]})]});case"subirProducto":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-4xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(qg,{className:"mr-2"})," Subir Nuevo Producto"]}),v&&e.jsx("div",{className:"bg-red-900/80 border-l-4 border-red-500 p-4 mb-6 rounded-xl",children:e.jsxs("div",{className:"flex",children:[e.jsx(lt,{className:"h-5 w-5 text-red-400"}),e.jsx("p",{className:"ml-3 text-sm text-red-300",children:v})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Imagen del producto"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-600/50 border-dashed rounded-xl bg-gray-700/50 backdrop-blur-sm",children:z.image?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:z.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain"}),e.jsx("button",{type:"button",onClick:()=>M({...z,image:""}),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1",children:e.jsx(le,{size:16})})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:e.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-gray-800/50 rounded-xl font-medium text-cyan-400 hover:text-cyan-500 focus-within:outline-none",children:[e.jsx("span",{children:"Subir una imagen"}),e.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:ne=>Ie(ne),accept:"image/*"})]})}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF hasta 10MB"})]})})]}),e.jsxs("div",{className:"col-span-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre del producto*"}),e.jsx("input",{type:"text",name:"name",value:z.name,onChange:se,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Categoría*"}),e.jsxs("select",{name:"category",value:z.category,onChange:se,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"Netflix",children:"Netflix"}),e.jsx("option",{value:"Spotify",children:"Spotify"}),e.jsx("option",{value:"Disney",children:"Disney+"}),e.jsx("option",{value:"Max",children:"Max"}),e.jsx("option",{value:"Prime Video",children:"Prime Video"}),e.jsx("option",{value:"Vix",children:"Vix"}),e.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),e.jsx("option",{value:"Canva",children:"Canva"}),e.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),e.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),e.jsx("option",{value:"Dgo",children:"DGO"}),e.jsx("option",{value:"Liga Max",children:"Liga Max"}),e.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),e.jsx("option",{value:"Youtube",children:"YouTube"}),e.jsx("option",{value:"Deezer",children:"Deezer"}),e.jsx("option",{value:"Tidal",children:"Tidal"}),e.jsx("option",{value:"Vpn",children:"VPN"}),e.jsx("option",{value:"WinTv",children:"WinTV"}),e.jsx("option",{value:"Apple Music",children:"Apple Music"}),e.jsx("option",{value:"Apple Tv",children:"Apple TV"}),e.jsx("option",{value:"Iptv",children:"IPTV"}),e.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),e.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),e.jsx("option",{value:"Pornhub",children:"Pornhub"}),e.jsx("option",{value:"Paramount",children:"Paramount"}),e.jsx("option",{value:"Licencias",children:"Licencias"}),e.jsx("option",{value:"Capcut",children:"Capcut"}),e.jsx("option",{value:"Duolingo",children:"Duolingo"}),e.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Tipo de cuenta*"}),e.jsxs("select",{name:"accountType",value:z.accountType,onChange:se,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"Premium",children:"Premium"}),e.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Estado*"}),e.jsxs("select",{name:"status",value:z.status,onChange:se,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"En stock",children:"En stock"}),e.jsx("option",{value:"A pedido",children:"A pedido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Stock*"}),e.jsx("input",{type:"number",name:"stock",value:z.stock,onChange:ke,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",min:"1",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Precio (S/)*"}),e.jsx("input",{type:"number",name:"price",value:z.price,onChange:se,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"renewal",checked:z.renewal,onChange:se,className:"h-4 w-4 text-cyan-400 focus:ring cyan-400 border-gray-600/50 rounded"}),e.jsx("label",{className:"ml-2 text-gray-300",children:"¿Tiene renovación?"})]})]}),z.renewal&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Precio de renovación (S/)*"}),e.jsx("input",{type:"number",name:"renewalPrice",value:z.renewalPrice,onChange:se,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Duración (días)"}),e.jsx("input",{type:"number",name:"duration",value:z.duration,onChange:se,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Dejar vacío para ilimitado",min:"1"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2",children:["Teléfono de contacto ",z.status==="A pedido"?"*":""]}),e.jsx("input",{type:"text",name:"providerPhone",value:z.providerPhone,onChange:se,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: +51 987654321",required:z.status==="A pedido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Detalles del producto"}),e.jsx("textarea",{name:"details",value:z.details,onChange:se,rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Describe los detalles y características del producto"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Términos y condiciones"}),e.jsx("textarea",{name:"terms",value:z.terms,onChange:se,rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Especifica los términos y condiciones de uso"})]}),z.status==="En stock"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Cuentas asociadas*"}),e.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Debe completar todas las cuentas según el stock indicado"}),e.jsx("div",{className:"space-y-4",children:z.accounts.map((ne,Ne)=>e.jsxs("div",{className:"border border-gray-600/50 rounded-xl p-4 bg-gray-700/50 backdrop-blur-sm",children:[e.jsxs("h4",{className:"text-sm font-medium text-white mb-3",children:["Cuenta ",Ne+1]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Correo electrónico*"}),e.jsx("input",{type:"email",value:ne.email,onChange:Re=>ye(Ne,"email",Re.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Contraseña*"}),e.jsx("input",{type:"text",value:ne.password,onChange:Re=>ye(Ne,"password",Re.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Perfil (opcional)"}),e.jsx("input",{type:"text",value:ne.profile,onChange:Re=>ye(Ne,"profile",Re.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",placeholder:"Ej: Perfil 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"PIN (opcional)"}),e.jsx("input",{type:"text",value:ne.pin,onChange:Re=>ye(Ne,"pin",Re.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",placeholder:"Ej: 1234"})]})]})]},Ne))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{onClick:()=>a("inventario"),className:"px-4 py-2 bg-gray-700/50 text-gray-300 rounded-xl hover:bg-gray-600/50 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{onClick:bt,className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white font-medium rounded-xl transition-all duration-300",children:"Subir Producto"})]})]})]});case"ganancias":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(hs,{className:"mr-2"})," Ganancias"]}),e.jsx("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 mb-6 border border-gray-600/50 shadow-lg",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-1",children:"Ganancias totales"}),e.jsxs("p",{className:"text-sm text-gray-400",children:[N.length," ventas realizadas"]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Retirado: S/ ",xr.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Disponible: S/ ",ss.toFixed(2)]})]}),e.jsxs("div",{className:"text-3xl font-bold text-white mt-2 md:mt-0",children:["S/ ",ur.toFixed(2)]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Categoría"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Comprador"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Contacto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:N.map((ne,Ne)=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:ne.productName}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:te(ne.category)}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-white",children:ne.buyer}),e.jsx("div",{className:"text-xs text-gray-400",children:ne.buyerEmail})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:ne.buyerPhone}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:Y(ne.date)}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-white",children:["S/ ",(ne.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900/80 text-green-400",children:"Completado"})})]},Ne))})]})}),N.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(hs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay ventas registradas"}),e.jsx("p",{className:"text-gray-400",children:"Tus ventas aparecerán aquí."})]})]});case"pedidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(ut,{className:"mr-2"})," Pedidos"]}),N.length>0?e.jsx("div",{className:"space-y-6",children:N.map((ne,Ne)=>{const $e=ne.status==="pending"?e.jsx(It,{className:"text-yellow-400"}):e.jsx(go,{className:"text-green-400"});return e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[$e,e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:ne.productName}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Categoría: ",te(ne.category)]})]})]}),e.jsxs("div",{className:"text-right flex items-center space-x-2",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",(ne.amount||0).toFixed(2)]}),e.jsx("p",{className:"text-xs text-gray-400",children:Y(ne.date)}),e.jsx("button",{onClick:()=>zr(ne),className:"text-cyan-400 hover:text-cyan-500",title:"Editar cuenta",children:e.jsx(Mc,{})}),ne.status==="pending"&&e.jsx("button",{onClick:()=>Et(ne.id),className:"text-green-400 hover:text-green-500",title:"Activar pedido",children:e.jsx($l,{})})]})]}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ve,{className:"mr-2"})," Información del Comprador"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),e.jsx("span",{className:"block text-white",children:ne.buyer})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white",children:ne.buyerEmail})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono:"}),e.jsx("span",{className:"block text-white",children:ne.buyerPhone})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ve,{className:"mr-2"})," Detalles de la Cuenta"]}),e.jsx("div",{className:"space-y-2 text-gray-300",children:ne.accountDetails?e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white break-all",children:ne.accountDetails.email})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),e.jsx("span",{className:"block text-white break-all",children:ne.accountDetails.password})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:ne.accountDetails.profile||"N/A"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),e.jsx("span",{className:"block text-white",children:ne.accountDetails.pin||"N/A"})]})]}):e.jsx("p",{className:"text-gray-400",children:"No disponible"})})]})]})})]},Ne)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ut,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay pedidos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Los pedidos de tus productos aparecerán aquí."})]})]});case"retiros":return e.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:ee?e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(Nl,{className:"mr-2"})," Solicitudes de Retiro Pendientes"]}),g.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Proveedor"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Método"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto (S/)"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:g.map(ne=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-white truncate max-w-xs",children:ne.provider}),e.jsx("div",{className:"text-xs text-gray-400 truncate max-w-xs",children:ne.providerEmail})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:ne.method}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-white",children:["S/ ",(ne.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:Y(ne.createdAt)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs("button",{onClick:()=>zs(ne.id,"approved"),className:"text-green-400 hover:text-green-500 flex items-center text-sm",children:[e.jsx($l,{className:"mr-1"})," Aprobar"]}),e.jsxs("button",{onClick:()=>zs(ne.id,"rejected"),className:"text-red-400 hover:text-red-500 flex items-center text-sm",children:[e.jsx(le,{className:"mr-1"})," Rechazar"]})]})})]},ne.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Nl,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay solicitudes pendientes"}),e.jsx("p",{className:"text-gray-400",children:"Las solicitudes de retiro aparecerán aquí"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(Nl,{className:"mr-2"})," Retirar Dinero"]}),e.jsx("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 mb-6 border border-gray-600/50 shadow-lg",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-1",children:"Saldo disponible"}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Ganancias totales: S/ ",ur.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Retirado: S/ ",xr.toFixed(2)]})]}),e.jsxs("div",{className:"text-3xl font-bold text-white mt-2 md:mt-0",children:["S/ ",ss.toFixed(2)]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Solicitar Retiro"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a retirar (S/)*"}),e.jsx("input",{type:"number",value:Ee,onChange:ne=>Te(ne.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: 150.00",step:"0.01",min:"0",max:ss}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Máximo disponible: S/ ",ss.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Método de pago*"}),e.jsxs("select",{value:ue,onChange:ne=>ge(ne.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"Yape",children:"Yape"}),e.jsx("option",{value:"Plin",children:"Plin"}),e.jsx("option",{value:"Transferencia",children:"Transferencia Bancaria"}),e.jsx("option",{value:"Otro",children:"Otro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Datos de la cuenta*"}),e.jsx("input",{type:"text",value:xe,onChange:ne=>K(ne.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:ue==="Yape"?"Número de teléfono":"Número de cuenta",required:!0})]}),e.jsx("button",{onClick:$s,disabled:!Ee||parseFloat(Ee)<=0||parseFloat(Ee)>ss||!xe,className:`w-full px-6 py-3 rounded-xl font-medium transition-all duration-300 ${Ee&&parseFloat(Ee)>0&&parseFloat(Ee)<=ss&&xe?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"Solicitar Retiro"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Historial de Retiros"}),Se.length>0?e.jsx("div",{className:"space-y-4",children:Se.map((ne,Ne)=>e.jsx("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-white",children:["S/ ",(ne.amount||0).toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400",children:[ne.method," - ",ne.account]}),e.jsxs("p",{className:"text-xs text-gray-400",children:[ne.status==="pending"?"Solicitado":"Procesado",": ",Y(ne.status==="pending"?ne.createdAt:ne.processedAt)]})]}),e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-4 font-semibold rounded-full ${ne.status==="approved"?"bg-green-900/80 text-green-400":ne.status==="rejected"?"bg-red-900/80 text-red-400":"bg-yellow-900/80 text-yellow-400"}`,children:ne.status==="approved"?"Aprobado":ne.status==="rejected"?"Rechazado":"Pendiente"})]})},Ne))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Nl,{className:"mx-auto text-3xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-400",children:"No hay retiros registrados"})]})]})]})]})});case"configuracion":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(yo,{className:"mr-2"})," Configuración de cuenta"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsx("input",{type:"text",value:i,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 transition-all cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico"}),e.jsx("input",{type:"email",name:"email",value:_.email,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 transition-all cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contraseña"}),e.jsx("input",{type:"password",name:"password",value:_.password,onChange:ce,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",placeholder:"Dejar vacío para no cambiar"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Preferencias"}),e.jsx("textarea",{name:"preferences",value:_.preferences,onChange:ce,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Escribe tus preferencias o notas",rows:"4"})]}),v&&e.jsx("div",{className:"bg-red-900/80 border-l-4 border-red-500 p-4 rounded-xl",children:e.jsxs("div",{className:"flex",children:[e.jsx(lt,{className:"h-5 w-5 text-red-400"}),e.jsx("p",{className:"ml-3 text-sm text-red-300",children:v})]})}),e.jsx("div",{className:"flex justify-end gap-3 pt-4",children:e.jsx("button",{onClick:Is,className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white font-medium rounded-xl transition-all duration-300",children:"Guardar Cambios"})})]})]});default:return null}},vn=[{id:"inicio",label:"Inicio",icon:e.jsx(Pu,{})},{id:"inventario",label:"Inventario",icon:e.jsx(Rc,{})},{id:"subirProducto",label:"Subir Producto",icon:e.jsx(qg,{})},{id:"ganancias",label:"Ganancias",icon:e.jsx(hs,{})},{id:"pedidos",label:"Pedidos",icon:e.jsx(ut,{})},{id:"retiros",label:"Retiros",icon:e.jsx(Nl,{})},{id:"configuracion",label:"Configuración",icon:e.jsx(yo,{})}];return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100",children:[e.jsxs("div",{className:"flex h-screen",children:[e.jsxs("div",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-gray-800/50 backdrop-blur-sm transform ${s?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out border-r border-gray-700/50`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700/50",children:[e.jsx("h1",{className:"text-xl font-bold text-cyan-400",children:"Panel de Proveedor"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden text-gray-300 hover:text-white",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"mt-4",children:[vn.map(ne=>e.jsxs("button",{onClick:()=>{a(ne.id),t(!1)},className:`w-full flex items-center px-4 py-3 text-sm font-medium transition-all duration-300 ${r===ne.id?"bg-cyan-500/20 text-cyan-400 border-l-4 border-cyan-400":"text-gray-300 hover:bg-gray-700/50 hover:text-white"}`,children:[ne.icon,e.jsx("span",{className:"ml-3",children:ne.label})]},ne.id)),e.jsxs("button",{onClick:me,className:"w-full flex items-center px-4 py-3 text-sm font-medium text-gray-300 hover:bg-gray-700/50 hover:text-white transition-all duration-300",children:[e.jsx(pt,{className:"mr-3"}),"Cerrar Sesión"]})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col md:ml-64",children:[e.jsxs("header",{className:"bg-gray-800/50 backdrop-blur-sm p-4 flex justify-between items-center border-b border-gray-700/50",children:[e.jsx("button",{onClick:()=>t(!0),className:"md:hidden text-gray-300 hover:text-white",children:e.jsx(kt,{size:24})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-700/50 flex items-center justify-center",children:e.jsx(Ve,{className:"text-gray-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:i}),e.jsx("p",{className:"text-xs text-gray-400",children:l})]})]})]}),e.jsx("main",{className:"flex-1 p-4 sm:p-6 overflow-auto",children:qs()})]})]}),W&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[e.jsx(Mc,{className:"mr-2"})," Editar Producto"]}),e.jsx("button",{onClick:()=>D(!1),className:"text-gray-300 hover:text-white",children:e.jsx(le,{size:24})})]}),d&&e.jsx("div",{className:"bg-red-900/80 border-l-4 border-red-500 p-4 mb-6 rounded-xl",children:e.jsxs("div",{className:"flex",children:[e.jsx(lt,{className:"h-5 w-5 text-red-400"}),e.jsx("p",{className:"ml-3 text-sm text-red-300",children:d})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Imagen del producto"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-600/50 border-dashed rounded-xl bg-gray-700/50 backdrop-blur-sm",children:H!=null&&H.image?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:H.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain"}),e.jsx("button",{type:"button",onClick:()=>Q({...H,image:""}),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1",children:e.jsx(le,{size:16})})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:e.jsxs("label",{htmlFor:"edit-file-upload",className:"relative cursor-pointer bg-gray-800/50 rounded-xl font-medium text-cyan-400 hover:text-cyan-500 focus-within:outline-none",children:[e.jsx("span",{children:"Subir una imagen"}),e.jsx("input",{id:"edit-file-upload",name:"edit-file-upload",type:"file",className:"sr-only",onChange:ne=>Ie(ne,!0),accept:"image/*"})]})}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF hasta 10MB"})]})})]}),e.jsxs("div",{className:"col-span-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre del producto*"}),e.jsx("input",{type:"text",name:"name",value:(H==null?void 0:H.name)||"",onChange:ne=>Q({...H,name:ne.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Categoría*"}),e.jsxs("select",{name:"category",value:(H==null?void 0:H.category)||"Netflix",onChange:ne=>Q({...H,category:ne.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"Netflix",children:"Netflix"}),e.jsx("option",{value:"Spotify",children:"Spotify"}),e.jsx("option",{value:"Disney",children:"Disney+"}),e.jsx("option",{value:"Max",children:"Max"}),e.jsx("option",{value:"Prime Video",children:"Prime Video"}),e.jsx("option",{value:"Vix",children:"Vix"}),e.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),e.jsx("option",{value:"Canva",children:"Canva"}),e.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),e.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),e.jsx("option",{value:"Dgo",children:"DGO"}),e.jsx("option",{value:"Liga Max",children:"Liga Max"}),e.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),e.jsx("option",{value:"Youtube",children:"YouTube"}),e.jsx("option",{value:"Deezer",children:"Deezer"}),e.jsx("option",{value:"Tidal",children:"Tidal"}),e.jsx("option",{value:"Vpn",children:"VPN"}),e.jsx("option",{value:"WinTv",children:"WinTV"}),e.jsx("option",{value:"Apple Music",children:"Apple Music"}),e.jsx("option",{value:"Apple Tv",children:"Apple TV"}),e.jsx("option",{value:"Iptv",children:"IPTV"}),e.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),e.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),e.jsx("option",{value:"Pornhub",children:"Pornhub"}),e.jsx("option",{value:"Paramount",children:"Paramount"}),e.jsx("option",{value:"Licencias",children:"Licencias"}),e.jsx("option",{value:"Capcut",children:"Capcut"}),e.jsx("option",{value:"Duolingo",children:"Duolingo"}),e.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Tipo de cuenta*"}),e.jsxs("select",{name:"accountType",value:(H==null?void 0:H.accountType)||"Premium",onChange:ne=>Q({...H,accountType:ne.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"Premium",children:"Premium"}),e.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Estado*"}),e.jsxs("select",{name:"status",value:(H==null?void 0:H.status)||"En stock",onChange:ne=>Q({...H,status:ne.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"En stock",children:"En stock"}),e.jsx("option",{value:"A pedido",children:"A pedido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Stock*"}),e.jsx("input",{type:"number",name:"stock",value:(H==null?void 0:H.stock)||1,onChange:Pe,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",min:"1",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Precio (S/)*"}),e.jsx("input",{type:"number",name:"price",value:(H==null?void 0:H.price)||"",onChange:ne=>Q({...H,price:ne.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"renewal",checked:(H==null?void 0:H.renewal)||!1,onChange:ne=>Q({...H,renewal:ne.target.checked}),className:"h-4 w-4 text-cyan-400 focus:ring cyan-400 border-gray-600/50 rounded"}),e.jsx("label",{className:"ml-2 text-gray-300",children:"¿Tiene renovación?"})]})]}),(H==null?void 0:H.renewal)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Precio de renovación (S/)*"}),e.jsx("input",{type:"number",name:"renewalPrice",value:(H==null?void 0:H.renewalPrice)||"",onChange:ne=>Q({...H,renewalPrice:ne.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Duración (días)"}),e.jsx("input",{type:"number",name:"duration",value:(H==null?void 0:H.duration)||"",onChange:ne=>Q({...H,duration:ne.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Dejar vacío para ilimitado",min:"1"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2",children:["Teléfono de contacto ",(H==null?void 0:H.status)==="A pedido"?"*":""]}),e.jsx("input",{type:"text",name:"providerPhone",value:(H==null?void 0:H.providerPhone)||"",onChange:ne=>Q({...H,providerPhone:ne.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: +51 987654321",required:(H==null?void 0:H.status)==="A pedido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Detalles del producto"}),e.jsx("textarea",{name:"details",value:(H==null?void 0:H.details)||"",onChange:ne=>Q({...H,details:ne.target.value}),rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Describe los detalles y características del producto"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Términos y condiciones"}),e.jsx("textarea",{name:"terms",value:(H==null?void 0:H.terms)||"",onChange:ne=>Q({...H,terms:ne.target.value}),rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Especifica los términos y condiciones de uso"})]}),(H==null?void 0:H.status)==="En stock"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Cuentas asociadas*"}),e.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Debe completar todas las cuentas según el stock indicado"}),e.jsx("div",{className:"space-y-4",children:(Lr=H==null?void 0:H.accounts)==null?void 0:Lr.map((ne,Ne)=>e.jsxs("div",{className:"border border-gray-600/50 rounded-xl p-4 bg-gray-700/50 backdrop-blur-sm",children:[e.jsxs("h4",{className:"text-sm font-medium text-white mb-3",children:["Cuenta ",Ne+1]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Correo electrónico*"}),e.jsx("input",{type:"email",value:ne.email,onChange:Re=>Ce(Ne,"email",Re.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Contraseña*"}),e.jsx("input",{type:"text",value:ne.password,onChange:Re=>Ce(Ne,"password",Re.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Perfil (opcional)"}),e.jsx("input",{type:"text",value:ne.profile,onChange:Re=>Ce(Ne,"profile",Re.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",placeholder:"Ej: Perfil 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"PIN (opcional)"}),e.jsx("input",{type:"text",value:ne.pin,onChange:Re=>Ce(Ne,"pin",Re.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",placeholder:"Ej: 1234"})]})]})]},Ne))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 bg-gray-700/50 text-gray-300 rounded-xl hover:bg-gray-600/50 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{onClick:Zt,className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white font-medium rounded-xl transition-all duration-300",children:"Guardar Cambios"})]})]})]})}),L&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[e.jsx(Mc,{className:"mr-2"})," Editar Detalles de Cuenta"]}),e.jsx("button",{onClick:()=>O(!1),className:"text-gray-300 hover:text-white",children:e.jsx(le,{size:24})})]}),I&&e.jsx("div",{className:"bg-red-900/80 border-l-4 border-red-500 p-4 mb-6 rounded-xl",children:e.jsxs("div",{className:"flex",children:[e.jsx(lt,{className:"h-5 w-5 text-red-400"}),e.jsx("p",{className:"ml-3 text-sm text-red-300",children:I})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico*"}),e.jsx("input",{type:"email",name:"email",value:(b==null?void 0:b.accountDetails.email)||"",onChange:Ft,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Contraseña*"}),e.jsx("input",{type:"text",name:"password",value:(b==null?void 0:b.accountDetails.password)||"",onChange:Ft,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Perfil (opcional)"}),e.jsx("input",{type:"text",name:"profile",value:(b==null?void 0:b.accountDetails.profile)||"",onChange:Ft,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",placeholder:"Ej: Perfil 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"PIN (opcional)"}),e.jsx("input",{type:"text",name:"pin",value:(b==null?void 0:b.accountDetails.pin)||"",onChange:Ft,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",placeholder:"Ej: 1234"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{onClick:()=>O(!1),className:"px-4 py-2 bg-gray-700/50 text-gray-300 rounded-xl hover:bg-gray-600/50 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{onClick:Zs,className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white font-medium rounded-xl transition-all duration-300",children:"Guardar Cambios"})]})]})]})}),B.open&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl max-w-md w-full mx-4 border border-gray-700/50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(go,{className:"mx-auto text-4xl text-green-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"¡Éxito!"}),e.jsx("p",{className:"text-gray-300 mb-4",children:B.message}),e.jsx("button",{onClick:()=>J({open:!1,message:""}),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]})})})]})},WD=({isOpen:s,message:t,title:r,onClose:a})=>s?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:r}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(le,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:a,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,GD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState("inicio"),[i,o]=j.useState(""),[l,c]=j.useState(""),[x,p]=j.useState(0),[N,E]=j.useState([]),[S,R]=j.useState([]),[y,V]=j.useState([]),[v,P]=j.useState([]),[z,M]=j.useState([]),[H,Q]=j.useState([]),[W,D]=j.useState([]),[d,$]=j.useState([]),[B,J]=j.useState(0),[_,q]=j.useState({day:0,week:0,month:0,total:0}),[Se,Oe]=j.useState(!0),[Ee,Te]=j.useState({}),[ue,ge]=j.useState(null),[xe,K]=j.useState(""),[ee,n]=j.useState({isOpen:!1,message:"",title:""}),[g,m]=j.useState(!1),T=mt(),F=(se,ce)=>{n({isOpen:!0,title:se,message:ce})},Z=()=>{n({isOpen:!1,message:"",title:""})};j.useEffect(()=>{const se=Nt(ze,ce=>{!ce&&!g?T("/login"):ce&&(c(ce.email),w(ce.uid),Oe(!1))});return()=>se()},[T,g]);const w=async se=>{try{const ce=U(C,"users",se),Ie=await Ue(ce);if(Ie.exists()){const ke=Ie.data();o(ke.username||ke.email.split("@")[0])}else ge("Usuario no encontrado en la base de datos")}catch(ce){console.error("Error al obtener el nombre de usuario:",ce),ge("Error al cargar datos del usuario")}},L=se=>{const Ie=se*5,ke=Ie*.25,Pe=Ie*.05;q({day:Pe,week:ke,month:Ie,total:Ie})};j.useEffect(()=>{(async()=>{try{const bt=await ct(X(C,"users")),ot=bt.size,Zt=bt.docs.map(Et=>({id:Et.id,...Et.data()}));p(ot),E(Zt.slice(-5)),R(Zt),L(ot);const Mt=pe(X(C,"pendingRegistrations"),fe("status","==","pending")),Is=await ct(Mt);V(Is.docs.map(Et=>({id:Et.id,...Et.data()})));const $s=pe(X(C,"pendingTopUps"),fe("status","==","pendiente")),zs=await ct($s);P(zs.docs.map(Et=>({id:Et.id,...Et.data()})));const zr=pe(X(C,"withdrawals"),fe("status","==","pending")),Zs=await ct(zr);M(Zs.docs.map(Et=>({id:Et.id,...Et.data()})));const ur=await ct(X(C,"topUpsHistory"));Q(ur.docs.map(Et=>({id:Et.id,...Et.data()})));const xr=await ct(X(C,"withdrawalsHistory"));D(xr.docs.map(Et=>({id:Et.id,...Et.data()})));const ss=(await ct(X(C,"sales"))).docs.map(Et=>({id:Et.id,...Et.data()}));$(ss);const Or=ss.reduce((Et,qs)=>Et+(qs.price||0),0);J(Or)}catch(bt){console.error("Error al obtener datos:",bt),ge("Error al cargar datos")}})();const ce=we(X(C,"users"),bt=>{const ot=bt.size,Zt=bt.docs.map(Mt=>({id:Mt.id,...Mt.data()}));p(ot),E(Zt.slice(-5)),R(Zt),L(ot)}),Ie=we(pe(X(C,"pendingRegistrations"),fe("status","==","pending")),bt=>{V(bt.docs.map(ot=>({id:ot.id,...ot.data()})))}),ke=we(pe(X(C,"pendingTopUps"),fe("status","==","pendiente")),bt=>{P(bt.docs.map(ot=>({id:ot.id,...ot.data()})))}),Pe=we(pe(X(C,"withdrawals"),fe("status","==","pending")),bt=>{M(bt.docs.map(ot=>({id:ot.id,...ot.data()})))}),ye=we(X(C,"topUpsHistory"),bt=>{Q(bt.docs.map(ot=>({id:ot.id,...ot.data()})))}),Ce=we(X(C,"withdrawalsHistory"),bt=>{D(bt.docs.map(ot=>({id:ot.id,...ot.data()})))}),Ft=we(X(C,"sales"),bt=>{const ot=bt.docs.map(Mt=>({id:Mt.id,...Mt.data()}));$(ot);const Zt=ot.reduce((Mt,Is)=>Mt+(Is.price||0),0);J(Zt)});return()=>{ce(),Ie(),ke(),Pe(),ye(),Ce(),Ft()}},[]);const O=async se=>{try{Te(Pe=>({...Pe,[se]:!0}));const ce=U(C,"withdrawals",se),Ie=z.find(Pe=>Pe.id===se);if(!(Ie!=null&&Ie.providerId))throw new Error("Proveedor no encontrado para el retiro");await xs(ce,{status:"approved",updatedAt:qt()});const ke=U(C,"users",Ie.providerId);await xs(ke,{balance:He(-Ie.amount||0)}),await Er(U(C,"withdrawalsHistory",se),{...Ie,status:"approved",updatedAt:qt()}),ge(null),F("Éxito","Retiro aprobado exitosamente")}catch(ce){console.error("Error al aprobar retiro:",ce),ge(ce.message||"Error al aprobar el retiro"),F("Error",ce.message||"Error al aprobar el retiro")}finally{Te(ce=>({...ce,[se]:!1}))}},b=async se=>{try{Te(ke=>({...ke,[se]:!0}));const ce=U(C,"withdrawals",se);await xs(ce,{status:"denied",updatedAt:qt()});const Ie=z.find(ke=>ke.id===se);await Er(U(C,"withdrawalsHistory",se),{...Ie,status:"denied",updatedAt:qt()}),ge(null),F("Éxito","Retiro rechazado exitosamente")}catch(ce){console.error("Error al rechazar retiro:",ce),ge(ce.message||"Error al rechazar el retiro"),F("Error",ce.message||"Error al rechazar el retiro")}finally{Te(ce=>({...ce,[se]:!1}))}},f=async se=>{try{Te(Pe=>({...Pe,[se]:!0}));const ce=U(C,"pendingTopUps",se),Ie=v.find(Pe=>Pe.id===se);if(!(Ie!=null&&Ie.userId))throw new Error("Usuario no encontrado para la recarga");await xs(ce,{status:"aprobado",updatedAt:qt()});const ke=U(C,"users",Ie.userId);await xs(ke,{balance:He(Ie.amount||0)}),await Er(U(C,"topUpsHistory",se),{...Ie,status:"aprobado",updatedAt:qt()}),ge(null),F("Éxito","Recarga aprobada exitosamente")}catch(ce){console.error("Error al aprobar recarga:",ce),ge(ce.message||"Error al aprobar la recarga"),F("Error",ce.message||"Error al aprobar la recarga")}finally{Te(ce=>({...ce,[se]:!1}))}},I=async se=>{try{Te(ke=>({...ke,[se]:!0}));const ce=U(C,"pendingTopUps",se);await xs(ce,{status:"rechazado",updatedAt:qt()});const Ie=v.find(ke=>ke.id===se);await Er(U(C,"topUpsHistory",se),{...Ie,status:"rechazado",updatedAt:qt()}),ge(null),F("Éxito","Recarga rechazada exitosamente")}catch(ce){console.error("Error al rechazar recarga:",ce),ge(ce.message||"Error al rechazar la recarga"),F("Error",ce.message||"Error al rechazar la recarga")}finally{Te(ce=>({...ce,[se]:!1}))}},oe=async se=>{try{Te(Ce=>({...Ce,[se]:!0})),m(!0);const ce=U(C,"pendingRegistrations",se),Ie=y.find(Ce=>Ce.id===se);if(!Ie)throw new Error("Solicitud no encontrada");if((await x8(ze,Ie.email)).length>0)throw new Error("El correo ya está registrado");const ye=(await c8(ze,Ie.email,Ie.password)).user;await Er(U(C,"users",ye.uid),{username:Ie.username,email:Ie.email,role:Ie.role||"usuario",balance:0,createdAt:qt()}),await xs(ce,{status:"approved",updatedAt:qt()}),await Po(ze),ge(null),F("Éxito","Solicitud de registro aprobada exitosamente")}catch(ce){console.error("Error al aceptar solicitud:",ce),ge(ce.message||"Error al aceptar la solicitud de registro"),F("Error",ce.message||"Error al aceptar la solicitud de registro")}finally{Te(ce=>({...ce,[se]:!1})),m(!1)}},ae=async se=>{try{Te(Ie=>({...Ie,[se]:!0}));const ce=U(C,"pendingRegistrations",se);await xs(ce,{status:"denied",updatedAt:qt()}),ge(null),F("Éxito","Solicitud de registro rechazada exitosamente")}catch(ce){console.error("Error al rechazar solicitud:",ce),ge(ce.message||"Error al rechazar la solicitud de registro"),F("Error",ce.message||"Error al rechazar la solicitud de registro")}finally{Te(ce=>({...ce,[se]:!1}))}},ie=async()=>{try{await Po(ze),T("/")}catch(se){console.error("Error al cerrar sesión:",se),ge(se.message||"Error al cerrar sesión"),F("Error",se.message||"Error al cerrar sesión")}},Y=async se=>{se.preventDefault();try{Te(Pe=>({...Pe,config:!0}));const ce=ze.currentUser;if(!ce)throw new Error("Usuario no autenticado");const Ie=U(C,"users",ce.uid);await xs(Ie,{username:i,updatedAt:qt()});const ke=se.target.password.value;if(ke){if(ke.length<6)throw new Error("La contraseña debe tener al menos 6 caracteres");await Ap(ce,ke)}ge(null),F("Éxito","Cambios guardados exitosamente")}catch(ce){console.error("Error al guardar cambios:",ce),ge(ce.message||"Error al guardar cambios"),F("Error",ce.message||"Error al guardar cambios")}finally{Te(ce=>({...ce,config:!1}))}},te=se=>{if(!se)return"No especificada";try{const ce=se.toDate?se.toDate():new Date(se);return isNaN(ce.getTime())?"Fecha inválida":ce.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},Be=se=>{if(se.status==="pending")return"Pendiente";if(!se.expirationDate)return"Activo";const ce=new Date,Ie=se.expirationDate.toDate?se.expirationDate.toDate():new Date(se.expirationDate);return ce>Ie?"Expirado":"Activo"},me=()=>{if(Se)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(ue)return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(lt,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:ue}),e.jsx("button",{onClick:()=>ge(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(r){case"inicio":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:i})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Información de cuenta"}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:i})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(qr,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:l})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Ganancias del mes"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",_.month.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"(5 soles por cada usuario)"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Usuarios registrados"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:x}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Total ganancias: S/ ",_.total.toFixed(2)]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Últimos usuarios"}),N.length>0?N.map(se=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:se.username||"Sin nombre"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-cyan-900/80 text-cyan-400",children:se.role||"usuario"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:se.email})]},se.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay usuarios registrados"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Solicitudes pendientes"}),y.length>0?y.slice(0,3).map(se=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:se.username||"Sin nombre"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-purple-900/80 text-purple-400",children:se.role||"usuario"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:se.email})]},se.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay solicitudes pendientes"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Retiros pendientes"}),z.length>0?z.slice(0,3).map(se=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:se.provider||"Sin proveedor"}),e.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-900/80 text-yellow-400",children:["S/ ",(se.amount||0).toFixed(2)]})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Método: ",se.method||"No especificado"]})]},se.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay retiros pendientes"})]})]})]});case"usuarios":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Solicitudes de registro"}),y.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Rol"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:y.map(se=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:se.username||"Sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:se.email}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-cyan-900/80 text-cyan-400",children:se.role||"usuario"})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>oe(se.id),disabled:Ee[se.id],className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300 disabled:bg-green-800",title:"Aceptar",children:Ee[se.id]?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):e.jsx($l,{size:16})}),e.jsx("button",{onClick:()=>ae(se.id),disabled:Ee[se.id],className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-xl transition-all duration-300 disabled:bg-red-800",title:"Rechazar",children:Ee[se.id]?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):e.jsx(le,{size:16})})]})})]},se.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ql,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay solicitudes de registro pendientes"})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:["Todos los usuarios (",x,")"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar usuarios...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:xe,onChange:se=>K(se.target.value)}),e.jsx(_0,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),S.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Rol"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Saldo"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:S.filter(se=>(se.username||"").toLowerCase().includes(xe.toLowerCase())||(se.email||"").toLowerCase().includes(xe.toLowerCase())).map(se=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:se.username||"Sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:se.email}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-cyan-900/80 text-cyan-400",children:se.role||"usuario"})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",(se.balance||0).toFixed(2)]})]},se.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ql,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay usuarios registrados"})]})]})]});case"recargas":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Recargas pendientes"}),v.length>0?e.jsx("div",{className:"space-y-4",children:v.map(se=>e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-cyan-900/80 rounded-full flex items-center justify-center text-cyan-400",children:e.jsx(hs,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:se.username||"Sin nombre"}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Solicitado: ",te(se.requestedAt)]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-lg font-medium text-white",children:["S/ ",(se.amount||0).toFixed(2)]})})]}),e.jsx("div",{className:"p-4 bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:()=>f(se.id),disabled:Ee[se.id],className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 disabled:bg-green-800 transition-all duration-300",children:Ee[se.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx($l,{size:18})," Aprobar Recarga"]})}),e.jsx("button",{onClick:()=>I(se.id),disabled:Ee[se.id],className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 disabled:bg-red-800 transition-all duration-300",children:Ee[se.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(le,{size:18})," Rechazar Recarga"]})})]})})]},se.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(hs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay recargas pendientes"}),e.jsx("p",{className:"text-gray-400",children:"Todas las solicitudes han sido procesadas"})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),H.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:H.map(se=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:se.username||"Sin nombre"}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",(se.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${se.status==="aprobado"?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:se.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:te(se.updatedAt)})]},se.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(hs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay historial de recargas"})]})]})]});case"retiros":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Solicitudes de retiro"}),z.length>0?e.jsx("div",{className:"space-y-4",children:z.map(se=>e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-900/80 rounded-full flex items-center justify-center text-yellow-400",children:e.jsx(hs,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:se.provider||"Sin proveedor"}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Email: ",se.providerEmail||"No disponible"]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Solicitado: ",te(se.createdAt)]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Método: ",se.method||"No especificado"]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Cuenta: ",se.account||"No especificada"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-lg font-medium text-white",children:["S/ ",(se.amount||0).toFixed(2)]})})]}),e.jsx("div",{className:"p-4 bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:()=>O(se.id),disabled:Ee[se.id],className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 disabled:bg-green-800 transition-all duration-300",children:Ee[se.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx($l,{size:18})," Aprobar Retiro"]})}),e.jsx("button",{onClick:()=>b(se.id),disabled:Ee[se.id],className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 disabled:bg-red-800 transition-all duration-300",children:Ee[se.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(le,{size:18})," Rechazar Retiro"]})})]})})]},se.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(hs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay retiros pendientes"}),e.jsx("p",{className:"text-gray-400",children:"Todas las solicitudes han sido procesadas"})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de retiros"}),W.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Proveedor"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Método"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:W.map(se=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:se.provider||"Sin proveedor"}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",(se.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${se.status==="approved"?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:se.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:te(se.updatedAt)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:se.method||"No especificado"})]},se.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(hs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay historial de retiros"})]})]})]});case"pedidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Ventas General"}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center mb-6 border border-gray-600/50",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Total Ventas"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",B.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"Suma de todos los pedidos realizados"})]}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de Pedidos"}),d.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Nombre del Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Precio"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Proveedor"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario Comprador"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha y Hora de Compra"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Detalles de la Cuenta"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:d.map(se=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:se.productName||"Sin nombre"}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",(se.price||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:se.provider||"Sin proveedor"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:se.buyerUsername||"Sin usuario"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:te(se.purchaseDate)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Be(se)==="Pendiente"?"bg-yellow-900/80 text-yellow-400":Be(se)==="Activo"?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:Be(se)})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:se.accountDetails?`Email: ${se.accountDetails.email||"N/A"}, Contraseña: ${se.accountDetails.password||"N/A"}, Perfil: ${se.accountDetails.profile||"N/A"}, PIN: ${se.accountDetails.pin||"No especificado"}`:"N/A"})]},se.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ut,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay pedidos registrados"})]})]});case"ganancias":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Reporte de ganancias"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias hoy"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",_.day.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"(5 soles por usuario)"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias esta semana"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",_.week.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"(25% del total de usuarios)"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias este mes"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",_.month.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"(5 soles por cada usuario)"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Resumen de ganancias"}),e.jsxs("span",{className:"px-3 py-1 bg-cyan-900/80 text-cyan-400 rounded-full text-sm",children:["Total: S/ ",_.total.toFixed(2)]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-600/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Concepto"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Valor"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Cálculo"})]})}),e.jsxs("tbody",{className:"bg-gray-700/50 divide-y divide-gray-600/50",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-gray-300",children:"Ganancias por usuario"}),e.jsx("td",{className:"px-4 py-3 text-white",children:"S/ 5.00"}),e.jsx("td",{className:"px-4 py-3 text-gray-400",children:"Fijo por cada usuario registrado"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-gray-300",children:"Total usuarios"}),e.jsx("td",{className:"px-4 py-3 text-white",children:x}),e.jsx("td",{className:"px-4 py-3 text-gray-400",children:"Usuarios activos en el sistema"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-gray-300",children:"Ganancias totales"}),e.jsxs("td",{className:"px-4 py-3 text-white",children:["S/ ",_.total.toFixed(2)]}),e.jsxs("td",{className:"px-4 py-3 text-gray-400",children:[x," usuarios × S/ 5.00"]})]})]})]})})]})]});case"configuracion":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuración de cuenta"}),e.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsx("input",{type:"text",value:i,onChange:se=>o(se.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico"}),e.jsx("input",{type:"email",value:l,readOnly:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contraseña (opcional)"}),e.jsx("input",{type:"password",name:"password",placeholder:"Nueva contraseña",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),e.jsx("button",{type:"submit",disabled:Ee.config,className:"w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium mt-4 transition-all duration-300 disabled:bg-cyan-800",children:Ee.config?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar cambios"})]}),e.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:e.jsxs("button",{onClick:ie,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[e.jsx(pt,{})," Cerrar sesión"]})})]});default:return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(lt,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),e.jsx("button",{onClick:()=>a("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!s),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:e.jsx(kt,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${s?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(le,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:i.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:i}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:l})]})]}),e.jsxs("nav",{className:"flex-1 space-y-1",children:[e.jsxs("button",{onClick:()=>{a("inicio"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="inicio"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(Pu,{})," ",e.jsx("span",{children:"Inicio"})]}),e.jsxs("button",{onClick:()=>{a("recargas"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="recargas"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(hs,{})," ",e.jsx("span",{children:"Recargas"})]}),e.jsxs("button",{onClick:()=>{a("retiros"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="retiros"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(ZC,{})," ",e.jsx("span",{children:"Retiros"})]}),e.jsxs("button",{onClick:()=>{a("usuarios"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="usuarios"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(ql,{})," ",e.jsx("span",{children:"Usuarios"})]}),e.jsxs("button",{onClick:()=>{a("pedidos"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="pedidos"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(ut,{})," ",e.jsx("span",{children:"Pedidos"})]}),e.jsxs("button",{onClick:()=>{a("ganancias"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="ganancias"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(th,{})," ",e.jsx("span",{children:"Ganancias"})]}),e.jsxs("button",{onClick:()=>{a("configuracion"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="configuracion"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(yo,{})," ",e.jsx("span",{children:"Configuración"})]})]}),e.jsx("div",{className:"mt-auto pt-4",children:e.jsxs("button",{onClick:ie,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx(pt,{})," ",e.jsx("span",{children:"Cerrar sesión"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 sm:p-6 pt-20 md:pt-6",children:me()}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>t(!1)}),e.jsx(WD,{isOpen:ee.isOpen,message:ee.message,title:ee.title,onClose:Z})]})},HD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Netflix")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",accountType:f.accountType||"No especificado",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,netflix:O.length}))},w=>{R("Error al cargar productos de Netflix"),console.error(w)}),m=pe(X(C,"netflix_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"netflix"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"netflix"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms,accountType:n.accountType})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider,accountType:n.accountType}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Netflix`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Netflix...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-red-400 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-red-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-red-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-600/30 text-white border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1522869635100-9f4c5e86aa37?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Netflix"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus series y películas favoritas con nuestras cuentas premium de Netflix"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-red-400",size:16}),e.jsxs("span",{className:"text-gray-400",children:[n.accountType," "]})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-400 focus:border-red-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-400 focus:border-red-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-400 focus:ring-red-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Tipo de cuenta:"}),e.jsx("p",{className:"text-gray-300",children:v.accountType})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms,accountType:v.accountType})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Tipo de cuenta: ",v.accountType]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},QD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Disney")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",accountType:f.accountType||"No especificado",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,disney:O.length}))},w=>{R("Error al cargar productos de Disney"),console.error(w)}),m=pe(X(C,"disney_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"disney"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"disney"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms,accountType:n.accountType})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider,accountType:n.accountType}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Disney`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-blue-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-blue-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-blue-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-blue-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Disney+...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-blue-400 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-blue-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-blue-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-blue-600/80 hover:bg-blue-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-blue-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-blue-500 text-white hover:bg-blue-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-blue-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-blue-600/30 text-white border border-blue-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1618336753974-8d9f3046f1e8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Disney+"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de películas, series y contenido exclusivo con nuestras cuentas premium de Disney+"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-blue-400 hover:text-blue-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-blue-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.accountType})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700":"bg-blue-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-blue-400 focus:ring-blue-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-blue-400 hover:text-blue-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-blue-400 hover:text-blue-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Tipo de cuenta:"}),e.jsx("p",{className:"text-gray-300",children:v.accountType})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms,accountType:v.accountType})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Tipo de cuenta: ",v.accountType]}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-blue-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},KD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Max")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",accountType:f.accountType||"Premium",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,max:O.length}))},w=>{R("Error al cargar productos de Max"),console.error(w)}),m=pe(X(C,"max_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"max"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"max"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Max`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-purple-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-purple-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-purple-500 text-white rounded-full hover:bg-purple-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-purple-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Max...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-purple-400 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-purple-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-purple-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-purple-600/80 hover:bg-purple-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-purple-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-purple-500 text-white hover:bg-purple-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-purple-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-purple-600/30 text-white border border-purple-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1536440136628-849c177e76a1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Max"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus series y películas favoritas con nuestras cuentas premium de Max"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-purple-400 hover:text-purple-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-purple-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-purple-400",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-purple-400",size:16}),e.jsxs("span",{className:"text-gray-400",children:[n.accountType||"Premium"," "]})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-purple-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700":"bg-purple-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-purple-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-purple-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-purple-400 focus:ring-purple-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-purple-400 hover:text-purple-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-purple-400 hover:text-purple-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-purple-500 text-white rounded-xl hover:bg-purple-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este RIDODO, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-purple-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},YD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Spotify")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Premium",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,spotify:O.length}))},w=>{R("Error al cargar productos de Spotify"),console.error(w)}),m=pe(X(C,"spotify_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"spotify"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"spotify"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Spotify`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-green-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-green-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-green-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Spotify...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-green-400 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-green-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-green-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-green-600/80 hover:bg-green-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-green-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-green-500 text-white hover:bg-green-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-green-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-green-600/30 text-white border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Spotify"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Escucha tu música favorita sin límites con nuestras cuentas premium de Spotify"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-green-400 hover:text-green-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-green-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-green-400",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-green-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-green-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700":"bg-green-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-400 focus:border-green-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-400 focus:border-green-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-green-400 focus:ring-green-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-green-400 hover:text-green-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-green-400 hover:text-green-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-green-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},JD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Prime Video")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",accountType:f.accountType||"No especificado",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,primevideo:O.length}))},w=>{R("Error al cargar productos de Prime Video"),console.error(w)}),m=pe(X(C,"primevideo_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"primevideo"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"primevideo"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms,accountType:n.accountType})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider,accountType:n.accountType}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Prime Video`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-yellow-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-yellow-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Prime Video...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-yellow-400 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-yellow-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-yellow-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-yellow-600/80 hover:bg-yellow-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-yellow-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-yellow-500 text-white hover:bg-yellow-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-yellow-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-yellow-600/30 text-white border border-yellow-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-yellow-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1596755094514-40be00b5601e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-yellow-400 mb-3 drop-shadow-lg",children:"Cuentas Premium de Prime Video"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus películas y series favoritas con nuestras cuentas premium de Prime Video"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-yellow-400 hover:text-yellow-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-yellow-400",size:16}),e.jsxs("span",{className:"text-gray-400",children:[n.accountType," "]})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700":"bg-yellow-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-yellow-400 focus:ring-yellow-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-yellow-400 hover:text-yellow-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-yellow-400 hover:text-yellow-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Tipo de cuenta:"}),e.jsx("p",{className:"text-gray-300",children:v.accountType})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms,accountType:v.accountType})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Tipo de cuenta: ",v.accountType]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-yellow-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},XD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Vix")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Premium",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,vix:O.length}))},w=>{R("Error al cargar productos de Vix"),console.error(w)}),m=pe(X(C,"vix_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"vix"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"vix"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Vix`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Vix...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-red-500 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-red-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-red-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-600/30 text-white border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-red-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Vix"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus series y películas favoritas con nuestras cuentas premium de Vix"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-500 focus:ring-red-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este período, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},ZD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Canva")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Standard",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,canva:O.length}))},w=>{R("Error al cargar productos de Canva"),console.error(w)}),m=pe(X(C,"canva_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"canva"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"canva"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Canva`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-teal-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-teal-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-teal-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-teal-500 text-white rounded-full hover:bg-teal-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-teal-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Canva...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-teal-400 focus:border-teal-400 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-teal-400 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-teal-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-teal-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-teal-600/80 hover:bg-teal-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-teal-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-teal-500 text-white hover:bg-teal-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-teal-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-teal-600/30 text-white border border-teal-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-teal-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321310764-9f6b8b7f9a0f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Canva"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Crea diseños impresionantes con nuestras cuentas premium de Canva Pro"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-teal-400 hover:text-teal-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-teal-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-teal-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-teal-400",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-teal-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Standard"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-teal-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700":"bg-teal-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-teal-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-teal-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-teal-400 focus:ring-teal-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-teal-400 hover:text-teal-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-teal-400 hover:text-teal-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-teal-500 text-white rounded-xl hover:bg-teal-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-teal-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},eA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","ChatGPT")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Premium",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,chatgpt:O.length}))},w=>{R("Error al cargar productos de ChatGPT"),console.error(w)}),m=pe(X(C,"chatgpt_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"chatgpt"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"chatgpt"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=ChatGPT`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-teal-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-teal-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-teal-500 text-white rounded-full hover:bg-teal-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-teal-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en ChatGPT...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-teal-500 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-teal-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-teal-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-teal-600/80 hover:bg-teal-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-teal-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-teal-500 text-white hover:bg-teal-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-teal-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-teal-600/30 text-white border border-teal-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-teal-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-teal-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-teal-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de ChatGPT"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Potencia tu creatividad y productividad con nuestras cuentas premium de ChatGPT"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-teal-400 hover:text-teal-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-teal-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-teal-500",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-teal-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-teal-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700":"bg-teal-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-teal-500 focus:ring-teal-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-teal-400 hover:text-teal-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-teal-400 hover:text-teal-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-teal-500 text-white rounded-xl hover:bg-teal-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este período, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-teal-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},tA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Crunchyroll")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Standard",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,crunchyroll:O.length}))},w=>{R("Error al cargar productos de Crunchyroll"),console.error(w)}),m=pe(X(C,"crunchyroll_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"crunchyroll"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"crunchyroll"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Crunchyroll`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-orange-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-orange-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-orange-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-orange-500 text-white rounded-full hover:bg-orange-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-orange-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Crunchyroll...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-orange-400 focus:border-orange-400 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-orange-400 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-orange-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-orange-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-orange-600/80 hover:bg-orange-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-orange-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-orange-500 text-white hover:bg-orange-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-orange-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-orange-600/30 text-white border border-orange-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1618336753974-8d9c4c6c6e38?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Crunchyroll"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de anime, manga y series exclusivas con nuestras cuentas premium de Crunchyroll"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-orange-400 hover:text-orange-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-'arrivo truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-orange-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-orange-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-orange-400",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-orange-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Standard"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-orange-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700":"bg-orange-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-orange-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-orange-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-orange-400 focus:ring-orange-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-orange-400 hover:text-orange-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-orange-400 hover:text-orange-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-orange-500 text-white rounded-xl hover:bg-orange-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-orange-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},sA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Redes Sociales")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Premium",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,redessociales:O.length}))},w=>{R("Error al cargar productos de Redes Sociales"),console.error(w)}),m=pe(X(C,"redessociales_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"redessociales"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"redessociales"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Redes Sociales`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-pink-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-pink-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-pink-500 text-white rounded-full hover:bg-pink-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-pink-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Redes Sociales...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-pink-500 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-pink-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-pink-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-pink-600/80 hover:bg-pink-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-pink-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-pink-500 text-white hover:bg-pink-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-pink-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-teal-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-pink-600/30 text-white border border-pink-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-pink-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-pink-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Redes Sociales"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Conecta y destaca con nuestras cuentas premium de redes sociales"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-pink-400 hover:text-pink-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700":"bg-pink-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-pink-500 focus:ring-pink-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-pink-400 hover:text-pink-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-pink-400 hover:text-pink-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-pink-500 text-white rounded-xl hover:bg-pink-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este período, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-pink-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},rA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=ee=>{const n=Number(ee);return isNaN(n)?"0.00":n.toFixed(2)};j.useEffect(()=>{const ee=Nt(ze,async n=>{if(n)try{const g=await Ue(U(C,"users",n.uid));if(g.exists()){const m=g.data();c({id:n.uid,name:m.username||"Usuario",email:n.email,orders:m.orders||[],role:m.role||"user"}),p(Number(m.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){R("Error al cargar datos del usuario"),console.error(g)}else c(null),p(0);E(!1)});return()=>ee()},[]),j.useEffect(()=>{const ee=pe(X(C,"products"),fe("category","==","Apple Music")),n=we(ee,async Z=>{const w=Z.docs.map(O=>{const b=O.data();return{id:O.id,...b,price:Number(b.price)||0,stock:Number(b.availableAccounts)||0,accountDetails:b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",type:b.type||"Premium",status:b.status||"En stock"}}),L=await Promise.all(w.map(async O=>{if(!O.provider||O.provider==="Proveedor no especificado")try{if(O.providerId){const b=await Ue(U(C,"users",O.providerId));if(b.exists())return{...O,provider:b.data().username||b.data().email||O.provider,providerPhone:b.data().phoneNumber||O.providerPhone}}}catch(b){console.error("Error al cargar datos del proveedor:",b)}return O}));a(L),$(O=>({...O,applemusic:L.length}))},Z=>{R("Error al cargar productos de Apple Music"),console.error(Z)}),g=pe(X(C,"applemusic_accounts"),fe("status","==","available")),m=we(g,Z=>{const w=Z.docs.map(L=>({id:L.id,...L.data(),productId:L.data().productId||"",providerId:L.data().providerId||""}));o(w)},Z=>{console.error("Error al cargar cuentas:",Z)}),F=["Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas","Netflix"].map(Z=>{const w=Z.toLowerCase().replace(/\s+/g,""),L=pe(X(C,"products"),fe("category","==",Z));return we(L,O=>{$(b=>({...b,[w]:O.docs.length}))},O=>{console.error(`Error al cargar productos de ${Z}:`,O)})});return()=>{n(),m(),F.forEach(Z=>Z())}},[]);const Se=ee=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<ee.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!ee.providerId||ee.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:ee,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const ee=y.product;if(!ee.providerId||ee.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let n=null;ee.status==="En stock"?n=await et(C,async g=>{const m=U(C,"products",ee.id),T=await g.get(m);if(!T.exists())throw new Error("Producto no encontrado");if(T.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const Z=X(C,`products/${ee.id}/accounts`),w=pe(Z,fe("status","==","available"),St(1)),L=await ct(w);if(L.empty)throw new Error("No hay cuentas disponibles en la subcolección");const O=L.docs[0],b=O.ref,f=O.data(),I=U(C,"users",l.id),oe=await g.get(I);if(!oe.exists())throw new Error("Usuario no encontrado");let ae=null,ie=ee.providerPhone||"";if(ee.providerId&&!ie){const ce=U(C,"users",ee.providerId);ae=await g.get(ce),ae.exists()&&(ie=ae.data().phoneNumber||"")}g.update(b,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),g.update(m,{availableAccounts:He(-1),stock:He(-1)});const te=(Number(oe.data().balance)||0)-ee.price;if(te<0)throw new Error("Saldo insuficiente");const Be=oe.data().orders||[],me={productId:ee.id,productName:ee.name,price:ee.price,provider:ee.provider,providerId:ee.providerId,providerPhone:ie,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado"},terms:ee.terms,type:"applemusic"};g.update(I,{balance:te,orders:[...Be,me]});const se=U(X(C,"sales"));if(g.set(se,{...me,provider:ee.provider,providerId:ee.providerId,providerPhone:ie,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado"}}),ae&&ae.exists()){const ce=ae.data().sales||[],Ie={saleId:se.id,productId:ee.id,productName:ee.name,price:ee.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};g.update(U(C,"users",ee.providerId),{sales:[...ce,Ie]})}return f}):await et(C,async g=>{const m=U(C,"users",l.id),T=await g.get(m);if(!T.exists())throw new Error("Usuario no encontrado");let F=null,Z=ee.providerPhone||"";if(ee.providerId&&!Z){const I=U(C,"users",ee.providerId);F=await g.get(I),F.exists()&&(Z=F.data().phoneNumber||"")}const L=(Number(T.data().balance)||0)-ee.price;if(L<0)throw new Error("Saldo insuficiente");const O=T.data().orders||[],b={productId:ee.id,productName:ee.name,price:ee.price,provider:ee.provider,providerId:ee.providerId,providerPhone:Z,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:ee.terms,type:"applemusic"};g.update(m,{balance:L,orders:[...O,b]});const f=U(X(C,"sales"));if(g.set(f,{...b,provider:ee.provider,providerId:ee.providerId,providerPhone:Z,saleDate:new Date().toISOString(),status:"pending"}),F&&F.exists()){const I=F.data().sales||[],oe={saleId:f.id,productId:ee.id,productName:ee.name,price:ee.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};g.update(U(C,"users",ee.providerId),{sales:[...I,oe]})}}),p(g=>g-ee.price),c(g=>({...g,orders:[...g.orders,{...y,status:ee.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:ee.status==="En stock"?{email:(n==null?void 0:n.email)||"No proporcionado",password:(n==null?void 0:n.password)||"No proporcionado",profile:(n==null?void 0:n.profile)||"No proporcionado"}:null}]})),V(null),D({message:ee.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(ee){R(ee.message||"Error al procesar la compra"),console.error("Error en la compra:",ee)}finally{E(!1)}},Ee=ee=>{P({name:ee.name,accountDetails:ee.accountDetails,provider:ee.provider,terms:ee.terms})},Te=ee=>{P({name:ee.name,terms:ee.terms,provider:ee.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=ee=>{ee.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Apple Music`)},xe=r.filter(ee=>ee.name.toLowerCase().includes(B.toLowerCase())),K=ee=>ee.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):ee.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",ee.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(lt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Apple Music...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:B,onChange:ee=>J(ee.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Apple Music"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tu música favorita con nuestras cuentas premium de Apple Music"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:xe.map(ee=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:ee.image||"https://via.placeholder.com/300",alt:ee.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),K(ee)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:ee.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:ee.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:ee.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:ee.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(ee.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(ee),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Pt,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(ee),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(Ge,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(ee),disabled:ee.status==="En stock"&&ee.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${ee.status==="A pedido"||ee.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2"}),ee.status==="A pedido"?"Pedir":ee.stock>0?"Comprar":"Agotado"]})]})]},ee.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:ee=>V(n=>({...n,customerName:ee.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:ee=>V(n=>({...n,phoneNumber:ee.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:["removing duplicate code here for brevity",e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:v.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},aA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Apple Tv")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Premium",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,appletv:O.length}))},w=>{R("Error al cargar productos de Apple TV"),console.error(w)}),m=pe(X(C,"appletv_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"appletv"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"appletv"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Apple Tv`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-gray-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-gray-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-gray-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gray-500 text-white rounded-full hover:bg-gray-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-gray-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Apple TV...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-gray-400 focus:border-gray-400 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-gray-400 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-gray-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-gray-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-gray-600/80 hover:bg-gray-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-gray-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-gray-500 text-white hover:bg-gray-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-gray-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-gray-600/30 text-white border border-gray-400/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-400"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-blue-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1485846234645-a62644f84728?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Apple TV+"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de series y películas originales con Apple TV+"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes de Apple TV+ Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-gray-400 hover:text-gray-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-gray-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-gray-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-gray-400",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-gray-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Plus"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-gray-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700":"bg-gray-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-gray-400 focus:border-gray-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-gray-400 focus:border-gray-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-gray-400 focus:ring-gray-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-gray-400 hover:text-gray-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-gray-400 hover:text-gray-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-gray-500 text-white rounded-xl hover:bg-gray-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la suscripción:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu suscripción."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu suscripción durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la suscripción adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-gray-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},nA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Iptv")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Premium",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,iptv:O.length}))},w=>{R("Error al cargar productos de IPTV"),console.error(w)}),m=pe(X(C,"iptv_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"iptv"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"iptv"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=IPTV`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en IPTV...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-blue-600/80 hover:bg-blue-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-cyan-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-blue-600/30 text-white border border-blue-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-cyan-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1522869635100-9f4c5e86aa37?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Suscripciones Premium de IPTV"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de una amplia variedad de canales y contenido en vivo con nuestras suscripciones premium de IPTV"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4"}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-cyan-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-cyan-400",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-cyan-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-cyan-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-blue-600 to-cyan-500 hover:from-blue-700 hover:to-cyan-600":"bg-blue-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},iA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Flujo Tv")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Premium",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,flujotv:O.length}))},w=>{R("Error al cargar productos de Flujo TV"),console.error(w)}),m=pe(X(C,"flujotv_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"flujotv"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"flujotv"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Flujo Tv`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Flujo TV...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-red-500 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-red-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-red-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-600/30 text-white border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1598899134739-24c46f58b8c0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Flujo TV"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus programas y películas favoritas con nuestras cuentas premium de Flujo TV"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-red-500 hover:text-red-400 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-500 focus:ring-red-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-red-500 hover:text-red-400 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-red-500 hover:text-red-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"ConcurrentModificationException justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},lA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Viki Rakuten")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Premium",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,vikirakuten:O.length}))},w=>{R("Error al cargar productos de Viki Rakuten"),console.error(w)}),m=pe(X(C,"vikirakuten_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"vikirakuten"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"vikirakuten"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Viki Rakuten`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-pink-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-pink-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-pink-500 text-white rounded-full hover:bg-pink-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-pink-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Viki Rakuten...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-pink-500 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-pink-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-pink-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-pink-600/80 hover:bg-pink-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-pink-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-pink-500 text-white hover:bg-pink-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-pink-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-pink-600/30 text-white border border-pink-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-pink-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321497487-e288fb19713f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Viki Rakuten"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de los mejores dramas asiáticos y entretenimiento global con nuestras cuentas premium de Viki Rakuten"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-pink-500 hover:text-pink-400 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700":"bg-pink-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-pink-500 focus:ring-pink-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-pink-500 hover:text-pink-400 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-pink-500 hover:text-pink-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-pink-500 text-white rounded-xl hover:bg-pink-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-pink-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},oA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Pornhub")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Premium",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,pornhub:O.length}))},w=>{R("Error al cargar productos de Pornhub"),console.error(w)}),m=pe(X(C,"pornhub_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"pornhub"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"pornhub"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Pornhub`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-700 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-red-700 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-red-700 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-700 text-white rounded-full hover:bg-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-700 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Pornhub...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-700 focus:border-red-700 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-red-700 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-red-700"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-red-700",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-700/80 hover:bg-red-800 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-700 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-red-700 text-white hover:bg-red-800 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-700",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-700/30 text-white border border-red-700/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-700/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321497487-e288fb19713f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Pornhub"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Accede a contenido exclusivo con nuestras cuentas premium de Pornhub"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-red-700 hover:text-red-600 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-red-700",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-red-700",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-red-700",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-red-700",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-red-700 to-red-800 hover:from-red-800 hover:to-red-900":"bg-red-700/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-700 focus:border-red-700 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-700 focus:border-red-700 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-700 focus:ring-red-700 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-red-700 hover:text-red-600 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-red-700 hover:text-red-600 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-red-700 text-white rounded-xl hover:bg-red-800 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-red-700 text-white rounded-xl hover:bg-red-800 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border salinity-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-red-700 text-white rounded-xl hover:bg-red-800 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-700",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},cA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Paramount")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Premium",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,paramount:O.length}))},w=>{R("Error al cargar productos de Paramount"),console.error(w)}),m=pe(X(C,"paramount_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"paramount"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"paramount"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Paramount`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-blue-600 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-blue-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-blue-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-400 text-white rounded-full hover:bg-blue-500 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-blue-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Paramount...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-blue-400 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-blue-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-blue-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-blue-400/80 hover:bg-blue-500 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-blue-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-blue-400 text-white hover:bg-blue-500 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-blue-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-blue-400/30 text-white border border-blue-400/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-400/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1536440136628-849c177e76a1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Paramount+"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de películas y series exclusivas con nuestras cuentas premium de Paramount+"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-blue-400 hover:text-blue-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-blue-400 to-blue-600 hover:from-blue-500 hover:to-blue-700":"bg-blue-400/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-blue-400 focus:ring-blue-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-blue-400 hover:text-blue-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-blue-400 hover:text-blue-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-blue-400 text-white rounded-xl hover:bg-blue-500 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-blue-400 text-white rounded-xl hover:bg-blue-500 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-blue-400 text-white rounded-xl hover:bg-blue-500 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-blue-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},dA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Licencias")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Premium",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,licencias:O.length}))},w=>{R("Error al cargar productos de Licencias"),console.error(w)}),m=pe(X(C,"licencias_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"licencias"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"licencias"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Licencias`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-blue-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-blue-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-blue-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Licencias...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-blue-500 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-blue-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-blue-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-blue-600/80 hover:bg-blue-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-blue-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-blue-500 text-white hover:bg-blue-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-blue-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-blue-600/30 text-white border border-blue-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-blue-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321497487-e288fb19713f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Licencias Premium"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Accede a licencias de software premium para potenciar tu productividad y creatividad"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Licencias Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-blue-500 hover:text-blue-400 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700":"bg-blue-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-blue-500 focus:ring-blue-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-blue-500 hover:text-blue-400 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-blue-500 hover:text-blue-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la licencia:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu licencia."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu licencia durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la licencia adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-blue-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},uA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Capcut")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Premium",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,capcut:O.length}))},w=>{R("Error al cargar productos de Capcut"),console.error(w)}),m=pe(X(C,"capcut_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"capcut"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"capcut"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Capcut`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-700 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-green-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Capcut...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-green-500 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-green-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-green-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-green-500/80 hover:bg-green-600 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-green-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-green-500 text-white hover:bg-green-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-green-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-green-500/30 text-white border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1620114890640-79fcbbc1dd7e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Capcut"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Crea videos profesionales con nuestras cuentas premium de Capcut"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-green-500 to-green-700 hover:from-green-600 hover:to-green-800":"bg-green-500/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-green-500 focus:ring-green-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-green-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},xA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Duolingo")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Premium",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,duolingo:O.length}))},w=>{R("Error al cargar productos de Duolingo"),console.error(w)}),m=pe(X(C,"duolingo_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"duolingo"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"duolingo"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Duolingo`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-green-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Duolingo...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-green-500 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-green-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-green-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-green-600/80 hover:bg-green-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-green-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-green-500 text-white hover:bg-green-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-green-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-blue-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-green-600/30 text-white border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Duolingo Premium"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Aprende idiomas de forma divertida y efectiva con Duolingo Plus"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes de Duolingo Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Plus"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700":"bg-green-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-green-500 focus:ring-green-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la suscripción:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu suscripción."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu suscripción durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la suscripción adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-green-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},mA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Dgo")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Standard",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,dgo:O.length}))},w=>{R("Error al cargar productos de Dgo"),console.error(w)}),m=pe(X(C,"dgo_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"dgo"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"dgo"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Dgo`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-blue-600 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-blue-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-blue-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-blue-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Dgo...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-blue-500 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-blue-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-blue-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-blue-600/80 hover:bg-blue-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-blue-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-blue-600 text-white hover:bg-blue-700 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-blue-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-blue-600/30 text-white border border-blue-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1534972195531-d756b9bfa9f2?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Dgo"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de TV en vivo y streaming con nuestras cuentas premium de DirecTV GO"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-blue-500 hover:text-blue-400 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-blue-500 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Standard"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800":"bg-blue-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-blue-500 focus:ring-blue-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-blue-500 hover:text-blue-400 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-blue-500 hover:text-blue-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-blue-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},hA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Liga Max")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Premium",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,ligamax:O.length}))},w=>{R("Error al cargar productos de Liga Max"),console.error(w)}),m=pe(X(C,"ligamax_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"ligamax"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"ligamax"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Liga Max`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-green-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Liga Max...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-green-500 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-green-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-green-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-green-600/80 hover:bg-green-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-green-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-green-500 text-white hover:bg-green-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-green-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-teal-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-green-600/30 text-white border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-green-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Liga Max"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Vive la emoción del deporte con nuestras cuentas premium de Liga Max"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-green-400 hover:text-green-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700":"bg-green-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-green-500 focus:ring-green-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-green-400 hover:text-green-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-green-400 hover:text-green-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este período, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-green-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},pA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Movistar Play")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Standard",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,movistarplay:O.length}))},w=>{R("Error al cargar productos de Movistar Play"),console.error(w)}),m=pe(X(C,"movistarplay_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"movistarplay"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"movistarplay"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Movistar Play`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-600 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-green-600 text-white rounded-full hover:bg-green-700 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-green-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Movistar Play...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-green-500 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-green-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-green-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-green-600/80 hover:bg-green-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-green-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-green-600 text-white hover:bg-green-700 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-green-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-green-600/30 text-white border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-green-600"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1534972195531-d756b9bfa9f2?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Movistar Play"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de entretenimiento sin límites con nuestras cuentas premium de Movistar Play"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-500 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Standard"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800":"bg-green-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-green-500 focus:ring-green-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-green-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},fA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Youtube")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Standard",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,youtube:O.length}))},w=>{R("Error al cargar productos de YouTube"),console.error(w)}),m=pe(X(C,"youtube_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"youtube"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"youtube"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Youtube`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-600 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-red-600 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-red-600 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-600 text-white rounded-full hover:bg-red-700 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-600 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en YouTube...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-600 focus:border-red-600 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-red-600 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-red-600"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-red-600",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-600 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-red-600 text-white hover:bg-red-700 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-600",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-green-600"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-600/30 text-white border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-600/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1611162617210-b5d9e2a75fe3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de YouTube"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de videos sin anuncios y contenido exclusivo con nuestras cuentas premium de YouTube"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-red-600 hover:text-red-500 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-red-600 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-red-600",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-red-600",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-red-600",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Standard"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-red-600",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-600 focus:border-red-600 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-600 focus:border-red-600 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-600 focus:ring-red-600 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-red-600 hover:text-red-500 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-red-600 hover:text-red-500 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-600",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},gA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState(null),[l,c]=j.useState(0),[x,p]=j.useState(!0),[N,E]=j.useState(null),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(!1),[z,M]=j.useState(!1),[H,Q]=j.useState(null),[W,D]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[d,$]=j.useState(""),B=mt(),J=K=>{const ee=Number(K);return isNaN(ee)?"0.00":ee.toFixed(2)};j.useEffect(()=>{const K=Nt(ze,async ee=>{if(ee)try{const n=await Ue(U(C,"users",ee.uid));if(n.exists()){const g=n.data();o({id:ee.uid,name:g.username||"Usuario",email:ee.email,orders:g.orders||[],role:g.role||"user"}),c(Number(g.balance)||0)}else E("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(n){E("Error al cargar datos del usuario"),console.error(n)}else o(null),c(0);p(!1)});return()=>K()},[]),j.useEffect(()=>{const K=pe(X(C,"products"),fe("category","==","Deezer")),ee=we(K,async m=>{const T=m.docs.map(Z=>{const w=Z.data();return{id:Z.id,...w,price:Number(w.price)||0,stock:Number(w.availableAccounts)||0,accountDetails:w.details||"Detalles no disponibles",terms:w.terms||"Términos del proveedor",provider:w.provider||"Proveedor no especificado",providerId:w.providerId||"",providerPhone:w.providerPhone||"",acceptsOrders:w.status==="A pedido",duration:w.duration||"1 mes",type:w.type||"Premium",status:w.status||"En stock",image:w.image||"https://via.placeholder.com/300",renewal:w.renewal||!1,renewalPrice:Number(w.renewalPrice)||Number(w.price)*.9}}),F=await Promise.all(T.map(async Z=>{if(!Z.provider||Z.provider==="Proveedor no especificado")try{if(Z.providerId){const w=await Ue(U(C,"users",Z.providerId));if(w.exists())return{...Z,provider:w.data().username||w.data().email||Z.provider,providerPhone:w.data().phoneNumber||Z.providerPhone}}}catch(w){console.error("Error al cargar datos del proveedor:",w)}return Z}));a(F),D(Z=>({...Z,deezer:F.length}))},m=>{E("Error al cargar productos de Deezer"),console.error(m)}),g=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(m=>{const T=m.toLowerCase().replace(/\s+/g,""),F=pe(X(C,"products"),fe("category","==",m));return we(F,Z=>{D(w=>({...w,[T]:Z.docs.length}))},Z=>{console.error(`Error al cargar productos de ${m}:`,Z)})});return()=>{ee(),g.forEach(m=>m())}},[]);const _=K=>{if(!i){Q({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>B("/login")});return}if(l<K.price){Q({message:"Saldo insuficiente para realizar esta compra."});return}if(!K.providerId||K.providerId===""){Q({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}R({product:K,customerName:i.name,phoneNumber:""})},q=async()=>{if(!document.getElementById("termsCheck").checked){E("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(S.phoneNumber)){E("El número de WhatsApp debe tener 9 dígitos");return}try{p(!0);const K=S.product;if(!K.providerId||K.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let ee=null;K.status==="En stock"?ee=await et(C,async n=>{const g=U(C,"products",K.id),m=await n.get(g);if(!m.exists())throw new Error("Producto no encontrado");if(m.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const F=X(C,`products/${K.id}/accounts`),Z=pe(F,fe("status","==","available"),St(1)),w=await ct(Z);if(w.empty)throw new Error("No hay cuentas disponibles en la subcolección");const L=w.docs[0],O=L.ref,b=L.data(),f=U(C,"users",i.id),I=await n.get(f);if(!I.exists())throw new Error("Usuario no encontrado");const oe=U(C,"users",K.providerId),ae=await n.get(oe);if(!ae.exists())throw new Error("Proveedor no encontrado");let ie=K.providerPhone||"";ie||(ie=ae.data().phoneNumber||""),n.update(O,{status:"unavailable",assignedTo:i.id,assignedAt:new Date().toISOString()}),n.update(g,{availableAccounts:He(-1),stock:He(-1)});const te=(Number(I.data().balance)||0)-K.price;if(te<0)throw new Error("Saldo insuficiente");const Be=I.data().orders||[],me={productId:K.id,productName:K.name,price:K.price,provider:K.provider,providerId:K.providerId,providerPhone:ie,status:"active",customerName:S.customerName,customerId:i.id,phoneNumber:S.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:b.email||"No proporcionado",password:b.password||"No proporcionado",profile:b.profile||"No proporcionado"},terms:K.terms,type:"deezer"};n.update(f,{balance:te,orders:[...Be,me]});const ce=(Number(ae.data().balance)||0)+K.price,Ie=ae.data().sales||[],ke={saleId:U(X(C,"sales")).id,productId:K.id,productName:K.name,price:K.price,customerId:i.id,customerName:S.customerName,customerPhone:S.phoneNumber,accountDetails:{email:b.email||"No proporcionado",password:b.password||"No proporcionado",profile:b.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:K.terms};n.update(oe,{balance:ce,sales:[...Ie,ke]});const Pe=U(X(C,"sales"));return n.set(Pe,{...me,provider:K.provider,providerId:K.providerId,providerPhone:ie,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:b.email||"No proporcionado",password:b.password||"No proporcionado",profile:b.profile||"No proporcionado"},saleId:ke.saleId,terms:K.terms}),b}):await et(C,async n=>{const g=U(C,"users",i.id),m=await n.get(g);if(!m.exists())throw new Error("Usuario no encontrado");const T=U(C,"users",K.providerId),F=await n.get(T);if(!F.exists())throw new Error("Proveedor no encontrado");let Z=K.providerPhone||"";Z||(Z=F.data().phoneNumber||"");const L=(Number(m.data().balance)||0)-K.price;if(L<0)throw new Error("Saldo insuficiente");const O=m.data().orders||[],b={productId:K.id,productName:K.name,price:K.price,provider:K.provider,providerId:K.providerId,providerPhone:Z,status:"pending",customerName:S.customerName,customerId:i.id,phoneNumber:S.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:K.terms,type:"deezer"};n.update(g,{balance:L,orders:[...O,b]});const I=(Number(F.data().balance)||0)+K.price,oe=F.data().sales||[],ae={saleId:U(X(C,"sales")).id,productId:K.id,productName:K.name,price:K.price,customerId:i.id,customerName:S.customerName,customerPhone:S.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:K.terms};n.update(T,{balance:I,sales:[...oe,ae]});const ie=U(X(C,"sales"));n.set(ie,{...b,provider:K.provider,providerId:K.providerId,providerPhone:Z,saleDate:new Date().toISOString(),status:"pending",saleId:ae.saleId,terms:K.terms})}),c(n=>n-K.price),o(n=>({...n,orders:[...n.orders,{...S,status:K.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:K.status==="En stock"?{email:(ee==null?void 0:ee.email)||"No proporcionado",password:(ee==null?void 0:ee.password)||"No proporcionado",profile:(ee==null?void 0:ee.profile)||"No proporcionado"}:null}]})),R(null),Q({message:K.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(K){E(K.message||"Error al procesar la compra"),console.error("Error en la compra:",K)}finally{p(!1)}},Se=K=>{V({name:K.name,accountDetails:K.accountDetails,provider:K.provider,terms:K.terms})},Oe=K=>{V({name:K.name,terms:K.terms,provider:K.provider}),P(!0)},Ee=()=>{if(!i){B("/login");return}(i==null?void 0:i.role)==="user"?B("/dashboard/user"):(i==null?void 0:i.role)==="affiliate"?B("/dashboard/affiliate"):(i==null?void 0:i.role)==="provider"?B("/dashboard/provider"):(i==null?void 0:i.role)==="admin"&&B("/dashboard/admin")},Te=K=>{K.preventDefault(),d.trim()&&B(`/search?q=${encodeURIComponent(d)}&category=Deezer`)},ue=r.filter(K=>K.name.toLowerCase().includes(d.toLowerCase())),ge=K=>K.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):K.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",K.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-gray-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),xe=K=>{if(!K||typeof K!="string")return"30 días";const ee=K.match(/(\d+)\s*(mes|meses)/i);if(ee)return`${parseInt(ee[1],10)*30} días`;const n=K.match(/(\d+)\s*(día|días|dia|dias)/i);if(n)return`${parseInt(n[1],10)} días`;const g=K.match(/(\d+)/);return g?`${parseInt(g[1],10)} días`:"30 días"};return x?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-pink-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-pink-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:N}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-pink-500 text-white rounded-full hover:bg-pink-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("style",{children:`
          @keyframes fadeIn {
            from {
              opacity: 0;
              transform: translateY(10px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fadeIn {
            animation: fadeIn 0.3s ease-in-out;
          }
        `}),e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-pink-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Deezer...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all placeholder-gray-500",value:d,onChange:K=>$(K.target.value)}),e.jsx("button",{onClick:Te,className:"absolute right-3 text-gray-400 hover:text-pink-500 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:i?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-pink-500"})," ",i.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",l.toFixed(2)]}),e.jsx("button",{onClick:Ee,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-pink-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),B("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-pink-600/80 hover:bg-pink-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>B("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-pink-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>B("/register"),className:"px-4 py-2 rounded-full bg-pink-500 text-white hover:bg-pink-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-pink-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-pink-600/30 text-white border border-pink-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-pink-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.buscapersonas})]})]}),i&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-pink-500/30 flex items-center justify-center text-white font-bold text-lg",children:i.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:i.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",l.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Deezer"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tu música favorita sin límites con nuestras cuentas premium de Deezer"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>M(!0),className:"text-sm sm:text-base text-pink-500 hover:text-pink-400 transition-all underline underline-offset-4",children:"Términos Generales"})]}),ue.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:ue.map(K=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:K.image,alt:K.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),ge(K)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:K.name}),e.jsx("div",{className:"flex items-center mb-2",children:K.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",J(K.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:K.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:xe(K.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:K.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:K.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",J(K.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Se(K),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Oe(K),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>_(K),disabled:K.status==="En stock"&&K.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${K.status==="A pedido"||K.stock>0?"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700":"bg-pink-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),K.status==="A pedido"?"Pedir":K.stock>0?"Comprar":"Agotado"]})]})]},K.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),S&&i&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:S.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>R(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:S.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",J(S.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",S.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",S.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:S.customerName,onChange:K=>R(ee=>({...ee,customerName:K.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:S.phoneNumber,onChange:K=>R(ee=>({...ee,phoneNumber:K.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-pink-500 focus:ring-pink-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>P(!0),className:"text-pink-500 hover:text-pink-400 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-pink-500 hover:text-pink-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>R(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:q,disabled:x,className:"px-4 py-2 bg-pink-500 text-white rounded-xl hover:bg-pink-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[x&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:S.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{H.onClose&&H.onClose(),Q(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:H.message}),e.jsx("button",{onClick:()=>{H.onClose&&H.onClose(),Q(null)},className:"w-full py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all",children:"Aceptar"})]})})}),y&&!v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.name}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:y.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof y.accountDetails=="string"?y.accountDetails:y.accountDetails?JSON.stringify(y.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{V(null),P(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),v&&y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",y.name]}),e.jsx("button",{onClick:()=>{P(!1),V({name:y.name,accountDetails:y.accountDetails,provider:y.provider,terms:y.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",y.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:y.terms})}),e.jsx("button",{onClick:()=>{P(!1),M(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>M(!1),className:"w-full mt-6 py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-pink-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},yA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Tidal")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"HiFi",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,tidal:O.length}))},w=>{R("Error al cargar productos de Tidal"),console.error(w)}),m=pe(X(C,"tidal_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"tidal"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"tidal"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Tidal`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Tidal...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-red-400 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-red-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-red-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white camera text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-600/30 text-white border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Tidal"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Escucha música en alta fidelidad con nuestras cuentas premium de Tidal"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg/issue-1-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"HiFi"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-400 focus:border-red-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-400 focus:border-red-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-400 focus:ring-red-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3.5 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},bA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Vpn")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Standard",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,vpn:O.length}))},w=>{R("Error al cargar productos de VPN"),console.error(w)}),m=pe(X(C,"vpn_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"vpn"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"vpn"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Vpn`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en VPN...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-red-400 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-red-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-red-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-600/30 text-white border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Servicios Premium de VPN"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Navega con seguridad y privacidad con nuestras cuentas premium de VPN"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Standard"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-400 focus:border-red-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-400 focus:border-red-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-400 focus:ring-red-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3.5 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},jA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","Win Tv")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Premium",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,wintv:O.length}))},w=>{R("Error al cargar productos de Win TV"),console.error(w)}),m=pe(X(C,"wintv_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"wintv"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"wintv"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Win Tv`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-orange-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-orange-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-orange-500 text-white rounded-full hover:bg-orange-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-orange-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Win TV...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-orange-400 focus:border-orange-400 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-orange-400 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-orange-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-orange-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-orange-600/80 hover:bg-orange-700 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-orange-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-orange-500 text-white hover:bg-orange-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-orange-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-orange-600/30 text-white border border-orange-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-400"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1598899134739-24c46f58b8c0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Win TV"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus eventos deportivos favoritos con nuestras cuentas premium de Win TV"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-amber-400 hover:text-amber-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-amber-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-amber-400",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-amber-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-amber-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700":"bg-amber-600/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-amber-400 focus:ring-amber-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-amber-400 hover:text-amber-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-amber-400 hover:text-amber-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-amber-500 text-white rounded-xl hover:bg-amber-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-amber-500 text-white rounded-xl hover:bg-amber-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-amber-500 text-white rounded-xl hover:bg-amber-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-amber-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},vA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,p]=j.useState(0),[N,E]=j.useState(!0),[S,R]=j.useState(null),[y,V]=j.useState(null),[v,P]=j.useState(null),[z,M]=j.useState(!1),[H,Q]=j.useState(!1),[W,D]=j.useState(null),[d,$]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,J]=j.useState(""),_=mt(),q=n=>{const g=Number(n);return isNaN(g)?"0.00":g.toFixed(2)};j.useEffect(()=>{const n=Nt(ze,async g=>{if(g)try{const m=await Ue(U(C,"users",g.uid));if(m.exists()){const T=m.data();c({id:g.uid,name:T.username||"Usuario",email:g.email,orders:T.orders||[],role:T.role||"user"}),p(Number(T.balance)||0)}else R("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){R("Error al cargar datos del usuario"),console.error(m)}else c(null),p(0);E(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(X(C,"products"),fe("category","==","BuscaPersonas")),g=we(n,async w=>{const L=w.docs.map(b=>{const f=b.data();return{id:b.id,...f,price:Number(f.price)||0,stock:Number(f.availableAccounts)||0,accountDetails:f.details||"Detalles no disponibles",terms:f.terms||"Términos del proveedor",provider:f.provider||"Proveedor no especificado",providerId:f.providerId||"",providerPhone:f.providerPhone||"",acceptsOrders:f.status==="A pedido",duration:f.duration||"1 mes",type:f.type||"Premium",status:f.status||"En stock",image:f.image||"https://via.placeholder.com/300",renewal:f.renewal||!1,renewalPrice:Number(f.renewalPrice)||Number(f.price)*.9}}),O=await Promise.all(L.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const f=await Ue(U(C,"users",b.providerId));if(f.exists())return{...b,provider:f.data().username||f.data().email||b.provider,providerPhone:f.data().phoneNumber||b.providerPhone}}}catch(f){console.error("Error al cargar datos del proveedor:",f)}return b}));a(O),$(b=>({...b,buscapersonas:O.length}))},w=>{R("Error al cargar productos de Busca Personas"),console.error(w)}),m=pe(X(C,"buscapersonas_accounts"),fe("status","==","available")),T=we(m,w=>{const L=w.docs.map(O=>({id:O.id,...O.data(),productId:O.data().productId||"",providerId:O.data().providerId||""}));o(L)},w=>{console.error("Error al cargar cuentas:",w)}),Z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const L=w.toLowerCase().replace(/\s+/g,""),O=pe(X(C,"products"),fe("category","==",w));return we(O,b=>{$(f=>({...f,[L]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{g(),T(),Z.forEach(w=>w())}},[]);const Se=n=>{if(!l){D({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>_("/login")});return}if(x<n.price){D({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){D({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}V({product:n,customerName:l.name,phoneNumber:""})},Oe=async()=>{if(!document.getElementById("termsCheck").checked){R("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(y.phoneNumber)){R("El número de WhatsApp debe tener 9 dígitos");return}try{E(!0);const n=y.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let g=null;n.status==="En stock"?g=await et(C,async m=>{const T=U(C,"products",n.id),F=await m.get(T);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=X(C,`products/${n.id}/accounts`),L=pe(w,fe("status","==","available"),St(1)),O=await ct(L);if(O.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=O.docs[0],f=b.ref,I=b.data(),oe=U(C,"users",l.id),ae=await m.get(oe);if(!ae.exists())throw new Error("Usuario no encontrado");const ie=U(C,"users",n.providerId),Y=await m.get(ie);if(!Y.exists())throw new Error("Proveedor no encontrado");let te=n.providerPhone||"";te||(te=Y.data().phoneNumber||""),m.update(f,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(T,{availableAccounts:He(-1),stock:He(-1)});const me=(Number(ae.data().balance)||0)-n.price;if(me<0)throw new Error("Saldo insuficiente");const se=ae.data().orders||[],ce={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:te,status:"active",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},terms:n.terms,type:"buscapersonas"};m.update(oe,{balance:me,orders:[...se,ce]});const ke=(Number(Y.data().balance)||0)+n.price,Pe=Y.data().sales||[],ye={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Pe,ye]});const Ce=U(X(C,"sales"));return m.set(Ce,{...ce,provider:n.provider,providerId:n.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:I.email||"No proporcionado",password:I.password||"No proporcionado",profile:I.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),I}):await et(C,async m=>{const T=U(C,"users",l.id),F=await m.get(T);if(!F.exists())throw new Error("Usuario no encontrado");const Z=U(C,"users",n.providerId),w=await m.get(Z);if(!w.exists())throw new Error("Proveedor no encontrado");let L=n.providerPhone||"";L||(L=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const f=F.data().orders||[],I={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:L,status:"pending",customerName:y.customerName,customerId:l.id,phoneNumber:y.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"buscapersonas"};m.update(T,{balance:b,orders:[...f,I]});const ae=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],Y={saleId:U(X(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:y.customerName,customerPhone:y.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(Z,{balance:ae,sales:[...ie,Y]});const te=U(X(C,"sales"));m.set(te,{...I,provider:n.provider,providerId:n.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"pending",saleId:Y.saleId,terms:n.terms})}),p(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...y,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(g==null?void 0:g.email)||"No proporcionado",password:(g==null?void 0:g.password)||"No proporcionado",profile:(g==null?void 0:g.profile)||"No proporcionado"}:null}]})),V(null),D({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){R(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{E(!1)}},Ee=n=>{P({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Te=n=>{P({name:n.name,terms:n.terms,provider:n.provider}),M(!0)},ue=()=>{if(!l){_("/login");return}(l==null?void 0:l.role)==="user"?_("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?_("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?_("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&_("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&_(`/search?q=${encodeURIComponent(B)}&category=Busca Personas`)},xe=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),K=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-400 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-600 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),ee=n=>{if(!n||typeof n!="string")return"30 días";const g=n.match(/(\d+)\s*(mes|meses)/i);if(g)return`${parseInt(g[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const T=n.match(/(\d+)/);return T?`${parseInt(T[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Je,{className:"animate-spin text-5xl text-yellow-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-yellow-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-yellow-400 text-white rounded-full hover:bg-yellow-500 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(kt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-yellow-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Busca Personas...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all placeholder-gray-500",value:B,onChange:n=>J(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-yellow-400 transition-all",children:e.jsx(Qe,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Ve,{className:"mr-2 text-yellow-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:ue,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Ve,{className:"text-yellow-400",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),_("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-yellow-400/80 hover:bg-yellow-500 transition-all text-sm text-white",children:[e.jsx(pt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>_("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-yellow-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>_("/register"),className:"px-4 py-2 rounded-full bg-yellow-400 text-white hover:bg-yellow-500 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-yellow-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(De,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-yellow-400/30 text-white border border-yellow-400/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-400/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Servicios de Busca Personas"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Encuentra la información que necesitas con nuestros servicios premium"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>Q(!0),className:"text-sm sm:text-base text-yellow-400 hover:text-yellow-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),xe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:xe.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),K(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-yellow-300 text-sm",children:["Renovación - S/ ",q(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-300 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(It,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400",children:ee(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Dt,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",q(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ee(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Pt,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(Ge,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Se(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700":"bg-yellow-400/50 cursor-not-allowed"}`,children:[e.jsx(ut,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),y&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>V(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:y.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",q(y.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",y.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",y.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:y.customerName,onChange:n=>V(g=>({...g,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:n=>V(g=>({...g,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-yellow-400 focus:ring-yellow-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>M(!0),className:"text-yellow-400 hover:text-yellow-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>Q(!0),className:"text-yellow-400 hover:text-yellow-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Oe,disabled:N,className:"px-4 py-2 bg-yellow-400 text-white rounded-xl hover:bg-yellow-500 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Je,{className:"animate-spin mr-2"}),e.jsx("span",{children:y.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),D(null)},className:"w-full py-3 bg-yellow-400 text-white rounded-xl hover:bg-yellow-500 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>P(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{P(null),M(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{M(!1),P({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{M(!1),Q(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>Q(!1),className:"w-full mt-6 py-3 bg-yellow-400 text-white rounded-xl hover:bg-yellow-500 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-yellow-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})};j.memo(()=>{const[s,t]=j.useState(null),[r,a]=j.useState(0),[i,o]=j.useState(!0),[l,c]=j.useState(null),[x,p]=j.useState(!1),[N,E]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0}),[S,R]=j.useState(""),y=mt();j.useEffect(()=>{const P=Nt(ze,async z=>{if(z)try{const M=await Ue(U(C,"users",z.uid));if(M.exists()){const H=M.data();t({id:z.uid,name:H.username||"Usuario",email:z.email,orders:H.orders||[],role:H.role||"user"}),a(Number(H.balance)||0)}else c("Usuario no encontrado"),console.error("Usuario no encontrado en la base de datos")}catch(M){c("Error al cargar datos"),console.error(M)}else t(null),a(0);o(!1)});return()=>P()},[]),j.useEffect(()=>{const z=[{name:"Netflix",key:"netflix"},{name:"Spotify",key:"spotify"},{name:"Disney",key:"disney"},{name:"Max",key:"max"},{name:"Prime Video",key:"primevideo"},{name:"Vix",key:"vix"},{name:"Crunchyroll",key:"crunchyroll"},{name:"Canva",key:"canva"},{name:"ChatGPT",key:"chatgpt"},{name:"Redes Sociales",key:"redessociales"}].map(({name:M,key:H})=>{const Q=pe(X(C,"products"),fe("category","==",M));return we(Q,W=>{E(D=>({...D,[H]:W.docs.length}))},W=>console.error(`Error loading ${M}:`,W))});return()=>z.forEach(M=>M())},[]);const V=()=>{if(!s)return y("/login");y({user:"/dashboard/user",affiliate:"/dashboard/affiliate",provider:"/dashboard/provider",admin:"/dashboard/admin"}[s.role]||"/dashboard/user")},v=P=>{P.preventDefault(),S.trim()&&y(`/search?q=${encodeURIComponent(S)}`)};return i?e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:[e.jsx(Wx,{className:"animate-spin text-4xl text-cyan-500"}),e.jsx("span",{className:"ml-2 text-white",children:"Cargando..."})]}):l?e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-900 p-4",children:[e.jsx(Wx,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-400 mb-6",children:l}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600",children:"Reintentar"})]}):e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-800/80 backdrop-blur-sm",children:e.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(h,{to:"/",className:"flex items-center gap-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-8"}),e.jsx("span",{className:"text-lg font-bold text-cyan-500 hidden sm:block",children:"BlackStreaming"})]})}),e.jsx("form",{onSubmit:v,className:"flex-1 max-w-md mx-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar productos...",className:"w-full py-2 px-4 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-2 focus:ring-cyan-500 focus:border-transparent",value:S,onChange:P=>R(P.target.value)}),e.jsx("button",{type:"submit",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-cyan-500",children:e.jsx(Qe,{size:20})})]})}),e.jsx("div",{className:"flex items-center gap-2",children:s?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"hidden sm:block text-sm text-gray-300",children:s.name}),e.jsxs("span",{className:"px-3 py-1 bg-gray-700 rounded-lg text-sm",children:["S/ ",r.toFixed(2)]}),e.jsx("button",{onClick:V,className:"p-2 hover:bg-gray-700 rounded-lg",title:"Dashboard",children:e.jsx(Ve,{className:"text-cyan-500",size:20})}),e.jsxs("button",{onClick:()=>{ze.signOut(),y("/")},className:"flex items-center gap-1 px-3 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:[e.jsx(pt,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>y("/login"),className:"px-3 py-2 text-sm hover:text-cyan-500",children:"Ingresar"}),e.jsx("button",{onClick:()=>y("/register"),className:"px-3 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 text-sm",children:"Registrarse"})]})})]})}),e.jsx("main",{className:"flex-1 p-6 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-lg text-center",children:[e.jsx("div",{className:"p-4 bg-gray-800 rounded-full inline-flex mb-6",children:e.jsx(Wx,{className:"text-4xl text-cyan-500"})}),e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"En Mantenimiento"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Estamos mejorando nuestra plataforma para ti."}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-300 mb-6",children:[e.jsx(It,{className:"text-yellow-500"}),e.jsx("span",{children:"Volveremos pronto."})]}),e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"¿Qué estamos haciendo?"}),e.jsxs("ul",{className:"text-left space-y-2 text-gray-300",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Corrección de errores en el sistema de pedidos"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Solución de fallos en el retiro de dinero"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Arreglo de errores al pasar del sistema al pedido"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Actualización del dashboard del proveedor"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Actualización del dashboard del usuario"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Refuerzo de la seguridad general del sitio"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Mejora en la visualización y diseño"]})]}),e.jsx("button",{onClick:()=>p(!0),className:"mt-4 text-cyan-500 hover:text-cyan-400 underline",children:"Términos Generales"})]})]})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-800 rounded-lg max-w-lg w-full max-h-[80vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Términos y Condiciones"}),e.jsx("button",{onClick:()=>p(!1),className:"hover:text-gray-300",children:e.jsx(FiX,{size:24})})]}),e.jsx("div",{className:"space-y-4 text-gray-300",children:[{title:"Proceso de Compra",text:"El proveedor te contactará en 24 horas hábiles para los accesos."},{title:"Garantía",text:"7 días de garantía. El proveedor resolverá problemas o reembolsará."},{title:"Uso Responsable",text:"No nos responsabilizamos por suspensiones por mal uso."},{title:"Soporte",text:"Contacta al proveedor vía WhatsApp."},{title:"Renovaciones",text:"Solicita renovaciones manuales antes del fin del período."}].map(({title:P,text:z},M)=>e.jsxs("div",{className:"p-4 bg-gray-700 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:P}),e.jsx("p",{children:z})]},M))}),e.jsx("button",{onClick:()=>p(!1),className:"w-full mt-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-800 py-6",children:e.jsxs("div",{className:"container mx-auto px-4 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:We,alt:"BlackStreaming",className:"h-6"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-500",children:"BlackStreaming"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Desarrollado por Saiph"})]})})]})});const NA=()=>e.jsx(dC,{children:e.jsxs(e.Fragment,{children:[e.jsx(ht,{path:"/",element:e.jsx(LD,{})}),e.jsx(ht,{path:"/login",element:e.jsx(VD,{})}),e.jsx(ht,{path:"/register",element:e.jsx(FD,{})}),e.jsx(ht,{path:"/dashboard/user",element:e.jsx(UD,{})}),e.jsx(ht,{path:"/dashboard/affiliate",element:e.jsx($D,{})}),e.jsx(ht,{path:"/dashboard/provider",element:e.jsx(qD,{})}),e.jsx(ht,{path:"/dashboard/admin",element:e.jsx(GD,{})}),e.jsx(ht,{path:"/netflix",element:e.jsx(HD,{})}),e.jsx(ht,{path:"/disney",element:e.jsx(QD,{})}),e.jsx(ht,{path:"/max",element:e.jsx(KD,{})}),e.jsx(ht,{path:"/spotify",element:e.jsx(YD,{})}),e.jsx(ht,{path:"/primevideo",element:e.jsx(JD,{})}),e.jsx(ht,{path:"/vix",element:e.jsx(XD,{})}),e.jsx(ht,{path:"/canva",element:e.jsx(ZD,{})}),e.jsx(ht,{path:"/chatgpt",element:e.jsx(eA,{})}),e.jsx(ht,{path:"/crunchyroll",element:e.jsx(tA,{})}),e.jsx(ht,{path:"/redessociales",element:e.jsx(sA,{})}),e.jsx(ht,{path:"/applemusic",element:e.jsx(rA,{})}),e.jsx(ht,{path:"/appletv",element:e.jsx(aA,{})}),e.jsx(ht,{path:"/iptv",element:e.jsx(nA,{})}),e.jsx(ht,{path:"/flujotv",element:e.jsx(iA,{})}),e.jsx(ht,{path:"/vikirakuten",element:e.jsx(lA,{})}),e.jsx(ht,{path:"/pornhub",element:e.jsx(oA,{})}),e.jsx(ht,{path:"/paramount",element:e.jsx(cA,{})}),e.jsx(ht,{path:"/licencias",element:e.jsx(dA,{})}),e.jsx(ht,{path:"/capcut",element:e.jsx(uA,{})}),e.jsx(ht,{path:"/duolingo",element:e.jsx(xA,{})}),e.jsx(ht,{path:"/dgo",element:e.jsx(mA,{})}),e.jsx(ht,{path:"/ligamax",element:e.jsx(hA,{})}),e.jsx(ht,{path:"/movistarplay",element:e.jsx(pA,{})}),e.jsx(ht,{path:"/youtube",element:e.jsx(fA,{})}),e.jsx(ht,{path:"/deezer",element:e.jsx(gA,{})}),e.jsx(ht,{path:"/tidal",element:e.jsx(yA,{})}),e.jsx(ht,{path:"/vpn",element:e.jsx(bA,{})}),e.jsx(ht,{path:"/wintv",element:e.jsx(jA,{})}),e.jsx(ht,{path:"/buscapersonas",element:e.jsx(vA,{})})]})});im.createRoot(document.getElementById("root")).render(e.jsx(Wa.StrictMode,{children:e.jsx(RC,{children:e.jsx(NA,{})})}));
