(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();const pj="modulepreload",mj=function(t){return"/"+t},Lw={},mr=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let d=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");s=d(r.map(h=>{if(h=mj(h),h in Lw)return;Lw[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":pj,p||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((v,_)=>{y.addEventListener("load",v),y.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})};function av(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fx={exports:{}},bd={},px={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function gj(){if(Mw)return Gt;Mw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(se){return se===null||typeof se!="object"?null:(se=g&&se[g]||se["@@iterator"],typeof se=="function"?se:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function T(se,B,te){this.props=se,this.context=B,this.refs=w,this.updater=te||v}T.prototype.isReactComponent={},T.prototype.setState=function(se,B){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,B,"setState")},T.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function D(){}D.prototype=T.prototype;function I(se,B,te){this.props=se,this.context=B,this.refs=w,this.updater=te||v}var z=I.prototype=new D;z.constructor=I,_(z,T.prototype),z.isPureReactComponent=!0;var F=Array.isArray,Y=Object.prototype.hasOwnProperty,U={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function A(se,B,te){var re,ne={},ee=null,Le=null;if(B!=null)for(re in B.ref!==void 0&&(Le=B.ref),B.key!==void 0&&(ee=""+B.key),B)Y.call(B,re)&&!S.hasOwnProperty(re)&&(ne[re]=B[re]);var Be=arguments.length-2;if(Be===1)ne.children=te;else if(1<Be){for(var je=Array(Be),Me=0;Me<Be;Me++)je[Me]=arguments[Me+2];ne.children=je}if(se&&se.defaultProps)for(re in Be=se.defaultProps,Be)ne[re]===void 0&&(ne[re]=Be[re]);return{$$typeof:t,type:se,key:ee,ref:Le,props:ne,_owner:U.current}}function j(se,B){return{$$typeof:t,type:se.type,key:B,ref:se.ref,props:se.props,_owner:se._owner}}function R(se){return typeof se=="object"&&se!==null&&se.$$typeof===t}function M(se){var B={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(te){return B[te]})}var L=/\/+/g;function O(se,B){return typeof se=="object"&&se!==null&&se.key!=null?M(""+se.key):B.toString(36)}function fe(se,B,te,re,ne){var ee=typeof se;(ee==="undefined"||ee==="boolean")&&(se=null);var Le=!1;if(se===null)Le=!0;else switch(ee){case"string":case"number":Le=!0;break;case"object":switch(se.$$typeof){case t:case e:Le=!0}}if(Le)return Le=se,ne=ne(Le),se=re===""?"."+O(Le,0):re,F(ne)?(te="",se!=null&&(te=se.replace(L,"$&/")+"/"),fe(ne,B,te,"",function(Me){return Me})):ne!=null&&(R(ne)&&(ne=j(ne,te+(!ne.key||Le&&Le.key===ne.key?"":(""+ne.key).replace(L,"$&/")+"/")+se)),B.push(ne)),1;if(Le=0,re=re===""?".":re+":",F(se))for(var Be=0;Be<se.length;Be++){ee=se[Be];var je=re+O(ee,Be);Le+=fe(ee,B,te,je,ne)}else if(je=y(se),typeof je=="function")for(se=je.call(se),Be=0;!(ee=se.next()).done;)ee=ee.value,je=re+O(ee,Be++),Le+=fe(ee,B,te,je,ne);else if(ee==="object")throw B=String(se),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Le}function ke(se,B,te){if(se==null)return se;var re=[],ne=0;return fe(se,re,"","",function(ee){return B.call(te,ee,ne++)}),re}function Ce(se){if(se._status===-1){var B=se._result;B=B(),B.then(function(te){(se._status===0||se._status===-1)&&(se._status=1,se._result=te)},function(te){(se._status===0||se._status===-1)&&(se._status=2,se._result=te)}),se._status===-1&&(se._status=0,se._result=B)}if(se._status===1)return se._result.default;throw se._result}var Re={current:null},Ee={transition:null},ie={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:Ee,ReactCurrentOwner:U};function de(){throw Error("act(...) is not supported in production builds of React.")}return Gt.Children={map:ke,forEach:function(se,B,te){ke(se,function(){B.apply(this,arguments)},te)},count:function(se){var B=0;return ke(se,function(){B++}),B},toArray:function(se){return ke(se,function(B){return B})||[]},only:function(se){if(!R(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},Gt.Component=T,Gt.Fragment=r,Gt.Profiler=s,Gt.PureComponent=I,Gt.StrictMode=n,Gt.Suspense=d,Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Gt.act=de,Gt.cloneElement=function(se,B,te){if(se==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+se+".");var re=_({},se.props),ne=se.key,ee=se.ref,Le=se._owner;if(B!=null){if(B.ref!==void 0&&(ee=B.ref,Le=U.current),B.key!==void 0&&(ne=""+B.key),se.type&&se.type.defaultProps)var Be=se.type.defaultProps;for(je in B)Y.call(B,je)&&!S.hasOwnProperty(je)&&(re[je]=B[je]===void 0&&Be!==void 0?Be[je]:B[je])}var je=arguments.length-2;if(je===1)re.children=te;else if(1<je){Be=Array(je);for(var Me=0;Me<je;Me++)Be[Me]=arguments[Me+2];re.children=Be}return{$$typeof:t,type:se.type,key:ne,ref:ee,props:re,_owner:Le}},Gt.createContext=function(se){return se={$$typeof:l,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},se.Provider={$$typeof:a,_context:se},se.Consumer=se},Gt.createElement=A,Gt.createFactory=function(se){var B=A.bind(null,se);return B.type=se,B},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(se){return{$$typeof:u,render:se}},Gt.isValidElement=R,Gt.lazy=function(se){return{$$typeof:p,_payload:{_status:-1,_result:se},_init:Ce}},Gt.memo=function(se,B){return{$$typeof:h,type:se,compare:B===void 0?null:B}},Gt.startTransition=function(se){var B=Ee.transition;Ee.transition={};try{se()}finally{Ee.transition=B}},Gt.unstable_act=de,Gt.useCallback=function(se,B){return Re.current.useCallback(se,B)},Gt.useContext=function(se){return Re.current.useContext(se)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(se){return Re.current.useDeferredValue(se)},Gt.useEffect=function(se,B){return Re.current.useEffect(se,B)},Gt.useId=function(){return Re.current.useId()},Gt.useImperativeHandle=function(se,B,te){return Re.current.useImperativeHandle(se,B,te)},Gt.useInsertionEffect=function(se,B){return Re.current.useInsertionEffect(se,B)},Gt.useLayoutEffect=function(se,B){return Re.current.useLayoutEffect(se,B)},Gt.useMemo=function(se,B){return Re.current.useMemo(se,B)},Gt.useReducer=function(se,B,te){return Re.current.useReducer(se,B,te)},Gt.useRef=function(se){return Re.current.useRef(se)},Gt.useState=function(se){return Re.current.useState(se)},Gt.useSyncExternalStore=function(se,B,te){return Re.current.useSyncExternalStore(se,B,te)},Gt.useTransition=function(){return Re.current.useTransition()},Gt.version="18.3.1",Gt}var Vw;function iv(){return Vw||(Vw=1,px.exports=gj()),px.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function xj(){if($w)return bd;$w=1;var t=iv(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var p,g={},y=null,v=null;h!==void 0&&(y=""+h),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)n.call(d,p)&&!a.hasOwnProperty(p)&&(g[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:e,type:u,key:y,ref:v,props:g,_owner:s.current}}return bd.Fragment=r,bd.jsx=l,bd.jsxs=l,bd}var Bw;function yj(){return Bw||(Bw=1,fx.exports=xj()),fx.exports}var i=yj(),E=iv();const Ia=av(E);var ff={},mx={exports:{}},bs={},gx={exports:{}},xx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function vj(){return Uw||(Uw=1,(function(t){function e(Ee,ie){var de=Ee.length;Ee.push(ie);e:for(;0<de;){var se=de-1>>>1,B=Ee[se];if(0<s(B,ie))Ee[se]=ie,Ee[de]=B,de=se;else break e}}function r(Ee){return Ee.length===0?null:Ee[0]}function n(Ee){if(Ee.length===0)return null;var ie=Ee[0],de=Ee.pop();if(de!==ie){Ee[0]=de;e:for(var se=0,B=Ee.length,te=B>>>1;se<te;){var re=2*(se+1)-1,ne=Ee[re],ee=re+1,Le=Ee[ee];if(0>s(ne,de))ee<B&&0>s(Le,ne)?(Ee[se]=Le,Ee[ee]=de,se=ee):(Ee[se]=ne,Ee[re]=de,se=re);else if(ee<B&&0>s(Le,de))Ee[se]=Le,Ee[ee]=de,se=ee;else break e}}return ie}function s(Ee,ie){var de=Ee.sortIndex-ie.sortIndex;return de!==0?de:Ee.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,g=null,y=3,v=!1,_=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(Ee){for(var ie=r(h);ie!==null;){if(ie.callback===null)n(h);else if(ie.startTime<=Ee)n(h),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=r(h)}}function F(Ee){if(w=!1,z(Ee),!_)if(r(d)!==null)_=!0,Ce(Y);else{var ie=r(h);ie!==null&&Re(F,ie.startTime-Ee)}}function Y(Ee,ie){_=!1,w&&(w=!1,D(A),A=-1),v=!0;var de=y;try{for(z(ie),g=r(d);g!==null&&(!(g.expirationTime>ie)||Ee&&!M());){var se=g.callback;if(typeof se=="function"){g.callback=null,y=g.priorityLevel;var B=se(g.expirationTime<=ie);ie=t.unstable_now(),typeof B=="function"?g.callback=B:g===r(d)&&n(d),z(ie)}else n(d);g=r(d)}if(g!==null)var te=!0;else{var re=r(h);re!==null&&Re(F,re.startTime-ie),te=!1}return te}finally{g=null,y=de,v=!1}}var U=!1,S=null,A=-1,j=5,R=-1;function M(){return!(t.unstable_now()-R<j)}function L(){if(S!==null){var Ee=t.unstable_now();R=Ee;var ie=!0;try{ie=S(!0,Ee)}finally{ie?O():(U=!1,S=null)}}else U=!1}var O;if(typeof I=="function")O=function(){I(L)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ke=fe.port2;fe.port1.onmessage=L,O=function(){ke.postMessage(null)}}else O=function(){T(L,0)};function Ce(Ee){S=Ee,U||(U=!0,O())}function Re(Ee,ie){A=T(function(){Ee(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Ee){Ee.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,Ce(Y))},t.unstable_forceFrameRate=function(Ee){0>Ee||125<Ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<Ee?Math.floor(1e3/Ee):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(Ee){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var de=y;y=ie;try{return Ee()}finally{y=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Ee,ie){switch(Ee){case 1:case 2:case 3:case 4:case 5:break;default:Ee=3}var de=y;y=Ee;try{return ie()}finally{y=de}},t.unstable_scheduleCallback=function(Ee,ie,de){var se=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?se+de:se):de=se,Ee){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=de+B,Ee={id:p++,callback:ie,priorityLevel:Ee,startTime:de,expirationTime:B,sortIndex:-1},de>se?(Ee.sortIndex=de,e(h,Ee),r(d)===null&&Ee===r(h)&&(w?(D(A),A=-1):w=!0,Re(F,de-se))):(Ee.sortIndex=B,e(d,Ee),_||v||(_=!0,Ce(Y))),Ee},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Ee){var ie=y;return function(){var de=y;y=ie;try{return Ee.apply(this,arguments)}finally{y=de}}}})(xx)),xx}var zw;function bj(){return zw||(zw=1,gx.exports=vj()),gx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function wj(){if(Hw)return bs;Hw=1;var t=iv(),e=bj();function r(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function a(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(s[o]=c,o=0;o<c.length;o++)n.add(c[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(o){return d.call(g,o)?!0:d.call(p,o)?!1:h.test(o)?g[o]=!0:(p[o]=!0,!1)}function v(o,c,f,x){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function _(o,c,f,x){if(c===null||typeof c>"u"||v(o,c,f,x))return!0;if(x)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(o,c,f,x,b,N,V){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=b,this.mustUseProperty=f,this.propertyName=o,this.type=c,this.sanitizeURL=N,this.removeEmptyString=V}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){T[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];T[c]=new w(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){T[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){T[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){T[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){T[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){T[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){T[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){T[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function I(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(D,I);T[c]=new w(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(D,I);T[c]=new w(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(D,I);T[c]=new w(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){T[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),T.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){T[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function z(o,c,f,x){var b=T.hasOwnProperty(c)?T[c]:null;(b!==null?b.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(_(c,f,b,x)&&(f=null),x||b===null?y(c)&&(f===null?o.removeAttribute(c):o.setAttribute(c,""+f)):b.mustUseProperty?o[b.propertyName]=f===null?b.type===3?!1:"":f:(c=b.attributeName,x=b.attributeNamespace,f===null?o.removeAttribute(c):(b=b.type,f=b===3||b===4&&f===!0?"":""+f,x?o.setAttributeNS(x,c,f):o.setAttribute(c,f))))}var F=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),U=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),Re=Symbol.for("react.offscreen"),Ee=Symbol.iterator;function ie(o){return o===null||typeof o!="object"?null:(o=Ee&&o[Ee]||o["@@iterator"],typeof o=="function"?o:null)}var de=Object.assign,se;function B(o){if(se===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);se=c&&c[1]||""}return`
`+se+o}var te=!1;function re(o,c){if(!o||te)return"";te=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(_e){var x=_e}Reflect.construct(o,[],c)}else{try{c.call()}catch(_e){x=_e}o.call(c.prototype)}else{try{throw Error()}catch(_e){x=_e}o()}}catch(_e){if(_e&&x&&typeof _e.stack=="string"){for(var b=_e.stack.split(`
`),N=x.stack.split(`
`),V=b.length-1,ae=N.length-1;1<=V&&0<=ae&&b[V]!==N[ae];)ae--;for(;1<=V&&0<=ae;V--,ae--)if(b[V]!==N[ae]){if(V!==1||ae!==1)do if(V--,ae--,0>ae||b[V]!==N[ae]){var oe=`
`+b[V].replace(" at new "," at ");return o.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",o.displayName)),oe}while(1<=V&&0<=ae);break}}}finally{te=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?B(o):""}function ne(o){switch(o.tag){case 5:return B(o.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return o=re(o.type,!1),o;case 11:return o=re(o.type.render,!1),o;case 1:return o=re(o.type,!0),o;default:return""}}function ee(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case S:return"Fragment";case U:return"Portal";case j:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case fe:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case M:return(o.displayName||"Context")+".Consumer";case R:return(o._context.displayName||"Context")+".Provider";case L:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ke:return c=o.displayName||null,c!==null?c:ee(o.type)||"Memo";case Ce:c=o._payload,o=o._init;try{return ee(o(c))}catch{}}return null}function Le(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(c);case 8:return c===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Be(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function je(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Me(o){var c=je(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),x=""+o[c];if(!o.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,N=f.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return b.call(this)},set:function(V){x=""+V,N.call(this,V)}}),Object.defineProperty(o,c,{enumerable:f.enumerable}),{getValue:function(){return x},setValue:function(V){x=""+V},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function it(o){o._valueTracker||(o._valueTracker=Me(o))}function yt(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),x="";return o&&(x=je(o)?o.checked?"true":"false":o.value),o=x,o!==f?(c.setValue(o),!0):!1}function Wt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Fe(o,c){var f=c.checked;return de({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function fr(o,c){var f=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;f=Be(c.value!=null?c.value:f),o._wrapperState={initialChecked:x,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Mt(o,c){c=c.checked,c!=null&&z(o,"checked",c,!1)}function De(o,c){Mt(o,c);var f=Be(c.value),x=c.type;if(f!=null)x==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?Vt(o,c.type,f):c.hasOwnProperty("defaultValue")&&Vt(o,c.type,Be(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function pr(o,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,f||c===o.value||(o.value=c),o.defaultValue=c}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function Vt(o,c,f){(c!=="number"||Wt(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var qt=Array.isArray;function le(o,c,f,x){if(o=o.options,c){c={};for(var b=0;b<f.length;b++)c["$"+f[b]]=!0;for(f=0;f<o.length;f++)b=c.hasOwnProperty("$"+o[f].value),o[f].selected!==b&&(o[f].selected=b),b&&x&&(o[f].defaultSelected=!0)}else{for(f=""+Be(f),c=null,b=0;b<o.length;b++){if(o[b].value===f){o[b].selected=!0,x&&(o[b].defaultSelected=!0);return}c!==null||o[b].disabled||(c=o[b])}c!==null&&(c.selected=!0)}}function Xe(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return de({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function ct(o,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(r(92));if(qt(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),f=c}o._wrapperState={initialValue:Be(f)}}function dt(o,c){var f=Be(c.value),x=Be(c.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),c.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),x!=null&&(o.defaultValue=""+x)}function St(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function wt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function st(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?wt(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var gt,ir=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,x,b){MSApp.execUnsafeLocalFunction(function(){return o(c,f,x,b)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(gt=gt||document.createElement("div"),gt.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=gt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function Q(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var Ne={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ft=["Webkit","ms","Moz","O"];Object.keys(Ne).forEach(function(o){ft.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),Ne[c]=Ne[o]})});function we(o,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||Ne.hasOwnProperty(o)&&Ne[o]?(""+c).trim():c+"px"}function Ae(o,c){o=o.style;for(var f in c)if(c.hasOwnProperty(f)){var x=f.indexOf("--")===0,b=we(f,c[f],x);f==="float"&&(f="cssFloat"),x?o.setProperty(f,b):o[f]=b}}var Ve=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ze(o,c){if(c){if(Ve[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function vt(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=null;function at(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ot=null,et=null,Tt=null;function Bt(o){if(o=ad(o)){if(typeof ot!="function")throw Error(r(280));var c=o.stateNode;c&&(c=Ah(c),ot(o.stateNode,o.type,c))}}function Kt(o){et?Tt?Tt.push(o):Tt=[o]:et=o}function Ir(){if(et){var o=et,c=Tt;if(Tt=et=null,Bt(o),c)for(o=0;o<c.length;o++)Bt(c[o])}}function $r(o,c){return o(c)}function dn(){}var cr=!1;function Wn(o,c,f){if(cr)return o(c,f);cr=!0;try{return $r(o,c,f)}finally{cr=!1,(et!==null||Tt!==null)&&(dn(),Ir())}}function ur(o,c){var f=o.stateNode;if(f===null)return null;var x=Ah(f);if(x===null)return null;f=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var hn=!1;if(u)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){hn=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{hn=!1}function yn(o,c,f,x,b,N,V,ae,oe){var _e=Array.prototype.slice.call(arguments,3);try{c.apply(f,_e)}catch(Ge){this.onError(Ge)}}var be=!1,Se=null,P=!1,H=null,W={onError:function(o){be=!0,Se=o}};function K(o,c,f,x,b,N,V,ae,oe){be=!1,Se=null,yn.apply(W,arguments)}function J(o,c,f,x,b,N,V,ae,oe){if(K.apply(this,arguments),be){if(be){var _e=Se;be=!1,Se=null}else throw Error(r(198));P||(P=!0,H=_e)}}function X(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function ue(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function ge(o){if(X(o)!==o)throw Error(r(188))}function he(o){var c=o.alternate;if(!c){if(c=X(o),c===null)throw Error(r(188));return c!==o?null:o}for(var f=o,x=c;;){var b=f.return;if(b===null)break;var N=b.alternate;if(N===null){if(x=b.return,x!==null){f=x;continue}break}if(b.child===N.child){for(N=b.child;N;){if(N===f)return ge(b),o;if(N===x)return ge(b),c;N=N.sibling}throw Error(r(188))}if(f.return!==x.return)f=b,x=N;else{for(var V=!1,ae=b.child;ae;){if(ae===f){V=!0,f=b,x=N;break}if(ae===x){V=!0,x=b,f=N;break}ae=ae.sibling}if(!V){for(ae=N.child;ae;){if(ae===f){V=!0,f=N,x=b;break}if(ae===x){V=!0,x=N,f=b;break}ae=ae.sibling}if(!V)throw Error(r(189))}}if(f.alternate!==x)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:c}function xe(o){return o=he(o),o!==null?ye(o):null}function ye(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=ye(o);if(c!==null)return c;o=o.sibling}return null}var Ue=e.unstable_scheduleCallback,Je=e.unstable_cancelCallback,lt=e.unstable_shouldYield,Ke=e.unstable_requestPaint,We=e.unstable_now,Pt=e.unstable_getCurrentPriorityLevel,nr=e.unstable_ImmediatePriority,Jt=e.unstable_UserBlockingPriority,sr=e.unstable_NormalPriority,js=e.unstable_LowPriority,Ks=e.unstable_IdlePriority,ns=null,Br=null;function Xi(o){if(Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot(ns,o,void 0,(o.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:ah,zu=Math.log,sh=Math.LN2;function ah(o){return o>>>=0,o===0?32:31-(zu(o)/sh|0)|0}var oc=64,lc=4194304;function Qi(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function tl(o,c){var f=o.pendingLanes;if(f===0)return 0;var x=0,b=o.suspendedLanes,N=o.pingedLanes,V=f&268435455;if(V!==0){var ae=V&~b;ae!==0?x=Qi(ae):(N&=V,N!==0&&(x=Qi(N)))}else V=f&~b,V!==0?x=Qi(V):N!==0&&(x=Qi(N));if(x===0)return 0;if(c!==0&&c!==x&&(c&b)===0&&(b=x&-x,N=c&-c,b>=N||b===16&&(N&4194240)!==0))return c;if((x&4)!==0&&(x|=f&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=x;0<c;)f=31-Pr(c),b=1<<f,x|=o[f],c&=~b;return x}function zm(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mi(o,c){for(var f=o.suspendedLanes,x=o.pingedLanes,b=o.expirationTimes,N=o.pendingLanes;0<N;){var V=31-Pr(N),ae=1<<V,oe=b[V];oe===-1?((ae&f)===0||(ae&x)!==0)&&(b[V]=zm(ae,c)):oe<=c&&(o.expiredLanes|=ae),N&=~ae}}function Is(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function rl(){var o=oc;return oc<<=1,(oc&4194240)===0&&(oc=64),o}function Ji(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function Zi(o,c,f){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-Pr(c),o[c]=f}function Ar(o,c){var f=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<f;){var b=31-Pr(f),N=1<<b;c[b]=0,x[b]=-1,o[b]=-1,f&=~N}}function eo(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var x=31-Pr(f),b=1<<x;b&c|o[x]&c&&(o[x]|=c),f&=~b}}var Qt=0;function to(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var ih,cc,oh,lh,ch,Hu=!1,$a=[],Cn=null,fa=null,pa=null,ro=new Map,Ys=new Map,Ba=[],Hm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uh(o,c){switch(o){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":fa=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":ro.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(c.pointerId)}}function fs(o,c,f,x,b,N){return o===null||o.nativeEvent!==N?(o={blockedOn:c,domEventName:f,eventSystemFlags:x,nativeEvent:N,targetContainers:[b]},c!==null&&(c=ad(c),c!==null&&cc(c)),o):(o.eventSystemFlags|=x,c=o.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),o)}function Wm(o,c,f,x,b){switch(c){case"focusin":return Cn=fs(Cn,o,c,f,x,b),!0;case"dragenter":return fa=fs(fa,o,c,f,x,b),!0;case"mouseover":return pa=fs(pa,o,c,f,x,b),!0;case"pointerover":var N=b.pointerId;return ro.set(N,fs(ro.get(N)||null,o,c,f,x,b)),!0;case"gotpointercapture":return N=b.pointerId,Ys.set(N,fs(Ys.get(N)||null,o,c,f,x,b)),!0}return!1}function dh(o){var c=ol(o.target);if(c!==null){var f=X(c);if(f!==null){if(c=f.tag,c===13){if(c=ue(f),c!==null){o.blockedOn=c,ch(o.priority,function(){oh(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function gi(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=uc(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var x=new f.constructor(f.type,f);Nt=x,f.target.dispatchEvent(x),Nt=null}else return c=ad(f),c!==null&&cc(c),o.blockedOn=f,!1;c.shift()}return!0}function nl(o,c,f){gi(o)&&f.delete(c)}function hh(){Hu=!1,Cn!==null&&gi(Cn)&&(Cn=null),fa!==null&&gi(fa)&&(fa=null),pa!==null&&gi(pa)&&(pa=null),ro.forEach(nl),Ys.forEach(nl)}function ma(o,c){o.blockedOn===c&&(o.blockedOn=null,Hu||(Hu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hh)))}function ga(o){function c(b){return ma(b,o)}if(0<$a.length){ma($a[0],o);for(var f=1;f<$a.length;f++){var x=$a[f];x.blockedOn===o&&(x.blockedOn=null)}}for(Cn!==null&&ma(Cn,o),fa!==null&&ma(fa,o),pa!==null&&ma(pa,o),ro.forEach(c),Ys.forEach(c),f=0;f<Ba.length;f++)x=Ba[f],x.blockedOn===o&&(x.blockedOn=null);for(;0<Ba.length&&(f=Ba[0],f.blockedOn===null);)dh(f),f.blockedOn===null&&Ba.shift()}var xi=F.ReactCurrentBatchConfig,no=!0;function Fr(o,c,f,x){var b=Qt,N=xi.transition;xi.transition=null;try{Qt=1,Wu(o,c,f,x)}finally{Qt=b,xi.transition=N}}function Gm(o,c,f,x){var b=Qt,N=xi.transition;xi.transition=null;try{Qt=4,Wu(o,c,f,x)}finally{Qt=b,xi.transition=N}}function Wu(o,c,f,x){if(no){var b=uc(o,c,f,x);if(b===null)ng(o,c,x,sl,f),uh(o,x);else if(Wm(b,o,c,f,x))x.stopPropagation();else if(uh(o,x),c&4&&-1<Hm.indexOf(o)){for(;b!==null;){var N=ad(b);if(N!==null&&ih(N),N=uc(o,c,f,x),N===null&&ng(o,c,x,sl,f),N===b)break;b=N}b!==null&&x.stopPropagation()}else ng(o,c,x,null,f)}}var sl=null;function uc(o,c,f,x){if(sl=null,o=at(x),o=ol(o),o!==null)if(c=X(o),c===null)o=null;else if(f=c.tag,f===13){if(o=ue(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return sl=o,null}function Gu(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pt()){case nr:return 1;case Jt:return 4;case sr:case js:return 16;case Ks:return 536870912;default:return 16}default:return 16}}var Ps=null,dc=null,ps=null;function qu(){if(ps)return ps;var o,c=dc,f=c.length,x,b="value"in Ps?Ps.value:Ps.textContent,N=b.length;for(o=0;o<f&&c[o]===b[o];o++);var V=f-o;for(x=1;x<=V&&c[f-x]===b[N-x];x++);return ps=b.slice(o,1<x?1-x:void 0)}function hc(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Ua(){return!0}function Ku(){return!1}function jn(o){function c(f,x,b,N,V){this._reactName=f,this._targetInst=b,this.type=x,this.nativeEvent=N,this.target=V,this.currentTarget=null;for(var ae in o)o.hasOwnProperty(ae)&&(f=o[ae],this[ae]=f?f(N):N[ae]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Ua:Ku,this.isPropagationStopped=Ku,this}return de(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),c}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fc=jn(xa),za=de({},xa,{view:0,detail:0}),qm=jn(za),pc,yi,so,al=de({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==so&&(so&&o.type==="mousemove"?(pc=o.screenX-so.screenX,yi=o.screenY-so.screenY):yi=pc=0,so=o),pc)},movementY:function(o){return"movementY"in o?o.movementY:yi}}),mc=jn(al),Yu=de({},al,{dataTransfer:0}),fh=jn(Yu),gc=de({},za,{relatedTarget:0}),xc=jn(gc),ph=de({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),vi=jn(ph),mh=de({},xa,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),gh=jn(mh),xh=de({},xa,{data:0}),Xu=jn(xh),yc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ss={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vh(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=yh[o])?!!c[o]:!1}function Ha(){return vh}var m=de({},za,{key:function(o){if(o.key){var c=yc[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=hc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?ss[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(o){return o.type==="keypress"?hc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?hc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),k=jn(m),C=de({},al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q=jn(C),pe=de({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),Te=jn(pe),nt=de({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),gr=jn(nt),fn=de({},al,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zt=jn(fn),vn=[9,13,27,32],nn=u&&"CompositionEvent"in window,Xs=null;u&&"documentMode"in document&&(Xs=document.documentMode);var Rs=u&&"TextEvent"in window&&!Xs,il=u&&(!nn||Xs&&8<Xs&&11>=Xs),vc=" ",Ib=!1;function Pb(o,c){switch(o){case"keyup":return vn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rb(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var bc=!1;function dC(o,c){switch(o){case"compositionend":return Rb(c);case"keypress":return c.which!==32?null:(Ib=!0,vc);case"textInput":return o=c.data,o===vc&&Ib?null:o;default:return null}}function hC(o,c){if(bc)return o==="compositionend"||!nn&&Pb(o,c)?(o=qu(),ps=dc=Ps=null,bc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return il&&c.locale!=="ko"?null:c.data;default:return null}}var fC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Db(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!fC[o.type]:c==="textarea"}function Ob(o,c,f,x){Kt(x),c=Th(c,"onChange"),0<c.length&&(f=new fc("onChange","change",null,f,x),o.push({event:f,listeners:c}))}var Qu=null,Ju=null;function pC(o){Zb(o,0)}function bh(o){var c=kc(o);if(yt(c))return o}function mC(o,c){if(o==="change")return c}var Fb=!1;if(u){var Km;if(u){var Ym="oninput"in document;if(!Ym){var Lb=document.createElement("div");Lb.setAttribute("oninput","return;"),Ym=typeof Lb.oninput=="function"}Km=Ym}else Km=!1;Fb=Km&&(!document.documentMode||9<document.documentMode)}function Mb(){Qu&&(Qu.detachEvent("onpropertychange",Vb),Ju=Qu=null)}function Vb(o){if(o.propertyName==="value"&&bh(Ju)){var c=[];Ob(c,Ju,o,at(o)),Wn(pC,c)}}function gC(o,c,f){o==="focusin"?(Mb(),Qu=c,Ju=f,Qu.attachEvent("onpropertychange",Vb)):o==="focusout"&&Mb()}function xC(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return bh(Ju)}function yC(o,c){if(o==="click")return bh(c)}function vC(o,c){if(o==="input"||o==="change")return bh(c)}function bC(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var ya=typeof Object.is=="function"?Object.is:bC;function Zu(o,c){if(ya(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),x=Object.keys(c);if(f.length!==x.length)return!1;for(x=0;x<f.length;x++){var b=f[x];if(!d.call(c,b)||!ya(o[b],c[b]))return!1}return!0}function $b(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Bb(o,c){var f=$b(o);o=0;for(var x;f;){if(f.nodeType===3){if(x=o+f.textContent.length,o<=c&&x>=c)return{node:f,offset:c-o};o=x}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=$b(f)}}function Ub(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Ub(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function zb(){for(var o=window,c=Wt();c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=Wt(o.document)}return c}function Xm(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function wC(o){var c=zb(),f=o.focusedElem,x=o.selectionRange;if(c!==f&&f&&f.ownerDocument&&Ub(f.ownerDocument.documentElement,f)){if(x!==null&&Xm(f)){if(c=x.start,o=x.end,o===void 0&&(o=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(o,f.value.length);else if(o=(c=f.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var b=f.textContent.length,N=Math.min(x.start,b);x=x.end===void 0?N:Math.min(x.end,b),!o.extend&&N>x&&(b=x,x=N,N=b),b=Bb(f,N);var V=Bb(f,x);b&&V&&(o.rangeCount!==1||o.anchorNode!==b.node||o.anchorOffset!==b.offset||o.focusNode!==V.node||o.focusOffset!==V.offset)&&(c=c.createRange(),c.setStart(b.node,b.offset),o.removeAllRanges(),N>x?(o.addRange(c),o.extend(V.node,V.offset)):(c.setEnd(V.node,V.offset),o.addRange(c)))}}for(c=[],o=f;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)o=c[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var _C=u&&"documentMode"in document&&11>=document.documentMode,wc=null,Qm=null,ed=null,Jm=!1;function Hb(o,c,f){var x=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Jm||wc==null||wc!==Wt(x)||(x=wc,"selectionStart"in x&&Xm(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),ed&&Zu(ed,x)||(ed=x,x=Th(Qm,"onSelect"),0<x.length&&(c=new fc("onSelect","select",null,c,f),o.push({event:c,listeners:x}),c.target=wc)))}function wh(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var _c={animationend:wh("Animation","AnimationEnd"),animationiteration:wh("Animation","AnimationIteration"),animationstart:wh("Animation","AnimationStart"),transitionend:wh("Transition","TransitionEnd")},Zm={},Wb={};u&&(Wb=document.createElement("div").style,"AnimationEvent"in window||(delete _c.animationend.animation,delete _c.animationiteration.animation,delete _c.animationstart.animation),"TransitionEvent"in window||delete _c.transitionend.transition);function _h(o){if(Zm[o])return Zm[o];if(!_c[o])return o;var c=_c[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in Wb)return Zm[o]=c[f];return o}var Gb=_h("animationend"),qb=_h("animationiteration"),Kb=_h("animationstart"),Yb=_h("transitionend"),Xb=new Map,Qb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(o,c){Xb.set(o,c),a(c,[o])}for(var eg=0;eg<Qb.length;eg++){var tg=Qb[eg],EC=tg.toLowerCase(),TC=tg[0].toUpperCase()+tg.slice(1);ao(EC,"on"+TC)}ao(Gb,"onAnimationEnd"),ao(qb,"onAnimationIteration"),ao(Kb,"onAnimationStart"),ao("dblclick","onDoubleClick"),ao("focusin","onFocus"),ao("focusout","onBlur"),ao(Yb,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kC=new Set("cancel close invalid load scroll toggle".split(" ").concat(td));function Jb(o,c,f){var x=o.type||"unknown-event";o.currentTarget=f,J(x,c,void 0,o),o.currentTarget=null}function Zb(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var x=o[f],b=x.event;x=x.listeners;e:{var N=void 0;if(c)for(var V=x.length-1;0<=V;V--){var ae=x[V],oe=ae.instance,_e=ae.currentTarget;if(ae=ae.listener,oe!==N&&b.isPropagationStopped())break e;Jb(b,ae,_e),N=oe}else for(V=0;V<x.length;V++){if(ae=x[V],oe=ae.instance,_e=ae.currentTarget,ae=ae.listener,oe!==N&&b.isPropagationStopped())break e;Jb(b,ae,_e),N=oe}}}if(P)throw o=H,P=!1,H=null,o}function Rr(o,c){var f=c[cg];f===void 0&&(f=c[cg]=new Set);var x=o+"__bubble";f.has(x)||(e2(c,o,2,!1),f.add(x))}function rg(o,c,f){var x=0;c&&(x|=4),e2(f,o,x,c)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function rd(o){if(!o[Eh]){o[Eh]=!0,n.forEach(function(f){f!=="selectionchange"&&(kC.has(f)||rg(f,!1,o),rg(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Eh]||(c[Eh]=!0,rg("selectionchange",!1,c))}}function e2(o,c,f,x){switch(Gu(c)){case 1:var b=Fr;break;case 4:b=Gm;break;default:b=Wu}f=b.bind(null,c,f,o),b=void 0,!hn||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),x?b!==void 0?o.addEventListener(c,f,{capture:!0,passive:b}):o.addEventListener(c,f,!0):b!==void 0?o.addEventListener(c,f,{passive:b}):o.addEventListener(c,f,!1)}function ng(o,c,f,x,b){var N=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var V=x.tag;if(V===3||V===4){var ae=x.stateNode.containerInfo;if(ae===b||ae.nodeType===8&&ae.parentNode===b)break;if(V===4)for(V=x.return;V!==null;){var oe=V.tag;if((oe===3||oe===4)&&(oe=V.stateNode.containerInfo,oe===b||oe.nodeType===8&&oe.parentNode===b))return;V=V.return}for(;ae!==null;){if(V=ol(ae),V===null)return;if(oe=V.tag,oe===5||oe===6){x=N=V;continue e}ae=ae.parentNode}}x=x.return}Wn(function(){var _e=N,Ge=at(f),Ye=[];e:{var He=Xb.get(o);if(He!==void 0){var pt=fc,bt=o;switch(o){case"keypress":if(hc(f)===0)break e;case"keydown":case"keyup":pt=k;break;case"focusin":bt="focus",pt=xc;break;case"focusout":bt="blur",pt=xc;break;case"beforeblur":case"afterblur":pt=xc;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=Te;break;case Gb:case qb:case Kb:pt=vi;break;case Yb:pt=gr;break;case"scroll":pt=qm;break;case"wheel":pt=Zt;break;case"copy":case"cut":case"paste":pt=gh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=q}var _t=(c&4)!==0,Jr=!_t&&o==="scroll",me=_t?He!==null?He+"Capture":null:He;_t=[];for(var ce=_e,ve;ce!==null;){ve=ce;var Qe=ve.stateNode;if(ve.tag===5&&Qe!==null&&(ve=Qe,me!==null&&(Qe=ur(ce,me),Qe!=null&&_t.push(nd(ce,Qe,ve)))),Jr)break;ce=ce.return}0<_t.length&&(He=new pt(He,bt,null,f,Ge),Ye.push({event:He,listeners:_t}))}}if((c&7)===0){e:{if(He=o==="mouseover"||o==="pointerover",pt=o==="mouseout"||o==="pointerout",He&&f!==Nt&&(bt=f.relatedTarget||f.fromElement)&&(ol(bt)||bt[bi]))break e;if((pt||He)&&(He=Ge.window===Ge?Ge:(He=Ge.ownerDocument)?He.defaultView||He.parentWindow:window,pt?(bt=f.relatedTarget||f.toElement,pt=_e,bt=bt?ol(bt):null,bt!==null&&(Jr=X(bt),bt!==Jr||bt.tag!==5&&bt.tag!==6)&&(bt=null)):(pt=null,bt=_e),pt!==bt)){if(_t=mc,Qe="onMouseLeave",me="onMouseEnter",ce="mouse",(o==="pointerout"||o==="pointerover")&&(_t=q,Qe="onPointerLeave",me="onPointerEnter",ce="pointer"),Jr=pt==null?He:kc(pt),ve=bt==null?He:kc(bt),He=new _t(Qe,ce+"leave",pt,f,Ge),He.target=Jr,He.relatedTarget=ve,Qe=null,ol(Ge)===_e&&(_t=new _t(me,ce+"enter",bt,f,Ge),_t.target=ve,_t.relatedTarget=Jr,Qe=_t),Jr=Qe,pt&&bt)t:{for(_t=pt,me=bt,ce=0,ve=_t;ve;ve=Ec(ve))ce++;for(ve=0,Qe=me;Qe;Qe=Ec(Qe))ve++;for(;0<ce-ve;)_t=Ec(_t),ce--;for(;0<ve-ce;)me=Ec(me),ve--;for(;ce--;){if(_t===me||me!==null&&_t===me.alternate)break t;_t=Ec(_t),me=Ec(me)}_t=null}else _t=null;pt!==null&&t2(Ye,He,pt,_t,!1),bt!==null&&Jr!==null&&t2(Ye,Jr,bt,_t,!0)}}e:{if(He=_e?kc(_e):window,pt=He.nodeName&&He.nodeName.toLowerCase(),pt==="select"||pt==="input"&&He.type==="file")var Et=mC;else if(Db(He))if(Fb)Et=vC;else{Et=xC;var Ct=gC}else(pt=He.nodeName)&&pt.toLowerCase()==="input"&&(He.type==="checkbox"||He.type==="radio")&&(Et=yC);if(Et&&(Et=Et(o,_e))){Ob(Ye,Et,f,Ge);break e}Ct&&Ct(o,He,_e),o==="focusout"&&(Ct=He._wrapperState)&&Ct.controlled&&He.type==="number"&&Vt(He,"number",He.value)}switch(Ct=_e?kc(_e):window,o){case"focusin":(Db(Ct)||Ct.contentEditable==="true")&&(wc=Ct,Qm=_e,ed=null);break;case"focusout":ed=Qm=wc=null;break;case"mousedown":Jm=!0;break;case"contextmenu":case"mouseup":case"dragend":Jm=!1,Hb(Ye,f,Ge);break;case"selectionchange":if(_C)break;case"keydown":case"keyup":Hb(Ye,f,Ge)}var jt;if(nn)e:{switch(o){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else bc?Pb(o,f)&&(Ft="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Ft="onCompositionStart");Ft&&(il&&f.locale!=="ko"&&(bc||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&bc&&(jt=qu()):(Ps=Ge,dc="value"in Ps?Ps.value:Ps.textContent,bc=!0)),Ct=Th(_e,Ft),0<Ct.length&&(Ft=new Xu(Ft,o,null,f,Ge),Ye.push({event:Ft,listeners:Ct}),jt?Ft.data=jt:(jt=Rb(f),jt!==null&&(Ft.data=jt)))),(jt=Rs?dC(o,f):hC(o,f))&&(_e=Th(_e,"onBeforeInput"),0<_e.length&&(Ge=new Xu("onBeforeInput","beforeinput",null,f,Ge),Ye.push({event:Ge,listeners:_e}),Ge.data=jt))}Zb(Ye,c)})}function nd(o,c,f){return{instance:o,listener:c,currentTarget:f}}function Th(o,c){for(var f=c+"Capture",x=[];o!==null;){var b=o,N=b.stateNode;b.tag===5&&N!==null&&(b=N,N=ur(o,f),N!=null&&x.unshift(nd(o,N,b)),N=ur(o,c),N!=null&&x.push(nd(o,N,b))),o=o.return}return x}function Ec(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function t2(o,c,f,x,b){for(var N=c._reactName,V=[];f!==null&&f!==x;){var ae=f,oe=ae.alternate,_e=ae.stateNode;if(oe!==null&&oe===x)break;ae.tag===5&&_e!==null&&(ae=_e,b?(oe=ur(f,N),oe!=null&&V.unshift(nd(f,oe,ae))):b||(oe=ur(f,N),oe!=null&&V.push(nd(f,oe,ae)))),f=f.return}V.length!==0&&o.push({event:c,listeners:V})}var NC=/\r\n?/g,AC=/\u0000|\uFFFD/g;function r2(o){return(typeof o=="string"?o:""+o).replace(NC,`
`).replace(AC,"")}function kh(o,c,f){if(c=r2(c),r2(o)!==c&&f)throw Error(r(425))}function Nh(){}var sg=null,ag=null;function ig(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var og=typeof setTimeout=="function"?setTimeout:void 0,SC=typeof clearTimeout=="function"?clearTimeout:void 0,n2=typeof Promise=="function"?Promise:void 0,CC=typeof queueMicrotask=="function"?queueMicrotask:typeof n2<"u"?function(o){return n2.resolve(null).then(o).catch(jC)}:og;function jC(o){setTimeout(function(){throw o})}function lg(o,c){var f=c,x=0;do{var b=f.nextSibling;if(o.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(x===0){o.removeChild(b),ga(c);return}x--}else f!=="$"&&f!=="$?"&&f!=="$!"||x++;f=b}while(f);ga(c)}function io(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function s2(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return o;c--}else f==="/$"&&c++}o=o.previousSibling}return null}var Tc=Math.random().toString(36).slice(2),Wa="__reactFiber$"+Tc,sd="__reactProps$"+Tc,bi="__reactContainer$"+Tc,cg="__reactEvents$"+Tc,IC="__reactListeners$"+Tc,PC="__reactHandles$"+Tc;function ol(o){var c=o[Wa];if(c)return c;for(var f=o.parentNode;f;){if(c=f[bi]||f[Wa]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=s2(o);o!==null;){if(f=o[Wa])return f;o=s2(o)}return c}o=f,f=o.parentNode}return null}function ad(o){return o=o[Wa]||o[bi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function kc(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Ah(o){return o[sd]||null}var ug=[],Nc=-1;function oo(o){return{current:o}}function Dr(o){0>Nc||(o.current=ug[Nc],ug[Nc]=null,Nc--)}function Cr(o,c){Nc++,ug[Nc]=o.current,o.current=c}var lo={},Gn=oo(lo),ms=oo(!1),ll=lo;function Ac(o,c){var f=o.type.contextTypes;if(!f)return lo;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var b={},N;for(N in f)b[N]=c[N];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=b),b}function gs(o){return o=o.childContextTypes,o!=null}function Sh(){Dr(ms),Dr(Gn)}function a2(o,c,f){if(Gn.current!==lo)throw Error(r(168));Cr(Gn,c),Cr(ms,f)}function i2(o,c,f){var x=o.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return f;x=x.getChildContext();for(var b in x)if(!(b in c))throw Error(r(108,Le(o)||"Unknown",b));return de({},f,x)}function Ch(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||lo,ll=Gn.current,Cr(Gn,o),Cr(ms,ms.current),!0}function o2(o,c,f){var x=o.stateNode;if(!x)throw Error(r(169));f?(o=i2(o,c,ll),x.__reactInternalMemoizedMergedChildContext=o,Dr(ms),Dr(Gn),Cr(Gn,o)):Dr(ms),Cr(ms,f)}var wi=null,jh=!1,dg=!1;function l2(o){wi===null?wi=[o]:wi.push(o)}function RC(o){jh=!0,l2(o)}function co(){if(!dg&&wi!==null){dg=!0;var o=0,c=Qt;try{var f=wi;for(Qt=1;o<f.length;o++){var x=f[o];do x=x(!0);while(x!==null)}wi=null,jh=!1}catch(b){throw wi!==null&&(wi=wi.slice(o+1)),Ue(nr,co),b}finally{Qt=c,dg=!1}}return null}var Sc=[],Cc=0,Ih=null,Ph=0,Qs=[],Js=0,cl=null,_i=1,Ei="";function ul(o,c){Sc[Cc++]=Ph,Sc[Cc++]=Ih,Ih=o,Ph=c}function c2(o,c,f){Qs[Js++]=_i,Qs[Js++]=Ei,Qs[Js++]=cl,cl=o;var x=_i;o=Ei;var b=32-Pr(x)-1;x&=~(1<<b),f+=1;var N=32-Pr(c)+b;if(30<N){var V=b-b%5;N=(x&(1<<V)-1).toString(32),x>>=V,b-=V,_i=1<<32-Pr(c)+b|f<<b|x,Ei=N+o}else _i=1<<N|f<<b|x,Ei=o}function hg(o){o.return!==null&&(ul(o,1),c2(o,1,0))}function fg(o){for(;o===Ih;)Ih=Sc[--Cc],Sc[Cc]=null,Ph=Sc[--Cc],Sc[Cc]=null;for(;o===cl;)cl=Qs[--Js],Qs[Js]=null,Ei=Qs[--Js],Qs[Js]=null,_i=Qs[--Js],Qs[Js]=null}var Ds=null,Os=null,Lr=!1,va=null;function u2(o,c){var f=ra(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=o,c=o.deletions,c===null?(o.deletions=[f],o.flags|=16):c.push(f)}function d2(o,c){switch(o.tag){case 5:var f=o.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,Ds=o,Os=io(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,Ds=o,Os=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=cl!==null?{id:_i,overflow:Ei}:null,o.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=ra(18,null,null,0),f.stateNode=c,f.return=o,o.child=f,Ds=o,Os=null,!0):!1;default:return!1}}function pg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function mg(o){if(Lr){var c=Os;if(c){var f=c;if(!d2(o,c)){if(pg(o))throw Error(r(418));c=io(f.nextSibling);var x=Ds;c&&d2(o,c)?u2(x,f):(o.flags=o.flags&-4097|2,Lr=!1,Ds=o)}}else{if(pg(o))throw Error(r(418));o.flags=o.flags&-4097|2,Lr=!1,Ds=o}}}function h2(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Ds=o}function Rh(o){if(o!==Ds)return!1;if(!Lr)return h2(o),Lr=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!ig(o.type,o.memoizedProps)),c&&(c=Os)){if(pg(o))throw f2(),Error(r(418));for(;c;)u2(o,c),c=io(c.nextSibling)}if(h2(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(c===0){Os=io(o.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}o=o.nextSibling}Os=null}}else Os=Ds?io(o.stateNode.nextSibling):null;return!0}function f2(){for(var o=Os;o;)o=io(o.nextSibling)}function jc(){Os=Ds=null,Lr=!1}function gg(o){va===null?va=[o]:va.push(o)}var DC=F.ReactCurrentBatchConfig;function id(o,c,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var x=f.stateNode}if(!x)throw Error(r(147,o));var b=x,N=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===N?c.ref:(c=function(V){var ae=b.refs;V===null?delete ae[N]:ae[N]=V},c._stringRef=N,c)}if(typeof o!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,o))}return o}function Dh(o,c){throw o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function p2(o){var c=o._init;return c(o._payload)}function m2(o){function c(me,ce){if(o){var ve=me.deletions;ve===null?(me.deletions=[ce],me.flags|=16):ve.push(ce)}}function f(me,ce){if(!o)return null;for(;ce!==null;)c(me,ce),ce=ce.sibling;return null}function x(me,ce){for(me=new Map;ce!==null;)ce.key!==null?me.set(ce.key,ce):me.set(ce.index,ce),ce=ce.sibling;return me}function b(me,ce){return me=yo(me,ce),me.index=0,me.sibling=null,me}function N(me,ce,ve){return me.index=ve,o?(ve=me.alternate,ve!==null?(ve=ve.index,ve<ce?(me.flags|=2,ce):ve):(me.flags|=2,ce)):(me.flags|=1048576,ce)}function V(me){return o&&me.alternate===null&&(me.flags|=2),me}function ae(me,ce,ve,Qe){return ce===null||ce.tag!==6?(ce=ox(ve,me.mode,Qe),ce.return=me,ce):(ce=b(ce,ve),ce.return=me,ce)}function oe(me,ce,ve,Qe){var Et=ve.type;return Et===S?Ge(me,ce,ve.props.children,Qe,ve.key):ce!==null&&(ce.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Ce&&p2(Et)===ce.type)?(Qe=b(ce,ve.props),Qe.ref=id(me,ce,ve),Qe.return=me,Qe):(Qe=sf(ve.type,ve.key,ve.props,null,me.mode,Qe),Qe.ref=id(me,ce,ve),Qe.return=me,Qe)}function _e(me,ce,ve,Qe){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==ve.containerInfo||ce.stateNode.implementation!==ve.implementation?(ce=lx(ve,me.mode,Qe),ce.return=me,ce):(ce=b(ce,ve.children||[]),ce.return=me,ce)}function Ge(me,ce,ve,Qe,Et){return ce===null||ce.tag!==7?(ce=yl(ve,me.mode,Qe,Et),ce.return=me,ce):(ce=b(ce,ve),ce.return=me,ce)}function Ye(me,ce,ve){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=ox(""+ce,me.mode,ve),ce.return=me,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case Y:return ve=sf(ce.type,ce.key,ce.props,null,me.mode,ve),ve.ref=id(me,null,ce),ve.return=me,ve;case U:return ce=lx(ce,me.mode,ve),ce.return=me,ce;case Ce:var Qe=ce._init;return Ye(me,Qe(ce._payload),ve)}if(qt(ce)||ie(ce))return ce=yl(ce,me.mode,ve,null),ce.return=me,ce;Dh(me,ce)}return null}function He(me,ce,ve,Qe){var Et=ce!==null?ce.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return Et!==null?null:ae(me,ce,""+ve,Qe);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case Y:return ve.key===Et?oe(me,ce,ve,Qe):null;case U:return ve.key===Et?_e(me,ce,ve,Qe):null;case Ce:return Et=ve._init,He(me,ce,Et(ve._payload),Qe)}if(qt(ve)||ie(ve))return Et!==null?null:Ge(me,ce,ve,Qe,null);Dh(me,ve)}return null}function pt(me,ce,ve,Qe,Et){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return me=me.get(ve)||null,ae(ce,me,""+Qe,Et);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case Y:return me=me.get(Qe.key===null?ve:Qe.key)||null,oe(ce,me,Qe,Et);case U:return me=me.get(Qe.key===null?ve:Qe.key)||null,_e(ce,me,Qe,Et);case Ce:var Ct=Qe._init;return pt(me,ce,ve,Ct(Qe._payload),Et)}if(qt(Qe)||ie(Qe))return me=me.get(ve)||null,Ge(ce,me,Qe,Et,null);Dh(ce,Qe)}return null}function bt(me,ce,ve,Qe){for(var Et=null,Ct=null,jt=ce,Ft=ce=0,_n=null;jt!==null&&Ft<ve.length;Ft++){jt.index>Ft?(_n=jt,jt=null):_n=jt.sibling;var or=He(me,jt,ve[Ft],Qe);if(or===null){jt===null&&(jt=_n);break}o&&jt&&or.alternate===null&&c(me,jt),ce=N(or,ce,Ft),Ct===null?Et=or:Ct.sibling=or,Ct=or,jt=_n}if(Ft===ve.length)return f(me,jt),Lr&&ul(me,Ft),Et;if(jt===null){for(;Ft<ve.length;Ft++)jt=Ye(me,ve[Ft],Qe),jt!==null&&(ce=N(jt,ce,Ft),Ct===null?Et=jt:Ct.sibling=jt,Ct=jt);return Lr&&ul(me,Ft),Et}for(jt=x(me,jt);Ft<ve.length;Ft++)_n=pt(jt,me,Ft,ve[Ft],Qe),_n!==null&&(o&&_n.alternate!==null&&jt.delete(_n.key===null?Ft:_n.key),ce=N(_n,ce,Ft),Ct===null?Et=_n:Ct.sibling=_n,Ct=_n);return o&&jt.forEach(function(vo){return c(me,vo)}),Lr&&ul(me,Ft),Et}function _t(me,ce,ve,Qe){var Et=ie(ve);if(typeof Et!="function")throw Error(r(150));if(ve=Et.call(ve),ve==null)throw Error(r(151));for(var Ct=Et=null,jt=ce,Ft=ce=0,_n=null,or=ve.next();jt!==null&&!or.done;Ft++,or=ve.next()){jt.index>Ft?(_n=jt,jt=null):_n=jt.sibling;var vo=He(me,jt,or.value,Qe);if(vo===null){jt===null&&(jt=_n);break}o&&jt&&vo.alternate===null&&c(me,jt),ce=N(vo,ce,Ft),Ct===null?Et=vo:Ct.sibling=vo,Ct=vo,jt=_n}if(or.done)return f(me,jt),Lr&&ul(me,Ft),Et;if(jt===null){for(;!or.done;Ft++,or=ve.next())or=Ye(me,or.value,Qe),or!==null&&(ce=N(or,ce,Ft),Ct===null?Et=or:Ct.sibling=or,Ct=or);return Lr&&ul(me,Ft),Et}for(jt=x(me,jt);!or.done;Ft++,or=ve.next())or=pt(jt,me,Ft,or.value,Qe),or!==null&&(o&&or.alternate!==null&&jt.delete(or.key===null?Ft:or.key),ce=N(or,ce,Ft),Ct===null?Et=or:Ct.sibling=or,Ct=or);return o&&jt.forEach(function(fj){return c(me,fj)}),Lr&&ul(me,Ft),Et}function Jr(me,ce,ve,Qe){if(typeof ve=="object"&&ve!==null&&ve.type===S&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case Y:e:{for(var Et=ve.key,Ct=ce;Ct!==null;){if(Ct.key===Et){if(Et=ve.type,Et===S){if(Ct.tag===7){f(me,Ct.sibling),ce=b(Ct,ve.props.children),ce.return=me,me=ce;break e}}else if(Ct.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Ce&&p2(Et)===Ct.type){f(me,Ct.sibling),ce=b(Ct,ve.props),ce.ref=id(me,Ct,ve),ce.return=me,me=ce;break e}f(me,Ct);break}else c(me,Ct);Ct=Ct.sibling}ve.type===S?(ce=yl(ve.props.children,me.mode,Qe,ve.key),ce.return=me,me=ce):(Qe=sf(ve.type,ve.key,ve.props,null,me.mode,Qe),Qe.ref=id(me,ce,ve),Qe.return=me,me=Qe)}return V(me);case U:e:{for(Ct=ve.key;ce!==null;){if(ce.key===Ct)if(ce.tag===4&&ce.stateNode.containerInfo===ve.containerInfo&&ce.stateNode.implementation===ve.implementation){f(me,ce.sibling),ce=b(ce,ve.children||[]),ce.return=me,me=ce;break e}else{f(me,ce);break}else c(me,ce);ce=ce.sibling}ce=lx(ve,me.mode,Qe),ce.return=me,me=ce}return V(me);case Ce:return Ct=ve._init,Jr(me,ce,Ct(ve._payload),Qe)}if(qt(ve))return bt(me,ce,ve,Qe);if(ie(ve))return _t(me,ce,ve,Qe);Dh(me,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,ce!==null&&ce.tag===6?(f(me,ce.sibling),ce=b(ce,ve),ce.return=me,me=ce):(f(me,ce),ce=ox(ve,me.mode,Qe),ce.return=me,me=ce),V(me)):f(me,ce)}return Jr}var Ic=m2(!0),g2=m2(!1),Oh=oo(null),Fh=null,Pc=null,xg=null;function yg(){xg=Pc=Fh=null}function vg(o){var c=Oh.current;Dr(Oh),o._currentValue=c}function bg(o,c,f){for(;o!==null;){var x=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),o===f)break;o=o.return}}function Rc(o,c){Fh=o,xg=Pc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(xs=!0),o.firstContext=null)}function Zs(o){var c=o._currentValue;if(xg!==o)if(o={context:o,memoizedValue:c,next:null},Pc===null){if(Fh===null)throw Error(r(308));Pc=o,Fh.dependencies={lanes:0,firstContext:o}}else Pc=Pc.next=o;return c}var dl=null;function wg(o){dl===null?dl=[o]:dl.push(o)}function x2(o,c,f,x){var b=c.interleaved;return b===null?(f.next=f,wg(c)):(f.next=b.next,b.next=f),c.interleaved=f,Ti(o,x)}function Ti(o,c){o.lanes|=c;var f=o.alternate;for(f!==null&&(f.lanes|=c),f=o,o=o.return;o!==null;)o.childLanes|=c,f=o.alternate,f!==null&&(f.childLanes|=c),f=o,o=o.return;return f.tag===3?f.stateNode:null}var uo=!1;function _g(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y2(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ki(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function ho(o,c,f){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(ar&2)!==0){var b=x.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),x.pending=c,Ti(o,f)}return b=x.interleaved,b===null?(c.next=c,wg(x)):(c.next=b.next,b.next=c),x.interleaved=c,Ti(o,f)}function Lh(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var x=c.lanes;x&=o.pendingLanes,f|=x,c.lanes=f,eo(o,f)}}function v2(o,c){var f=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,f===x)){var b=null,N=null;if(f=f.firstBaseUpdate,f!==null){do{var V={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};N===null?b=N=V:N=N.next=V,f=f.next}while(f!==null);N===null?b=N=c:N=N.next=c}else b=N=c;f={baseState:x.baseState,firstBaseUpdate:b,lastBaseUpdate:N,shared:x.shared,effects:x.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}function Mh(o,c,f,x){var b=o.updateQueue;uo=!1;var N=b.firstBaseUpdate,V=b.lastBaseUpdate,ae=b.shared.pending;if(ae!==null){b.shared.pending=null;var oe=ae,_e=oe.next;oe.next=null,V===null?N=_e:V.next=_e,V=oe;var Ge=o.alternate;Ge!==null&&(Ge=Ge.updateQueue,ae=Ge.lastBaseUpdate,ae!==V&&(ae===null?Ge.firstBaseUpdate=_e:ae.next=_e,Ge.lastBaseUpdate=oe))}if(N!==null){var Ye=b.baseState;V=0,Ge=_e=oe=null,ae=N;do{var He=ae.lane,pt=ae.eventTime;if((x&He)===He){Ge!==null&&(Ge=Ge.next={eventTime:pt,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var bt=o,_t=ae;switch(He=c,pt=f,_t.tag){case 1:if(bt=_t.payload,typeof bt=="function"){Ye=bt.call(pt,Ye,He);break e}Ye=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=_t.payload,He=typeof bt=="function"?bt.call(pt,Ye,He):bt,He==null)break e;Ye=de({},Ye,He);break e;case 2:uo=!0}}ae.callback!==null&&ae.lane!==0&&(o.flags|=64,He=b.effects,He===null?b.effects=[ae]:He.push(ae))}else pt={eventTime:pt,lane:He,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Ge===null?(_e=Ge=pt,oe=Ye):Ge=Ge.next=pt,V|=He;if(ae=ae.next,ae===null){if(ae=b.shared.pending,ae===null)break;He=ae,ae=He.next,He.next=null,b.lastBaseUpdate=He,b.shared.pending=null}}while(!0);if(Ge===null&&(oe=Ye),b.baseState=oe,b.firstBaseUpdate=_e,b.lastBaseUpdate=Ge,c=b.shared.interleaved,c!==null){b=c;do V|=b.lane,b=b.next;while(b!==c)}else N===null&&(b.shared.lanes=0);pl|=V,o.lanes=V,o.memoizedState=Ye}}function b2(o,c,f){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var x=o[c],b=x.callback;if(b!==null){if(x.callback=null,x=f,typeof b!="function")throw Error(r(191,b));b.call(x)}}}var od={},Ga=oo(od),ld=oo(od),cd=oo(od);function hl(o){if(o===od)throw Error(r(174));return o}function Eg(o,c){switch(Cr(cd,c),Cr(ld,o),Cr(Ga,od),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:st(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=st(c,o)}Dr(Ga),Cr(Ga,c)}function Dc(){Dr(Ga),Dr(ld),Dr(cd)}function w2(o){hl(cd.current);var c=hl(Ga.current),f=st(c,o.type);c!==f&&(Cr(ld,o),Cr(Ga,f))}function Tg(o){ld.current===o&&(Dr(Ga),Dr(ld))}var Ur=oo(0);function Vh(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var kg=[];function Ng(){for(var o=0;o<kg.length;o++)kg[o]._workInProgressVersionPrimary=null;kg.length=0}var $h=F.ReactCurrentDispatcher,Ag=F.ReactCurrentBatchConfig,fl=0,zr=null,pn=null,bn=null,Bh=!1,ud=!1,dd=0,OC=0;function qn(){throw Error(r(321))}function Sg(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!ya(o[f],c[f]))return!1;return!0}function Cg(o,c,f,x,b,N){if(fl=N,zr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,$h.current=o===null||o.memoizedState===null?VC:$C,o=f(x,b),ud){N=0;do{if(ud=!1,dd=0,25<=N)throw Error(r(301));N+=1,bn=pn=null,c.updateQueue=null,$h.current=BC,o=f(x,b)}while(ud)}if($h.current=Hh,c=pn!==null&&pn.next!==null,fl=0,bn=pn=zr=null,Bh=!1,c)throw Error(r(300));return o}function jg(){var o=dd!==0;return dd=0,o}function qa(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?zr.memoizedState=bn=o:bn=bn.next=o,bn}function ea(){if(pn===null){var o=zr.alternate;o=o!==null?o.memoizedState:null}else o=pn.next;var c=bn===null?zr.memoizedState:bn.next;if(c!==null)bn=c,pn=o;else{if(o===null)throw Error(r(310));pn=o,o={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},bn===null?zr.memoizedState=bn=o:bn=bn.next=o}return bn}function hd(o,c){return typeof c=="function"?c(o):c}function Ig(o){var c=ea(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var x=pn,b=x.baseQueue,N=f.pending;if(N!==null){if(b!==null){var V=b.next;b.next=N.next,N.next=V}x.baseQueue=b=N,f.pending=null}if(b!==null){N=b.next,x=x.baseState;var ae=V=null,oe=null,_e=N;do{var Ge=_e.lane;if((fl&Ge)===Ge)oe!==null&&(oe=oe.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),x=_e.hasEagerState?_e.eagerState:o(x,_e.action);else{var Ye={lane:Ge,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};oe===null?(ae=oe=Ye,V=x):oe=oe.next=Ye,zr.lanes|=Ge,pl|=Ge}_e=_e.next}while(_e!==null&&_e!==N);oe===null?V=x:oe.next=ae,ya(x,c.memoizedState)||(xs=!0),c.memoizedState=x,c.baseState=V,c.baseQueue=oe,f.lastRenderedState=x}if(o=f.interleaved,o!==null){b=o;do N=b.lane,zr.lanes|=N,pl|=N,b=b.next;while(b!==o)}else b===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function Pg(o){var c=ea(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var x=f.dispatch,b=f.pending,N=c.memoizedState;if(b!==null){f.pending=null;var V=b=b.next;do N=o(N,V.action),V=V.next;while(V!==b);ya(N,c.memoizedState)||(xs=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),f.lastRenderedState=N}return[N,x]}function _2(){}function E2(o,c){var f=zr,x=ea(),b=c(),N=!ya(x.memoizedState,b);if(N&&(x.memoizedState=b,xs=!0),x=x.queue,Rg(N2.bind(null,f,x,o),[o]),x.getSnapshot!==c||N||bn!==null&&bn.memoizedState.tag&1){if(f.flags|=2048,fd(9,k2.bind(null,f,x,b,c),void 0,null),wn===null)throw Error(r(349));(fl&30)!==0||T2(f,c,b)}return b}function T2(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=zr.updateQueue,c===null?(c={lastEffect:null,stores:null},zr.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function k2(o,c,f,x){c.value=f,c.getSnapshot=x,A2(c)&&S2(o)}function N2(o,c,f){return f(function(){A2(c)&&S2(o)})}function A2(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!ya(o,f)}catch{return!0}}function S2(o){var c=Ti(o,1);c!==null&&Ea(c,o,1,-1)}function C2(o){var c=qa();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hd,lastRenderedState:o},c.queue=o,o=o.dispatch=MC.bind(null,zr,o),[c.memoizedState,o]}function fd(o,c,f,x){return o={tag:o,create:c,destroy:f,deps:x,next:null},c=zr.updateQueue,c===null?(c={lastEffect:null,stores:null},zr.updateQueue=c,c.lastEffect=o.next=o):(f=c.lastEffect,f===null?c.lastEffect=o.next=o:(x=f.next,f.next=o,o.next=x,c.lastEffect=o)),o}function j2(){return ea().memoizedState}function Uh(o,c,f,x){var b=qa();zr.flags|=o,b.memoizedState=fd(1|c,f,void 0,x===void 0?null:x)}function zh(o,c,f,x){var b=ea();x=x===void 0?null:x;var N=void 0;if(pn!==null){var V=pn.memoizedState;if(N=V.destroy,x!==null&&Sg(x,V.deps)){b.memoizedState=fd(c,f,N,x);return}}zr.flags|=o,b.memoizedState=fd(1|c,f,N,x)}function I2(o,c){return Uh(8390656,8,o,c)}function Rg(o,c){return zh(2048,8,o,c)}function P2(o,c){return zh(4,2,o,c)}function R2(o,c){return zh(4,4,o,c)}function D2(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function O2(o,c,f){return f=f!=null?f.concat([o]):null,zh(4,4,D2.bind(null,c,o),f)}function Dg(){}function F2(o,c){var f=ea();c=c===void 0?null:c;var x=f.memoizedState;return x!==null&&c!==null&&Sg(c,x[1])?x[0]:(f.memoizedState=[o,c],o)}function L2(o,c){var f=ea();c=c===void 0?null:c;var x=f.memoizedState;return x!==null&&c!==null&&Sg(c,x[1])?x[0]:(o=o(),f.memoizedState=[o,c],o)}function M2(o,c,f){return(fl&21)===0?(o.baseState&&(o.baseState=!1,xs=!0),o.memoizedState=f):(ya(f,c)||(f=rl(),zr.lanes|=f,pl|=f,o.baseState=!0),c)}function FC(o,c){var f=Qt;Qt=f!==0&&4>f?f:4,o(!0);var x=Ag.transition;Ag.transition={};try{o(!1),c()}finally{Qt=f,Ag.transition=x}}function V2(){return ea().memoizedState}function LC(o,c,f){var x=go(o);if(f={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null},$2(o))B2(c,f);else if(f=x2(o,c,f,x),f!==null){var b=is();Ea(f,o,x,b),U2(f,c,x)}}function MC(o,c,f){var x=go(o),b={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null};if($2(o))B2(c,b);else{var N=o.alternate;if(o.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var V=c.lastRenderedState,ae=N(V,f);if(b.hasEagerState=!0,b.eagerState=ae,ya(ae,V)){var oe=c.interleaved;oe===null?(b.next=b,wg(c)):(b.next=oe.next,oe.next=b),c.interleaved=b;return}}catch{}finally{}f=x2(o,c,b,x),f!==null&&(b=is(),Ea(f,o,x,b),U2(f,c,x))}}function $2(o){var c=o.alternate;return o===zr||c!==null&&c===zr}function B2(o,c){ud=Bh=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function U2(o,c,f){if((f&4194240)!==0){var x=c.lanes;x&=o.pendingLanes,f|=x,c.lanes=f,eo(o,f)}}var Hh={readContext:Zs,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},VC={readContext:Zs,useCallback:function(o,c){return qa().memoizedState=[o,c===void 0?null:c],o},useContext:Zs,useEffect:I2,useImperativeHandle:function(o,c,f){return f=f!=null?f.concat([o]):null,Uh(4194308,4,D2.bind(null,c,o),f)},useLayoutEffect:function(o,c){return Uh(4194308,4,o,c)},useInsertionEffect:function(o,c){return Uh(4,2,o,c)},useMemo:function(o,c){var f=qa();return c=c===void 0?null:c,o=o(),f.memoizedState=[o,c],o},useReducer:function(o,c,f){var x=qa();return c=f!==void 0?f(c):c,x.memoizedState=x.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},x.queue=o,o=o.dispatch=LC.bind(null,zr,o),[x.memoizedState,o]},useRef:function(o){var c=qa();return o={current:o},c.memoizedState=o},useState:C2,useDebugValue:Dg,useDeferredValue:function(o){return qa().memoizedState=o},useTransition:function(){var o=C2(!1),c=o[0];return o=FC.bind(null,o[1]),qa().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,f){var x=zr,b=qa();if(Lr){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),wn===null)throw Error(r(349));(fl&30)!==0||T2(x,c,f)}b.memoizedState=f;var N={value:f,getSnapshot:c};return b.queue=N,I2(N2.bind(null,x,N,o),[o]),x.flags|=2048,fd(9,k2.bind(null,x,N,f,c),void 0,null),f},useId:function(){var o=qa(),c=wn.identifierPrefix;if(Lr){var f=Ei,x=_i;f=(x&~(1<<32-Pr(x)-1)).toString(32)+f,c=":"+c+"R"+f,f=dd++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=OC++,c=":"+c+"r"+f.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},$C={readContext:Zs,useCallback:F2,useContext:Zs,useEffect:Rg,useImperativeHandle:O2,useInsertionEffect:P2,useLayoutEffect:R2,useMemo:L2,useReducer:Ig,useRef:j2,useState:function(){return Ig(hd)},useDebugValue:Dg,useDeferredValue:function(o){var c=ea();return M2(c,pn.memoizedState,o)},useTransition:function(){var o=Ig(hd)[0],c=ea().memoizedState;return[o,c]},useMutableSource:_2,useSyncExternalStore:E2,useId:V2,unstable_isNewReconciler:!1},BC={readContext:Zs,useCallback:F2,useContext:Zs,useEffect:Rg,useImperativeHandle:O2,useInsertionEffect:P2,useLayoutEffect:R2,useMemo:L2,useReducer:Pg,useRef:j2,useState:function(){return Pg(hd)},useDebugValue:Dg,useDeferredValue:function(o){var c=ea();return pn===null?c.memoizedState=o:M2(c,pn.memoizedState,o)},useTransition:function(){var o=Pg(hd)[0],c=ea().memoizedState;return[o,c]},useMutableSource:_2,useSyncExternalStore:E2,useId:V2,unstable_isNewReconciler:!1};function ba(o,c){if(o&&o.defaultProps){c=de({},c),o=o.defaultProps;for(var f in o)c[f]===void 0&&(c[f]=o[f]);return c}return c}function Og(o,c,f,x){c=o.memoizedState,f=f(x,c),f=f==null?c:de({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Wh={isMounted:function(o){return(o=o._reactInternals)?X(o)===o:!1},enqueueSetState:function(o,c,f){o=o._reactInternals;var x=is(),b=go(o),N=ki(x,b);N.payload=c,f!=null&&(N.callback=f),c=ho(o,N,b),c!==null&&(Ea(c,o,b,x),Lh(c,o,b))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var x=is(),b=go(o),N=ki(x,b);N.tag=1,N.payload=c,f!=null&&(N.callback=f),c=ho(o,N,b),c!==null&&(Ea(c,o,b,x),Lh(c,o,b))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=is(),x=go(o),b=ki(f,x);b.tag=2,c!=null&&(b.callback=c),c=ho(o,b,x),c!==null&&(Ea(c,o,x,f),Lh(c,o,x))}};function z2(o,c,f,x,b,N,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,N,V):c.prototype&&c.prototype.isPureReactComponent?!Zu(f,x)||!Zu(b,N):!0}function H2(o,c,f){var x=!1,b=lo,N=c.contextType;return typeof N=="object"&&N!==null?N=Zs(N):(b=gs(c)?ll:Gn.current,x=c.contextTypes,N=(x=x!=null)?Ac(o,b):lo),c=new c(f,N),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Wh,o.stateNode=c,c._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=b,o.__reactInternalMemoizedMaskedChildContext=N),c}function W2(o,c,f,x){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,x),c.state!==o&&Wh.enqueueReplaceState(c,c.state,null)}function Fg(o,c,f,x){var b=o.stateNode;b.props=f,b.state=o.memoizedState,b.refs={},_g(o);var N=c.contextType;typeof N=="object"&&N!==null?b.context=Zs(N):(N=gs(c)?ll:Gn.current,b.context=Ac(o,N)),b.state=o.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(Og(o,c,N,f),b.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(c=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),c!==b.state&&Wh.enqueueReplaceState(b,b.state,null),Mh(o,f,b,x),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308)}function Oc(o,c){try{var f="",x=c;do f+=ne(x),x=x.return;while(x);var b=f}catch(N){b=`
Error generating stack: `+N.message+`
`+N.stack}return{value:o,source:c,stack:b,digest:null}}function Lg(o,c,f){return{value:o,source:null,stack:f??null,digest:c??null}}function Mg(o,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var UC=typeof WeakMap=="function"?WeakMap:Map;function G2(o,c,f){f=ki(-1,f),f.tag=3,f.payload={element:null};var x=c.value;return f.callback=function(){Jh||(Jh=!0,Zg=x),Mg(o,c)},f}function q2(o,c,f){f=ki(-1,f),f.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var b=c.value;f.payload=function(){return x(b)},f.callback=function(){Mg(o,c)}}var N=o.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(f.callback=function(){Mg(o,c),typeof x!="function"&&(po===null?po=new Set([this]):po.add(this));var V=c.stack;this.componentDidCatch(c.value,{componentStack:V!==null?V:""})}),f}function K2(o,c,f){var x=o.pingCache;if(x===null){x=o.pingCache=new UC;var b=new Set;x.set(c,b)}else b=x.get(c),b===void 0&&(b=new Set,x.set(c,b));b.has(f)||(b.add(f),o=rj.bind(null,o,c,f),c.then(o,o))}function Y2(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function X2(o,c,f,x,b){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=ki(-1,1),c.tag=2,ho(f,c,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=b,o)}var zC=F.ReactCurrentOwner,xs=!1;function as(o,c,f,x){c.child=o===null?g2(c,null,f,x):Ic(c,o.child,f,x)}function Q2(o,c,f,x,b){f=f.render;var N=c.ref;return Rc(c,b),x=Cg(o,c,f,x,N,b),f=jg(),o!==null&&!xs?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~b,Ni(o,c,b)):(Lr&&f&&hg(c),c.flags|=1,as(o,c,x,b),c.child)}function J2(o,c,f,x,b){if(o===null){var N=f.type;return typeof N=="function"&&!ix(N)&&N.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=N,Z2(o,c,N,x,b)):(o=sf(f.type,null,x,c,c.mode,b),o.ref=c.ref,o.return=c,c.child=o)}if(N=o.child,(o.lanes&b)===0){var V=N.memoizedProps;if(f=f.compare,f=f!==null?f:Zu,f(V,x)&&o.ref===c.ref)return Ni(o,c,b)}return c.flags|=1,o=yo(N,x),o.ref=c.ref,o.return=c,c.child=o}function Z2(o,c,f,x,b){if(o!==null){var N=o.memoizedProps;if(Zu(N,x)&&o.ref===c.ref)if(xs=!1,c.pendingProps=x=N,(o.lanes&b)!==0)(o.flags&131072)!==0&&(xs=!0);else return c.lanes=o.lanes,Ni(o,c,b)}return Vg(o,c,f,x,b)}function ew(o,c,f){var x=c.pendingProps,b=x.children,N=o!==null?o.memoizedState:null;if(x.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Lc,Fs),Fs|=f;else{if((f&1073741824)===0)return o=N!==null?N.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,Cr(Lc,Fs),Fs|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=N!==null?N.baseLanes:f,Cr(Lc,Fs),Fs|=x}else N!==null?(x=N.baseLanes|f,c.memoizedState=null):x=f,Cr(Lc,Fs),Fs|=x;return as(o,c,b,f),c.child}function tw(o,c){var f=c.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function Vg(o,c,f,x,b){var N=gs(f)?ll:Gn.current;return N=Ac(c,N),Rc(c,b),f=Cg(o,c,f,x,N,b),x=jg(),o!==null&&!xs?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~b,Ni(o,c,b)):(Lr&&x&&hg(c),c.flags|=1,as(o,c,f,b),c.child)}function rw(o,c,f,x,b){if(gs(f)){var N=!0;Ch(c)}else N=!1;if(Rc(c,b),c.stateNode===null)qh(o,c),H2(c,f,x),Fg(c,f,x,b),x=!0;else if(o===null){var V=c.stateNode,ae=c.memoizedProps;V.props=ae;var oe=V.context,_e=f.contextType;typeof _e=="object"&&_e!==null?_e=Zs(_e):(_e=gs(f)?ll:Gn.current,_e=Ac(c,_e));var Ge=f.getDerivedStateFromProps,Ye=typeof Ge=="function"||typeof V.getSnapshotBeforeUpdate=="function";Ye||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ae!==x||oe!==_e)&&W2(c,V,x,_e),uo=!1;var He=c.memoizedState;V.state=He,Mh(c,x,V,b),oe=c.memoizedState,ae!==x||He!==oe||ms.current||uo?(typeof Ge=="function"&&(Og(c,f,Ge,x),oe=c.memoizedState),(ae=uo||z2(c,f,ae,x,He,oe,_e))?(Ye||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(c.flags|=4194308)):(typeof V.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=oe),V.props=x,V.state=oe,V.context=_e,x=ae):(typeof V.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{V=c.stateNode,y2(o,c),ae=c.memoizedProps,_e=c.type===c.elementType?ae:ba(c.type,ae),V.props=_e,Ye=c.pendingProps,He=V.context,oe=f.contextType,typeof oe=="object"&&oe!==null?oe=Zs(oe):(oe=gs(f)?ll:Gn.current,oe=Ac(c,oe));var pt=f.getDerivedStateFromProps;(Ge=typeof pt=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ae!==Ye||He!==oe)&&W2(c,V,x,oe),uo=!1,He=c.memoizedState,V.state=He,Mh(c,x,V,b);var bt=c.memoizedState;ae!==Ye||He!==bt||ms.current||uo?(typeof pt=="function"&&(Og(c,f,pt,x),bt=c.memoizedState),(_e=uo||z2(c,f,_e,x,He,bt,oe)||!1)?(Ge||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(x,bt,oe),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(x,bt,oe)),typeof V.componentDidUpdate=="function"&&(c.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof V.componentDidUpdate!="function"||ae===o.memoizedProps&&He===o.memoizedState||(c.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&He===o.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=bt),V.props=x,V.state=bt,V.context=oe,x=_e):(typeof V.componentDidUpdate!="function"||ae===o.memoizedProps&&He===o.memoizedState||(c.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&He===o.memoizedState||(c.flags|=1024),x=!1)}return $g(o,c,f,x,N,b)}function $g(o,c,f,x,b,N){tw(o,c);var V=(c.flags&128)!==0;if(!x&&!V)return b&&o2(c,f,!1),Ni(o,c,N);x=c.stateNode,zC.current=c;var ae=V&&typeof f.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,o!==null&&V?(c.child=Ic(c,o.child,null,N),c.child=Ic(c,null,ae,N)):as(o,c,ae,N),c.memoizedState=x.state,b&&o2(c,f,!0),c.child}function nw(o){var c=o.stateNode;c.pendingContext?a2(o,c.pendingContext,c.pendingContext!==c.context):c.context&&a2(o,c.context,!1),Eg(o,c.containerInfo)}function sw(o,c,f,x,b){return jc(),gg(b),c.flags|=256,as(o,c,f,x),c.child}var Bg={dehydrated:null,treeContext:null,retryLane:0};function Ug(o){return{baseLanes:o,cachePool:null,transitions:null}}function aw(o,c,f){var x=c.pendingProps,b=Ur.current,N=!1,V=(c.flags&128)!==0,ae;if((ae=V)||(ae=o!==null&&o.memoizedState===null?!1:(b&2)!==0),ae?(N=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(b|=1),Cr(Ur,b&1),o===null)return mg(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(V=x.children,o=x.fallback,N?(x=c.mode,N=c.child,V={mode:"hidden",children:V},(x&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=V):N=af(V,x,0,null),o=yl(o,x,f,null),N.return=c,o.return=c,N.sibling=o,c.child=N,c.child.memoizedState=Ug(f),c.memoizedState=Bg,o):zg(c,V));if(b=o.memoizedState,b!==null&&(ae=b.dehydrated,ae!==null))return HC(o,c,V,x,ae,b,f);if(N){N=x.fallback,V=c.mode,b=o.child,ae=b.sibling;var oe={mode:"hidden",children:x.children};return(V&1)===0&&c.child!==b?(x=c.child,x.childLanes=0,x.pendingProps=oe,c.deletions=null):(x=yo(b,oe),x.subtreeFlags=b.subtreeFlags&14680064),ae!==null?N=yo(ae,N):(N=yl(N,V,f,null),N.flags|=2),N.return=c,x.return=c,x.sibling=N,c.child=x,x=N,N=c.child,V=o.child.memoizedState,V=V===null?Ug(f):{baseLanes:V.baseLanes|f,cachePool:null,transitions:V.transitions},N.memoizedState=V,N.childLanes=o.childLanes&~f,c.memoizedState=Bg,x}return N=o.child,o=N.sibling,x=yo(N,{mode:"visible",children:x.children}),(c.mode&1)===0&&(x.lanes=f),x.return=c,x.sibling=null,o!==null&&(f=c.deletions,f===null?(c.deletions=[o],c.flags|=16):f.push(o)),c.child=x,c.memoizedState=null,x}function zg(o,c){return c=af({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function Gh(o,c,f,x){return x!==null&&gg(x),Ic(c,o.child,null,f),o=zg(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function HC(o,c,f,x,b,N,V){if(f)return c.flags&256?(c.flags&=-257,x=Lg(Error(r(422))),Gh(o,c,V,x)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(N=x.fallback,b=c.mode,x=af({mode:"visible",children:x.children},b,0,null),N=yl(N,b,V,null),N.flags|=2,x.return=c,N.return=c,x.sibling=N,c.child=x,(c.mode&1)!==0&&Ic(c,o.child,null,V),c.child.memoizedState=Ug(V),c.memoizedState=Bg,N);if((c.mode&1)===0)return Gh(o,c,V,null);if(b.data==="$!"){if(x=b.nextSibling&&b.nextSibling.dataset,x)var ae=x.dgst;return x=ae,N=Error(r(419)),x=Lg(N,x,void 0),Gh(o,c,V,x)}if(ae=(V&o.childLanes)!==0,xs||ae){if(x=wn,x!==null){switch(V&-V){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(x.suspendedLanes|V))!==0?0:b,b!==0&&b!==N.retryLane&&(N.retryLane=b,Ti(o,b),Ea(x,o,b,-1))}return ax(),x=Lg(Error(r(421))),Gh(o,c,V,x)}return b.data==="$?"?(c.flags|=128,c.child=o.child,c=nj.bind(null,o),b._reactRetry=c,null):(o=N.treeContext,Os=io(b.nextSibling),Ds=c,Lr=!0,va=null,o!==null&&(Qs[Js++]=_i,Qs[Js++]=Ei,Qs[Js++]=cl,_i=o.id,Ei=o.overflow,cl=c),c=zg(c,x.children),c.flags|=4096,c)}function iw(o,c,f){o.lanes|=c;var x=o.alternate;x!==null&&(x.lanes|=c),bg(o.return,c,f)}function Hg(o,c,f,x,b){var N=o.memoizedState;N===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:f,tailMode:b}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=x,N.tail=f,N.tailMode=b)}function ow(o,c,f){var x=c.pendingProps,b=x.revealOrder,N=x.tail;if(as(o,c,x.children,f),x=Ur.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&iw(o,f,c);else if(o.tag===19)iw(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if(Cr(Ur,x),(c.mode&1)===0)c.memoizedState=null;else switch(b){case"forwards":for(f=c.child,b=null;f!==null;)o=f.alternate,o!==null&&Vh(o)===null&&(b=f),f=f.sibling;f=b,f===null?(b=c.child,c.child=null):(b=f.sibling,f.sibling=null),Hg(c,!1,b,f,N);break;case"backwards":for(f=null,b=c.child,c.child=null;b!==null;){if(o=b.alternate,o!==null&&Vh(o)===null){c.child=b;break}o=b.sibling,b.sibling=f,f=b,b=o}Hg(c,!0,f,null,N);break;case"together":Hg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function qh(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function Ni(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),pl|=c.lanes,(f&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,f=yo(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=yo(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function WC(o,c,f){switch(c.tag){case 3:nw(c),jc();break;case 5:w2(c);break;case 1:gs(c.type)&&Ch(c);break;case 4:Eg(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,b=c.memoizedProps.value;Cr(Oh,x._currentValue),x._currentValue=b;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?(Cr(Ur,Ur.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?aw(o,c,f):(Cr(Ur,Ur.current&1),o=Ni(o,c,f),o!==null?o.sibling:null);Cr(Ur,Ur.current&1);break;case 19:if(x=(f&c.childLanes)!==0,(o.flags&128)!==0){if(x)return ow(o,c,f);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Cr(Ur,Ur.current),x)break;return null;case 22:case 23:return c.lanes=0,ew(o,c,f)}return Ni(o,c,f)}var lw,Wg,cw,uw;lw=function(o,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Wg=function(){},cw=function(o,c,f,x){var b=o.memoizedProps;if(b!==x){o=c.stateNode,hl(Ga.current);var N=null;switch(f){case"input":b=Fe(o,b),x=Fe(o,x),N=[];break;case"select":b=de({},b,{value:void 0}),x=de({},x,{value:void 0}),N=[];break;case"textarea":b=Xe(o,b),x=Xe(o,x),N=[];break;default:typeof b.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=Nh)}Ze(f,x);var V;f=null;for(_e in b)if(!x.hasOwnProperty(_e)&&b.hasOwnProperty(_e)&&b[_e]!=null)if(_e==="style"){var ae=b[_e];for(V in ae)ae.hasOwnProperty(V)&&(f||(f={}),f[V]="")}else _e!=="dangerouslySetInnerHTML"&&_e!=="children"&&_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(s.hasOwnProperty(_e)?N||(N=[]):(N=N||[]).push(_e,null));for(_e in x){var oe=x[_e];if(ae=b?.[_e],x.hasOwnProperty(_e)&&oe!==ae&&(oe!=null||ae!=null))if(_e==="style")if(ae){for(V in ae)!ae.hasOwnProperty(V)||oe&&oe.hasOwnProperty(V)||(f||(f={}),f[V]="");for(V in oe)oe.hasOwnProperty(V)&&ae[V]!==oe[V]&&(f||(f={}),f[V]=oe[V])}else f||(N||(N=[]),N.push(_e,f)),f=oe;else _e==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,ae=ae?ae.__html:void 0,oe!=null&&ae!==oe&&(N=N||[]).push(_e,oe)):_e==="children"?typeof oe!="string"&&typeof oe!="number"||(N=N||[]).push(_e,""+oe):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&(s.hasOwnProperty(_e)?(oe!=null&&_e==="onScroll"&&Rr("scroll",o),N||ae===oe||(N=[])):(N=N||[]).push(_e,oe))}f&&(N=N||[]).push("style",f);var _e=N;(c.updateQueue=_e)&&(c.flags|=4)}},uw=function(o,c,f,x){f!==x&&(c.flags|=4)};function pd(o,c){if(!Lr)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function Kn(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,x=0;if(c)for(var b=o.child;b!==null;)f|=b.lanes|b.childLanes,x|=b.subtreeFlags&14680064,x|=b.flags&14680064,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)f|=b.lanes|b.childLanes,x|=b.subtreeFlags,x|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=x,o.childLanes=f,c}function GC(o,c,f){var x=c.pendingProps;switch(fg(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(c),null;case 1:return gs(c.type)&&Sh(),Kn(c),null;case 3:return x=c.stateNode,Dc(),Dr(ms),Dr(Gn),Ng(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(Rh(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,va!==null&&(rx(va),va=null))),Wg(o,c),Kn(c),null;case 5:Tg(c);var b=hl(cd.current);if(f=c.type,o!==null&&c.stateNode!=null)cw(o,c,f,x,b),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(r(166));return Kn(c),null}if(o=hl(Ga.current),Rh(c)){x=c.stateNode,f=c.type;var N=c.memoizedProps;switch(x[Wa]=c,x[sd]=N,o=(c.mode&1)!==0,f){case"dialog":Rr("cancel",x),Rr("close",x);break;case"iframe":case"object":case"embed":Rr("load",x);break;case"video":case"audio":for(b=0;b<td.length;b++)Rr(td[b],x);break;case"source":Rr("error",x);break;case"img":case"image":case"link":Rr("error",x),Rr("load",x);break;case"details":Rr("toggle",x);break;case"input":fr(x,N),Rr("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!N.multiple},Rr("invalid",x);break;case"textarea":ct(x,N),Rr("invalid",x)}Ze(f,N),b=null;for(var V in N)if(N.hasOwnProperty(V)){var ae=N[V];V==="children"?typeof ae=="string"?x.textContent!==ae&&(N.suppressHydrationWarning!==!0&&kh(x.textContent,ae,o),b=["children",ae]):typeof ae=="number"&&x.textContent!==""+ae&&(N.suppressHydrationWarning!==!0&&kh(x.textContent,ae,o),b=["children",""+ae]):s.hasOwnProperty(V)&&ae!=null&&V==="onScroll"&&Rr("scroll",x)}switch(f){case"input":it(x),pr(x,N,!0);break;case"textarea":it(x),St(x);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(x.onclick=Nh)}x=b,c.updateQueue=x,x!==null&&(c.flags|=4)}else{V=b.nodeType===9?b:b.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=wt(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=V.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=V.createElement(f,{is:x.is}):(o=V.createElement(f),f==="select"&&(V=o,x.multiple?V.multiple=!0:x.size&&(V.size=x.size))):o=V.createElementNS(o,f),o[Wa]=c,o[sd]=x,lw(o,c,!1,!1),c.stateNode=o;e:{switch(V=vt(f,x),f){case"dialog":Rr("cancel",o),Rr("close",o),b=x;break;case"iframe":case"object":case"embed":Rr("load",o),b=x;break;case"video":case"audio":for(b=0;b<td.length;b++)Rr(td[b],o);b=x;break;case"source":Rr("error",o),b=x;break;case"img":case"image":case"link":Rr("error",o),Rr("load",o),b=x;break;case"details":Rr("toggle",o),b=x;break;case"input":fr(o,x),b=Fe(o,x),Rr("invalid",o);break;case"option":b=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},b=de({},x,{value:void 0}),Rr("invalid",o);break;case"textarea":ct(o,x),b=Xe(o,x),Rr("invalid",o);break;default:b=x}Ze(f,b),ae=b;for(N in ae)if(ae.hasOwnProperty(N)){var oe=ae[N];N==="style"?Ae(o,oe):N==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,oe!=null&&ir(o,oe)):N==="children"?typeof oe=="string"?(f!=="textarea"||oe!=="")&&Q(o,oe):typeof oe=="number"&&Q(o,""+oe):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(s.hasOwnProperty(N)?oe!=null&&N==="onScroll"&&Rr("scroll",o):oe!=null&&z(o,N,oe,V))}switch(f){case"input":it(o),pr(o,x,!1);break;case"textarea":it(o),St(o);break;case"option":x.value!=null&&o.setAttribute("value",""+Be(x.value));break;case"select":o.multiple=!!x.multiple,N=x.value,N!=null?le(o,!!x.multiple,N,!1):x.defaultValue!=null&&le(o,!!x.multiple,x.defaultValue,!0);break;default:typeof b.onClick=="function"&&(o.onclick=Nh)}switch(f){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Kn(c),null;case 6:if(o&&c.stateNode!=null)uw(o,c,o.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(f=hl(cd.current),hl(Ga.current),Rh(c)){if(x=c.stateNode,f=c.memoizedProps,x[Wa]=c,(N=x.nodeValue!==f)&&(o=Ds,o!==null))switch(o.tag){case 3:kh(x.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&kh(x.nodeValue,f,(o.mode&1)!==0)}N&&(c.flags|=4)}else x=(f.nodeType===9?f:f.ownerDocument).createTextNode(x),x[Wa]=c,c.stateNode=x}return Kn(c),null;case 13:if(Dr(Ur),x=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Lr&&Os!==null&&(c.mode&1)!==0&&(c.flags&128)===0)f2(),jc(),c.flags|=98560,N=!1;else if(N=Rh(c),x!==null&&x.dehydrated!==null){if(o===null){if(!N)throw Error(r(318));if(N=c.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[Wa]=c}else jc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Kn(c),N=!1}else va!==null&&(rx(va),va=null),N=!0;if(!N)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(Ur.current&1)!==0?mn===0&&(mn=3):ax())),c.updateQueue!==null&&(c.flags|=4),Kn(c),null);case 4:return Dc(),Wg(o,c),o===null&&rd(c.stateNode.containerInfo),Kn(c),null;case 10:return vg(c.type._context),Kn(c),null;case 17:return gs(c.type)&&Sh(),Kn(c),null;case 19:if(Dr(Ur),N=c.memoizedState,N===null)return Kn(c),null;if(x=(c.flags&128)!==0,V=N.rendering,V===null)if(x)pd(N,!1);else{if(mn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(V=Vh(o),V!==null){for(c.flags|=128,pd(N,!1),x=V.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=f,f=c.child;f!==null;)N=f,o=x,N.flags&=14680066,V=N.alternate,V===null?(N.childLanes=0,N.lanes=o,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=V.childLanes,N.lanes=V.lanes,N.child=V.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=V.memoizedProps,N.memoizedState=V.memoizedState,N.updateQueue=V.updateQueue,N.type=V.type,o=V.dependencies,N.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return Cr(Ur,Ur.current&1|2),c.child}o=o.sibling}N.tail!==null&&We()>Mc&&(c.flags|=128,x=!0,pd(N,!1),c.lanes=4194304)}else{if(!x)if(o=Vh(V),o!==null){if(c.flags|=128,x=!0,f=o.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),pd(N,!0),N.tail===null&&N.tailMode==="hidden"&&!V.alternate&&!Lr)return Kn(c),null}else 2*We()-N.renderingStartTime>Mc&&f!==1073741824&&(c.flags|=128,x=!0,pd(N,!1),c.lanes=4194304);N.isBackwards?(V.sibling=c.child,c.child=V):(f=N.last,f!==null?f.sibling=V:c.child=V,N.last=V)}return N.tail!==null?(c=N.tail,N.rendering=c,N.tail=c.sibling,N.renderingStartTime=We(),c.sibling=null,f=Ur.current,Cr(Ur,x?f&1|2:f&1),c):(Kn(c),null);case 22:case 23:return sx(),x=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(c.flags|=8192),x&&(c.mode&1)!==0?(Fs&1073741824)!==0&&(Kn(c),c.subtreeFlags&6&&(c.flags|=8192)):Kn(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function qC(o,c){switch(fg(c),c.tag){case 1:return gs(c.type)&&Sh(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return Dc(),Dr(ms),Dr(Gn),Ng(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return Tg(c),null;case 13:if(Dr(Ur),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));jc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Dr(Ur),null;case 4:return Dc(),null;case 10:return vg(c.type._context),null;case 22:case 23:return sx(),null;case 24:return null;default:return null}}var Kh=!1,Yn=!1,KC=typeof WeakSet=="function"?WeakSet:Set,xt=null;function Fc(o,c){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(x){Kr(o,c,x)}else f.current=null}function Gg(o,c,f){try{f()}catch(x){Kr(o,c,x)}}var dw=!1;function YC(o,c){if(sg=no,o=zb(),Xm(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var x=f.getSelection&&f.getSelection();if(x&&x.rangeCount!==0){f=x.anchorNode;var b=x.anchorOffset,N=x.focusNode;x=x.focusOffset;try{f.nodeType,N.nodeType}catch{f=null;break e}var V=0,ae=-1,oe=-1,_e=0,Ge=0,Ye=o,He=null;t:for(;;){for(var pt;Ye!==f||b!==0&&Ye.nodeType!==3||(ae=V+b),Ye!==N||x!==0&&Ye.nodeType!==3||(oe=V+x),Ye.nodeType===3&&(V+=Ye.nodeValue.length),(pt=Ye.firstChild)!==null;)He=Ye,Ye=pt;for(;;){if(Ye===o)break t;if(He===f&&++_e===b&&(ae=V),He===N&&++Ge===x&&(oe=V),(pt=Ye.nextSibling)!==null)break;Ye=He,He=Ye.parentNode}Ye=pt}f=ae===-1||oe===-1?null:{start:ae,end:oe}}else f=null}f=f||{start:0,end:0}}else f=null;for(ag={focusedElem:o,selectionRange:f},no=!1,xt=c;xt!==null;)if(c=xt,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,xt=o;else for(;xt!==null;){c=xt;try{var bt=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(bt!==null){var _t=bt.memoizedProps,Jr=bt.memoizedState,me=c.stateNode,ce=me.getSnapshotBeforeUpdate(c.elementType===c.type?_t:ba(c.type,_t),Jr);me.__reactInternalSnapshotBeforeUpdate=ce}break;case 3:var ve=c.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Qe){Kr(c,c.return,Qe)}if(o=c.sibling,o!==null){o.return=c.return,xt=o;break}xt=c.return}return bt=dw,dw=!1,bt}function md(o,c,f){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var b=x=x.next;do{if((b.tag&o)===o){var N=b.destroy;b.destroy=void 0,N!==void 0&&Gg(c,f,N)}b=b.next}while(b!==x)}}function Yh(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&o)===o){var x=f.create;f.destroy=x()}f=f.next}while(f!==c)}}function qg(o){var c=o.ref;if(c!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof c=="function"?c(o):c.current=o}}function hw(o){var c=o.alternate;c!==null&&(o.alternate=null,hw(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[Wa],delete c[sd],delete c[cg],delete c[IC],delete c[PC])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function fw(o){return o.tag===5||o.tag===3||o.tag===4}function pw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||fw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Kg(o,c,f){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(o,c):f.insertBefore(o,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(o,f)):(c=f,c.appendChild(o)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Nh));else if(x!==4&&(o=o.child,o!==null))for(Kg(o,c,f),o=o.sibling;o!==null;)Kg(o,c,f),o=o.sibling}function Yg(o,c,f){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(Yg(o,c,f),o=o.sibling;o!==null;)Yg(o,c,f),o=o.sibling}var In=null,wa=!1;function fo(o,c,f){for(f=f.child;f!==null;)mw(o,c,f),f=f.sibling}function mw(o,c,f){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount(ns,f)}catch{}switch(f.tag){case 5:Yn||Fc(f,c);case 6:var x=In,b=wa;In=null,fo(o,c,f),In=x,wa=b,In!==null&&(wa?(o=In,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):In.removeChild(f.stateNode));break;case 18:In!==null&&(wa?(o=In,f=f.stateNode,o.nodeType===8?lg(o.parentNode,f):o.nodeType===1&&lg(o,f),ga(o)):lg(In,f.stateNode));break;case 4:x=In,b=wa,In=f.stateNode.containerInfo,wa=!0,fo(o,c,f),In=x,wa=b;break;case 0:case 11:case 14:case 15:if(!Yn&&(x=f.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){b=x=x.next;do{var N=b,V=N.destroy;N=N.tag,V!==void 0&&((N&2)!==0||(N&4)!==0)&&Gg(f,c,V),b=b.next}while(b!==x)}fo(o,c,f);break;case 1:if(!Yn&&(Fc(f,c),x=f.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=f.memoizedProps,x.state=f.memoizedState,x.componentWillUnmount()}catch(ae){Kr(f,c,ae)}fo(o,c,f);break;case 21:fo(o,c,f);break;case 22:f.mode&1?(Yn=(x=Yn)||f.memoizedState!==null,fo(o,c,f),Yn=x):fo(o,c,f);break;default:fo(o,c,f)}}function gw(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new KC),c.forEach(function(x){var b=sj.bind(null,o,x);f.has(x)||(f.add(x),x.then(b,b))})}}function _a(o,c){var f=c.deletions;if(f!==null)for(var x=0;x<f.length;x++){var b=f[x];try{var N=o,V=c,ae=V;e:for(;ae!==null;){switch(ae.tag){case 5:In=ae.stateNode,wa=!1;break e;case 3:In=ae.stateNode.containerInfo,wa=!0;break e;case 4:In=ae.stateNode.containerInfo,wa=!0;break e}ae=ae.return}if(In===null)throw Error(r(160));mw(N,V,b),In=null,wa=!1;var oe=b.alternate;oe!==null&&(oe.return=null),b.return=null}catch(_e){Kr(b,c,_e)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)xw(c,o),c=c.sibling}function xw(o,c){var f=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(_a(c,o),Ka(o),x&4){try{md(3,o,o.return),Yh(3,o)}catch(_t){Kr(o,o.return,_t)}try{md(5,o,o.return)}catch(_t){Kr(o,o.return,_t)}}break;case 1:_a(c,o),Ka(o),x&512&&f!==null&&Fc(f,f.return);break;case 5:if(_a(c,o),Ka(o),x&512&&f!==null&&Fc(f,f.return),o.flags&32){var b=o.stateNode;try{Q(b,"")}catch(_t){Kr(o,o.return,_t)}}if(x&4&&(b=o.stateNode,b!=null)){var N=o.memoizedProps,V=f!==null?f.memoizedProps:N,ae=o.type,oe=o.updateQueue;if(o.updateQueue=null,oe!==null)try{ae==="input"&&N.type==="radio"&&N.name!=null&&Mt(b,N),vt(ae,V);var _e=vt(ae,N);for(V=0;V<oe.length;V+=2){var Ge=oe[V],Ye=oe[V+1];Ge==="style"?Ae(b,Ye):Ge==="dangerouslySetInnerHTML"?ir(b,Ye):Ge==="children"?Q(b,Ye):z(b,Ge,Ye,_e)}switch(ae){case"input":De(b,N);break;case"textarea":dt(b,N);break;case"select":var He=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!N.multiple;var pt=N.value;pt!=null?le(b,!!N.multiple,pt,!1):He!==!!N.multiple&&(N.defaultValue!=null?le(b,!!N.multiple,N.defaultValue,!0):le(b,!!N.multiple,N.multiple?[]:"",!1))}b[sd]=N}catch(_t){Kr(o,o.return,_t)}}break;case 6:if(_a(c,o),Ka(o),x&4){if(o.stateNode===null)throw Error(r(162));b=o.stateNode,N=o.memoizedProps;try{b.nodeValue=N}catch(_t){Kr(o,o.return,_t)}}break;case 3:if(_a(c,o),Ka(o),x&4&&f!==null&&f.memoizedState.isDehydrated)try{ga(c.containerInfo)}catch(_t){Kr(o,o.return,_t)}break;case 4:_a(c,o),Ka(o);break;case 13:_a(c,o),Ka(o),b=o.child,b.flags&8192&&(N=b.memoizedState!==null,b.stateNode.isHidden=N,!N||b.alternate!==null&&b.alternate.memoizedState!==null||(Jg=We())),x&4&&gw(o);break;case 22:if(Ge=f!==null&&f.memoizedState!==null,o.mode&1?(Yn=(_e=Yn)||Ge,_a(c,o),Yn=_e):_a(c,o),Ka(o),x&8192){if(_e=o.memoizedState!==null,(o.stateNode.isHidden=_e)&&!Ge&&(o.mode&1)!==0)for(xt=o,Ge=o.child;Ge!==null;){for(Ye=xt=Ge;xt!==null;){switch(He=xt,pt=He.child,He.tag){case 0:case 11:case 14:case 15:md(4,He,He.return);break;case 1:Fc(He,He.return);var bt=He.stateNode;if(typeof bt.componentWillUnmount=="function"){x=He,f=He.return;try{c=x,bt.props=c.memoizedProps,bt.state=c.memoizedState,bt.componentWillUnmount()}catch(_t){Kr(x,f,_t)}}break;case 5:Fc(He,He.return);break;case 22:if(He.memoizedState!==null){bw(Ye);continue}}pt!==null?(pt.return=He,xt=pt):bw(Ye)}Ge=Ge.sibling}e:for(Ge=null,Ye=o;;){if(Ye.tag===5){if(Ge===null){Ge=Ye;try{b=Ye.stateNode,_e?(N=b.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(ae=Ye.stateNode,oe=Ye.memoizedProps.style,V=oe!=null&&oe.hasOwnProperty("display")?oe.display:null,ae.style.display=we("display",V))}catch(_t){Kr(o,o.return,_t)}}}else if(Ye.tag===6){if(Ge===null)try{Ye.stateNode.nodeValue=_e?"":Ye.memoizedProps}catch(_t){Kr(o,o.return,_t)}}else if((Ye.tag!==22&&Ye.tag!==23||Ye.memoizedState===null||Ye===o)&&Ye.child!==null){Ye.child.return=Ye,Ye=Ye.child;continue}if(Ye===o)break e;for(;Ye.sibling===null;){if(Ye.return===null||Ye.return===o)break e;Ge===Ye&&(Ge=null),Ye=Ye.return}Ge===Ye&&(Ge=null),Ye.sibling.return=Ye.return,Ye=Ye.sibling}}break;case 19:_a(c,o),Ka(o),x&4&&gw(o);break;case 21:break;default:_a(c,o),Ka(o)}}function Ka(o){var c=o.flags;if(c&2){try{e:{for(var f=o.return;f!==null;){if(fw(f)){var x=f;break e}f=f.return}throw Error(r(160))}switch(x.tag){case 5:var b=x.stateNode;x.flags&32&&(Q(b,""),x.flags&=-33);var N=pw(o);Yg(o,N,b);break;case 3:case 4:var V=x.stateNode.containerInfo,ae=pw(o);Kg(o,ae,V);break;default:throw Error(r(161))}}catch(oe){Kr(o,o.return,oe)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function XC(o,c,f){xt=o,yw(o)}function yw(o,c,f){for(var x=(o.mode&1)!==0;xt!==null;){var b=xt,N=b.child;if(b.tag===22&&x){var V=b.memoizedState!==null||Kh;if(!V){var ae=b.alternate,oe=ae!==null&&ae.memoizedState!==null||Yn;ae=Kh;var _e=Yn;if(Kh=V,(Yn=oe)&&!_e)for(xt=b;xt!==null;)V=xt,oe=V.child,V.tag===22&&V.memoizedState!==null?ww(b):oe!==null?(oe.return=V,xt=oe):ww(b);for(;N!==null;)xt=N,yw(N),N=N.sibling;xt=b,Kh=ae,Yn=_e}vw(o)}else(b.subtreeFlags&8772)!==0&&N!==null?(N.return=b,xt=N):vw(o)}}function vw(o){for(;xt!==null;){var c=xt;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Yn||Yh(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!Yn)if(f===null)x.componentDidMount();else{var b=c.elementType===c.type?f.memoizedProps:ba(c.type,f.memoizedProps);x.componentDidUpdate(b,f.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var N=c.updateQueue;N!==null&&b2(c,N,x);break;case 3:var V=c.updateQueue;if(V!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}b2(c,V,f)}break;case 5:var ae=c.stateNode;if(f===null&&c.flags&4){f=ae;var oe=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":oe.autoFocus&&f.focus();break;case"img":oe.src&&(f.src=oe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var _e=c.alternate;if(_e!==null){var Ge=_e.memoizedState;if(Ge!==null){var Ye=Ge.dehydrated;Ye!==null&&ga(Ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Yn||c.flags&512&&qg(c)}catch(He){Kr(c,c.return,He)}}if(c===o){xt=null;break}if(f=c.sibling,f!==null){f.return=c.return,xt=f;break}xt=c.return}}function bw(o){for(;xt!==null;){var c=xt;if(c===o){xt=null;break}var f=c.sibling;if(f!==null){f.return=c.return,xt=f;break}xt=c.return}}function ww(o){for(;xt!==null;){var c=xt;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{Yh(4,c)}catch(oe){Kr(c,f,oe)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var b=c.return;try{x.componentDidMount()}catch(oe){Kr(c,b,oe)}}var N=c.return;try{qg(c)}catch(oe){Kr(c,N,oe)}break;case 5:var V=c.return;try{qg(c)}catch(oe){Kr(c,V,oe)}}}catch(oe){Kr(c,c.return,oe)}if(c===o){xt=null;break}var ae=c.sibling;if(ae!==null){ae.return=c.return,xt=ae;break}xt=c.return}}var QC=Math.ceil,Xh=F.ReactCurrentDispatcher,Xg=F.ReactCurrentOwner,ta=F.ReactCurrentBatchConfig,ar=0,wn=null,sn=null,Pn=0,Fs=0,Lc=oo(0),mn=0,gd=null,pl=0,Qh=0,Qg=0,xd=null,ys=null,Jg=0,Mc=1/0,Ai=null,Jh=!1,Zg=null,po=null,Zh=!1,mo=null,ef=0,yd=0,ex=null,tf=-1,rf=0;function is(){return(ar&6)!==0?We():tf!==-1?tf:tf=We()}function go(o){return(o.mode&1)===0?1:(ar&2)!==0&&Pn!==0?Pn&-Pn:DC.transition!==null?(rf===0&&(rf=rl()),rf):(o=Qt,o!==0||(o=window.event,o=o===void 0?16:Gu(o.type)),o)}function Ea(o,c,f,x){if(50<yd)throw yd=0,ex=null,Error(r(185));Zi(o,f,x),((ar&2)===0||o!==wn)&&(o===wn&&((ar&2)===0&&(Qh|=f),mn===4&&xo(o,Pn)),vs(o,x),f===1&&ar===0&&(c.mode&1)===0&&(Mc=We()+500,jh&&co()))}function vs(o,c){var f=o.callbackNode;mi(o,c);var x=tl(o,o===wn?Pn:0);if(x===0)f!==null&&Je(f),o.callbackNode=null,o.callbackPriority=0;else if(c=x&-x,o.callbackPriority!==c){if(f!=null&&Je(f),c===1)o.tag===0?RC(Ew.bind(null,o)):l2(Ew.bind(null,o)),CC(function(){(ar&6)===0&&co()}),f=null;else{switch(to(x)){case 1:f=nr;break;case 4:f=Jt;break;case 16:f=sr;break;case 536870912:f=Ks;break;default:f=sr}f=Iw(f,_w.bind(null,o))}o.callbackPriority=c,o.callbackNode=f}}function _w(o,c){if(tf=-1,rf=0,(ar&6)!==0)throw Error(r(327));var f=o.callbackNode;if(Vc()&&o.callbackNode!==f)return null;var x=tl(o,o===wn?Pn:0);if(x===0)return null;if((x&30)!==0||(x&o.expiredLanes)!==0||c)c=nf(o,x);else{c=x;var b=ar;ar|=2;var N=kw();(wn!==o||Pn!==c)&&(Ai=null,Mc=We()+500,gl(o,c));do try{ej();break}catch(ae){Tw(o,ae)}while(!0);yg(),Xh.current=N,ar=b,sn!==null?c=0:(wn=null,Pn=0,c=mn)}if(c!==0){if(c===2&&(b=Is(o),b!==0&&(x=b,c=tx(o,b))),c===1)throw f=gd,gl(o,0),xo(o,x),vs(o,We()),f;if(c===6)xo(o,x);else{if(b=o.current.alternate,(x&30)===0&&!JC(b)&&(c=nf(o,x),c===2&&(N=Is(o),N!==0&&(x=N,c=tx(o,N))),c===1))throw f=gd,gl(o,0),xo(o,x),vs(o,We()),f;switch(o.finishedWork=b,o.finishedLanes=x,c){case 0:case 1:throw Error(r(345));case 2:xl(o,ys,Ai);break;case 3:if(xo(o,x),(x&130023424)===x&&(c=Jg+500-We(),10<c)){if(tl(o,0)!==0)break;if(b=o.suspendedLanes,(b&x)!==x){is(),o.pingedLanes|=o.suspendedLanes&b;break}o.timeoutHandle=og(xl.bind(null,o,ys,Ai),c);break}xl(o,ys,Ai);break;case 4:if(xo(o,x),(x&4194240)===x)break;for(c=o.eventTimes,b=-1;0<x;){var V=31-Pr(x);N=1<<V,V=c[V],V>b&&(b=V),x&=~N}if(x=b,x=We()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*QC(x/1960))-x,10<x){o.timeoutHandle=og(xl.bind(null,o,ys,Ai),x);break}xl(o,ys,Ai);break;case 5:xl(o,ys,Ai);break;default:throw Error(r(329))}}}return vs(o,We()),o.callbackNode===f?_w.bind(null,o):null}function tx(o,c){var f=xd;return o.current.memoizedState.isDehydrated&&(gl(o,c).flags|=256),o=nf(o,c),o!==2&&(c=ys,ys=f,c!==null&&rx(c)),o}function rx(o){ys===null?ys=o:ys.push.apply(ys,o)}function JC(o){for(var c=o;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var x=0;x<f.length;x++){var b=f[x],N=b.getSnapshot;b=b.value;try{if(!ya(N(),b))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function xo(o,c){for(c&=~Qg,c&=~Qh,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var f=31-Pr(c),x=1<<f;o[f]=-1,c&=~x}}function Ew(o){if((ar&6)!==0)throw Error(r(327));Vc();var c=tl(o,0);if((c&1)===0)return vs(o,We()),null;var f=nf(o,c);if(o.tag!==0&&f===2){var x=Is(o);x!==0&&(c=x,f=tx(o,x))}if(f===1)throw f=gd,gl(o,0),xo(o,c),vs(o,We()),f;if(f===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,xl(o,ys,Ai),vs(o,We()),null}function nx(o,c){var f=ar;ar|=1;try{return o(c)}finally{ar=f,ar===0&&(Mc=We()+500,jh&&co())}}function ml(o){mo!==null&&mo.tag===0&&(ar&6)===0&&Vc();var c=ar;ar|=1;var f=ta.transition,x=Qt;try{if(ta.transition=null,Qt=1,o)return o()}finally{Qt=x,ta.transition=f,ar=c,(ar&6)===0&&co()}}function sx(){Fs=Lc.current,Dr(Lc)}function gl(o,c){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,SC(f)),sn!==null)for(f=sn.return;f!==null;){var x=f;switch(fg(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Sh();break;case 3:Dc(),Dr(ms),Dr(Gn),Ng();break;case 5:Tg(x);break;case 4:Dc();break;case 13:Dr(Ur);break;case 19:Dr(Ur);break;case 10:vg(x.type._context);break;case 22:case 23:sx()}f=f.return}if(wn=o,sn=o=yo(o.current,null),Pn=Fs=c,mn=0,gd=null,Qg=Qh=pl=0,ys=xd=null,dl!==null){for(c=0;c<dl.length;c++)if(f=dl[c],x=f.interleaved,x!==null){f.interleaved=null;var b=x.next,N=f.pending;if(N!==null){var V=N.next;N.next=b,x.next=V}f.pending=x}dl=null}return o}function Tw(o,c){do{var f=sn;try{if(yg(),$h.current=Hh,Bh){for(var x=zr.memoizedState;x!==null;){var b=x.queue;b!==null&&(b.pending=null),x=x.next}Bh=!1}if(fl=0,bn=pn=zr=null,ud=!1,dd=0,Xg.current=null,f===null||f.return===null){mn=1,gd=c,sn=null;break}e:{var N=o,V=f.return,ae=f,oe=c;if(c=Pn,ae.flags|=32768,oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var _e=oe,Ge=ae,Ye=Ge.tag;if((Ge.mode&1)===0&&(Ye===0||Ye===11||Ye===15)){var He=Ge.alternate;He?(Ge.updateQueue=He.updateQueue,Ge.memoizedState=He.memoizedState,Ge.lanes=He.lanes):(Ge.updateQueue=null,Ge.memoizedState=null)}var pt=Y2(V);if(pt!==null){pt.flags&=-257,X2(pt,V,ae,N,c),pt.mode&1&&K2(N,_e,c),c=pt,oe=_e;var bt=c.updateQueue;if(bt===null){var _t=new Set;_t.add(oe),c.updateQueue=_t}else bt.add(oe);break e}else{if((c&1)===0){K2(N,_e,c),ax();break e}oe=Error(r(426))}}else if(Lr&&ae.mode&1){var Jr=Y2(V);if(Jr!==null){(Jr.flags&65536)===0&&(Jr.flags|=256),X2(Jr,V,ae,N,c),gg(Oc(oe,ae));break e}}N=oe=Oc(oe,ae),mn!==4&&(mn=2),xd===null?xd=[N]:xd.push(N),N=V;do{switch(N.tag){case 3:N.flags|=65536,c&=-c,N.lanes|=c;var me=G2(N,oe,c);v2(N,me);break e;case 1:ae=oe;var ce=N.type,ve=N.stateNode;if((N.flags&128)===0&&(typeof ce.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(po===null||!po.has(ve)))){N.flags|=65536,c&=-c,N.lanes|=c;var Qe=q2(N,ae,c);v2(N,Qe);break e}}N=N.return}while(N!==null)}Aw(f)}catch(Et){c=Et,sn===f&&f!==null&&(sn=f=f.return);continue}break}while(!0)}function kw(){var o=Xh.current;return Xh.current=Hh,o===null?Hh:o}function ax(){(mn===0||mn===3||mn===2)&&(mn=4),wn===null||(pl&268435455)===0&&(Qh&268435455)===0||xo(wn,Pn)}function nf(o,c){var f=ar;ar|=2;var x=kw();(wn!==o||Pn!==c)&&(Ai=null,gl(o,c));do try{ZC();break}catch(b){Tw(o,b)}while(!0);if(yg(),ar=f,Xh.current=x,sn!==null)throw Error(r(261));return wn=null,Pn=0,mn}function ZC(){for(;sn!==null;)Nw(sn)}function ej(){for(;sn!==null&&!lt();)Nw(sn)}function Nw(o){var c=jw(o.alternate,o,Fs);o.memoizedProps=o.pendingProps,c===null?Aw(o):sn=c,Xg.current=null}function Aw(o){var c=o;do{var f=c.alternate;if(o=c.return,(c.flags&32768)===0){if(f=GC(f,c,Fs),f!==null){sn=f;return}}else{if(f=qC(f,c),f!==null){f.flags&=32767,sn=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{mn=6,sn=null;return}}if(c=c.sibling,c!==null){sn=c;return}sn=c=o}while(c!==null);mn===0&&(mn=5)}function xl(o,c,f){var x=Qt,b=ta.transition;try{ta.transition=null,Qt=1,tj(o,c,f,x)}finally{ta.transition=b,Qt=x}return null}function tj(o,c,f,x){do Vc();while(mo!==null);if((ar&6)!==0)throw Error(r(327));f=o.finishedWork;var b=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var N=f.lanes|f.childLanes;if(Ar(o,N),o===wn&&(sn=wn=null,Pn=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Zh||(Zh=!0,Iw(sr,function(){return Vc(),null})),N=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||N){N=ta.transition,ta.transition=null;var V=Qt;Qt=1;var ae=ar;ar|=4,Xg.current=null,YC(o,f),xw(f,o),wC(ag),no=!!sg,ag=sg=null,o.current=f,XC(f),Ke(),ar=ae,Qt=V,ta.transition=N}else o.current=f;if(Zh&&(Zh=!1,mo=o,ef=b),N=o.pendingLanes,N===0&&(po=null),Xi(f.stateNode),vs(o,We()),c!==null)for(x=o.onRecoverableError,f=0;f<c.length;f++)b=c[f],x(b.value,{componentStack:b.stack,digest:b.digest});if(Jh)throw Jh=!1,o=Zg,Zg=null,o;return(ef&1)!==0&&o.tag!==0&&Vc(),N=o.pendingLanes,(N&1)!==0?o===ex?yd++:(yd=0,ex=o):yd=0,co(),null}function Vc(){if(mo!==null){var o=to(ef),c=ta.transition,f=Qt;try{if(ta.transition=null,Qt=16>o?16:o,mo===null)var x=!1;else{if(o=mo,mo=null,ef=0,(ar&6)!==0)throw Error(r(331));var b=ar;for(ar|=4,xt=o.current;xt!==null;){var N=xt,V=N.child;if((xt.flags&16)!==0){var ae=N.deletions;if(ae!==null){for(var oe=0;oe<ae.length;oe++){var _e=ae[oe];for(xt=_e;xt!==null;){var Ge=xt;switch(Ge.tag){case 0:case 11:case 15:md(8,Ge,N)}var Ye=Ge.child;if(Ye!==null)Ye.return=Ge,xt=Ye;else for(;xt!==null;){Ge=xt;var He=Ge.sibling,pt=Ge.return;if(hw(Ge),Ge===_e){xt=null;break}if(He!==null){He.return=pt,xt=He;break}xt=pt}}}var bt=N.alternate;if(bt!==null){var _t=bt.child;if(_t!==null){bt.child=null;do{var Jr=_t.sibling;_t.sibling=null,_t=Jr}while(_t!==null)}}xt=N}}if((N.subtreeFlags&2064)!==0&&V!==null)V.return=N,xt=V;else e:for(;xt!==null;){if(N=xt,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:md(9,N,N.return)}var me=N.sibling;if(me!==null){me.return=N.return,xt=me;break e}xt=N.return}}var ce=o.current;for(xt=ce;xt!==null;){V=xt;var ve=V.child;if((V.subtreeFlags&2064)!==0&&ve!==null)ve.return=V,xt=ve;else e:for(V=ce;xt!==null;){if(ae=xt,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:Yh(9,ae)}}catch(Et){Kr(ae,ae.return,Et)}if(ae===V){xt=null;break e}var Qe=ae.sibling;if(Qe!==null){Qe.return=ae.return,xt=Qe;break e}xt=ae.return}}if(ar=b,co(),Br&&typeof Br.onPostCommitFiberRoot=="function")try{Br.onPostCommitFiberRoot(ns,o)}catch{}x=!0}return x}finally{Qt=f,ta.transition=c}}return!1}function Sw(o,c,f){c=Oc(f,c),c=G2(o,c,1),o=ho(o,c,1),c=is(),o!==null&&(Zi(o,1,c),vs(o,c))}function Kr(o,c,f){if(o.tag===3)Sw(o,o,f);else for(;c!==null;){if(c.tag===3){Sw(c,o,f);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(po===null||!po.has(x))){o=Oc(f,o),o=q2(c,o,1),c=ho(c,o,1),o=is(),c!==null&&(Zi(c,1,o),vs(c,o));break}}c=c.return}}function rj(o,c,f){var x=o.pingCache;x!==null&&x.delete(c),c=is(),o.pingedLanes|=o.suspendedLanes&f,wn===o&&(Pn&f)===f&&(mn===4||mn===3&&(Pn&130023424)===Pn&&500>We()-Jg?gl(o,0):Qg|=f),vs(o,c)}function Cw(o,c){c===0&&((o.mode&1)===0?c=1:(c=lc,lc<<=1,(lc&130023424)===0&&(lc=4194304)));var f=is();o=Ti(o,c),o!==null&&(Zi(o,c,f),vs(o,f))}function nj(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),Cw(o,f)}function sj(o,c){var f=0;switch(o.tag){case 13:var x=o.stateNode,b=o.memoizedState;b!==null&&(f=b.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(r(314))}x!==null&&x.delete(c),Cw(o,f)}var jw;jw=function(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps||ms.current)xs=!0;else{if((o.lanes&f)===0&&(c.flags&128)===0)return xs=!1,WC(o,c,f);xs=(o.flags&131072)!==0}else xs=!1,Lr&&(c.flags&1048576)!==0&&c2(c,Ph,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;qh(o,c),o=c.pendingProps;var b=Ac(c,Gn.current);Rc(c,f),b=Cg(null,c,x,o,b,f);var N=jg();return c.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,gs(x)?(N=!0,Ch(c)):N=!1,c.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,_g(c),b.updater=Wh,c.stateNode=b,b._reactInternals=c,Fg(c,x,o,f),c=$g(null,c,x,!0,N,f)):(c.tag=0,Lr&&N&&hg(c),as(null,c,b,f),c=c.child),c;case 16:x=c.elementType;e:{switch(qh(o,c),o=c.pendingProps,b=x._init,x=b(x._payload),c.type=x,b=c.tag=ij(x),o=ba(x,o),b){case 0:c=Vg(null,c,x,o,f);break e;case 1:c=rw(null,c,x,o,f);break e;case 11:c=Q2(null,c,x,o,f);break e;case 14:c=J2(null,c,x,ba(x.type,o),f);break e}throw Error(r(306,x,""))}return c;case 0:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:ba(x,b),Vg(o,c,x,b,f);case 1:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:ba(x,b),rw(o,c,x,b,f);case 3:e:{if(nw(c),o===null)throw Error(r(387));x=c.pendingProps,N=c.memoizedState,b=N.element,y2(o,c),Mh(c,x,null,f);var V=c.memoizedState;if(x=V.element,N.isDehydrated)if(N={element:x,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){b=Oc(Error(r(423)),c),c=sw(o,c,x,f,b);break e}else if(x!==b){b=Oc(Error(r(424)),c),c=sw(o,c,x,f,b);break e}else for(Os=io(c.stateNode.containerInfo.firstChild),Ds=c,Lr=!0,va=null,f=g2(c,null,x,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(jc(),x===b){c=Ni(o,c,f);break e}as(o,c,x,f)}c=c.child}return c;case 5:return w2(c),o===null&&mg(c),x=c.type,b=c.pendingProps,N=o!==null?o.memoizedProps:null,V=b.children,ig(x,b)?V=null:N!==null&&ig(x,N)&&(c.flags|=32),tw(o,c),as(o,c,V,f),c.child;case 6:return o===null&&mg(c),null;case 13:return aw(o,c,f);case 4:return Eg(c,c.stateNode.containerInfo),x=c.pendingProps,o===null?c.child=Ic(c,null,x,f):as(o,c,x,f),c.child;case 11:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:ba(x,b),Q2(o,c,x,b,f);case 7:return as(o,c,c.pendingProps,f),c.child;case 8:return as(o,c,c.pendingProps.children,f),c.child;case 12:return as(o,c,c.pendingProps.children,f),c.child;case 10:e:{if(x=c.type._context,b=c.pendingProps,N=c.memoizedProps,V=b.value,Cr(Oh,x._currentValue),x._currentValue=V,N!==null)if(ya(N.value,V)){if(N.children===b.children&&!ms.current){c=Ni(o,c,f);break e}}else for(N=c.child,N!==null&&(N.return=c);N!==null;){var ae=N.dependencies;if(ae!==null){V=N.child;for(var oe=ae.firstContext;oe!==null;){if(oe.context===x){if(N.tag===1){oe=ki(-1,f&-f),oe.tag=2;var _e=N.updateQueue;if(_e!==null){_e=_e.shared;var Ge=_e.pending;Ge===null?oe.next=oe:(oe.next=Ge.next,Ge.next=oe),_e.pending=oe}}N.lanes|=f,oe=N.alternate,oe!==null&&(oe.lanes|=f),bg(N.return,f,c),ae.lanes|=f;break}oe=oe.next}}else if(N.tag===10)V=N.type===c.type?null:N.child;else if(N.tag===18){if(V=N.return,V===null)throw Error(r(341));V.lanes|=f,ae=V.alternate,ae!==null&&(ae.lanes|=f),bg(V,f,c),V=N.sibling}else V=N.child;if(V!==null)V.return=N;else for(V=N;V!==null;){if(V===c){V=null;break}if(N=V.sibling,N!==null){N.return=V.return,V=N;break}V=V.return}N=V}as(o,c,b.children,f),c=c.child}return c;case 9:return b=c.type,x=c.pendingProps.children,Rc(c,f),b=Zs(b),x=x(b),c.flags|=1,as(o,c,x,f),c.child;case 14:return x=c.type,b=ba(x,c.pendingProps),b=ba(x.type,b),J2(o,c,x,b,f);case 15:return Z2(o,c,c.type,c.pendingProps,f);case 17:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:ba(x,b),qh(o,c),c.tag=1,gs(x)?(o=!0,Ch(c)):o=!1,Rc(c,f),H2(c,x,b),Fg(c,x,b,f),$g(null,c,x,!0,o,f);case 19:return ow(o,c,f);case 22:return ew(o,c,f)}throw Error(r(156,c.tag))};function Iw(o,c){return Ue(o,c)}function aj(o,c,f,x){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ra(o,c,f,x){return new aj(o,c,f,x)}function ix(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ij(o){if(typeof o=="function")return ix(o)?1:0;if(o!=null){if(o=o.$$typeof,o===L)return 11;if(o===ke)return 14}return 2}function yo(o,c){var f=o.alternate;return f===null?(f=ra(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function sf(o,c,f,x,b,N){var V=2;if(x=o,typeof o=="function")ix(o)&&(V=1);else if(typeof o=="string")V=5;else e:switch(o){case S:return yl(f.children,b,N,c);case A:V=8,b|=8;break;case j:return o=ra(12,f,c,b|2),o.elementType=j,o.lanes=N,o;case O:return o=ra(13,f,c,b),o.elementType=O,o.lanes=N,o;case fe:return o=ra(19,f,c,b),o.elementType=fe,o.lanes=N,o;case Re:return af(f,b,N,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:V=10;break e;case M:V=9;break e;case L:V=11;break e;case ke:V=14;break e;case Ce:V=16,x=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return c=ra(V,f,c,b),c.elementType=o,c.type=x,c.lanes=N,c}function yl(o,c,f,x){return o=ra(7,o,x,c),o.lanes=f,o}function af(o,c,f,x){return o=ra(22,o,x,c),o.elementType=Re,o.lanes=f,o.stateNode={isHidden:!1},o}function ox(o,c,f){return o=ra(6,o,null,c),o.lanes=f,o}function lx(o,c,f){return c=ra(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function oj(o,c,f,x,b){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ji(0),this.expirationTimes=Ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.identifierPrefix=x,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function cx(o,c,f,x,b,N,V,ae,oe){return o=new oj(o,c,f,ae,oe),c===1?(c=1,N===!0&&(c|=8)):c=0,N=ra(3,null,null,c),o.current=N,N.stateNode=o,N.memoizedState={element:x,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},_g(N),o}function lj(o,c,f){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:x==null?null:""+x,children:o,containerInfo:c,implementation:f}}function Pw(o){if(!o)return lo;o=o._reactInternals;e:{if(X(o)!==o||o.tag!==1)throw Error(r(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(gs(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(o.tag===1){var f=o.type;if(gs(f))return i2(o,f,c)}return c}function Rw(o,c,f,x,b,N,V,ae,oe){return o=cx(f,x,!0,o,b,N,V,ae,oe),o.context=Pw(null),f=o.current,x=is(),b=go(f),N=ki(x,b),N.callback=c??null,ho(f,N,b),o.current.lanes=b,Zi(o,b,x),vs(o,x),o}function of(o,c,f,x){var b=c.current,N=is(),V=go(b);return f=Pw(f),c.context===null?c.context=f:c.pendingContext=f,c=ki(N,V),c.payload={element:o},x=x===void 0?null:x,x!==null&&(c.callback=x),o=ho(b,c,V),o!==null&&(Ea(o,b,V,N),Lh(o,b,V)),V}function lf(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Dw(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function ux(o,c){Dw(o,c),(o=o.alternate)&&Dw(o,c)}function cj(){return null}var Ow=typeof reportError=="function"?reportError:function(o){console.error(o)};function dx(o){this._internalRoot=o}cf.prototype.render=dx.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));of(o,c,null,null)},cf.prototype.unmount=dx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;ml(function(){of(null,o,null,null)}),c[bi]=null}};function cf(o){this._internalRoot=o}cf.prototype.unstable_scheduleHydration=function(o){if(o){var c=lh();o={blockedOn:null,target:o,priority:c};for(var f=0;f<Ba.length&&c!==0&&c<Ba[f].priority;f++);Ba.splice(f,0,o),f===0&&dh(o)}};function hx(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function uf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Fw(){}function uj(o,c,f,x,b){if(b){if(typeof x=="function"){var N=x;x=function(){var _e=lf(V);N.call(_e)}}var V=Rw(c,x,o,0,null,!1,!1,"",Fw);return o._reactRootContainer=V,o[bi]=V.current,rd(o.nodeType===8?o.parentNode:o),ml(),V}for(;b=o.lastChild;)o.removeChild(b);if(typeof x=="function"){var ae=x;x=function(){var _e=lf(oe);ae.call(_e)}}var oe=cx(o,0,!1,null,null,!1,!1,"",Fw);return o._reactRootContainer=oe,o[bi]=oe.current,rd(o.nodeType===8?o.parentNode:o),ml(function(){of(c,oe,f,x)}),oe}function df(o,c,f,x,b){var N=f._reactRootContainer;if(N){var V=N;if(typeof b=="function"){var ae=b;b=function(){var oe=lf(V);ae.call(oe)}}of(c,V,o,b)}else V=uj(f,c,o,b,x);return lf(V)}ih=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var f=Qi(c.pendingLanes);f!==0&&(eo(c,f|1),vs(c,We()),(ar&6)===0&&(Mc=We()+500,co()))}break;case 13:ml(function(){var x=Ti(o,1);if(x!==null){var b=is();Ea(x,o,1,b)}}),ux(o,1)}},cc=function(o){if(o.tag===13){var c=Ti(o,134217728);if(c!==null){var f=is();Ea(c,o,134217728,f)}ux(o,134217728)}},oh=function(o){if(o.tag===13){var c=go(o),f=Ti(o,c);if(f!==null){var x=is();Ea(f,o,c,x)}ux(o,c)}},lh=function(){return Qt},ch=function(o,c){var f=Qt;try{return Qt=o,c()}finally{Qt=f}},ot=function(o,c,f){switch(c){case"input":if(De(o,f),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var x=f[c];if(x!==o&&x.form===o.form){var b=Ah(x);if(!b)throw Error(r(90));yt(x),De(x,b)}}}break;case"textarea":dt(o,f);break;case"select":c=f.value,c!=null&&le(o,!!f.multiple,c,!1)}},$r=nx,dn=ml;var dj={usingClientEntryPoint:!1,Events:[ad,kc,Ah,Kt,Ir,nx]},vd={findFiberByHostInstance:ol,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hj={bundleType:vd.bundleType,version:vd.version,rendererPackageName:vd.rendererPackageName,rendererConfig:vd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=xe(o),o===null?null:o.stateNode},findFiberByHostInstance:vd.findFiberByHostInstance||cj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hf.isDisabled&&hf.supportsFiber)try{ns=hf.inject(hj),Br=hf}catch{}}return bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dj,bs.createPortal=function(o,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hx(c))throw Error(r(200));return lj(o,c,null,f)},bs.createRoot=function(o,c){if(!hx(o))throw Error(r(299));var f=!1,x="",b=Ow;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),c=cx(o,1,!1,null,null,f,!1,x,b),o[bi]=c.current,rd(o.nodeType===8?o.parentNode:o),new dx(c)},bs.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=xe(c),o=o===null?null:o.stateNode,o},bs.flushSync=function(o){return ml(o)},bs.hydrate=function(o,c,f){if(!uf(c))throw Error(r(200));return df(null,o,c,!0,f)},bs.hydrateRoot=function(o,c,f){if(!hx(o))throw Error(r(405));var x=f!=null&&f.hydratedSources||null,b=!1,N="",V=Ow;if(f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(N=f.identifierPrefix),f.onRecoverableError!==void 0&&(V=f.onRecoverableError)),c=Rw(c,null,o,1,f??null,b,!1,N,V),o[bi]=c.current,rd(o),x)for(o=0;o<x.length;o++)f=x[o],b=f._getVersion,b=b(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,b]:c.mutableSourceEagerHydrationData.push(f,b);return new cf(c)},bs.render=function(o,c,f){if(!uf(c))throw Error(r(200));return df(null,o,c,!1,f)},bs.unmountComponentAtNode=function(o){if(!uf(o))throw Error(r(40));return o._reactRootContainer?(ml(function(){df(null,null,o,!1,function(){o._reactRootContainer=null,o[bi]=null})}),!0):!1},bs.unstable_batchedUpdates=nx,bs.unstable_renderSubtreeIntoContainer=function(o,c,f,x){if(!uf(f))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return df(o,c,f,!1,x)},bs.version="18.3.1-next-f1338f8080-20240426",bs}var Ww;function _j(){if(Ww)return mx.exports;Ww=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mx.exports=wj(),mx.exports}var Gw;function Ej(){if(Gw)return ff;Gw=1;var t=_j();return ff.createRoot=t.createRoot,ff.hydrateRoot=t.hydrateRoot,ff}var Tj=Ej();const kj=av(Tj);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qw="popstate";function Nj(t={}){function e(n,s){let{pathname:a,search:l,hash:u}=n.location;return sy("",{pathname:a,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Jd(s)}return Sj(e,r,null,t)}function Vr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ra(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Aj(){return Math.random().toString(36).substring(2,10)}function Kw(t,e){return{usr:t.state,key:t.key,idx:e}}function sy(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Au(e):e,state:r,key:e&&e.key||n||Aj()}}function Jd({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Au(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Sj(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:a=!1}=n,l=s.history,u="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let T=p(),D=T==null?null:T-h;h=T,d&&d({action:u,location:w.location,delta:D})}function y(T,D){u="PUSH";let I=sy(w.location,T,D);h=p()+1;let z=Kw(I,h),F=w.createHref(I);try{l.pushState(z,"",F)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;s.location.assign(F)}a&&d&&d({action:u,location:w.location,delta:1})}function v(T,D){u="REPLACE";let I=sy(w.location,T,D);h=p();let z=Kw(I,h),F=w.createHref(I);l.replaceState(z,"",F),a&&d&&d({action:u,location:w.location,delta:0})}function _(T){return Cj(T)}let w={get action(){return u},get location(){return t(s,l)},listen(T){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(qw,g),d=T,()=>{s.removeEventListener(qw,g),d=null}},createHref(T){return e(s,T)},createURL:_,encodeLocation(T){let D=_(T);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:y,replace:v,go(T){return l.go(T)}};return w}function Cj(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Vr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Jd(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function KT(t,e,r="/"){return jj(t,e,r,!1)}function jj(t,e,r,n){let s=typeof e=="string"?Au(e):e,a=Mi(s.pathname||"/",r);if(a==null)return null;let l=YT(t);Ij(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=Uj(a);u=$j(l[d],h,n)}return u}function YT(t,e=[],r=[],n="",s=!1){let a=(l,u,d=s,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&d)return;Vr(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=Pi([n,p.relativePath]),y=r.concat(p);l.children&&l.children.length>0&&(Vr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),YT(l.children,e,y,g,d)),!(l.path==null&&!l.index)&&e.push({path:g,score:Mj(g,l.index),routesMeta:y})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))a(l,u);else for(let d of XT(l.path))a(l,u,!0,d)}),e}function XT(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let l=XT(n.join("/")),u=[];return u.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function Ij(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Vj(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Pj=/^:[\w-]+$/,Rj=3,Dj=2,Oj=1,Fj=10,Lj=-2,Yw=t=>t==="*";function Mj(t,e){let r=t.split("/"),n=r.length;return r.some(Yw)&&(n+=Lj),e&&(n+=Dj),r.filter(s=>!Yw(s)).reduce((s,a)=>s+(Pj.test(a)?Rj:a===""?Oj:Fj),n)}function Vj(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function $j(t,e,r=!1){let{routesMeta:n}=t,s={},a="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],h=u===n.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=Qf({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),y=d.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=Qf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:Pi([a,g.pathname]),pathnameBase:Gj(Pi([a,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(a=Pi([a,g.pathnameBase]))}return l}function Qf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Bj(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let _=u[y]||"";l=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const v=u[y];return g&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function Bj(t,e=!1,r=!0){Ra(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Uj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ra(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Mi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function zj(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Au(t):t;return{pathname:r?r.startsWith("/")?r:Hj(r,e):e,search:qj(n),hash:Kj(s)}}function Hj(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function yx(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Wj(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ov(t){let e=Wj(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function lv(t,e,r,n=!1){let s;typeof t=="string"?s=Au(t):(s={...t},Vr(!s.pathname||!s.pathname.includes("?"),yx("?","pathname","search",s)),Vr(!s.pathname||!s.pathname.includes("#"),yx("#","pathname","hash",s)),Vr(!s.search||!s.search.includes("#"),yx("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=r;else{let g=e.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;s.pathname=y.join("/")}u=g>=0?e[g]:"/"}let d=zj(s,u),h=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var Pi=t=>t.join("/").replace(/\/\/+/g,"/"),Gj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Kj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Yj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var QT=["POST","PUT","PATCH","DELETE"];new Set(QT);var Xj=["GET",...QT];new Set(Xj);var Su=E.createContext(null);Su.displayName="DataRouter";var Xp=E.createContext(null);Xp.displayName="DataRouterState";E.createContext(!1);var JT=E.createContext({isTransitioning:!1});JT.displayName="ViewTransition";var Qj=E.createContext(new Map);Qj.displayName="Fetchers";var Jj=E.createContext(null);Jj.displayName="Await";var La=E.createContext(null);La.displayName="Navigation";var N0=E.createContext(null);N0.displayName="Location";var fi=E.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var cv=E.createContext(null);cv.displayName="RouteError";function Zj(t,{relative:e}={}){Vr(Cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=E.useContext(La),{hash:s,pathname:a,search:l}=A0(t,{relative:e}),u=a;return r!=="/"&&(u=a==="/"?r:Pi([r,a])),n.createHref({pathname:u,search:l,hash:s})}function Cu(){return E.useContext(N0)!=null}function Ko(){return Vr(Cu(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(N0).location}var ZT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ek(t){E.useContext(La).static||E.useLayoutEffect(t)}function Ma(){let{isDataRoute:t}=E.useContext(fi);return t?hI():eI()}function eI(){Vr(Cu(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Su),{basename:e,navigator:r}=E.useContext(La),{matches:n}=E.useContext(fi),{pathname:s}=Ko(),a=JSON.stringify(ov(n)),l=E.useRef(!1);return ek(()=>{l.current=!0}),E.useCallback((d,h={})=>{if(Ra(l.current,ZT),!l.current)return;if(typeof d=="number"){r.go(d);return}let p=lv(d,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Pi([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,a,s,t])}E.createContext(null);function A0(t,{relative:e}={}){let{matches:r}=E.useContext(fi),{pathname:n}=Ko(),s=JSON.stringify(ov(r));return E.useMemo(()=>lv(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function tI(t,e){return tk(t,e)}function tk(t,e,r,n,s){Vr(Cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=E.useContext(La),{matches:l}=E.useContext(fi),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let I=g&&g.path||"";rk(h,!g||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let y=Ko(),v;if(e){let I=typeof e=="string"?Au(e):e;Vr(p==="/"||I.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${I.pathname}" was given in the \`location\` prop.`),v=I}else v=y;let _=v.pathname||"/",w=_;if(p!=="/"){let I=p.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(I.length).join("/")}let T=KT(t,{pathname:w});Ra(g||T!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ra(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=iI(T&&T.map(I=>Object.assign({},I,{params:Object.assign({},d,I.params),pathname:Pi([p,a.encodeLocation?a.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?p:Pi([p,a.encodeLocation?a.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),l,r,n,s);return e&&D?E.createElement(N0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},D):D}function rI(){let t=dI(),e=Yj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),r?E.createElement("pre",{style:s},r):null,l)}var nI=E.createElement(rI,null),sI=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement(fi.Provider,{value:this.props.routeContext},E.createElement(cv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aI({routeContext:t,match:e,children:r}){let n=E.useContext(Su);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(fi.Provider,{value:t},r)}function iI(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,l=r?.errors;if(l!=null){let h=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);Vr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,d=-1;if(r)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:g,errors:y}=r,v=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,p,g)=>{let y,v=!1,_=null,w=null;r&&(y=l&&p.route.id?l[p.route.id]:void 0,_=p.route.errorElement||nI,u&&(d<0&&g===0?(rk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):d===g&&(v=!0,w=p.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,g+1)),D=()=>{let I;return y?I=_:v?I=w:p.route.Component?I=E.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=h,E.createElement(aI,{match:p,routeContext:{outlet:h,matches:T,isDataRoute:r!=null},children:I})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?E.createElement(sI,{location:r.location,revalidation:r.revalidation,component:_,error:y,children:D(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:n}):D()},null)}function uv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oI(t){let e=E.useContext(Su);return Vr(e,uv(t)),e}function lI(t){let e=E.useContext(Xp);return Vr(e,uv(t)),e}function cI(t){let e=E.useContext(fi);return Vr(e,uv(t)),e}function dv(t){let e=cI(t),r=e.matches[e.matches.length-1];return Vr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function uI(){return dv("useRouteId")}function dI(){let t=E.useContext(cv),e=lI("useRouteError"),r=dv("useRouteError");return t!==void 0?t:e.errors?.[r]}function hI(){let{router:t}=oI("useNavigate"),e=dv("useNavigate"),r=E.useRef(!1);return ek(()=>{r.current=!0}),E.useCallback(async(s,a={})=>{Ra(r.current,ZT),r.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Xw={};function rk(t,e,r){!e&&!Xw[t]&&(Xw[t]=!0,Ra(!1,r))}E.memo(fI);function fI({routes:t,future:e,state:r,unstable_onError:n}){return tk(t,void 0,r,n,e)}function S0({to:t,replace:e,state:r,relative:n}){Vr(Cu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=E.useContext(La);Ra(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=E.useContext(fi),{pathname:l}=Ko(),u=Ma(),d=lv(t,ov(a),l,n==="path"),h=JSON.stringify(d);return E.useEffect(()=>{u(JSON.parse(h),{replace:e,state:r,relative:n})},[u,h,n,e,r]),null}function zt(t){Vr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pI({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:a=!1}){Vr(!Cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof r=="string"&&(r=Au(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:y="default"}=r,v=E.useMemo(()=>{let _=Mi(d,l);return _==null?null:{location:{pathname:_,search:h,hash:p,state:g,key:y},navigationType:n}},[l,d,h,p,g,y,n]);return Ra(v!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:E.createElement(La.Provider,{value:u},E.createElement(N0.Provider,{children:e,value:v}))}function mI({children:t,location:e}){return tI(ay(t),e)}function ay(t,e=[]){let r=[];return E.Children.forEach(t,(n,s)=>{if(!E.isValidElement(n))return;let a=[...e,s];if(n.type===E.Fragment){r.push.apply(r,ay(n.props.children,a));return}Vr(n.type===zt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Vr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=ay(n.props.children,a)),r.push(l)}),r}var Df="get",Of="application/x-www-form-urlencoded";function Qp(t){return t!=null&&typeof t.tagName=="string"}function gI(t){return Qp(t)&&t.tagName.toLowerCase()==="button"}function xI(t){return Qp(t)&&t.tagName.toLowerCase()==="form"}function yI(t){return Qp(t)&&t.tagName.toLowerCase()==="input"}function vI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bI(t,e){return t.button===0&&(!e||e==="_self")&&!vI(t)}var pf=null;function wI(){if(pf===null)try{new FormData(document.createElement("form"),0),pf=!1}catch{pf=!0}return pf}var _I=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vx(t){return t!=null&&!_I.has(t)?(Ra(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Of}"`),null):t}function EI(t,e){let r,n,s,a,l;if(xI(t)){let u=t.getAttribute("action");n=u?Mi(u,e):null,r=t.getAttribute("method")||Df,s=vx(t.getAttribute("enctype"))||Of,a=new FormData(t)}else if(gI(t)||yI(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(n=d?Mi(d,e):null,r=t.getAttribute("formmethod")||u.getAttribute("method")||Df,s=vx(t.getAttribute("formenctype"))||vx(u.getAttribute("enctype"))||Of,a=new FormData(u,t),!wI()){let{name:h,type:p,value:g}=t;if(p==="image"){let y=h?`${h}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else h&&a.append(h,g)}}else{if(Qp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Df,n=null,s=Of,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function TI(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Mi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function kI(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function AI(t,e,r){let n=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await kI(a,r);return l.links?l.links():[]}return[]}));return II(n.flat(1).filter(NI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Qw(t,e,r,n,s,a){let l=(d,h)=>r[h]?d.route.id!==r[h].route.id:!0,u=(d,h)=>r[h].pathname!==d.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):a==="data"?e.filter((d,h)=>{let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function SI(t,e,{includeHydrateFallback:r}={}){return CI(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function CI(t){return[...new Set(t)]}function jI(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function II(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let a=JSON.stringify(jI(s));return r.has(a)||(r.add(a),n.push({key:a,link:s})),n},[])}function nk(){let t=E.useContext(Su);return hv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function PI(){let t=E.useContext(Xp);return hv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var fv=E.createContext(void 0);fv.displayName="FrameworkContext";function sk(){let t=E.useContext(fv);return hv(t,"You must render this element inside a <HydratedRouter> element"),t}function RI(t,e){let r=E.useContext(fv),[n,s]=E.useState(!1),[a,l]=E.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,y=E.useRef(null);E.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let w=D=>{D.forEach(I=>{l(I.isIntersecting)})},T=new IntersectionObserver(w,{threshold:.5});return y.current&&T.observe(y.current),()=>{T.disconnect()}}},[t]),E.useEffect(()=>{if(n){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[n]);let v=()=>{s(!0)},_=()=>{s(!1),l(!1)};return r?t!=="intent"?[a,y,{}]:[a,y,{onFocus:wd(u,v),onBlur:wd(d,_),onMouseEnter:wd(h,v),onMouseLeave:wd(p,_),onTouchStart:wd(g,v)}]:[!1,y,{}]}function wd(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function DI({page:t,...e}){let{router:r}=nk(),n=E.useMemo(()=>KT(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?E.createElement(FI,{page:t,matches:n,...e}):null}function OI(t){let{manifest:e,routeModules:r}=sk(),[n,s]=E.useState([]);return E.useEffect(()=>{let a=!1;return AI(t,e,r).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,r]),n}function FI({page:t,matches:e,...r}){let n=Ko(),{manifest:s,routeModules:a}=sk(),{basename:l}=nk(),{loaderData:u,matches:d}=PI(),h=E.useMemo(()=>Qw(t,e,d,s,n,"data"),[t,e,d,s,n]),p=E.useMemo(()=>Qw(t,e,d,s,n,"assets"),[t,e,d,s,n]),g=E.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let _=new Set,w=!1;if(e.forEach(D=>{let I=s.routes[D.route.id];!I||!I.hasLoader||(!h.some(z=>z.route.id===D.route.id)&&D.route.id in u&&a[D.route.id]?.shouldRevalidate||I.hasClientLoader?w=!0:_.add(D.route.id))}),_.size===0)return[];let T=TI(t,l,"data");return w&&_.size>0&&T.searchParams.set("_routes",e.filter(D=>_.has(D.route.id)).map(D=>D.route.id).join(",")),[T.pathname+T.search]},[l,u,n,s,h,e,t,a]),y=E.useMemo(()=>SI(p,s),[p,s]),v=OI(p);return E.createElement(E.Fragment,null,g.map(_=>E.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),y.map(_=>E.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),v.map(({key:_,link:w})=>E.createElement("link",{key:_,nonce:r.nonce,...w})))}function LI(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var ak=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ak&&(window.__reactRouterVersion="7.8.2")}catch{}function MI({basename:t,children:e,window:r}){let n=E.useRef();n.current==null&&(n.current=Nj({window:r,v5Compat:!0}));let s=n.current,[a,l]=E.useState({action:s.action,location:s.location}),u=E.useCallback(d=>{E.startTransition(()=>l(d))},[l]);return E.useLayoutEffect(()=>s.listen(u),[s,u]),E.createElement(pI,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var ik=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_s=E.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:a,replace:l,state:u,target:d,to:h,preventScrollReset:p,viewTransition:g,...y},v){let{basename:_}=E.useContext(La),w=typeof h=="string"&&ik.test(h),T,D=!1;if(typeof h=="string"&&w&&(T=h,ak))try{let j=new URL(window.location.href),R=h.startsWith("//")?new URL(j.protocol+h):new URL(h),M=Mi(R.pathname,_);R.origin===j.origin&&M!=null?h=M+R.search+R.hash:D=!0}catch{Ra(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=Zj(h,{relative:s}),[z,F,Y]=RI(n,y),U=UI(h,{replace:l,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:g});function S(j){e&&e(j),j.defaultPrevented||U(j)}let A=E.createElement("a",{...y,...Y,href:T||I,onClick:D||a?e:S,ref:LI(v,F),target:d,"data-discover":!w&&r==="render"?"true":void 0});return z&&!w?E.createElement(E.Fragment,null,A,E.createElement(DI,{page:I})):A});_s.displayName="Link";var VI=E.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:a,to:l,viewTransition:u,children:d,...h},p){let g=A0(l,{relative:h.relative}),y=Ko(),v=E.useContext(Xp),{navigator:_,basename:w}=E.useContext(La),T=v!=null&&qI(g)&&u===!0,D=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,I=y.pathname,z=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(I=I.toLowerCase(),z=z?z.toLowerCase():null,D=D.toLowerCase()),z&&w&&(z=Mi(z,w)||z);const F=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let Y=I===D||!s&&I.startsWith(D)&&I.charAt(F)==="/",U=z!=null&&(z===D||!s&&z.startsWith(D)&&z.charAt(D.length)==="/"),S={isActive:Y,isPending:U,isTransitioning:T},A=Y?e:void 0,j;typeof n=="function"?j=n(S):j=[n,Y?"active":null,U?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(S):a;return E.createElement(_s,{...h,"aria-current":A,className:j,ref:p,style:R,to:l,viewTransition:u},typeof d=="function"?d(S):d)});VI.displayName="NavLink";var $I=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:a,method:l=Df,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:g,...y},v)=>{let _=WI(),w=GI(u,{relative:h}),T=l.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&ik.test(u),I=z=>{if(d&&d(z),z.defaultPrevented)return;z.preventDefault();let F=z.nativeEvent.submitter,Y=F?.getAttribute("formmethod")||l;_(F||z.currentTarget,{fetcherKey:e,method:Y,navigate:r,replace:s,state:a,relative:h,preventScrollReset:p,viewTransition:g})};return E.createElement("form",{ref:v,method:T,action:w,onSubmit:n?d:I,...y,"data-discover":!D&&t==="render"?"true":void 0})});$I.displayName="Form";function BI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ok(t){let e=E.useContext(Su);return Vr(e,BI(t)),e}function UI(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:a,viewTransition:l}={}){let u=Ma(),d=Ko(),h=A0(t,{relative:a});return E.useCallback(p=>{if(bI(p,e)){p.preventDefault();let g=r!==void 0?r:Jd(d)===Jd(h);u(t,{replace:g,state:n,preventScrollReset:s,relative:a,viewTransition:l})}},[d,u,h,r,n,e,t,s,a,l])}var zI=0,HI=()=>`__${String(++zI)}__`;function WI(){let{router:t}=ok("useSubmit"),{basename:e}=E.useContext(La),r=uI();return E.useCallback(async(n,s={})=>{let{action:a,method:l,encType:u,formData:d,body:h}=EI(n,e);if(s.navigate===!1){let p=s.fetcherKey||HI();await t.fetch(p,r,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,r])}function GI(t,{relative:e}={}){let{basename:r}=E.useContext(La),n=E.useContext(fi);Vr(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),a={...A0(t||".",{relative:e})},l=Ko();if(t==null){a.search=l.search;let u=new URLSearchParams(a.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Pi([r,a.pathname])),Jd(a)}function qI(t,{relative:e}={}){let r=E.useContext(JT);Vr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ok("useViewTransitionState"),s=A0(t,{relative:e});if(!r.isTransitioning)return!1;let a=Mi(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=Mi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Qf(s.pathname,l)!=null||Qf(s.pathname,a)!=null}const KI=()=>{};var Jw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},YI=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[r++];e[n++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[r++],l=t[r++],u=t[r++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const a=t[r++],l=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},ck={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,u=l?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,p=a>>2,g=(a&3)<<4|u>>4;let y=(u&15)<<2|h>>6,v=h&63;d||(v=64,l||(y=64)),n.push(r[p],r[g],r[y],r[v])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const a=r[t.charAt(s++)],u=s<t.length?r[t.charAt(s)]:0;++s;const h=s<t.length?r[t.charAt(s)]:64;++s;const g=s<t.length?r[t.charAt(s)]:64;if(++s,a==null||u==null||h==null||g==null)throw new XI;const y=a<<2|u>>4;if(n.push(y),h!==64){const v=u<<4&240|h>>2;if(n.push(v),g!==64){const _=h<<6&192|g;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QI=function(t){const e=lk(t);return ck.encodeByteArray(e,!0)},Jf=function(t){return QI(t).replace(/\./g,"")},uk=function(t){try{return ck.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=()=>JI().__FIREBASE_DEFAULTS__,eP=()=>{if(typeof process>"u"||typeof Jw>"u")return;const t=Jw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uk(t[1]);return e&&JSON.parse(e)},Jp=()=>{try{return KI()||ZI()||eP()||tP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dk=t=>{var e,r;return(r=(e=Jp())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},hk=t=>{const e=dk(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},fk=()=>{var t;return(t=Jp())===null||t===void 0?void 0:t.config},pk=t=>{var e;return(e=Jp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jf(JSON.stringify(r)),Jf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rs())}function sP(){var t;const e=(t=Jp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oP(){const t=rs();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lP(){return!sP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xk(){try{return typeof indexedDB=="object"}catch{return!1}}function yk(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}function cP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="FirebaseError";class da extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=uP,Object.setPrototypeOf(this,da.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?dP(a,n):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new da(s,u,n)}}function dP(t,e){return t.replace(hP,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const hP=/\{\$([^}]+)}/g;function fP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oo(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const a=t[s],l=e[s];if(Zw(a)&&Zw(l)){if(!Oo(a,l))return!1}else if(a!==l)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function Zw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function kd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,a]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Nd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function pP(t,e){const r=new mP(t,e);return r.subscribe.bind(r)}class mP{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");gP(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=bx),s.error===void 0&&(s.error=bx),s.complete===void 0&&(s.complete=bx);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gP(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function bx(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=1e3,yP=2,vP=14400*1e3,bP=.5;function e_(t,e=xP,r=yP){const n=e*Math.pow(r,t),s=Math.round(bP*n*(Math.random()-.5)*2);return Math.min(vP,n+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t){return t&&t._delegate?t._delegate:t}class ua{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new rP;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),s=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EP(e))try{this.getOrInitializeService({instanceIdentifier:bl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:s});n.resolve(a)}catch{}}}}clearInstance(e=bl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bl){return this.instances.has(e)}getOptions(e=bl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);n===u&&l.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:_P(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=bl){return this.component?this.component.multipleInstances?e:bl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _P(t){return t===bl?void 0:t}function EP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new wP(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Yt||(Yt={}));const kP={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},NP=Yt.INFO,AP={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},SP=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=AP[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zp{constructor(e){this.name=e,this._logLevel=NP,this._logHandler=SP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...e),this._logHandler(this,Yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...e),this._logHandler(this,Yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...e),this._logHandler(this,Yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...e),this._logHandler(this,Yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...e),this._logHandler(this,Yt.ERROR,...e)}}const CP=(t,e)=>e.some(r=>t instanceof r);let t_,r_;function jP(){return t_||(t_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IP(){return r_||(r_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vk=new WeakMap,iy=new WeakMap,bk=new WeakMap,wx=new WeakMap,pv=new WeakMap;function PP(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{r(jo(t.result)),s()},l=()=>{n(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(r=>{r instanceof IDBCursor&&vk.set(r,t)}).catch(()=>{}),pv.set(e,t),e}function RP(t){if(iy.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{r(),s()},l=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});iy.set(t,e)}let oy={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return iy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bk.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return jo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DP(t){oy=t(oy)}function OP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(_x(this),e,...r);return bk.set(n,e.sort?e.sort():[e]),jo(n)}:IP().includes(t)?function(...e){return t.apply(_x(this),e),jo(vk.get(this))}:function(...e){return jo(t.apply(_x(this),e))}}function FP(t){return typeof t=="function"?OP(t):(t instanceof IDBTransaction&&RP(t),CP(t,jP())?new Proxy(t,oy):t)}function jo(t){if(t instanceof IDBRequest)return PP(t);if(wx.has(t))return wx.get(t);const e=FP(t);return e!==t&&(wx.set(t,e),pv.set(e,t)),e}const _x=t=>pv.get(t);function wk(t,e,{blocked:r,upgrade:n,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),u=jo(l);return n&&l.addEventListener("upgradeneeded",d=>{n(jo(l.result),d.oldVersion,d.newVersion,jo(l.transaction),d)}),r&&l.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),u.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const LP=["get","getKey","getAll","getAllKeys","count"],MP=["put","add","delete","clear"],Ex=new Map;function n_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ex.get(e))return Ex.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=MP.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||LP.includes(r)))return;const a=async function(l,...u){const d=this.transaction(l,s?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(u.shift())),(await Promise.all([h[r](...u),s&&d.done]))[0]};return Ex.set(e,a),a}DP(t=>({...t,get:(e,r,n)=>n_(e,r)||t.get(e,r,n),has:(e,r)=>!!n_(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if($P(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function $P(t){const e=t.getComponent();return e?.type==="VERSION"}const ly="@firebase/app",s_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new Zp("@firebase/app"),BP="@firebase/app-compat",UP="@firebase/analytics-compat",zP="@firebase/analytics",HP="@firebase/app-check-compat",WP="@firebase/app-check",GP="@firebase/auth",qP="@firebase/auth-compat",KP="@firebase/database",YP="@firebase/data-connect",XP="@firebase/database-compat",QP="@firebase/functions",JP="@firebase/functions-compat",ZP="@firebase/installations",eR="@firebase/installations-compat",tR="@firebase/messaging",rR="@firebase/messaging-compat",nR="@firebase/performance",sR="@firebase/performance-compat",aR="@firebase/remote-config",iR="@firebase/remote-config-compat",oR="@firebase/storage",lR="@firebase/storage-compat",cR="@firebase/firestore",uR="@firebase/vertexai",dR="@firebase/firestore-compat",hR="firebase",fR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="[DEFAULT]",pR={[ly]:"fire-core",[BP]:"fire-core-compat",[zP]:"fire-analytics",[UP]:"fire-analytics-compat",[WP]:"fire-app-check",[HP]:"fire-app-check-compat",[GP]:"fire-auth",[qP]:"fire-auth-compat",[KP]:"fire-rtdb",[YP]:"fire-data-connect",[XP]:"fire-rtdb-compat",[QP]:"fire-fn",[JP]:"fire-fn-compat",[ZP]:"fire-iid",[eR]:"fire-iid-compat",[tR]:"fire-fcm",[rR]:"fire-fcm-compat",[nR]:"fire-perf",[sR]:"fire-perf-compat",[aR]:"fire-rc",[iR]:"fire-rc-compat",[oR]:"fire-gcs",[lR]:"fire-gcs-compat",[cR]:"fire-fst",[dR]:"fire-fst-compat",[uR]:"fire-vertex","fire-js":"fire-js",[hR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new Map,mR=new Map,uy=new Map;function a_(t,e){try{t.container.addComponent(e)}catch(r){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Da(t){const e=t.name;if(uy.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;uy.set(e,t);for(const r of Zf.values())a_(r,t);for(const r of mR.values())a_(r,t);return!0}function Yo(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Bs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Io=new Hl("app","Firebase",gR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Io.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=fR;function _k(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:cy,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Io.create("bad-app-name",{appName:String(s)});if(r||(r=fk()),!r)throw Io.create("no-options");const a=Zf.get(s);if(a){if(Oo(r,a.options)&&Oo(n,a.config))return a;throw Io.create("duplicate-app",{appName:s})}const l=new TP(s);for(const d of uy.values())l.addComponent(d);const u=new xR(r,n,l);return Zf.set(s,u),u}function em(t=cy){const e=Zf.get(t);if(!e&&t===cy&&fk())return _k();if(!e)throw Io.create("no-app",{appName:t});return e}function Ts(t,e,r){var n;let s=(n=pR[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(u.join(" "));return}Da(new ua(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="firebase-heartbeat-database",vR=1,Zd="firebase-heartbeat-store";let Tx=null;function Ek(){return Tx||(Tx=wk(yR,vR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zd)}catch(r){console.warn(r)}}}}).catch(t=>{throw Io.create("idb-open",{originalErrorMessage:t.message})})),Tx}async function bR(t){try{const r=(await Ek()).transaction(Zd),n=await r.objectStore(Zd).get(Tk(t));return await r.done,n}catch(e){if(e instanceof da)Vi.warn(e.message);else{const r=Io.create("idb-get",{originalErrorMessage:e?.message});Vi.warn(r.message)}}}async function i_(t,e){try{const n=(await Ek()).transaction(Zd,"readwrite");await n.objectStore(Zd).put(e,Tk(t)),await n.done}catch(r){if(r instanceof da)Vi.warn(r.message);else{const n=Io.create("idb-set",{originalErrorMessage:r?.message});Vi.warn(n.message)}}}function Tk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=1024,_R=30;class ER{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new kR(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=o_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>_R){const l=NR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Vi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=o_(),{heartbeatsToSend:n,unsentEntries:s}=TR(this._heartbeatsCache.heartbeats),a=Jf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Vi.warn(r),""}}}function o_(){return new Date().toISOString().substring(0,10)}function TR(t,e=wR){const r=[];let n=t.slice();for(const s of t){const a=r.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),l_(r)>e){a.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),l_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class kR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xk()?yk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await bR(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return i_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return i_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function l_(t){return Jf(JSON.stringify({version:2,heartbeats:t})).length}function NR(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t){Da(new ua("platform-logger",e=>new VP(e),"PRIVATE")),Da(new ua("heartbeat",e=>new ER(e),"PRIVATE")),Ts(ly,s_,t),Ts(ly,s_,"esm2017"),Ts("fire-js","")}AR("");var SR="firebase",CR="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(SR,CR,"app");const kk="@firebase/installations",mv="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=1e4,Ak=`w:${mv}`,Sk="FIS_v2",jR="https://firebaseinstallations.googleapis.com/v1",IR=3600*1e3,PR="installations",RR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},jl=new Hl(PR,RR,DR);function Ck(t){return t instanceof da&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk({projectId:t}){return`${jR}/projects/${t}/installations`}function Ik(t){return{token:t.token,requestStatus:2,expiresIn:FR(t.expiresIn),creationTime:Date.now()}}async function Pk(t,e){const n=(await e.json()).error;return jl.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Rk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function OR(t,{refreshToken:e}){const r=Rk(t);return r.append("Authorization",LR(e)),r}async function Dk(t){const e=await t();return e.status>=500&&e.status<600?t():e}function FR(t){return Number(t.replace("s","000"))}function LR(t){return`${Sk} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=jk(t),s=Rk(t),a=e.getImmediate({optional:!0});if(a){const h=await a.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const l={fid:r,authVersion:Sk,appId:t.appId,sdkVersion:Ak},u={method:"POST",headers:s,body:JSON.stringify(l)},d=await Dk(()=>fetch(n,u));if(d.ok){const h=await d.json();return{fid:h.fid||r,registrationStatus:2,refreshToken:h.refreshToken,authToken:Ik(h.authToken)}}else throw await Pk("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=/^[cdef][\w-]{21}$/,dy="";function BR(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=UR(t);return $R.test(r)?r:dy}catch{return dy}}function UR(t){return VR(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=new Map;function Lk(t,e){const r=tm(t);Mk(r,e),zR(r,e)}function Mk(t,e){const r=Fk.get(t);if(r)for(const n of r)n(e)}function zR(t,e){const r=HR();r&&r.postMessage({key:t,fid:e}),WR()}let El=null;function HR(){return!El&&"BroadcastChannel"in self&&(El=new BroadcastChannel("[Firebase] FID Change"),El.onmessage=t=>{Mk(t.data.key,t.data.fid)}),El}function WR(){Fk.size===0&&El&&(El.close(),El=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="firebase-installations-database",qR=1,Il="firebase-installations-store";let kx=null;function gv(){return kx||(kx=wk(GR,qR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Il)}}})),kx}async function ep(t,e){const r=tm(t),s=(await gv()).transaction(Il,"readwrite"),a=s.objectStore(Il),l=await a.get(r);return await a.put(e,r),await s.done,(!l||l.fid!==e.fid)&&Lk(t,e.fid),e}async function Vk(t){const e=tm(t),n=(await gv()).transaction(Il,"readwrite");await n.objectStore(Il).delete(e),await n.done}async function rm(t,e){const r=tm(t),s=(await gv()).transaction(Il,"readwrite"),a=s.objectStore(Il),l=await a.get(r),u=e(l);return u===void 0?await a.delete(r):await a.put(u,r),await s.done,u&&(!l||l.fid!==u.fid)&&Lk(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xv(t){let e;const r=await rm(t.appConfig,n=>{const s=KR(n),a=YR(t,s);return e=a.registrationPromise,a.installationEntry});return r.fid===dy?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function KR(t){const e=t||{fid:BR(),registrationStatus:0};return $k(e)}function YR(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(jl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=XR(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:QR(t)}:{installationEntry:e}}async function XR(t,e){try{const r=await MR(t,e);return ep(t.appConfig,r)}catch(r){throw Ck(r)&&r.customData.serverCode===409?await Vk(t.appConfig):await ep(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function QR(t){let e=await c_(t.appConfig);for(;e.registrationStatus===1;)await Ok(100),e=await c_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await xv(t);return n||r}return e}function c_(t){return rm(t,e=>{if(!e)throw jl.create("installation-not-found");return $k(e)})}function $k(t){return JR(t)?{fid:t.fid,registrationStatus:0}:t}function JR(t){return t.registrationStatus===1&&t.registrationTime+Nk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR({appConfig:t,heartbeatServiceProvider:e},r){const n=e8(t,r),s=OR(t,r),a=e.getImmediate({optional:!0});if(a){const h=await a.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const l={installation:{sdkVersion:Ak,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(l)},d=await Dk(()=>fetch(n,u));if(d.ok){const h=await d.json();return Ik(h)}else throw await Pk("Generate Auth Token",d)}function e8(t,{fid:e}){return`${jk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yv(t,e=!1){let r;const n=await rm(t.appConfig,a=>{if(!Bk(a))throw jl.create("not-registered");const l=a.authToken;if(!e&&n8(l))return a;if(l.requestStatus===1)return r=t8(t,e),a;{if(!navigator.onLine)throw jl.create("app-offline");const u=a8(a);return r=r8(t,u),u}});return r?await r:n.authToken}async function t8(t,e){let r=await u_(t.appConfig);for(;r.authToken.requestStatus===1;)await Ok(100),r=await u_(t.appConfig);const n=r.authToken;return n.requestStatus===0?yv(t,e):n}function u_(t){return rm(t,e=>{if(!Bk(e))throw jl.create("not-registered");const r=e.authToken;return i8(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function r8(t,e){try{const r=await ZR(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await ep(t.appConfig,n),r}catch(r){if(Ck(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await Vk(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ep(t.appConfig,n)}throw r}}function Bk(t){return t!==void 0&&t.registrationStatus===2}function n8(t){return t.requestStatus===2&&!s8(t)}function s8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+IR}function a8(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function i8(t){return t.requestStatus===1&&t.requestTime+Nk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o8(t){const e=t,{installationEntry:r,registrationPromise:n}=await xv(e);return n?n.catch(console.error):yv(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l8(t,e=!1){const r=t;return await c8(r),(await yv(r,e)).token}async function c8(t){const{registrationPromise:e}=await xv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(t){if(!t||!t.options)throw Nx("App Configuration");if(!t.name)throw Nx("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw Nx(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Nx(t){return jl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="installations",d8="installations-internal",h8=t=>{const e=t.getProvider("app").getImmediate(),r=u8(e),n=Yo(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},f8=t=>{const e=t.getProvider("app").getImmediate(),r=Yo(e,Uk).getImmediate();return{getId:()=>o8(r),getToken:s=>l8(r,s)}};function p8(){Da(new ua(Uk,h8,"PUBLIC")),Da(new ua(d8,f8,"PRIVATE"))}p8();Ts(kk,mv);Ts(kk,mv,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="analytics",m8="firebase_id",g8="origin",x8=60*1e3,y8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Zp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Hs=new Hl("analytics","Analytics",v8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(t){if(!t.startsWith(vv)){const e=Hs.create("invalid-gtag-resource",{gtagURL:t});return ks.warn(e.message),""}return t}function zk(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function w8(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function _8(t,e){const r=w8("firebase-js-sdk-policy",{createScriptURL:b8}),n=document.createElement("script"),s=`${vv}?l=${t}&id=${e}`;n.src=r?r?.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function E8(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function T8(t,e,r,n,s,a){const l=n[s];try{if(l)await e[l];else{const d=(await zk(r)).find(h=>h.measurementId===s);d&&await e[d.appId]}}catch(u){ks.error(u)}t("config",s,a)}async function k8(t,e,r,n,s){try{let a=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const u=await zk(r);for(const d of l){const h=u.find(g=>g.measurementId===d),p=h&&e[h.appId];if(p)a.push(p);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",n,s||{})}catch(a){ks.error(a)}}function N8(t,e,r,n){async function s(a,...l){try{if(a==="event"){const[u,d]=l;await k8(t,e,r,u,d)}else if(a==="config"){const[u,d]=l;await T8(t,e,r,n,u,d)}else if(a==="consent"){const[u,d]=l;t("consent",u,d)}else if(a==="get"){const[u,d,h]=l;t("get",u,d,h)}else if(a==="set"){const[u]=l;t("set",u)}else t(a,...l)}catch(u){ks.error(u)}}return s}function A8(t,e,r,n,s){let a=function(...l){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=N8(a,t,e,r),{gtagCore:a,wrappedGtag:window[s]}}function S8(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(vv)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8=30,j8=1e3;class I8{constructor(e={},r=j8){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Hk=new I8;function P8(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function R8(t){var e;const{appId:r,apiKey:n}=t,s={method:"GET",headers:P8(n)},a=y8.replace("{app-id}",r),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let u="";try{const d=await l.json();!((e=d.error)===null||e===void 0)&&e.message&&(u=d.error.message)}catch{}throw Hs.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function D8(t,e=Hk,r){const{appId:n,apiKey:s,measurementId:a}=t.options;if(!n)throw Hs.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:n};throw Hs.create("no-api-key")}const l=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new L8;return setTimeout(async()=>{u.abort()},x8),Wk({appId:n,apiKey:s,measurementId:a},l,u,e)}async function Wk(t,{throttleEndTimeMillis:e,backoffCount:r},n,s=Hk){var a;const{appId:l,measurementId:u}=t;try{await O8(n,e)}catch(d){if(u)return ks.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:u};throw d}try{const d=await R8(t);return s.deleteThrottleMetadata(l),d}catch(d){const h=d;if(!F8(h)){if(s.deleteThrottleMetadata(l),u)return ks.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw d}const p=Number((a=h?.customData)===null||a===void 0?void 0:a.httpStatus)===503?e_(r,s.intervalMillis,C8):e_(r,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:r+1};return s.setThrottleMetadata(l,g),ks.debug(`Calling attemptFetch again in ${p} millis`),Wk(t,g,n,s)}}function O8(t,e){return new Promise((r,n)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(r,s);t.addEventListener(()=>{clearTimeout(a),n(Hs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function F8(t){if(!(t instanceof da)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class L8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function M8(t,e,r,n,s){if(s&&s.global){t("event",r,n);return}else{const a=await e,l=Object.assign(Object.assign({},n),{send_to:a});t("event",r,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V8(){if(xk())try{await yk()}catch(t){return ks.warn(Hs.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return ks.warn(Hs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $8(t,e,r,n,s,a,l){var u;const d=D8(t);d.then(v=>{r[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&ks.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>ks.error(v)),e.push(d);const h=V8().then(v=>{if(v)return n.getId()}),[p,g]=await Promise.all([d,h]);S8(a)||_8(a,p.measurementId),s("js",new Date);const y=(u=l?.config)!==null&&u!==void 0?u:{};return y[g8]="firebase",y.update=!0,g!=null&&(y[m8]=g),s("config",p.measurementId,y),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e){this.app=e}_delete(){return delete Dd[this.app.options.appId],Promise.resolve()}}let Dd={},d_=[];const h_={};let Ax="dataLayer",U8="gtag",f_,Gk,p_=!1;function z8(){const t=[];if(gk()&&t.push("This is a browser extension environment."),cP()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,s)=>`(${s+1}) ${n}`).join(" "),r=Hs.create("invalid-analytics-context",{errorInfo:e});ks.warn(r.message)}}function H8(t,e,r){z8();const n=t.options.appId;if(!n)throw Hs.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ks.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Hs.create("no-api-key");if(Dd[n]!=null)throw Hs.create("already-exists",{id:n});if(!p_){E8(Ax);const{wrappedGtag:a,gtagCore:l}=A8(Dd,d_,h_,Ax,U8);Gk=a,f_=l,p_=!0}return Dd[n]=$8(t,d_,h_,e,f_,Ax,r),new B8(t)}function W8(t=em()){t=jr(t);const e=Yo(t,tp);return e.isInitialized()?e.getImmediate():G8(t)}function G8(t,e={}){const r=Yo(t,tp);if(r.isInitialized()){const s=r.getImmediate();if(Oo(e,r.getOptions()))return s;throw Hs.create("already-initialized")}return r.initialize({options:e})}function q8(t,e,r,n){t=jr(t),M8(Gk,Dd[t.app.options.appId],e,r,n).catch(s=>ks.error(s))}const m_="@firebase/analytics",g_="0.10.12";function K8(){Da(new ua(tp,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return H8(n,s,r)},"PUBLIC")),Da(new ua("analytics-internal",t,"PRIVATE")),Ts(m_,g_),Ts(m_,g_,"esm2017");function t(e){try{const r=e.getProvider(tp).getImmediate();return{logEvent:(n,s,a)=>q8(r,n,s,a)}}catch(r){throw Hs.create("interop-component-reg-failed",{reason:r})}}}K8();var x_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Po,qk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,A){function j(){}j.prototype=A.prototype,S.D=A.prototype,S.prototype=new j,S.prototype.constructor=S,S.C=function(R,M,L){for(var O=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)O[fe-2]=arguments[fe];return A.prototype[M].apply(R,O)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,A,j){j||(j=0);var R=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)R[M]=A.charCodeAt(j++)|A.charCodeAt(j++)<<8|A.charCodeAt(j++)<<16|A.charCodeAt(j++)<<24;else for(M=0;16>M;++M)R[M]=A[j++]|A[j++]<<8|A[j++]<<16|A[j++]<<24;A=S.g[0],j=S.g[1],M=S.g[2];var L=S.g[3],O=A+(L^j&(M^L))+R[0]+3614090360&4294967295;A=j+(O<<7&4294967295|O>>>25),O=L+(M^A&(j^M))+R[1]+3905402710&4294967295,L=A+(O<<12&4294967295|O>>>20),O=M+(j^L&(A^j))+R[2]+606105819&4294967295,M=L+(O<<17&4294967295|O>>>15),O=j+(A^M&(L^A))+R[3]+3250441966&4294967295,j=M+(O<<22&4294967295|O>>>10),O=A+(L^j&(M^L))+R[4]+4118548399&4294967295,A=j+(O<<7&4294967295|O>>>25),O=L+(M^A&(j^M))+R[5]+1200080426&4294967295,L=A+(O<<12&4294967295|O>>>20),O=M+(j^L&(A^j))+R[6]+2821735955&4294967295,M=L+(O<<17&4294967295|O>>>15),O=j+(A^M&(L^A))+R[7]+4249261313&4294967295,j=M+(O<<22&4294967295|O>>>10),O=A+(L^j&(M^L))+R[8]+1770035416&4294967295,A=j+(O<<7&4294967295|O>>>25),O=L+(M^A&(j^M))+R[9]+2336552879&4294967295,L=A+(O<<12&4294967295|O>>>20),O=M+(j^L&(A^j))+R[10]+4294925233&4294967295,M=L+(O<<17&4294967295|O>>>15),O=j+(A^M&(L^A))+R[11]+2304563134&4294967295,j=M+(O<<22&4294967295|O>>>10),O=A+(L^j&(M^L))+R[12]+1804603682&4294967295,A=j+(O<<7&4294967295|O>>>25),O=L+(M^A&(j^M))+R[13]+4254626195&4294967295,L=A+(O<<12&4294967295|O>>>20),O=M+(j^L&(A^j))+R[14]+2792965006&4294967295,M=L+(O<<17&4294967295|O>>>15),O=j+(A^M&(L^A))+R[15]+1236535329&4294967295,j=M+(O<<22&4294967295|O>>>10),O=A+(M^L&(j^M))+R[1]+4129170786&4294967295,A=j+(O<<5&4294967295|O>>>27),O=L+(j^M&(A^j))+R[6]+3225465664&4294967295,L=A+(O<<9&4294967295|O>>>23),O=M+(A^j&(L^A))+R[11]+643717713&4294967295,M=L+(O<<14&4294967295|O>>>18),O=j+(L^A&(M^L))+R[0]+3921069994&4294967295,j=M+(O<<20&4294967295|O>>>12),O=A+(M^L&(j^M))+R[5]+3593408605&4294967295,A=j+(O<<5&4294967295|O>>>27),O=L+(j^M&(A^j))+R[10]+38016083&4294967295,L=A+(O<<9&4294967295|O>>>23),O=M+(A^j&(L^A))+R[15]+3634488961&4294967295,M=L+(O<<14&4294967295|O>>>18),O=j+(L^A&(M^L))+R[4]+3889429448&4294967295,j=M+(O<<20&4294967295|O>>>12),O=A+(M^L&(j^M))+R[9]+568446438&4294967295,A=j+(O<<5&4294967295|O>>>27),O=L+(j^M&(A^j))+R[14]+3275163606&4294967295,L=A+(O<<9&4294967295|O>>>23),O=M+(A^j&(L^A))+R[3]+4107603335&4294967295,M=L+(O<<14&4294967295|O>>>18),O=j+(L^A&(M^L))+R[8]+1163531501&4294967295,j=M+(O<<20&4294967295|O>>>12),O=A+(M^L&(j^M))+R[13]+2850285829&4294967295,A=j+(O<<5&4294967295|O>>>27),O=L+(j^M&(A^j))+R[2]+4243563512&4294967295,L=A+(O<<9&4294967295|O>>>23),O=M+(A^j&(L^A))+R[7]+1735328473&4294967295,M=L+(O<<14&4294967295|O>>>18),O=j+(L^A&(M^L))+R[12]+2368359562&4294967295,j=M+(O<<20&4294967295|O>>>12),O=A+(j^M^L)+R[5]+4294588738&4294967295,A=j+(O<<4&4294967295|O>>>28),O=L+(A^j^M)+R[8]+2272392833&4294967295,L=A+(O<<11&4294967295|O>>>21),O=M+(L^A^j)+R[11]+1839030562&4294967295,M=L+(O<<16&4294967295|O>>>16),O=j+(M^L^A)+R[14]+4259657740&4294967295,j=M+(O<<23&4294967295|O>>>9),O=A+(j^M^L)+R[1]+2763975236&4294967295,A=j+(O<<4&4294967295|O>>>28),O=L+(A^j^M)+R[4]+1272893353&4294967295,L=A+(O<<11&4294967295|O>>>21),O=M+(L^A^j)+R[7]+4139469664&4294967295,M=L+(O<<16&4294967295|O>>>16),O=j+(M^L^A)+R[10]+3200236656&4294967295,j=M+(O<<23&4294967295|O>>>9),O=A+(j^M^L)+R[13]+681279174&4294967295,A=j+(O<<4&4294967295|O>>>28),O=L+(A^j^M)+R[0]+3936430074&4294967295,L=A+(O<<11&4294967295|O>>>21),O=M+(L^A^j)+R[3]+3572445317&4294967295,M=L+(O<<16&4294967295|O>>>16),O=j+(M^L^A)+R[6]+76029189&4294967295,j=M+(O<<23&4294967295|O>>>9),O=A+(j^M^L)+R[9]+3654602809&4294967295,A=j+(O<<4&4294967295|O>>>28),O=L+(A^j^M)+R[12]+3873151461&4294967295,L=A+(O<<11&4294967295|O>>>21),O=M+(L^A^j)+R[15]+530742520&4294967295,M=L+(O<<16&4294967295|O>>>16),O=j+(M^L^A)+R[2]+3299628645&4294967295,j=M+(O<<23&4294967295|O>>>9),O=A+(M^(j|~L))+R[0]+4096336452&4294967295,A=j+(O<<6&4294967295|O>>>26),O=L+(j^(A|~M))+R[7]+1126891415&4294967295,L=A+(O<<10&4294967295|O>>>22),O=M+(A^(L|~j))+R[14]+2878612391&4294967295,M=L+(O<<15&4294967295|O>>>17),O=j+(L^(M|~A))+R[5]+4237533241&4294967295,j=M+(O<<21&4294967295|O>>>11),O=A+(M^(j|~L))+R[12]+1700485571&4294967295,A=j+(O<<6&4294967295|O>>>26),O=L+(j^(A|~M))+R[3]+2399980690&4294967295,L=A+(O<<10&4294967295|O>>>22),O=M+(A^(L|~j))+R[10]+4293915773&4294967295,M=L+(O<<15&4294967295|O>>>17),O=j+(L^(M|~A))+R[1]+2240044497&4294967295,j=M+(O<<21&4294967295|O>>>11),O=A+(M^(j|~L))+R[8]+1873313359&4294967295,A=j+(O<<6&4294967295|O>>>26),O=L+(j^(A|~M))+R[15]+4264355552&4294967295,L=A+(O<<10&4294967295|O>>>22),O=M+(A^(L|~j))+R[6]+2734768916&4294967295,M=L+(O<<15&4294967295|O>>>17),O=j+(L^(M|~A))+R[13]+1309151649&4294967295,j=M+(O<<21&4294967295|O>>>11),O=A+(M^(j|~L))+R[4]+4149444226&4294967295,A=j+(O<<6&4294967295|O>>>26),O=L+(j^(A|~M))+R[11]+3174756917&4294967295,L=A+(O<<10&4294967295|O>>>22),O=M+(A^(L|~j))+R[2]+718787259&4294967295,M=L+(O<<15&4294967295|O>>>17),O=j+(L^(M|~A))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+L&4294967295}n.prototype.u=function(S,A){A===void 0&&(A=S.length);for(var j=A-this.blockSize,R=this.B,M=this.h,L=0;L<A;){if(M==0)for(;L<=j;)s(this,S,L),L+=this.blockSize;if(typeof S=="string"){for(;L<A;)if(R[M++]=S.charCodeAt(L++),M==this.blockSize){s(this,R),M=0;break}}else for(;L<A;)if(R[M++]=S[L++],M==this.blockSize){s(this,R),M=0;break}}this.h=M,this.o+=A},n.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;var j=8*this.o;for(A=S.length-8;A<S.length;++A)S[A]=j&255,j/=256;for(this.u(S),S=Array(16),A=j=0;4>A;++A)for(var R=0;32>R;R+=8)S[j++]=this.g[A]>>>R&255;return S};function a(S,A){var j=u;return Object.prototype.hasOwnProperty.call(j,S)?j[S]:j[S]=A(S)}function l(S,A){this.h=A;for(var j=[],R=!0,M=S.length-1;0<=M;M--){var L=S[M]|0;R&&L==A||(j[M]=L,R=!1)}this.g=j}var u={};function d(S){return-128<=S&&128>S?a(S,function(A){return new l([A|0],0>A?-1:0)}):new l([S|0],0>S?-1:0)}function h(S){if(isNaN(S)||!isFinite(S))return g;if(0>S)return T(h(-S));for(var A=[],j=1,R=0;S>=j;R++)A[R]=S/j|0,j*=4294967296;return new l(A,0)}function p(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return T(p(S.substring(1),A));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=h(Math.pow(A,8)),R=g,M=0;M<S.length;M+=8){var L=Math.min(8,S.length-M),O=parseInt(S.substring(M,M+L),A);8>L?(L=h(Math.pow(A,L)),R=R.j(L).add(h(O))):(R=R.j(j),R=R.add(h(O)))}return R}var g=d(0),y=d(1),v=d(16777216);t=l.prototype,t.m=function(){if(w(this))return-T(this).m();for(var S=0,A=1,j=0;j<this.g.length;j++){var R=this.i(j);S+=(0<=R?R:4294967296+R)*A,A*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(_(this))return"0";if(w(this))return"-"+T(this).toString(S);for(var A=h(Math.pow(S,6)),j=this,R="";;){var M=F(j,A).g;j=D(j,M.j(A));var L=((0<j.g.length?j.g[0]:j.h)>>>0).toString(S);if(j=M,_(j))return L+R;for(;6>L.length;)L="0"+L;R=L+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function _(S){if(S.h!=0)return!1;for(var A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=D(this,S),w(S)?-1:_(S)?0:1};function T(S){for(var A=S.g.length,j=[],R=0;R<A;R++)j[R]=~S.g[R];return new l(j,~S.h).add(y)}t.abs=function(){return w(this)?T(this):this},t.add=function(S){for(var A=Math.max(this.g.length,S.g.length),j=[],R=0,M=0;M<=A;M++){var L=R+(this.i(M)&65535)+(S.i(M)&65535),O=(L>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);R=O>>>16,L&=65535,O&=65535,j[M]=O<<16|L}return new l(j,j[j.length-1]&-2147483648?-1:0)};function D(S,A){return S.add(T(A))}t.j=function(S){if(_(this)||_(S))return g;if(w(this))return w(S)?T(this).j(T(S)):T(T(this).j(S));if(w(S))return T(this.j(T(S)));if(0>this.l(v)&&0>S.l(v))return h(this.m()*S.m());for(var A=this.g.length+S.g.length,j=[],R=0;R<2*A;R++)j[R]=0;for(R=0;R<this.g.length;R++)for(var M=0;M<S.g.length;M++){var L=this.i(R)>>>16,O=this.i(R)&65535,fe=S.i(M)>>>16,ke=S.i(M)&65535;j[2*R+2*M]+=O*ke,I(j,2*R+2*M),j[2*R+2*M+1]+=L*ke,I(j,2*R+2*M+1),j[2*R+2*M+1]+=O*fe,I(j,2*R+2*M+1),j[2*R+2*M+2]+=L*fe,I(j,2*R+2*M+2)}for(R=0;R<A;R++)j[R]=j[2*R+1]<<16|j[2*R];for(R=A;R<2*A;R++)j[R]=0;return new l(j,0)};function I(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function z(S,A){this.g=S,this.h=A}function F(S,A){if(_(A))throw Error("division by zero");if(_(S))return new z(g,g);if(w(S))return A=F(T(S),A),new z(T(A.g),T(A.h));if(w(A))return A=F(S,T(A)),new z(T(A.g),A.h);if(30<S.g.length){if(w(S)||w(A))throw Error("slowDivide_ only works with positive integers.");for(var j=y,R=A;0>=R.l(S);)j=Y(j),R=Y(R);var M=U(j,1),L=U(R,1);for(R=U(R,2),j=U(j,2);!_(R);){var O=L.add(R);0>=O.l(S)&&(M=M.add(j),L=O),R=U(R,1),j=U(j,1)}return A=D(S,M.j(A)),new z(M,A)}for(M=g;0<=S.l(A);){for(j=Math.max(1,Math.floor(S.m()/A.m())),R=Math.ceil(Math.log(j)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),L=h(j),O=L.j(A);w(O)||0<O.l(S);)j-=R,L=h(j),O=L.j(A);_(L)&&(L=y),M=M.add(L),S=D(S,O)}return new z(M,S)}t.A=function(S){return F(this,S).h},t.and=function(S){for(var A=Math.max(this.g.length,S.g.length),j=[],R=0;R<A;R++)j[R]=this.i(R)&S.i(R);return new l(j,this.h&S.h)},t.or=function(S){for(var A=Math.max(this.g.length,S.g.length),j=[],R=0;R<A;R++)j[R]=this.i(R)|S.i(R);return new l(j,this.h|S.h)},t.xor=function(S){for(var A=Math.max(this.g.length,S.g.length),j=[],R=0;R<A;R++)j[R]=this.i(R)^S.i(R);return new l(j,this.h^S.h)};function Y(S){for(var A=S.g.length+1,j=[],R=0;R<A;R++)j[R]=S.i(R)<<1|S.i(R-1)>>>31;return new l(j,S.h)}function U(S,A){var j=A>>5;A%=32;for(var R=S.g.length-j,M=[],L=0;L<R;L++)M[L]=0<A?S.i(L+j)>>>A|S.i(L+j+1)<<32-A:S.i(L+j);return new l(M,S.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,qk=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Po=l}).apply(typeof x_<"u"?x_:typeof self<"u"?self:typeof window<"u"?window:{});var mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kk,Ad,Yk,Ff,hy,Xk,Qk,Jk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,k,C){return m==Array.prototype||m==Object.prototype||(m[k]=C.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof mf=="object"&&mf];for(var k=0;k<m.length;++k){var C=m[k];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var n=r(this);function s(m,k){if(k)e:{var C=n;m=m.split(".");for(var q=0;q<m.length-1;q++){var pe=m[q];if(!(pe in C))break e;C=C[pe]}m=m[m.length-1],q=C[m],k=k(q),k!=q&&k!=null&&e(C,m,{configurable:!0,writable:!0,value:k})}}function a(m,k){m instanceof String&&(m+="");var C=0,q=!1,pe={next:function(){if(!q&&C<m.length){var Te=C++;return{value:k(Te,m[Te]),done:!1}}return q=!0,{done:!0,value:void 0}}};return pe[Symbol.iterator]=function(){return pe},pe}s("Array.prototype.values",function(m){return m||function(){return a(this,function(k,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(m){var k=typeof m;return k=k!="object"?k:m?Array.isArray(m)?"array":k:"null",k=="array"||k=="object"&&typeof m.length=="number"}function h(m){var k=typeof m;return k=="object"&&m!=null||k=="function"}function p(m,k,C){return m.call.apply(m.bind,arguments)}function g(m,k,C){if(!m)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(pe,q),m.apply(k,pe)}}return function(){return m.apply(k,arguments)}}function y(m,k,C){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function v(m,k){var C=Array.prototype.slice.call(arguments,1);return function(){var q=C.slice();return q.push.apply(q,arguments),m.apply(this,q)}}function _(m,k){function C(){}C.prototype=k.prototype,m.aa=k.prototype,m.prototype=new C,m.prototype.constructor=m,m.Qb=function(q,pe,Te){for(var nt=Array(arguments.length-2),gr=2;gr<arguments.length;gr++)nt[gr-2]=arguments[gr];return k.prototype[pe].apply(q,nt)}}function w(m){const k=m.length;if(0<k){const C=Array(k);for(let q=0;q<k;q++)C[q]=m[q];return C}return[]}function T(m,k){for(let C=1;C<arguments.length;C++){const q=arguments[C];if(d(q)){const pe=m.length||0,Te=q.length||0;m.length=pe+Te;for(let nt=0;nt<Te;nt++)m[pe+nt]=q[nt]}else m.push(q)}}class D{constructor(k,C){this.i=k,this.j=C,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function I(m){return/^[\s\xa0]*$/.test(m)}function z(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function F(m){return F[" "](m),m}F[" "]=function(){};var Y=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function U(m,k,C){for(const q in m)k.call(C,m[q],q,m)}function S(m,k){for(const C in m)k.call(void 0,m[C],C,m)}function A(m){const k={};for(const C in m)k[C]=m[C];return k}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(m,k){let C,q;for(let pe=1;pe<arguments.length;pe++){q=arguments[pe];for(C in q)m[C]=q[C];for(let Te=0;Te<j.length;Te++)C=j[Te],Object.prototype.hasOwnProperty.call(q,C)&&(m[C]=q[C])}}function M(m){var k=1;m=m.split(":");const C=[];for(;0<k&&m.length;)C.push(m.shift()),k--;return m.length&&C.push(m.join(":")),C}function L(m){u.setTimeout(()=>{throw m},0)}function O(){var m=ie;let k=null;return m.g&&(k=m.g,m.g=m.g.next,m.g||(m.h=null),k.next=null),k}class fe{constructor(){this.h=this.g=null}add(k,C){const q=ke.get();q.set(k,C),this.h?this.h.next=q:this.g=q,this.h=q}}var ke=new D(()=>new Ce,m=>m.reset());class Ce{constructor(){this.next=this.g=this.h=null}set(k,C){this.h=k,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,Ee=!1,ie=new fe,de=()=>{const m=u.Promise.resolve(void 0);Re=()=>{m.then(se)}};var se=()=>{for(var m;m=O();){try{m.h.call(m.g)}catch(C){L(C)}var k=ke;k.j(m),100>k.h&&(k.h++,m.next=k.g,k.g=m)}Ee=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(m,k){this.type=m,this.g=this.target=k,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var re=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,k=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};u.addEventListener("test",C,k),u.removeEventListener("test",C,k)}catch{}return m})();function ne(m,k){if(te.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var C=this.type=m.type,q=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=k,k=m.relatedTarget){if(Y){e:{try{F(k.nodeName);var pe=!0;break e}catch{}pe=!1}pe||(k=null)}}else C=="mouseover"?k=m.fromElement:C=="mouseout"&&(k=m.toElement);this.relatedTarget=k,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ee[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ne.aa.h.call(this)}}_(ne,te);var ee={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),Be=0;function je(m,k,C,q,pe){this.listener=m,this.proxy=null,this.src=k,this.type=C,this.capture=!!q,this.ha=pe,this.key=++Be,this.da=this.fa=!1}function Me(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function it(m){this.src=m,this.g={},this.h=0}it.prototype.add=function(m,k,C,q,pe){var Te=m.toString();m=this.g[Te],m||(m=this.g[Te]=[],this.h++);var nt=Wt(m,k,q,pe);return-1<nt?(k=m[nt],C||(k.fa=!1)):(k=new je(k,this.src,Te,!!q,pe),k.fa=C,m.push(k)),k};function yt(m,k){var C=k.type;if(C in m.g){var q=m.g[C],pe=Array.prototype.indexOf.call(q,k,void 0),Te;(Te=0<=pe)&&Array.prototype.splice.call(q,pe,1),Te&&(Me(k),m.g[C].length==0&&(delete m.g[C],m.h--))}}function Wt(m,k,C,q){for(var pe=0;pe<m.length;++pe){var Te=m[pe];if(!Te.da&&Te.listener==k&&Te.capture==!!C&&Te.ha==q)return pe}return-1}var Fe="closure_lm_"+(1e6*Math.random()|0),fr={};function Mt(m,k,C,q,pe){if(Array.isArray(k)){for(var Te=0;Te<k.length;Te++)Mt(m,k[Te],C,q,pe);return null}return C=St(C),m&&m[Le]?m.K(k,C,h(q)?!!q.capture:!1,pe):De(m,k,C,!1,q,pe)}function De(m,k,C,q,pe,Te){if(!k)throw Error("Invalid event type");var nt=h(pe)?!!pe.capture:!!pe,gr=ct(m);if(gr||(m[Fe]=gr=new it(m)),C=gr.add(k,C,q,nt,Te),C.proxy)return C;if(q=pr(),C.proxy=q,q.src=m,q.listener=C,m.addEventListener)re||(pe=nt),pe===void 0&&(pe=!1),m.addEventListener(k.toString(),q,pe);else if(m.attachEvent)m.attachEvent(le(k.toString()),q);else if(m.addListener&&m.removeListener)m.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return C}function pr(){function m(C){return k.call(m.src,m.listener,C)}const k=Xe;return m}function Vt(m,k,C,q,pe){if(Array.isArray(k))for(var Te=0;Te<k.length;Te++)Vt(m,k[Te],C,q,pe);else q=h(q)?!!q.capture:!!q,C=St(C),m&&m[Le]?(m=m.i,k=String(k).toString(),k in m.g&&(Te=m.g[k],C=Wt(Te,C,q,pe),-1<C&&(Me(Te[C]),Array.prototype.splice.call(Te,C,1),Te.length==0&&(delete m.g[k],m.h--)))):m&&(m=ct(m))&&(k=m.g[k.toString()],m=-1,k&&(m=Wt(k,C,q,pe)),(C=-1<m?k[m]:null)&&qt(C))}function qt(m){if(typeof m!="number"&&m&&!m.da){var k=m.src;if(k&&k[Le])yt(k.i,m);else{var C=m.type,q=m.proxy;k.removeEventListener?k.removeEventListener(C,q,m.capture):k.detachEvent?k.detachEvent(le(C),q):k.addListener&&k.removeListener&&k.removeListener(q),(C=ct(k))?(yt(C,m),C.h==0&&(C.src=null,k[Fe]=null)):Me(m)}}}function le(m){return m in fr?fr[m]:fr[m]="on"+m}function Xe(m,k){if(m.da)m=!0;else{k=new ne(k,this);var C=m.listener,q=m.ha||m.src;m.fa&&qt(m),m=C.call(q,k)}return m}function ct(m){return m=m[Fe],m instanceof it?m:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(m){return typeof m=="function"?m:(m[dt]||(m[dt]=function(k){return m.handleEvent(k)}),m[dt])}function wt(){B.call(this),this.i=new it(this),this.M=this,this.F=null}_(wt,B),wt.prototype[Le]=!0,wt.prototype.removeEventListener=function(m,k,C,q){Vt(this,m,k,C,q)};function st(m,k){var C,q=m.F;if(q)for(C=[];q;q=q.F)C.push(q);if(m=m.M,q=k.type||k,typeof k=="string")k=new te(k,m);else if(k instanceof te)k.target=k.target||m;else{var pe=k;k=new te(q,m),R(k,pe)}if(pe=!0,C)for(var Te=C.length-1;0<=Te;Te--){var nt=k.g=C[Te];pe=gt(nt,q,!0,k)&&pe}if(nt=k.g=m,pe=gt(nt,q,!0,k)&&pe,pe=gt(nt,q,!1,k)&&pe,C)for(Te=0;Te<C.length;Te++)nt=k.g=C[Te],pe=gt(nt,q,!1,k)&&pe}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var m=this.i,k;for(k in m.g){for(var C=m.g[k],q=0;q<C.length;q++)Me(C[q]);delete m.g[k],m.h--}}this.F=null},wt.prototype.K=function(m,k,C,q){return this.i.add(String(m),k,!1,C,q)},wt.prototype.L=function(m,k,C,q){return this.i.add(String(m),k,!0,C,q)};function gt(m,k,C,q){if(k=m.i.g[String(k)],!k)return!0;k=k.concat();for(var pe=!0,Te=0;Te<k.length;++Te){var nt=k[Te];if(nt&&!nt.da&&nt.capture==C){var gr=nt.listener,fn=nt.ha||nt.src;nt.fa&&yt(m.i,nt),pe=gr.call(fn,q)!==!1&&pe}}return pe&&!q.defaultPrevented}function ir(m,k,C){if(typeof m=="function")C&&(m=y(m,C));else if(m&&typeof m.handleEvent=="function")m=y(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:u.setTimeout(m,k||0)}function Q(m){m.g=ir(()=>{m.g=null,m.i&&(m.i=!1,Q(m))},m.l);const k=m.h;m.h=null,m.m.apply(null,k)}class Ne extends B{constructor(k,C){super(),this.m=k,this.l=C,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Q(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ft(m){B.call(this),this.h=m,this.g={}}_(ft,B);var we=[];function Ae(m){U(m.g,function(k,C){this.g.hasOwnProperty(C)&&qt(k)},m),m.g={}}ft.prototype.N=function(){ft.aa.N.call(this),Ae(this)},ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ve=u.JSON.stringify,Ze=u.JSON.parse,vt=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function Nt(){}Nt.prototype.h=null;function at(m){return m.h||(m.h=m.i())}function ot(){}var et={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tt(){te.call(this,"d")}_(Tt,te);function Bt(){te.call(this,"c")}_(Bt,te);var Kt={},Ir=null;function $r(){return Ir=Ir||new wt}Kt.La="serverreachability";function dn(m){te.call(this,Kt.La,m)}_(dn,te);function cr(m){const k=$r();st(k,new dn(k))}Kt.STAT_EVENT="statevent";function Wn(m,k){te.call(this,Kt.STAT_EVENT,m),this.stat=k}_(Wn,te);function ur(m){const k=$r();st(k,new Wn(k,m))}Kt.Ma="timingevent";function hn(m,k){te.call(this,Kt.Ma,m),this.size=k}_(hn,te);function Tr(m,k){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},k)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function be(m,k,C,q,pe,Te){m.info(function(){if(m.g)if(Te)for(var nt="",gr=Te.split("&"),fn=0;fn<gr.length;fn++){var Zt=gr[fn].split("=");if(1<Zt.length){var vn=Zt[0];Zt=Zt[1];var nn=vn.split("_");nt=2<=nn.length&&nn[1]=="type"?nt+(vn+"="+Zt+"&"):nt+(vn+"=redacted&")}}else nt=null;else nt=Te;return"XMLHTTP REQ ("+q+") [attempt "+pe+"]: "+k+`
`+C+`
`+nt})}function Se(m,k,C,q,pe,Te,nt){m.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+pe+"]: "+k+`
`+C+`
`+Te+" "+nt})}function P(m,k,C,q){m.info(function(){return"XMLHTTP TEXT ("+k+"): "+W(m,C)+(q?" "+q:"")})}function H(m,k){m.info(function(){return"TIMEOUT: "+k})}yn.prototype.info=function(){};function W(m,k){if(!m.g)return k;if(!k)return null;try{var C=JSON.parse(k);if(C){for(m=0;m<C.length;m++)if(Array.isArray(C[m])){var q=C[m];if(!(2>q.length)){var pe=q[1];if(Array.isArray(pe)&&!(1>pe.length)){var Te=pe[0];if(Te!="noop"&&Te!="stop"&&Te!="close")for(var nt=1;nt<pe.length;nt++)pe[nt]=""}}}}return Ve(C)}catch{return k}}var K={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},J={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},X;function ue(){}_(ue,Nt),ue.prototype.g=function(){return new XMLHttpRequest},ue.prototype.i=function(){return{}},X=new ue;function ge(m,k,C,q){this.j=m,this.i=k,this.l=C,this.R=q||1,this.U=new ft(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new he}function he(){this.i=null,this.g="",this.h=!1}var xe={},ye={};function Ue(m,k,C){m.L=1,m.v=eo(Is(k)),m.m=C,m.P=!0,Je(m,null)}function Je(m,k){m.F=Date.now(),We(m),m.A=Is(m.v);var C=m.A,q=m.R;Array.isArray(q)||(q=[String(q)]),ro(C.i,"t",q),m.C=0,C=m.j.J,m.h=new he,m.g=xh(m.j,C?k:null,!m.m),0<m.O&&(m.M=new Ne(y(m.Y,m,m.g),m.O)),k=m.U,C=m.g,q=m.ca;var pe="readystatechange";Array.isArray(pe)||(pe&&(we[0]=pe.toString()),pe=we);for(var Te=0;Te<pe.length;Te++){var nt=Mt(C,pe[Te],q||k.handleEvent,!1,k.h||k);if(!nt)break;k.g[nt.key]=nt}k=m.H?A(m.H):{},m.m?(m.u||(m.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,k)):(m.u="GET",m.g.ea(m.A,m.u,null,k)),cr(),be(m.i,m.u,m.A,m.l,m.R,m.m)}ge.prototype.ca=function(m){m=m.target;const k=this.M;k&&ps(m)==3?k.j():this.Y(m)},ge.prototype.Y=function(m){try{if(m==this.g)e:{const nn=ps(this.g);var k=this.g.Ba();const Xs=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||qu(this.g)))){this.J||nn!=4||k==7||(k==8||0>=Xs?cr(3):cr(2)),nr(this);var C=this.g.Z();this.X=C;t:if(lt(this)){var q=qu(this.g);m="";var pe=q.length,Te=ps(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sr(this),Jt(this);var nt="";break t}this.h.i=new u.TextDecoder}for(k=0;k<pe;k++)this.h.h=!0,m+=this.h.i.decode(q[k],{stream:!(Te&&k==pe-1)});q.length=0,this.h.g+=m,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=C==200,Se(this.i,this.u,this.A,this.l,this.R,nn,C),this.o){if(this.T&&!this.K){t:{if(this.g){var gr,fn=this.g;if((gr=fn.g?fn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(gr)){var Zt=gr;break t}}Zt=null}if(C=Zt)P(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,js(this,C);else{this.o=!1,this.s=3,ur(12),sr(this),Jt(this);break e}}if(this.P){C=!0;let Rs;for(;!this.J&&this.C<nt.length;)if(Rs=Ke(this,nt),Rs==ye){nn==4&&(this.s=4,ur(14),C=!1),P(this.i,this.l,null,"[Incomplete Response]");break}else if(Rs==xe){this.s=4,ur(15),P(this.i,this.l,nt,"[Invalid Chunk]"),C=!1;break}else P(this.i,this.l,Rs,null),js(this,Rs);if(lt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||nt.length!=0||this.h.h||(this.s=1,ur(16),C=!1),this.o=this.o&&C,!C)P(this.i,this.l,nt,"[Invalid Chunked Response]"),sr(this),Jt(this);else if(0<nt.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Yu(vn),vn.M=!0,ur(11))}}else P(this.i,this.l,nt,null),js(this,nt);nn==4&&sr(this),this.o&&!this.J&&(nn==4?xc(this.j,this):(this.o=!1,We(this)))}else hc(this.g),C==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ur(12)):(this.s=0,ur(13)),sr(this),Jt(this)}}}catch{}finally{}};function lt(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Ke(m,k){var C=m.C,q=k.indexOf(`
`,C);return q==-1?ye:(C=Number(k.substring(C,q)),isNaN(C)?xe:(q+=1,q+C>k.length?ye:(k=k.slice(q,q+C),m.C=q+C,k)))}ge.prototype.cancel=function(){this.J=!0,sr(this)};function We(m){m.S=Date.now()+m.I,Pt(m,m.I)}function Pt(m,k){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Tr(y(m.ba,m),k)}function nr(m){m.B&&(u.clearTimeout(m.B),m.B=null)}ge.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(H(this.i,this.A),this.L!=2&&(cr(),ur(17)),sr(this),this.s=2,Jt(this)):Pt(this,this.S-m)};function Jt(m){m.j.G==0||m.J||xc(m.j,m)}function sr(m){nr(m);var k=m.M;k&&typeof k.ma=="function"&&k.ma(),m.M=null,Ae(m.U),m.g&&(k=m.g,m.g=null,k.abort(),k.ma())}function js(m,k){try{var C=m.j;if(C.G!=0&&(C.g==m||Pr(C.h,m))){if(!m.K&&Pr(C.h,m)&&C.G==3){try{var q=C.Da.g.parse(k)}catch{q=null}if(Array.isArray(q)&&q.length==3){var pe=q;if(pe[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<m.F)gc(C),xa(C);else break e;mc(C),ur(18)}}else C.za=pe[1],0<C.za-C.T&&37500>pe[2]&&C.F&&C.v==0&&!C.C&&(C.C=Tr(y(C.Za,C),6e3));if(1>=Xi(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else vi(C,11)}else if((m.K||C.g==m)&&gc(C),!I(k))for(pe=C.Da.g.parse(k),k=0;k<pe.length;k++){let Zt=pe[k];if(C.T=Zt[0],Zt=Zt[1],C.G==2)if(Zt[0]=="c"){C.K=Zt[1],C.ia=Zt[2];const vn=Zt[3];vn!=null&&(C.la=vn,C.j.info("VER="+C.la));const nn=Zt[4];nn!=null&&(C.Aa=nn,C.j.info("SVER="+C.Aa));const Xs=Zt[5];Xs!=null&&typeof Xs=="number"&&0<Xs&&(q=1.5*Xs,C.L=q,C.j.info("backChannelRequestTimeoutMs_="+q)),q=C;const Rs=m.g;if(Rs){const il=Rs.g?Rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(il){var Te=q.h;Te.g||il.indexOf("spdy")==-1&&il.indexOf("quic")==-1&&il.indexOf("h2")==-1||(Te.j=Te.l,Te.g=new Set,Te.h&&(zu(Te,Te.h),Te.h=null))}if(q.D){const vc=Rs.g?Rs.g.getResponseHeader("X-HTTP-Session-Id"):null;vc&&(q.ya=vc,Ar(q.I,q.D,vc))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-m.F,C.j.info("Handshake RTT: "+C.R+"ms")),q=C;var nt=m;if(q.qa=gh(q,q.J?q.ia:null,q.W),nt.K){sh(q.h,nt);var gr=nt,fn=q.L;fn&&(gr.I=fn),gr.B&&(nr(gr),We(gr)),q.g=nt}else al(q);0<C.i.length&&za(C)}else Zt[0]!="stop"&&Zt[0]!="close"||vi(C,7);else C.G==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?vi(C,7):jn(C):Zt[0]!="noop"&&C.l&&C.l.ta(Zt),C.v=0)}}cr(4)}catch{}}var Ks=class{constructor(m,k){this.g=m,this.map=k}};function ns(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Br(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Xi(m){return m.h?1:m.g?m.g.size:0}function Pr(m,k){return m.h?m.h==k:m.g?m.g.has(k):!1}function zu(m,k){m.g?m.g.add(k):m.h=k}function sh(m,k){m.h&&m.h==k?m.h=null:m.g&&m.g.has(k)&&m.g.delete(k)}ns.prototype.cancel=function(){if(this.i=ah(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function ah(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let k=m.i;for(const C of m.g.values())k=k.concat(C.D);return k}return w(m.i)}function oc(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(d(m)){for(var k=[],C=m.length,q=0;q<C;q++)k.push(m[q]);return k}k=[],C=0;for(q in m)k[C++]=m[q];return k}function lc(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(d(m)||typeof m=="string"){var k=[];m=m.length;for(var C=0;C<m;C++)k.push(C);return k}k=[],C=0;for(const q in m)k[C++]=q;return k}}}function Qi(m,k){if(m.forEach&&typeof m.forEach=="function")m.forEach(k,void 0);else if(d(m)||typeof m=="string")Array.prototype.forEach.call(m,k,void 0);else for(var C=lc(m),q=oc(m),pe=q.length,Te=0;Te<pe;Te++)k.call(void 0,q[Te],C&&C[Te],m)}var tl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zm(m,k){if(m){m=m.split("&");for(var C=0;C<m.length;C++){var q=m[C].indexOf("="),pe=null;if(0<=q){var Te=m[C].substring(0,q);pe=m[C].substring(q+1)}else Te=m[C];k(Te,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function mi(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof mi){this.h=m.h,rl(this,m.j),this.o=m.o,this.g=m.g,Ji(this,m.s),this.l=m.l;var k=m.i,C=new $a;C.i=k.i,k.g&&(C.g=new Map(k.g),C.h=k.h),Zi(this,C),this.m=m.m}else m&&(k=String(m).match(tl))?(this.h=!1,rl(this,k[1]||"",!0),this.o=Qt(k[2]||""),this.g=Qt(k[3]||"",!0),Ji(this,k[4]),this.l=Qt(k[5]||"",!0),Zi(this,k[6]||"",!0),this.m=Qt(k[7]||"")):(this.h=!1,this.i=new $a(null,this.h))}mi.prototype.toString=function(){var m=[],k=this.j;k&&m.push(to(k,cc,!0),":");var C=this.g;return(C||k=="file")&&(m.push("//"),(k=this.o)&&m.push(to(k,cc,!0),"@"),m.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&m.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(to(C,C.charAt(0)=="/"?lh:oh,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",to(C,Hu)),m.join("")};function Is(m){return new mi(m)}function rl(m,k,C){m.j=C?Qt(k,!0):k,m.j&&(m.j=m.j.replace(/:$/,""))}function Ji(m,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);m.s=k}else m.s=null}function Zi(m,k,C){k instanceof $a?(m.i=k,Ba(m.i,m.h)):(C||(k=to(k,ch)),m.i=new $a(k,m.h))}function Ar(m,k,C){m.i.set(k,C)}function eo(m){return Ar(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Qt(m,k){return m?k?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function to(m,k,C){return typeof m=="string"?(m=encodeURI(m).replace(k,ih),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function ih(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var cc=/[#\/\?@]/g,oh=/[#\?:]/g,lh=/[#\?]/g,ch=/[#\?@]/g,Hu=/#/g;function $a(m,k){this.h=this.g=null,this.i=m||null,this.j=!!k}function Cn(m){m.g||(m.g=new Map,m.h=0,m.i&&zm(m.i,function(k,C){m.add(decodeURIComponent(k.replace(/\+/g," ")),C)}))}t=$a.prototype,t.add=function(m,k){Cn(this),this.i=null,m=Ys(this,m);var C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(k),this.h+=1,this};function fa(m,k){Cn(m),k=Ys(m,k),m.g.has(k)&&(m.i=null,m.h-=m.g.get(k).length,m.g.delete(k))}function pa(m,k){return Cn(m),k=Ys(m,k),m.g.has(k)}t.forEach=function(m,k){Cn(this),this.g.forEach(function(C,q){C.forEach(function(pe){m.call(k,pe,q,this)},this)},this)},t.na=function(){Cn(this);const m=Array.from(this.g.values()),k=Array.from(this.g.keys()),C=[];for(let q=0;q<k.length;q++){const pe=m[q];for(let Te=0;Te<pe.length;Te++)C.push(k[q])}return C},t.V=function(m){Cn(this);let k=[];if(typeof m=="string")pa(this,m)&&(k=k.concat(this.g.get(Ys(this,m))));else{m=Array.from(this.g.values());for(let C=0;C<m.length;C++)k=k.concat(m[C])}return k},t.set=function(m,k){return Cn(this),this.i=null,m=Ys(this,m),pa(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[k]),this.h+=1,this},t.get=function(m,k){return m?(m=this.V(m),0<m.length?String(m[0]):k):k};function ro(m,k,C){fa(m,k),0<C.length&&(m.i=null,m.g.set(Ys(m,k),w(C)),m.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],k=Array.from(this.g.keys());for(var C=0;C<k.length;C++){var q=k[C];const Te=encodeURIComponent(String(q)),nt=this.V(q);for(q=0;q<nt.length;q++){var pe=Te;nt[q]!==""&&(pe+="="+encodeURIComponent(String(nt[q]))),m.push(pe)}}return this.i=m.join("&")};function Ys(m,k){return k=String(k),m.j&&(k=k.toLowerCase()),k}function Ba(m,k){k&&!m.j&&(Cn(m),m.i=null,m.g.forEach(function(C,q){var pe=q.toLowerCase();q!=pe&&(fa(this,q),ro(this,pe,C))},m)),m.j=k}function Hm(m,k){const C=new yn;if(u.Image){const q=new Image;q.onload=v(fs,C,"TestLoadImage: loaded",!0,k,q),q.onerror=v(fs,C,"TestLoadImage: error",!1,k,q),q.onabort=v(fs,C,"TestLoadImage: abort",!1,k,q),q.ontimeout=v(fs,C,"TestLoadImage: timeout",!1,k,q),u.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=m}else k(!1)}function uh(m,k){const C=new yn,q=new AbortController,pe=setTimeout(()=>{q.abort(),fs(C,"TestPingServer: timeout",!1,k)},1e4);fetch(m,{signal:q.signal}).then(Te=>{clearTimeout(pe),Te.ok?fs(C,"TestPingServer: ok",!0,k):fs(C,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(pe),fs(C,"TestPingServer: error",!1,k)})}function fs(m,k,C,q,pe){try{pe&&(pe.onload=null,pe.onerror=null,pe.onabort=null,pe.ontimeout=null),q(C)}catch{}}function Wm(){this.g=new vt}function dh(m,k,C){const q=C||"";try{Qi(m,function(pe,Te){let nt=pe;h(pe)&&(nt=Ve(pe)),k.push(q+Te+"="+encodeURIComponent(nt))})}catch(pe){throw k.push(q+"type="+encodeURIComponent("_badmap")),pe}}function gi(m){this.l=m.Ub||null,this.j=m.eb||!1}_(gi,Nt),gi.prototype.g=function(){return new nl(this.l,this.j)},gi.prototype.i=(function(m){return function(){return m}})({});function nl(m,k){wt.call(this),this.D=m,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(nl,wt),t=nl.prototype,t.open=function(m,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=k,this.readyState=1,ga(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(k.body=m),(this.D||u).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ma(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ga(this)),this.g&&(this.readyState=3,ga(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hh(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function hh(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var k=m.value?m.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!m.done}))&&(this.response=this.responseText+=k)}m.done?ma(this):ga(this),this.readyState==3&&hh(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,ma(this))},t.Qa=function(m){this.g&&(this.response=m,ma(this))},t.ga=function(){this.g&&ma(this)};function ma(m){m.readyState=4,m.l=null,m.j=null,m.v=null,ga(m)}t.setRequestHeader=function(m,k){this.u.append(m,k)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],k=this.h.entries();for(var C=k.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=k.next();return m.join(`\r
`)};function ga(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(nl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function xi(m){let k="";return U(m,function(C,q){k+=q,k+=":",k+=C,k+=`\r
`}),k}function no(m,k,C){e:{for(q in C){var q=!1;break e}q=!0}q||(C=xi(C),typeof m=="string"?C!=null&&encodeURIComponent(String(C)):Ar(m,k,C))}function Fr(m){wt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Fr,wt);var Gm=/^https?$/i,Wu=["POST","PUT"];t=Fr.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,k,C,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);k=k?k.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():X.g(),this.v=this.o?at(this.o):at(X),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(k,String(m),!0),this.B=!1}catch(Te){sl(this,Te);return}if(m=C||"",C=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var pe in q)C.set(pe,q[pe]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const Te of q.keys())C.set(Te,q.get(Te));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(C.keys()).find(Te=>Te.toLowerCase()=="content-type"),pe=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Wu,k,void 0))||q||pe||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Te,nt]of C)this.g.setRequestHeader(Te,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dc(this),this.u=!0,this.g.send(m),this.u=!1}catch(Te){sl(this,Te)}};function sl(m,k){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=k,m.m=5,uc(m),Ps(m)}function uc(m){m.A||(m.A=!0,st(m,"complete"),st(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,st(this,"complete"),st(this,"abort"),Ps(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ps(this,!0)),Fr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gu(this):this.bb())},t.bb=function(){Gu(this)};function Gu(m){if(m.h&&typeof l<"u"&&(!m.v[1]||ps(m)!=4||m.Z()!=2)){if(m.u&&ps(m)==4)ir(m.Ea,0,m);else if(st(m,"readystatechange"),ps(m)==4){m.h=!1;try{const nt=m.Z();e:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var C;if(!(C=k)){var q;if(q=nt===0){var pe=String(m.D).match(tl)[1]||null;!pe&&u.self&&u.self.location&&(pe=u.self.location.protocol.slice(0,-1)),q=!Gm.test(pe?pe.toLowerCase():"")}C=q}if(C)st(m,"complete"),st(m,"success");else{m.m=6;try{var Te=2<ps(m)?m.g.statusText:""}catch{Te=""}m.l=Te+" ["+m.Z()+"]",uc(m)}}finally{Ps(m)}}}}function Ps(m,k){if(m.g){dc(m);const C=m.g,q=m.v[0]?()=>{}:null;m.g=null,m.v=null,k||st(m,"ready");try{C.onreadystatechange=q}catch{}}}function dc(m){m.I&&(u.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function ps(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<ps(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var k=this.g.responseText;return m&&k.indexOf(m)==0&&(k=k.substring(m.length)),Ze(k)}};function qu(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function hc(m){const k={};m=(m.g&&2<=ps(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<m.length;q++){if(I(m[q]))continue;var C=M(m[q]);const pe=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const Te=k[pe]||[];k[pe]=Te,Te.push(C)}S(k,function(q){return q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(m,k,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||k}function Ku(m){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,m),this.cb=Ua("retryDelaySeedMs",1e4,m),this.Wa=Ua("forwardChannelMaxRetries",2,m),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ns(m&&m.concurrentRequestLimit),this.Da=new Wm,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ku.prototype,t.la=8,t.G=1,t.connect=function(m,k,C,q){ur(0),this.W=m,this.H=k||{},C&&q!==void 0&&(this.H.OSID=C,this.H.OAID=q),this.F=this.X,this.I=gh(this,null,this.W),za(this)};function jn(m){if(fc(m),m.G==3){var k=m.U++,C=Is(m.I);if(Ar(C,"SID",m.K),Ar(C,"RID",k),Ar(C,"TYPE","terminate"),yi(m,C),k=new ge(m,m.j,k),k.L=2,k.v=eo(Is(C)),C=!1,u.navigator&&u.navigator.sendBeacon)try{C=u.navigator.sendBeacon(k.v.toString(),"")}catch{}!C&&u.Image&&(new Image().src=k.v,C=!0),C||(k.g=xh(k.j,null),k.g.ea(k.v)),k.F=Date.now(),We(k)}mh(m)}function xa(m){m.g&&(Yu(m),m.g.cancel(),m.g=null)}function fc(m){xa(m),m.u&&(u.clearTimeout(m.u),m.u=null),gc(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function za(m){if(!Br(m.h)&&!m.s){m.s=!0;var k=m.Ga;Re||de(),Ee||(Re(),Ee=!0),ie.add(k,m),m.B=0}}function qm(m,k){return Xi(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=k.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Tr(y(m.Ga,m,k),ph(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const pe=new ge(this,this.j,m);let Te=this.o;if(this.S&&(Te?(Te=A(Te),R(Te,this.S)):Te=this.S),this.m!==null||this.O||(pe.H=Te,Te=null),this.P)e:{for(var k=0,C=0;C<this.i.length;C++){t:{var q=this.i[C];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(k+=q,4096<k){k=C;break e}if(k===4096||C===this.i.length-1){k=C+1;break e}}k=1e3}else k=1e3;k=so(this,pe,k),C=Is(this.I),Ar(C,"RID",m),Ar(C,"CVER",22),this.D&&Ar(C,"X-HTTP-Session-Id",this.D),yi(this,C),Te&&(this.O?k="headers="+encodeURIComponent(String(xi(Te)))+"&"+k:this.m&&no(C,this.m,Te)),zu(this.h,pe),this.Ua&&Ar(C,"TYPE","init"),this.P?(Ar(C,"$req",k),Ar(C,"SID","null"),pe.T=!0,Ue(pe,C,null)):Ue(pe,C,k),this.G=2}}else this.G==3&&(m?pc(this,m):this.i.length==0||Br(this.h)||pc(this))};function pc(m,k){var C;k?C=k.l:C=m.U++;const q=Is(m.I);Ar(q,"SID",m.K),Ar(q,"RID",C),Ar(q,"AID",m.T),yi(m,q),m.m&&m.o&&no(q,m.m,m.o),C=new ge(m,m.j,C,m.B+1),m.m===null&&(C.H=m.o),k&&(m.i=k.D.concat(m.i)),k=so(m,C,1e3),C.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),zu(m.h,C),Ue(C,q,k)}function yi(m,k){m.H&&U(m.H,function(C,q){Ar(k,q,C)}),m.l&&Qi({},function(C,q){Ar(k,q,C)})}function so(m,k,C){C=Math.min(m.i.length,C);var q=m.l?y(m.l.Na,m.l,m):null;e:{var pe=m.i;let Te=-1;for(;;){const nt=["count="+C];Te==-1?0<C?(Te=pe[0].g,nt.push("ofs="+Te)):Te=0:nt.push("ofs="+Te);let gr=!0;for(let fn=0;fn<C;fn++){let Zt=pe[fn].g;const vn=pe[fn].map;if(Zt-=Te,0>Zt)Te=Math.max(0,pe[fn].g-100),gr=!1;else try{dh(vn,nt,"req"+Zt+"_")}catch{q&&q(vn)}}if(gr){q=nt.join("&");break e}}}return m=m.i.splice(0,C),k.D=m,q}function al(m){if(!m.g&&!m.u){m.Y=1;var k=m.Fa;Re||de(),Ee||(Re(),Ee=!0),ie.add(k,m),m.v=0}}function mc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Tr(y(m.Fa,m),ph(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,fh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Tr(y(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ur(10),xa(this),fh(this))};function Yu(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function fh(m){m.g=new ge(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var k=Is(m.qa);Ar(k,"RID","rpc"),Ar(k,"SID",m.K),Ar(k,"AID",m.T),Ar(k,"CI",m.F?"0":"1"),!m.F&&m.ja&&Ar(k,"TO",m.ja),Ar(k,"TYPE","xmlhttp"),yi(m,k),m.m&&m.o&&no(k,m.m,m.o),m.L&&(m.g.I=m.L);var C=m.g;m=m.ia,C.L=1,C.v=eo(Is(k)),C.m=null,C.P=!0,Je(C,m)}t.Za=function(){this.C!=null&&(this.C=null,xa(this),mc(this),ur(19))};function gc(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function xc(m,k){var C=null;if(m.g==k){gc(m),Yu(m),m.g=null;var q=2}else if(Pr(m.h,k))C=k.D,sh(m.h,k),q=1;else return;if(m.G!=0){if(k.o)if(q==1){C=k.m?k.m.length:0,k=Date.now()-k.F;var pe=m.B;q=$r(),st(q,new hn(q,C)),za(m)}else al(m);else if(pe=k.s,pe==3||pe==0&&0<k.X||!(q==1&&qm(m,k)||q==2&&mc(m)))switch(C&&0<C.length&&(k=m.h,k.i=k.i.concat(C)),pe){case 1:vi(m,5);break;case 4:vi(m,10);break;case 3:vi(m,6);break;default:vi(m,2)}}}function ph(m,k){let C=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(C*=2),C*k}function vi(m,k){if(m.j.info("Error code "+k),k==2){var C=y(m.fb,m),q=m.Xa;const pe=!q;q=new mi(q||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||rl(q,"https"),eo(q),pe?Hm(q.toString(),C):uh(q.toString(),C)}else ur(2);m.G=0,m.l&&m.l.sa(k),mh(m),fc(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ur(2)):(this.j.info("Failed to ping google.com"),ur(1))};function mh(m){if(m.G=0,m.ka=[],m.l){const k=ah(m.h);(k.length!=0||m.i.length!=0)&&(T(m.ka,k),T(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function gh(m,k,C){var q=C instanceof mi?Is(C):new mi(C);if(q.g!="")k&&(q.g=k+"."+q.g),Ji(q,q.s);else{var pe=u.location;q=pe.protocol,k=k?k+"."+pe.hostname:pe.hostname,pe=+pe.port;var Te=new mi(null);q&&rl(Te,q),k&&(Te.g=k),pe&&Ji(Te,pe),C&&(Te.l=C),q=Te}return C=m.D,k=m.ya,C&&k&&Ar(q,C,k),Ar(q,"VER",m.la),yi(m,q),q}function xh(m,k,C){if(k&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=m.Ca&&!m.pa?new Fr(new gi({eb:C})):new Fr(m.pa),k.Ha(m.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}t=Xu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yc(){}yc.prototype.g=function(m,k){return new ss(m,k)};function ss(m,k){wt.call(this),this.g=new Ku(k),this.l=m,this.h=k&&k.messageUrlParams||null,m=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(m?m["X-WebChannel-Content-Type"]=k.messageContentType:m={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(m?m["X-WebChannel-Client-Profile"]=k.va:m={"X-WebChannel-Client-Profile":k.va}),this.g.S=m,(m=k&&k.Sb)&&!I(m)&&(this.g.m=m),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!I(k)&&(this.g.D=k,m=this.h,m!==null&&k in m&&(m=this.h,k in m&&delete m[k])),this.j=new Ha(this)}_(ss,wt),ss.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ss.prototype.close=function(){jn(this.g)},ss.prototype.o=function(m){var k=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.u&&(C={},C.__data__=Ve(m),m=C);k.i.push(new Ks(k.Ya++,m)),k.G==3&&za(k)},ss.prototype.N=function(){this.g.l=null,delete this.j,jn(this.g),delete this.g,ss.aa.N.call(this)};function yh(m){Tt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var k=m.__sm__;if(k){e:{for(const C in k){m=C;break e}m=void 0}(this.i=m)&&(m=this.i,k=k!==null&&m in k?k[m]:void 0),this.data=k}else this.data=m}_(yh,Tt);function vh(){Bt.call(this),this.status=1}_(vh,Bt);function Ha(m){this.g=m}_(Ha,Xu),Ha.prototype.ua=function(){st(this.g,"a")},Ha.prototype.ta=function(m){st(this.g,new yh(m))},Ha.prototype.sa=function(m){st(this.g,new vh)},Ha.prototype.ra=function(){st(this.g,"b")},yc.prototype.createWebChannel=yc.prototype.g,ss.prototype.send=ss.prototype.o,ss.prototype.open=ss.prototype.m,ss.prototype.close=ss.prototype.close,Jk=function(){return new yc},Qk=function(){return $r()},Xk=Kt,hy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},K.NO_ERROR=0,K.TIMEOUT=8,K.HTTP_ERROR=6,Ff=K,J.COMPLETE="complete",Yk=J,ot.EventType=et,et.OPEN="a",et.CLOSE="b",et.ERROR="c",et.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Ad=ot,Fr.prototype.listenOnce=Fr.prototype.L,Fr.prototype.getLastError=Fr.prototype.Ka,Fr.prototype.getLastErrorCode=Fr.prototype.Ba,Fr.prototype.getStatus=Fr.prototype.Z,Fr.prototype.getResponseJson=Fr.prototype.Oa,Fr.prototype.getResponseText=Fr.prototype.oa,Fr.prototype.send=Fr.prototype.ea,Fr.prototype.setWithCredentials=Fr.prototype.Ha,Kk=Fr}).apply(typeof mf<"u"?mf:typeof self<"u"?self:typeof window<"u"?window:{});const y_="@firebase/firestore",v_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=new Zp("@firebase/firestore");function zc(){return Pl.logLevel}function mt(t,...e){if(Pl.logLevel<=Yt.DEBUG){const r=e.map(bv);Pl.debug(`Firestore (${ju}): ${t}`,...r)}}function $i(t,...e){if(Pl.logLevel<=Yt.ERROR){const r=e.map(bv);Pl.error(`Firestore (${ju}): ${t}`,...r)}}function uu(t,...e){if(Pl.logLevel<=Yt.WARN){const r=e.map(bv);Pl.warn(`Firestore (${ju}): ${t}`,...r)}}function bv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t="Unexpected state"){const e=`FIRESTORE (${ju}) INTERNAL ASSERTION FAILED: `+t;throw $i(e),new Error(e)}function rr(t,e){t||It()}function Lt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends da{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Y8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Jn.UNAUTHENTICATED)))}shutdown(){}}class X8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Q8{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){rr(this.o===void 0);let n=this.i;const s=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let a=new Ja;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ja,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},u=d=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ja)}}),0),l()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(rr(typeof n.accessToken=="string"),new Zk(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rr(e===null||typeof e=="string"),new Jn(e)}}class J8{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Z8{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new J8(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable((()=>r(Jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class b_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eD{constructor(e,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Bs(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,r){rr(this.o===void 0);const n=a=>{a.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,mt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const s=a=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new b_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(rr(typeof r.token=="string"),this.R=r.token,new b_(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=tD(40);for(let a=0;a<s.length;++a)n.length<20&&s[a]<r&&(n+=e.charAt(s[a]%62))}return n}}function Ht(t,e){return t<e?-1:t>e?1:0}function fy(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),s=e.codePointAt(r);if(n!==s){if(n<128&&s<128)return Ht(n,s);{const a=eN(),l=rD(a.encode(w_(t,r)),a.encode(w_(e,r)));return l!==0?l:Ht(n,s)}}r+=n>65535?2:1}return Ht(t.length,e.length)}function w_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function rD(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Ht(t[r],e[r]);return Ht(t.length,e.length)}function du(t,e,r){return t.length===e.length&&t.every(((n,s)=>r(n,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=-62135596800,E_=1e6;class Nr{static now(){return Nr.fromMillis(Date.now())}static fromDate(e){return Nr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*E_);return new Nr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ht(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ht(Oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<__)throw new ht(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ht(Oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E_}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-__;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new Nr(0,0))}static max(){return new Rt(new Nr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="__name__";class Qa{constructor(e,r,n){r===void 0?r=0:r>e.length&&It(),n===void 0?n=e.length-r:n>e.length-r&&It(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Qa.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Qa?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const a=Qa.compareSegments(e.get(s),r.get(s));if(a!==0)return a}return Ht(e.length,r.length)}static compareSegments(e,r){const n=Qa.isNumericId(e),s=Qa.isNumericId(r);return n&&!s?-1:!n&&s?1:n&&s?Qa.extractNumericId(e).compare(Qa.extractNumericId(r)):fy(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Po.fromString(e.substring(4,e.length-2))}}class Sr extends Qa{construct(e,r,n){return new Sr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ht(Oe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((s=>s.length>0)))}return new Sr(r)}static emptyPath(){return new Sr([])}}const nD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends Qa{construct(e,r,n){return new Ln(e,r,n)}static isValidIdentifier(e){return nD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T_}static keyField(){return new Ln([T_])}static fromServerFormat(e){const r=[];let n="",s=0;const a=()=>{if(n.length===0)throw new ht(Oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ht(Oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ht(Oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(n+=u,s++):(a(),s++)}if(a(),l)throw new ht(Oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ln(r)}static emptyPath(){return new Ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.path=e}static fromPath(e){return new At(Sr.fromString(e))}static fromName(e){return new At(Sr.fromString(e).popFirst(5))}static empty(){return new At(Sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Sr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Sr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new At(new Sr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=-1;function sD(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=Rt.fromTimestamp(n===1e9?new Nr(r+1,0):new Nr(r,n));return new Fo(s,At.empty(),e)}function aD(t){return new Fo(t.readTime,t.key,e0)}class Fo{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Fo(Rt.min(),At.empty(),e0)}static max(){return new Fo(Rt.max(),At.empty(),e0)}}function iD(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=At.comparator(t.documentKey,e.documentKey),r!==0?r:Ht(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(t){if(t.code!==Oe.FAILED_PRECONDITION||t.message!==oD)throw t;mt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&It(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new $e(((n,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,s)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,s)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof $e?r:$e.resolve(r)}catch(r){return $e.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):$e.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):$e.reject(r)}static resolve(e){return new $e(((r,n)=>{r(e)}))}static reject(e){return new $e(((r,n)=>{n(e)}))}static waitFor(e){return new $e(((r,n)=>{let s=0,a=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++a,l&&a===s&&r()}),(d=>n(d)))})),l=!0,a===s&&r()}))}static or(e){let r=$e.resolve(!1);for(const n of e)r=r.next((s=>s?$e.resolve(s):n()));return r}static forEach(e,r){const n=[];return e.forEach(((s,a)=>{n.push(r.call(this,s,a))})),this.waitFor(n)}static mapArray(e,r){return new $e(((n,s)=>{const a=e.length,l=new Array(a);let u=0;for(let d=0;d<a;d++){const h=d;r(e[h]).next((p=>{l[h]=p,++u,u===a&&n(l)}),(p=>s(p)))}}))}static doWhile(e,r){return new $e(((n,s)=>{const a=()=>{e()===!0?r().next((()=>{a()}),s):n()};a()}))}}function cD(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Pu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.oe(n),this._e=n=>r.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}nm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=-1;function j0(t){return t==null}function rp(t){return t===0&&1/t==-1/0}function uD(t){return typeof t=="number"&&Number.isInteger(t)&&!rp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="";function dD(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=k_(e)),e=hD(t.get(r),e);return k_(e)}function hD(t,e){let r=e;const n=t.length;for(let s=0;s<n;s++){const a=t.charAt(s);switch(a){case"\0":r+="";break;case rN:r+="";break;default:r+=a}}return r}function k_(t){return t+rN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Xo(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function nN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,r){this.comparator=e,this.root=r||Fn.EMPTY}insert(e,r){return new qr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gf(this.root,e,this.comparator,!0)}}class gf{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fn{constructor(e,r,n,s,a){this.key=e,this.value=r,this.color=n??Fn.RED,this.left=s??Fn.EMPTY,this.right=a??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,a){return new Fn(e??this.key,r??this.value,n??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const a=n(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,r,n),null):a===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return Fn.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw It();const e=this.left.check();if(e!==this.right.check())throw It();return e+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw It()}get value(){throw It()}get color(){throw It()}get left(){throw It()}get right(){throw It()}copy(e,r,n,s,a){return this}insert(e,r,n){return new Fn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.comparator=e,this.data=new qr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new A_(this.data.getIterator())}getIteratorFrom(e){return new A_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,a=n.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new xn(this.comparator);return r.data=e,r}}class A_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.fields=e,e.sort(Ln.comparator)}static empty(){return new Us([])}unionWith(e){let r=new xn(Ln.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Us(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return du(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new sN("Invalid base64 string: "+a):a}})(e);return new zn(r)}static fromUint8Array(e){const r=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new zn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zn.EMPTY_BYTE_STRING=new zn("");const fD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lo(t){if(rr(!!t),typeof t=="string"){let e=0;const r=fD.exec(t);if(rr(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:en(t.seconds),nanos:en(t.nanos)}}function en(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mo(t){return typeof t=="string"?zn.fromBase64String(t):zn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="server_timestamp",iN="__type__",oN="__previous_value__",lN="__local_write_time__";function _v(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[iN])===null||r===void 0?void 0:r.stringValue)===aN}function sm(t){const e=t.mapValue.fields[oN];return _v(e)?sm(e):e}function t0(t){const e=Lo(t.mapValue.fields[lN].timestampValue);return new Nr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,r,n,s,a,l,u,d,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h}}const np="(default)";class r0{constructor(e,r){this.projectId=e,this.database=r||np}static empty(){return new r0("","")}get isDefaultDatabase(){return this.database===np}isEqual(e){return e instanceof r0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="__type__",mD="__max__",xf={mapValue:{}},uN="__vector__",sp="value";function Vo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_v(t)?4:xD(t)?9007199254740991:gD(t)?10:11:It()}function li(t,e){if(t===e)return!0;const r=Vo(t);if(r!==Vo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return t0(t).isEqual(t0(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Lo(s.timestampValue),u=Lo(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return Mo(s.bytesValue).isEqual(Mo(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return en(s.geoPointValue.latitude)===en(a.geoPointValue.latitude)&&en(s.geoPointValue.longitude)===en(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return en(s.integerValue)===en(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=en(s.doubleValue),u=en(a.doubleValue);return l===u?rp(l)===rp(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return du(t.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if(N_(l)!==N_(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!li(l[d],u[d])))return!1;return!0})(t,e);default:return It()}}function n0(t,e){return(t.values||[]).find((r=>li(r,e)))!==void 0}function hu(t,e){if(t===e)return 0;const r=Vo(t),n=Vo(e);if(r!==n)return Ht(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ht(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=en(a.integerValue||a.doubleValue),d=en(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return S_(t.timestampValue,e.timestampValue);case 4:return S_(t0(t),t0(e));case 5:return fy(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=Mo(a),d=Mo(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const p=Ht(u[h],d[h]);if(p!==0)return p}return Ht(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=Ht(en(a.latitude),en(l.latitude));return u!==0?u:Ht(en(a.longitude),en(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return C_(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var u,d,h,p;const g=a.fields||{},y=l.fields||{},v=(u=g[sp])===null||u===void 0?void 0:u.arrayValue,_=(d=y[sp])===null||d===void 0?void 0:d.arrayValue,w=Ht(((h=v?.values)===null||h===void 0?void 0:h.length)||0,((p=_?.values)===null||p===void 0?void 0:p.length)||0);return w!==0?w:C_(v,_)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===xf.mapValue&&l===xf.mapValue)return 0;if(a===xf.mapValue)return 1;if(l===xf.mapValue)return-1;const u=a.fields||{},d=Object.keys(u),h=l.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const y=fy(d[g],p[g]);if(y!==0)return y;const v=hu(u[d[g]],h[p[g]]);if(v!==0)return v}return Ht(d.length,p.length)})(t.mapValue,e.mapValue);default:throw It()}}function S_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ht(t,e);const r=Lo(t),n=Lo(e),s=Ht(r.seconds,n.seconds);return s!==0?s:Ht(r.nanos,n.nanos)}function C_(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const a=hu(r[s],n[s]);if(a)return a}return Ht(r.length,n.length)}function fu(t){return py(t)}function py(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Lo(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Mo(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return At.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",s=!0;for(const a of r.values||[])s?s=!1:n+=",",n+=py(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let s="{",a=!0;for(const l of n)a?a=!1:s+=",",s+=`${l}:${py(r.fields[l])}`;return s+"}"})(t.mapValue):It()}function Lf(t){switch(Vo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sm(t);return e?16+Lf(e):16;case 5:return 2*t.stringValue.length;case 6:return Mo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((s,a)=>s+Lf(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let s=0;return Xo(n.fields,((a,l)=>{s+=a.length+Lf(l)})),s})(t.mapValue);default:throw It()}}function j_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function my(t){return!!t&&"integerValue"in t}function Ev(t){return!!t&&"arrayValue"in t}function I_(t){return!!t&&"nullValue"in t}function P_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mf(t){return!!t&&"mapValue"in t}function gD(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[cN])===null||r===void 0?void 0:r.stringValue)===uN}function Od(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xo(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Od(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Od(t.arrayValue.values[r]);return e}return Object.assign({},t)}function xD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===mD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.value=e}static empty(){return new cs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Mf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Od(r)}setAll(e){let r=Ln.emptyPath(),n={},s=[];e.forEach(((l,u)=>{if(!r.isImmediateParentOf(u)){const d=this.getFieldsMap(r);this.applyChanges(d,n,s),n={},s=[],r=u.popLast()}l?n[u.lastSegment()]=Od(l):s.push(u.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,s)}delete(e){const r=this.field(e.popLast());Mf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];Mf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){Xo(r,((s,a)=>e[s]=a));for(const s of n)delete e[s]}clone(){return new cs(Od(this.value))}}function dN(t){const e=[];return Xo(t.fields,((r,n)=>{const s=new Ln([r]);if(Mf(n)){const a=dN(n.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new Us(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,r,n,s,a,l,u){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Tn(e,0,Rt.min(),Rt.min(),Rt.min(),cs.empty(),0)}static newFoundDocument(e,r,n,s){return new Tn(e,1,r,Rt.min(),n,s,0)}static newNoDocument(e,r){return new Tn(e,2,r,Rt.min(),Rt.min(),cs.empty(),0)}static newUnknownDocument(e,r){return new Tn(e,3,r,Rt.min(),Rt.min(),cs.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,r){this.position=e,this.inclusive=r}}function R_(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?n=At.comparator(At.fromName(l.referenceValue),r.key):n=hu(l,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function D_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!li(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,r="asc"){this.field=e,this.dir=r}}function yD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{}class ln extends hN{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new bD(e,r,n):r==="array-contains"?new ED(e,n):r==="in"?new TD(e,n):r==="not-in"?new kD(e,n):r==="array-contains-any"?new ND(e,n):new ln(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new wD(e,n):new _D(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(hu(r,this.value)):r!==null&&Vo(this.value)===Vo(r)&&this.matchesComparison(hu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return It()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oa extends hN{constructor(e,r){super(),this.filters=e,this.op=r,this.ce=null}static create(e,r){return new Oa(e,r)}matches(e){return fN(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function fN(t){return t.op==="and"}function pN(t){return vD(t)&&fN(t)}function vD(t){for(const e of t.filters)if(e instanceof Oa)return!1;return!0}function gy(t){if(t instanceof ln)return t.field.canonicalString()+t.op.toString()+fu(t.value);if(pN(t))return t.filters.map((e=>gy(e))).join(",");{const e=t.filters.map((r=>gy(r))).join(",");return`${t.op}(${e})`}}function mN(t,e){return t instanceof ln?(function(n,s){return s instanceof ln&&n.op===s.op&&n.field.isEqual(s.field)&&li(n.value,s.value)})(t,e):t instanceof Oa?(function(n,s){return s instanceof Oa&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce(((a,l,u)=>a&&mN(l,s.filters[u])),!0):!1})(t,e):void It()}function gN(t){return t instanceof ln?(function(r){return`${r.field.canonicalString()} ${r.op} ${fu(r.value)}`})(t):t instanceof Oa?(function(r){return r.op.toString()+" {"+r.getFilters().map(gN).join(" ,")+"}"})(t):"Filter"}class bD extends ln{constructor(e,r,n){super(e,r,n),this.key=At.fromName(n.referenceValue)}matches(e){const r=At.comparator(e.key,this.key);return this.matchesComparison(r)}}class wD extends ln{constructor(e,r){super(e,"in",r),this.keys=xN("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class _D extends ln{constructor(e,r){super(e,"not-in",r),this.keys=xN("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function xN(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>At.fromName(n.referenceValue)))}class ED extends ln{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Ev(r)&&n0(r.arrayValue,this.value)}}class TD extends ln{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&n0(this.value.arrayValue,r)}}class kD extends ln{constructor(e,r){super(e,"not-in",r)}matches(e){if(n0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!n0(this.value.arrayValue,r)}}class ND extends ln{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Ev(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>n0(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,r=null,n=[],s=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=a,this.startAt=l,this.endAt=u,this.le=null}}function O_(t,e=null,r=[],n=[],s=null,a=null,l=null){return new AD(t,e,r,n,s,a,l)}function Tv(t){const e=Lt(t);if(e.le===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>gy(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),j0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>fu(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>fu(n))).join(",")),e.le=r}return e.le}function kv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!yD(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!mN(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!D_(t.startAt,e.startAt)&&D_(t.endAt,e.endAt)}function xy(t){return At.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,r=null,n=[],s=[],a=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function SD(t,e,r,n,s,a,l,u){return new Ru(t,e,r,n,s,a,l,u)}function am(t){return new Ru(t)}function F_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yN(t){return t.collectionGroup!==null}function Fd(t){const e=Lt(t);if(e.he===null){e.he=[];const r=new Set;for(const a of e.explicitOrderBy)e.he.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new xn(Ln.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.he.push(new s0(a,n))})),r.has(Ln.keyField().canonicalString())||e.he.push(new s0(Ln.keyField(),n))}return e.he}function Za(t){const e=Lt(t);return e.Pe||(e.Pe=CD(e,Fd(t))),e.Pe}function CD(t,e){if(t.limitType==="F")return O_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new s0(s.field,a)}));const r=t.endAt?new ap(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new ap(t.startAt.position,t.startAt.inclusive):null;return O_(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function yy(t,e){const r=t.filters.concat([e]);return new Ru(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function ip(t,e,r){return new Ru(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function im(t,e){return kv(Za(t),Za(e))&&t.limitType===e.limitType}function vN(t){return`${Tv(Za(t))}|lt:${t.limitType}`}function Hc(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((s=>gN(s))).join(", ")}]`),j0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((s=>fu(s))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((s=>fu(s))).join(",")),`Target(${n})`})(Za(t))}; limitType=${t.limitType})`}function om(t,e){return e.isFoundDocument()&&(function(n,s){const a=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):At.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,s){for(const a of Fd(n))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,s){for(const a of n.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(n,s){return!(n.startAt&&!(function(l,u,d){const h=R_(l,u,d);return l.inclusive?h<=0:h<0})(n.startAt,Fd(n),s)||n.endAt&&!(function(l,u,d){const h=R_(l,u,d);return l.inclusive?h>=0:h>0})(n.endAt,Fd(n),s))})(t,e)}function jD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bN(t){return(e,r)=>{let n=!1;for(const s of Fd(t)){const a=ID(s,e,r);if(a!==0)return a;n=n||s.field.isKeyField()}return 0}}function ID(t,e,r){const n=t.field.isKeyField()?At.comparator(e.key,r.key):(function(a,l,u){const d=l.data.field(a),h=u.data.field(a);return d!==null&&h!==null?hu(d,h):It()})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return It()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,a]of n)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,((r,n)=>{for(const[s,a]of n)e(s,a)}))}isEmpty(){return nN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new qr(At.comparator);function Bi(){return PD}const wN=new qr(At.comparator);function Sd(...t){let e=wN;for(const r of t)e=e.insert(r.key,r);return e}function _N(t){let e=wN;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function Tl(){return Ld()}function EN(){return Ld()}function Ld(){return new Gl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const RD=new qr(At.comparator),DD=new xn(At.comparator);function Xt(...t){let e=DD;for(const r of t)e=e.add(r);return e}const OD=new xn(Ht);function FD(){return OD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rp(e)?"-0":e}}function TN(t){return{integerValue:""+t}}function kN(t,e){return uD(e)?TN(e):Nv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this._=void 0}}function LD(t,e,r){return t instanceof a0?(function(s,a){const l={fields:{[iN]:{stringValue:aN},[lN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&_v(a)&&(a=sm(a)),a&&(l.fields[oN]=a),{mapValue:l}})(r,e):t instanceof i0?AN(t,e):t instanceof o0?SN(t,e):(function(s,a){const l=NN(s,a),u=L_(l)+L_(s.Ie);return my(l)&&my(s.Ie)?TN(u):Nv(s.serializer,u)})(t,e)}function MD(t,e,r){return t instanceof i0?AN(t,e):t instanceof o0?SN(t,e):r}function NN(t,e){return t instanceof l0?(function(n){return my(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class a0 extends lm{}class i0 extends lm{constructor(e){super(),this.elements=e}}function AN(t,e){const r=CN(e);for(const n of t.elements)r.some((s=>li(s,n)))||r.push(n);return{arrayValue:{values:r}}}class o0 extends lm{constructor(e){super(),this.elements=e}}function SN(t,e){let r=CN(e);for(const n of t.elements)r=r.filter((s=>!li(s,n)));return{arrayValue:{values:r}}}class l0 extends lm{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function L_(t){return en(t.integerValue||t.doubleValue)}function CN(t){return Ev(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,r){this.field=e,this.transform=r}}function VD(t,e){return t.field.isEqual(e.field)&&(function(n,s){return n instanceof i0&&s instanceof i0||n instanceof o0&&s instanceof o0?du(n.elements,s.elements,li):n instanceof l0&&s instanceof l0?li(n.Ie,s.Ie):n instanceof a0&&s instanceof a0})(t.transform,e.transform)}class $D{constructor(e,r){this.version=e,this.transformResults=r}}class Mn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cm{}function IN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new um(t.key,Mn.none()):new I0(t.key,t.data,Mn.none());{const r=t.data,n=cs.empty();let s=new xn(Ln.comparator);for(let a of e.fields)if(!s.has(a)){let l=r.field(a);l===null&&a.length>1&&(a=a.popLast(),l=r.field(a)),l===null?n.delete(a):n.set(a,l),s=s.add(a)}return new Qo(t.key,n,new Us(s.toArray()),Mn.none())}}function BD(t,e,r){t instanceof I0?(function(s,a,l){const u=s.value.clone(),d=V_(s.fieldTransforms,a,l.transformResults);u.setAll(d),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,r):t instanceof Qo?(function(s,a,l){if(!Vf(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=V_(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(PN(s)),d.setAll(u),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,r):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,r)}function Md(t,e,r,n){return t instanceof I0?(function(a,l,u,d){if(!Vf(a.precondition,l))return u;const h=a.value.clone(),p=$_(a.fieldTransforms,d,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,r,n):t instanceof Qo?(function(a,l,u,d){if(!Vf(a.precondition,l))return u;const h=$_(a.fieldTransforms,d,l),p=l.data;return p.setAll(PN(a)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,r,n):(function(a,l,u){return Vf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,r)}function UD(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),a=NN(n.transform,s||null);a!=null&&(r===null&&(r=cs.empty()),r.set(n.field,a))}return r||null}function M_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&du(n,s,((a,l)=>VD(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class I0 extends cm{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Qo extends cm{constructor(e,r,n,s,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function PN(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function V_(t,e,r){const n=new Map;rr(t.length===r.length);for(let s=0;s<r.length;s++){const a=t[s],l=a.transform,u=e.data.field(a.field);n.set(a.field,MD(l,u,r[s]))}return n}function $_(t,e,r){const n=new Map;for(const s of t){const a=s.transform,l=r.data.field(s.field);n.set(s.field,LD(a,l,e))}return n}class um extends cm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RN extends cm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&BD(a,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Md(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Md(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=EN();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=r.has(s.key)?null:u;const d=IN(l,u);d!==null&&n.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Rt.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Xt())}isEqual(e){return this.batchId===e.batchId&&du(this.mutations,e.mutations,((r,n)=>M_(r,n)))&&du(this.baseMutations,e.baseMutations,((r,n)=>M_(r,n)))}}class Av{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){rr(e.mutations.length===n.length);let s=(function(){return RD})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,n[l].version);return new Av(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,er;function DN(t){switch(t){case Oe.OK:return It();case Oe.CANCELLED:case Oe.UNKNOWN:case Oe.DEADLINE_EXCEEDED:case Oe.RESOURCE_EXHAUSTED:case Oe.INTERNAL:case Oe.UNAVAILABLE:case Oe.UNAUTHENTICATED:return!1;case Oe.INVALID_ARGUMENT:case Oe.NOT_FOUND:case Oe.ALREADY_EXISTS:case Oe.PERMISSION_DENIED:case Oe.FAILED_PRECONDITION:case Oe.ABORTED:case Oe.OUT_OF_RANGE:case Oe.UNIMPLEMENTED:case Oe.DATA_LOSS:return!0;default:return It()}}function ON(t){if(t===void 0)return $i("GRPC error has no .code"),Oe.UNKNOWN;switch(t){case on.OK:return Oe.OK;case on.CANCELLED:return Oe.CANCELLED;case on.UNKNOWN:return Oe.UNKNOWN;case on.DEADLINE_EXCEEDED:return Oe.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return Oe.RESOURCE_EXHAUSTED;case on.INTERNAL:return Oe.INTERNAL;case on.UNAVAILABLE:return Oe.UNAVAILABLE;case on.UNAUTHENTICATED:return Oe.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return Oe.INVALID_ARGUMENT;case on.NOT_FOUND:return Oe.NOT_FOUND;case on.ALREADY_EXISTS:return Oe.ALREADY_EXISTS;case on.PERMISSION_DENIED:return Oe.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return Oe.FAILED_PRECONDITION;case on.ABORTED:return Oe.ABORTED;case on.OUT_OF_RANGE:return Oe.OUT_OF_RANGE;case on.UNIMPLEMENTED:return Oe.UNIMPLEMENTED;case on.DATA_LOSS:return Oe.DATA_LOSS;default:return It()}}(er=on||(on={}))[er.OK=0]="OK",er[er.CANCELLED=1]="CANCELLED",er[er.UNKNOWN=2]="UNKNOWN",er[er.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",er[er.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",er[er.NOT_FOUND=5]="NOT_FOUND",er[er.ALREADY_EXISTS=6]="ALREADY_EXISTS",er[er.PERMISSION_DENIED=7]="PERMISSION_DENIED",er[er.UNAUTHENTICATED=16]="UNAUTHENTICATED",er[er.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",er[er.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",er[er.ABORTED=10]="ABORTED",er[er.OUT_OF_RANGE=11]="OUT_OF_RANGE",er[er.UNIMPLEMENTED=12]="UNIMPLEMENTED",er[er.INTERNAL=13]="INTERNAL",er[er.UNAVAILABLE=14]="UNAVAILABLE",er[er.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=new Po([4294967295,4294967295],0);function B_(t){const e=eN().encode(t),r=new qk;return r.update(e),new Uint8Array(r.digest())}function U_(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Po([r,n],0),new Po([s,a],0)]}class Sv{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Cd(`Invalid padding: ${r}`);if(n<0)throw new Cd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Cd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Cd(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*e.length-r,this.de=Po.fromNumber(this.Ee)}Ae(e,r,n){let s=e.add(r.multiply(Po.fromNumber(n)));return s.compare(GD)===1&&(s=new Po([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const r=B_(e),[n,s]=U_(r);for(let a=0;a<this.hashCount;a++){const l=this.Ae(n,s,a);if(!this.Re(l))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Sv(a,s,r);return n.forEach((u=>l.insert(u))),l}insert(e){if(this.Ee===0)return;const r=B_(e),[n,s]=U_(r);for(let a=0;a<this.hashCount;a++){const l=this.Ae(n,s,a);this.Ve(l)}}Ve(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Cd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,r,n,s,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,P0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new dm(Rt.min(),s,new qr(Ht),Bi(),Xt())}}class P0{constructor(e,r,n,s,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new P0(n,r,Xt(),Xt(),Xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,r,n,s){this.me=e,this.removedTargetIds=r,this.key=n,this.fe=s}}class FN{constructor(e,r){this.targetId=e,this.ge=r}}class LN{constructor(e,r,n=zn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class z_{constructor(){this.pe=0,this.ye=H_(),this.we=zn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Xt(),r=Xt(),n=Xt();return this.ye.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:It()}})),new P0(this.we,this.Se,e,r,n)}Me(){this.be=!1,this.ye=H_()}xe(e,r){this.be=!0,this.ye=this.ye.insert(e,r)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,rr(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class qD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Bi(),this.$e=yf(),this.Ue=yf(),this.Ke=new qr(Ht)}We(e){for(const r of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(r,e.fe):this.ze(r,e.key,e.fe);for(const r of e.removedTargetIds)this.ze(r,e.key,e.fe)}je(e){this.forEachTarget(e,(r=>{const n=this.He(r);switch(e.state){case 0:this.Je(r)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(r);break;case 3:this.Je(r)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),n.Ce(e.resumeToken));break;default:It()}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.qe.forEach(((n,s)=>{this.Je(s)&&r(s)}))}Ze(e){const r=e.targetId,n=e.ge.count,s=this.Xe(r);if(s){const a=s.target;if(xy(a))if(n===0){const l=new At(a.path);this.ze(r,l,Tn.newNoDocument(l,Rt.min()))}else rr(n===1);else{const l=this.et(r);if(l!==n){const u=this.tt(e),d=u?this.nt(u,e,l):1;if(d!==0){this.Ye(r);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,h)}}}}}tt(e){const r=e.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:a=0}=r;let l,u;try{l=Mo(n).toUint8Array()}catch(d){if(d instanceof sN)return uu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new Sv(l,s,a)}catch(d){return uu(d instanceof Cd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ee===0?null:u}nt(e,r,n){return r.ge.count===n-this.st(e,r.targetId)?0:2}st(e,r){const n=this.ke.getRemoteKeysForTarget(r);let s=0;return n.forEach((a=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.ze(r,a,null),s++)})),s}ot(e){const r=new Map;this.qe.forEach(((a,l)=>{const u=this.Xe(l);if(u){if(a.current&&xy(u.target)){const d=new At(u.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,Tn.newNoDocument(d,e))}a.ve&&(r.set(l,a.Fe()),a.Me())}}));let n=Xt();this.Ue.forEach(((a,l)=>{let u=!0;l.forEachWhile((d=>{const h=this.Xe(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(n=n.add(a))})),this.Qe.forEach(((a,l)=>l.setReadTime(e)));const s=new dm(e,r,this.Ke,this.Qe,n);return this.Qe=Bi(),this.$e=yf(),this.Ue=yf(),this.Ke=new qr(Ht),s}Ge(e,r){if(!this.Je(e))return;const n=this.ut(e,r.key)?2:0;this.He(e).xe(r.key,n),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(e)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(e))}ze(e,r,n){if(!this.Je(e))return;const s=this.He(e);this.ut(e,r)?s.xe(r,1):s.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(e)),this.Ue=this.Ue.insert(r,this.ct(r).add(e)),n&&(this.Qe=this.Qe.insert(r,n))}removeTarget(e){this.qe.delete(e)}et(e){const r=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let r=this.qe.get(e);return r||(r=new z_,this.qe.set(e,r)),r}ct(e){let r=this.Ue.get(e);return r||(r=new xn(Ht),this.Ue=this.Ue.insert(e,r)),r}_t(e){let r=this.$e.get(e);return r||(r=new xn(Ht),this.$e=this.$e.insert(e,r)),r}Je(e){const r=this.Xe(e)!==null;return r||mt("WatchChangeAggregator","Detected inactive target",e),r}Xe(e){const r=this.qe.get(e);return r&&r.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new z_),this.ke.getRemoteKeysForTarget(e).forEach((r=>{this.ze(e,r,null)}))}ut(e,r){return this.ke.getRemoteKeysForTarget(e).has(r)}}function yf(){return new qr(At.comparator)}function H_(){return new qr(At.comparator)}const KD={asc:"ASCENDING",desc:"DESCENDING"},YD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XD={and:"AND",or:"OR"};class QD{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function vy(t,e){return t.useProto3Json||j0(e)?e:{value:e}}function op(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function JD(t,e){return op(t,e.toTimestamp())}function Ws(t){return rr(!!t),Rt.fromTimestamp((function(r){const n=Lo(r);return new Nr(n.seconds,n.nanos)})(t))}function Cv(t,e){return by(t,e).canonicalString()}function by(t,e){const r=(function(s){return new Sr(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?r:r.child(e)}function VN(t){const e=Sr.fromString(t);return rr(WN(e)),e}function lp(t,e){return Cv(t.databaseId,e.path)}function Vd(t,e){const r=VN(e);if(r.get(1)!==t.databaseId.projectId)throw new ht(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ht(Oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new At(BN(r))}function $N(t,e){return Cv(t.databaseId,e)}function ZD(t){const e=VN(t);return e.length===4?Sr.emptyPath():BN(e)}function wy(t){return new Sr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BN(t){return rr(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function W_(t,e,r){return{name:lp(t,e),fields:r.value.mapValue.fields}}function e9(t,e){return"found"in e?(function(n,s){rr(!!s.found),s.found.name,s.found.updateTime;const a=Vd(n,s.found.name),l=Ws(s.found.updateTime),u=s.found.createTime?Ws(s.found.createTime):Rt.min(),d=new cs({mapValue:{fields:s.found.fields}});return Tn.newFoundDocument(a,l,u,d)})(t,e):"missing"in e?(function(n,s){rr(!!s.missing),rr(!!s.readTime);const a=Vd(n,s.missing),l=Ws(s.readTime);return Tn.newNoDocument(a,l)})(t,e):It()}function t9(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:It()})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(h,p){return h.useProto3Json?(rr(p===void 0||typeof p=="string"),zn.fromBase64String(p||"")):(rr(p===void 0||p instanceof Buffer||p instanceof Uint8Array),zn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(h){const p=h.code===void 0?Oe.UNKNOWN:ON(h.code);return new ht(p,h.message||"")})(l);r=new LN(n,s,a,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=Vd(t,n.document.name),a=Ws(n.document.updateTime),l=n.document.createTime?Ws(n.document.createTime):Rt.min(),u=new cs({mapValue:{fields:n.document.fields}}),d=Tn.newFoundDocument(s,a,l,u),h=n.targetIds||[],p=n.removedTargetIds||[];r=new $f(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=Vd(t,n.document),a=n.readTime?Ws(n.readTime):Rt.min(),l=Tn.newNoDocument(s,a),u=n.removedTargetIds||[];r=new $f([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=Vd(t,n.document),a=n.removedTargetIds||[];r=new $f([],a,s,null)}else{if(!("filter"in e))return It();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:a}=n,l=new WD(s,a),u=n.targetId;r=new FN(u,l)}}return r}function UN(t,e){let r;if(e instanceof I0)r={update:W_(t,e.key,e.value)};else if(e instanceof um)r={delete:lp(t,e.key)};else if(e instanceof Qo)r={update:W_(t,e.key,e.data),updateMask:u9(e.fieldMask)};else{if(!(e instanceof RN))return It();r={verify:lp(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,l){const u=l.transform;if(u instanceof a0)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof i0)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof o0)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof l0)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw It()})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:JD(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:It()})(t,e.precondition)),r}function r9(t,e){return t&&t.length>0?(rr(e!==void 0),t.map((r=>(function(s,a){let l=s.updateTime?Ws(s.updateTime):Ws(a);return l.isEqual(Rt.min())&&(l=Ws(a)),new $D(l,s.transformResults||[])})(r,e)))):[]}function n9(t,e){return{documents:[$N(t,e.path)]}}function s9(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=$N(t,s);const a=(function(h){if(h.length!==0)return HN(Oa.create(h,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const l=(function(h){if(h.length!==0)return h.map((p=>(function(y){return{field:Wc(y.field),direction:o9(y.dir)}})(p)))})(e.orderBy);l&&(r.structuredQuery.orderBy=l);const u=vy(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ht:r,parent:s}}function a9(t){let e=ZD(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){rr(n===1);const p=r.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let a=[];r.where&&(a=(function(g){const y=zN(g);return y instanceof Oa&&pN(y)?y.getFilters():[y]})(r.where));let l=[];r.orderBy&&(l=(function(g){return g.map((y=>(function(_){return new s0(Gc(_.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(y)))})(r.orderBy));let u=null;r.limit&&(u=(function(g){let y;return y=typeof g=="object"?g.value:g,j0(y)?null:y})(r.limit));let d=null;r.startAt&&(d=(function(g){const y=!!g.before,v=g.values||[];return new ap(v,y)})(r.startAt));let h=null;return r.endAt&&(h=(function(g){const y=!g.before,v=g.values||[];return new ap(v,y)})(r.endAt)),SD(e,s,l,a,u,"F",d,h)}function i9(t,e){const r=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function zN(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Gc(r.unaryFilter.field);return ln.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Gc(r.unaryFilter.field);return ln.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Gc(r.unaryFilter.field);return ln.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Gc(r.unaryFilter.field);return ln.create(l,"!=",{nullValue:"NULL_VALUE"});default:return It()}})(t):t.fieldFilter!==void 0?(function(r){return ln.create(Gc(r.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return It()}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Oa.create(r.compositeFilter.filters.map((n=>zN(n))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return It()}})(r.compositeFilter.op))})(t):It()}function o9(t){return KD[t]}function l9(t){return YD[t]}function c9(t){return XD[t]}function Wc(t){return{fieldPath:t.canonicalString()}}function Gc(t){return Ln.fromServerFormat(t.fieldPath)}function HN(t){return t instanceof ln?(function(r){if(r.op==="=="){if(P_(r.value))return{unaryFilter:{field:Wc(r.field),op:"IS_NAN"}};if(I_(r.value))return{unaryFilter:{field:Wc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(P_(r.value))return{unaryFilter:{field:Wc(r.field),op:"IS_NOT_NAN"}};if(I_(r.value))return{unaryFilter:{field:Wc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wc(r.field),op:l9(r.op),value:r.value}}})(t):t instanceof Oa?(function(r){const n=r.getFilters().map((s=>HN(s)));return n.length===1?n[0]:{compositeFilter:{op:c9(r.op),filters:n}}})(t):It()}function u9(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function WN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,r,n,s,a=Rt.min(),l=Rt.min(),u=zn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.Tt=e}}function h9(t){const e=a9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ip(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(){this.Tn=new p9}addToCollectionParentIndex(e,r){return this.Tn.add(r),$e.resolve()}getCollectionParents(e,r){return $e.resolve(this.Tn.getEntries(r))}addFieldIndex(e,r){return $e.resolve()}deleteFieldIndex(e,r){return $e.resolve()}deleteAllFieldIndexes(e){return $e.resolve()}createTargetIndexes(e,r){return $e.resolve()}getDocumentsMatchingTarget(e,r){return $e.resolve(null)}getIndexType(e,r){return $e.resolve(0)}getFieldIndexes(e,r){return $e.resolve([])}getNextCollectionGroupToUpdate(e){return $e.resolve(null)}getMinOffset(e,r){return $e.resolve(Fo.min())}getMinOffsetFromCollectionGroup(e,r){return $e.resolve(Fo.min())}updateCollectionGroup(e,r,n){return $e.resolve()}updateIndexEntries(e,r){return $e.resolve()}}class p9{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new xn(Sr.comparator),a=!s.has(n);return this.index[r]=s.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new xn(Sr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GN=41943040;class ws{static withCacheSize(e){return new ws(e,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(GN,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new pu(0)}static Kn(){return new pu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="LruGarbageCollector",m9=1048576;function K_([t,e],[r,n]){const s=Ht(t,r);return s===0?Ht(e,n):s}class g9{constructor(e){this.Hn=e,this.buffer=new xn(K_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const r=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();K_(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class x9{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){mt(q_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Pu(r)?mt(q_,"Ignoring IndexedDB error during garbage collection: ",r):await Iu(r)}await this.er(3e5)}))}}class y9{constructor(e,r){this.tr=e,this.params=r}calculateTargetCount(e,r){return this.tr.nr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return $e.resolve(nm.ae);const n=new g9(r);return this.tr.forEachTarget(e,(s=>n.Zn(s.sequenceNumber))).next((()=>this.tr.rr(e,(s=>n.Zn(s))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.tr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.tr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(G_)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),G_):this.ir(e,r)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,r){let n,s,a,l,u,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,l=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(n=g,u=Date.now(),this.removeTargets(e,n,r)))).next((g=>(a=g,d=Date.now(),this.removeOrphanedDocuments(e,n)))).next((g=>(h=Date.now(),zc()<=Yt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${a} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:g}))))}}function v9(t,e){return new y9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(){this.changes=new Gl((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?$e.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((s=>(n=s,this.remoteDocumentCache.getEntry(e,r)))).next((s=>(n!==null&&Md(n.mutation,s,Us.empty(),Nr.now()),s)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Xt()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Xt()){const s=Tl();return this.populateOverlays(e,s,r).next((()=>this.computeViews(e,r,s,n).next((a=>{let l=Sd();return a.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,r){const n=Tl();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Xt())))}populateOverlays(e,r,n){const s=[];return n.forEach((a=>{r.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,u)=>{r.set(l,u)}))}))}computeViews(e,r,n,s){let a=Bi();const l=Ld(),u=(function(){return Ld()})();return r.forEach(((d,h)=>{const p=n.get(h.key);s.has(h.key)&&(p===void 0||p.mutation instanceof Qo)?a=a.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Md(p.mutation,h,p.mutation.getFieldMask(),Nr.now())):l.set(h.key,Us.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((h,p)=>l.set(h,p))),r.forEach(((h,p)=>{var g;return u.set(h,new w9(p,(g=l.get(h))!==null&&g!==void 0?g:null))})),u)))}recalculateAndSaveOverlays(e,r){const n=Ld();let s=new qr(((l,u)=>l-u)),a=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((l=>{for(const u of l)u.keys().forEach((d=>{const h=r.get(d);if(h===null)return;let p=n.get(d)||Us.empty();p=u.applyToLocalView(h,p),n.set(d,p);const g=(s.get(u.batchId)||Xt()).add(d);s=s.insert(u.batchId,g)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,p=d.value,g=EN();p.forEach((y=>{if(!a.has(y)){const v=IN(r.get(y),n.get(y));v!==null&&g.set(y,v),a=a.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return $e.waitFor(l)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,s){return(function(l){return At.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):yN(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-a.size):$e.resolve(Tl());let u=e0,d=a;return l.next((h=>$e.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),a.get(p)?$e.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{d=d.insert(p,y)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,d,h,Xt()))).next((p=>({batchId:u,changes:_N(p)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new At(r)).next((n=>{let s=Sd();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const a=r.collectionGroup;let l=Sd();return this.indexManager.getCollectionParents(e,a).next((u=>$e.forEach(u,(d=>{const h=(function(g,y){return new Ru(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(r,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,n,s).next((p=>{p.forEach(((g,y)=>{l=l.insert(g,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,r,n,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,s)))).next((l=>{a.forEach(((d,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,Tn.newInvalidDocument(p)))}));let u=Sd();return l.forEach(((d,h)=>{const p=a.get(d);p!==void 0&&Md(p.mutation,h,Us.empty(),Nr.now()),om(r,h)&&(u=u.insert(d,h))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,r){return $e.resolve(this.dr.get(r))}saveBundleMetadata(e,r){return this.dr.set(r.id,(function(s){return{id:s.id,version:s.version,createTime:Ws(s.createTime)}})(r)),$e.resolve()}getNamedQuery(e,r){return $e.resolve(this.Ar.get(r))}saveNamedQuery(e,r){return this.Ar.set(r.name,(function(s){return{name:s.name,query:h9(s.bundledQuery),readTime:Ws(s.readTime)}})(r)),$e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(){this.overlays=new qr(At.comparator),this.Rr=new Map}getOverlay(e,r){return $e.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Tl();return $e.forEach(r,(s=>this.getOverlay(e,s).next((a=>{a!==null&&n.set(s,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((s,a)=>{this.Et(e,r,a)})),$e.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Rr.get(n);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.Rr.delete(n)),$e.resolve()}getOverlaysForCollection(e,r,n){const s=Tl(),a=r.length+1,l=new At(r.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===a&&d.largestBatchId>n&&s.set(d.getKey(),d)}return $e.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let a=new qr(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let p=a.get(h.largestBatchId);p===null&&(p=Tl(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=Tl(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=s)););return $e.resolve(u)}Et(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(n.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new HD(r,n));let a=this.Rr.get(r);a===void 0&&(a=Xt(),this.Rr.set(r,a)),this.Rr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.sessionToken=zn.EMPTY_BYTE_STRING}getSessionToken(e){return $e.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,$e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.Vr=new xn(En.mr),this.gr=new xn(En.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,r){const n=new En(e,r);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.wr(new En(e,r))}Sr(e,r){e.forEach((n=>this.removeReference(n,r)))}br(e){const r=new At(new Sr([])),n=new En(r,e),s=new En(r,e+1),a=[];return this.gr.forEachInRange([n,s],(l=>{this.wr(l),a.push(l.key)})),a}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const r=new At(new Sr([])),n=new En(r,e),s=new En(r,e+1);let a=Xt();return this.gr.forEachInRange([n,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const r=new En(e,0),n=this.Vr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class En{constructor(e,r){this.key=e,this.Cr=r}static mr(e,r){return At.comparator(e.key,r.key)||Ht(e.Cr,r.Cr)}static pr(e,r){return Ht(e.Cr,r.Cr)||At.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new xn(En.mr)}checkEmpty(e){return $e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new zD(a,r,n,s);this.mutationQueue.push(l);for(const u of s)this.Mr=this.Mr.add(new En(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return $e.resolve(l)}lookupMutationBatch(e,r){return $e.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.Nr(n),a=s<0?0:s;return $e.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(this.mutationQueue.length===0?wv:this.Fr-1)}getAllMutationBatches(e){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new En(r,0),s=new En(r,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([n,s],(l=>{const u=this.Or(l.Cr);a.push(u)})),$e.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new xn(Ht);return r.forEach((s=>{const a=new En(s,0),l=new En(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],(u=>{n=n.add(u.Cr)}))})),$e.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let a=n;At.isDocumentKey(a)||(a=a.child(""));const l=new En(new At(a),0);let u=new xn(Ht);return this.Mr.forEachWhile((d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===s&&(u=u.add(d.Cr)),!0)}),l),$e.resolve(this.Br(u))}Br(e){const r=[];return e.forEach((n=>{const s=this.Or(n);s!==null&&r.push(s)})),r}removeMutationBatch(e,r){rr(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return $e.forEach(r.mutations,(s=>{const a=new En(s.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,r){const n=new En(r,0),s=this.Mr.firstAfterOrEqual(n);return $e.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$e.resolve()}Lr(e,r){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const r=this.Nr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e){this.kr=e,this.docs=(function(){return new qr(At.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),a=s?s.size:0,l=this.kr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return $e.resolve(n?n.document.mutableCopy():Tn.newInvalidDocument(r))}getEntries(e,r){let n=Bi();return r.forEach((s=>{const a=this.docs.get(s);n=n.insert(s,a?a.document.mutableCopy():Tn.newInvalidDocument(s))})),$e.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let a=Bi();const l=r.path,u=new At(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||iD(aD(p),n)<=0||(s.has(p.key)||om(r,p))&&(a=a.insert(p.key,p.mutableCopy()))}return $e.resolve(a)}getAllFromCollectionGroup(e,r,n,s){It()}qr(e,r){return $e.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new S9(this)}getSize(e){return $e.resolve(this.size)}}class S9 extends b9{constructor(e){super(),this.Ir=e}applyChanges(e){const r=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?r.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(n)})),$e.waitFor(r)}getFromCache(e,r){return this.Ir.getEntry(e,r)}getAllFromCache(e,r){return this.Ir.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e){this.persistence=e,this.Qr=new Gl((r=>Tv(r)),kv),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new jv,this.targetCount=0,this.Kr=pu.Un()}forEachTarget(e,r){return this.Qr.forEach(((n,s)=>r(s))),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.$r&&(this.$r=r),$e.resolve()}zn(e){this.Qr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Kr=new pu(r),this.highestTargetId=r),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,r){return this.zn(r),this.targetCount+=1,$e.resolve()}updateTargetData(e,r){return this.zn(r),$e.resolve()}removeTargetData(e,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,r,n){let s=0;const a=[];return this.Qr.forEach(((l,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),$e.waitFor(a).next((()=>s))}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,r){const n=this.Qr.get(r)||null;return $e.resolve(n)}addMatchingKeys(e,r,n){return this.Ur.yr(r,n),$e.resolve()}removeMatchingKeys(e,r,n){this.Ur.Sr(r,n);const s=this.persistence.referenceDelegate,a=[];return s&&r.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),$e.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Ur.br(r),$e.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Ur.vr(r);return $e.resolve(n)}containsKey(e,r){return $e.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,r){this.Wr={},this.overlays={},this.Gr=new nm(0),this.zr=!1,this.zr=!0,this.jr=new k9,this.referenceDelegate=e(this),this.Hr=new C9(this),this.indexManager=new f9,this.remoteDocumentCache=(function(s){return new A9(s)})((n=>this.referenceDelegate.Jr(n))),this.serializer=new d9(r),this.Yr=new E9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new T9,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.Wr[e.toKey()];return n||(n=new N9(r,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,r,n){mt("MemoryPersistence","Starting transaction:",e);const s=new j9(this.Gr.next());return this.referenceDelegate.Zr(),n(s).next((a=>this.referenceDelegate.Xr(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}ei(e,r){return $e.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,r))))}}class j9 extends lD{constructor(e){super(),this.currentSequenceNumber=e}}class Iv{constructor(e){this.persistence=e,this.ti=new jv,this.ni=null}static ri(e){return new Iv(e)}get ii(){if(this.ni)return this.ni;throw It()}addReference(e,r,n){return this.ti.addReference(n,r),this.ii.delete(n.toString()),$e.resolve()}removeReference(e,r,n){return this.ti.removeReference(n,r),this.ii.add(n.toString()),$e.resolve()}markPotentiallyOrphaned(e,r){return this.ii.add(r.toString()),$e.resolve()}removeTarget(e,r){this.ti.br(r.targetId).forEach((s=>this.ii.add(s.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((s=>{s.forEach((a=>this.ii.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Zr(){this.ni=new Set}Xr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.ii,(n=>{const s=At.fromPath(n);return this.si(e,s).next((a=>{a||r.removeEntry(s,Rt.min())}))})).next((()=>(this.ni=null,r.apply(e))))}updateLimboDocument(e,r){return this.si(e,r).next((n=>{n?this.ii.delete(r.toString()):this.ii.add(r.toString())}))}Jr(e){return 0}si(e,r){return $e.or([()=>$e.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.ei(e,r)])}}class cp{constructor(e,r){this.persistence=e,this.oi=new Gl((n=>dD(n.path)),((n,s)=>n.isEqual(s))),this.garbageCollector=v9(this,r)}static ri(e,r){return new cp(e,r)}Zr(){}Xr(e){return $e.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}nr(e){const r=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((s=>n+s))))}sr(e){let r=0;return this.rr(e,(n=>{r++})).next((()=>r))}rr(e,r){return $e.forEach(this.oi,((n,s)=>this.ar(e,n,s).next((a=>a?$e.resolve():r(s)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,(l=>this.ar(e,l,r).next((u=>{u||(n++,a.removeEntry(l,Rt.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.oi.set(r,e.currentSequenceNumber),$e.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),$e.resolve()}removeReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),$e.resolve()}updateLimboDocument(e,r){return this.oi.set(r,e.currentSequenceNumber),$e.resolve()}Jr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Lf(e.data.value)),r}ar(e,r,n){return $e.or([()=>this.persistence.ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const s=this.oi.get(r);return $e.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.Hi=n,this.Ji=s}static Yi(e,r){let n=Xt(),s=Xt();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Pv(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=(function(){return lP()?8:cD(rs())>0?6:4})()}initialize(e,r){this.ns=e,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(e,r,n,s){const a={result:null};return this.rs(e,r).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ss(e,r,s,n).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new I9;return this._s(e,r,l).next((u=>{if(a.result=u,this.Xi)return this.us(e,r,l,u.size)}))})).next((()=>a.result))}us(e,r,n,s){return n.documentReadCount<this.es?(zc()<=Yt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Hc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),$e.resolve()):(zc()<=Yt.DEBUG&&mt("QueryEngine","Query:",Hc(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.ts*s?(zc()<=Yt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Hc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Za(r))):$e.resolve())}rs(e,r){if(F_(r))return $e.resolve(null);let n=Za(r);return this.indexManager.getIndexType(e,n).next((s=>s===0?null:(r.limit!==null&&s===1&&(r=ip(r,null,"F"),n=Za(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const l=Xt(...a);return this.ns.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,n).next((d=>{const h=this.cs(r,u);return this.ls(r,h,l,d.readTime)?this.rs(e,ip(r,null,"F")):this.hs(e,h,r,d)}))))})))))}ss(e,r,n,s){return F_(r)||s.isEqual(Rt.min())?$e.resolve(null):this.ns.getDocuments(e,n).next((a=>{const l=this.cs(r,a);return this.ls(r,l,n,s)?$e.resolve(null):(zc()<=Yt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Hc(r)),this.hs(e,l,r,sD(s,e0)).next((u=>u)))}))}cs(e,r){let n=new xn(bN(e));return r.forEach(((s,a)=>{om(e,a)&&(n=n.add(a))})),n}ls(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,r,n){return zc()<=Yt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Hc(r)),this.ns.getDocumentsMatchingQuery(e,r,Fo.min(),n)}hs(e,r,n,s){return this.ns.getDocumentsMatchingQuery(e,n,s).next((a=>(r.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="LocalStore",R9=3e8;class D9{constructor(e,r,n,s){this.persistence=e,this.Ps=r,this.serializer=s,this.Ts=new qr(Ht),this.Is=new Gl((a=>Tv(a)),kv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _9(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ts)))}}function O9(t,e,r,n){return new D9(t,e,r,n)}async function KN(t,e){const r=Lt(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next((a=>(s=a,r.As(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const l=[],u=[];let d=Xt();for(const h of s){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of a){u.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return r.localDocuments.getDocuments(n,d).next((h=>({Rs:h,removedBatchIds:l,addedBatchIds:u})))}))}))}function F9(t,e){const r=Lt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const s=e.batch.keys(),a=r.ds.newChangeBuffer({trackRemovals:!0});return(function(u,d,h,p){const g=h.batch,y=g.keys();let v=$e.resolve();return y.forEach((_=>{v=v.next((()=>p.getEntry(d,_))).next((w=>{const T=h.docVersions.get(_);rr(T!==null),w.version.compareTo(T)<0&&(g.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),p.addEntry(w)))}))})),v.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(u){let d=Xt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d})(e)))).next((()=>r.localDocuments.getDocuments(n,s)))}))}function YN(t){const e=Lt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Hr.getLastRemoteSnapshotVersion(r)))}function L9(t,e){const r=Lt(t),n=e.snapshotVersion;let s=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=r.ds.newChangeBuffer({trackRemovals:!0});s=r.Ts;const u=[];e.targetChanges.forEach(((p,g)=>{const y=s.get(g);if(!y)return;u.push(r.Hr.removeMatchingKeys(a,p.removedDocuments,g).next((()=>r.Hr.addMatchingKeys(a,p.addedDocuments,g))));let v=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(zn.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,n)),s=s.insert(g,v),(function(w,T,D){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=R9?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(y,v,p)&&u.push(r.Hr.updateTargetData(a,v))}));let d=Bi(),h=Xt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(a,p))})),u.push(M9(a,l,e.documentUpdates).next((p=>{d=p.Vs,h=p.fs}))),!n.isEqual(Rt.min())){const p=r.Hr.getLastRemoteSnapshotVersion(a).next((g=>r.Hr.setTargetsMetadata(a,a.currentSequenceNumber,n)));u.push(p)}return $e.waitFor(u).next((()=>l.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,d,h))).next((()=>d))})).then((a=>(r.Ts=s,a)))}function M9(t,e,r){let n=Xt(),s=Xt();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let l=Bi();return r.forEach(((u,d)=>{const h=a.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(u)),d.isNoDocument()&&d.version.isEqual(Rt.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):mt(Rv,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)})),{Vs:l,fs:s}}))}function V9(t,e){const r=Lt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=wv),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function $9(t,e){const r=Lt(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let s;return r.Hr.getTargetData(n,e).next((a=>a?(s=a,$e.resolve(s)):r.Hr.allocateTargetId(n).next((l=>(s=new Ao(e,l,"TargetPurposeListen",n.currentSequenceNumber),r.Hr.addTargetData(n,s).next((()=>s)))))))})).then((n=>{const s=r.Ts.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(n.targetId,n),r.Is.set(e,n.targetId)),n}))}async function _y(t,e,r){const n=Lt(t),s=n.Ts.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(l=>n.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Pu(l))throw l;mt(Rv,`Failed to update sequence numbers for target ${e}: ${l}`)}n.Ts=n.Ts.remove(e),n.Is.delete(s.target)}function Y_(t,e,r){const n=Lt(t);let s=Rt.min(),a=Xt();return n.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,h,p){const g=Lt(d),y=g.Is.get(p);return y!==void 0?$e.resolve(g.Ts.get(y)):g.Hr.getTargetData(h,p)})(n,l,Za(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(l,u.targetId).next((d=>{a=d}))})).next((()=>n.Ps.getDocumentsMatchingQuery(l,e,r?s:Rt.min(),r?a:Xt()))).next((u=>(B9(n,jD(e),u),{documents:u,gs:a})))))}function B9(t,e,r){let n=t.Es.get(e)||Rt.min();r.forEach(((s,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.Es.set(e,n)}class X_{constructor(){this.activeTargetIds=FD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U9{constructor(){this.ho=new X_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,r,n){this.Po[e]=r}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new X_,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="ConnectivityMonitor";class J_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){mt(Q_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){mt(Q_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf=null;function Ey(){return vf===null?vf=(function(){return 268435456+Math.round(2147483648*Math.random())})():vf++,"0x"+vf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="RestConnection",H9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W9{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+e.host,this.yo=`projects/${n}/databases/${s}`,this.wo=this.databaseId.database===np?`project_id=${n}`:`project_id=${n}&database_id=${s}`}So(e,r,n,s,a){const l=Ey(),u=this.bo(e,r.toUriEncodedString());mt(Sx,`Sending RPC '${e}' ${l}:`,u,n);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,s,a),this.vo(e,u,d,n).then((h=>(mt(Sx,`Received RPC '${e}' ${l}: `,h),h)),(h=>{throw uu(Sx,`RPC '${e}' ${l} failed with error: `,h,"url: ",u,"request:",n),h}))}Co(e,r,n,s,a,l){return this.So(e,r,n,s,a)}Do(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ju})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((s,a)=>e[a]=s)),n&&n.headers.forEach(((s,a)=>e[a]=s))}bo(e,r){const n=H9[e];return`${this.po}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn="WebChannelConnection";class q9 extends W9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,r,n,s){const a=Ey();return new Promise(((l,u)=>{const d=new Kk;d.setWithCredentials(!0),d.listenOnce(Yk.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Ff.NO_ERROR:const p=d.getResponseJson();mt(Xn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Ff.TIMEOUT:mt(Xn,`RPC '${e}' ${a} timed out`),u(new ht(Oe.DEADLINE_EXCEEDED,"Request time out"));break;case Ff.HTTP_ERROR:const g=d.getStatus();if(mt(Xn,`RPC '${e}' ${a} failed with status:`,g,"response text:",d.getResponseText()),g>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const v=y?.error;if(v&&v.status&&v.message){const _=(function(T){const D=T.toLowerCase().replace(/_/g,"-");return Object.values(Oe).indexOf(D)>=0?D:Oe.UNKNOWN})(v.status);u(new ht(_,v.message))}else u(new ht(Oe.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ht(Oe.UNAVAILABLE,"Connection failed."));break;default:It()}}finally{mt(Xn,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(s);mt(Xn,`RPC '${e}' ${a} sending request:`,s),d.send(r,"POST",h,n,15)}))}Wo(e,r,n){const s=Ey(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Jk(),u=Qk(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const p=a.join("");mt(Xn,`Creating RPC '${e}' stream ${s}: ${p}`,d);const g=l.createWebChannel(p,d);let y=!1,v=!1;const _=new G9({Fo:T=>{v?mt(Xn,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(y||(mt(Xn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),y=!0),mt(Xn,`RPC '${e}' stream ${s} sending:`,T),g.send(T))},Mo:()=>g.close()}),w=(T,D,I)=>{T.listen(D,(z=>{try{I(z)}catch(F){setTimeout((()=>{throw F}),0)}}))};return w(g,Ad.EventType.OPEN,(()=>{v||(mt(Xn,`RPC '${e}' stream ${s} transport opened.`),_.Qo())})),w(g,Ad.EventType.CLOSE,(()=>{v||(v=!0,mt(Xn,`RPC '${e}' stream ${s} transport closed`),_.Uo())})),w(g,Ad.EventType.ERROR,(T=>{v||(v=!0,uu(Xn,`RPC '${e}' stream ${s} transport errored:`,T),_.Uo(new ht(Oe.UNAVAILABLE,"The operation could not be completed")))})),w(g,Ad.EventType.MESSAGE,(T=>{var D;if(!v){const I=T.data[0];rr(!!I);const z=I,F=z?.error||((D=z[0])===null||D===void 0?void 0:D.error);if(F){mt(Xn,`RPC '${e}' stream ${s} received error:`,F);const Y=F.status;let U=(function(j){const R=on[j];if(R!==void 0)return ON(R)})(Y),S=F.message;U===void 0&&(U=Oe.INTERNAL,S="Unknown error status: "+Y+" with message "+F.message),v=!0,_.Uo(new ht(U,S)),g.close()}else mt(Xn,`RPC '${e}' stream ${s} received:`,I),_.Ko(I)}})),w(u,Xk.STAT_EVENT,(T=>{T.stat===hy.PROXY?mt(Xn,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===hy.NOPROXY&&mt(Xn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{_.$o()}),0),_}}function Cx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t){return new QD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,r,n=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=r,this.Go=n,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const r=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),s=Math.max(0,r-n);s>0&&mt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="PersistentStream";class XN{constructor(e,r,n,s,a,l,u,d){this.Ti=e,this.n_=n,this.r_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Dv(e,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():r&&r.code===Oe.RESOURCE_EXHAUSTED?($i(r.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===Oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,s])=>{this.i_===r&&this.V_(n,s)}),(n=>{e((()=>{const s=new ht(Oe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(s)}))}))}V_(e,r){const n=this.R_(this.i_);this.stream=this.f_(e,r),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((s=>{n((()=>this.m_(s)))})),this.stream.onMessage((s=>{n((()=>++this.__==1?this.g_(s):this.onNext(s)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return mt(Z_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return r=>{this.Ti.enqueueAndForget((()=>this.i_===e?r():(mt(Z_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class K9 extends XN{constructor(e,r,n,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,l),this.serializer=a}f_(e,r){return this.connection.Wo("Listen",e,r)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const r=t9(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Rt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Rt.min():l.readTime?Ws(l.readTime):Rt.min()})(e);return this.listener.p_(r,n)}y_(e){const r={};r.database=wy(this.serializer),r.addTarget=(function(a,l){let u;const d=l.target;if(u=xy(d)?{documents:n9(a,d)}:{query:s9(a,d).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=MN(a,l.resumeToken);const h=vy(a,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Rt.min())>0){u.readTime=op(a,l.snapshotVersion.toTimestamp());const h=vy(a,l.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const n=i9(this.serializer,e);n&&(r.labels=n),this.I_(r)}w_(e){const r={};r.database=wy(this.serializer),r.removeTarget=e,this.I_(r)}}class Y9 extends XN{constructor(e,r,n,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,r){return this.connection.Wo("Write",e,r)}g_(e){return rr(!!e.streamToken),this.lastStreamToken=e.streamToken,rr(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){rr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const r=r9(e.writeResults,e.commitTime),n=Ws(e.commitTime);return this.listener.v_(n,r)}C_(){const e={};e.database=wy(this.serializer),this.I_(e)}b_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>UN(this.serializer,n)))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{}class Q9 extends X9{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new ht(Oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,n,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.So(e,by(r,n),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ht(Oe.UNKNOWN,a.toString())}))}Co(e,r,n,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Co(e,by(r,n),s,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ht(Oe.UNKNOWN,l.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class J9{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?($i(r),this.N_=!1):mt("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl="RemoteStore";class Z9{constructor(e,r,n,s,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To((l=>{n.enqueueAndForget((async()=>{ql(this)&&(mt(Rl,"Restarting streams for network reachability change."),await(async function(d){const h=Lt(d);h.W_.add(4),await R0(h),h.j_.set("Unknown"),h.W_.delete(4),await fm(h)})(this))}))})),this.j_=new J9(n,s)}}async function fm(t){if(ql(t))for(const e of t.G_)await e(!0)}async function R0(t){for(const e of t.G_)await e(!1)}function QN(t,e){const r=Lt(t);r.K_.has(e.targetId)||(r.K_.set(e.targetId,e),Mv(r)?Lv(r):Du(r).c_()&&Fv(r,e))}function Ov(t,e){const r=Lt(t),n=Du(r);r.K_.delete(e),n.c_()&&JN(r,e),r.K_.size===0&&(n.c_()?n.P_():ql(r)&&r.j_.set("Unknown"))}function Fv(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Du(t).y_(e)}function JN(t,e){t.H_.Ne(e),Du(t).w_(e)}function Lv(t){t.H_=new qD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Du(t).start(),t.j_.B_()}function Mv(t){return ql(t)&&!Du(t).u_()&&t.K_.size>0}function ql(t){return Lt(t).W_.size===0}function ZN(t){t.H_=void 0}async function e7(t){t.j_.set("Online")}async function t7(t){t.K_.forEach(((e,r)=>{Fv(t,e)}))}async function r7(t,e){ZN(t),Mv(t)?(t.j_.q_(e),Lv(t)):t.j_.set("Unknown")}async function n7(t,e,r){if(t.j_.set("Online"),e instanceof LN&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const u of a.targetIds)s.K_.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.K_.delete(u),s.H_.removeTarget(u))})(t,e)}catch(n){mt(Rl,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await up(t,n)}else if(e instanceof $f?t.H_.We(e):e instanceof FN?t.H_.Ze(e):t.H_.je(e),!r.isEqual(Rt.min()))try{const n=await YN(t.localStore);r.compareTo(n)>=0&&await(function(a,l){const u=a.H_.ot(l);return u.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.K_.get(h);p&&a.K_.set(h,p.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,h)=>{const p=a.K_.get(d);if(!p)return;a.K_.set(d,p.withResumeToken(zn.EMPTY_BYTE_STRING,p.snapshotVersion)),JN(a,d);const g=new Ao(p.target,d,h,p.sequenceNumber);Fv(a,g)})),a.remoteSyncer.applyRemoteEvent(u)})(t,r)}catch(n){mt(Rl,"Failed to raise snapshot:",n),await up(t,n)}}async function up(t,e,r){if(!Pu(e))throw e;t.W_.add(1),await R0(t),t.j_.set("Offline"),r||(r=()=>YN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{mt(Rl,"Retrying IndexedDB access"),await r(),t.W_.delete(1),await fm(t)}))}function eA(t,e){return e().catch((r=>up(t,r,e)))}async function pm(t){const e=Lt(t),r=$o(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:wv;for(;s7(e);)try{const s=await V9(e.localStore,n);if(s===null){e.U_.length===0&&r.P_();break}n=s.batchId,a7(e,s)}catch(s){await up(e,s)}tA(e)&&rA(e)}function s7(t){return ql(t)&&t.U_.length<10}function a7(t,e){t.U_.push(e);const r=$o(t);r.c_()&&r.S_&&r.b_(e.mutations)}function tA(t){return ql(t)&&!$o(t).u_()&&t.U_.length>0}function rA(t){$o(t).start()}async function i7(t){$o(t).C_()}async function o7(t){const e=$o(t);for(const r of t.U_)e.b_(r.mutations)}async function l7(t,e,r){const n=t.U_.shift(),s=Av.from(n,e,r);await eA(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await pm(t)}async function c7(t,e){e&&$o(t).S_&&await(async function(n,s){if((function(l){return DN(l)&&l!==Oe.ABORTED})(s.code)){const a=n.U_.shift();$o(n).h_(),await eA(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,s))),await pm(n)}})(t,e),tA(t)&&rA(t)}async function e4(t,e){const r=Lt(t);r.asyncQueue.verifyOperationInProgress(),mt(Rl,"RemoteStore received new credentials");const n=ql(r);r.W_.add(3),await R0(r),n&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.W_.delete(3),await fm(r)}async function u7(t,e){const r=Lt(t);e?(r.W_.delete(2),await fm(r)):e||(r.W_.add(2),await R0(r),r.j_.set("Unknown"))}function Du(t){return t.J_||(t.J_=(function(r,n,s){const a=Lt(r);return a.M_(),new K9(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{xo:e7.bind(null,t),No:t7.bind(null,t),Lo:r7.bind(null,t),p_:n7.bind(null,t)}),t.G_.push((async e=>{e?(t.J_.h_(),Mv(t)?Lv(t):t.j_.set("Unknown")):(await t.J_.stop(),ZN(t))}))),t.J_}function $o(t){return t.Y_||(t.Y_=(function(r,n,s){const a=Lt(r);return a.M_(),new Y9(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:i7.bind(null,t),Lo:c7.bind(null,t),D_:o7.bind(null,t),v_:l7.bind(null,t)}),t.G_.push((async e=>{e?(t.Y_.h_(),await pm(t)):(await t.Y_.stop(),t.U_.length>0&&(mt(Rl,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))}))),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,r,n,s,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=a,this.deferred=new Ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,a){const l=Date.now()+n,u=new Vv(e,r,l,s,a);return u.start(n),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(Oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $v(t,e){if($i("AsyncQueue",`${e}: ${t}`),Pu(t))return new ht(Oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{static emptySet(e){return new ru(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||At.comparator(r.key,n.key):(r,n)=>At.comparator(r.key,n.key),this.keyedMap=Sd(),this.sortedSet=new qr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof ru)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,a=n.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new ru;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.Z_=new qr(At.comparator)}track(e){const r=e.doc.key,n=this.Z_.get(r);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(r,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(r):e.type===1&&n.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):It():this.Z_=this.Z_.insert(r,e)}X_(){const e=[];return this.Z_.inorderTraversal(((r,n)=>{e.push(n)})),e}}class mu{constructor(e,r,n,s,a,l,u,d,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,s,a){const l=[];return r.forEach((u=>{l.push({type:0,doc:u})})),new mu(e,r,ru.emptySet(r),l,n,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class h7{constructor(){this.queries=r4(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,n){const s=Lt(r),a=s.queries;s.queries=r4(),a.forEach(((l,u)=>{for(const d of u.ta)d.onError(n)}))})(this,new ht(Oe.ABORTED,"Firestore shutting down"))}}function r4(){return new Gl((t=>vN(t)),im)}async function Bv(t,e){const r=Lt(t);let n=3;const s=e.query;let a=r.queries.get(s);a?!a.na()&&e.ra()&&(n=2):(a=new d7,n=e.ra()?0:1);try{switch(n){case 0:a.ea=await r.onListen(s,!0);break;case 1:a.ea=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(l){const u=$v(l,`Initialization of query '${Hc(e.query)}' failed`);return void e.onError(u)}r.queries.set(s,a),a.ta.push(e),e.sa(r.onlineState),a.ea&&e.oa(a.ea)&&zv(r)}async function Uv(t,e){const r=Lt(t),n=e.query;let s=3;const a=r.queries.get(n);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function f7(t,e){const r=Lt(t);let n=!1;for(const s of e){const a=s.query,l=r.queries.get(a);if(l){for(const u of l.ta)u.oa(s)&&(n=!0);l.ea=s}}n&&zv(r)}function p7(t,e,r){const n=Lt(t),s=n.queries.get(e);if(s)for(const a of s.ta)a.onError(r);n.queries.delete(e)}function zv(t){t.ia.forEach((e=>{e.next()}))}var Ty,n4;(n4=Ty||(Ty={}))._a="default",n4.Cache="cache";class Hv{constructor(e,r,n){this.query=e,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new mu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ua?this.la(e)&&(this.aa.next(e),r=!0):this.ha(e,this.onlineState)&&(this.Pa(e),r=!0),this.ca=e,r}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),r=!0),r}ha(e,r){if(!e.fromCache||!this.ra())return!0;const n=r!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}la(e){if(e.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(e){e=mu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ty.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.key=e}}class sA{constructor(e){this.key=e}}class m7{constructor(e,r){this.query=e,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Xt(),this.mutatedKeys=Xt(),this.ya=bN(e),this.wa=new ru(this.ya)}get Sa(){return this.fa}ba(e,r){const n=r?r.Da:new t4,s=r?r.wa:this.wa;let a=r?r.mutatedKeys:this.mutatedKeys,l=s,u=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,g)=>{const y=s.get(p),v=om(this.query,g)?g:null,_=!!y&&this.mutatedKeys.has(y.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let T=!1;y&&v?y.data.isEqual(v.data)?_!==w&&(n.track({type:3,doc:v}),T=!0):this.va(y,v)||(n.track({type:2,doc:v}),T=!0,(d&&this.ya(v,d)>0||h&&this.ya(v,h)<0)&&(u=!0)):!y&&v?(n.track({type:0,doc:v}),T=!0):y&&!v&&(n.track({type:1,doc:y}),T=!0,(d||h)&&(u=!0)),T&&(v?(l=l.add(v),a=w?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),n.track({type:1,doc:p})}return{wa:l,Da:n,ls:u,mutatedKeys:a}}va(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort(((p,g)=>(function(v,_){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It()}};return w(v)-w(_)})(p.type,g.type)||this.ya(p.doc,g.doc))),this.Ca(n),s=s!=null&&s;const u=r&&!s?this.Fa():[],d=this.pa.size===0&&this.current&&!s?1:0,h=d!==this.ga;return this.ga=d,l.length!==0||h?{snapshot:new mu(this.query,e.wa,a,l,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new t4,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((r=>this.fa=this.fa.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.fa=this.fa.delete(r))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Xt(),this.wa.forEach((n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))}));const r=[];return e.forEach((n=>{this.pa.has(n)||r.push(new sA(n))})),this.pa.forEach((n=>{e.has(n)||r.push(new nA(n))})),r}Oa(e){this.fa=e.gs,this.pa=Xt();const r=this.ba(e.documents);return this.applyChanges(r,!0)}Na(){return mu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Wv="SyncEngine";class g7{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class x7{constructor(e){this.key=e,this.Ba=!1}}class y7{constructor(e,r,n,s,a,l){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Gl((u=>vN(u)),im),this.qa=new Map,this.Qa=new Set,this.$a=new qr(At.comparator),this.Ua=new Map,this.Ka=new jv,this.Wa={},this.Ga=new Map,this.za=pu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function v7(t,e,r=!0){const n=uA(t);let s;const a=n.ka.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await aA(n,e,r,!0),s}async function b7(t,e){const r=uA(t);await aA(r,e,!0,!1)}async function aA(t,e,r,n){const s=await $9(t.localStore,Za(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,r);let u;return n&&(u=await w7(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&r&&QN(t.remoteStore,s),u}async function w7(t,e,r,n,s){t.Ha=(g,y,v)=>(async function(w,T,D,I){let z=T.view.ba(D);z.ls&&(z=await Y_(w.localStore,T.query,!1).then((({documents:S})=>T.view.ba(S,z))));const F=I&&I.targetChanges.get(T.targetId),Y=I&&I.targetMismatches.get(T.targetId)!=null,U=T.view.applyChanges(z,w.isPrimaryClient,F,Y);return a4(w,T.targetId,U.Ma),U.snapshot})(t,g,y,v);const a=await Y_(t.localStore,e,!0),l=new m7(e,a.gs),u=l.ba(a.documents),d=P0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),h=l.applyChanges(u,t.isPrimaryClient,d);a4(t,r,h.Ma);const p=new g7(e,r,l);return t.ka.set(e,p),t.qa.has(r)?t.qa.get(r).push(e):t.qa.set(r,[e]),h.snapshot}async function _7(t,e,r){const n=Lt(t),s=n.ka.get(e),a=n.qa.get(s.targetId);if(a.length>1)return n.qa.set(s.targetId,a.filter((l=>!im(l,e)))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await _y(n.localStore,s.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(s.targetId),r&&Ov(n.remoteStore,s.targetId),ky(n,s.targetId)})).catch(Iu)):(ky(n,s.targetId),await _y(n.localStore,s.targetId,!0))}async function E7(t,e){const r=Lt(t),n=r.ka.get(e),s=r.qa.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Ov(r.remoteStore,n.targetId))}async function T7(t,e,r){const n=I7(t);try{const s=await(function(l,u){const d=Lt(l),h=Nr.now(),p=u.reduce(((v,_)=>v.add(_.key)),Xt());let g,y;return d.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let _=Bi(),w=Xt();return d.ds.getEntries(v,p).next((T=>{_=T,_.forEach(((D,I)=>{I.isValidDocument()||(w=w.add(D))}))})).next((()=>d.localDocuments.getOverlayedDocuments(v,_))).next((T=>{g=T;const D=[];for(const I of u){const z=UD(I,g.get(I.key).overlayedDocument);z!=null&&D.push(new Qo(I.key,z,dN(z.value.mapValue),Mn.exists(!0)))}return d.mutationQueue.addMutationBatch(v,h,D,u)})).next((T=>{y=T;const D=T.applyToLocalDocumentSet(g,w);return d.documentOverlayCache.saveOverlays(v,T.batchId,D)}))})).then((()=>({batchId:y.batchId,changes:_N(g)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),(function(l,u,d){let h=l.Wa[l.currentUser.toKey()];h||(h=new qr(Ht)),h=h.insert(u,d),l.Wa[l.currentUser.toKey()]=h})(n,s.batchId,r),await D0(n,s.changes),await pm(n.remoteStore)}catch(s){const a=$v(s,"Failed to persist write");r.reject(a)}}async function iA(t,e){const r=Lt(t);try{const n=await L9(r.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=r.Ua.get(a);l&&(rr(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?rr(l.Ba):s.removedDocuments.size>0&&(rr(l.Ba),l.Ba=!1))})),await D0(r,n,e)}catch(n){await Iu(n)}}function s4(t,e,r){const n=Lt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.ka.forEach(((a,l)=>{const u=l.view.sa(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const d=Lt(l);d.onlineState=u;let h=!1;d.queries.forEach(((p,g)=>{for(const y of g.ta)y.sa(u)&&(h=!0)})),h&&zv(d)})(n.eventManager,e),s.length&&n.La.p_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function k7(t,e,r){const n=Lt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Ua.get(e),a=s&&s.key;if(a){let l=new qr(At.comparator);l=l.insert(a,Tn.newNoDocument(a,Rt.min()));const u=Xt().add(a),d=new dm(Rt.min(),new Map,new qr(Ht),l,u);await iA(n,d),n.$a=n.$a.remove(a),n.Ua.delete(e),Gv(n)}else await _y(n.localStore,e,!1).then((()=>ky(n,e,r))).catch(Iu)}async function N7(t,e){const r=Lt(t),n=e.batch.batchId;try{const s=await F9(r.localStore,e);lA(r,n,null),oA(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await D0(r,s)}catch(s){await Iu(s)}}async function A7(t,e,r){const n=Lt(t);try{const s=await(function(l,u){const d=Lt(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return d.mutationQueue.lookupMutationBatch(h,u).next((g=>(rr(g!==null),p=g.keys(),d.mutationQueue.removeMutationBatch(h,g)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>d.localDocuments.getDocuments(h,p)))}))})(n.localStore,e);lA(n,e,r),oA(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await D0(n,s)}catch(s){await Iu(s)}}function oA(t,e){(t.Ga.get(e)||[]).forEach((r=>{r.resolve()})),t.Ga.delete(e)}function lA(t,e,r){const n=Lt(t);let s=n.Wa[n.currentUser.toKey()];if(s){const a=s.get(e);a&&(r?a.reject(r):a.resolve(),s=s.remove(e)),n.Wa[n.currentUser.toKey()]=s}}function ky(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.qa.get(e))t.ka.delete(n),r&&t.La.Ja(n,r);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach((n=>{t.Ka.containsKey(n)||cA(t,n)}))}function cA(t,e){t.Qa.delete(e.path.canonicalString());const r=t.$a.get(e);r!==null&&(Ov(t.remoteStore,r),t.$a=t.$a.remove(e),t.Ua.delete(r),Gv(t))}function a4(t,e,r){for(const n of r)n instanceof nA?(t.Ka.addReference(n.key,e),S7(t,n)):n instanceof sA?(mt(Wv,"Document no longer in limbo: "+n.key),t.Ka.removeReference(n.key,e),t.Ka.containsKey(n.key)||cA(t,n.key)):It()}function S7(t,e){const r=e.key,n=r.path.canonicalString();t.$a.get(r)||t.Qa.has(n)||(mt(Wv,"New document in limbo: "+r),t.Qa.add(n),Gv(t))}function Gv(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const r=new At(Sr.fromString(e)),n=t.za.next();t.Ua.set(n,new x7(r)),t.$a=t.$a.insert(r,n),QN(t.remoteStore,new Ao(Za(am(r.path)),n,"TargetPurposeLimboResolution",nm.ae))}}async function D0(t,e,r){const n=Lt(t),s=[],a=[],l=[];n.ka.isEmpty()||(n.ka.forEach(((u,d)=>{l.push(n.Ha(d,e,r).then((h=>{var p;if((h||r)&&n.isPrimaryClient){const g=h?!h.fromCache:(p=r?.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){s.push(h);const g=Pv.Yi(d.targetId,h);a.push(g)}})))})),await Promise.all(l),n.La.p_(s),await(async function(d,h){const p=Lt(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>$e.forEach(h,(y=>$e.forEach(y.Hi,(v=>p.persistence.referenceDelegate.addReference(g,y.targetId,v))).next((()=>$e.forEach(y.Ji,(v=>p.persistence.referenceDelegate.removeReference(g,y.targetId,v)))))))))}catch(g){if(!Pu(g))throw g;mt(Rv,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const v=p.Ts.get(y),_=v.snapshotVersion,w=v.withLastLimboFreeSnapshotVersion(_);p.Ts=p.Ts.insert(y,w)}}})(n.localStore,a))}async function C7(t,e){const r=Lt(t);if(!r.currentUser.isEqual(e)){mt(Wv,"User change. New user:",e.toKey());const n=await KN(r.localStore,e);r.currentUser=e,(function(a,l){a.Ga.forEach((u=>{u.forEach((d=>{d.reject(new ht(Oe.CANCELLED,l))}))})),a.Ga.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await D0(r,n.Rs)}}function j7(t,e){const r=Lt(t),n=r.Ua.get(e);if(n&&n.Ba)return Xt().add(n.key);{let s=Xt();const a=r.qa.get(e);if(!a)return s;for(const l of a){const u=r.ka.get(l);s=s.unionWith(u.view.Sa)}return s}}function uA(t){const e=Lt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=j7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k7.bind(null,e),e.La.p_=f7.bind(null,e.eventManager),e.La.Ja=p7.bind(null,e.eventManager),e}function I7(t){const e=Lt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A7.bind(null,e),e}class dp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,r){return null}nu(e,r){return null}eu(e){return O9(this.persistence,new P9,e.initialUser,this.serializer)}Xa(e){return new qN(Iv.ri,this.serializer)}Za(e){return new U9}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dp.provider={build:()=>new dp};class P7 extends dp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,r){rr(this.persistence.referenceDelegate instanceof cp);const n=this.persistence.referenceDelegate.garbageCollector;return new x9(n,e.asyncQueue,r)}Xa(e){const r=this.cacheSizeBytes!==void 0?ws.withCacheSize(this.cacheSizeBytes):ws.DEFAULT;return new qN((n=>cp.ri(n,r)),this.serializer)}}class Ny{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>s4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=C7.bind(null,this.syncEngine),await u7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new h7})()}createDatastore(e){const r=hm(e.databaseInfo.databaseId),n=(function(a){return new q9(a)})(e.databaseInfo);return(function(a,l,u,d){return new Q9(a,l,u,d)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,s,a,l,u){return new Z9(n,s,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(r=>s4(this.syncEngine,r,0)),(function(){return J_.D()?new J_:new z9})())}createSyncEngine(e,r){return(function(s,a,l,u,d,h,p){const g=new y7(s,a,l,u,d,h);return p&&(g.ja=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(s){const a=Lt(s);mt(Rl,"RemoteStore shutting down."),a.W_.add(5),await R0(a),a.z_.shutdown(),a.j_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Ny.provider={build:()=>new Ny};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ht(Oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await(async function(s,a){const l=Lt(s),u={documents:a.map((g=>lp(l.serializer,g)))},d=await l.Co("BatchGetDocuments",l.serializer.databaseId,Sr.emptyPath(),u,a.length),h=new Map;d.forEach((g=>{const y=e9(l.serializer,g);h.set(y.key.toString(),y)}));const p=[];return a.forEach((g=>{const y=h.get(g.toString());rr(!!y),p.push(y)})),p})(this.datastore,e);return r.forEach((n=>this.recordVersion(n))),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new um(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((r=>{e.delete(r.key.toString())})),e.forEach(((r,n)=>{const s=At.fromPath(n);this.mutations.push(new RN(s,this.precondition(s)))})),await(async function(n,s){const a=Lt(n),l={writes:s.map((u=>UN(a.serializer,u)))};await a.So("Commit",a.serializer.databaseId,Sr.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw It();r=Rt.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new ht(Oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Rt.min())?Mn.exists(!1):Mn.updateTime(r):Mn.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Rt.min()))throw new ht(Oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mn.updateTime(r)}return Mn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e,r,n,s,a){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=s,this.deferred=a,this.Tu=n.maxAttempts,this.a_=new Dv(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo((async()=>{const e=new R7(this.datastore),r=this.du(e);r&&r.then((n=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(n)})).catch((s=>{this.Au(s)}))))})).catch((n=>{this.Au(n)}))}))}du(e){try{const r=this.updateFunction(e);return!j0(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Eu(),Promise.resolve())))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!DN(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="FirestoreClient";class O7{constructor(e,r,n,s,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=Jn.UNAUTHENTICATED,this.clientId=tN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async l=>{mt(Bo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(n,(l=>(mt(Bo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=$v(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function jx(t,e){t.asyncQueue.verifyOperationInProgress(),mt(Bo,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async s=>{n.isEqual(s)||(await KN(e.localStore,s),n=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function i4(t,e){t.asyncQueue.verifyOperationInProgress();const r=await F7(t);mt(Bo,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>e4(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,s)=>e4(e.remoteStore,s))),t._onlineComponents=e}async function F7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){mt(Bo,"Using user provided OfflineComponentProvider");try{await jx(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Oe.FAILED_PRECONDITION||s.code===Oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(r))throw r;uu("Error using user provided cache. Falling back to memory cache: "+r),await jx(t,new dp)}}else mt(Bo,"Using default OfflineComponentProvider"),await jx(t,new P7(void 0));return t._offlineComponents}async function Kv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(mt(Bo,"Using user provided OnlineComponentProvider"),await i4(t,t._uninitializedComponentsProvider._online)):(mt(Bo,"Using default OnlineComponentProvider"),await i4(t,new Ny))),t._onlineComponents}function L7(t){return Kv(t).then((e=>e.syncEngine))}function M7(t){return Kv(t).then((e=>e.datastore))}async function hp(t){const e=await Kv(t),r=e.eventManager;return r.onListen=v7.bind(null,e.syncEngine),r.onUnlisten=_7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=b7.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=E7.bind(null,e.syncEngine),r}function V7(t,e,r={}){const n=new Ja;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,d,h){const p=new qv({next:y=>{p.su(),l.enqueueAndForget((()=>Uv(a,g)));const v=y.docs.has(u);!v&&y.fromCache?h.reject(new ht(Oe.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&d&&d.source==="server"?h.reject(new ht(Oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new Hv(am(u.path),p,{includeMetadataChanges:!0,Ta:!0});return Bv(a,g)})(await hp(t),t.asyncQueue,e,r,n))),n.promise}function $7(t,e,r={}){const n=new Ja;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,d,h){const p=new qv({next:y=>{p.su(),l.enqueueAndForget((()=>Uv(a,g))),y.fromCache&&d.source==="server"?h.reject(new ht(Oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new Hv(u,p,{includeMetadataChanges:!0,Ta:!0});return Bv(a,g)})(await hp(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t,e,r){if(!r)throw new ht(Oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function B7(t,e,r,n){if(e===!0&&n===!0)throw new ht(Oe.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function l4(t){if(!At.isDocumentKey(t))throw new ht(Oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function c4(t){if(At.isDocumentKey(t))throw new ht(Oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":It()}function ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ht(Oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=mm(t);throw new ht(Oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function U7(t,e){if(e<=0)throw new ht(Oe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="firestore.googleapis.com",u4=!0;class d4{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ht(Oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fA,this.ssl=u4}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:u4;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m9)throw new ht(Oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}B7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dA((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ht(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ht(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ht(Oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,s){return n.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gm{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(Oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ht(Oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new Y8;switch(n.type){case"firstParty":return new Z8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ht(Oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=o4.get(r);n&&(mt("ComponentProvider","Removing Datastore"),o4.delete(r),n.terminate())})(this),Promise.resolve()}}function z7(t,e,r,n={}){var s;const a=(t=ds(t,gm))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${r}`;a.host!==fA&&a.host!==u&&uu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},a),{host:u,ssl:!1,emulatorOptions:n});if(!Oo(d,l)&&(t._setSettings(d),n.mockUserToken)){let h,p;if(typeof n.mockUserToken=="string")h=n.mockUserToken,p=Jn.MOCK_USER;else{h=mk(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const g=n.mockUserToken.sub||n.mockUserToken.user_id;if(!g)throw new ht(Oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Jn(g)}t._authCredentials=new X8(new Zk(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class Bn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bn(this.firestore,e,this._key)}}class Ro extends qi{constructor(e,r,n){super(e,r,am(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bn(this.firestore,null,new At(e))}withConverter(e){return new Ro(this.firestore,e,this._path)}}function kt(t,e,...r){if(t=jr(t),hA("collection","path",e),t instanceof gm){const n=Sr.fromString(e,...r);return c4(n),new Ro(t,null,n)}{if(!(t instanceof Bn||t instanceof Ro))throw new ht(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Sr.fromString(e,...r));return c4(n),new Ro(t.firestore,null,n)}}function ut(t,e,...r){if(t=jr(t),arguments.length===1&&(e=tN.newId()),hA("doc","path",e),t instanceof gm){const n=Sr.fromString(e,...r);return l4(n),new Bn(t,null,new At(n))}{if(!(t instanceof Bn||t instanceof Ro))throw new ht(Oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Sr.fromString(e,...r));return l4(n),new Bn(t.firestore,t instanceof Ro?t.converter:null,new At(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="AsyncQueue";class f4{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Dv(this,"async_queue_retry"),this.Su=()=>{const n=Cx();n&&mt(h4,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const r=Cx();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const r=Cx();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const r=new Ja;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Pu(e))throw e;mt(h4,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const r=this.bu.then((()=>(this.pu=!0,e().catch((n=>{this.gu=n,this.pu=!1;const s=(function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u})(n);throw $i("INTERNAL UNHANDLED ERROR: ",s),n})).then((n=>(this.pu=!1,n))))));return this.bu=r,r}enqueueAfterDelay(e,r,n){this.Du(),this.wu.indexOf(e)>-1&&(r=0);const s=Vv.createAndSchedule(this,e,r,n,(a=>this.Fu(a)));return this.fu.push(s),s}Du(){this.gu&&It()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const r of this.fu)if(r.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.fu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const r=this.fu.indexOf(e);this.fu.splice(r,1)}}function p4(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const a of n)if(a in s&&typeof s[a]=="function")return!0;return!1})(t,["next","error","complete"])}class ci extends gm{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new f4,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new f4(e),this._firestoreClient=void 0,await e}}}function H7(t,e){const r=typeof t=="object"?t:em(),n=typeof t=="string"?t:np,s=Yo(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const a=hk("firestore");a&&z7(s,...a)}return s}function O0(t){if(t._terminated)throw new ht(Oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||W7(t),t._firestoreClient}function W7(t){var e,r,n;const s=t._freezeSettings(),a=(function(u,d,h,p){return new pD(u,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,dA(p.experimentalLongPollingOptions),p.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new O7(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(u){const d=u?._online.build();return{_offline:u?._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dl(zn.fromBase64String(e))}catch(r){throw new ht(Oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Dl(zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ht(Oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ht(Oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ht(Oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,s){if(n.length!==s.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==s[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7=/^__.*__$/;class q7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Qo(e,this.data,this.fieldMask,r,this.fieldTransforms):new I0(e,this.data,r,this.fieldTransforms)}}class pA{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Qo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function mA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It()}}class Qv{constructor(e,r,n,s,a,l){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Qv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.ku({path:n,Qu:!1});return s.$u(e),s}Uu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.ku({path:n,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return fp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(mA(this.Lu)&&G7.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class K7{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||hm(e)}ju(e,r,n,s=!1){return new Qv({Lu:e,methodName:r,zu:n,path:Ln.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M0(t){const e=t._freezeSettings(),r=hm(t._databaseId);return new K7(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Jv(t,e,r,n,s,a={}){const l=t.ju(a.merge||a.mergeFields?2:0,e,r,s);t1("Data must be an object, but it was:",l,n);const u=yA(n,l);let d,h;if(a.merge)d=new Us(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const y=Ay(e,g,r);if(!l.contains(y))throw new ht(Oe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);bA(p,y)||p.push(y)}d=new Us(p),h=l.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,h=l.fieldTransforms;return new q7(new cs(u),d,h)}class xm extends L0{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xm}}class Zv extends L0{_toFieldTransform(e){return new jN(e.path,new a0)}isEqual(e){return e instanceof Zv}}class e1 extends L0{constructor(e,r){super(e),this.Ju=r}_toFieldTransform(e){const r=new l0(e.serializer,kN(e.serializer,this.Ju));return new jN(e.path,r)}isEqual(e){return e instanceof e1&&this.Ju===e.Ju}}function gA(t,e,r,n){const s=t.ju(1,e,r);t1("Data must be an object, but it was:",s,n);const a=[],l=cs.empty();Xo(n,((d,h)=>{const p=r1(e,d,r);h=jr(h);const g=s.Uu(p);if(h instanceof xm)a.push(p);else{const y=V0(h,g);y!=null&&(a.push(p),l.set(p,y))}}));const u=new Us(a);return new pA(l,u,s.fieldTransforms)}function xA(t,e,r,n,s,a){const l=t.ju(1,e,r),u=[Ay(e,n,r)],d=[s];if(a.length%2!=0)throw new ht(Oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)u.push(Ay(e,a[y])),d.push(a[y+1]);const h=[],p=cs.empty();for(let y=u.length-1;y>=0;--y)if(!bA(h,u[y])){const v=u[y];let _=d[y];_=jr(_);const w=l.Uu(v);if(_ instanceof xm)h.push(v);else{const T=V0(_,w);T!=null&&(h.push(v),p.set(v,T))}}const g=new Us(h);return new pA(p,g,l.fieldTransforms)}function Y7(t,e,r,n=!1){return V0(r,t.ju(n?4:3,e))}function V0(t,e){if(vA(t=jr(t)))return t1("Unsupported field value:",e,t),yA(t,e);if(t instanceof L0)return(function(n,s){if(!mA(s.Lu))throw s.Wu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return(function(n,s){const a=[];let l=0;for(const u of n){let d=V0(u,s.Ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}})(t,e)}return(function(n,s){if((n=jr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return kN(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Nr.fromDate(n);return{timestampValue:op(s.serializer,a)}}if(n instanceof Nr){const a=new Nr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:op(s.serializer,a)}}if(n instanceof Yv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Dl)return{bytesValue:MN(s.serializer,n._byteString)};if(n instanceof Bn){const a=s.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Cv(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof Xv)return(function(l,u){return{mapValue:{fields:{[cN]:{stringValue:uN},[sp]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return Nv(u.serializer,h)}))}}}}}})(n,s);throw s.Wu(`Unsupported field value: ${mm(n)}`)})(t,e)}function yA(t,e){const r={};return nN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(t,((n,s)=>{const a=V0(s,e.qu(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function vA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nr||t instanceof Yv||t instanceof Dl||t instanceof Bn||t instanceof L0||t instanceof Xv)}function t1(t,e,r){if(!vA(r)||!(function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)})(r)){const n=mm(r);throw n==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+n)}}function Ay(t,e,r){if((e=jr(e))instanceof F0)return e._internalPath;if(typeof e=="string")return r1(t,e);throw fp("Field path arguments must be of type string or ",t,!1,void 0,r)}const X7=new RegExp("[~\\*/\\[\\]]");function r1(t,e,r){if(e.search(X7)>=0)throw fp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new F0(...e.split("."))._internalPath}catch{throw fp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function fp(t,e,r,n,s){const a=n&&!n.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${n}`),l&&(d+=` in document ${s}`),d+=")"),new ht(Oe.INVALID_ARGUMENT,u+t+d)}function bA(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,r,n,s,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(ym("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Q7 extends pp{data(){return super.data()}}function ym(t,e){return typeof e=="string"?r1(t,e):e instanceof F0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ht(Oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n1{}class s1 extends n1{}function tr(t,e,...r){let n=[];e instanceof n1&&n.push(e),n=n.concat(r),(function(a){const l=a.filter((d=>d instanceof a1)).length,u=a.filter((d=>d instanceof vm)).length;if(l>1||l>0&&u>0)throw new ht(Oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const s of n)t=s._apply(t);return t}class vm extends s1{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new vm(e,r,n)}_apply(e){const r=this._parse(e);return EA(e._query,r),new qi(e.firestore,e.converter,yy(e._query,r))}_parse(e){const r=M0(e.firestore);return(function(a,l,u,d,h,p,g){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ht(Oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){g4(g,p);const _=[];for(const w of g)_.push(m4(d,a,w));y={arrayValue:{values:_}}}else y=m4(d,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||g4(g,p),y=Y7(u,l,g,p==="in"||p==="not-in");return ln.create(h,p,y)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function br(t,e,r){const n=e,s=ym("where",t);return vm._create(s,n,r)}class a1 extends n1{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new a1(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Oa.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(s,a){let l=s;const u=a.getFlattenedFilters();for(const d of u)EA(l,d),l=yy(l,d)})(e._query,r),new qi(e.firestore,e.converter,yy(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i1 extends s1{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new i1(e,r)}_apply(e){const r=(function(s,a,l){if(s.startAt!==null)throw new ht(Oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ht(Oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new s0(a,l)})(e._query,this._field,this._direction);return new qi(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new Ru(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,r))}}function o1(t,e="asc"){const r=e,n=ym("orderBy",t);return i1._create(n,r)}class l1 extends s1{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new l1(e,r,n)}_apply(e){return new qi(e.firestore,e.converter,ip(e._query,this._limit,this._limitType))}}function _A(t){return U7("limit",t),l1._create("limit",t,"F")}function m4(t,e,r){if(typeof(r=jr(r))=="string"){if(r==="")throw new ht(Oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yN(e)&&r.indexOf("/")!==-1)throw new ht(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Sr.fromString(r));if(!At.isDocumentKey(n))throw new ht(Oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return j_(t,new At(n))}if(r instanceof Bn)return j_(t,r._key);throw new ht(Oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mm(r)}.`)}function g4(t,e){if(!Array.isArray(t)||t.length===0)throw new ht(Oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EA(t,e){const r=(function(s,a){for(const l of s)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new ht(Oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ht(Oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class TA{convertValue(e,r="none"){switch(Vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw It()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Xo(e,((s,a)=>{n[s]=this.convertValue(a,r)})),n}convertVectorValue(e){var r,n,s;const a=(s=(n=(r=e.fields)===null||r===void 0?void 0:r[sp].arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map((l=>en(l.doubleValue)));return new Xv(a)}convertGeoPoint(e){return new Yv(en(e.latitude),en(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=sm(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(t0(e));default:return null}}convertTimestamp(e){const r=Lo(e);return new Nr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Sr.fromString(e);rr(WN(n));const s=new r0(n.get(1),n.get(3)),a=new At(n.popFirst(5));return s.isEqual(r)||$i(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class J7 extends TA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class u1 extends pp{constructor(e,r,n,s,a,l){super(e,r,n,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(ym("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Bf extends u1{data(e={}){return super.data(e)}}class kA{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new Kc(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new Bf(this._firestore,this._userDataWriter,n.key,n,new Kc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ht(Oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const d=new Bf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Kc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const d=new Bf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Kc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,p=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:Z7(u.type),doc:d,oldIndex:h,newIndex:p}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Z7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t){t=ds(t,Bn);const e=ds(t.firestore,ci);return V7(O0(e),t._key).then((r=>NA(e,t,r)))}class bm extends TA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,r)}}function rn(t){t=ds(t,qi);const e=ds(t.firestore,ci),r=O0(e),n=new bm(e);return wA(t._query),$7(r,t._query).then((s=>new kA(e,n,t,s)))}function ui(t,e,r){t=ds(t,Bn);const n=ds(t.firestore,ci),s=c1(t.converter,e,r);return wm(n,[Jv(M0(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,Mn.none())])}function Mr(t,e,r,...n){t=ds(t,Bn);const s=ds(t.firestore,ci),a=M0(s);let l;return l=typeof(e=jr(e))=="string"||e instanceof F0?xA(a,"updateDoc",t._key,e,r,n):gA(a,"updateDoc",t._key,e),wm(s,[l.toMutation(t._key,Mn.exists(!0))])}function Ci(t){return wm(ds(t.firestore,ci),[new um(t._key,Mn.none())])}function Do(t,e){const r=ds(t.firestore,ci),n=ut(t),s=c1(t.converter,e);return wm(r,[Jv(M0(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,Mn.exists(!1))]).then((()=>n))}function hr(t,...e){var r,n,s;t=jr(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||p4(e[l])||(a=e[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(p4(e[l])){const g=e[l];e[l]=(r=g.next)===null||r===void 0?void 0:r.bind(g),e[l+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),e[l+2]=(s=g.complete)===null||s===void 0?void 0:s.bind(g)}let d,h,p;if(t instanceof Bn)h=ds(t.firestore,ci),p=am(t._key.path),d={next:g=>{e[l]&&e[l](NA(h,t,g))},error:e[l+1],complete:e[l+2]};else{const g=ds(t,qi);h=ds(g.firestore,ci),p=g._query;const y=new bm(h);d={next:v=>{e[l]&&e[l](new kA(h,y,g,v))},error:e[l+1],complete:e[l+2]},wA(t._query)}return(function(y,v,_,w){const T=new qv(w),D=new Hv(v,T,_);return y.asyncQueue.enqueueAndForget((async()=>Bv(await hp(y),D))),()=>{T.su(),y.asyncQueue.enqueueAndForget((async()=>Uv(await hp(y),D)))}})(O0(h),p,u,d)}function wm(t,e){return(function(n,s){const a=new Ja;return n.asyncQueue.enqueueAndForget((async()=>T7(await L7(n),s,a))),a.promise})(O0(t),e)}function NA(t,e,r){const n=r.docs.get(e._key),s=new bm(t);return new u1(t,s,e._key,n,new Kc(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO={maxAttempts:5};function jd(t,e){if((t=jr(t)).firestore!==e)throw new ht(Oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=M0(e)}get(e){const r=jd(e,this._firestore),n=new J7(this._firestore);return this._transaction.lookup([r._key]).then((s=>{if(!s||s.length!==1)return It();const a=s[0];if(a.isFoundDocument())return new pp(this._firestore,n,a.key,a,r.converter);if(a.isNoDocument())return new pp(this._firestore,n,r._key,null,r.converter);throw It()}))}set(e,r,n){const s=jd(e,this._firestore),a=c1(s.converter,r,n),l=Jv(this._dataReader,"Transaction.set",s._key,a,s.converter!==null,n);return this._transaction.set(s._key,l),this}update(e,r,n,...s){const a=jd(e,this._firestore);let l;return l=typeof(r=jr(r))=="string"||r instanceof F0?xA(this._dataReader,"Transaction.update",a._key,r,n,s):gA(this._dataReader,"Transaction.update",a._key,r),this._transaction.update(a._key,l),this}delete(e){const r=jd(e,this._firestore);return this._transaction.delete(r._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO extends tO{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=jd(e,this._firestore),n=new bm(this._firestore);return super.get(e).then((s=>new u1(this._firestore,n,r._key,s._document,new Kc(!1,!1),r.converter)))}}function Sy(t,e,r){t=ds(t,ci);const n=Object.assign(Object.assign({},eO),r);return(function(a){if(a.maxAttempts<1)throw new ht(Oe.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n),(function(a,l,u){const d=new Ja;return a.asyncQueue.enqueueAndForget((async()=>{const h=await M7(a);new D7(a.asyncQueue,h,u,l,d).Iu()})),d.promise})(O0(t),(s=>e(new rO(t,s))),n)}function wr(){return new Zv("serverTimestamp")}function nO(t){return new e1("increment",t)}(function(e,r=!0){(function(s){ju=s})(Wl),Da(new ua("firestore",((n,{instanceIdentifier:s,options:a})=>{const l=n.getProvider("app").getImmediate(),u=new ci(new Q8(n.getProvider("auth-internal")),new eD(l,n.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ht(Oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new r0(h.options.projectId,p)})(l,s),l);return a=Object.assign({useFetchStreams:r},a),u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Ts(y_,v_,e),Ts(y_,v_,"esm2017")})();function d1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function AA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sO=AA,SA=new Hl("auth","Firebase",AA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=new Zp("@firebase/auth");function aO(t,...e){mp.logLevel<=Yt.WARN&&mp.warn(`Auth (${Wl}): ${t}`,...e)}function Uf(t,...e){mp.logLevel<=Yt.ERROR&&mp.error(`Auth (${Wl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t,...e){throw h1(t,...e)}function ti(t,...e){return h1(t,...e)}function CA(t,e,r){const n=Object.assign(Object.assign({},sO()),{[e]:r});return new Hl("auth","Firebase",n).create(e,{appName:t.name})}function Ri(t){return CA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h1(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return SA.create(t,...e)}function Dt(t,e,...r){if(!t)throw h1(e,...r)}function ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uf(e),new Error(e)}function Ui(t,e){t||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function iO(){return x4()==="http:"||x4()==="https:"}function x4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iO()||gk()||"connection"in navigator)?navigator.onLine:!0}function lO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ui(r>e,"Short delay should be less than long delay!"),this.isMobile=nP()||iP()}get(){return oO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t,e){Ui(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dO=new $0(3e4,6e4);function Ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Va(t,e,r,n,s={}){return IA(t,s,async()=>{let a={},l={};n&&(e==="GET"?l=n:a={body:JSON.stringify(n)});const u=C0(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},a);return aP()||(h.referrerPolicy="no-referrer"),jA.fetch()(await PA(t,t.config.apiHost,r,u),h)})}async function IA(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},cO),e);try{const s=new fO(t),a=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw bf(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw bf(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw bf(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw bf(t,"user-disabled",l);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw CA(t,p,h);Fa(t,p)}}catch(s){if(s instanceof da)throw s;Fa(t,"network-request-failed",{message:String(s)})}}async function B0(t,e,r,n,s={}){const a=await Va(t,e,r,n,s);return"mfaPendingCredential"in a&&Fa(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function PA(t,e,r,n){const s=`${e}${r}?${n}`,a=t,l=a.config.emulator?f1(t.config,s):`${t.config.apiScheme}://${s}`;return uO.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function hO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ti(this.auth,"network-request-failed")),dO.get())})}}function bf(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=ti(t,e,n);return s.customData._tokenResponse=r,s}function y4(t){return t!==void 0&&t.enterprise!==void 0}class pO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return hO(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mO(t,e){return Va(t,"GET","/v2/recaptchaConfig",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(t,e){return Va(t,"POST","/v1/accounts:delete",e)}async function gp(t,e){return Va(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xO(t,e=!1){const r=jr(t),n=await r.getIdToken(e),s=p1(n);Dt(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:n,authTime:$d(Ix(s.auth_time)),issuedAtTime:$d(Ix(s.iat)),expirationTime:$d(Ix(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Ix(t){return Number(t)*1e3}function p1(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Uf("JWT malformed, contained fewer than 3 sections"),null;try{const s=uk(r);return s?JSON.parse(s):(Uf("Failed to decode base64 JWT payload"),null)}catch(s){return Uf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function v4(t){const e=p1(t);return Dt(e,"internal-error"),Dt(typeof e.exp<"u","internal-error"),Dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof da&&yO(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function yO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=$d(this.lastLoginAt),this.creationTime=$d(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xp(t){var e;const r=t.auth,n=await t.getIdToken(),s=await Ol(t,gp(r,{idToken:n}));Dt(s?.users.length,r,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?RA(a.providerUserInfo):[],u=wO(t.providerData,l),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!u?.length,p=d?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new jy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function bO(t){const e=jr(t);await xp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wO(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function RA(t){return t.map(e=>{var{providerId:r}=e,n=d1(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t,e){const r=await IA(t,{},async()=>{const n=C0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await PA(t,s,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",jA.fetch()(l,{method:"POST",headers:u,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function EO(t,e){return Va(t,"POST","/v2/accounts:revokeToken",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Dt(e.idToken,"internal-error"),Dt(typeof e.idToken<"u","internal-error"),Dt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Dt(e.length!==0,"internal-error");const r=v4(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Dt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:a}=await _O(e,r);this.updateTokensAndExpiration(n,s,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:a}=r,l=new nu;return n&&(Dt(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),s&&(Dt(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Dt(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nu,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t,e){Dt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Sa{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,a=d1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new jy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return Dt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return xO(this,e)}reload(){return bO(this)}_assign(e){this!==e&&(Dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Sa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await xp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bs(this.auth.app))return Promise.reject(Ri(this.auth));const e=await this.getIdToken();return await Ol(this,gO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,a,l,u,d,h,p;const g=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(s=r.email)!==null&&s!==void 0?s:void 0,v=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,_=(l=r.photoURL)!==null&&l!==void 0?l:void 0,w=(u=r.tenantId)!==null&&u!==void 0?u:void 0,T=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,D=(h=r.createdAt)!==null&&h!==void 0?h:void 0,I=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:z,emailVerified:F,isAnonymous:Y,providerData:U,stsTokenManager:S}=r;Dt(z&&S,e,"internal-error");const A=nu.fromJSON(this.name,S);Dt(typeof z=="string",e,"internal-error"),bo(g,e.name),bo(y,e.name),Dt(typeof F=="boolean",e,"internal-error"),Dt(typeof Y=="boolean",e,"internal-error"),bo(v,e.name),bo(_,e.name),bo(w,e.name),bo(T,e.name),bo(D,e.name),bo(I,e.name);const j=new Sa({uid:z,auth:e,email:y,emailVerified:F,displayName:g,isAnonymous:Y,photoURL:_,phoneNumber:v,tenantId:w,stsTokenManager:A,createdAt:D,lastLoginAt:I});return U&&Array.isArray(U)&&(j.providerData=U.map(R=>Object.assign({},R))),T&&(j._redirectEventId=T),j}static async _fromIdTokenResponse(e,r,n=!1){const s=new nu;s.updateFromServerResponse(r);const a=new Sa({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await xp(a),a}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];Dt(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?RA(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,u=new nu;u.updateFromIdToken(n);const d=new Sa({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=new Map;function Ii(t){Ui(t instanceof Function,"Expected a class definition");let e=b4.get(t);return e?(Ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,b4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}DA.type="NONE";const w4=DA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t,e,r){return`firebase:${t}:${e}:${r}`}class su{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:a}=this.auth;this.fullUserKey=zf(this.userKey,s.apiKey,a),this.fullPersistenceKey=zf("persistence",s.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await gp(this.auth,{idToken:e}).catch(()=>{});return r?Sa._fromGetAccountInfoResponse(this.auth,r,e):null}return Sa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new su(Ii(w4),e,n);const s=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=s[0]||Ii(w4);const l=zf(n,e.config.apiKey,e.name);let u=null;for(const h of r)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const y=await gp(e,{idToken:p}).catch(()=>{});if(!y)break;g=await Sa._fromGetAccountInfoResponse(e,y,p)}else g=Sa._fromJSON(e,p);h!==a&&(u=g),a=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new su(a,e,n):(a=d[0],u&&await a._set(l,u.toJSON()),await Promise.all(r.map(async h=>{if(h!==a)try{await h._remove(l)}catch{}})),new su(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($A(e))return"Blackberry";if(BA(e))return"Webos";if(FA(e))return"Safari";if((e.includes("chrome/")||LA(e))&&!e.includes("edge/"))return"Chrome";if(VA(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function OA(t=rs()){return/firefox\//i.test(t)}function FA(t=rs()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LA(t=rs()){return/crios\//i.test(t)}function MA(t=rs()){return/iemobile/i.test(t)}function VA(t=rs()){return/android/i.test(t)}function $A(t=rs()){return/blackberry/i.test(t)}function BA(t=rs()){return/webos/i.test(t)}function m1(t=rs()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TO(t=rs()){var e;return m1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kO(){return oP()&&document.documentMode===10}function UA(t=rs()){return m1(t)||VA(t)||BA(t)||$A(t)||/windows phone/i.test(t)||MA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t,e=[]){let r;switch(t){case"Browser":r=_4(rs());break;case"Worker":r=`${_4(rs())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Wl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((l,u)=>{try{const d=e(a);l(d)}catch(d){u(d)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(t,e={}){return Va(t,"GET","/v2/passwordPolicy",Ki(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=6;class CO{constructor(e){var r,n,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=l.minPasswordLength)!==null&&r!==void 0?r:SO,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,a,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E4(this),this.idTokenSubscription=new E4(this),this.beforeStateQueue=new NO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ii(r)),this._initializationPromise=this.queue(async()=>{var n,s,a;if(!this._deleted&&(this.persistenceManager=await su.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await gp(this,{idToken:e}),n=await Sa._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Bs(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await xp(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bs(this.app))return Promise.reject(Ri(this));const r=e?jr(e):null;return r&&Dt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Dt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bs(this.app)?Promise.reject(Ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bs(this.app)?Promise.reject(Ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AO(this),r=new CO(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hl("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await EO(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ii(e)||this._popupRedirectResolver;Dt(r,this,"argument-error"),this.redirectPersistenceManager=await su.create(this,[Ii(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Dt(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,s);return()=>{l=!0,d()}}else{const d=e.addObserver(r);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;if(Bs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&aO(`Error while retrieving App Check token: ${r.error}`),r?.token}}function Jo(t){return jr(t)}class E4{constructor(e){this.auth=e,this.observer=null,this.addObserver=pP(r=>this.observer=r)}get next(){return Dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IO(t){_m=t}function HA(t){return _m.loadJS(t)}function PO(){return _m.recaptchaEnterpriseScript}function RO(){return _m.gapiScript}function DO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class OO{constructor(){this.enterprise=new FO}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class FO{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const LO="recaptcha-enterprise",WA="NO_RECAPTCHA";class MO{constructor(e){this.type=LO,this.auth=Jo(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{mO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new pO(d);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function s(a,l,u){const d=window.grecaptcha;y4(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(h=>{l(h)}).catch(()=>{l(WA)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OO().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{n(this.auth).then(u=>{if(!r&&y4(window.grecaptcha))s(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=PO();d.length!==0&&(d+=u),HA(d).then(()=>{s(u,a,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function T4(t,e,r,n=!1,s=!1){const a=new MO(t);let l;if(s)l=WA;else try{l=await a.verify(r)}catch{l=await a.verify(r,!0)}const u=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return n?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function yp(t,e,r,n,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await T4(t,e,r,r==="getOobCode");return n(t,l)}else return n(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await T4(t,e,r,r==="getOobCode");return n(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t,e){const r=Yo(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),a=r.getOptions();if(Oo(a,e??{}))return s;Fa(s,"already-initialized")}return r.initialize({options:e})}function $O(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Ii);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function BO(t,e,r){const n=Jo(t);Dt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,a=GA(e),{host:l,port:u}=UO(e),d=u===null?"":`:${u}`,h={url:`${a}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){Dt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Dt(Oo(h,n.config.emulator)&&Oo(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,zO()}function GA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UO(t){const e=GA(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const a=s[1];return{host:a,port:k4(n.substr(a.length+1))}}else{const[a,l]=n.split(":");return{host:a,port:k4(l)}}}function k4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zO(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,r){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}async function HO(t,e){return Va(t,"POST","/v1/accounts:update",e)}async function WO(t,e){return Va(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(t,e){return B0(t,"POST","/v1/accounts:signInWithPassword",Ki(t,e))}async function qO(t,e){return Va(t,"POST","/v1/accounts:sendOobCode",Ki(t,e))}async function KO(t,e){return qO(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(t,e){return B0(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}async function XO(t,e){return B0(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0 extends g1{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new c0(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new c0(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yp(e,r,"signInWithPassword",GO);case"emailLink":return YO(e,{email:this._email,oobCode:this._password});default:Fa(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yp(e,n,"signUpPassword",WO);case"emailLink":return XO(e,{idToken:r,email:this._email,oobCode:this._password});default:Fa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(t,e){return B0(t,"POST","/v1/accounts:signInWithIdp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="http://localhost";class Fl extends g1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Fl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Fa("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,a=d1(r,["providerId","signInMethod"]);if(!n||!s)return null;const l=new Fl(n,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const r=this.buildRequest();return au(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,au(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,au(e,r)}buildRequest(){const e={requestUri:QO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=C0(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZO(t){const e=kd(Nd(t)).link,r=e?kd(Nd(e)).deep_link_id:null,n=kd(Nd(t)).deep_link_id;return(n?kd(Nd(n)).link:null)||n||r||e||t}class x1{constructor(e){var r,n,s,a,l,u;const d=kd(Nd(e)),h=(r=d.apiKey)!==null&&r!==void 0?r:null,p=(n=d.oobCode)!==null&&n!==void 0?n:null,g=JO((s=d.mode)!==null&&s!==void 0?s:null);Dt(h&&p&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=p,this.continueUrl=(a=d.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=ZO(e);try{return new x1(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this.providerId=Ou.PROVIDER_ID}static credential(e,r){return c0._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=x1.parseLink(r);return Dt(n,"argument-error"),c0._fromEmailAndCode(e,n.code,n.tenantId)}}Ou.PROVIDER_ID="password";Ou.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ou.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends qA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends U0{constructor(){super("facebook.com")}static credential(e){return Fl._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eo.credential(e.oauthAccessToken)}catch{return null}}}Eo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Eo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends U0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Fl._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return To.credential(r,n)}catch{return null}}}To.GOOGLE_SIGN_IN_METHOD="google.com";To.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends U0{constructor(){super("github.com")}static credential(e){return Fl._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ko.credential(e.oauthAccessToken)}catch{return null}}}ko.GITHUB_SIGN_IN_METHOD="github.com";ko.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends U0{constructor(){super("twitter.com")}static credential(e,r){return Fl._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return No.credential(r,n)}catch{return null}}}No.TWITTER_SIGN_IN_METHOD="twitter.com";No.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eF(t,e){return B0(t,"POST","/v1/accounts:signUp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const a=await Sa._fromIdTokenResponse(e,n,s),l=N4(n);return new Ll({user:a,providerId:l,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=N4(n);return new Ll({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function N4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp extends da{constructor(e,r,n,s){var a;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,vp.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new vp(e,r,n,s)}}function KA(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?vp._fromErrorAndOperation(t,a,e,n):a})}async function tF(t,e,r=!1){const n=await Ol(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ll._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(t,e,r=!1){const{auth:n}=t;if(Bs(n.app))return Promise.reject(Ri(n));const s="reauthenticate";try{const a=await Ol(t,KA(n,s,e,t),r);Dt(a.idToken,n,"internal-error");const l=p1(a.idToken);Dt(l,n,"internal-error");const{sub:u}=l;return Dt(t.uid===u,n,"user-mismatch"),Ll._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Fa(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YA(t,e,r=!1){if(Bs(t.app))return Promise.reject(Ri(t));const n="signIn",s=await KA(t,n,e),a=await Ll._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(a.user),a}async function nF(t,e){return YA(Jo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XA(t){const e=Jo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sF(t,e,r){const n=Jo(t);await yp(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",KO)}async function aF(t,e,r){if(Bs(t.app))return Promise.reject(Ri(t));const n=Jo(t),l=await yp(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eF).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&XA(t),d}),u=await Ll._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(u.user),u}function iF(t,e,r){return Bs(t.app)?Promise.reject(Ri(t)):nF(jr(t),Ou.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&XA(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF(t,e){return Va(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=jr(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},l=await Ol(n,oF(n.auth,a));n.displayName=l.displayName||null,n.photoURL=l.photoUrl||null;const u=n.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=n.displayName,u.photoURL=n.photoURL),await n._updateTokensIfNecessary(l)}function y1(t,e){return cF(jr(t),null,e)}async function cF(t,e,r){const{auth:n}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(a.password=r);const l=await Ol(t,HO(n,a));await t._updateTokensIfNecessary(l,!0)}function uF(t,e,r,n){return jr(t).onIdTokenChanged(e,r,n)}function dF(t,e,r){return jr(t).beforeAuthStateChanged(e,r)}function Kl(t,e,r,n){return jr(t).onAuthStateChanged(e,r,n)}function z0(t){return jr(t).signOut()}const bp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(bp,"1"),this.storage.removeItem(bp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=1e3,fF=10;class JA extends QA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(n);!r&&this.localCache[n]===l||this.notifyListeners(n,l)},a=this.storage.getItem(n);kO()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,fF):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},hF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}JA.type="LOCAL";const pF=JA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA extends QA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}ZA.type="SESSION";const e3=ZA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new Em(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:a}=r.data,l=this.handlersMap[s];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const u=Array.from(l).map(async h=>h(r.origin,a)),d=await mF(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Em.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((u,d)=>{const h=v1("",20);s.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:s,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function xF(t){ri().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function yF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bF(){return t3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="firebaseLocalStorageDb",wF=1,wp="firebaseLocalStorage",n3="fbase_key";class H0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Tm(t,e){return t.transaction([wp],e?"readwrite":"readonly").objectStore(wp)}function _F(){const t=indexedDB.deleteDatabase(r3);return new H0(t).toPromise()}function Iy(){const t=indexedDB.open(r3,wF);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(wp,{keyPath:n3})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(wp)?e(n):(n.close(),await _F(),e(await Iy()))})})}async function A4(t,e,r){const n=Tm(t,!0).put({[n3]:e,value:r});return new H0(n).toPromise()}async function EF(t,e){const r=Tm(t,!1).get(e),n=await new H0(r).toPromise();return n===void 0?null:n.value}function S4(t,e){const r=Tm(t,!0).delete(e);return new H0(r).toPromise()}const TF=800,kF=3;class s3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iy(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>kF)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Em._getInstance(bF()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await yF(),!this.activeServiceWorker)return;this.sender=new gF(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iy();return await A4(e,bp,"1"),await S4(e,bp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>A4(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>EF(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>S4(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Tm(s,!1).getAll();return new H0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}s3.type="LOCAL";const NF=s3;new $0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(t,e){return e?Ii(e):(Dt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1 extends g1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return au(e,this._buildIdpRequest())}_linkToIdToken(e,r){return au(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return au(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function SF(t){return YA(t.auth,new b1(t),t.bypassAuthState)}function CF(t){const{auth:e,user:r}=t;return Dt(r,e,"internal-error"),rF(r,new b1(t),t.bypassAuthState)}async function jF(t){const{auth:e,user:r}=t;return Dt(r,e,"internal-error"),tF(r,new b1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,r,n,s,a=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SF;case"linkViaPopup":case"linkViaRedirect":return jF;case"reauthViaPopup":case"reauthViaRedirect":return CF;default:Fa(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=new $0(2e3,1e4);class Yc extends a3{constructor(e,r,n,s,a){super(e,r,s,a),this.provider=n,this.authWindow=null,this.pollId=null,Yc.currentPopupAction&&Yc.currentPopupAction.cancel(),Yc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Dt(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=v1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IF.get())};e()}}Yc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF="pendingRedirect",Hf=new Map;class RF extends a3{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Hf.get(this.auth._key());if(!e){try{const n=await DF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Hf.set(this.auth._key(),e)}return this.bypassAuthState||Hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DF(t,e){const r=LF(e),n=FF(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function OF(t,e){Hf.set(t._key(),e)}function FF(t){return Ii(t._redirectPersistence)}function LF(t){return zf(PF,t.config.apiKey,t.name)}async function MF(t,e,r=!1){if(Bs(t.app))return Promise.reject(Ri(t));const n=Jo(t),s=AF(n,e),l=await new RF(n,s,r).execute();return l&&!r&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=600*1e3;class $F{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BF(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!i3(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(ti(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VF&&this.cachedEventUids.clear(),this.cachedEventUids.has(C4(e))}saveEventToCache(e){this.cachedEventUids.add(C4(e)),this.lastProcessedEventTime=Date.now()}}function C4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function i3({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function BF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UF(t,e={}){return Va(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HF=/^https?/;async function WF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UF(t);for(const r of e)try{if(GF(r))return}catch{}Fa(t,"unauthorized-domain")}function GF(t){const e=Cy(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&l.hostname===n}if(!HF.test(r))return!1;if(zF.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=new $0(3e4,6e4);function j4(){const t=ri().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function KF(t){return new Promise((e,r)=>{var n,s,a;function l(){j4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j4(),r(ti(t,"network-request-failed"))},timeout:qF.get()})}if(!((s=(n=ri().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=ri().gapi)===null||a===void 0)&&a.load)l();else{const u=DO("iframefcb");return ri()[u]=()=>{gapi.load?l():r(ti(t,"network-request-failed"))},HA(`${RO()}?onload=${u}`).catch(d=>r(d))}}).catch(e=>{throw Wf=null,e})}let Wf=null;function YF(t){return Wf=Wf||KF(t),Wf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=new $0(5e3,15e3),QF="__/auth/iframe",JF="emulator/auth/iframe",ZF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tL(t){const e=t.config;Dt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?f1(e,JF):`https://${t.config.authDomain}/${QF}`,n={apiKey:e.apiKey,appName:t.name,v:Wl},s=eL.get(t.config.apiHost);s&&(n.eid=s);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${C0(n).slice(1)}`}async function rL(t){const e=await YF(t),r=ri().gapi;return Dt(r,t,"internal-error"),e.open({where:document.body,url:tL(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZF,dontclear:!0},n=>new Promise(async(s,a)=>{await n.restyle({setHideOnLeave:!1});const l=ti(t,"network-request-failed"),u=ri().setTimeout(()=>{a(l)},XF.get());function d(){ri().clearTimeout(u),s(n)}n.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sL=500,aL=600,iL="_blank",oL="http://localhost";class I4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lL(t,e,r,n=sL,s=aL){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const d=Object.assign(Object.assign({},nL),{width:n.toString(),height:s.toString(),top:a,left:l}),h=rs().toLowerCase();r&&(u=LA(h)?iL:r),OA(h)&&(e=e||oL,d.scrollbars="yes");const p=Object.entries(d).reduce((y,[v,_])=>`${y}${v}=${_},`,"");if(TO(h)&&u!=="_self")return cL(e||"",u),new I4(null);const g=window.open(e||"",u,p);Dt(g,t,"popup-blocked");try{g.focus()}catch{}return new I4(g)}function cL(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="__/auth/handler",dL="emulator/auth/handler",hL=encodeURIComponent("fac");async function P4(t,e,r,n,s,a){Dt(t.config.authDomain,t,"auth-domain-config-required"),Dt(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Wl,eventId:s};if(e instanceof qA){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",fP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof U0){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),h=d?`#${hL}=${encodeURIComponent(d)}`:"";return`${fL(t)}?${C0(u).slice(1)}${h}`}function fL({config:t}){return t.emulator?f1(t,dL):`https://${t.authDomain}/${uL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="webStorageSupport";class pL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e3,this._completeRedirectFn=MF,this._overrideRedirectResult=OF}async _openPopup(e,r,n,s){var a;Ui((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await P4(e,r,n,Cy(),s);return lL(e,l,v1())}async _openRedirect(e,r,n,s){await this._originValidation(e);const a=await P4(e,r,n,Cy(),s);return xF(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:a}=this.eventManagers[r];return s?Promise.resolve(s):(Ui(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await rL(e),n=new $F(e);return r.register("authEvent",s=>(Dt(s?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Px,{type:Px},s=>{var a;const l=(a=s?.[0])===null||a===void 0?void 0:a[Px];l!==void 0&&r(!!l),Fa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=WF(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return UA()||FA()||m1()}}const mL=pL;var R4="@firebase/auth",D4="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yL(t){Da(new ua("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=n.options;Dt(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zA(t)},h=new jO(n,s,a,d);return $O(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Da(new ua("auth-internal",e=>{const r=Jo(e.getProvider("auth").getImmediate());return(n=>new gL(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(R4,D4,xL(t)),Ts(R4,D4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=300,bL=pk("authIdTokenMaxAge")||vL;let O4=null;const wL=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>bL)return;const s=r?.token;O4!==s&&(O4=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function w1(t=em()){const e=Yo(t,"auth");if(e.isInitialized())return e.getImmediate();const r=VO(t,{popupRedirectResolver:mL,persistence:[NF,pF,e3]}),n=pk("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const l=wL(a.toString());dF(r,l,()=>l(r.currentUser)),uF(r,u=>l(u))}}const s=dk("auth");return s&&BO(r,`http://${s}`),r}function _L(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}IO({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const a=ti("internal-error");a.customData=s,r(a)},n.type="text/javascript",n.charset="UTF-8",_L().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yL("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="firebasestorage.googleapis.com",EL="storageBucket",TL=120*1e3,kL=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends da{constructor(e,r,n=0){super(Rx(e),`Firebase Storage: ${r} (${Rx(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var di;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(di||(di={}));function Rx(t){return"storage/"+t}function NL(){const t="An unknown error occurred, please check the error payload for server response.";return new pi(di.UNKNOWN,t)}function AL(){return new pi(di.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function SL(){return new pi(di.CANCELED,"User canceled the upload/download.")}function CL(t){return new pi(di.INVALID_URL,"Invalid URL '"+t+"'.")}function jL(t){return new pi(di.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function F4(t){return new pi(di.INVALID_ARGUMENT,t)}function l3(){return new pi(di.APP_DELETED,"The Firebase app was deleted.")}function IL(t){return new pi(di.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Ca.makeFromUrl(e,r)}catch{return new Ca(e,"")}if(n.path==="")return n;throw jL(e)}static makeFromUrl(e,r){let n=null;const s="([A-Za-z0-9.\\-_]+)";function a(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function h(F){F.path_=decodeURIComponent(F.path)}const p="v[A-Za-z0-9_]+",g=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",v=new RegExp(`^https?://${g}/${p}/b/${s}/o${y}`,"i"),_={bucket:1,path:3},w=r===o3?"(?:storage.googleapis.com|storage.cloud.google.com)":r,T="([^?#]*)",D=new RegExp(`^https?://${w}/${s}/${T}`,"i"),z=[{regex:u,indices:d,postModify:a},{regex:v,indices:_,postModify:h},{regex:D,indices:{bucket:1,path:2},postModify:h}];for(let F=0;F<z.length;F++){const Y=z[F],U=Y.regex.exec(e);if(U){const S=U[Y.indices.bucket];let A=U[Y.indices.path];A||(A=""),n=new Ca(S,A),Y.postModify(n);break}}if(n==null)throw CL(e);return n}}class PL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t,e,r){let n=1,s=null,a=null,l=!1,u=0;function d(){return u===2}let h=!1;function p(...T){h||(h=!0,e.apply(null,T))}function g(T){s=setTimeout(()=>{s=null,t(v,d())},T)}function y(){a&&clearTimeout(a)}function v(T,...D){if(h){y();return}if(T){y(),p.call(null,T,...D);return}if(d()||l){y(),p.call(null,T,...D);return}n<64&&(n*=2);let z;u===1?(u=2,z=0):z=(n+Math.random())*1e3,g(z)}let _=!1;function w(T){_||(_=!0,y(),!h&&(s!==null?(T||(u=2),clearTimeout(s),g(0)):T||(u=1)))}return g(0),a=setTimeout(()=>{l=!0,w(!0)},r),w}function DL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t){return t!==void 0}function L4(t,e,r,n){if(n<e)throw F4(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw F4(`Invalid value for '${t}'. Expected ${r} or less.`)}function FL(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const s=e(n)+"="+e(t[n]);r=r+s+"&"}return r=r.slice(0,-1),r}var _p;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_p||(_p={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t,e){const r=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,r,n,s,a,l,u,d,h,p,g,y=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,_)=>{this.resolve_=v,this.reject_=_,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new wf(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const d=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===_p.NO_ERROR,d=a.getStatus();if(!u||LL(d,this.additionalRetryCodes_)&&this.retry){const p=a.getErrorCode()===_p.ABORT;n(!1,new wf(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;n(!0,new wf(h,a))})},r=(n,s)=>{const a=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());OL(d)?a(d):a()}catch(d){l(d)}else if(u!==null){const d=NL();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(s.canceled){const d=this.appDelete_?l3():SL();l(d)}else{const d=AL();l(d)}};this.canceled_?r(!1,new wf(!1,null,!0)):this.backoffId_=RL(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&DL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class wf{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function VL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function $L(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function BL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function UL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zL(t,e,r,n,s,a,l=!0){const u=FL(t.urlParams),d=t.url+u,h=Object.assign({},t.headers);return BL(h,e),VL(h,r),$L(h,a),UL(h,n),new ML(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function WL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,r){this._service=e,r instanceof Ca?this._location=r:this._location=Ca.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Ep(e,r)}get root(){const e=new Ca(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WL(this._location.path)}get storage(){return this._service}get parent(){const e=HL(this._location.path);if(e===null)return null;const r=new Ca(this._location.bucket,e);return new Ep(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw IL(e)}}function M4(t,e){const r=e?.[EL];return r==null?null:Ca.makeFromBucketSpec(r,t)}function GL(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:mk(s,t.app.options.projectId))}class qL{constructor(e,r,n,s,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=o3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=TL,this._maxUploadRetryTime=kL,this._requests=new Set,s!=null?this._bucket=Ca.makeFromBucketSpec(s,this._host):this._bucket=M4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ca.makeFromBucketSpec(this._url,e):this._bucket=M4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){L4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){L4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Bs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ep(this,e)}_makeRequest(e,r,n,s,a=!0){if(this._deleted)return new PL(l3());{const l=zL(e,this._appId,n,s,r,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,r){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,s).getPromise()}}const V4="@firebase/storage",$4="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="storage";function KL(t=em(),e){t=jr(t);const n=Yo(t,c3).getImmediate({identifier:e}),s=hk("storage");return s&&YL(n,...s),n}function YL(t,e,r,n={}){GL(t,e,r,n)}function XL(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new qL(r,n,s,e,Wl)}function QL(){Da(new ua(c3,XL,"PUBLIC").setMultipleInstances(!0)),Ts(V4,$4,""),Ts(V4,$4,"esm2017")}QL();const JL={apiKey:"AIzaSyDYacL_WIzZUSP-Tjl3794P_jHocMDqN9g",authDomain:"blackkstreaming-55f0e.firebaseapp.com",projectId:"blackkstreaming-55f0e",storageBucket:"blackkstreaming-55f0e.firebasestorage.app",messagingSenderId:"998157647233",appId:"1:998157647233:web:3e5b8128a0275ae4553c80",measurementId:"G-GFM50WNMSP"},W0=_k(JL);W8(W0);const Ie=H7(W0);KL(W0);const tn=w1(W0),_1=E.createContext({});function E1(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const T1=typeof window<"u",u3=T1?E.useLayoutEffect:E.useEffect,km=E.createContext(null);function k1(t,e){t.indexOf(e)===-1&&t.push(e)}function N1(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const zi=(t,e,r)=>r>e?e:r<t?t:r;let A1=()=>{};const Hi={},d3=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function h3(t){return typeof t=="object"&&t!==null}const f3=t=>/^0[^.\s]+$/u.test(t);function S1(t){let e;return()=>(e===void 0&&(e=t()),e)}const oa=t=>t,ZL=(t,e)=>r=>e(t(r)),G0=(...t)=>t.reduce(ZL),u0=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class C1{constructor(){this.subscriptions=[]}add(e){return k1(this.subscriptions,e),()=>N1(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ni=t=>t*1e3,si=t=>t/1e3;function p3(t,e){return e?t*(1e3/e):0}const m3=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,eM=1e-7,tM=12;function rM(t,e,r,n,s){let a,l,u=0;do l=e+(r-e)/2,a=m3(l,n,s)-t,a>0?r=l:e=l;while(Math.abs(a)>eM&&++u<tM);return l}function q0(t,e,r,n){if(t===e&&r===n)return oa;const s=a=>rM(a,0,1,t,r);return a=>a===0||a===1?a:m3(s(a),e,n)}const g3=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,x3=t=>e=>1-t(1-e),y3=q0(.33,1.53,.69,.99),j1=x3(y3),v3=g3(j1),b3=t=>(t*=2)<1?.5*j1(t):.5*(2-Math.pow(2,-10*(t-1))),I1=t=>1-Math.sin(Math.acos(t)),w3=x3(I1),_3=g3(I1),nM=q0(.42,0,1,1),sM=q0(0,0,.58,1),E3=q0(.42,0,.58,1),aM=t=>Array.isArray(t)&&typeof t[0]!="number",T3=t=>Array.isArray(t)&&typeof t[0]=="number",iM={linear:oa,easeIn:nM,easeInOut:E3,easeOut:sM,circIn:I1,circInOut:_3,circOut:w3,backIn:j1,backInOut:v3,backOut:y3,anticipate:b3},oM=t=>typeof t=="string",B4=t=>{if(T3(t)){A1(t.length===4);const[e,r,n,s]=t;return q0(e,r,n,s)}else if(oM(t))return iM[t];return t},_f=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],U4={value:null};function lM(t,e){let r=new Set,n=new Set,s=!1,a=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},d=0;function h(g){l.has(g)&&(p.schedule(g),t()),d++,g(u)}const p={schedule:(g,y=!1,v=!1)=>{const w=v&&s?r:n;return y&&l.add(g),w.has(g)||w.add(g),g},cancel:g=>{n.delete(g),l.delete(g)},process:g=>{if(u=g,s){a=!0;return}s=!0,[r,n]=[n,r],r.forEach(h),e&&U4.value&&U4.value.frameloop[e].push(d),d=0,r.clear(),s=!1,a&&(a=!1,p.process(g))}};return p}const cM=40;function k3(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,l=_f.reduce((z,F)=>(z[F]=lM(a,e?F:void 0),z),{}),{setup:u,read:d,resolveKeyframes:h,preUpdate:p,update:g,preRender:y,render:v,postRender:_}=l,w=()=>{const z=Hi.useManualTiming?s.timestamp:performance.now();r=!1,Hi.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(z-s.timestamp,cM),1)),s.timestamp=z,s.isProcessing=!0,u.process(s),d.process(s),h.process(s),p.process(s),g.process(s),y.process(s),v.process(s),_.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(w))},T=()=>{r=!0,n=!0,s.isProcessing||t(w)};return{schedule:_f.reduce((z,F)=>{const Y=l[F];return z[F]=(U,S=!1,A=!1)=>(r||T(),Y.schedule(U,S,A)),z},{}),cancel:z=>{for(let F=0;F<_f.length;F++)l[_f[F]].cancel(z)},state:s,steps:l}}const{schedule:Gr,cancel:Uo,state:Dn,steps:Dx}=k3(typeof requestAnimationFrame<"u"?requestAnimationFrame:oa,!0);let Gf;function uM(){Gf=void 0}const Es={now:()=>(Gf===void 0&&Es.set(Dn.isProcessing||Hi.useManualTiming?Dn.timestamp:performance.now()),Gf),set:t=>{Gf=t,queueMicrotask(uM)}},N3=t=>e=>typeof e=="string"&&e.startsWith(t),P1=N3("--"),dM=N3("var(--"),R1=t=>dM(t)?hM.test(t.split("/*")[0].trim()):!1,hM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},d0={...Fu,transform:t=>zi(0,1,t)},Ef={...Fu,default:1},Bd=t=>Math.round(t*1e5)/1e5,D1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fM(t){return t==null}const pM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,O1=(t,e)=>r=>!!(typeof r=="string"&&pM.test(r)&&r.startsWith(t)||e&&!fM(r)&&Object.prototype.hasOwnProperty.call(r,e)),A3=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,a,l,u]=n.match(D1);return{[t]:parseFloat(s),[e]:parseFloat(a),[r]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},mM=t=>zi(0,255,t),Ox={...Fu,transform:t=>Math.round(mM(t))},kl={test:O1("rgb","red"),parse:A3("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Ox.transform(t)+", "+Ox.transform(e)+", "+Ox.transform(r)+", "+Bd(d0.transform(n))+")"};function gM(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Py={test:O1("#"),parse:gM,transform:kl.transform},K0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),_o=K0("deg"),ai=K0("%"),Ot=K0("px"),xM=K0("vh"),yM=K0("vw"),z4={...ai,parse:t=>ai.parse(t)/100,transform:t=>ai.transform(t*100)},Xc={test:O1("hsl","hue"),parse:A3("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+ai.transform(Bd(e))+", "+ai.transform(Bd(r))+", "+Bd(d0.transform(n))+")"},Qn={test:t=>kl.test(t)||Py.test(t)||Xc.test(t),parse:t=>kl.test(t)?kl.parse(t):Xc.test(t)?Xc.parse(t):Py.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?kl.transform(t):Xc.transform(t)},vM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bM(t){return isNaN(t)&&typeof t=="string"&&(t.match(D1)?.length||0)+(t.match(vM)?.length||0)>0}const S3="number",C3="color",wM="var",_M="var(",H4="${}",EM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function h0(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let a=0;const u=e.replace(EM,d=>(Qn.test(d)?(n.color.push(a),s.push(C3),r.push(Qn.parse(d))):d.startsWith(_M)?(n.var.push(a),s.push(wM),r.push(d)):(n.number.push(a),s.push(S3),r.push(parseFloat(d))),++a,H4)).split(H4);return{values:r,split:u,indexes:n,types:s}}function j3(t){return h0(t).values}function I3(t){const{split:e,types:r}=h0(t),n=e.length;return s=>{let a="";for(let l=0;l<n;l++)if(a+=e[l],s[l]!==void 0){const u=r[l];u===S3?a+=Bd(s[l]):u===C3?a+=Qn.transform(s[l]):a+=s[l]}return a}}const TM=t=>typeof t=="number"?0:t;function kM(t){const e=j3(t);return I3(t)(e.map(TM))}const zo={test:bM,parse:j3,createTransformer:I3,getAnimatableNone:kM};function Fx(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function NM({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,a=0,l=0;if(!e)s=a=l=r;else{const u=r<.5?r*(1+e):r+e-r*e,d=2*r-u;s=Fx(d,u,t+1/3),a=Fx(d,u,t),l=Fx(d,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:n}}function Tp(t,e){return r=>r>0?e:t}const Wr=(t,e,r)=>t+(e-t)*r,Lx=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},AM=[Py,kl,Xc],SM=t=>AM.find(e=>e.test(t));function W4(t){const e=SM(t);if(!e)return!1;let r=e.parse(t);return e===Xc&&(r=NM(r)),r}const G4=(t,e)=>{const r=W4(t),n=W4(e);if(!r||!n)return Tp(t,e);const s={...r};return a=>(s.red=Lx(r.red,n.red,a),s.green=Lx(r.green,n.green,a),s.blue=Lx(r.blue,n.blue,a),s.alpha=Wr(r.alpha,n.alpha,a),kl.transform(s))},Ry=new Set(["none","hidden"]);function CM(t,e){return Ry.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function jM(t,e){return r=>Wr(t,e,r)}function F1(t){return typeof t=="number"?jM:typeof t=="string"?R1(t)?Tp:Qn.test(t)?G4:RM:Array.isArray(t)?P3:typeof t=="object"?Qn.test(t)?G4:IM:Tp}function P3(t,e){const r=[...t],n=r.length,s=t.map((a,l)=>F1(a)(a,e[l]));return a=>{for(let l=0;l<n;l++)r[l]=s[l](a);return r}}function IM(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=F1(t[s])(t[s],e[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}}function PM(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][n[a]],u=t.values[l]??0;r[s]=u,n[a]++}return r}const RM=(t,e)=>{const r=zo.createTransformer(e),n=h0(t),s=h0(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Ry.has(t)&&!s.values.length||Ry.has(e)&&!n.values.length?CM(t,e):G0(P3(PM(n,s),s.values),r):Tp(t,e)};function R3(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Wr(t,e,r):F1(t)(t,e)}const DM=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Gr.update(e,r),stop:()=>Uo(e),now:()=>Dn.isProcessing?Dn.timestamp:Es.now()}},D3=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let a=0;a<s;a++)n+=t(a/(s-1))+", ";return`linear(${n.substring(0,n.length-2)})`},kp=2e4;function L1(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<kp;)e+=r,n=t.next(e);return e>=kp?1/0:e}function OM(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(L1(n),kp);return{type:"keyframes",ease:a=>n.next(s*a).value/e,duration:si(s)}}const FM=5;function O3(t,e,r){const n=Math.max(e-FM,0);return p3(r-t(n),e-n)}const Yr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mx=.001;function LM({duration:t=Yr.duration,bounce:e=Yr.bounce,velocity:r=Yr.velocity,mass:n=Yr.mass}){let s,a,l=1-e;l=zi(Yr.minDamping,Yr.maxDamping,l),t=zi(Yr.minDuration,Yr.maxDuration,si(t)),l<1?(s=h=>{const p=h*l,g=p*t,y=p-r,v=Dy(h,l),_=Math.exp(-g);return Mx-y/v*_},a=h=>{const g=h*l*t,y=g*r+r,v=Math.pow(l,2)*Math.pow(h,2)*t,_=Math.exp(-g),w=Dy(Math.pow(h,2),l);return(-s(h)+Mx>0?-1:1)*((y-v)*_)/w}):(s=h=>{const p=Math.exp(-h*t),g=(h-r)*t+1;return-Mx+p*g},a=h=>{const p=Math.exp(-h*t),g=(r-h)*(t*t);return p*g});const u=5/t,d=VM(s,a,u);if(t=ni(t),isNaN(d))return{stiffness:Yr.stiffness,damping:Yr.damping,duration:t};{const h=Math.pow(d,2)*n;return{stiffness:h,damping:l*2*Math.sqrt(n*h),duration:t}}}const MM=12;function VM(t,e,r){let n=r;for(let s=1;s<MM;s++)n=n-t(n)/e(n);return n}function Dy(t,e){return t*Math.sqrt(1-e*e)}const $M=["duration","bounce"],BM=["stiffness","damping","mass"];function q4(t,e){return e.some(r=>t[r]!==void 0)}function UM(t){let e={velocity:Yr.velocity,stiffness:Yr.stiffness,damping:Yr.damping,mass:Yr.mass,isResolvedFromDuration:!1,...t};if(!q4(t,BM)&&q4(t,$M))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,a=2*zi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Yr.mass,stiffness:s,damping:a}}else{const r=LM(t);e={...e,...r,mass:Yr.mass},e.isResolvedFromDuration=!0}return e}function Np(t=Yr.visualDuration,e=Yr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const a=r.keyframes[0],l=r.keyframes[r.keyframes.length-1],u={done:!1,value:a},{stiffness:d,damping:h,mass:p,duration:g,velocity:y,isResolvedFromDuration:v}=UM({...r,velocity:-si(r.velocity||0)}),_=y||0,w=h/(2*Math.sqrt(d*p)),T=l-a,D=si(Math.sqrt(d/p)),I=Math.abs(T)<5;n||(n=I?Yr.restSpeed.granular:Yr.restSpeed.default),s||(s=I?Yr.restDelta.granular:Yr.restDelta.default);let z;if(w<1){const Y=Dy(D,w);z=U=>{const S=Math.exp(-w*D*U);return l-S*((_+w*D*T)/Y*Math.sin(Y*U)+T*Math.cos(Y*U))}}else if(w===1)z=Y=>l-Math.exp(-D*Y)*(T+(_+D*T)*Y);else{const Y=D*Math.sqrt(w*w-1);z=U=>{const S=Math.exp(-w*D*U),A=Math.min(Y*U,300);return l-S*((_+w*D*T)*Math.sinh(A)+Y*T*Math.cosh(A))/Y}}const F={calculatedDuration:v&&g||null,next:Y=>{const U=z(Y);if(v)u.done=Y>=g;else{let S=Y===0?_:0;w<1&&(S=Y===0?ni(_):O3(z,Y,U));const A=Math.abs(S)<=n,j=Math.abs(l-U)<=s;u.done=A&&j}return u.value=u.done?l:U,u},toString:()=>{const Y=Math.min(L1(F),kp),U=D3(S=>F.next(Y*S).value,Y,30);return Y+"ms "+U},toTransition:()=>{}};return F}Np.applyToOptions=t=>{const e=OM(t,100,Np);return t.ease=e.ease,t.duration=ni(e.duration),t.type="keyframes",t};function Oy({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:d,restDelta:h=.5,restSpeed:p}){const g=t[0],y={done:!1,value:g},v=A=>u!==void 0&&A<u||d!==void 0&&A>d,_=A=>u===void 0?d:d===void 0||Math.abs(u-A)<Math.abs(d-A)?u:d;let w=r*e;const T=g+w,D=l===void 0?T:l(T);D!==T&&(w=D-g);const I=A=>-w*Math.exp(-A/n),z=A=>D+I(A),F=A=>{const j=I(A),R=z(A);y.done=Math.abs(j)<=h,y.value=y.done?D:R};let Y,U;const S=A=>{v(y.value)&&(Y=A,U=Np({keyframes:[y.value,_(y.value)],velocity:O3(z,A,y.value),damping:s,stiffness:a,restDelta:h,restSpeed:p}))};return S(0),{calculatedDuration:null,next:A=>{let j=!1;return!U&&Y===void 0&&(j=!0,F(A),S(A)),Y!==void 0&&A>=Y?U.next(A-Y):(!j&&F(A),y)}}}function zM(t,e,r){const n=[],s=r||Hi.mix||R3,a=t.length-1;for(let l=0;l<a;l++){let u=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||oa:e;u=G0(d,u)}n.push(u)}return n}function HM(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const a=t.length;if(A1(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=zM(e,n,s),d=u.length,h=p=>{if(l&&p<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const y=u0(t[g],t[g+1],p);return u[g](y)};return r?p=>h(zi(t[0],t[a-1],p)):h}function WM(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=u0(0,e,n);t.push(Wr(r,1,s))}}function GM(t){const e=[0];return WM(e,t.length-1),e}function qM(t,e){return t.map(r=>r*e)}function KM(t,e){return t.map(()=>e||E3).splice(0,t.length-1)}function Ud({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=aM(n)?n.map(B4):B4(n),a={done:!1,value:e[0]},l=qM(r&&r.length===e.length?r:GM(e),t),u=HM(l,e,{ease:Array.isArray(s)?s:KM(e,s)});return{calculatedDuration:t,next:d=>(a.value=u(d),a.done=d>=t,a)}}const YM=t=>t!==null;function M1(t,{repeat:e,repeatType:r="loop"},n,s=1){const a=t.filter(YM),u=s<0||e&&r!=="loop"&&e%2===1?0:a.length-1;return!u||n===void 0?a[u]:n}const XM={decay:Oy,inertia:Oy,tween:Ud,keyframes:Ud,spring:Np};function F3(t){typeof t.type=="string"&&(t.type=XM[t.type])}class V1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const QM=t=>t/100;class $1 extends V1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{if(r){const{motionValue:n}=this.options;n&&n.updatedAt!==Es.now()&&this.tick(Es.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;F3(e);const{type:r=Ud,repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:u}=e;const d=r||Ud;d!==Ud&&typeof u[0]!="number"&&(this.mixKeyframes=G0(QM,R3(u[0],u[1])),u=[0,100]);const h=d({...e,keyframes:u});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=L1(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=h}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:y,repeatDelay:v,type:_,onUpdate:w,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const D=this.currentTime-h*(this.playbackSpeed>=0?1:-1),I=this.playbackSpeed>=0?D<0:D>s;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let z=this.currentTime,F=n;if(g){const A=Math.min(this.currentTime,s)/u;let j=Math.floor(A),R=A%1;!R&&A>=1&&(R=1),R===1&&j--,j=Math.min(j,g+1),!!(j%2)&&(y==="reverse"?(R=1-R,v&&(R-=v/u)):y==="mirror"&&(F=l)),z=zi(0,1,R)*u}const Y=I?{done:!1,value:p[0]}:F.next(z);a&&(Y.value=a(Y.value));let{done:U}=Y;!I&&d!==null&&(U=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return S&&_!==Oy&&(Y.value=M1(p,this.options,T,this.speed)),w&&w(Y.value),S&&this.finish(),Y}then(e,r){return this.finished.then(e,r)}get duration(){return si(this.calculatedDuration)}get time(){return si(this.currentTime)}set time(e){e=ni(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Es.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=si(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=DM,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Es.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function JM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Nl=t=>t*180/Math.PI,Fy=t=>{const e=Nl(Math.atan2(t[1],t[0]));return Ly(e)},ZM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Fy,rotateZ:Fy,skewX:t=>Nl(Math.atan(t[1])),skewY:t=>Nl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ly=t=>(t=t%360,t<0&&(t+=360),t),K4=Fy,Y4=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),X4=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),eV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Y4,scaleY:X4,scale:t=>(Y4(t)+X4(t))/2,rotateX:t=>Ly(Nl(Math.atan2(t[6],t[5]))),rotateY:t=>Ly(Nl(Math.atan2(-t[2],t[0]))),rotateZ:K4,rotate:K4,skewX:t=>Nl(Math.atan(t[4])),skewY:t=>Nl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function My(t){return t.includes("scale")?1:0}function Vy(t,e){if(!t||t==="none")return My(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=eV,s=r;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=ZM,s=u}if(!s)return My(e);const a=n[e],l=s[1].split(",").map(rV);return typeof a=="function"?a(l):l[a]}const tV=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Vy(r,e)};function rV(t){return parseFloat(t.trim())}const Lu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mu=new Set(Lu),Q4=t=>t===Fu||t===Ot,nV=new Set(["x","y","z"]),sV=Lu.filter(t=>!nV.has(t));function aV(t){const e=[];return sV.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Al={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Vy(e,"x"),y:(t,{transform:e})=>Vy(e,"y")};Al.translateX=Al.x;Al.translateY=Al.y;const Sl=new Set;let $y=!1,By=!1,Uy=!1;function L3(){if(By){const t=Array.from(Sl).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=aV(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([a,l])=>{n.getValue(a)?.set(l)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}By=!1,$y=!1,Sl.forEach(t=>t.complete(Uy)),Sl.clear()}function M3(){Sl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(By=!0)})}function iV(){Uy=!0,M3(),L3(),Uy=!1}class B1{constructor(e,r,n,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Sl.add(this),$y||($y=!0,Gr.read(M3),Gr.resolveKeyframes(L3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const a=s?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const u=n.readValue(r,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}JM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Sl.delete(this)}cancel(){this.state==="scheduled"&&(Sl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const oV=t=>t.startsWith("--");function lV(t,e,r){oV(e)?t.style.setProperty(e,r):t.style[e]=r}const cV=S1(()=>window.ScrollTimeline!==void 0),uV={};function dV(t,e){const r=S1(t);return()=>uV[e]??r()}const V3=dV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Id=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,J4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Id([0,.65,.55,1]),circOut:Id([.55,0,1,.45]),backIn:Id([.31,.01,.66,-.59]),backOut:Id([.33,1.53,.69,.99])};function $3(t,e){if(t)return typeof t=="function"?V3()?D3(t,e):"ease-out":T3(t)?Id(t):Array.isArray(t)?t.map(r=>$3(r,e)||J4.easeOut):J4[t]}function hV(t,e,r,{delay:n=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:u="easeOut",times:d}={},h=void 0){const p={[e]:r};d&&(p.offset=d);const g=$3(u,s);Array.isArray(g)&&(p.easing=g);const y={delay:n,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),t.animate(p,y)}function B3(t){return typeof t=="function"&&"applyToOptions"in t}function fV({type:t,...e}){return B3(t)&&V3()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class pV extends V1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,A1(typeof e.type!="string");const h=fV(e);this.animation=hV(r,n,s,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const p=M1(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):lV(r,n,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return si(Number(e))}get time(){return si(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ni(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&cV()?(this.animation.timeline=e,oa):r(this)}}const U3={anticipate:b3,backInOut:v3,circInOut:_3};function mV(t){return t in U3}function gV(t){typeof t.ease=="string"&&mV(t.ease)&&(t.ease=U3[t.ease])}const Z4=10;class xV extends pV{constructor(e){gV(e),F3(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:a,...l}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const u=new $1({...l,autoplay:!1}),d=ni(this.finishedTime??this.time);r.setWithVelocity(u.sample(d-Z4).value,u.sample(d).value,Z4),u.stop()}}const eE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(zo.test(t)||t==="0")&&!t.startsWith("url("));function yV(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function vV(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=eE(s,e),u=eE(a,e);return!l||!u?!1:yV(t)||(r==="spring"||B3(r))&&n}function U1(t){return h3(t)&&"offsetHeight"in t}const bV=new Set(["opacity","clipPath","filter","transform"]),wV=S1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _V(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:a,type:l}=t;if(!U1(e?.owner?.current))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return wV()&&r&&bV.has(r)&&(r!=="transform"||!d)&&!u&&!n&&s!=="mirror"&&a!==0&&l!=="inertia"}const EV=40;class TV extends V1{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:u,name:d,motionValue:h,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Es.now();const y={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:a,repeatType:l,name:d,motionValue:h,element:p,...g},v=p?.KeyframeResolver||B1;this.keyframeResolver=new v(u,(_,w,T)=>this.onKeyframesResolved(_,w,y,!T),d,h,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:u,delay:d,isHandoff:h,onUpdate:p}=n;this.resolvedAt=Es.now(),vV(e,a,l,u)||((Hi.instantAnimations||!d)&&p?.(M1(e,n,r)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>EV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},v=!h&&_V(y)?new xV({...y,element:y.motionValue.owner.current}):new $1(y);v.finished.then(()=>this.notifyFinished()).catch(oa),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),iV()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const kV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function NV(t){const e=kV.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function z3(t,e,r=1){const[n,s]=NV(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const l=a.trim();return d3(l)?parseFloat(l):l}return R1(s)?z3(s,e,r+1):s}function z1(t,e){return t?.[e]??t?.default??t}const H3=new Set(["width","height","top","left","right","bottom",...Lu]),AV={test:t=>t==="auto",parse:t=>t},W3=t=>e=>e.test(t),G3=[Fu,Ot,ai,_o,yM,xM,AV],tE=t=>G3.find(W3(t));function SV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||f3(t):!0}const CV=new Set(["brightness","contrast","saturate","opacity"]);function jV(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(D1)||[];if(!n)return t;const s=r.replace(n,"");let a=CV.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+s+")"}const IV=/\b([a-z-]*)\(.*?\)/gu,zy={...zo,getAnimatableNone:t=>{const e=t.match(IV);return e?e.map(jV).join(" "):t}},rE={...Fu,transform:Math.round},PV={rotate:_o,rotateX:_o,rotateY:_o,rotateZ:_o,scale:Ef,scaleX:Ef,scaleY:Ef,scaleZ:Ef,skew:_o,skewX:_o,skewY:_o,distance:Ot,translateX:Ot,translateY:Ot,translateZ:Ot,x:Ot,y:Ot,z:Ot,perspective:Ot,transformPerspective:Ot,opacity:d0,originX:z4,originY:z4,originZ:Ot},H1={borderWidth:Ot,borderTopWidth:Ot,borderRightWidth:Ot,borderBottomWidth:Ot,borderLeftWidth:Ot,borderRadius:Ot,radius:Ot,borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomRightRadius:Ot,borderBottomLeftRadius:Ot,width:Ot,maxWidth:Ot,height:Ot,maxHeight:Ot,top:Ot,right:Ot,bottom:Ot,left:Ot,padding:Ot,paddingTop:Ot,paddingRight:Ot,paddingBottom:Ot,paddingLeft:Ot,margin:Ot,marginTop:Ot,marginRight:Ot,marginBottom:Ot,marginLeft:Ot,backgroundPositionX:Ot,backgroundPositionY:Ot,...PV,zIndex:rE,fillOpacity:d0,strokeOpacity:d0,numOctaves:rE},RV={...H1,color:Qn,backgroundColor:Qn,outlineColor:Qn,fill:Qn,stroke:Qn,borderColor:Qn,borderTopColor:Qn,borderRightColor:Qn,borderBottomColor:Qn,borderLeftColor:Qn,filter:zy,WebkitFilter:zy},q3=t=>RV[t];function K3(t,e){let r=q3(t);return r!==zy&&(r=zo),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const DV=new Set(["auto","none","0"]);function OV(t,e,r){let n=0,s;for(;n<t.length&&!s;){const a=t[n];typeof a=="string"&&!DV.has(a)&&h0(a).values.length&&(s=t[n]),n++}if(s&&r)for(const a of e)t[a]=K3(r,s)}class FV extends B1{constructor(e,r,n,s,a){super(e,r,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),R1(h))){const p=z3(h,r.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!H3.has(n)||e.length!==2)return;const[s,a]=e,l=tE(s),u=tE(a);if(l!==u)if(Q4(l)&&Q4(u))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Al[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||SV(e[s]))&&n.push(s);n.length&&OV(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Al[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=n.length-1,l=n[a];n[a]=Al[r](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function LV(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const s=r?.[t]??n.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const nE=30,MV=t=>!isNaN(parseFloat(t));class VV{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const a=Es.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Es.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=MV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new C1);const n=this.events[e].add(r);return e==="change"?()=>{n(),Gr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Es.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>nE)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,nE);return p3(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gu(t,e){return new VV(t,e)}const Y3=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:W1}=k3(queueMicrotask,!1),Na={x:!1,y:!1};function X3(){return Na.x||Na.y}function $V(t){return t==="x"||t==="y"?Na[t]?null:(Na[t]=!0,()=>{Na[t]=!1}):Na.x||Na.y?null:(Na.x=Na.y=!0,()=>{Na.x=Na.y=!1})}function Q3(t,e){const r=LV(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function sE(t){return!(t.pointerType==="touch"||X3())}function BV(t,e,r={}){const[n,s,a]=Q3(t,r),l=u=>{if(!sE(u))return;const{target:d}=u,h=e(d,u);if(typeof h!="function"||!d)return;const p=g=>{sE(g)&&(h(g),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,s)};return n.forEach(u=>{u.addEventListener("pointerenter",l,s)}),a}const J3=(t,e)=>e?t===e?!0:J3(t,e.parentElement):!1,G1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,UV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zV(t){return UV.has(t.tagName)||t.tabIndex!==-1}const qf=new WeakSet;function aE(t){return e=>{e.key==="Enter"&&t(e)}}function Vx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const HV=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=aE(()=>{if(qf.has(r))return;Vx(r,"down");const s=aE(()=>{Vx(r,"up")}),a=()=>Vx(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function iE(t){return G1(t)&&!X3()}function WV(t,e,r={}){const[n,s,a]=Q3(t,r),l=u=>{const d=u.currentTarget;if(!iE(u))return;qf.add(d);const h=e(d,u),p=(v,_)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),qf.has(d)&&qf.delete(d),iE(v)&&typeof h=="function"&&h(v,{success:_})},g=v=>{p(v,d===window||d===document||r.useGlobalTarget||J3(d,v.target))},y=v=>{p(v,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",y,s)};return n.forEach(u=>{(r.useGlobalTarget?window:u).addEventListener("pointerdown",l,s),U1(u)&&(u.addEventListener("focus",h=>HV(h,s)),!zV(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),a}function Z3(t){return h3(t)&&"ownerSVGElement"in t}function GV(t){return Z3(t)&&t.tagName==="svg"}const Zn=t=>!!(t&&t.getVelocity),qV=[...G3,Qn,zo],KV=t=>qV.find(W3(t)),q1=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class YV extends E.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=U1(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function XV({children:t,isPresent:e,anchorX:r}){const n=E.useId(),s=E.useRef(null),a=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=E.useContext(q1);return E.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:p,right:g}=a.current;if(e||!s.current||!u||!d)return;const y=r==="left"?`left: ${p}`:`right: ${g}`;s.current.dataset.motionPopId=n;const v=document.createElement("style");return l&&(v.nonce=l),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.contains(v)&&document.head.removeChild(v)}},[e]),i.jsx(YV,{isPresent:e,childRef:s,sizeRef:a,children:E.cloneElement(t,{ref:s})})}const QV=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:a,mode:l,anchorX:u})=>{const d=E1(JV),h=E.useId();let p=!0,g=E.useMemo(()=>(p=!1,{id:h,initial:e,isPresent:r,custom:s,onExitComplete:y=>{d.set(y,!0);for(const v of d.values())if(!v)return;n&&n()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[r,d,n]);return a&&p&&(g={...g}),E.useMemo(()=>{d.forEach((y,v)=>d.set(v,!1))},[r]),E.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),l==="popLayout"&&(t=i.jsx(XV,{isPresent:r,anchorX:u,children:t})),i.jsx(km.Provider,{value:g,children:t})};function JV(){return new Map}function eS(t=!0){const e=E.useContext(km);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,a=E.useId();E.useEffect(()=>{if(t)return s(a)},[t]);const l=E.useCallback(()=>t&&n&&n(a),[a,n,t]);return!r&&n?[!1,l]:[!0]}const Tf=t=>t.key||"";function oE(t){const e=[];return E.Children.forEach(t,r=>{E.isValidElement(r)&&e.push(r)}),e}const $t=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:u="left"})=>{const[d,h]=eS(l),p=E.useMemo(()=>oE(t),[t]),g=l&&!d?[]:p.map(Tf),y=E.useRef(!0),v=E.useRef(p),_=E1(()=>new Map),[w,T]=E.useState(p),[D,I]=E.useState(p);u3(()=>{y.current=!1,v.current=p;for(let Y=0;Y<D.length;Y++){const U=Tf(D[Y]);g.includes(U)?_.delete(U):_.get(U)!==!0&&_.set(U,!1)}},[D,g.length,g.join("-")]);const z=[];if(p!==w){let Y=[...p];for(let U=0;U<D.length;U++){const S=D[U],A=Tf(S);g.includes(A)||(Y.splice(U,0,S),z.push(S))}return a==="wait"&&z.length&&(Y=z),I(oE(Y)),T(p),null}const{forceRender:F}=E.useContext(_1);return i.jsx(i.Fragment,{children:D.map(Y=>{const U=Tf(Y),S=l&&!d?!1:p===D||g.includes(U),A=()=>{if(_.has(U))_.set(U,!0);else return;let j=!0;_.forEach(R=>{R||(j=!1)}),j&&(F?.(),I(v.current),l&&h?.(),n&&n())};return i.jsx(QV,{isPresent:S,initial:!y.current||r?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,onExitComplete:S?void 0:A,anchorX:u,children:Y},U)})})},tS=E.createContext({strict:!1}),lE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xu={};for(const t in lE)xu[t]={isEnabled:e=>lE[t].some(r=>!!e[r])};function ZV(t){for(const e in t)xu[e]={...xu[e],...t[e]}}const e$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ap(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||e$.has(t)}let rS=t=>!Ap(t);function t$(t){t&&(rS=e=>e.startsWith("on")?!Ap(e):t(e))}try{t$(require("@emotion/is-prop-valid").default)}catch{}function r$(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(rS(s)||r===!0&&Ap(s)||!e&&!Ap(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function n$(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Nm=E.createContext({});function Am(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function f0(t){return typeof t=="string"||Array.isArray(t)}const K1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Y1=["initial",...K1];function Sm(t){return Am(t.animate)||Y1.some(e=>f0(t[e]))}function nS(t){return!!(Sm(t)||t.variants)}function s$(t,e){if(Sm(t)){const{initial:r,animate:n}=t;return{initial:r===!1||f0(r)?r:void 0,animate:f0(n)?n:void 0}}return t.inherit!==!1?e:{}}function a$(t){const{initial:e,animate:r}=s$(t,E.useContext(Nm));return E.useMemo(()=>({initial:e,animate:r}),[cE(e),cE(r)])}function cE(t){return Array.isArray(t)?t.join(" "):t}const i$=Symbol.for("motionComponentSymbol");function Qc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function o$(t,e,r){return E.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Qc(r)&&(r.current=n))},[e])}const X1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),l$="framerAppearId",sS="data-"+X1(l$),aS=E.createContext({});function c$(t,e,r,n,s){const{visualElement:a}=E.useContext(Nm),l=E.useContext(tS),u=E.useContext(km),d=E.useContext(q1).reducedMotion,h=E.useRef(null);n=n||l.renderer,!h.current&&n&&(h.current=n(t,{visualState:e,parent:a,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,g=E.useContext(aS);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&u$(h.current,r,s,g);const y=E.useRef(!1);E.useInsertionEffect(()=>{p&&y.current&&p.update(r,u)});const v=r[sS],_=E.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return u3(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),W1.render(p.render),_.current&&p.animationState&&p.animationState.animateChanges())}),E.useEffect(()=>{p&&(!_.current&&p.animationState&&p.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),_.current=!1))}),p}function u$(t,e,r,n){const{layoutId:s,layout:a,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:iS(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||u&&Qc(u),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:d,layoutRoot:h})}function iS(t){if(t)return t.options.allowProjection!==!1?t.projection:iS(t.parent)}function d$({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:s}){t&&ZV(t);function a(u,d){let h;const p={...E.useContext(q1),...u,layoutId:h$(u)},{isStatic:g}=p,y=a$(u),v=n(u,g);if(!g&&T1){f$();const _=p$(p);h=_.MeasureLayout,y.visualElement=c$(s,v,p,e,_.ProjectionNode)}return i.jsxs(Nm.Provider,{value:y,children:[h&&y.visualElement?i.jsx(h,{visualElement:y.visualElement,...p}):null,r(s,u,o$(v,y.visualElement,d),v,g,y.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=E.forwardRef(a);return l[i$]=s,l}function h$({layoutId:t}){const e=E.useContext(_1).id;return e&&t!==void 0?e+"-"+t:t}function f$(t,e){E.useContext(tS).strict}function p$(t){const{drag:e,layout:r}=xu;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const p0={};function m$(t){for(const e in t)p0[e]=t[e],P1(e)&&(p0[e].isCSSVariable=!0)}function oS(t,{layout:e,layoutId:r}){return Mu.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!p0[t]||t==="opacity")}const g$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},x$=Lu.length;function y$(t,e,r){let n="",s=!0;for(let a=0;a<x$;a++){const l=Lu[a],u=t[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||r){const h=Y3(u,H1[l]);if(!d){s=!1;const p=g$[l]||l;n+=`${p}(${h}) `}r&&(e[l]=h)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function Q1(t,e,r){const{style:n,vars:s,transformOrigin:a}=t;let l=!1,u=!1;for(const d in e){const h=e[d];if(Mu.has(d)){l=!0;continue}else if(P1(d)){s[d]=h;continue}else{const p=Y3(h,H1[d]);d.startsWith("origin")?(u=!0,a[d]=p):n[d]=p}}if(e.transform||(l||r?n.transform=y$(e,t.transform,r):n.transform&&(n.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:p=0}=a;n.transformOrigin=`${d} ${h} ${p}`}}const J1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lS(t,e,r){for(const n in e)!Zn(e[n])&&!oS(n,r)&&(t[n]=e[n])}function v$({transformTemplate:t},e){return E.useMemo(()=>{const r=J1();return Q1(r,e,t),Object.assign({},r.vars,r.style)},[e])}function b$(t,e){const r=t.style||{},n={};return lS(n,r,t),Object.assign(n,v$(t,e)),n}function w$(t,e){const r={},n=b$(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const _$={offset:"stroke-dashoffset",array:"stroke-dasharray"},E$={offset:"strokeDashoffset",array:"strokeDasharray"};function T$(t,e,r=1,n=0,s=!0){t.pathLength=1;const a=s?_$:E$;t[a.offset]=Ot.transform(-n);const l=Ot.transform(e),u=Ot.transform(r);t[a.array]=`${l} ${u}`}function cS(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...u},d,h,p){if(Q1(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),s!==void 0&&T$(g,s,a,l,!1)}const uS=()=>({...J1(),attrs:{}}),dS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function k$(t,e,r,n){const s=E.useMemo(()=>{const a=uS();return cS(a,e,dS(n),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};lS(a,t.style,t),s.style={...a,...s.style}}return s}const N$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Z1(t){return typeof t!="string"||t.includes("-")?!1:!!(N$.indexOf(t)>-1||/[A-Z]/u.test(t))}function A$(t=!1){return(r,n,s,{latestValues:a},l)=>{const d=(Z1(r)?k$:w$)(n,a,l,r),h=r$(n,typeof r=="string",t),p=r!==E.Fragment?{...h,...d,ref:s}:{},{children:g}=n,y=E.useMemo(()=>Zn(g)?g.get():g,[g]);return E.createElement(r,{...p,children:y})}}function uE(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function eb(t,e,r,n){if(typeof e=="function"){const[s,a]=uE(n);e=e(r!==void 0?r:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=uE(n);e=e(r!==void 0?r:t.custom,s,a)}return e}function Kf(t){return Zn(t)?t.get():t}function S$({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:C$(r,n,s,t),renderState:e()}}const hS=t=>(e,r)=>{const n=E.useContext(Nm),s=E.useContext(km),a=()=>S$(t,e,n,s);return r?a():E1(a)};function C$(t,e,r,n){const s={},a=n(t,{});for(const y in a)s[y]=Kf(a[y]);let{initial:l,animate:u}=t;const d=Sm(t),h=nS(t);e&&h&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=r?r.initial===!1:!1;p=p||l===!1;const g=p?u:l;if(g&&typeof g!="boolean"&&!Am(g)){const y=Array.isArray(g)?g:[g];for(let v=0;v<y.length;v++){const _=eb(t,y[v]);if(_){const{transitionEnd:w,transition:T,...D}=_;for(const I in D){let z=D[I];if(Array.isArray(z)){const F=p?z.length-1:0;z=z[F]}z!==null&&(s[I]=z)}for(const I in w)s[I]=w[I]}}}return s}function tb(t,e,r){const{style:n}=t,s={};for(const a in n)(Zn(n[a])||e.style&&Zn(e.style[a])||oS(a,t)||r?.getValue(a)?.liveStyle!==void 0)&&(s[a]=n[a]);return s}const j$={useVisualState:hS({scrapeMotionValuesFromProps:tb,createRenderState:J1})};function fS(t,e,r){const n=tb(t,e,r);for(const s in t)if(Zn(t[s])||Zn(e[s])){const a=Lu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=t[s]}return n}const I$={useVisualState:hS({scrapeMotionValuesFromProps:fS,createRenderState:uS})};function P$(t,e){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...Z1(n)?I$:j$,preloadedFeatures:t,useRender:A$(s),createVisualElement:e,Component:n};return d$(l)}}function m0(t,e,r){const n=t.getProps();return eb(n,e,r!==void 0?r:n.custom,t)}const Hy=t=>Array.isArray(t);function R$(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,gu(r))}function D$(t){return Hy(t)?t[t.length-1]||0:t}function O$(t,e){const r=m0(t,e);let{transitionEnd:n={},transition:s={},...a}=r||{};a={...a,...n};for(const l in a){const u=D$(a[l]);R$(t,l,u)}}function F$(t){return!!(Zn(t)&&t.add)}function Wy(t,e){const r=t.getValue("willChange");if(F$(r))return r.add(e);if(!r&&Hi.WillChange){const n=new Hi.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function pS(t){return t.props[sS]}const L$=t=>t!==null;function M$(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(L$),a=e&&r!=="loop"&&e%2===1?0:s.length-1;return s[a]}const V$={type:"spring",stiffness:500,damping:25,restSpeed:10},$$=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),B$={type:"keyframes",duration:.8},U$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},z$=(t,{keyframes:e})=>e.length>2?B$:Mu.has(t)?t.startsWith("scale")?$$(e[1]):V$:U$;function H$({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:u,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const rb=(t,e,r,n={},s,a)=>l=>{const u=z1(n,t)||{},d=u.delay||n.delay||0;let{elapsed:h=0}=n;h=h-ni(d);const p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:a?void 0:s};H$(u)||Object.assign(p,z$(t,p)),p.duration&&(p.duration=ni(p.duration)),p.repeatDelay&&(p.repeatDelay=ni(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),(Hi.instantAnimations||Hi.skipAnimations)&&(g=!0,p.duration=0,p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!a&&e.get()!==void 0){const y=M$(p.keyframes,u);if(y!==void 0){Gr.update(()=>{p.onUpdate(y),p.onComplete()});return}}return u.isSync?new $1(p):new TV(p)};function W$({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function mS(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=e;n&&(a=n);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const g=t.getValue(p,t.latestValues[p]??null),y=u[p];if(y===void 0||h&&W$(h,p))continue;const v={delay:r,...z1(a||{},p)},_=g.get();if(_!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===_&&!v.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const D=pS(t);if(D){const I=window.MotionHandoffAnimation(D,p,Gr);I!==null&&(v.startTime=I,w=!0)}}Wy(t,p),g.start(rb(p,g,y,t.shouldReduceMotion&&H3.has(p)?{type:!1}:v,t,w));const T=g.animation;T&&d.push(T)}return l&&Promise.all(d).then(()=>{Gr.update(()=>{l&&O$(t,l)})}),d}function Gy(t,e,r={}){const n=m0(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const a=n?()=>Promise.all(mS(t,n,r)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=s;return G$(t,e,h+d,p,g,r)}:()=>Promise.resolve(),{when:u}=s;if(u){const[d,h]=u==="beforeChildren"?[a,l]:[l,a];return d().then(()=>h())}else return Promise.all([a(),l(r.delay)])}function G$(t,e,r=0,n=0,s=1,a){const l=[],u=(t.variantChildren.size-1)*n,d=s===1?(h=0)=>h*n:(h=0)=>u-h*n;return Array.from(t.variantChildren).sort(q$).forEach((h,p)=>{h.notify("AnimationStart",e),l.push(Gy(h,e,{...a,delay:r+d(p)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function q$(t,e){return t.sortNodePosition(e)}function K$(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(a=>Gy(t,a,r));n=Promise.all(s)}else if(typeof e=="string")n=Gy(t,e,r);else{const s=typeof e=="function"?m0(t,e,r.custom):e;n=Promise.all(mS(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function gS(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Y$=Y1.length;function xS(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?xS(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Y$;r++){const n=Y1[r],s=t.props[n];(f0(s)||s===!1)&&(e[n]=s)}return e}const X$=[...K1].reverse(),Q$=K1.length;function J$(t){return e=>Promise.all(e.map(({animation:r,options:n})=>K$(t,r,n)))}function Z$(t){let e=J$(t),r=dE(),n=!0;const s=d=>(h,p)=>{const g=m0(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:v,..._}=g;h={...h,..._,...v}}return h};function a(d){e=d(t)}function l(d){const{props:h}=t,p=xS(t.parent)||{},g=[],y=new Set;let v={},_=1/0;for(let T=0;T<Q$;T++){const D=X$[T],I=r[D],z=h[D]!==void 0?h[D]:p[D],F=f0(z),Y=D===d?I.isActive:null;Y===!1&&(_=T);let U=z===p[D]&&z!==h[D]&&F;if(U&&n&&t.manuallyAnimateOnMount&&(U=!1),I.protectedKeys={...v},!I.isActive&&Y===null||!z&&!I.prevProp||Am(z)||typeof z=="boolean")continue;const S=eB(I.prevProp,z);let A=S||D===d&&I.isActive&&!U&&F||T>_&&F,j=!1;const R=Array.isArray(z)?z:[z];let M=R.reduce(s(D),{});Y===!1&&(M={});const{prevResolvedValues:L={}}=I,O={...L,...M},fe=Re=>{A=!0,y.has(Re)&&(j=!0,y.delete(Re)),I.needsAnimating[Re]=!0;const Ee=t.getValue(Re);Ee&&(Ee.liveStyle=!1)};for(const Re in O){const Ee=M[Re],ie=L[Re];if(v.hasOwnProperty(Re))continue;let de=!1;Hy(Ee)&&Hy(ie)?de=!gS(Ee,ie):de=Ee!==ie,de?Ee!=null?fe(Re):y.add(Re):Ee!==void 0&&y.has(Re)?fe(Re):I.protectedKeys[Re]=!0}I.prevProp=z,I.prevResolvedValues=M,I.isActive&&(v={...v,...M}),n&&t.blockInitialAnimation&&(A=!1),A&&(!(U&&S)||j)&&g.push(...R.map(Re=>({animation:Re,options:{type:D}})))}if(y.size){const T={};if(typeof h.initial!="boolean"){const D=m0(t,Array.isArray(h.initial)?h.initial[0]:h.initial);D&&D.transition&&(T.transition=D.transition)}y.forEach(D=>{const I=t.getBaseTarget(D),z=t.getValue(D);z&&(z.liveStyle=!0),T[D]=I??null}),g.push({animation:T})}let w=!!g.length;return n&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(g):Promise.resolve()}function u(d,h){if(r[d].isActive===h)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(d,h)),r[d].isActive=h;const p=l(d);for(const g in r)r[g].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>r,reset:()=>{r=dE(),n=!0}}}function eB(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!gS(e,t):!1}function vl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dE(){return{animate:vl(!0),whileInView:vl(),whileHover:vl(),whileTap:vl(),whileDrag:vl(),whileFocus:vl(),exit:vl()}}class Zo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class tB extends Zo{constructor(e){super(e),e.animationState||(e.animationState=Z$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Am(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let rB=0;class nB extends Zo{constructor(){super(...arguments),this.id=rB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const sB={animation:{Feature:tB},exit:{Feature:nB}};function g0(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Y0(t){return{point:{x:t.pageX,y:t.pageY}}}const aB=t=>e=>G1(e)&&t(e,Y0(e));function zd(t,e,r,n){return g0(t,e,aB(r),n)}function yS({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function iB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function oB(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const vS=1e-4,lB=1-vS,cB=1+vS,bS=.01,uB=0-bS,dB=0+bS;function us(t){return t.max-t.min}function hB(t,e,r){return Math.abs(t-e)<=r}function hE(t,e,r,n=.5){t.origin=n,t.originPoint=Wr(e.min,e.max,t.origin),t.scale=us(r)/us(e),t.translate=Wr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=lB&&t.scale<=cB||isNaN(t.scale))&&(t.scale=1),(t.translate>=uB&&t.translate<=dB||isNaN(t.translate))&&(t.translate=0)}function Hd(t,e,r,n){hE(t.x,e.x,r.x,n?n.originX:void 0),hE(t.y,e.y,r.y,n?n.originY:void 0)}function fE(t,e,r){t.min=r.min+e.min,t.max=t.min+us(e)}function fB(t,e,r){fE(t.x,e.x,r.x),fE(t.y,e.y,r.y)}function pE(t,e,r){t.min=e.min-r.min,t.max=t.min+us(e)}function Wd(t,e,r){pE(t.x,e.x,r.x),pE(t.y,e.y,r.y)}const mE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jc=()=>({x:mE(),y:mE()}),gE=()=>({min:0,max:0}),Zr=()=>({x:gE(),y:gE()});function aa(t){return[t("x"),t("y")]}function $x(t){return t===void 0||t===1}function qy({scale:t,scaleX:e,scaleY:r}){return!$x(t)||!$x(e)||!$x(r)}function wl(t){return qy(t)||wS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wS(t){return xE(t.x)||xE(t.y)}function xE(t){return t&&t!=="0%"}function Sp(t,e,r){const n=t-r,s=e*n;return r+s}function yE(t,e,r,n,s){return s!==void 0&&(t=Sp(t,s,n)),Sp(t,r,n)+e}function Ky(t,e=0,r=1,n,s){t.min=yE(t.min,e,r,n,s),t.max=yE(t.max,e,r,n,s)}function _S(t,{x:e,y:r}){Ky(t.x,e.translate,e.scale,e.originPoint),Ky(t.y,r.translate,r.scale,r.originPoint)}const vE=.999999999999,bE=1.0000000000001;function pB(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let a,l;for(let u=0;u<s;u++){a=r[u],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&eu(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,_S(t,l)),n&&wl(a.latestValues)&&eu(t,a.latestValues))}e.x<bE&&e.x>vE&&(e.x=1),e.y<bE&&e.y>vE&&(e.y=1)}function Zc(t,e){t.min=t.min+e,t.max=t.max+e}function wE(t,e,r,n,s=.5){const a=Wr(t.min,t.max,s);Ky(t,e,r,a,n)}function eu(t,e){wE(t.x,e.x,e.scaleX,e.scale,e.originX),wE(t.y,e.y,e.scaleY,e.scale,e.originY)}function ES(t,e){return yS(oB(t.getBoundingClientRect(),e))}function mB(t,e,r){const n=ES(t,r),{scroll:s}=e;return s&&(Zc(n.x,s.offset.x),Zc(n.y,s.offset.y)),n}const TS=({current:t})=>t?t.ownerDocument.defaultView:null,_E=(t,e)=>Math.abs(t-e);function gB(t,e){const r=_E(t.x,e.x),n=_E(t.y,e.y);return Math.sqrt(r**2+n**2)}class kS{constructor(e,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Ux(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=gB(g.offset,{x:0,y:0})>=3;if(!y&&!v)return;const{point:_}=g,{timestamp:w}=Dn;this.history.push({..._,timestamp:w});const{onStart:T,onMove:D}=this.handlers;y||(T&&T(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Bx(y,this.transformPagePoint),Gr.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:v,onSessionEnd:_,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Ux(g.type==="pointercancel"?this.lastMoveEventInfo:Bx(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,T),_&&_(g,T)},!G1(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const l=Y0(e),u=Bx(l,this.transformPagePoint),{point:d}=u,{timestamp:h}=Dn;this.history=[{...d,timestamp:h}];const{onSessionStart:p}=r;p&&p(e,Ux(u,this.history)),this.removeListeners=G0(zd(this.contextWindow,"pointermove",this.handlePointerMove),zd(this.contextWindow,"pointerup",this.handlePointerUp),zd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Uo(this.updatePoint)}}function Bx(t,e){return e?{point:e(t.point)}:t}function EE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ux({point:t},e){return{point:t,delta:EE(t,NS(e)),offset:EE(t,xB(e)),velocity:yB(e,.1)}}function xB(t){return t[0]}function NS(t){return t[t.length-1]}function yB(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=NS(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>ni(e)));)r--;if(!n)return{x:0,y:0};const a=si(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function vB(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Wr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Wr(r,t,n.max):Math.min(t,r)),t}function TE(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function bB(t,{top:e,left:r,bottom:n,right:s}){return{x:TE(t.x,r,s),y:TE(t.y,e,n)}}function kE(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function wB(t,e){return{x:kE(t.x,e.x),y:kE(t.y,e.y)}}function _B(t,e){let r=.5;const n=us(t),s=us(e);return s>n?r=u0(e.min,e.max-n,t.min):n>s&&(r=u0(t.min,t.max-s,e.min)),zi(0,1,r)}function EB(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Yy=.35;function TB(t=Yy){return t===!1?t=0:t===!0&&(t=Yy),{x:NE(t,"left","right"),y:NE(t,"top","bottom")}}function NE(t,e,r){return{min:AE(t,e),max:AE(t,r)}}function AE(t,e){return typeof t=="number"?t:t[e]||0}const kB=new WeakMap;class NB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zr(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Y0(p).point)},a=(p,g)=>{const{drag:y,dragPropagation:v,onDragStart:_}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$V(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),aa(T=>{let D=this.getAxisMotionValue(T).get()||0;if(ai.test(D)){const{projection:I}=this.visualElement;if(I&&I.layout){const z=I.layout.layoutBox[T];z&&(D=us(z)*(parseFloat(D)/100))}}this.originPoint[T]=D}),_&&Gr.postRender(()=>_(p,g)),Wy(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(p,g)=>{const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:_,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:T}=g;if(v&&this.currentDirection===null){this.currentDirection=AB(T),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",g.point,T),this.updateAxis("y",g.point,T),this.visualElement.render(),w&&w(p,g)},u=(p,g)=>this.stop(p,g),d=()=>aa(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new kS(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:TS(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Gr.postRender(()=>a(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!kf(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(l=vB(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Qc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=bB(n.layoutBox,e):this.constraints=!1,this.elastic=TB(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&aa(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=EB(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Qc(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=mB(n,s.root,this.visualElement.getTransformPagePoint());let l=wB(s.layout.layoutBox,a);if(r){const u=r(iB(l));this.hasMutatedConstraints=!!u,u&&(l=yS(u))}return l}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=aa(p=>{if(!kf(p,r,this.currentDirection))return;let g=d&&d[p]||{};l&&(g={min:0,max:0});const y=s?200:1e6,v=s?40:1e7,_={type:"inertia",velocity:n?e[p]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,_)});return Promise.all(h).then(u)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Wy(this.visualElement,e),n.start(rb(e,n,0,r,this.visualElement,!1))}stopAnimation(){aa(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){aa(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){aa(r=>{const{drag:n}=this.getProps();if(!kf(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[r];a.set(e[r]-Wr(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Qc(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};aa(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();s[l]=_B({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),aa(l=>{if(!kf(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];u.set(Wr(d,h,s[l]))})}addListeners(){if(!this.visualElement.current)return;kB.set(this.visualElement,this);const e=this.visualElement.current,r=zd(e,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();Qc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Gr.read(n);const l=g0(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(aa(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=d[p].translate,g.set(g.get()+d[p].translate))}),this.visualElement.render())}));return()=>{l(),r(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Yy,dragMomentum:u=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function kf(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function AB(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class SB extends Zo{constructor(e){super(e),this.removeGroupControls=oa,this.removeListeners=oa,this.controls=new NB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oa}unmount(){this.removeGroupControls(),this.removeListeners()}}const SE=t=>(e,r)=>{t&&Gr.postRender(()=>t(e,r))};class CB extends Zo{constructor(){super(...arguments),this.removePointerDownListener=oa}onPointerDown(e){this.session=new kS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:SE(e),onStart:SE(r),onMove:n,onEnd:(a,l)=>{delete this.session,s&&Gr.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=zd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _d={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ot.test(t))t=parseFloat(t);else return t;const r=CE(t,e.target.x),n=CE(t,e.target.y);return`${r}% ${n}%`}},jB={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=zo.parse(t);if(s.length>5)return n;const a=zo.createTransformer(t),l=typeof s[0]!="number"?1:0,u=r.x.scale*e.x,d=r.y.scale*e.y;s[0+l]/=u,s[1+l]/=d;const h=Wr(u,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),a(s)}};class IB extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=e;m$(PB),a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Yf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,{projection:l}=n;return l&&(l.isPresent=a,s||e.layoutDependency!==r||r===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Gr.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),W1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AS(t){const[e,r]=eS(),n=E.useContext(_1);return i.jsx(IB,{...t,layoutGroup:n,switchLayoutGroup:E.useContext(aS),isPresent:e,safeToRemove:r})}const PB={borderRadius:{..._d,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_d,borderTopRightRadius:_d,borderBottomLeftRadius:_d,borderBottomRightRadius:_d,boxShadow:jB};function RB(t,e,r){const n=Zn(t)?t:gu(t);return n.start(rb("",n,e,r)),n.animation}const DB=(t,e)=>t.depth-e.depth;class OB{constructor(){this.children=[],this.isDirty=!1}add(e){k1(this.children,e),this.isDirty=!0}remove(e){N1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(DB),this.isDirty=!1,this.children.forEach(e)}}function FB(t,e){const r=Es.now(),n=({timestamp:s})=>{const a=s-r;a>=e&&(Uo(n),t(a-e))};return Gr.setup(n,!0),()=>Uo(n)}const SS=["TopLeft","TopRight","BottomLeft","BottomRight"],LB=SS.length,jE=t=>typeof t=="string"?parseFloat(t):t,IE=t=>typeof t=="number"||Ot.test(t);function MB(t,e,r,n,s,a){s?(t.opacity=Wr(0,r.opacity??1,VB(n)),t.opacityExit=Wr(e.opacity??1,0,$B(n))):a&&(t.opacity=Wr(e.opacity??1,r.opacity??1,n));for(let l=0;l<LB;l++){const u=`border${SS[l]}Radius`;let d=PE(e,u),h=PE(r,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||IE(d)===IE(h)?(t[u]=Math.max(Wr(jE(d),jE(h),n),0),(ai.test(h)||ai.test(d))&&(t[u]+="%")):t[u]=h}(e.rotate||r.rotate)&&(t.rotate=Wr(e.rotate||0,r.rotate||0,n))}function PE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const VB=CS(0,.5,w3),$B=CS(.5,.95,oa);function CS(t,e,r){return n=>n<t?0:n>e?1:r(u0(t,e,n))}function RE(t,e){t.min=e.min,t.max=e.max}function na(t,e){RE(t.x,e.x),RE(t.y,e.y)}function DE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function OE(t,e,r,n,s){return t-=e,t=Sp(t,1/r,n),s!==void 0&&(t=Sp(t,1/s,n)),t}function BB(t,e=0,r=1,n=.5,s,a=t,l=t){if(ai.test(e)&&(e=parseFloat(e),e=Wr(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Wr(a.min,a.max,n);t===a&&(u-=e),t.min=OE(t.min,e,r,u,s),t.max=OE(t.max,e,r,u,s)}function FE(t,e,[r,n,s],a,l){BB(t,e[r],e[n],e[s],e.scale,a,l)}const UB=["x","scaleX","originX"],zB=["y","scaleY","originY"];function LE(t,e,r,n){FE(t.x,e,UB,r?r.x:void 0,n?n.x:void 0),FE(t.y,e,zB,r?r.y:void 0,n?n.y:void 0)}function ME(t){return t.translate===0&&t.scale===1}function jS(t){return ME(t.x)&&ME(t.y)}function VE(t,e){return t.min===e.min&&t.max===e.max}function HB(t,e){return VE(t.x,e.x)&&VE(t.y,e.y)}function $E(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function IS(t,e){return $E(t.x,e.x)&&$E(t.y,e.y)}function BE(t){return us(t.x)/us(t.y)}function UE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class WB{constructor(){this.members=[]}add(e){k1(this.members,e),e.scheduleRender()}remove(e){if(N1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GB(t,e,r){let n="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=r?.z||0;if((s||a||l)&&(n=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:y,skewX:v,skewY:_}=r;h&&(n=`perspective(${h}px) ${n}`),p&&(n+=`rotate(${p}deg) `),g&&(n+=`rotateX(${g}deg) `),y&&(n+=`rotateY(${y}deg) `),v&&(n+=`skewX(${v}deg) `),_&&(n+=`skewY(${_}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(n+=`scale(${u}, ${d})`),n||"none"}const zx=["","X","Y","Z"],qB={visibility:"hidden"},KB=1e3;let YB=0;function Hx(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function PS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=pS(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Gr,!(s||a))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&PS(n)}function RS({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(l={},u=e?.()){this.id=YB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(JB),this.nodes.forEach(nU),this.nodes.forEach(sU),this.nodes.forEach(ZB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new OB)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new C1),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Z3(l)&&!GV(l),this.instance=l;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let p;const g=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=FB(g,250),Yf.hasAnimatedSinceResize&&(Yf.hasAnimatedSinceResize=!1,this.nodes.forEach(HE))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||h.getDefaultTransition()||cU,{onLayoutAnimationStart:w,onLayoutAnimationComplete:T}=h.getProps(),D=!this.targetLayout||!IS(this.targetLayout,v),I=!g&&y;if(this.options.layoutRoot||this.resumeFrom||I||g&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,I);const z={...z1(_,"layout"),onPlay:w,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z)}else g||HE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Uo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aU),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zE);return}this.isUpdating||this.nodes.forEach(tU),this.isUpdating=!1,this.nodes.forEach(rU),this.nodes.forEach(XB),this.nodes.forEach(QB),this.clearAllSnapshots();const u=Es.now();Dn.delta=zi(0,1e3/60,u-Dn.timestamp),Dn.timestamp=u,Dn.isProcessing=!0,Dx.update.process(Dn),Dx.preRender.process(Dn),Dx.render.process(Dn),Dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,W1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eU),this.sharedNodes.forEach(iU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!us(this.snapshot.measuredBox.x)&&!us(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!jS(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&this.instance&&(u||wl(this.latestValues)||p)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),uU(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Zr();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(dU))){const{scroll:h}=this.root;h&&(Zc(u.x,h.offset.x),Zc(u.y,h.offset.y))}return u}removeElementScroll(l){const u=Zr();if(na(u,l),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&na(u,l),Zc(u.x,p.offset.x),Zc(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const d=Zr();na(d,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&eu(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),wl(p.latestValues)&&eu(d,p.latestValues)}return wl(this.latestValues)&&eu(d,this.latestValues),d}removeTransform(l){const u=Zr();na(u,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!wl(h.latestValues))continue;qy(h.latestValues)&&h.updateSnapshot();const p=Zr(),g=h.measurePageBox();na(p,g),LE(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return wl(this.latestValues)&&LE(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Dn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zr(),this.relativeTargetOrigin=Zr(),Wd(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),na(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Zr(),this.targetWithTransforms=Zr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):na(this.target,this.layout.layoutBox),_S(this.target,this.targetDelta)):na(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zr(),this.relativeTargetOrigin=Zr(),Wd(this.relativeTargetOrigin,this.target,y.target),na(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qy(this.parent.latestValues)||wS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Dn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;na(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;pB(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Zr());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(DE(this.prevProjectionDelta.x,this.projectionDelta.x),DE(this.prevProjectionDelta.y,this.projectionDelta.y)),Hd(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!UE(this.projectionDelta.x,this.prevProjectionDelta.x)||!UE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Jc(),this.projectionDelta=Jc(),this.projectionDeltaWithTransform=Jc()}setAnimationOrigin(l,u=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},g=Jc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=Zr(),v=d?d.source:void 0,_=this.layout?this.layout.source:void 0,w=v!==_,T=this.getStack(),D=!T||T.members.length<=1,I=!!(w&&!D&&this.options.crossfade===!0&&!this.path.some(lU));this.animationProgress=0;let z;this.mixTargetDelta=F=>{const Y=F/1e3;WE(g.x,l.x,Y),WE(g.y,l.y,Y),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wd(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oU(this.relativeTarget,this.relativeTargetOrigin,y,Y),z&&HB(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=Zr()),na(z,this.relativeTarget)),w&&(this.animationValues=p,MB(p,h,this.latestValues,Y,I,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(!1),this.resumingFrom?.currentAnimation?.stop(!1),this.pendingAnimation&&(Uo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gr.update(()=>{Yf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gu(0)),this.currentAnimation=RB(this.motionValue,[0,1e3],{...l,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(KB),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:p}=l;if(!(!u||!d||!h)){if(this!==l&&this.layout&&h&&DS(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Zr();const g=us(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const y=us(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+y}na(u,d),eu(u,p),Hd(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new WB),this.sharedNodes.get(l).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&Hx("z",l,h,this.animationValues);for(let p=0;p<zx.length;p++)Hx(`rotate${zx[p]}`,l,h,this.animationValues),Hx(`skew${zx[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return qB;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Kf(l?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Kf(l?.pointerEvents)||""),this.hasProjected&&!wl(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=GB(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:g,y}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in p0){if(p[v]===void 0)continue;const{correct:_,applyTo:w,isCSSVariable:T}=p0[v],D=u.transform==="none"?p[v]:_(p[v],h);if(w){const I=w.length;for(let z=0;z<I;z++)u[w[z]]=D}else T?this.options.visualElement.renderState.vars[v]=D:u[v]=D}return this.options.layoutId&&(u.pointerEvents=h===this?Kf(l?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop(!1)),this.root.nodes.forEach(zE),this.root.sharedNodes.clear()}}}function XB(t){t.updateLayout()}function QB(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?aa(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],y=us(g);g.min=r[p].min,g.max=g.min+y}):DS(s,e.layoutBox,r)&&aa(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],y=us(r[p]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const l=Jc();Hd(l,r,e.layoutBox);const u=Jc();a?Hd(u,t.applyTransform(n,!0),e.measuredBox):Hd(u,r,e.layoutBox);const d=!jS(l);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:y}=p;if(g&&y){const v=Zr();Wd(v,e.layoutBox,g.layoutBox);const _=Zr();Wd(_,r,y.layoutBox),IS(v,_)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=v,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function JB(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ZB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function eU(t){t.clearSnapshot()}function zE(t){t.clearMeasurements()}function tU(t){t.isLayoutDirty=!1}function rU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function HE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function nU(t){t.resolveTargetDelta()}function sU(t){t.calcProjection()}function aU(t){t.resetSkewAndRotation()}function iU(t){t.removeLeadSnapshot()}function WE(t,e,r){t.translate=Wr(e.translate,0,r),t.scale=Wr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function GE(t,e,r,n){t.min=Wr(e.min,r.min,n),t.max=Wr(e.max,r.max,n)}function oU(t,e,r,n){GE(t.x,e.x,r.x,n),GE(t.y,e.y,r.y,n)}function lU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const cU={duration:.45,ease:[.4,0,.1,1]},qE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),KE=qE("applewebkit/")&&!qE("chrome/")?Math.round:oa;function YE(t){t.min=KE(t.min),t.max=KE(t.max)}function uU(t){YE(t.x),YE(t.y)}function DS(t,e,r){return t==="position"||t==="preserve-aspect"&&!hB(BE(e),BE(r),.2)}function dU(t){return t!==t.root&&t.scroll?.wasRoot}const hU=RS({attachResizeListener:(t,e)=>g0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wx={current:void 0},OS=RS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wx.current){const t=new hU({});t.mount(window),t.setOptions({layoutScroll:!0}),Wx.current=t}return Wx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),fU={pan:{Feature:CB},drag:{Feature:SB,ProjectionNode:OS,MeasureLayout:AS}};function XE(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,a=n[s];a&&Gr.postRender(()=>a(e,Y0(e)))}class pU extends Zo{mount(){const{current:e}=this.node;e&&(this.unmount=BV(e,(r,n)=>(XE(this.node,n,"Start"),s=>XE(this.node,s,"End"))))}unmount(){}}class mU extends Zo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=G0(g0(this.node.current,"focus",()=>this.onFocus()),g0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function QE(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),a=n[s];a&&Gr.postRender(()=>a(e,Y0(e)))}class gU extends Zo{mount(){const{current:e}=this.node;e&&(this.unmount=WV(e,(r,n)=>(QE(this.node,n,"Start"),(s,{success:a})=>QE(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xy=new WeakMap,Gx=new WeakMap,xU=t=>{const e=Xy.get(t.target);e&&e(t)},yU=t=>{t.forEach(xU)};function vU({root:t,...e}){const r=t||document;Gx.has(r)||Gx.set(r,{});const n=Gx.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(yU,{root:t,...e})),n[s]}function bU(t,e,r){const n=vU(e);return Xy.set(t,r),n.observe(t),()=>{Xy.delete(t),n.unobserve(t)}}const wU={some:0,all:1};class _U extends Zo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=e,l={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:wU[s]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=h?p:g;y&&y(d)};return bU(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(EU(e,r))&&this.startObserver()}unmount(){}}function EU({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const TU={inView:{Feature:_U},tap:{Feature:gU},focus:{Feature:mU},hover:{Feature:pU}},kU={layout:{ProjectionNode:OS,MeasureLayout:AS}},Qy={current:null},FS={current:!1};function NU(){if(FS.current=!0,!!T1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qy.current=t.matches;t.addListener(e),e()}else Qy.current=!1}const AU=new WeakMap;function SU(t,e,r){for(const n in e){const s=e[n],a=r[n];if(Zn(s))t.addValue(n,s);else if(Zn(a))t.addValue(n,gu(s,{owner:t}));else if(a!==s)if(t.hasValue(n)){const l=t.getValue(n);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(n);t.addValue(n,gu(l!==void 0?l:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const JE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CU{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=B1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Es.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Gr.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!a,this.isControllingVariants=Sm(r),this.isVariantNode=nS(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const y in g){const v=g[y];d[y]!==void 0&&Zn(v)&&v.set(d[y],!1)}}mount(e){this.current=e,AU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),FS.current||NU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Uo(this.notifyUpdate),Uo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Mu.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Gr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in xu){const r=xu[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<JE.length;n++){const s=JE[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=SU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=gu(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(d3(n)||f3(n))?n=parseFloat(n):!KV(n)&&zo.test(r)&&(n=K3(e,r)),this.setBaseTarget(e,Zn(n)?n.get():n)),Zn(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=eb(this.props,r,this.presenceContext?.custom);a&&(n=a[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Zn(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new C1),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class LS extends CU{constructor(){super(...arguments),this.KeyframeResolver=FV}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function MS(t,{style:e,vars:r},n,s){Object.assign(t.style,e,s&&s.getProjectionStyles(n));for(const a in r)t.style.setProperty(a,r[a])}function jU(t){return window.getComputedStyle(t)}class IU extends LS{constructor(){super(...arguments),this.type="html",this.renderInstance=MS}readValueFromInstance(e,r){if(Mu.has(r))return this.projection?.isProjecting?My(r):tV(e,r);{const n=jU(e),s=(P1(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return ES(e,r)}build(e,r,n){Q1(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return tb(e,r,n)}}const VS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PU(t,e,r,n){MS(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(VS.has(s)?s:X1(s),e.attrs[s])}class RU extends LS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Mu.has(r)){const n=q3(r);return n&&n.default||0}return r=VS.has(r)?r:X1(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return fS(e,r,n)}build(e,r,n){cS(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,s){PU(e,r,n,s)}mount(e){this.isSVGTag=dS(e.tagName),super.mount(e)}}const DU=(t,e)=>Z1(t)?new RU(e):new IU(e,{allowProjection:t!==E.Fragment}),OU=P$({...sB,...TU,...fU,...kU},DU),Z=n$(OU),ZE=(t,e,r,n)=>{t.style.transition=`${e} ${r}ms ${n}`},Si=(t,e,r)=>Math.min(Math.max(t,e),r);class FU{constructor(e,r){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=l=>{const{width:u,height:d}=l,h=Math.sqrt(u**2+d**2);return{width:h,height:h}},this.setSize=l=>{const u=this.calculateGlareSize(l);this.glareEl.style.width=`${u.width}px`,this.glareEl.style.height=`${u.height}px`},this.update=(l,u,d,h)=>{this.updateAngle(l,u.glareReverse),this.updateOpacity(l,u,d,h)},this.updateAngle=(l,u)=>{const{xPercentage:d,yPercentage:h}=l,p=180/Math.PI,g=d?Math.atan2(h,-d)*p:0;this.glareAngle=g-(u?180:0)},this.updateOpacity=(l,u,d,h)=>{const{xPercentage:p,yPercentage:g}=l,{glarePosition:y,glareReverse:v,glareMaxOpacity:_}=u,w=d?-1:1,T=h?-1:1,D=v?-1:1;let I=0;switch(y){case"top":I=-p*w*D;break;case"right":I=g*T*D;break;case"bottom":case void 0:I=p*w*D;break;case"left":I=-g*T*D;break;case"all":I=Math.hypot(p,g)}const z=Si(I,0,100);this.glareOpacity=z*_/100},this.render=l=>{const{glareColor:u}=l;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${u} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const n={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:r,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},s=this.calculateGlareSize(e),a={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${s.width}px`,height:`${s.height}px`};Object.assign(this.glareWrapperEl.style,n),Object.assign(this.glareEl.style,a)}}class LU{constructor(){this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,r)=>{this.updateTilt(e,r),this.updateTiltManualInput(e,r),this.updateTiltReverse(r),this.updateTiltLimits(r)},this.updateTilt=(e,r)=>{const{xPercentage:n,yPercentage:s}=e,{tiltMaxAngleX:a,tiltMaxAngleY:l}=r;this.tiltAngleX=n*a/100,this.tiltAngleY=s*l/100*-1},this.updateTiltManualInput=(e,r)=>{const{tiltAngleXManual:n,tiltAngleYManual:s,tiltMaxAngleX:a,tiltMaxAngleY:l}=r;(n!==null||s!==null)&&(this.tiltAngleX=n!==null?n:0,this.tiltAngleY=s!==null?s:0,e.xPercentage=100*this.tiltAngleX/a,e.yPercentage=100*this.tiltAngleY/l)},this.updateTiltReverse=e=>{const r=e.tiltReverse?-1:1;this.tiltAngleX=r*this.tiltAngleX,this.tiltAngleY=r*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:r}=e;this.tiltAngleX=Si(this.tiltAngleX,-90,90),this.tiltAngleY=Si(this.tiltAngleY,-90,90),r&&(this.tiltAngleX=r==="x"?this.tiltAngleX:0,this.tiltAngleY=r==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:r,tiltMaxAngleY:n}=e;this.tiltAngleXPercentage=this.tiltAngleX/r*100,this.tiltAngleYPercentage=this.tiltAngleY/n*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const MU={scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1,tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null,glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"};class $S extends E.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=async()=>{if(!window.DeviceOrientationEvent)return;const e=DeviceOrientationEvent.requestPermission;typeof e=="function"?await e()==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)},this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:r}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),r&&r({event:e})},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:r}=this.props;if(this.setTransitions(),r&&r({event:e}),this.props.reset){const n=new CustomEvent("autoreset");this.onMove(n)}},this.processInput=e=>{const{scale:r}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=r;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=r;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=r;break;case"autoreset":{const{tiltAngleXInitial:n,tiltAngleYInitial:s,tiltMaxAngleX:a,tiltMaxAngleY:l}=this.props,u=s/l*100;this.wrapperEl.clientPosition.xPercentage=Si(n/a*100,-100,100),this.wrapperEl.clientPosition.yPercentage=Si(u,-100,100),this.wrapperEl.scale=1;break}}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:r,tiltMaxAngleY:n}=this.props,s=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/r*100,this.wrapperEl.clientPosition.yPercentage=s/n*100,this.wrapperEl.clientPosition.xPercentage=Si(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=Si(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:r,flipVertically:n,flipHorizontally:s}=this.props;e!=="autoreset"&&e!=="deviceorientation"&&e!=="propChange"&&this.updateClientInput(),r&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,n,s)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let r,n;if(e){const{x:s,y:a}=this.wrapperEl.clientPosition;r=a/window.innerHeight*200-100,n=s/window.innerWidth*200-100}else{const{size:{width:s,height:a,left:l,top:u},clientPosition:{x:d,y:h}}=this.wrapperEl;r=(h-u)/a*200-100,n=(d-l)/s*200-100}this.wrapperEl.clientPosition.xPercentage=Si(r,-100,100),this.wrapperEl.clientPosition.yPercentage=Si(n,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:r}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),r&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new LU,this.initGlare(),this.setSize(),this.addEventListeners(),typeof CustomEvent>"u")return;const e=new CustomEvent("autoreset");this.mainLoop(e);const r=new CustomEvent("initial");this.emitOnMove(r)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:r}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),r&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:r}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),r&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:r}=this.props;e&&(this.glare=new FU(this.wrapperEl.size,r),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:r}=this.props;if(!r)return;let n=0,s=0;this.glare&&(n=this.glare.glareAngle,s=this.glare.glareOpacity),r({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:n,glareOpacity:s,event:e})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:r}=this.props;ZE(this.wrapperEl.node,"all",e,r),this.glare&&ZE(this.glare.glareEl,"opacity",e,r)}render(){const{children:e,className:r,style:n}=this.props;return i.jsx("div",{ref:s=>{this.wrapperEl.node=s},onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:r,style:n,children:e})}}$S.defaultProps=MU;var qx={exports:{}},Kx,eT;function VU(){if(eT)return Kx;eT=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Kx=t,Kx}var Yx,tT;function $U(){if(tT)return Yx;tT=1;var t=VU();function e(){}function r(){}return r.resetWarningCache=e,Yx=function(){function n(l,u,d,h,p,g){if(g!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function s(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},Yx}var rT;function BU(){return rT||(rT=1,qx.exports=$U()()),qx.exports}var UU=BU();const G=av(UU);var BS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nT=Ia.createContext&&Ia.createContext(BS),zU=["attr","size","title"];function HU(t,e){if(t==null)return{};var r=WU(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Cp(){return Cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cp.apply(this,arguments)}function sT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function jp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sT(Object(r),!0).forEach(function(n){GU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GU(t,e,r){return e=qU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qU(t){var e=KU(t,"string");return typeof e=="symbol"?e:e+""}function KU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function US(t){return t&&t.map((e,r)=>Ia.createElement(e.tag,jp({key:r},e.attr),US(e.child)))}function qe(t){return e=>Ia.createElement(YU,Cp({attr:jp({},t.attr)},e),US(t.child))}function YU(t){var e=r=>{var{attr:n,size:s,title:a}=t,l=HU(t,zU),u=s||r.size||"1em",d;return r.className&&(d=r.className),t.className&&(d=(d?d+" ":"")+t.className),Ia.createElement("svg",Cp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,l,{className:d,style:jp(jp({color:t.color||r.color},r.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&Ia.createElement("title",null,a),t.children)};return nT!==void 0?Ia.createElement(nT.Consumer,null,r=>e(r)):e(BS)}function Yl(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function Xl(t){return qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Ql(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function Cm(t){return qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(t)}function XU(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(t)}function jm(t){return qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function Ml(t){return qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function QU(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(t)}function JU(t){return qe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},child:[]}]})(t)}function Pd(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function ZU(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function ez(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function tz(t){return qe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function rz(t){return qe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function nz(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function ii(t){return qe({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(t)}function Xf(t){return qe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function yu(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Vl(t){return qe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function zS(t){return qe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function HS(t){return qe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function nb(t){return qe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function sb(t){return qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function Jl(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function sz(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function az(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(t)}function iz(t){return qe({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"},child:[]}]})(t)}function vu(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Jy(t){return qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(t)}function bu(t){return qe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function Zy(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(t)}function wu(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Zl(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function Sn(t){return qe({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function ab(t){return qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function oz(t){return qe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Ip(t){return qe({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function ev(t){return qe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function $l(t){return qe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function _u(t){return qe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function lz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(t)}function la(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function x0(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function nZ(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function ib(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function cz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function Eu(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function uz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function Im(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Pm(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function ec(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function WS(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(t)}function aT(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(t)}function zs(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function Rm(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function GS(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function dz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function hz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function ob(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function sZ(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"},child:[]},{tag:"line",attr:{x1:"7",y1:"2",x2:"7",y2:"22"},child:[]},{tag:"line",attr:{x1:"17",y1:"2",x2:"17",y2:"22"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"2",y1:"7",x2:"7",y2:"7"},child:[]},{tag:"line",attr:{x1:"2",y1:"17",x2:"7",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"17",x2:"22",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"7",x2:"22",y2:"7"},child:[]}]})(t)}function aZ(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function Di(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function fz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function qS(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function pz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function mz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(t)}function KS(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(t)}function gz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(t)}function Pp(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function Rp(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function lb(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function xz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function Hr(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(t)}function iZ(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function oZ(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 18V5l12-2v13"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"16",r:"3"},child:[]}]})(t)}function yz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function lZ(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"},child:[]},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"},child:[]},{tag:"path",attr:{d:"M2 2l7.586 7.586"},child:[]},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"},child:[]}]})(t)}function y0(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function cZ(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"10 8 16 12 10 16 10 8"},child:[]}]})(t)}function iT(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function YS(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function XS(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 1 21 5 17 9"},child:[]},{tag:"path",attr:{d:"M3 11V9a4 4 0 0 1 4-4h14"},child:[]},{tag:"polyline",attr:{points:"7 23 3 19 7 15"},child:[]},{tag:"path",attr:{d:"M21 13v2a4 4 0 0 1-4 4H3"},child:[]}]})(t)}function oi(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function QS(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function Ho(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function Tu(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(t)}function JS(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}function uZ(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(t)}function cb(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function oT(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function dZ(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"},child:[]},{tag:"polyline",attr:{points:"17 2 12 7 7 2"},child:[]}]})(t)}function Dp(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function vz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function Ns(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function ku(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function hZ(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"},child:[]},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"},child:[]}]})(t)}function bz(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(t)}function Gs(t){return qe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const tc="/assets/logo-IHyrTBgF.png",wz="/assets/brooklyn99-JZ2MWN0w.png",_z="/assets/stranger-things-D5-0lMAO.png",Ez="/assets/breaking-bad-Bpn3wVPd.png",Tz="/assets/naruto-39Z-HkPE.png",kz="/assets/alice-Cq40FnIV.png",Nz="/assets/netflix-BLpv_VXG.png",Az="/assets/spotify-CUJiurFO.png",Sz="/assets/disney-BRimCQHx.png",Cz="/assets/max-aXt83Sjr.png",jz="/assets/prime-video-BMlPKM2C.png",Iz="/assets/vix-C-6nU-w7.png",Pz="/assets/Canva-BX7ku0VE.png",Rz="/assets/ChatGPT-C1qHuj3X.png",Dz="/assets/crunchyroll-Cuo8hoUb.png",Oz="/assets/redessociales-DoJo_LR2.png",Fz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAC1CAMAAABGd1nPAAAASFBMVEVHcEz9ggQLp+j9ggT9ggSSk4IKqen9ggT9ggT9ggQQqecSnuAFre39ggQAre79ggQlqeEmodsnkdAoiMonmdUof8MqdbwSmtxXpu9oAAAADnRSTlMAWUCm6xLHMcZ8daTqkBOCNdsAAA4mSURBVHja7Z3peusqDEXjAYPtup7d93/TazvxPCCQwKe90J7v/EsaFltbEgS/Xi+WRtojTfrh+/7LDbKRFDfj6xs4vno2PnOziR/sAkVZlNMovuFYHBXsSItrIhOTpinLHzCVKHURDDEiKY6yef80cChfaeKEQgvkTaRYkLyHilCcTkg9fYBRbBXyGQo6cUzUh3/FY23rC4+q/2kUZJK4GVYdUoWM9tFMSHoi/VCQiXMTeldfFFK9f5SQfDsk+Ly3XBPZekg1D6cSi5XhuUBGjXwkooTk23kJ1kRWae9KIdVaIcOAF/Eu48LErHLTPGm2WdakkLrufxt4xuXiFipmbdKsJctacAy/AxIXt2zkWTd1yGwhbx69Tlz1bqE2vKrUF0d/AxmROJHQjq+7NKvZCmT2kHqRSD/g5u6cRKefdV2H7BUyDYWixE24hkQ2dcimLlwhqVdMWnjYSt2Ea7jIof1e7srCequQuq1dAmwu0bqsQ/Zp1gdJ2//UrasSDdYiSx3SlNtKvalOJdK2CmHLEVH19XUdciWQja23o0xc/mswaJXXMWuBseYxjMoRMRS0SpCHbEx9kIgCEZdsKWRaxzrkkGVNHrK4eluracQRUbCR7X7IfS9rlkg7InFEzBEpznYMT7OsdubhiNCN9OIs6fl2SLVx9TlkOWc3QaQ8trLKO4FMll47Isai1jrvPev27l1kpZC2c/UINZFS3u2tj3XhjKRzNTt19nt17ATiIW3XKnRRXKdRUiFGS+ekOKtDPkDqk4BVzzw6eKcxMvZReD9i+fA47QT27+r1Lzu8O2HYKm9OnVz3shaFdPWTyS+PMxHm0BESTVzPQYjda4uAAPggksvT79W2mbXp9i4e0nbdU6kWj0WuOGIKGMH1CggDDxmY/ajYbRmeKWSJWu1GId0byRPGzoMwVx9YIAywBkTMkEjKqyyrudgx3Aikl4h1G+GxDg00EA+qyMBDIzmefr/wkHaTZX2CVms1aPEg1x0xRhwqiyDEyYQl0eHkYrVNs+oziXwE0inUh+igxUWuPzw7OAiQvJifHptZJ6XhTiHdBwrcRh5TxzC4LRxvJCggI5QkjaLj90P2FrJSyEijF4mdoMViFI481PSOUPf9aAufnYIGWkvMWlWGIxN40NJXMg9xPPLAuigD0+0J349O0qxhGM+0WJZjh2dTHuZFMkNJ9wIZmNSGfR0tD62IxQL0u2ZWOpPrpPczzPq6h+ehkfSiUrq5UrTSVWXpzkQUJKLh6wHBxITsiVVgKWx9kHR6EmH2A4eOQLycaISeFSAvtipEOoP1OqMIHLlQ/YBxTjesEHl7iXmJ0PBQjhtBnv9CIiztVmHLiERoeCjPCC0Pe0ReyaIQIxJ5iEec57+VCFtFLQMSCR6ZDS/PfzURc7VI8EiWww3wsJX9DiOdgJDXIiQrVajOBA9zI0SYfSLEHS2KlarRBRe5mSFe1onUpE1fRtC/0tgnynJTI7ZPhPRMENZAQq3NbZ6bG/Zs5GXA1hUMRAhBdS5OQZahEFkcCIWTYRaDFusU+yc+0cyEGe2JxAwovnj9rjwObAWt4Wzge2QxZ3IidDErA9GgDgKggHUaCr3AeNA6ng0U8fUL+rQxCzAzJrqoApEn8Cw0GbQuzoUJ79bYyWKWeAIHwLdu0zbARoGuRG42Z65mglHGLKlAMiNllmyJS4tM6SajnkQkL3vxZ/mEMUs80ofwCDxZ5n06wo41s4WILGbxZ/apQ4pVINn5VZcIqON9OiWMrOUr6A9YoQUC7olJemGcNlzdLpeUqJ/FH+FxvwwUVHlPRPHPB7c6z4gwIhPJHuHByXq195PIjfA4J5LSmEj4SPshoMsiOFW5rrRjerJoGMnpE++ZXYXQ0p5jSBVFIYs1pahEgkcaph7pgVCaz6C6t5+d1SI/aFcPH9lSCEjD5F1vNCOJfEDWKl/LVV+qoTked8uA0wpOmAlY5xOU4g/CZ4/s8HDqvE6gP4bOkYL4aOvoNEs8ssETUy8Djk4RtL5Jx44xC5lmMZJch3nDZp50cICF6BY+AvmKemduvGPMQqZZHO8gDHzLQwxYjtodc6TS9U6/HCYpwaZZMTbFUvlaYCBfBsJAmmAmxbpYP1gg19MJqwnVvuIvX876mXaGEp3u+eJDUo3NewVqqaqezpZ/fP3MjqPMUPe83iFmtUggqKWqfAyUy3SJKX1CxEdhZKe/Utz5RY5ZqurHcrlsPWKay5gX1T+wt5dfgitEOMIJNY5JxwSLWd0GhDkLOf7FpoCE5P6x/uuNNAc8BBD9g7T7F2c4IIhVleUGgGDa/Ri1CzIgL0NAAiNRN5ABQfVjHgGSWwISG/kIQpbTPAUk/PVAOEbf3Ew/EwEkpwPSPQMk+FtAfr9CciNAQuchmkA8XEryh0zdVpYl6HNeSNprZhfyF9UhutFcGALCTQABBEL9Sj37N1onyMuVQ6oTWVStE/3v6NtqnUjWKrITJ0z0sgIEEP3mIqLbqzazngkg0m4vJu8NMSeztG+npd4PCfV6J5p/PpOGbBOeTvHNH/A0wYF8qblzaAAIYAvXo7cQUKbAkUF4OZiF3FPP9KYGmSJy8lNAd4kffxmLWfSnTjy9qdFTeAYAysgjFqz818uzYsS5rERVqncLS+/uUg+wnHXzrAwpOvaPnFy8kapm9PAgiDPkelaZzxjrQQoC8fFne4McF3sVCIcgajGxpYM/RkggkFQBCFNe0AHxzGSgYzda39riOV5yHJ1i9Ulvh8x67/8MDYncHUXxYM2wjDTFUlhWqpnK8ZVJvkElSBerAC7VmHQdeErLmOgczcns1BQ3B8Q5YdACvxjPCdfBnSxVXkzppNnJV4WZys0Bvlbo9MhC+f61hMqmD2JlB1RkAVOj9D11prc545F9nlChEFNTZpCTxT84kZOJUbrJIdKsUVW+w3//aWKVLDOg4hESRr/1y54t1FQFSKqbgMOJKF4DE+c0RAK10k36KYSef6jeBuTr16geCY9AMe0HPnNNkhlp5ImArtD531Z3NBYib+OACgNZ54GrHiwAXdAkizBaZb/kDq6LS/6SjshCAJMpnxvpsgrUK2PAveWyP1zzrpbbp41e3AP5fkzCD7oKAXY6JZeIy79pyHXO3kgWgjzca2/RXyG5viU1UrsEk2E3A+7udQc8YC3T7HgH10gAX/9FXWbkHZ4if3ebekJ81zggtQjPrxEGPUz4YmYgHe8LJKDnrWPvtuVx8LnaPBRBfCdXv+0IIxa403m42pnDbpi+DB2gpD/MdhPLjouX/AiLYoSrO9KIpdDpDIdb0McRx+CL8QW6490vUG981+EOD/1mkykeleLTEQBPdGFmHnQjmxlzjw+x+QCRSPVxFZBnHvFHZoYJY+8qrPMAV4WwB+fFpmYmIOt4I3crDPOg6WOplAWaK5UZOH4jH7YMhM08aPpYxsOH1FqzX20gk58TW7rB8MEfUWZgiYe/8CAXiBki3iPKtMUjrbv50as1WZVuMqB7j8RKwSzZx/r53WYeqO49wIOciCUeST3yaA0KBNYoJOdBTMQOD78an2/fmhUIrY+oXGtKRySwwcOP6olHa1QghETUniPGgl/k5x8ca4UYSLGIV6vyY6Nj26rUtfKk6XEMY6TRGqpBqGs1jcBBYF/GG7wsiaq2nXi0k0Jawr67kbkJtQplLv5p+2B+GlW9OOqFyOQh1F0s6pAudBdqHFozrSt7OB9JGjVVXbfD70ohn4hV07Z5qUUSIvpICJHg5MH8JIqKn7J8/zY/TTP+G0dV9zDG0S4KeZv6+GvS0RU3y+njhuZCEBj38NOvoocw/HwIDD/vMbCYcIxAthGrNe/oSuc6aCdGGwkmWvlRD6NnscYx0XgDmZG0G4lMaZaVgKWJJKDJchSRYHAkgzbKD5EJSTVLpJ6IHEPWrBA7AUsjcFE+b90TNhYBSz80RiKzQpolYG15HDzdToZ1mBzQoZuAuCTjoJUgYsQiSIp+lAuTyUSqDZKNibQHFwEHrIgyJ5cwCQPPRAXAJU+KQdF4+V9vGsWWxlshE496p5BNljX8wA82+NSz42Xi4sSUwfKYeeenv0KBfdc+Wo1AjgL5uHpTHZlsYtYI5cdUkxdIhcdxNj1RKohjbuUoAeNeHK/e1eNoPQ7yKAAK+bj6YuqLREaF2DeQvzlG9yg+GlkLpJwVcuIh7U4hHfxurMjN+X24KgqYQrYesq/UnzH0vzeiYgXkykOa6ugh2xyrNd7j/b/x2Lh6c16pbwWylkj3XIL1V/WxFchNM6uqzqoQx4Oax4dIIaFx6C2+kTyc8P45P3+HrAXH1tYv272zQr4dD8J8d0aypFnnCtnWIe1ShzgeJMPf8SjOs6wdkmOlXv84/yAZX8WeyK4OKXc8Tj1EYQfE8QAbyEmataoMt72szf5U7XgYClhndUg57Yacp1lqPFx9rhiwrgr1my2qHkfleJjJsE7rkPIUxurMSe3KD7JxguNQqc+9k2bTgF+GS6/MOfpGIW95zET27d6Pq7twZVIgux31TZ3eNGcO4sKVNQfZHMyqFolsjgG5cGU0xdpXhvte1n7HEByuUheuNGqQg0QOjZNmU4dUUHlETh6gERWXRMpbhbx5gKOVcw+EpZerkHVsZa08pHHRykrEuullrT2k+XG5rpUiZOJxVqmvPMSZh70cqzicy9orpHE47FaFu/2QnYdAcXw576CxkEOWtVFIA86sHA4aCzl6yKIQuDhcrCKrQq6bWaWj8VxZOAtk+nXaeCxkHSt1MAznG6jBbnjMWVYBy2+jxHcwjKVZA43hP7kmoihNHApCjfjJcQyXZripeWD8B6SgAXPEt0svAAAAAElFTkSuQmCC",Lz="/assets/ligamax-DgTpYWb1.png",Mz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAB4BAMAAAApuvLdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACRQTFRFR3BMAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngKvPEeAAAAAt0Uk5TAIJCvOknEM9gcJ/H0hQxAAAE20lEQVRo3u2Zv2/TQBTHnZSkDVkSwk9lSS0KqFkaBRBVlooKhPBiEENRl1SqVCEWJCSE8BKJXxIspVKnLGXpkoU2Dmm5f47Y59j3zu98juM0y3231kk+vnfvx917mqakpKSkpKSkpKR0scr9ajZq84IvWYQQ+/p84FmDOLLnsvp8i1CdzYO+R8bqzGHplk8fzHPpxG5fOL0X0ElpVhG9XD7AHZ6Bz8r0O05Q9bGQ2mXp/2YCz9CI7iP7WmXppD1Lt34SfmQA+v4M6K98pzb5RwUAJxtRBiyXzSRLD9YXWvwlSI9yuyIhSXLxIhPR/Nv/hPQT5tFymeqKORWddayn3LMWpNvY1+xHU9BBRPe5NEA4mehLP0tOXwA/D9PZZZ6+j5vsYWJ6PcKvdnn6Gk7vJ6bDrR2CZ12evgHoDu3lD4OaLBGd31pgeoOnD0L0UZqm3pqIzm/tqcgh+ac+3QnLk4R0Lp8A04ecjg34gL7gfisRvU7Epn8bovcxes6tP4no1YitDTkda5mA7rhHLRndilheyOkIQektQM/qywcrMUtMGNAROx2b7Bh61dkvj7583/3cZscrBjf9snBTkme5XB84Xf/Oa88ONRl9vJP08lH1TVnls7hblYnYs7bZBLs3IZ2Gh4S+QMSm93/oLDBSSbbvgRfX5PRLCP0JnwU7QUZG6RZDrzQOdP3eVW8HJfQiQvfOGIvwKNsV0vNIvHepxST0OkInj93f7EE3rAvpGffYAekF6j9J6OR49OQu5wfbXIkN6LtYnjfcg5CE3kXpZF2/wcdAUUR3DuSDEL3qZiYJvUqkOo2m57/Qf3P0bkr0d0L6b+dM2/L8lKPXU6J3hHRgninom5YQbmtSuptVGbo+0gSW/9fOGiL6Cci7KP2YPVFnK0w9jEXfYC5zonqPxLsXE4fsbWLJIJPSR1VkSeJ0GP3AMfEKuMfle2Riei18aQrVHHGuY+m0ajWbTSs+3dTEpm/zVoqkj863w6+xfb7u0zM4vB+2UhTdGL/gBPSa4BTHdihbceg5v7kTi74d/CZecP5CuhZNz/gxEoteDHxpAaWvgcOvLaf/gXRbfrJaQy/r8IQrvk1E0kkU/TJzNe1FubzGd+zi0s0IeoHJZ7sIPLi8uH+eS+gFvyBTet3PECg9yzg2FnPnkH6qSX1+6F9sqVPTM2rWwuhgOw1xlvc+uKHJ4/2Bc+T4TuNjkY5U8qsGQektxpXr4izvvdqRJs91pHGvbHnR6VaP900D6UiFUhgScyXQKrdNLVaeD26cLWE/jOkHljRBzJkgL51pMrrf831P6ePhgo3ve5Hdz57oYOMZsSOlj/vdHwuUnqe2HX5Dfd4z1UDQIWMiTFttXmO/+FLXQcM86/39ZnSF3jzU8rpO7Tk66tjrJh5xXsCfoy3pcOc0uXB6DiQVK6p/NgO6B2zzV/a0p1A9nN5li0lGUNynVwun0+UeoX3To/ToBj5TWgQpdA+UmPQMn4OjBRDHfl0MZr6OPqQ49oI9WG4sc4q0kU5SnDxti0ZKVVg6b/t5uZYe3Bk3lsQDMaY/+pnCn6cErzTK5Yo4egv8pG2r0mw2DtMLdNGoMYiyWUwZwW3TFo0Kd9J1MHykdyz8wNYtc3b0F07b+NM3TUlJSUlJSUlJSUlJSWkK/Qcev3qFGKNRGAAAAABJRU5ErkJggg==",Vz="/assets/youtube-CD7XciPM.png",$z="/assets/deezer-TJoTtW9z.png",Bz="/assets/tidal-COk9MJGt.png",Uz="/assets/vpn-CDKQc9_0.png",zz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIABAMAAAAGVsnJAAAGqmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDEgNzkuYThkNDc1MywgMjAyMy8wMy8yMy0wODo1NjozNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NzdlMDM2NWMtMzUyYi1kOTQyLWI4ODItOGEzNmJiZGFjYWViIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjc2MkZGQjQ4Q0M5MTExRUQ4QkI0QTYxNjlCODA0QUI2IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhlODdmOWFhLTU4NDktNTc0Yi1hMjkxLWNhNzk3OWQ1YWMzZiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIzLTAzLTI3VDA1OjQzOjI4KzAyOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMy0wNy0yOFQxMTowMToyMiswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMy0wNy0yOFQxMTowMToyMiswMjowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3NzVlODFjNi02YjkyLWY1NDYtOTgyYS1lOTI1YWJhYTIwYmIiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpjN2YxMzFkMS0xM2EyLWI0NDItYmE1ZS05MGI3ZTA3MGRlZWIiLz4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MWRiNzcwZGEtNmJlMC02YzQ2LWEyZTItZDBlZjVhYWQxZmI3IiBzdEV2dDp3aGVuPSIyMDIzLTA2LTE2VDE1OjU1OjUyKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjQuNSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjhlODdmOWFhLTU4NDktNTc0Yi1hMjkxLWNhNzk3OWQ1YWMzZiIgc3RFdnQ6d2hlbj0iMjAyMy0wNy0yOFQxMTowMToyMiswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI0LjYgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pk0jO8IAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAeUExURf9aCv///zAdGf/x6rpFD/9+QP+ofv/RunMwFN5QDMJRIhAAAAe3SURBVHja7d29T+NIGMdxE3DidIwQpF1FFNARrdhtkau9zhEC2lgIaIlOu7RRdAXXIXTF3n97y1tiT+Z5TMiML9l8P92RbMC/PJ5nPH65KAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACw3JpD8zVb5+3vGWN21jiBoXmy+8F/vdV9dvDX6haAeZEtFEC3u7+qAfRfAzhaMIDu3yu9Bxizt2gA3YeV3P74dfvNzsIBjFZ6CDBm4QD2VzyAbNEAVnMfaHkM4GTdK2C05mNA99Oad4Hu4ZrPA1Y0AG8zwRXvgx89HFz9Cojy5wCOo3WtgNcSyKK1rYDnYfCjywG/QwU8l0AWrXEF/CqBDxfAb1EBv44HBtFaV0B0Ha13BSzi96iAiAqgAqiAhTbd6aT47iRAUPF1prx29u7X4pu7K/HNZ9c3dz+ur7IPBDAqvrvhf+Hk4tcE7rvy2hdp4tcrvxb3xGOh+OJpmvz0urkbLBbAo/els5fVzFvl+MadzvP2Fqd+Q/GDznum4Es2ZwClMXHsffF0qCxk5coh/str07nf67JwZ/adN6ask80XwL4UwIO/AnB/c01lkedtDXDXCmR2NnxpbDuDuQI4KL5b+vnCK1mupbxNI36rk+AmpdMT0jo1s0o1VRlAN2i3HCqLubmy0t23TgNMlsX33FVUtjdXAA/uLuhnvqSdz5iMXQM5uLd9Z3JmqOMYKmcdzxPAiTsAL01gspzv2khj5AFiEsBReXexSunUvf3FnaA6gFHALthUAoi1ACbf7PbLf284A2gayd4cARQmPKnvJhA4gFwMYPr7qgPYd3fBaPkDiOXtn5ZAdQAHAbtg2AD6SgCTUXeeANrem0DYAHpaAMfvDmC6t/s/hxw0gJa2/ZN++Y4AToJ1wbAB5GoAb7/xHQGMXAfDJ0sfQKxv/9thxDsC+OSaBkRLH0CrIoCOuiTmHO9S300gaAD9igBMph7ljB0TgbH39bCQAQxLW/v1+vr6ptwWbtVVYde37X89LGAApSGgM5iusdmDgFABjv09wKVkAQMoDgF7mevooKNWQDI74if+LyYMGMCGewHkwj0IzFaAo+cn3ptAyABy985e/PlAq4D2bAAN700gZABDd78r7gRH6lrXbB9M/Z8UCRiAkf750DUKOs4Nzva8sf/zh+ECmH7yjrDWWloadFTA40zBj/1fTxwugJYRlkkLn9tRK6BhD3ntAFeUhwtg07Wn2/uAWgGJfUAc4p6CcAH05U/uO/qgowJmbiEI0AVrCUA84VL8pa4zHnYfbAS4hCBcALkRzys1HR/sukJkbM38HwNcRBIugKERT7pVBbAfudt+GuCeihoC2FXOuBypFWBP/AJ0wYAB2G9wBrCtVkBiBRDixrJwARglgJ4ewKHjZw/laUC0QgEcKScWd9UKsCY+if9DoSUN4NCxAjYqBbC/HhVgDfuNEDfWLXcFlBt/GuLWSm0jY20baqmA8tRvHOLm2qUM4NDxw4NSAFEtATTn6WRBKqDU+NohmoDarltGmczVUgHFqc9JoCcM9OSN3DTydL6eCij1wSTM9fTKMUvfyAd0NVVAoQ2MGmHur8/lu75zo1xDV08FFDb68DHMExZyeSN7Rhkh66mA4uQvDfOMjQ3xDy2exNr+nyqg2AfHQZqAMtJtSqfya6yAqPrqaX9zYfuq+KHzqr56K6B0XWCYm6piI/ylTSOdya4zgLTiylGfEwGrD+Ty1RyhAyiUeKPyHhqPbaB0w09LucA9dACFUT5RLxv81u3eL9wR+s49vTlzjeP3sAG03Tv5lnYDReplRCx91Vfi9tsJBA1gOtNpK00g8TMklq/m+/IUwdmN+7K2qyxcAFbDO7i/H0ltYN/qEN6OBt62QLmwbefzGxM2gMlYn4pNYMvXmFh5OZ/OVwBj93Y+ik3g0de0oLXUATTES6dTbxPD3lIEkLoDSMQm4G+BrL/MAbTFJuDv4LC1FAE0hLFOagJtj8sDw2UIIBECGFc1AQ8BnGrXtNcVwJawoanQBHxWQKwMg1leUwCREEBDaAI+A1BKYLdyhPAWQOoOIJEOhXyukMklkFXe+bNtrR917ABulQCKS21J5b5e7vpjn+eJWsqtbU09gFtr/WTP3shb5RC8WB1tYdlDuo009bpClit39Zy+596v2K7qXLktve8MJ3UHMBbWwxpeV8jioXKLd/6eG3+G1jZtKA8maDnD2XIHIOTi72BIXgEYaOnY68Wn1vY25fOKk3KxFpt/Ore0Ia2HjT3fOdCTn/ShJHBkDaTH9kg3UPY4e3hIXQEk0uMkEs8rhNZWdop/eXxZ/SCEU+sJMS3lMcNN4WzDT0cAW+IDRVLfZ4ovCivEP6zXzodaD3h2Y6V2qTxl92LmYTKvreDbvR1AWz4p8m3s+/9Jcn73tNTz+e7K8Xef3/w58/2XH50Vn9mf9iOTf5P4WvvfZ5Na/+ePgpMIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQD3+A1yfxGsWuS8QAAAAAElFTkSuQmCC",Hz="/assets/applemusic-BTQwzzk6.png",Wz="/assets/appletv-D4Izq-B3.png",Gz="/assets/iptv-BYoyNj_r.png",qz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAMAAAD6TlWYAAAAS1BMVEVHcEz9RwD9RwD9RwD9RwD9RwD9RwD9RwD9RwD9RwD9RwD9RwD9RwD9RwD////8RAD9WRr+5dv+9/T9oX3+zrv+tpr9eET9iV39aTB3F7z7AAAADXRSTlMAz7c4TwcT+OMhiGujN/8xXwAADdlJREFUeNrsnYmCmyAQhuMJHiwar7z/k1ZRIyogXhXN/O222yZr5HNghmHE1wsEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCgUAgEAgEAoFAIBAIBAKBQCAQCAQCPUGeE2OEsO36wGKL/BATJmS73s8Zj+cz7Wi4H5Ov0A9ZoR+4URjblmXh+suOw8gJtmD0QsLrNxAGThRb9bDFNLQd25GzmqGDCPkphJ4ThXZjcJHruo7juG5UW2KNs2t9FKw7XkxmejBCr7a9yG36amdpXvdH3aFDu4WIwzUIfYuQH0LoBwp34QVRzPwpjvRbH2BCfgrhUv9mIQmyHe0hUAKw1i0Ren6wzZkOJsUQ4sjbZ4HdgHozhH7jXDG2QmcPQ9duGh/qHcK3iULIuhNCz7X6kALFwZ7rECN9giFRErwRQi/8RmT1N5a7a3LWHEWPoGIQvBdCZjac8C6CTXSHIq3rFhPyBITerCtZzo7DBZb2NXAReQLCaN6MeJcnaY5n6Yyk4lD6bu4kELQCO3s7MQn3u5F7IPSFA1G055DMOWhdgyU3cgOEnAMe9eFdx9Q2Qc8m5OYII/E4bu+akrBREAe672xEx7oNQgm/fRbYOQcdE/wOwNlIVVnU+jCOlH1fJNREhDJ+ei5gwTnYvu47Cf2kf7zy8l3/WbWGmDf/U5hohZ6U3z4n0uWakaP7zhrgewSwSBqgGQPIXkrLb6+2HWP4hVJ+eOdJtj1T5yq0boSWaS0G8d18lzGza62u4Axwf5h/4gTuOB9Sy9Y+StR+YlIra/hVzXcJw5azFxpbfH94t2Ib0YsDRQSB3L1HZ0ObpdPQIStIG4BpQkffs29GBnjE6R0gVzWLCncvcrtEdxDklpYKBq2FWXV2lzR9Of3Q42aax3TfUDUFiPd3kdaLaFlK9P3cvO+2vVepKK2av7PpEO1f3n0VaRAUHnB6bcfU8uV9LE3ZaNd31t4NiwxQL0Y/0fuquu9BRSr6ofQAkBldRjlzLGgpMsCLAfry6AXtXBKZAozXdGHKB8+kc8PF4Ff4QMY3sPuy6gz/9ToGoKcdx3zT0q3f6APm1g2XKW+UR82TzvC+TV3Gka5NH+A3jGmR9cMd8x7vXGiA6LpI2ovwiQPfDKClcdRQFMXwkzuBAXpmDX9nTNAZQKQBkMvqc1FM75OFBhhfNgIGwuQzPiO/oW2Bw7rSKIrpkzCcV+lPN7yMn2OJFr3iU0ICXQscVjbbjBbXXwuRAeLwuvFP6D6sk0qT25657ESGRZFJFNNNgscGeCU+zxW4j/O6gy7AwYXQT5OKHuYctMxrFZwBXolPmDtFJ6Ym2+Ak1uPMr4pw/5xe7CvTgKLcKT4zOd52zcWAV6M0oTvZeCc+33E3KZCGLyh0T1Rr8PHCmS0Xx3zxeT0HZ8Nl992hMH6VugILce4Znanlz4heuuvqHD7XRtiKV5aveq6ta+izj3ZbfsQ8sUsbrsbXRf5rYgdF8mRR0VLu/jqFL63aIgG+lTnLPebDMt9m8mP5gEUXMuCbdUM7OJ8f6yVm8mszevEm6+tjMD0bjLb3X7YiYSg/FmKre7DC+rperB9ObRxlPHP5ofilvs1hCZ/m4r+3swP7hvJrfYgcIFrGp7e4ucMAmwjGyPhlqP6S3uqlhU/LBKNdl9hgfmwMFFdX6uLTWhrZ3gNrH+UZzK+NEKJd+OpGLgLEOzqwtyMA/w9ehIUI1h58dSsXAaLtHdhsfl2ma5yjXImv/oHTANYdJDKbX+cBOIKr8Z0IsO4fLiaGiwUhntPnB2LXW507OQ1g7DnG8+tvp/OcMLbjyPE2pJ7OAoiDwCLkLgR3ZO7OAhgFNiG3IOhP8MXrGnwOQGQFMbmHkM3Vgq3GdxpA1/AAZpwzcJvNQDw/iDak3c8BGEf34ccYWnZs95v3GAAQR5j8ik4BaFsEAO4AiCX8xPc/SiW9Y1LzdeEJrPyJ/wKQToWQ6IZRmnwSsub0y6yoErrw+ip+n6woKsk5UKnOBVgfP/mUEiU8vixN07zUbmxSsPv7qo2vi1SxG7Zy0UWpW1FWNd6i+Rr+aO55XbjqewGWWZ6+ZRqaV7e3rbSrdG2w6GpDS7rt9TmjsqvXLQRXoyrS8a2aX71TdT/YA5CSKpd8bK/+7gpW/S4ullW3VtDctjeqX1cgH4rwdZvxziu5Fe4ASD/FAj7uDse8/x89E+wqG/mK70l3/Ft3RYZ652nFeDcYqJtRSD9lO0Bapn/Lak9WevY6AOmG1/UB0k+u0Yy//EOPBqjF768wHKAmPznBrQD17M94C6SJJr+aoPiDNgLU/eBuwDbXAos/bRWHWmCmxy8jRgMcnL2+MRwCcLJDiDQOzJZc4NUWOOpHTaQ/+RpFh/lxFkgzPkrKFmcihgLkDbAO9pKEdL/7v5OEDxGFJrgJIHcyzWSqmS5SMvvippGmAixGgw1t0w1D2oH9K3srR8FtAIcr99YKjA0FyNlBJp9rDL1NFNRvA5jN5mp3BMhtVZTLj8IFHG9BLLgNYKE65H0AfueDygmm+m3bnEihdEz3A6i0A85QDwOYPwOg3kHUJ38EwPqozegq+KJPAEhOB1gWeV6HnXn7m/u7+PxfgH0MdTMLrOTToT4l/Z8AVvWVlKWPjbVA9XSy20HkfwDsE6OS3Ke5FliYks7K1IsAxo6BuUYO6D8AHD4iFcYk5lqgIQDJN1oTp52UAN9XjoHqzGD1v7owNxZXugArdapvPvM/I5Cebh4szINz80m90Huxbfl0gs/NF4TXSICB+y/VZeVMpDyjC6tWR4aVmHzd7Jlvmzqhm88tLFdjGDZnG46SfqjGEHhYMmEcBzbr+mJxMVnGjYo6BBN127K/ue3kqhQbB+uLgV/YkS789jUVsitzyFxYXIDDF+bw0WJ9rhoIc8VyGB1id66HZ39y5jyrYW8xfvzOP8L6IvIp/v5UHf3/JBNGOewmeS6ePfNb3mR/MuK0rRKa+hj+GrE0+QhDLsIwGr/Toio/n085+l0VqaDM4gKAY2f9TnOhskTSNr6MLSn5UoxMaLSThZoRhpF5FgtrY8vrmv8LIJ8+11u8HoVHad6Pq/moEGiggRCdTMo1MKhDCPG09CqAqpyDqHVUi/hggE1ZbL4aA620F4bfGbnUAvWKAPhhRqNtg8XiGGnZ08xDa5cmFORqgFrVINWasguuA4e2nj3NMCSaBGVxzs41kWIFQJ16Gt5A6FLbuOrU/saUBYLzOj+qUx6oKhDcuayZ0VUEF891NEItvH/0fJT+xoAqVQ5jAgxU/TPfsIgcCVC+u62aICkXaoKLyfuzVF53O7DGzrCD2Ef+CTIM9JMpEaaFYvq5sTamzNunDq2+6yKp8vS9oofJyohTbpqIXe7WZJpIKp7TTHq1aXtagh971yFr9SEnFJk3898qWc2vmRUk7H4CgbJSdKblvID+zYfcBEWjvUHqUa0sJrcOpE2pvXIOzu7WqKpy+qu5t+WU2xy6SpxNkt68QiVNK7OCm68UjUlwbw29yQ5szYvjm1cWMfRz97W32Zy56cTygLiCuCRHwRywL9xAbCWHzboO4EGyA92niwJAkSznde3mFjcHiN2rd4e7NUDUbN508c3x9wYYvV5X705zZ4Ao9K7fHu7GABt+12/PdV+AqHmozPXbS90XYMPPgP1ZlwEauoMJ28I5JDcAaOYWJmwTcRP211vewdLETbBQu0G6Cdd2eQ9VE3dxstY8COT0UHTpwTrm9eH2+dxGXFmdR5SGZvIzY4NRnc30TTPBlp8ZZ6X3jFwXmcfPjB36kdbTn4WPM7uYn2fEuIJ0n1Bq0IbaLT8zHAjSf8Kr8oHeF/AzwoFY0ZonWgYhNoefY8DlxOHaB6oGUWzhTlwHQvhMIRE/L8YXy4qjTc+j9fyglcVPCk7UeOzt+L284GL5e59nyS3EIvt1mvxIyO8B4p+jE5/3KeNNse3gMfw8HmB41qeMPQV6EL+6beh0gF6EZ/n7ZwKMTvmEycM8UfgofucDdMYzXRx5r8cCDE/vvt0DdgHgRu/7pPDlfwCcTruf5X7PjwOnj4J+mvuYx4H2oeP7NOvzOPcxm8oR7B9pfpOUj+W+HimPB3jYED9POsbB66HiV2SPCgSDadobP3H46xTyk6yDYr+p+T21+zLxz5S1DrCT79MZuesSPJjfKBBE7gG9d7pe8FDvK3TDuyNBf/4MMNt5PVy8F9nnh+eD3zODZ8UguGc2J3oSqOV6j+c3msxtN0ERPhQGrx/QuDbP9o/C9xvmxxo/anu4vtW+CB/+gdFP5Id1q5S4ISCy5vjQ852vzI3UcduqsDm0hLUm/g/xmxY46ke+vhvjQ2pNbm+CaMPcy6+NT1SZNnrO9K+MgvbaLiijR9Cv+N7JhBjPzEiO0Avchh4iMPhJOzEzpdANpsbk+Y4b2tLnb//e4Dd0SVGhMsJ2GLlOWwfmOG4UKh9e/sP4XvJSeYSassumHBOhg8s8nxbL7LrZwPp1fLsIIisCfK/5QrgmPRS7PsBrfWyE1xtf6HhAbogH7VVGiMH45rktSxchtqMAjE8wEkYaVohwDPQUOZZQZYZNeO0CvX/t1zkKACEQRUEGxIXx/ud1iUUEE4OqIzxo6L8/5LgebCl/4h1HLOGvY7ql+av0dLXPuijeTVMJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHhBA/3h/at4vy2WAAAAAElFTkSuQmCC",Kz="/assets/vikirakuten-sSeunsUQ.png",Yz="/assets/pornhub-Li3i9oj4.png",Xz="/assets/paramount-NmnOpE1J.png",Qz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAA0lBMVEX////hAyb49/bP0M8CrO/cPAAWFhb//v8GBgb8/P0steoZsOrl5uUqKio+Pj7v7+7t+PxRUVH87+2+vr624fCxsbFDuune8fja2trdQQfun4LM6vUMrOlzyu1awuqH0u744NxhYWHvsqzjZjeg2e7fUBv20sqio6PnelLfGjkQhsd4eHiRkJGYmJiBgYH0xbjqipckmdNvb2/iUGPqi2c6qt9ts0Nqw72IiIiXxtLhaXrdNE2PvULmblvonqdeqM+1zzhJsKI3o06NwW+xzY3W4a1SGp3pAAAObUlEQVR42uxbCVfbuhLOlUHSFNnGcZw4LCUOEBdiBwiFl0APdP3/f+nNjOxsXU57ejnPeeijByJbTjPfrBoprZaDg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4PD30Mhfn1hmySx2Ljw68cAYIMAvLKV8kO7grCfXyzGYimQEmEYrsgHIi9Ks0aIKYtEqC2Uf/Bwa3HdVqT+p2p4+xSb5awiCKJULa3G+Fp6a28USx2F20jA8OIfi2uyaQWjxdgzC68wgdY6B/VzAgAJCLaSgKtK4McBu72C25qApQuA5yMBk4WFK/ihBQRbbQEPVr9KDVctYqFe6evoVwTAthNwMarivho8bhKgRKGDqfaNtRFCTcAiYVgLgEX6+K1U0iQCHtr1hxVPmwRAmOmo0DJmgQBCI2oCaEBiVwQIvGUfAxB0Q4SwJQQMl+KOHjctAMWdJlIXeEVBOvb9LGYCcDAJ/GCcIgVEgEe3PJ5lysD3p56JRdPLIEvA7QCWOf9hnQDVQuFKjIMZygkmwnioA4kEKPAoO2iNGZJjgL2VokGYKd8IPCO2wwJsDhwMWHtXF+sEQK51nAbs4zDRWmaR1ESAyLTOSiQhC4kALSO6MQ4BZngtp7tNr40qC3gcAQn69NCmv+J2gwAMgGkYad8DSNH2S2MyIgDQLaJUkDvETMDYmDGZAKXNIBXIGT6yFRbAORAGt5wLsBpcJ0AEOjIw1jIBkjkwQOJKT6CdF7gEQDYKgVdqgmIopZ7hjSk+shUWcHFFcgNWANdK1ZmwJkCRPtGsS4qCZNtTAbYOwHCAnGCdTD4QMzNKYBwowymTRY+UoLbAAm55GUDB75GjgLheIwC1Xgqy9Cwkpc+gKoSsifP9yNhCSCmcMEmRmWkxK5CMmYAtsIAnklrRKuDiiaMhvVwSgH49LcsJqTgkc68JQMvw6wxYE0CTx6lNDprrZ2i+BeAygF5x9rulMAjthyUBEEa1NL73+wQEESNveBpgC7gWHAK5/rm4svngYkkAxjUtEchAQgQsXcBfuECw7gIBxgDDaHwaRAu4qHLgP4uaWEH7cUkAiZYaznCzkBQM1VoAF8l+jARgrFsEQUoJOWZJDoLQ/C4REXArOAQ+PTw8PFarIqWuLyoCuAxCmUElWPKFJf0CSgyS/EHmKCMxw2kwxfSAyo8FVksTlH0LVkNIwOPQrnFEW7SHVfBTmAkrAoByWk7LvBRFNLbqIQmxECpQ9cbKzJVBLiAncyGnYOcAsQUE3LZVvX4ly//nsY2EYBisCTA22XFbSMYUEYO88LkUJl+fxej1WCdRJeiXpc+Zz86K4zLfAhd4WpYqCq6rTKhgZK8r5VWdDjIFnavY53wQEQEqpwUAyoqRIJEy86uV0WKVtNJEaSpgMFArOWH0eHHxwDGhPbAEQOLLKRcHIvf9CY4px8WlpMJX0EBGnAp8P0H9y8zjnOpNffSJYNZ4AtR6nEY+BnZlrOo6KEzTkAtkemWUEmkcG4GvBTqNMHHiGa4ecZrwcFC1FsPU8zyzfU2yHwbu9UvUFVj2hyuqbBxZ8qkoBOLv1v8h1jlaG20MWg4ODg4ODg4ODk0t6V6x8EAVPbxaBpSI5x3C/mvVv/f583MXMYeX8p1m+xd8+fz5ExHwtqd+9sHVynj1LKFi31k7B7KYujFHbbxNc+Q390jAXffu7q6zsdYXnseNTEi9kNf6+LcVejVo68PEeeKFvJ1KTQ8vNYL3lOs5ppoTG6GUobfBcfW2DYkA8BUJQAYQx+s+QLs8CckmAhkDt0RlrMp6a4jOBNB5AC2jGDUsuPMng0mqqpNkhAJEzjf8HFRGbwdpoMcN6o1A+OUewQTcHa51N2jnhxqZSviaCFBIQKLiiE4++FE0CcOxlNF4GmgfBUMCgigK6HAMbxXY7bAEX+KccVQTQPJnpkk+4JH89/Ezyn8zX82FypO+jypHC7AEABNA54AjPgoApZQ5WfaYtkGQABRPxBFtCnk+bYwwSiQR/1AvkQgg+Rt1WAo9APFFnN0g7nqrxcFUF4WeogmsWgB7DRGgaFhSM5Q6/2MmgM9N+boktad8hFq1cu3HAqghSASYiPYNmmQA5sP9h/v7b9C7Q/lv5suPhpL4aeqjp69ZQE0ACh5r3wCPE9S6JQAHM1Q5ElDkeR7ak7Uyy7lZnOk801HaqOao+PoB5f9iFMzJBJ4XmRCg0GMBYz0BtWEBYAloodiiqiSkn1YEtBReDqsg6HF2mOLAnxlygYg2zhqVBM0Hwlc00cM7YmARBZTxZZKmiUQto2w/toDqPCymC39pAbm1gGw8HhueLdI8oj1jsBbQKA+Ab0yAoVD/jPJf1ibA+8B8DAA9WkQ6r9MgLCxApdKqU4kxyswEYEAQFBCqILiog0Qi0ZcwBoR1DGgICeHHjx/RANiSz24uby4vz+o9oEBGGYKCupjQpwbkxE9haQFiSg5tpUtsEMSAOKN9Mg6CtvhLc3rU+NprURbgKMikNIKAbx8J37iS23++RDyLahdQ0hGHls1udDI0jgupJ2olBtCGMG37TiSdGcCJkyQpIz4mgASUCSHFKBLhHD5ezXWAZUCkjYiFwAR8DblshzlZwCV/F0SJTJZ83BsrvygUuU/+IG0FU1kAVQoRH5eRk9BWgvQ6SARXgpJR8P4pXl+rBCNj4kaUw5B+QXz1Oh38Zw5vFiYAoiiqvUxTlCF+6iLLxtX3gACSiVdtkSbjKJvZI9H5BDFLQj4+UEws8JbJp1FGD6iEymQ0nNkkFqYZ1aDIP336j8W8B+wDl5WWoY5TXM9gcAvF8hC5WGx7ijC07lwVftWyD2ooOiwfhvxA3XShy01JBWlNgLffUh0mwBZDKyclqrFSP1rfL1tJtAe8XD+D/VmfU1PaoPWwmH+q1I9qtmHwpveammNg0ATmHevcam5N4HW1B9O5Vx9dUb35M+KVEQArHqkECCHgNXfI1dZ+79nBwcHBwcHhf15EVD2wZn6+wcHBCF5QeID9/d5h5+zk7VkDxRcHp7uI/vvhv3xqXfEXLa3kx903e0c7RzvHjVP+1fvd/m6Nd/8iA6j1w87J8dtut7u3s8CfEaBe3vTPd1dxqn6uzdYfbt/vH79BpR/t7Oy92UHVrxFQN0KqmEBtov3e9z7Y67xoB6I9PK3EPrga9L8jQIyuFnFhdN4/VeJ9v381PPjdluV+t5KZCFi3ANg/O6HNRjg8OdvH/xKHh8fdznc2dHJ08pJB84Ac/93BiCRqbxIweEdX+lbc9vnpcKje9w+Gg/P+4M8JONogQPW6RyfUaDo+2qOzF4d7e53u3sl3b3G8c/KCK3B1sHR6tUnAVb//fjS4erd72sa7w90RWsT5O7KFK/X3BLTg+Ogtqn6/e4Q6Vqpz1O0dnvXY6Slw1iH0hO9WV78LD3+9Ol8hYNMCBv1zVjSKTjMOSO3t/sEfvf0vCTjbe9NT6hBvIRH/bedcdhuFoTCMokSW7Y2FLCzwhSgYlB0b3v/Z5hxDaGbadKaNMuri/xYJwjSqf87Nh4uIx2i2VrF0bnsQzxkRiwAUHky5XW+94CzWECIMH/mMgXxmActp3g5aTpOsu3aq63O71LWoy/ODcprnmr/P83R4KMA67xDeC1A5pa0UvY4shGm0NbHxLiVLkTN5KUxulIqJBJA2KdpnZU6khuybLIVL0fV8gMvuJRYgx2EPf6fl/JYmR3kdJdnFSKlzPFRnjqLj/BcLCLcsEO6yQJlb0r4JVnqlPMllSRXVJHVMhixEp0RJpDdWhSY1QdlMfiIdj4ocYg6kT/LWvcICxPm07LmgHQ7z0l7mmbxhngULcDkNkzx3h8MwzvI8tPXHAvCZK+wbRL/5d0+271Tj2M2zbswqQIjOkHd4kqI3NPdj79KR9jmKGSwTC0MmE7UlAY0xz93F+tgC5tPu7sUY7mIACUA54bD9AJ/886l7YAF6Rd02mJsA5P7O6igtCRF1L00qFuCl5E+rGwoRkrIAJQhPW552ppBJ1BisaZSPobFGvioLfC7AfLqsY8PIcevQLn93gT9jACVCbaPOZbq0uQmgPKcG7XNIfLW9P/Y2KMM/RjGDDN81kVTzKhnyHU2B4UVZ4M4F6vZa/SFAx0mxaHMroL9aCFWlBIg0U554r5STWwzw1SrAsTlwsiQBjpwuBA951VidyW8yWYykKHhUXrzGAuQ43rQtxvBIgGEqnL8uQFWRq5PrC06IOtF8NgtYBbAUB0Qpl7wKVvBRjaOBRNEyUUzxnAfJCLJ4UR3Q3axclhD3sQuIYZTfK4X5j706hsjTUCFkubvAKoBrjsnaxFmAnD37rPikU91ICaLXJJzM2Vul7assoB7bUvEdlhINfhfgMI6lBhCrTKIW37EAk6j+ZeNu+GxXLuldADrBlPyCbhJNmwY4kEa+Rq0oaFA8LBk00N5onowB7XWqPrQAWv3QEqlbxtMi3wlAdfLYXbqB0mC7XC7L+FCAUFL/B5VgMYH1OQTpM31TnLfOlD2SP2lvnx3VOVQT2b7vy6E0TvHA2ExrRBrvn3yOQV66PYG/WwtUdTdQrbMJdBlYgKFjs7mSIhOtlEaSpiaF2uHywAWoVtO8Hv5dgLv3MOw1f7VdiNyq+63albdG2v6Slf0u+2382Y7F1F2X7jLxO4Hq98thsd7Q+taYuGsJvN3Y8FmTjzsiuY+lpHsT4Bv/tvznnV/+5ZlXve1wXT5qiIjnezVcKKztwJi4KRai8e5nNUb3tgiX9d0rVt/rOxI2Hazx/se9NKY0xtprd35h/0neHEj8yJsMxDzh2j8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L/5BZv4f92316EvAAAAAElFTkSuQmCC",Jz="/assets/capcut-CQ2qY_pe.png",Zz="/assets/duolingo-1KOz2u7R.png",eH="/assets/buscapersonas-B3TAga0N.png",Ed=[{src:wz,title:"Brooklyn Nine-Nine",description:"Comedia policial hilarante"},{src:_z,title:"Stranger Things",description:"Misterio y nostalgia ochentera"},{src:Ez,title:"Breaking Bad",description:"Un descenso al mundo del crimen"},{src:Tz,title:"Naruto",description:"Aventuras ninja épicas"},{src:kz,title:"Alice in Borderland",description:"Juego de supervivencia intenso"}],tH=[{name:"Netflix",logo:Nz,route:"/netflix",color:"#E50914"},{name:"Spotify",logo:Az,route:"/spotify",color:"#1DB954"},{name:"Disney+",logo:Sz,route:"/disney",color:"#113CCF"},{name:"Max",logo:Cz,route:"/max",color:"#002BE7"},{name:"Prime Video",logo:jz,route:"/primevideo",color:"#00A8E1"},{name:"Vix",logo:Iz,route:"/vix",color:"#FF2E63"},{name:"Canva",logo:Pz,route:"/canva",color:"#00C4B4"},{name:"ChatGPT",logo:Rz,route:"/chatgpt",color:"#10A37F"},{name:"Crunchyroll",logo:Dz,route:"/crunchyroll",color:"#F47521"},{name:"Redes Sociales",logo:Oz,route:"/redessociales",color:"#3B5998"},{name:"Dgo",logo:Fz,route:"/dgo",color:"#00A1D6"},{name:"Liga Max",logo:Lz,route:"/ligamax",color:"#FFD700"},{name:"Movistar Play",logo:Mz,route:"/movistarplay",color:"#005566"},{name:"Youtube",logo:Vz,route:"/youtube",color:"#FF0000"},{name:"Deezer",logo:$z,route:"/deezer",color:"#FEAA2D"},{name:"Tidal",logo:Bz,route:"/tidal",color:"#000000"},{name:"Vpn",logo:Uz,route:"/vpn",color:"#4CAF50"},{name:"Win Tv",logo:zz,route:"/wintv",color:"#9C27B0"},{name:"Cine Planet",logo:Hz,route:"/applemusic",color:"#FA57C1"},{name:"Apple Tv",logo:Wz,route:"/appletv",color:"#000000"},{name:"Iptv",logo:Gz,route:"/iptv",color:"#607D8B"},{name:"Flujo Tv",logo:qz,route:"/flujotv",color:"#FF5722"},{name:"Viki Rakuten",logo:Kz,route:"/vikirakuten",color:"#D81B60"},{name:"Pornhub",logo:Yz,route:"/pornhub",color:"#FF9000"},{name:"Paramount",logo:Xz,route:"/paramount",color:"#0064D2"},{name:"Licencias",logo:Qz,route:"/licencias",color:"#795548"},{name:"Cap cut",logo:Jz,route:"/capcut",color:"#00C4B4"},{name:"Duolingo",logo:Zz,route:"/duolingo",color:"#58CC02"},{name:"Busca Personas",logo:eH,route:"/buscapersonas",color:"#3F51B5"}],rH=(t,e=5e3)=>{const[r,n]=E.useState(0),[s,a]=E.useState(0),[l,u]=E.useState(!1);E.useEffect(()=>{if(l)return;const g=setInterval(()=>{a(v=>v>=100?0:v+100/(e/100))},100),y=setInterval(()=>{n(v=>(v+1)%t.length),a(0)},e);return()=>{clearInterval(g),clearInterval(y)}},[l,t.length,e]);const d=E.useCallback(g=>{n(g),a(0)},[]),h=E.useCallback(()=>{n(g=>(g-1+t.length)%t.length),a(0)},[t.length]),p=E.useCallback(()=>{n(g=>(g+1)%t.length),a(0)},[t.length]);return{currentIndex:r,progress:s,isPaused:l,setIsPaused:u,goToSlide:d,prevSlide:h,nextSlide:p}},ZS=E.memo(({platform:t,theme:e})=>i.jsx($S,{tiltMaxAngleX:8,tiltMaxAngleY:8,scale:1.03,transitionSpeed:300,children:i.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:`${e==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-xl overflow-hidden shadow-md cursor-pointer hover:shadow-xl hover:border-blue-500/50 transition-all duration-300 relative`,children:i.jsxs(_s,{to:t.route,title:t.name,className:"block",children:[i.jsx("img",{src:t.logo,alt:t.name,className:`w-full h-24 sm:h-28 lg:h-32 object-contain p-4 ${e==="dark"?"bg-white/95":"bg-gray-50/95"} transition-transform duration-300 hover:scale-105`,loading:"lazy"}),i.jsx("div",{className:"p-3 text-center",style:{background:`linear-gradient(180deg, ${t.color}20, ${t.color}50)`},children:i.jsx("h3",{className:`font-semibold text-sm sm:text-base ${e==="dark"?"text-gray-100":"text-gray-900"} tracking-tight`,children:t.name})})]})})}));ZS.propTypes={platform:G.shape({name:G.string.isRequired,logo:G.string.isRequired,route:G.string.isRequired,color:G.string.isRequired}).isRequired,theme:G.string.isRequired};const e5=E.memo(({show:t,onClose:e,notifications:r,theme:n})=>{const s=n==="dark",a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}},l=u=>u.toLocaleString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});return i.jsx($t,{children:t&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"notifications-title",children:i.jsxs(Z.div,{variants:a,initial:"hidden",animate:"visible",exit:"hidden",className:`w-full max-w-md mx-4 ${s?"bg-gray-900/95 border-gray-700/50":"bg-white/95 border-gray-200/50"} rounded-2xl shadow-2xl p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md`,onClick:u=>u.stopPropagation(),children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar notificaciones",children:i.jsx(Sn,{size:20})}),i.jsx("h2",{id:"notifications-title",className:`text-2xl font-bold mb-6 ${s?"text-white":"text-gray-900"} bg-clip-text text-transparent bg-gradient-to-r ${s?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Notificaciones"}),r.length>0?r.map(u=>i.jsxs(Z.div,{variants:a,initial:"hidden",animate:"visible",whileHover:"hover",className:`border-b py-3 last:border-0 rounded-xl px-2 transition-all duration-300 ${s?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,children:[i.jsx("p",{className:`${s?"text-gray-300":"text-gray-700"}`,children:u.message}),i.jsx("p",{className:`text-xs mt-1 ${s?"text-gray-400":"text-gray-500"}`,children:l(u.updatedAt?.toDate?.()||new Date)})]},u.id)):i.jsx("p",{className:`py-2 ${s?"text-gray-400":"text-gray-500"}`,children:"No hay notificaciones"})]})})})});e5.propTypes={show:G.bool.isRequired,onClose:G.func.isRequired,notifications:G.arrayOf(G.shape({id:G.string.isRequired,message:G.string.isRequired,updatedAt:G.object})).isRequired,theme:G.string.isRequired};const t5=E.memo(({isOpen:t,message:e,onClose:r,theme:n})=>i.jsx($t,{children:t&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:r,role:"dialog","aria-labelledby":"modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${n==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${n==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:s=>s.stopPropagation(),children:[i.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:i.jsx(Sn,{size:20})}),i.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${n==="dark"?"text-white":"text-gray-900"}`,children:"Notificación"}),i.jsx("p",{className:`text-sm ${n==="dark"?"text-gray-300":"text-gray-700"}`,children:e})]})})}));t5.propTypes={isOpen:G.bool.isRequired,message:G.string.isRequired,onClose:G.func.isRequired,theme:G.string.isRequired};const r5=()=>{const{currentIndex:t,progress:e,setIsPaused:r,goToSlide:n,prevSlide:s,nextSlide:a}=rH(Ed,5e3),[l,u]=E.useState(""),[d,h]=E.useState(null),[p,g]=E.useState(0),[y,v]=E.useState(null),[_,w]=E.useState(!1),[T,D]=E.useState(!1),[I,z]=E.useState("dark"),[F,Y]=E.useState(!1),[U,S]=E.useState(!1),[A,j]=E.useState([]),[R,M]=E.useState([]),[L,O]=E.useState([]),[fe,ke]=E.useState([]),[Ce,Re]=E.useState(null),[Ee,ie]=E.useState(!1),[de,se]=E.useState(null),[B,te]=E.useState(null),[re,ne]=E.useState(!1),[ee,Le]=E.useState(null),[Be,je]=E.useState({}),Me=Ma(),it=E.useRef(null);E.useEffect(()=>{const Q=Kl(tn,Ne=>{h(Ne),Ne?(yt(Ne.uid),Wt(Ne.uid)):(g(0),v(null),j([]))});return()=>Q()},[]);const yt=async Q=>{try{const Ne=await ei(ut(Ie,"users",Q));if(Ne.exists()){g(Ne.data().balance||0),v(Ne.data().role);const ft=Ne.data().username||"Usuario";h(we=>({...we,username:ft,id:Q,name:ft,phone:Ne.data().phone||""}))}}catch(Ne){console.error("Error fetching user data:",Ne)}},Wt=async Q=>{try{const Ne=tr(kt(Ie,"users",Q,"notifications"),o1("updatedAt","desc")),we=(await rn(Ne)).docs.map(Ae=>({id:Ae.id,message:Ae.data().message||"Sin mensaje",updatedAt:Ae.data().updatedAt}));j(we)}catch(Ne){console.error("Error fetching notifications:",Ne)}};E.useEffect(()=>{(async()=>{try{const Ne=tr(kt(Ie,"products")),we=(await rn(Ne)).docs.map(Ae=>{const Ve=Ae.data(),Ze=Ve.accounts||[];return{id:Ae.id,...Ve,price:Number(Ve.price)||0,stock:Ze.length,accountDetails:Ve.email||Ve.details||"Detalles no disponibles",terms:Ve.terms||"Términos del proveedor",provider:Ve.provider||"Anon",providerId:Ve.providerId||"",providerPhone:Ve.providerPhone||"",acceptsOrders:Ve.status==="A pedido",duration:Ve.duration||"1 mes",accountType:Ve.accountType||"No especificado",status:Ve.status||"En stock",image:Ve.image||"https://via.placeholder.com/300",renewal:Ve.renewal||!1,renewalPrice:Number(Ve.renewalPrice)||Number(Ve.price)*.9,accounts:Ze,category:Ve.category||"General"}});O(we)}catch(Ne){console.error("Error fetching all products:",Ne)}})()},[]),E.useEffect(()=>{(async()=>{try{const Ne=tr(kt(Ie,"sales"),_A(200)),ft=await rn(Ne),we={};ft.docs.forEach(vt=>{const at=vt.data().productId;we[at]=(we[at]||0)+1});const Ve=Object.keys(we).sort((vt,Nt)=>we[Nt]-we[vt]).slice(0,20).map(async vt=>{const Nt=await ei(ut(Ie,"products",vt));if(Nt.exists()){const at=Nt.data(),ot=at.accounts||[];let et={provider:at.provider||"Anon",providerPhone:at.providerPhone||""};if(at.providerId){const Tt=await ei(ut(Ie,"users",at.providerId));Tt.exists()&&(et.provider=Tt.data().username||Tt.data().email||at.provider,et.providerPhone=Tt.data().phoneNumber||at.providerPhone)}return{id:vt,...at,category:at.category,price:Number(at.price)||0,stock:ot.length,accountDetails:at.email||at.details||"Detalles no disponibles",terms:at.terms||"Términos del proveedor",...et,acceptsOrders:at.status==="A pedido",duration:at.duration||"1 mes",accountType:at.accountType||"No especificado",status:at.status||"En stock",image:at.image||"https://via.placeholder.com/300",renewal:at.renewal||!1,renewalPrice:Number(at.renewalPrice)||Number(at.price)*.9,accounts:ot}}return null}),Ze=await Promise.all(Ve);M(Ze.filter(vt=>vt))}catch(Ne){console.error("Error fetching top products:",Ne)}})()},[]),E.useEffect(()=>{if(l.trim()){const Q=L.filter(Ne=>Ne.name.toLowerCase().includes(l.toLowerCase())||Ne.provider.toLowerCase().includes(l.toLowerCase()));ke(Q)}else ke([])},[l,L]),E.useEffect(()=>{const Q=tr(kt(Ie,"ratings"));return hr(Q,ft=>{const we={};ft.docs.forEach(Ve=>{const Ze=Ve.data(),vt=Ze.providerId;we[vt]||(we[vt]=[]),we[vt].push(Number(Ze.rating)||0)});const Ae={};Object.keys(we).forEach(Ve=>{const Ze=we[Ve];Ae[Ve]=Ze.length?Ze.reduce((vt,Nt)=>vt+Nt,0)/Ze.length:1,Ae[Ve]=Math.min(Math.max(Ae[Ve],1),5)}),je(Ae)},ft=>{console.error("Error al cargar calificaciones:",ft)})},[]);const Fe=E.useCallback(Q=>{if(!Q)return 30;if(typeof Q=="number")return Q;if(typeof Q!="string")return 30;const Ne=Q.match(/(\d+)\s*(mes|meses)/i);if(Ne)return parseInt(Ne[1],10)*30;const ft=Q.match(/(\d+)\s*(día|días|dia|dias)/i);if(ft)return parseInt(ft[1],10);const we=Q.match(/(\d+)/);return we?parseInt(we[1],10):30},[]),fr=E.useCallback(Q=>{const Ne=Number(Q);return isNaN(Ne)?"0.00":Ne.toFixed(2)},[]),Mt=E.useCallback(Q=>{const Ne=Math.floor(Q),ft=5-Ne;return i.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(Ne)].map((we,Ae)=>i.jsx(Tu,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${Ae}`)),[...Array(ft)].map((we,Ae)=>i.jsx(Tu,{className:I==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${Ae}`))]})},[I]),De=E.useCallback(Q=>Q.status==="A pedido"?i.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:i.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(Q.stock)>0?i.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:i.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",Q.stock]})}):i.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:i.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),[]),pr=E.useCallback(Q=>{if(se(null),!d){Le({message:"Por favor, inicia sesión para realizar una compra en BlackStreaming.",onClose:()=>Me("/login")});return}if(y==="provider"){Le({message:"Los proveedores no pueden realizar compras en BlackStreaming."});return}if(p<Q.price){Le({message:"Saldo insuficiente para realizar esta compra."});return}if(!Q.providerId||Q.providerId===""){Le({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de BlackStreaming."});return}Re({product:Q,customerName:d.name,phoneNumber:""})},[d,p,y,Me]),Vt=E.useCallback(async()=>{if(!document.getElementById("termsCheck").checked){se("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(Ce.phoneNumber)){se("El número de WhatsApp debe tener 9 dígitos");return}try{ie(!0),se(null);const Q=Ce.product,Ne=Fe(Q.duration),ft=Q.category||"general";if(!Q.providerId||Q.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let we=null;Q.status==="En stock"?we=await Sy(Ie,async Ae=>{const Ve=ut(Ie,"products",Q.id),Ze=await Ae.get(Ve);if(!Ze.exists())throw new Error("Producto no encontrado");const Nt=Ze.data().accounts||[];if(Nt.length===0)throw new Error("No hay cuentas disponibles para este producto");const at=Nt[0],ot=Nt.slice(1),et=ut(Ie,"users",d.id),Tt=await Ae.get(et);if(!Tt.exists())throw new Error("Usuario no encontrado");const Bt=ut(Ie,"users",Q.providerId),Kt=await Ae.get(Bt);if(!Kt.exists())throw new Error("Proveedor no encontrado");const Ir=ut(Ie,"providerBalances",Q.providerId),$r=await Ae.get(Ir);let dn=0;$r.exists()?dn=parseFloat($r.data().balance)||0:Ae.set(Ir,{balance:0,provider:Q.providerId,updatedAt:wr()});let cr=Q.providerPhone||"";cr||(cr=Kt.data().phoneNumber||"");const Wn={accounts:ot,stock:ot.length};ot.length===0&&(Wn.status="Agotado"),Ae.update(Ve,Wn);const hn=(Number(Tt.data().balance)||0)-Q.price;if(hn<0)throw new Error("Saldo insuficiente");const Tr=Tt.data().orderIds||[],yn={productId:Q.id,productName:Q.name,price:Q.price,renewalPrice:Q.renewalPrice,provider:Q.provider,providerId:Q.providerId,providerPhone:cr,status:"active",customerName:Ce.customerName,customerId:d.id,phoneNumber:Ce.phoneNumber,buyerName:d.name,buyerId:d.id,buyerPhone:d.phone,createdAt:new Date().toISOString(),accountDetails:{email:at.email||"No proporcionado",password:at.password||"No proporcionado",profile:at.profile||"No proporcionado",pin:at.pin||"No proporcionado"},terms:Q.terms,duration:Q.duration,durationDays:Ne,type:ft},be=kt(Ie,"users",d.id,"orders"),Se=ut(be);Ae.set(Se,{...yn,id:Se.id}),Ae.update(et,{balance:hn,orderIds:[...Tr,Se.id]});const H=(Number(Kt.data().balance)||0)+Q.price,W=Kt.data().salesIds||[],K={saleId:ut(kt(Ie,"sales")).id,productId:Q.id,productName:Q.name,price:Q.price,renewalPrice:Q.renewalPrice,provider:Q.provider,providerId:Q.providerId,providerPhone:cr,customerId:d.id,customerName:Ce.customerName,customerPhone:Ce.phoneNumber,buyerName:d.name,buyerId:d.id,buyerPhone:d.phone,accountDetails:{email:at.email||"No proporcionado",password:at.password||"No proporcionado",profile:at.profile||"No proporcionado",pin:at.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:Q.terms,duration:Q.duration,durationDays:Ne,generalDetails:Q.accountDetails,productUrl:Q.image},J=kt(Ie,"users",Q.providerId,"sales"),X=ut(J);Ae.set(X,{...K,id:X.id}),Ae.update(Bt,{balance:H,salesIds:[...W,X.id]});const ue=dn+Q.price;Ae.set(Ir,{balance:ue,provider:Q.providerId,updatedAt:wr()},{merge:!0});const ge=ut(kt(Ie,"sales"));return Ae.set(ge,{...yn,provider:Q.provider,providerId:Q.providerId,providerPhone:cr,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:at.email||"No proporcionado",password:at.password||"No proporcionado",profile:at.profile||"No proporcionado",pin:at.pin||"No proporcionado"},saleId:K.saleId,terms:Q.terms,duration:Q.duration,durationDays:Ne,generalDetails:Q.accountDetails,productUrl:Q.image}),at}):await Sy(Ie,async Ae=>{const Ve=ut(Ie,"users",d.id),Ze=await Ae.get(Ve);if(!Ze.exists())throw new Error("Usuario no encontrado");const vt=ut(Ie,"users",Q.providerId),Nt=await Ae.get(vt);if(!Nt.exists())throw new Error("Proveedor no encontrado");const at=ut(Ie,"providerBalances",Q.providerId),ot=await Ae.get(at);let et=0;ot.exists()?et=parseFloat(ot.data().balance)||0:Ae.set(at,{balance:0,provider:Q.providerId,updatedAt:wr()});let Tt=Q.providerPhone||"";Tt||(Tt=Nt.data().phoneNumber||"");const Kt=(Number(Ze.data().balance)||0)-Q.price;if(Kt<0)throw new Error("Saldo insuficiente");const Ir=Ze.data().orderIds||[],$r={productId:Q.id,productName:Q.name,price:Q.price,renewalPrice:Q.renewalPrice,provider:Q.provider,providerId:Q.providerId,providerPhone:Tt,status:"pending",customerName:Ce.customerName,customerId:d.id,phoneNumber:Ce.phoneNumber,buyerName:d.name,buyerId:d.id,buyerPhone:d.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:Q.terms,duration:Q.duration,durationDays:Ne,type:ft},dn=kt(Ie,"users",d.id,"orders"),cr=ut(dn);Ae.set(cr,{...$r,id:cr.id}),Ae.update(Ve,{balance:Kt,orderIds:[...Ir,cr.id]});const ur=(Number(Nt.data().balance)||0)+Q.price,hn=Nt.data().salesIds||[],Tr={saleId:ut(kt(Ie,"sales")).id,productId:Q.id,productName:Q.name,price:Q.price,renewalPrice:Q.renewalPrice,provider:Q.provider,providerId:Q.providerId,providerPhone:Tt,customerId:d.id,customerName:Ce.customerName,customerPhone:Ce.phoneNumber,buyerName:d.name,buyerId:d.id,buyerPhone:d.phone,accountDetails:null,status:"pending",terms:Q.terms,duration:Q.duration,durationDays:Ne,generalDetails:Q.accountDetails,productUrl:Q.image},yn=kt(Ie,"users",Q.providerId,"sales"),be=ut(yn);Ae.set(be,{...Tr,id:be.id}),Ae.update(vt,{balance:ur,salesIds:[...hn,be.id]});const Se=et+Q.price;Ae.set(at,{balance:Se,provider:Q.providerId,updatedAt:wr()},{merge:!0});const P=ut(kt(Ie,"sales"));Ae.set(P,{...$r,provider:Q.provider,providerId:Q.providerId,providerPhone:Tt,saleDate:new Date().toISOString(),status:"pending",saleId:Tr.saleId,terms:Q.terms,duration:Q.duration,durationDays:Ne,generalDetails:Q.accountDetails,productUrl:Q.image})}),g(Ae=>Ae-Q.price),Re(null),Le({message:Q.status==="En stock"?"¡Compra realizada con éxito! Revisa tu panel para mas información.":"¡Pedido realizado con éxito! Revisa tu panel para mas información."})}catch(Q){se(Q.message||"Error al procesar la compra"),console.error("Error en la compra:",Q)}finally{ie(!1)}},[Ce,d,Fe]),qt=E.useCallback(Q=>{te({name:Q.name,accountDetails:Q.accountDetails,provider:Q.provider,terms:Q.terms,accountType:Q.accountType})},[]),le=E.useCallback(Q=>{te({name:Q.name,terms:Q.terms,provider:Q.provider,accountType:Q.accountType}),ne(!0)},[]);E.useEffect(()=>{const Q=()=>{D(window.scrollY>300)};return window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q)},[]),E.useEffect(()=>{const Q=it.current;let Ne=0;const ft=Ae=>{Ne=Ae.touches[0].clientX,r(!0)},we=Ae=>{const Ve=Ae.changedTouches[0].clientX;Ne-Ve>50&&a(),Ve-Ne>50&&s(),setTimeout(()=>r(!1),500)};return Q?.addEventListener("touchstart",ft),Q?.addEventListener("touchend",we),()=>{Q?.removeEventListener("touchstart",ft),Q?.removeEventListener("touchend",we)}},[s,a,r]);const Xe=E.useCallback(Q=>{Q.preventDefault()},[]),ct=E.useCallback(async()=>{try{await z0(tn),Me("/")}catch(Q){console.error("Error signing out:",Q)}},[Me]),dt=E.useCallback(()=>{z(Q=>Q==="dark"?"light":"dark")},[]),St=E.useCallback(Q=>Q?Q.split(" ").map(ft=>ft[0]).join("").slice(0,2).toUpperCase():"U",[]),wt=E.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),st=E.useCallback(()=>{switch(y){case"admin":return"/dashboard/admin";case"provider":return"/dashboard/provider";default:return"/dashboard/user"}},[y]),gt=E.useCallback(Q=>{if(!y){Q.preventDefault();const Ne={id:Date.now().toString(),message:"Usuario no activado",updatedAt:new Date};return j(ft=>[...ft,Ne]),S(!0),!1}return!0},[y]),ir=l?fe:R;return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${I==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col font-inter relative overflow-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${I==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(25)].map((Q,Ne)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Ne))})]}),i.jsxs("header",{className:`${I==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-4 px-4 sm:px-6 flex items-center justify-between shadow-lg fixed top-0 left-0 right-0 z-50 transition-all duration-300`,children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Z.img,{src:tc,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${I==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),i.jsx("div",{className:"flex-1 mx-4 max-w-md hidden lg:block",children:i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar productos y proveedores...",value:l,onChange:Q=>u(Q.target.value),className:`w-full py-2.5 px-5 ${I==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-lg group-hover:${I==="dark"?"bg-gray-800/50":"bg-gray-100/90"}`,"aria-label":"Buscar productos y proveedores",onKeyDown:Q=>Q.key==="Enter"&&Xe(Q)}),i.jsx("button",{onClick:Xe,className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${I==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Buscar",children:i.jsx(vu,{size:18})})]})}),i.jsxs("nav",{className:"flex items-center space-x-3 relative",children:[i.jsx("button",{onClick:dt,className:`p-2 rounded-full ${I==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${I==="dark"?"claro":"oscuro"}`,children:I==="dark"?i.jsx(Zl,{size:20}):i.jsx(Jl,{size:20})}),d&&i.jsxs("button",{onClick:()=>S(!0),className:`p-2 rounded-full relative ${I==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Notificaciones (${A.length} nuevas)`,children:[i.jsx(Ml,{size:20}),A.length>0&&i.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:A.length})]}),i.jsx("button",{className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition duration-300",onClick:()=>Y(!F),"aria-label":"Abrir menú móvil","aria-expanded":F,children:i.jsx(jm,{size:20,className:I==="dark"?"text-gray-300":"text-gray-600"})}),i.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:d?i.jsxs("div",{className:"relative flex items-center space-x-4",children:[i.jsx(Z.div,{className:`flex items-center space-x-2 ${I==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-lg transition-all duration-300`,whileHover:{scale:1.05},children:i.jsxs("span",{className:"text-sm font-semibold",children:["S/. ",p.toFixed(2)]})}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>w(!_),className:`flex items-center space-x-2 ${I==="dark"?"bg-gray-800/30 border-gray-600/30":"bg-gray-100/80 border-gray-200/30"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-lg transition-all duration-300`,"aria-label":"Menú de usuario","aria-haspopup":"true","aria-expanded":_,children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:d.photoURL?i.jsx("img",{src:d.photoURL,alt:"Avatar de usuario",className:"h-full w-full rounded-full",loading:"lazy"}):St(d.username||d.email)}),i.jsx("span",{className:`text-sm font-semibold ${I==="dark"?"text-gray-200":"text-gray-800"} truncate max-w-[120px]`,children:d.username||"Usuario"}),i.jsx(JU,{className:`ml-1 ${I==="dark"?"text-gray-400":"text-gray-600"}`,size:14})]}),i.jsx($t,{children:_&&i.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:`absolute right-0 mt-2 w-56 ${I==="dark"?"bg-gray-900/95 border-gray-600/30":"bg-white/95 border-gray-200/30"} backdrop-blur-xl rounded-lg shadow-xl py-3 z-50`,role:"menu",children:[i.jsxs(_s,{to:st(),className:`w-full text-left px-4 py-2 text-sm hover:${I==="dark"?"bg-gray-800/80":"bg-gray-200/80"} flex items-center ${I==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,onClick:Q=>{gt(Q),w(!1)},role:"menuitem","aria-label":"Ir al dashboard",children:[i.jsx(Ip,{className:"mr-2"})," Dashboard"]}),i.jsxs("button",{onClick:ct,className:`w-full text-left px-4 py-2 text-sm hover:${I==="dark"?"bg-gray-800/80":"bg-gray-200/80"} flex items-center ${I==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Cerrar sesión",children:[i.jsx(wu,{className:"mr-2"})," Cerrar Sesión"]})]})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs(_s,{to:"/login",className:`bg-blue-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-blue-700/95 text-sm border ${I==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,"aria-label":"Iniciar sesión",children:[i.jsx(Zy,{className:"mr-2"})," Ingresar"]}),i.jsxs(_s,{to:"/register",className:`bg-green-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-green-700/95 text-sm border ${I==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,"aria-label":"Registrarse",children:[i.jsx(ev,{className:"mr-2"})," Registrarse"]})]})})]}),i.jsx($t,{children:F&&i.jsx(Z.nav,{initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},className:`lg:hidden absolute top-full left-0 right-0 ${I==="dark"?"bg-gray-900/95":"bg-white/95"} backdrop-blur-xl shadow-lg z-40 p-6`,role:"menu","aria-label":"Menú móvil",children:i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar productos y proveedores...",value:l,onChange:Q=>u(Q.target.value),className:`w-full py-2.5 px-5 ${I==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-lg group-hover:${I==="dark"?"bg-gray-800/50":"bg-gray-100/90"}`,"aria-label":"Buscar productos y proveedores",onKeyDown:Q=>Q.key==="Enter"&&Xe(Q)}),i.jsx("button",{onClick:Xe,className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${I==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Buscar",children:i.jsx(vu,{size:18})})]}),d&&i.jsxs("button",{onClick:()=>{S(!0),Y(!1)},className:`text-sm flex items-center ${I==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Ver notificaciones",children:[i.jsx(Ml,{className:"mr-2"})," Notificaciones"]}),d?i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"} font-medium`,children:["Saldo: S/. ",p.toFixed(2)]}),i.jsxs(_s,{to:st(),className:`text-sm flex items-center ${I==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,onClick:Q=>{gt(Q)&&Y(!1)},role:"menuitem","aria-label":"Ir al dashboard",children:[i.jsx(Ip,{className:"mr-2"})," Dashboard"]}),i.jsxs("button",{onClick:()=>{ct(),Y(!1)},className:`text-sm flex items-center ${I==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Cerrar sesión",children:[i.jsx(wu,{className:"mr-2"})," Cerrar Sesión"]})]}):i.jsxs(i.Fragment,{children:[i.jsxs(_s,{to:"/login",className:`bg-blue-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-blue-700/95 text-sm border ${I==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,onClick:()=>Y(!1),role:"menuitem","aria-label":"Iniciar sesión",children:[i.jsx(Zy,{className:"mr-2"})," Ingresar"]}),i.jsxs(_s,{to:"/register",className:`bg-green-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-green-700/95 text-sm border ${I==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,onClick:()=>Y(!1),role:"menuitem","aria-label":"Registrarse",children:[i.jsx(ev,{className:"mr-2"})," Registrarse"]})]})]})})})]}),i.jsx(e5,{show:U&&!!d,onClose:()=>S(!1),notifications:A,theme:I}),i.jsx(t5,{isOpen:!!ee,message:ee?.message||"",onClose:()=>{ee?.onClose&&ee.onClose(),Le(null)},theme:I}),i.jsx($t,{children:Ce&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>Re(null),role:"dialog","aria-labelledby":"purchase-modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${I==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${I==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Q=>Q.stopPropagation(),children:[i.jsx("button",{onClick:()=>Re(null),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar modal de compra",children:i.jsx(Sn,{size:20})}),i.jsx("h2",{id:"purchase-modal-title",className:`text-xl font-bold mb-4 ${I==="dark"?"text-white":"text-gray-900"}`,children:"Confirmar Compra"}),i.jsxs("p",{className:`mb-4 ${I==="dark"?"text-gray-300":"text-gray-700"}`,children:["Estás a punto de comprar: ",i.jsx("strong",{children:Ce.product.name})]}),i.jsxs("p",{className:`mb-4 ${I==="dark"?"text-gray-300":"text-gray-700"}`,children:["Precio: S/. ",fr(Ce.product.price)]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"customerName",className:`block text-sm font-medium ${I==="dark"?"text-gray-300":"text-gray-700"} mb-1`,children:"Nombre"}),i.jsx("input",{id:"customerName",type:"text",value:Ce.customerName,onChange:Q=>Re({...Ce,customerName:Q.target.value}),className:`w-full py-2 px-3 rounded-lg ${I==="dark"?"bg-gray-800/50 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50`,"aria-required":"true"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"phoneNumber",className:`block text-sm font-medium ${I==="dark"?"text-gray-300":"text-gray-700"} mb-1`,children:"Número de WhatsApp"}),i.jsx("input",{id:"phoneNumber",type:"tel",value:Ce.phoneNumber,onChange:Q=>Re({...Ce,phoneNumber:Q.target.value}),className:`w-full py-2 px-3 rounded-lg ${I==="dark"?"bg-gray-800/50 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50`,placeholder:"9 dígitos",pattern:"\\d{9}","aria-required":"true"})]}),i.jsx("div",{className:"mb-4",children:i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{id:"termsCheck",type:"checkbox",className:"h-4 w-4 text-blue-500 focus:ring-blue-500 border-gray-300 rounded","aria-required":"true"}),i.jsxs("span",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"}`,children:["Acepto los"," ",i.jsx("button",{type:"button",onClick:()=>{le(Ce.product)},className:"underline text-blue-500 hover:text-blue-400",children:"términos y condiciones"})]})]})}),de&&i.jsx("p",{className:`text-red-400 text-sm mb-4 ${I==="dark"?"text-red-300":"text-red-500"}`,children:de}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Re(null),className:`flex-1 py-2 px-4 rounded-xl ${I==="dark"?"bg-gray-700/50 hover:bg-gray-600/50 text-gray-200 border-gray-600/30":"bg-gray-200 hover:bg-gray-300 text-gray-800 border-gray-300"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cancelar compra",children:"Cancelar"}),i.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Vt,disabled:Ee,className:`flex-1 py-2 px-4 rounded-xl ${Ee?"bg-gray-500/50 cursor-not-allowed text-gray-400":I==="dark"?"bg-green-600/90 hover:bg-green-700/95 text-white border-green-500/30":"bg-green-500/90 hover:bg-green-600/95 text-white border-green-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300 flex items-center justify-center gap-2`,"aria-label":"Confirmar compra",children:Ee?i.jsxs(i.Fragment,{children:[i.jsx(gz,{className:"animate-spin",size:16}),"Procesando..."]}):"Confirmar"})]})]})})}),i.jsx($t,{children:B&&!re&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>te(null),role:"dialog","aria-labelledby":"detail-modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${I==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${I==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Q=>Q.stopPropagation(),children:[i.jsx("button",{onClick:()=>te(null),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar detalles",children:i.jsx(Sn,{size:20})}),i.jsxs("h2",{id:"detail-modal-title",className:`text-xl font-bold mb-4 ${I==="dark"?"text-white":"text-gray-900"}`,children:["Detalles de ",B.name]}),i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"}`,children:[i.jsx("strong",{children:"Tipo de Cuenta:"})," ",B.accountType]}),i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[i.jsx("strong",{children:"Proveedor:"})," ",B.provider]}),i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[i.jsx("strong",{children:"Detalles:"})," ",B.accountDetails]}),i.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>te(null),className:`mt-6 w-full py-2 px-4 rounded-xl ${I==="dark"?"bg-blue-600/90 hover:bg-blue-700/95 text-white border-blue-500/30":"bg-blue-500/90 hover:bg-blue-600/95 text-white border-blue-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cerrar detalles",children:"Cerrar"})]})})}),i.jsx($t,{children:re&&B&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>{ne(!1),te(null)},role:"dialog","aria-labelledby":"terms-modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${I==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${I==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Q=>Q.stopPropagation(),children:[i.jsx("button",{onClick:()=>{ne(!1),te(null)},className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar términos",children:i.jsx(Sn,{size:20})}),i.jsx("h2",{id:"terms-modal-title",className:`text-xl font-bold mb-4 ${I==="dark"?"text-white":"text-gray-900"}`,children:"Términos y Condiciones"}),i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"}`,children:[i.jsx("strong",{children:"Producto:"})," ",B.name]}),i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[i.jsx("strong",{children:"Proveedor:"})," ",B.provider]}),i.jsxs("p",{className:`text-sm ${I==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[i.jsx("strong",{children:"Términos:"})," ",B.terms]}),i.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne(!1),te(null)},className:`mt-6 w-full py-2 px-4 rounded-xl ${I==="dark"?"bg-blue-600/90 hover:bg-blue-700/95 text-white border-blue-500/30":"bg-blue-500/90 hover:bg-blue-600/95 text-white border-blue-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cerrar términos",children:"Cerrar"})]})})}),i.jsxs("main",{className:"flex-1 px-4 sm:px-6 lg:px-8 py-10 pt-24 relative z-10",children:[!l&&i.jsxs("section",{ref:it,className:"relative h-64 sm:h-80 md:h-96 lg:h-[600px] mb-12 overflow-hidden rounded-2xl shadow-2xl",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),role:"region","aria-label":"Carrusel de contenido destacado",children:[i.jsx($t,{initial:!1,children:i.jsx(Z.div,{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${Ed[t].src})`},initial:{opacity:0,x:300,scale:1.1},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:-300,scale:1.1},transition:{duration:.8,ease:"easeInOut"},children:i.jsxs("div",{className:`absolute inset-0 bg-gradient-to-t ${I==="dark"?"from-black/90 via-black/60 to-transparent":"from-white/90 via-white/60 to-transparent"} flex flex-col justify-end p-6 sm:p-8 md:p-10 lg:p-12`,children:[i.jsx(Z.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.5},className:`text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-extrabold mb-2 bg-clip-text text-transparent bg-gradient-to-r ${I==="dark"?"from-white to-gray-200":"from-gray-900 to-gray-700"} tracking-tight drop-shadow-md`,children:Ed[t].title}),i.jsx(Z.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.5},className:`text-sm sm:text-base md:text-lg lg:text-xl max-w-md ${I==="dark"?"text-gray-300":"text-gray-700"} font-medium drop-shadow-sm`,children:Ed[t].description})]})},t)}),i.jsx("button",{onClick:s,className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${I==="dark"?"bg-black/50 hover:bg-black/70":"bg-white/50 hover:bg-white/70"} backdrop-blur-lg p-3 rounded-full transition-all duration-300 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Diapositiva anterior",children:i.jsx(tz,{size:20})}),i.jsx("button",{onClick:a,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${I==="dark"?"bg-black/50 hover:bg-black/70":"bg-white/50 hover:bg-white/70"} backdrop-blur-lg p-3 rounded-full transition-all duration-300 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Diapositiva siguiente",children:i.jsx(rz,{size:20})}),i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",role:"tablist",children:Ed.map((Q,Ne)=>i.jsx("button",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full transition-all duration-300 ${t===Ne?"bg-blue-500 scale-125":I==="dark"?"bg-gray-500/50":"bg-gray-400/50"} focus:outline-none focus:ring-2 focus:ring-blue-500`,onClick:()=>n(Ne),role:"tab","aria-selected":t===Ne,"aria-label":`Ir a diapositiva ${Ne+1}`},Ne))}),i.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 ${I==="dark"?"bg-gray-800/50":"bg-gray-200/50"}`,children:i.jsx(Z.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600",style:{width:`${e}%`},initial:{width:0},animate:{width:`${e}%`},transition:{duration:.1}})})]}),!l&&i.jsxs("section",{className:"relative",children:[i.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold mb-10 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600 tracking-tight",children:"Categorías de Plataformas"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4 sm:gap-6 lg:gap-8",children:tH.map((Q,Ne)=>i.jsx(ZS,{platform:Q,theme:I},Ne))})]}),i.jsxs("section",{className:"mt-16 relative",children:[i.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold mb-10 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600 tracking-tight",children:l?"Resultados de Búsqueda":"Productos Más Vendidos"}),ir.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6",children:ir.map(Q=>{const Ne=/^\d+$/.test(Q.duration||"")?`${Q.duration} días`:Q.duration||"1 mes";return i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`relative group rounded-2xl overflow-hidden border-2 ${I==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-blue-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-purple-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[i.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[i.jsx(Z.img,{whileHover:{scale:1.1},src:Q.image,alt:Q.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"},loading:"lazy"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),De(Q)]}),i.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[i.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${I==="dark"?"text-blue-400 bg-blue-500/20":"text-purple-600 bg-purple-600/20"} px-2 py-0.5 rounded-md`,children:Q.accountType}),i.jsxs("span",{className:`text-xs flex items-center gap-1 ${I==="dark"?"text-gray-400":"text-gray-600"}`,children:[i.jsx(ec,{className:"text-blue-500",size:13}),Ne]})]}),i.jsx("h3",{className:`font-extrabold text-lg ${I==="dark"?"text-white":"text-gray-900"} mb-2 truncate leading-tight drop-shadow`,children:Q.name}),i.jsxs("div",{className:"flex items-center gap-1 mb-1.5",children:[Mt(Be[Q.providerId]||1),i.jsx("span",{className:`ml-1 text-xs ${I==="dark"?"text-gray-400":"text-gray-600"}`,children:(Be[Q.providerId]||1).toFixed(1)})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsxs("span",{className:`flex items-center text-xs ${I==="dark"?"text-gray-300":"text-gray-600"} gap-1`,children:[i.jsx(vz,{className:"text-blue-500",size:13}),Q.provider]}),i.jsxs("span",{className:`flex items-center text-xs ${I==="dark"?"text-gray-400":"text-gray-600"} gap-1`,children:[i.jsx(lz,{className:"text-blue-500",size:13}),Q.status]})]}),i.jsx("div",{className:"flex items-center mb-2",children:Q.renewal?i.jsxs("span",{className:"text-green-500 text-xs font-medium",children:["Renovación S/. ",fr(Q.renewalPrice)]}):i.jsx("span",{className:"text-yellow-500 text-xs font-medium",children:"Sin renovación"})}),i.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[i.jsx("div",{className:"flex items-end justify-between mb-2",children:i.jsxs("span",{className:`font-bold text-xl tracking-tight drop-shadow ${I==="dark"?"text-blue-400":"text-purple-600"}`,children:["S/. ",fr(Q.price)]})}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsxs(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>qt(Q),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${I==="dark"?"bg-gray-800/60 hover:bg-blue-500/20":"bg-gray-200/60 hover:bg-purple-600/20"} text-gray-100 transition-all border border-blue-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[i.jsx(pz,{className:"text-blue-500",size:14}),i.jsx("span",{children:"Detalles"})]}),i.jsxs(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>le(Q),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${I==="dark"?"bg-gray-800/60 hover:bg-blue-500/20":"bg-gray-200/60 hover:bg-purple-600/20"} text-gray-100 transition-all border border-blue-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[i.jsx(ob,{className:"text-blue-500",size:14}),i.jsx("span",{children:"Términos"})]})]}),i.jsxs(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>pr(Q),className:`w-full py-2 px-3 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 shadow-lg transition-all duration-200 ${Number(Q.stock)>0||Q.status==="A pedido"?"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white":"bg-gray-800/60 text-gray-400 cursor-not-allowed"}`,disabled:Number(Q.stock)<=0&&Q.status!=="A pedido",children:[i.jsx(Ho,{size:16}),Q.status==="A pedido"?"Pedir Ahora":"Comprar"]})]})]})]},Q.id)})}):i.jsx("p",{className:`text-center text-lg ${I==="dark"?"text-gray-400":"text-gray-600"} font-medium`,children:l?"No se encontraron productos que coincidan con tu búsqueda.":"No hay productos disponibles."})]})]}),i.jsx("footer",{className:`${I==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10`,children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[i.jsxs("p",{className:`${I==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-8",children:[i.jsx("a",{href:"https://twitter.com",className:`${I==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:i.jsx(Ql,{size:24})}),i.jsx("a",{href:"https://instagram.com",className:`${I==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:i.jsx(Xl,{size:24})}),i.jsx("a",{href:"https://facebook.com",className:`${I==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:i.jsx(Yl,{size:24})})]})]})}),i.jsx($t,{children:T&&i.jsx(Z.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:wt,className:`fixed bottom-6 left-6 bg-blue-600/90 backdrop-blur-lg p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 ${I==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Volver al inicio de la página",children:i.jsx(Cm,{size:20})})})]})};r5.propTypes={};const nH=()=>{const[t,e]=E.useState(""),[r,n]=E.useState(""),[s,a]=E.useState(!1),[l,u]=E.useState(""),[d,h]=E.useState(!1),[p,g]=E.useState(()=>localStorage.getItem("theme")||"dark"),y=Ma(),v=E.useRef(null);E.useEffect(()=>{localStorage.setItem("theme",p),document.documentElement.classList.toggle("dark",p==="dark")},[p]),E.useEffect(()=>{const z=tn.onAuthStateChanged(F=>{F&&y("/")});return()=>z()},[y]),E.useEffect(()=>{v.current?.focus()},[]);const _=E.useCallback(()=>t?r?r.length<6?"La contraseña debe tener al menos 6 caracteres":"":"Por favor, ingresa tu contraseña":"Por favor, ingresa tu nombre de usuario o correo electrónico",[t,r]),w=async z=>{try{const F=kt(Ie,"users"),Y=tr(F,br("username","==",z)),U=await rn(Y);if(!U.empty){const S=U.docs[0].data();return{email:S.email,status:S.status||"active"}}return null}catch(F){return console.error("Error fetching username:",F),null}},T=E.useCallback(async z=>{z.preventDefault();const F=_();if(F){u(F);return}u(""),h(!0);try{let Y=t,U="active";if(t.includes("@")){const S=kt(Ie,"users"),A=tr(S,br("email","==",t)),j=await rn(A);j.empty||(U=j.docs[0].data().status||"active")}else{const S=await w(t);if(!S){u("Nombre de usuario no encontrado"),h(!1);return}Y=S.email,U=S.status}if(U==="suspended"){u("Esta cuenta está suspendida y no se puede ingresar"),h(!1);return}await iF(tn,Y,r),e(""),n(""),y("/")}catch(Y){u(Y.code==="auth/wrong-password"?"Contraseña incorrecta":Y.code==="auth/user-not-found"?"Usuario o correo electrónico no encontrado":Y.code==="auth/too-many-requests"?"Demasiados intentos fallidos. Intenta de nuevo más tarde.":"Error al iniciar sesión. Por favor, intenta de nuevo.")}finally{h(!1)}},[t,r,y,_]),D=E.useCallback(()=>{g(z=>z==="dark"?"light":"dark")},[]),I=E.useCallback(()=>{a(z=>!z)},[]);return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${p==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[i.jsx("div",{className:"absolute bottom-4 right-4 z-20",children:i.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full backdrop-blur-sm ${p==="dark"?"bg-gray-800/50 text-gray-400 border border-gray-600/30":"bg-white/70 text-gray-600 border border-gray-300/30"}`,children:"V2.1.2"})}),i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${p==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(25)].map((z,F)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},F))})]}),i.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${p==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"login-title",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Z.img,{src:tc,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${p==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),i.jsx("button",{onClick:D,className:`p-2 rounded-full ${p==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${p==="dark"?"claro":"oscuro"}`,children:p==="dark"?i.jsx(Zl,{size:20}):i.jsx(Jl,{size:20})})]}),i.jsx("h2",{id:"login-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Iniciar Sesión"}),i.jsx($t,{children:l&&i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${p==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:l})}),i.jsxs("form",{onSubmit:T,className:"space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx($l,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{ref:v,type:"text",placeholder:"Nombre de usuario o correo electrónico",value:t,onChange:z=>e(z.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${p==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Nombre de usuario o correo electrónico",required:!0,whileFocus:{scale:1.02}})]}),i.jsxs("div",{className:"relative",children:[i.jsx(sb,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{type:s?"text":"password",placeholder:"Contraseña",value:r,onChange:z=>n(z.target.value),className:`w-full pl-12 pr-12 py-3 rounded-full ${p==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Contraseña",required:!0,whileFocus:{scale:1.02}}),i.jsx("button",{type:"button",onClick:I,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-800"} transition duration-200`,"aria-label":s?"Ocultar contraseña":"Mostrar contraseña",children:s?i.jsx(zS,{size:18}):i.jsx(HS,{size:18})})]}),i.jsxs(Z.button,{type:"submit",disabled:d,className:`w-full bg-blue-600/90 backdrop-blur-xl py-3 rounded-full ${d?"opacity-50 cursor-not-allowed":"hover:bg-blue-700/95"} text-sm border ${p==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Iniciar sesión",whileHover:{scale:d?1:1.05},whileTap:{scale:d?1:.95},children:[d?i.jsxs(Z.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}):i.jsx(Zy,{className:"mr-2"}),d?"Cargando...":"Iniciar Sesión"]})]}),i.jsxs("div",{className:"text-center text-sm mt-6 space-y-3",children:[i.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿No tienes una cuenta?"," ",i.jsx(_s,{to:"/register",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a registrarse",children:"Regístrate aquí"})]}),i.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿Olvidaste tu contraseña?"," ",i.jsx(_s,{to:"/forgot-password",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Recuperar contraseña",children:"Recupérala aquí"})]})]})]})}),i.jsx("footer",{className:`${p==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[i.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-8",children:[i.jsx("a",{href:"https://twitter.com",className:`${p==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:i.jsx(Ql,{size:24})}),i.jsx("a",{href:"https://instagram.com",className:`${p==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:i.jsx(Xl,{size:24})}),i.jsx("a",{href:"https://facebook.com",className:`${p==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:i.jsx(Yl,{size:24})})]})]})})]})},sH=()=>{const t=[{name:"Perú",code:"+51",flag:"🇵🇪",pattern:/^\d{9}$/,length:9},{name:"Estados Unidos",code:"+1",flag:"🇺🇸",pattern:/^\d{10}$/,length:10},{name:"México",code:"+52",flag:"🇲🇽",pattern:/^\d{10}$/,length:10},{name:"Argentina",code:"+54",flag:"🇦🇷",pattern:/^\d{10}$/,length:10},{name:"Chile",code:"+56",flag:"🇨🇱",pattern:/^\d{9}$/,length:9},{name:"Colombia",code:"+57",flag:"🇨🇴",pattern:/^\d{10}$/,length:10}],[e,r]=E.useState(""),[n,s]=E.useState(""),[a,l]=E.useState(""),[u,d]=E.useState(""),[h,p]=E.useState(""),[g,y]=E.useState(t[0]),[v,_]=E.useState(!1),[w,T]=E.useState(""),[D,I]=E.useState(!1),[z,F]=E.useState(!1),[Y,U]=E.useState(()=>localStorage.getItem("theme")||"dark"),S=Ma(),A=E.useRef(null);E.useEffect(()=>{localStorage.setItem("theme",Y),document.documentElement.classList.toggle("dark",Y==="dark")},[Y]),E.useEffect(()=>{const fe=tn.onAuthStateChanged(ke=>{ke&&!z&&S("/")});return()=>fe()},[S,z]),E.useEffect(()=>{A.current?.focus()},[]);const j=E.useCallback(async()=>e?/^[a-zA-Z0-9_]{3,20}$/.test(e)?(await ei(ut(Ie,"usernames",e.toLowerCase()))).exists()?"El nombre de usuario ya está en uso":n?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?a?g.pattern.test(a)?u?u.length<6?"La contraseña debe tener al menos 6 caracteres":"":"Por favor, ingresa una contraseña":`El número de teléfono debe tener exactamente ${g.length} dígitos`:"Por favor, ingresa tu número de teléfono":"Correo electrónico inválido":"Por favor, ingresa tu correo electrónico":"El nombre de usuario debe tener entre 3 y 20 caracteres alfanuméricos":"Por favor, ingresa un nombre de usuario",[e,n,a,u,g]),R=E.useCallback(async fe=>{fe.preventDefault();const ke=await j();if(ke){T(ke);return}T(""),I(!0),F(!0);try{const Re=(await aF(tn,n,u)).user;console.log("Usuario creado en Auth:",Re.uid),await lF(Re,{displayName:e}),console.log("Perfil actualizado con username:",e);const Ee=Re.uid.slice(-6).toUpperCase();let ie=null;if(h){const de=tr(kt(Ie,"users"),br("referralCode","==",h)),se=await rn(de);if(!se.empty)ie=se.docs[0].id,console.log(`Referred by UID: ${ie}`);else{T("Código de referido inválido"),console.warn(`Invalid referral code: ${h}`),I(!1),F(!1);return}}await ui(ut(Ie,"users",Re.uid),{username:e.toLowerCase(),email:n.toLowerCase(),phone:`${g.code}${a}`,phoneCountryCode:g.code,phoneCountryName:g.name,phoneDigits:a,referralCode:Ee,referredBy:ie,balance:0,createdAt:new Date}),console.log('Datos guardados en colección "users" con ID:',Re.uid),await ui(ut(Ie,"usernames",e.toLowerCase()),{email:n.toLowerCase(),uid:Re.uid}),console.log('Mapping guardado en colección "usernames" con ID:',e.toLowerCase()),r(""),s(""),l(""),d(""),p(""),S("/")}catch(Ce){console.error("Error en registro:",Ce),T(Ce.code==="auth/email-already-in-use"?"El correo electrónico ya está registrado":Ce.code==="auth/invalid-email"?"Correo electrónico inválido":Ce.code==="auth/weak-password"?"La contraseña es demasiado débil":"Error al registrarse. Por favor, intenta de nuevo.")}finally{I(!1),F(!1)}},[e,n,a,u,h,g,S,j]),M=E.useCallback(()=>{U(fe=>fe==="dark"?"light":"dark")},[]),L=E.useCallback(()=>{_(fe=>!fe)},[]),O=E.useCallback(fe=>{const ke=fe.target.value,Ce=t.find(Re=>Re.code===ke)||g;y(Ce),a.length>Ce.length&&l(a.slice(0,Ce.length))},[g,a]);return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${Y==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[i.jsx("div",{className:"absolute bottom-4 right-4 z-20",children:i.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full backdrop-blur-sm ${Y==="dark"?"bg-gray-800/50 text-gray-400 border border-gray-600/30":"bg-white/70 text-gray-600 border border-gray-300/30"}`,children:"V2.1.2"})}),i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${Y==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(25)].map((fe,ke)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},ke))})]}),i.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${Y==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"register-title",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Z.img,{src:tc,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${Y==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),i.jsx("button",{onClick:M,className:`p-2 rounded-full ${Y==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${Y==="dark"?"claro":"oscuro"}`,children:Y==="dark"?i.jsx(Zl,{size:20}):i.jsx(Jl,{size:20})})]}),i.jsx($t,{children:i.jsx(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:`${Y==="dark"?"bg-green-900/30 border-green-600/30 text-green-200":"bg-green-100/50 border-green-300/30 text-green-800"} rounded-lg p-3 mb-6 text-center text-sm border-l-4 font-semibold`,role:"banner",children:"¡Regístrate gratis ahora!"})}),i.jsx("h2",{id:"register-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Registrarse"}),i.jsx($t,{children:w&&i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${Y==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:w})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx($l,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${Y==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{ref:A,type:"text",placeholder:"Elige un nombre de usuario",value:e,onChange:fe=>r(fe.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${Y==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Nombre de usuario",required:!0,whileFocus:{scale:1.02}})]}),i.jsxs("div",{className:"relative",children:[i.jsx(yu,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${Y==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{type:"email",placeholder:"Tu correo electrónico",value:n,onChange:fe=>s(fe.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${Y==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Correo electrónico",required:!0,whileFocus:{scale:1.02}})]}),i.jsxs("div",{className:"relative flex items-center",children:[i.jsx(sz,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${Y==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsxs("div",{className:"flex w-full",children:[i.jsx("select",{value:g.code,onChange:O,className:`flex items-center pl-3 pr-3 py-3 rounded-l-full text-sm font-medium cursor-pointer appearance-none bg-transparent border border-r-0 focus:outline-none focus:ring-2 focus:ring-blue-500/50 backdrop-blur-xl transition-all duration-300 hover:shadow-lg ${Y==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"}`,children:t.map(fe=>i.jsxs("option",{value:fe.code,children:[fe.flag," ",fe.name," (",fe.code,")"]},fe.code))}),i.jsx(Z.input,{type:"tel",placeholder:`Número de teléfono (${g.name})`,value:a,onChange:fe=>l(fe.target.value.replace(/\D/g,"")),className:`flex-1 pl-4 pr-4 py-3 rounded-r-full border border-l-0 focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg ${Y==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"}`,"aria-label":"Número de teléfono",required:!0,maxLength:g.length,whileFocus:{scale:1.02}})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(sb,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${Y==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{type:v?"text":"password",placeholder:"Elige una contraseña",value:u,onChange:fe=>d(fe.target.value),className:`w-full pl-12 pr-12 py-3 rounded-full ${Y==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Contraseña",required:!0,whileFocus:{scale:1.02}}),i.jsx("button",{onClick:L,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${Y==="dark"?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-800"} transition duration-200`,"aria-label":v?"Ocultar contraseña":"Mostrar contraseña",children:v?i.jsx(zS,{size:18}):i.jsx(HS,{size:18})})]}),i.jsxs("div",{className:"relative",children:[i.jsx($l,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${Y==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{type:"text",placeholder:"Código de referido (opcional)",value:h,onChange:fe=>p(fe.target.value.trim().toUpperCase()),className:`w-full pl-12 pr-4 py-3 rounded-full ${Y==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Código de referido",whileFocus:{scale:1.02}}),i.jsx("span",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-xs italic text-gray-500",children:"opcional"})]}),i.jsxs(Z.button,{onClick:R,disabled:D,className:`w-full bg-green-600/90 backdrop-blur-xl py-3 rounded-full ${D?"opacity-50 cursor-not-allowed":"hover:bg-green-700/95"} text-sm border ${Y==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Registrarse",whileHover:{scale:D?1:1.05},whileTap:{scale:D?1:.95},children:[D?i.jsxs(Z.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V8h8a8 8 0 01-16 0z"})]}):i.jsx(ev,{className:"mr-2"}),D?"Cargando...":"Registrarse"]})]}),i.jsxs("p",{className:`text-center text-sm mt-6 ${Y==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿Ya tienes una cuenta?"," ",i.jsx(_s,{to:"/login",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a iniciar sesión",children:"Inicia sesión aquí"})]})]})}),i.jsx("footer",{className:`${Y==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[i.jsxs("p",{className:`${Y==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-8",children:[i.jsx("a",{href:"https://twitter.com",className:`${Y==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:i.jsx(Ql,{size:24})}),i.jsx("a",{href:"https://instagram.com",className:`${Y==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:i.jsx(Xl,{size:24})}),i.jsx("a",{href:"https://facebook.com",className:`${Y==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:i.jsx(Yl,{size:24})})]})]})})]})},aH=()=>{const[t,e]=E.useState(""),[r,n]=E.useState(""),[s,a]=E.useState(""),[l,u]=E.useState(!1),[d,h]=E.useState(()=>localStorage.getItem("theme")||"dark"),p=Ma(),g=E.useRef(null);E.useEffect(()=>{localStorage.setItem("theme",d),document.documentElement.classList.toggle("dark",d==="dark")},[d]),E.useEffect(()=>{const w=tn.onAuthStateChanged(T=>{T&&p("/")});return()=>w()},[p]),E.useEffect(()=>{g.current?.focus()},[]);const y=E.useCallback(()=>t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"":"Correo electrónico inválido":"Por favor, ingresa tu correo electrónico",[t]),v=E.useCallback(async w=>{w.preventDefault();const T=y();if(T){n(T),a("");return}n(""),a(""),u(!0);try{await sF(tn,t),a("Se ha enviado un enlace de restablecimiento de contraseña a tu correo electrónico."),e("")}catch(D){n(D.code==="auth/user-not-found"?"No se encontró un usuario con este correo electrónico":D.code==="auth/invalid-email"?"Correo electrónico inválido":D.code==="auth/too-many-requests"?"Demasiados intentos. Intenta de nuevo más tarde.":"Error al enviar el enlace de restablecimiento. Por favor, intenta de nuevo.")}finally{u(!1)}},[t,y]),_=E.useCallback(()=>{h(w=>w==="dark"?"light":"dark")},[]);return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${d==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${d==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(25)].map((w,T)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},T))})]}),i.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${d==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"forgot-password-title",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(Z.img,{src:tc,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${d==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),i.jsx("button",{onClick:_,className:`p-2 rounded-full ${d==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${d==="dark"?"claro":"oscuro"}`,children:d==="dark"?i.jsx(Zl,{size:20}):i.jsx(Jl,{size:20})})]}),i.jsx("h2",{id:"forgot-password-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Recuperar Contraseña"}),i.jsxs($t,{children:[r&&i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${d==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:r}),s&&i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${d==="dark"?"bg-green-900/50 border-green-600/50":"bg-green-100/50 border-green-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-green-600 border-l-4`,role:"alert",children:s})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(yu,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${d==="dark"?"text-gray-400":"text-gray-600"}`}),i.jsx(Z.input,{ref:g,type:"email",placeholder:"Tu correo electrónico",value:t,onChange:w=>e(w.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${d==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Correo electrónico",required:!0,whileFocus:{scale:1.02}})]}),i.jsxs(Z.button,{onClick:v,disabled:l,className:`w-full bg-blue-600/90 backdrop-blur-xl py-3 rounded-full ${l?"opacity-50 cursor-not-allowed":"hover:bg-blue-700/95"} text-sm border ${d==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Enviar enlace de restablecimiento",whileHover:{scale:l?1:1.05},whileTap:{scale:l?1:.95},children:[l?i.jsxs(Z.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}):i.jsx(yu,{className:"mr-2"}),l?"Cargando...":"Enviar Enlace de Restablecimiento"]})]}),i.jsxs("div",{className:"text-center text-sm mt-6 space-y-3",children:[i.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿Ya tienes una cuenta?"," ",i.jsx(_s,{to:"/login",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a iniciar sesión",children:"Inicia sesión aquí"})]}),i.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿No tienes una cuenta?"," ",i.jsx(_s,{to:"/register",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a registrarse",children:"Regístrate aquí"})]})]})]})}),i.jsx("footer",{className:`${d==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:i.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[i.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-8",children:[i.jsx("a",{href:"https://twitter.com",className:`${d==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:i.jsx(Ql,{size:24})}),i.jsx("a",{href:"https://instagram.com",className:`${d==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:i.jsx(Xl,{size:24})}),i.jsx("a",{href:"https://facebook.com",className:`${d==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:i.jsx(Yl,{size:24})})]})]})})]})},iH=({isOpen:t,message:e,title:r,onClose:n})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:r}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(Gs,{size:20})})]}),i.jsx("p",{className:"text-gray-300 mb-6",children:e}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,n5=({isOpen:t,user:e,onClose:r,onSave:n,theme:s="dark"})=>{const a=s==="dark",[l,u]=E.useState(e?.username||""),[d,h]=E.useState(""),p={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.95,transition:{duration:.2}}},g={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},y=v=>{if(v.preventDefault(),h(""),!l.trim()){h("El nombre de usuario no puede estar vacío.");return}n(e.id,l.trim())};return t?i.jsx(Z.div,{className:`fixed inset-0 ${a?"bg-black/70":"bg-black/50"} flex items-center justify-center z-50 p-4`,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},role:"dialog","aria-modal":"true","aria-labelledby":"edit-profile-title",children:i.jsx(Z.div,{className:`rounded-2xl shadow-md w-full max-w-md border ${a?"bg-gray-900/90 border-gray-700/50":"bg-white border-gray-300"}`,variants:p,initial:"hidden",animate:"visible",exit:"exit",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{id:"edit-profile-title",className:"text-xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Editar Perfil"}),i.jsx(Z.button,{onClick:r,className:`${a?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,variants:g,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar modal",children:i.jsx(Gs,{size:20})})]}),i.jsxs("form",{onSubmit:y,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:`block mb-2 font-semibold ${a?"text-gray-300":"text-gray-700"}`,children:"Nombre de usuario"}),i.jsx("input",{type:"text",value:l,onChange:v=>u(v.target.value),className:`w-full px-4 py-2 rounded-xl ${a?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300`,required:!0,"aria-label":"Nombre de usuario"}),d&&i.jsx("p",{className:`text-sm mt-2 ${a?"text-red-400":"text-red-600"}`,children:d})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx(Z.button,{type:"button",onClick:r,className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${a?"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-400":"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:g,whileHover:"hover",whileTap:"tap","aria-label":"Cancelar edición",children:"Cancelar"}),i.jsx(Z.button,{type:"submit",className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${a?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:g,whileHover:"hover",whileTap:"tap","aria-label":"Guardar perfil",children:"Guardar"})]})]})]})})}):null};n5.propTypes={isOpen:G.bool.isRequired,user:G.shape({id:G.string.isRequired,username:G.string.isRequired}).isRequired,onClose:G.func.isRequired,onSave:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const s5=({isOpen:t,provider:e,onClose:r,onRate:n,theme:s="dark"})=>{const a=s==="dark",[l,u]=E.useState(0),[d,h]=E.useState(""),p={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}}},g={hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.2}}},y={hover:{scale:1.2,y:-5,transition:{duration:.2,type:"spring"}},tap:{scale:.95}},v={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},_=T=>{if(T.preventDefault(),h(""),l<1||l>5){h("Por favor, selecciona una calificación entre 1 y 5 estrellas.");return}n(e.id,l),u(0)},w=T=>{u(T),h("")};return t?i.jsx($t,{children:i.jsx(Z.div,{className:`fixed inset-0 ${a?"bg-black/70 backdrop-blur-sm":"bg-black/50 backdrop-blur-sm"} flex items-center justify-center z-50 p-4`,variants:p,initial:"hidden",animate:"visible",exit:"exit",onClick:r,role:"dialog","aria-modal":"true","aria-labelledby":"rate-provider-title",children:i.jsx(Z.div,{className:`rounded-3xl shadow-2xl w-full max-w-md border ${a?"bg-gradient-to-br from-gray-900/95 to-gray-800/95 border-gray-700/50":"bg-gradient-to-br from-white to-gray-50 border-gray-200/50"}`,variants:g,initial:"hidden",animate:"visible",exit:"exit",onClick:T=>T.stopPropagation(),children:i.jsxs("div",{className:"p-6 sm:p-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx(Z.h2,{id:"rate-provider-title",className:`text-xl sm:text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${a?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{x:-10},animate:{x:0},transition:{duration:.5},children:"Calificar Proveedor"}),i.jsx(Z.button,{onClick:r,className:`p-2 rounded-2xl ${a?"text-gray-400 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200 hover:text-gray-900"} transition-all duration-300`,variants:v,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar modal",children:i.jsx(Gs,{size:20})})]}),i.jsxs("form",{onSubmit:_,className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:`inline-flex items-center gap-2 p-3 rounded-2xl mb-4 ${a?"bg-gray-800/50":"bg-gray-100"}`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:i.jsx(Ns,{className:"text-white text-sm"})}),i.jsx("span",{className:`font-semibold ${a?"text-white":"text-gray-900"}`,children:e.name})]}),i.jsx("div",{className:"flex justify-center space-x-1 mb-4",children:[1,2,3,4,5].map(T=>i.jsx(Z.button,{type:"button",onClick:()=>w(T),className:`p-1 focus:outline-none focus:ring-2 focus:ring-yellow-500/50 rounded-full transition-all duration-200 ${T<=l?a?"text-yellow-400 hover:text-yellow-300":"text-yellow-600 hover:text-yellow-500":a?"text-gray-500 hover:text-gray-400":"text-gray-400 hover:text-gray-500"}`,variants:y,whileHover:"hover",whileTap:"tap","aria-label":`Seleccionar ${T} estrella${T>1?"s":""}`,children:i.jsx(Tu,{size:28})},T))}),i.jsx("p",{className:`text-sm font-medium ${a?"text-gray-300":"text-gray-700"}`,children:l>0?`Calificación seleccionada: ${l} estrella${l>1?"s":""}`:"Selecciona una calificación"})]}),d&&i.jsx(Z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`p-3 rounded-xl ${a?"bg-red-900/50 border border-red-500/30 text-red-300":"bg-red-50 border border-red-200 text-red-700"}`,children:d}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200/50 dark:border-gray-700/50",children:[i.jsx(Z.button,{type:"button",onClick:r,className:`px-6 py-3 rounded-2xl font-semibold transition-all duration-300 ${a?"bg-gray-600/70 hover:bg-gray-700/80 text-white focus:ring-gray-500/50":"bg-gray-400/70 hover:bg-gray-500/80 text-white focus:ring-gray-500/50"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:v,whileHover:"hover",whileTap:"tap","aria-label":"Cancelar calificación",children:"Cancelar"}),i.jsxs(Z.button,{type:"submit",disabled:l===0,className:`px-6 py-3 rounded-2xl font-semibold flex items-center gap-2 transition-all duration-300 ${l>0?a?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-400":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-500":a?"bg-gray-600/70 text-gray-400 cursor-not-allowed":"bg-gray-400/70 text-gray-500 cursor-not-allowed"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:v,whileHover:l>0?"hover":{},whileTap:l>0?"tap":{},"aria-label":"Enviar calificación",children:[i.jsx(Tu,{size:18,className:"text-yellow-400"}),i.jsx("span",{children:"Enviar Calificación"})]})]})]})]})})})}):null};s5.propTypes={isOpen:G.bool.isRequired,provider:G.shape({id:G.string.isRequired,name:G.string.isRequired}).isRequired,onClose:G.func.isRequired,onRate:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const oH=({userName:t,email:e,balance:r,orders:n,notifications:s,setActivePage:a,formatDate:l,theme:u="dark"})=>{const d=u==="dark",h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${d?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r ${d?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Bienvenido, ",i.jsx("span",{className:"text-red-400",children:t.username})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-blue-400":"text-blue-600"}`,children:[i.jsx(Ns,{size:20}),"Información de cuenta"]}),i.jsxs("div",{className:`space-y-4 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx(Ns,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsx("span",{className:"font-medium",children:t.username})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx(Hr,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsx("span",{className:"font-medium",children:e})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx(y0,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsx("span",{className:"font-medium",children:t.phone||"No especificado"})]})]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-green-400":"text-green-600"}`,children:[i.jsx(y0,{size:20}),"Saldo disponible"]}),i.jsxs("p",{className:`text-4xl font-bold ${d?"text-white":"text-gray-900"}`,children:["S/ ",r.toFixed(2)]}),i.jsx(Z.button,{onClick:()=>a("recargar"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 ${d?"from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Recargar Saldo"})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-purple-400":"text-purple-600"}`,children:[i.jsx(Hr,{size:20}),"Pedidos activos"]}),i.jsx("p",{className:`text-4xl font-bold ${d?"text-white":"text-gray-900"}`,children:n.filter(g=>new Date(g.endDate)>new Date&&(g.status==="completed"||g.status==="active")).length}),i.jsx(Z.button,{onClick:()=>a("pedidos"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${d?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver Pedidos"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-white":"text-gray-900"}`,children:[i.jsx(Hr,{size:20}),"Pedidos recientes"]}),i.jsx($t,{children:n.length>0?n.slice(0,3).map((g,y)=>{const v=new Date(g.endDate)>new Date&&(g.status==="completed"||g.status==="active"),_=g.status==="pending";return i.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:y*.1},className:`mb-4 p-4 rounded-xl transition-all duration-300 border ${d?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,whileHover:{scale:1.02},children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:`font-semibold ${d?"text-white":"text-gray-900"}`,children:g.productName||"Producto sin nombre"}),i.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${g.status==="pending"?d?"bg-yellow-900/80 text-yellow-300 border border-yellow-500/30":"bg-yellow-100 text-yellow-800 border border-yellow-300":v?d?"bg-green-900/80 text-green-300 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300":d?"bg-red-900/80 text-red-300 border border-red-500/30":"bg-red-100 text-red-800 border border-red-300"}`,children:_?"A pedido":v?"Activo":"Expirado"})]}),i.jsxs("p",{className:`text-sm ${d?"text-gray-400":"text-gray-600"}`,children:["Vence: ",l(g.endDate)]})]},g.id)}):i.jsx(Z.p,{initial:{opacity:0},animate:{opacity:1},className:`py-8 text-center ${d?"text-gray-400":"text-gray-500"}`,children:"No tienes pedidos recientes"})}),n.length>3&&i.jsx(Z.button,{onClick:()=>a("pedidos"),className:`w-full mt-4 px-6 py-3 text-center text-sm transition-all duration-300 rounded-xl border-2 font-medium ${d?"border-blue-500/50 text-blue-400 hover:bg-blue-500/10":"border-blue-500/50 text-blue-600 hover:bg-blue-500/10"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver todos los pedidos"})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-white":"text-gray-900"}`,children:[i.jsx(la,{size:20}),"Notificaciones"]}),i.jsx($t,{children:s.length>0?s.map((g,y)=>i.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,delay:y*.1},className:`mb-4 p-4 rounded-xl transition-all duration-300 border ${d?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,whileHover:{scale:1.02},children:[i.jsx("p",{className:`font-medium ${d?"text-gray-300":"text-gray-700"}`,children:g.message}),i.jsx("p",{className:`text-xs mt-2 ${d?"text-gray-400":"text-gray-500"}`,children:l(g.updatedAt?.toDate?.()||new Date)})]},g.id)):i.jsx(Z.p,{initial:{opacity:0},animate:{opacity:1},className:`py-8 text-center ${d?"text-gray-400":"text-gray-500"}`,children:"No hay notificaciones"})})]})]}),i.jsxs(Z.div,{className:`rounded-3xl p-6 shadow-2xl border backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-xl font-bold mb-6 flex items-center gap-2 ${d?"text-white":"text-gray-900"}`,children:[i.jsx(Hr,{size:24}),"Únete a nuestros grupos"]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{href:"https://chat.whatsapp.com/IG8v1E00lAD6RIOo7ZB5Kv",icon:Hr,title:"Avisos",subtitle:"Grupo de WhatsApp",color:"from-green-500 to-emerald-600"},{href:"https://chat.whatsapp.com/Gs6kTW4DBTi7dEMhnZV1yb",icon:Hr,title:"General",subtitle:"Grupo de WhatsApp",color:"from-blue-500 to-cyan-600"},{href:"https://chat.whatsapp.com/BqCOR6w8002695hbYXf5KA",icon:Hr,title:"Publicidad",subtitle:"Grupo de WhatsApp",color:"from-purple-500 to-pink-600"}].map((g,y)=>i.jsxs(Z.a,{href:g.href,target:"_blank",rel:"noopener noreferrer",className:`flex items-center p-4 rounded-2xl transition-all duration-300 border group ${d?"bg-gray-700/50 hover:bg-gray-600/70 border-gray-600/50":"bg-gray-200/50 hover:bg-gray-300/70 border-gray-300/50"}`,whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:[i.jsx(Z.div,{className:`flex-shrink-0 p-3 rounded-xl mr-4 bg-gradient-to-br ${g.color} text-white shadow-lg`,whileHover:{scale:1.1},children:i.jsx(g.icon,{size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:`font-semibold ${d?"text-white":"text-gray-900"} group-hover:text-blue-500 transition-colors`,children:g.title}),i.jsx("p",{className:`text-sm ${d?"text-gray-300":"text-gray-600"}`,children:g.subtitle})]})]},y))})]})]})},a5=({notifications:t,formatDate:e,theme:r="dark"})=>{const n=r==="dark",s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${n?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:s,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"notifications-title",children:[i.jsxs(Z.h3,{id:"notifications-title",className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${n?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Notificaciones",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${n?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:t.length})]}),i.jsx($t,{children:t.length>0?i.jsx(Z.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.map((l,u)=>i.jsx(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm transition-all duration-300 ${n?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:a,whileHover:"hover",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:u*.1},"aria-labelledby":`notification-${l.id}-title`,children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex-shrink-0 pt-1",children:i.jsx(x0,{className:`text-xl ${n?"text-blue-400":"text-blue-600"}`})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{id:`notification-${l.id}-title`,className:`font-semibold text-base ${n?"text-white":"text-gray-900"} mb-2`,children:l.message}),i.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:e(l.updatedAt?.toDate?.()||new Date)})]})]})},l.id))}):i.jsxs(Z.div,{className:"text-center py-16",variants:a,initial:"hidden",animate:"visible",children:[i.jsx(Z.div,{className:`mx-auto w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center mb-6 shadow-lg ${n?"bg-gray-700/50":"bg-gray-200/50"}`,animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(x0,{className:"text-white",size:32})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"No hay notificaciones"}),i.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"No tienes mensajes nuevos. ¡Vuelve pronto para ver actualizaciones!"})]})})]})};a5.propTypes={notifications:G.arrayOf(G.shape({id:G.string.isRequired,message:G.string.isRequired,updatedAt:G.oneOfType([G.instanceOf(Date),G.shape({toDate:G.func})])})).isRequired,formatDate:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const lH="/assets/yape-sz-AlRxCLbv.png",cH="/assets/binance-sz-Dr2mTMHV.png",i5=({amount:t,setAmount:e,topUps:r,actionLoading:n,handleTopUpRequest:s,formatDate:a,theme:l="dark"})=>{const u=l==="dark",[d,h]=E.useState("PEN"),[p,g]=E.useState(3.75),[y,v]=E.useState(!1),[_,w]=E.useState(!1),[T,D]=E.useState(""),[I,z]=E.useState(5),F={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}}};E.useEffect(()=>{(async()=>{v(!0),w(!1);try{const L=await fetch("https://api.exchangerate-api.com/v4/latest/USD");if(!L.ok)throw new Error("API request failed");const fe=(await L.json()).rates.PEN||3.75;g(fe*1.1)}catch(L){console.error("Error fetching exchange rate:",L),w(!0)}finally{v(!1)}})()},[]),E.useEffect(()=>{const M=Math.ceil(I/(p/1.1));z(d==="PEN"?5:M)},[d,p]),E.useEffect(()=>{const M=parseFloat(T);if(isNaN(M))e("");else{const L=d==="USD"?M*p:M;e(L.toFixed(2))}},[T,d,p,e]);const Y=M=>{const L=M.target.value;(/^\d*\.?\d{0,2}$/.test(L)||L==="")&&D(L)},U=parseFloat(T),S=d==="USD"?U*p:U,A=isNaN(S)?"0.00":S.toFixed(2),j=!isNaN(U)&&U>=I,R=`Hola 😊, he realizado una recarga a través de ${d==="PEN"?"Yape":"Binance"} por ${d==="PEN"?`S/ ${A}`:`$ ${U?.toFixed(2)||"0.00"} (equivalente a S/ ${A})`}. Por favor, confirma mi pago.`;return i.jsxs(Z.div,{className:"space-y-8 max-w-6xl mx-auto px-4 sm:px-0",variants:F,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"topup-title",children:[i.jsxs("div",{className:`p-6 sm:p-8 rounded-3xl shadow-md border ${u?"bg-gray-900/80 border-gray-700/30":"bg-white border-gray-300"}`,children:[i.jsx("h3",{id:"topup-title",className:"text-2xl sm:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-6 text-center",children:"Recargar saldo"}),i.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Moneda"}),i.jsxs("select",{value:d,onChange:M=>{h(M.target.value),D(""),e("")},className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300`,"aria-label":"Seleccionar moneda",children:[i.jsx("option",{value:"PEN",children:"S/ (PEN)"}),i.jsx("option",{value:"USD",children:"$ (USD)"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:["Monto a recargar (",d==="PEN"?"S/":"$",")"]}),i.jsx("input",{type:"number",value:T,onChange:Y,className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 ${!j&&T?"border-red-500 focus:ring-red-400":""}`,placeholder:`Mínimo ${d==="PEN"?"S/ 5.00":`$${I.toFixed(2)}`}`,min:I,step:"0.01","aria-label":`Monto a recargar en ${d}`,"aria-invalid":!j&&T}),d==="USD"&&!isNaN(U)&&i.jsxs("p",{className:`text-sm mt-2 ${_?"text-red-400":u?"text-gray-400":"text-gray-600"}`,children:[_?"Error al cargar tasa. Usando tasa por defecto.":`Equivalente: S/ ${A} (Tasa: 1 USD ≈ ${p.toFixed(2)} PEN)`,y&&" (Cargando tasa...)"]}),!j&&T&&i.jsxs("p",{className:"text-sm text-red-400 mt-1",children:["Monto mínimo: ",d==="PEN"?"S/ 5.00":`$${I.toFixed(2)}`]})]}),i.jsx(Z.button,{onClick:s,disabled:n.topUp||!j,className:`w-full py-3 px-4 rounded-xl font-medium text-lg transition-all duration-300 ${j&&!n.topUp?u?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500":"bg-gray-300 text-gray-500 cursor-not-allowed"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,whileHover:{scale:j&&!n.topUp?1.05:1},whileTap:{scale:j&&!n.topUp?.95:1},"aria-label":"Solicitar recarga",children:n.topUp?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin h-6 w-6 border-3 border-white rounded-full border-t-transparent mr-2"}),"Procesando..."]}):"Solicitar recarga"})]}),i.jsx("div",{className:`mt-8 p-6 rounded-2xl border ${u?"bg-gray-800/50 border-gray-700/30":"bg-gray-100 border-gray-300"} max-w-lg mx-auto`,children:i.jsxs(Z.div,{className:"animate-fade-in",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[i.jsxs("h4",{className:`text-lg font-semibold ${u?"text-blue-400":"text-blue-600"} mb-4 flex items-center`,children:[i.jsx(zs,{className:"mr-2"})," Pago con ",d==="PEN"?"Yape":"Binance"]}),i.jsxs("p",{className:`mb-3 ${u?"text-gray-300":"text-gray-700"}`,children:["Escanea el código QR",d==="PEN"?" o usa Yape con el número:":"."]}),d==="PEN"&&i.jsx("p",{className:`text-xl font-bold ${u?"text-white":"text-gray-900"} mb-3 text-center`,children:"📱 990477711"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:`p-4 rounded-xl shadow-md ${u?"bg-white border-4 border-blue-600":"bg-white border border-gray-300"}`,children:i.jsx("img",{src:d==="PEN"?lH:cH,alt:`${d==="PEN"?"Yape":"Binance"} QR Code`,className:"w-48 h-48 object-contain",loading:"lazy"})})}),i.jsxs("p",{className:`mb-4 ${u?"text-gray-300":"text-gray-700"} text-center`,children:["Realiza el pago de ",d==="PEN"?`S/ ${A}`:`$ ${U?.toFixed(2)||"0.00"} (S/ ${A})`,". Confirma tu recarga vía WhatsApp."]}),i.jsxs(Z.a,{href:`https://wa.me/51940990278?text=${encodeURIComponent(R)}`,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center justify-center w-full px-6 py-3 rounded-xl font-medium transition-all duration-300 ${u?"bg-green-500 hover:bg-green-600 text-white focus:ring-green-400":"bg-green-500 hover:bg-green-600 text-white focus:ring-green-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Confirmar pago por WhatsApp con ${d==="PEN"?"Yape":"Binance"}`,children:[i.jsx(Hr,{className:"mr-2"})," Confirmar por WhatsApp"]})]})})]}),i.jsxs("div",{className:`p-6 sm:p-8 rounded-3xl shadow-md border ${u?"bg-gray-900/80 border-gray-700/30":"bg-white border-gray-300"}`,children:[i.jsx("h3",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-6 text-center",children:"Historial de recargas"}),r.length>0?i.jsx("div",{className:"overflow-x-auto rounded-xl border",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${u?"bg-gray-800/50":"bg-gray-100"}`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Monto"}),i.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),i.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"})]})}),i.jsx("tbody",{className:`${u?"bg-gray-800/50":"bg-white"} divide-y ${u?"divide-gray-600/50":"divide-gray-200"}`,children:r.map(M=>{const L=M.status==="aprobado"?"Aprobado":M.status==="pendiente"?"Pendiente":"Rechazado",O=M.status==="aprobado"?"green":M.status==="pendiente"?"yellow":"red";return i.jsxs("tr",{className:`${u?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,children:[i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap font-medium ${u?"text-white":"text-gray-900"}`,children:["S/ ",M.amount.toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full capitalize ${u?`bg-${O}-900/80 text-${O}-400`:`bg-${O}-500/20 text-${O}-600`}`,children:L})}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${u?"text-gray-400":"text-gray-600"}`,children:a(M.date)})]},M.id)})})]})}):i.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-12",children:[i.jsx(zs,{className:`mx-auto text-4xl ${u?"text-gray-400":"text-gray-500"} mb-4`}),i.jsx("p",{className:`text-lg ${u?"text-gray-400":"text-gray-600"}`,children:"No hay recargas registradas"})]})]})]})};i5.propTypes={amount:G.oneOfType([G.string,G.number]).isRequired,setAmount:G.func.isRequired,topUps:G.arrayOf(G.shape({id:G.string.isRequired,amount:G.oneOfType([G.string,G.number]).isRequired,status:G.string.isRequired,date:G.oneOfType([G.instanceOf(Date),G.string]).isRequired})).isRequired,actionLoading:G.shape({topUp:G.bool}).isRequired,handleTopUpRequest:G.func.isRequired,formatDate:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const o5=({providers:t,openRateProviderModal:e,deleteRatingProvider:r,theme:n="dark"})=>{const s=n==="dark",a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},l={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${s?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:a,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"providers-title",children:[i.jsxs(Z.h3,{id:"providers-title",className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${s?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Proveedores",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${s?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:t.length})]}),i.jsx($t,{children:t.length>0?i.jsx(Z.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.map((u,d)=>i.jsx(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm transition-all duration-300 ${s?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:l,whileHover:"hover","aria-labelledby":`provider-${u.id}-title`,children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:i.jsx(Ns,{className:"text-white",size:24})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{id:`provider-${u.id}-title`,className:`font-bold text-lg ${s?"text-white":"text-gray-900"}`,children:u.name}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(y0,{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`}),i.jsx("span",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:u.phone})]}),u.hasRated&&i.jsx("div",{className:"flex items-center gap-2 mt-2",children:i.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((h,p)=>i.jsx(Tu,{size:16,className:`${p<u.rating?"text-yellow-400 fill-current":s?"text-gray-600":"text-gray-400"}`},p))})})]})]}),u.hasRated?i.jsxs(Z.button,{onClick:()=>r(u),className:`px-4 py-2 rounded-xl font-semibold transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${s?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-400":"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-500"}`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Eliminar valoración del proveedor ${u.name}`,children:[i.jsx(cb,{size:16}),i.jsx("span",{className:"hidden sm:inline",children:"Eliminar"})]}):i.jsxs(Z.button,{onClick:()=>e(u),className:`px-6 py-3 rounded-xl font-semibold transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${s?"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white focus:ring-purple-400":"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white focus:ring-purple-500"}`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Calificar al proveedor ${u.name}`,children:[i.jsx(Tu,{size:18}),i.jsx("span",{children:"Calificar"})]})]})},u.id))}):i.jsxs(Z.div,{className:"text-center py-16",variants:l,initial:"hidden",animate:"visible",children:[i.jsx(Z.div,{className:`mx-auto w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center mb-6 shadow-lg ${s?"bg-gray-700/50":"bg-gray-200/50"}`,animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:i.jsx(Ns,{className:"text-white",size:32})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${s?"text-gray-300":"text-gray-700"}`,children:"No hay proveedores"}),i.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"No has realizado compras con proveedores aún. ¡Tu primer pedido desbloqueará esta sección!"})]})})]})};o5.propTypes={providers:G.arrayOf(G.shape({id:G.string.isRequired,name:G.string.isRequired,phone:G.string.isRequired,hasRated:G.bool.isRequired,rating:G.number})).isRequired,openRateProviderModal:G.func.isRequired,deleteRatingProvider:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Op={};Op.version="0.18.5";var l5=1252,uH=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],c5=function(t){uH.indexOf(t)!=-1&&(l5=t)};function dH(){c5(1252)}var v0=function(t){c5(t)};function hH(){v0(1200),dH()}var Nf=function(e){return String.fromCharCode(e)},lT=function(e){return String.fromCharCode(e)},Fp,So="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function b0(t){for(var e="",r=0,n=0,s=0,a=0,l=0,u=0,d=0,h=0;h<t.length;)r=t.charCodeAt(h++),a=r>>2,n=t.charCodeAt(h++),l=(r&3)<<4|n>>4,s=t.charCodeAt(h++),u=(n&15)<<2|s>>6,d=s&63,isNaN(n)?u=d=64:isNaN(s)&&(d=64),e+=So.charAt(a)+So.charAt(l)+So.charAt(u)+So.charAt(d);return e}function Wi(t){var e="",r=0,n=0,s=0,a=0,l=0,u=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<t.length;)a=So.indexOf(t.charAt(h++)),l=So.indexOf(t.charAt(h++)),r=a<<2|l>>4,e+=String.fromCharCode(r),u=So.indexOf(t.charAt(h++)),n=(l&15)<<4|u>>2,u!==64&&(e+=String.fromCharCode(n)),d=So.indexOf(t.charAt(h++)),s=(u&3)<<6|d,d!==64&&(e+=String.fromCharCode(s));return e}var dr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Yi=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Bl(t){return dr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function cT(t){return dr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Aa=function(e){return dr?Yi(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Dm(t){if(typeof ArrayBuffer>"u")return Aa(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function X0(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function fH(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Vn=dr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Yi(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),s=0;for(e=0,r=0;e<t.length;r+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function pH(t){for(var e=[],r=0,n=t.length+250,s=Bl(t.length+255),a=0;a<t.length;++a){var l=t.charCodeAt(a);if(l<128)s[r++]=l;else if(l<2048)s[r++]=192|l>>6&31,s[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var u=t.charCodeAt(++a)&1023;s[r++]=240|l>>8&7,s[r++]=128|l>>2&63,s[r++]=128|u>>6&15|(l&3)<<4,s[r++]=128|u&63}else s[r++]=224|l>>12&15,s[r++]=128|l>>6&63,s[r++]=128|l&63;r>n&&(e.push(s.slice(0,r)),r=0,s=Bl(65535),n=65530)}return e.push(s.slice(0,r)),Vn(e)}var Gd=/\u0000/g,Af=/[\u0001-\u0006]/g;function iu(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function ja(t,e){var r=""+t;return r.length>=e?r:Xr("0",e-r.length)+r}function ub(t,e){var r=""+t;return r.length>=e?r:Xr(" ",e-r.length)+r}function Lp(t,e){var r=""+t;return r.length>=e?r:r+Xr(" ",e-r.length)}function mH(t,e){var r=""+Math.round(t);return r.length>=e?r:Xr("0",e-r.length)+r}function gH(t,e){var r=""+t;return r.length>=e?r:Xr("0",e-r.length)+r}var uT=Math.pow(2,32);function $c(t,e){if(t>uT||t<-uT)return mH(t,e);var r=Math.round(t);return gH(r,e)}function Mp(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var dT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Xx=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function xH(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var Qr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},hT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},yH={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Vp(t,e,r){for(var n=t<0?-1:1,s=t*n,a=0,l=1,u=0,d=1,h=0,p=0,g=Math.floor(s);h<e&&(g=Math.floor(s),u=g*l+a,p=g*h+d,!(s-g<5e-8));)s=1/(s-g),a=l,l=u,d=h,h=p;if(p>e&&(h>e?(p=d,u=a):(p=h,u=l)),!r)return[0,n*u,p];var y=Math.floor(n*u/p);return[y,n*u-y*p,p]}function Sf(t,e,r){if(t>2958465||t<0)return null;var n=t|0,s=Math.floor(86400*(t-n)),a=0,l=[],u={D:n,T:s,u:86400*(t-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),e&&e.date1904&&(n+=1462),u.u>.9999&&(u.u=0,++s==86400&&(u.T=s=0,++n,++u.D)),n===60)l=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),l=[d.getFullYear(),d.getMonth()+1,d.getDate()],a=d.getDay(),n<60&&(a=(a+6)%7),r&&(a=kH(d,l))}return u.y=l[0],u.m=l[1],u.d=l[2],u.S=s%60,s=Math.floor(s/60),u.M=s%60,s=Math.floor(s/60),u.H=s,u.q=a,u}var u5=new Date(1899,11,31,0,0,0),vH=u5.getTime(),bH=new Date(1900,2,1,0,0,0);function d5(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=bH&&(r+=1440*60*1e3),(r-(vH+(t.getTimezoneOffset()-u5.getTimezoneOffset())*6e4))/(1440*60*1e3)}function db(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function wH(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function _H(t){var e=t<0?12:11,r=db(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function EH(t){var e=db(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function TH(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=_H(t):e===10?r=t.toFixed(10).substr(0,12):r=EH(t),db(wH(r.toUpperCase()))}function tv(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):TH(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Wo(14,d5(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function kH(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function NH(t,e,r,n){var s="",a=0,l=0,u=r.y,d,h=0;switch(t){case 98:u=r.y+543;case 121:switch(e.length){case 1:case 2:d=u%100,h=2;break;default:d=u%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:d=r.m,h=e.length;break;case 3:return Xx[r.m-1][1];case 5:return Xx[r.m-1][0];default:return Xx[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=r.d,h=e.length;break;case 3:return dT[r.q][0];default:return dT[r.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(r.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=r.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=r.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?ja(r.S,e.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,a=Math.round(l*(r.S+r.u)),a>=60*l&&(a=0),e==="s"?a===0?"0":""+a/l:(s=ja(a,2+n),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:d=u,h=1;break}var p=h>0?ja(d,h):"";return p}function Co(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var h5=/%/g;function AH(t,e,r){var n=e.replace(h5,""),s=e.length-n.length;return Oi(t,n,r*Math.pow(10,2*s))+Xr("%",s)}function SH(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Oi(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function f5(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+f5(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(e/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),r.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+a):r+="E+"+(l-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,h,p){return d+h+p.substr(0,(s+a)%s)+"."+p.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var p5=/# (\?+)( ?)\/( ?)(\d+)/;function CH(t,e,r){var n=parseInt(t[4],10),s=Math.round(e*n),a=Math.floor(s/n),l=s-a*n,u=n;return r+(a===0?"":""+a)+" "+(l===0?Xr(" ",t[1].length+1+t[4].length):ub(l,t[1].length)+t[2]+"/"+t[3]+ja(u,t[4].length))}function jH(t,e,r){return r+(e===0?"":""+e)+Xr(" ",t[1].length+2+t[4].length)}var m5=/^#*0*\.([0#]+)/,g5=/\).*[0#]/,x5=/\(###\) ###\\?-####/;function os(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function fT(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function pT(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function IH(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function PH(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function sa(t,e,r){if(t.charCodeAt(0)===40&&!e.match(g5)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?sa("n",n,r):"("+sa("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return SH(t,e,r);if(e.indexOf("%")!==-1)return AH(t,e,r);if(e.indexOf("E")!==-1)return f5(e,r);if(e.charCodeAt(0)===36)return"$"+sa(t,e.substr(e.charAt(1)==" "?2:1),r);var s,a,l,u,d=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+$c(d,e.length);if(e.match(/^[#?]+$/))return s=$c(r,0),s==="0"&&(s=""),s.length>e.length?s:os(e.substr(0,e.length-s.length))+s;if(a=e.match(p5))return CH(a,d,h);if(e.match(/^#+0+$/))return h+$c(d,e.length-e.indexOf("0"));if(a=e.match(m5))return s=fT(r,a[1].length).replace(/^([^\.]+)$/,"$1."+os(a[1])).replace(/\.$/,"."+os(a[1])).replace(/\.(\d*)$/,function(_,w){return"."+w+Xr("0",os(a[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return h+fT(d,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return h+Co($c(d,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+sa(t,e,-r):Co(""+(Math.floor(r)+IH(r,a[1].length)))+"."+ja(pT(r,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return sa(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=iu(sa(t,e.replace(/[\\-]/g,""),r)),l=0,iu(iu(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return l<s.length?s.charAt(l++):_==="0"?"0":""}));if(e.match(x5))return s=sa(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),u=Vp(d,Math.pow(10,l)-1,!1),s=""+h,p=Oi("n",a[1],u[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+a[2]+"/"+a[3],p=Lp(u[2],l),p.length<a[4].length&&(p=os(a[4].substr(a[4].length-p.length))+p),s+=p,s;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),u=Vp(d,Math.pow(10,l)-1,!0),h+(u[0]||(u[1]?"":"0"))+" "+(u[1]?ub(u[1],l)+a[2]+"/"+a[3]+Lp(u[2],l):Xr(" ",2*l+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return s=$c(r,0),e.length<=s.length?s:os(e.substr(0,e.length-s.length))+s;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=s.indexOf(".");var g=e.indexOf(".")-l,y=e.length-s.length-g;return os(e.substr(0,g)+s+e.substr(e.length-y))}if(a=e.match(/^00,000\.([#0]*0)$/))return l=pT(r,a[1].length),r<0?"-"+sa(t,e,-r):Co(PH(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?ja(0,3-_.length):"")+_})+"."+ja(l,a[1].length);switch(e){case"###,##0.00":return sa(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var v=Co($c(d,0));return v!=="0"?h+v:"";case"###,###.00":return sa(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return sa(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function RH(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Oi(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function DH(t,e,r){var n=e.replace(h5,""),s=e.length-n.length;return Oi(t,n,r*Math.pow(10,2*s))+Xr("%",s)}function y5(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+y5(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%s;if(a<0&&(a+=s),r=(e/Math.pow(10,a)).toPrecision(n+1+(s+a)%s),!r.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+a):r+="E+"+(l-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,h,p){return d+h+p.substr(0,(s+a)%s)+"."+p.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ya(t,e,r){if(t.charCodeAt(0)===40&&!e.match(g5)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ya("n",n,r):"("+Ya("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return RH(t,e,r);if(e.indexOf("%")!==-1)return DH(t,e,r);if(e.indexOf("E")!==-1)return y5(e,r);if(e.charCodeAt(0)===36)return"$"+Ya(t,e.substr(e.charAt(1)==" "?2:1),r);var s,a,l,u,d=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+ja(d,e.length);if(e.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>e.length?s:os(e.substr(0,e.length-s.length))+s;if(a=e.match(p5))return jH(a,d,h);if(e.match(/^#+0+$/))return h+ja(d,e.length-e.indexOf("0"));if(a=e.match(m5))return s=(""+r).replace(/^([^\.]+)$/,"$1."+os(a[1])).replace(/\.$/,"."+os(a[1])),s=s.replace(/\.(\d*)$/,function(_,w){return"."+w+Xr("0",os(a[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return h+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return h+Co(""+d);if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ya(t,e,-r):Co(""+r)+"."+Xr("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Ya(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=iu(Ya(t,e.replace(/[\\-]/g,""),r)),l=0,iu(iu(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return l<s.length?s.charAt(l++):_==="0"?"0":""}));if(e.match(x5))return s=Ya(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),u=Vp(d,Math.pow(10,l)-1,!1),s=""+h,p=Oi("n",a[1],u[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+a[2]+"/"+a[3],p=Lp(u[2],l),p.length<a[4].length&&(p=os(a[4].substr(a[4].length-p.length))+p),s+=p,s;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),u=Vp(d,Math.pow(10,l)-1,!0),h+(u[0]||(u[1]?"":"0"))+" "+(u[1]?ub(u[1],l)+a[2]+"/"+a[3]+Lp(u[2],l):Xr(" ",2*l+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return s=""+r,e.length<=s.length?s:os(e.substr(0,e.length-s.length))+s;if(a=e.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=s.indexOf(".");var g=e.indexOf(".")-l,y=e.length-s.length-g;return os(e.substr(0,g)+s+e.substr(e.length-y))}if(a=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ya(t,e,-r):Co(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?ja(0,3-_.length):"")+_})+"."+ja(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var v=Co(""+d);return v!=="0"?h+v:"";default:if(e.match(/\.[0#?]*$/))return Ya(t,e.slice(0,e.lastIndexOf(".")),r)+os(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Oi(t,e,r){return(r|0)===r?Ya(t,e,r):sa(t,e,r)}function OH(t){for(var e=[],r=!1,n=0,s=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(s,n-s),s=n+1}if(e[e.length]=t.substr(s),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var v5=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function b5(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":Mp(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(v5))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function FH(t,e,r,n){for(var s=[],a="",l=0,u="",d="t",h,p,g,y="H";l<t.length;)switch(u=t.charAt(l)){case"G":if(!Mp(t,l))throw new Error("unrecognized character "+u+" in "+t);s[s.length]={t:"G",v:"General"},l+=7;break;case'"':for(a="";(g=t.charCodeAt(++l))!==34&&l<t.length;)a+=String.fromCharCode(g);s[s.length]={t:"t",v:a},++l;break;case"\\":var v=t.charAt(++l),_=v==="("||v===")"?v:"t";s[s.length]={t:_,v},++l;break;case"_":s[s.length]={t:"t",v:" "},l+=2;break;case"@":s[s.length]={t:"T",v:e},++l;break;case"B":case"b":if(t.charAt(l+1)==="1"||t.charAt(l+1)==="2"){if(h==null&&(h=Sf(e,r,t.charAt(l+1)==="2"),h==null))return"";s[s.length]={t:"X",v:t.substr(l,2)},d=u,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=Sf(e,r),h==null))return"";for(a=u;++l<t.length&&t.charAt(l).toLowerCase()===u;)a+=u;u==="m"&&d.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=y),s[s.length]={t:u,v:a},d=u;break;case"A":case"a":case"上":var w={t:u,v:u};if(h==null&&(h=Sf(e,r)),t.substr(l,3).toUpperCase()==="A/P"?(h!=null&&(w.v=h.H>=12?"P":"A"),w.t="T",y="h",l+=3):t.substr(l,5).toUpperCase()==="AM/PM"?(h!=null&&(w.v=h.H>=12?"PM":"AM"),w.t="T",l+=5,y="h"):t.substr(l,5).toUpperCase()==="上午/下午"?(h!=null&&(w.v=h.H>=12?"下午":"上午"),w.t="T",l+=5,y="h"):(w.t="t",++l),h==null&&w.t==="T")return"";s[s.length]=w,d=u;break;case"[":for(a=u;t.charAt(l++)!=="]"&&l<t.length;)a+=t.charAt(l);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(v5)){if(h==null&&(h=Sf(e,r),h==null))return"";s[s.length]={t:"Z",v:a.toLowerCase()},d=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",b5(t)||(s[s.length]={t:"t",v:a}));break;case".":if(h!=null){for(a=u;++l<t.length&&(u=t.charAt(l))==="0";)a+=u;s[s.length]={t:"s",v:a};break}case"0":case"#":for(a=u;++l<t.length&&"0#?.,E+-%".indexOf(u=t.charAt(l))>-1;)a+=u;s[s.length]={t:"n",v:a};break;case"?":for(a=u;t.charAt(++l)===u;)a+=u;s[s.length]={t:u,v:a},d=u;break;case"*":++l,(t.charAt(l)==" "||t.charAt(l)=="*")&&++l;break;case"(":case")":s[s.length]={t:n===1?"t":u,v:u},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=u;l<t.length&&"0123456789".indexOf(t.charAt(++l))>-1;)a+=t.charAt(l);s[s.length]={t:"D",v:a};break;case" ":s[s.length]={t:u,v:u},++l;break;case"$":s[s.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+t);s[s.length]={t:"t",v:u},++l;break}var T=0,D=0,I;for(l=s.length-1,d="t";l>=0;--l)switch(s[l].t){case"h":case"H":s[l].t=y,d="h",T<1&&(T=1);break;case"s":(I=s[l].v.match(/\.0+$/))&&(D=Math.max(D,I[0].length-1)),T<3&&(T=3);case"d":case"y":case"M":case"e":d=s[l].t;break;case"m":d==="s"&&(s[l].t="M",T<2&&(T=2));break;case"X":break;case"Z":T<1&&s[l].v.match(/[Hh]/)&&(T=1),T<2&&s[l].v.match(/[Mm]/)&&(T=2),T<3&&s[l].v.match(/[Ss]/)&&(T=3)}switch(T){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var z="",F;for(l=0;l<s.length;++l)switch(s[l].t){case"t":case"T":case" ":case"D":break;case"X":s[l].v="",s[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[l].v=NH(s[l].t.charCodeAt(0),s[l].v,h,D),s[l].t="t";break;case"n":case"?":for(F=l+1;s[F]!=null&&((u=s[F].t)==="?"||u==="D"||(u===" "||u==="t")&&s[F+1]!=null&&(s[F+1].t==="?"||s[F+1].t==="t"&&s[F+1].v==="/")||s[l].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(s[F].v==="/"||s[F].v===" "&&s[F+1]!=null&&s[F+1].t=="?"));)s[l].v+=s[F].v,s[F]={v:"",t:";"},++F;z+=s[l].v,l=F-1;break;case"G":s[l].t="t",s[l].v=tv(e,r);break}var Y="",U,S;if(z.length>0){z.charCodeAt(0)==40?(U=e<0&&z.charCodeAt(0)===45?-e:e,S=Oi("n",z,U)):(U=e<0&&n>1?-e:e,S=Oi("n",z,U),U<0&&s[0]&&s[0].t=="t"&&(S=S.substr(1),s[0].v="-"+s[0].v)),F=S.length-1;var A=s.length;for(l=0;l<s.length;++l)if(s[l]!=null&&s[l].t!="t"&&s[l].v.indexOf(".")>-1){A=l;break}var j=s.length;if(A===s.length&&S.indexOf("E")===-1){for(l=s.length-1;l>=0;--l)s[l]==null||"n?".indexOf(s[l].t)===-1||(F>=s[l].v.length-1?(F-=s[l].v.length,s[l].v=S.substr(F+1,s[l].v.length)):F<0?s[l].v="":(s[l].v=S.substr(0,F+1),F=-1),s[l].t="t",j=l);F>=0&&j<s.length&&(s[j].v=S.substr(0,F+1)+s[j].v)}else if(A!==s.length&&S.indexOf("E")===-1){for(F=S.indexOf(".")-1,l=A;l>=0;--l)if(!(s[l]==null||"n?".indexOf(s[l].t)===-1)){for(p=s[l].v.indexOf(".")>-1&&l===A?s[l].v.indexOf(".")-1:s[l].v.length-1,Y=s[l].v.substr(p+1);p>=0;--p)F>=0&&(s[l].v.charAt(p)==="0"||s[l].v.charAt(p)==="#")&&(Y=S.charAt(F--)+Y);s[l].v=Y,s[l].t="t",j=l}for(F>=0&&j<s.length&&(s[j].v=S.substr(0,F+1)+s[j].v),F=S.indexOf(".")+1,l=A;l<s.length;++l)if(!(s[l]==null||"n?(".indexOf(s[l].t)===-1&&l!==A)){for(p=s[l].v.indexOf(".")>-1&&l===A?s[l].v.indexOf(".")+1:0,Y=s[l].v.substr(0,p);p<s[l].v.length;++p)F<S.length&&(Y+=S.charAt(F++));s[l].v=Y,s[l].t="t",j=l}}}for(l=0;l<s.length;++l)s[l]!=null&&"n?".indexOf(s[l].t)>-1&&(U=n>1&&e<0&&l>0&&s[l-1].v==="-"?-e:e,s[l].v=Oi(s[l].t,s[l].v,U),s[l].t="t");var R="";for(l=0;l!==s.length;++l)s[l]!=null&&(R+=s[l].v);return R}var mT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function gT(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function LH(t,e){var r=OH(t),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(mT),u=r[1].match(mT);return gT(e,l)?[n,r[0]]:gT(e,u)?[n,r[1]]:[n,r[l!=null&&u!=null?2:1]]}return[n,a]}function Wo(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Qr)[t],n==null&&(n=r.table&&r.table[hT[t]]||Qr[hT[t]]),n==null&&(n=yH[t]||"General");break}if(Mp(n,0))return tv(e,r);e instanceof Date&&(e=d5(e,r.date1904));var s=LH(n,e);if(Mp(s[1]))return tv(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return FH(s[1],e,r,s[0])}function w5(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Qr[r]==null){e<0&&(e=r);continue}if(Qr[r]==t){e=r;break}}e<0&&(e=391)}return Qr[e]=t,e}function Om(t){for(var e=0;e!=392;++e)t[e]!==void 0&&w5(t[e],e)}function Fm(){Qr=xH()}var _5=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function MH(t){var e=typeof t=="number"?Qr[t]:t;return e=e.replace(_5,"(\\d+)"),new RegExp("^"+e+"$")}function VH(t,e,r){var n=-1,s=-1,a=-1,l=-1,u=-1,d=-1;(e.match(_5)||[]).forEach(function(g,y){var v=parseInt(r[y+1],10);switch(g.toLowerCase().charAt(0)){case"y":n=v;break;case"d":a=v;break;case"h":l=v;break;case"s":d=v;break;case"m":l>=0?u=v:s=v;break}}),d>=0&&u==-1&&s>=0&&(u=s,s=-1);var h=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var p=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return l==-1&&u==-1&&d==-1?h:n==-1&&s==-1&&a==-1?p:h+"T"+p}var $H=(function(){var t={};t.version="1.2.0";function e(){for(var S=0,A=new Array(256),j=0;j!=256;++j)S=j,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,A[j]=S;return typeof Int32Array<"u"?new Int32Array(A):A}var r=e();function n(S){var A=0,j=0,R=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)M[R]=S[R];for(R=0;R!=256;++R)for(j=S[R],A=256+R;A<4096;A+=256)j=M[A]=j>>>8^S[j&255];var L=[];for(R=1;R!=16;++R)L[R-1]=typeof Int32Array<"u"?M.subarray(R*256,R*256+256):M.slice(R*256,R*256+256);return L}var s=n(r),a=s[0],l=s[1],u=s[2],d=s[3],h=s[4],p=s[5],g=s[6],y=s[7],v=s[8],_=s[9],w=s[10],T=s[11],D=s[12],I=s[13],z=s[14];function F(S,A){for(var j=A^-1,R=0,M=S.length;R<M;)j=j>>>8^r[(j^S.charCodeAt(R++))&255];return~j}function Y(S,A){for(var j=A^-1,R=S.length-15,M=0;M<R;)j=z[S[M++]^j&255]^I[S[M++]^j>>8&255]^D[S[M++]^j>>16&255]^T[S[M++]^j>>>24]^w[S[M++]]^_[S[M++]]^v[S[M++]]^y[S[M++]]^g[S[M++]]^p[S[M++]]^h[S[M++]]^d[S[M++]]^u[S[M++]]^l[S[M++]]^a[S[M++]]^r[S[M++]];for(R+=15;M<R;)j=j>>>8^r[(j^S[M++])&255];return~j}function U(S,A){for(var j=A^-1,R=0,M=S.length,L=0,O=0;R<M;)L=S.charCodeAt(R++),L<128?j=j>>>8^r[(j^L)&255]:L<2048?(j=j>>>8^r[(j^(192|L>>6&31))&255],j=j>>>8^r[(j^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,O=S.charCodeAt(R++)&1023,j=j>>>8^r[(j^(240|L>>8&7))&255],j=j>>>8^r[(j^(128|L>>2&63))&255],j=j>>>8^r[(j^(128|O>>6&15|(L&3)<<4))&255],j=j>>>8^r[(j^(128|O&63))&255]):(j=j>>>8^r[(j^(224|L>>12&15))&255],j=j>>>8^r[(j^(128|L>>6&63))&255],j=j>>>8^r[(j^(128|L&63))&255]);return~j}return t.table=r,t.bstr=F,t.buf=Y,t.str=U,t})(),kr=(function(){var e={};e.version="1.2.1";function r(P,H){for(var W=P.split("/"),K=H.split("/"),J=0,X=0,ue=Math.min(W.length,K.length);J<ue;++J){if(X=W[J].length-K[J].length)return X;if(W[J]!=K[J])return W[J]<K[J]?-1:1}return W.length-K.length}function n(P){if(P.charAt(P.length-1)=="/")return P.slice(0,-1).indexOf("/")===-1?P:n(P.slice(0,-1));var H=P.lastIndexOf("/");return H===-1?P:P.slice(0,H+1)}function s(P){if(P.charAt(P.length-1)=="/")return s(P.slice(0,-1));var H=P.lastIndexOf("/");return H===-1?P:P.slice(H+1)}function a(P,H){typeof H=="string"&&(H=new Date(H));var W=H.getHours();W=W<<6|H.getMinutes(),W=W<<5|H.getSeconds()>>>1,P.write_shift(2,W);var K=H.getFullYear()-1980;K=K<<4|H.getMonth()+1,K=K<<5|H.getDate(),P.write_shift(2,K)}function l(P){var H=P.read_shift(2)&65535,W=P.read_shift(2)&65535,K=new Date,J=W&31;W>>>=5;var X=W&15;W>>>=4,K.setMilliseconds(0),K.setFullYear(W+1980),K.setMonth(X-1),K.setDate(J);var ue=H&31;H>>>=5;var ge=H&63;return H>>>=6,K.setHours(H),K.setMinutes(ge),K.setSeconds(ue<<1),K}function u(P){Ms(P,0);for(var H={},W=0;P.l<=P.length-4;){var K=P.read_shift(2),J=P.read_shift(2),X=P.l+J,ue={};switch(K){case 21589:W=P.read_shift(1),W&1&&(ue.mtime=P.read_shift(4)),J>5&&(W&2&&(ue.atime=P.read_shift(4)),W&4&&(ue.ctime=P.read_shift(4))),ue.mtime&&(ue.mt=new Date(ue.mtime*1e3));break}P.l=X,H[K]=ue}return H}var d;function h(){return d||(d={})}function p(P,H){if(P[0]==80&&P[1]==75)return ot(P,H);if((P[0]|32)==109&&(P[1]|32)==105)return Wn(P,H);if(P.length<512)throw new Error("CFB file size "+P.length+" < 512");var W=3,K=512,J=0,X=0,ue=0,ge=0,he=0,xe=[],ye=P.slice(0,512);Ms(ye,0);var Ue=g(ye);switch(W=Ue[0],W){case 3:K=512;break;case 4:K=4096;break;case 0:if(Ue[1]==0)return ot(P,H);default:throw new Error("Major Version: Expected 3 or 4 saw "+W)}K!==512&&(ye=P.slice(0,K),Ms(ye,28));var Je=P.slice(0,K);y(ye,W);var lt=ye.read_shift(4,"i");if(W===3&&lt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+lt);ye.l+=4,ue=ye.read_shift(4,"i"),ye.l+=4,ye.chk("00100000","Mini Stream Cutoff Size: "),ge=ye.read_shift(4,"i"),J=ye.read_shift(4,"i"),he=ye.read_shift(4,"i"),X=ye.read_shift(4,"i");for(var Ke=-1,We=0;We<109&&(Ke=ye.read_shift(4,"i"),!(Ke<0));++We)xe[We]=Ke;var Pt=v(P,K);T(he,X,Pt,K,xe);var nr=I(Pt,ue,xe,K);nr[ue].name="!Directory",J>0&&ge!==O&&(nr[ge].name="!MiniFAT"),nr[xe[0]].name="!FAT",nr.fat_addrs=xe,nr.ssz=K;var Jt={},sr=[],js=[],Ks=[];z(ue,nr,Pt,sr,J,Jt,js,ge),_(js,Ks,sr),sr.shift();var ns={FileIndex:js,FullPaths:Ks};return H&&H.raw&&(ns.raw={header:Je,sectors:Pt}),ns}function g(P){if(P[P.l]==80&&P[P.l+1]==75)return[0,0];P.chk(fe,"Header Signature: "),P.l+=16;var H=P.read_shift(2,"u");return[P.read_shift(2,"u"),H]}function y(P,H){var W=9;switch(P.l+=2,W=P.read_shift(2)){case 9:if(H!=3)throw new Error("Sector Shift: Expected 9 saw "+W);break;case 12:if(H!=4)throw new Error("Sector Shift: Expected 12 saw "+W);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+W)}P.chk("0600","Mini Sector Shift: "),P.chk("000000000000","Reserved: ")}function v(P,H){for(var W=Math.ceil(P.length/H)-1,K=[],J=1;J<W;++J)K[J-1]=P.slice(J*H,(J+1)*H);return K[W-1]=P.slice(W*H),K}function _(P,H,W){for(var K=0,J=0,X=0,ue=0,ge=0,he=W.length,xe=[],ye=[];K<he;++K)xe[K]=ye[K]=K,H[K]=W[K];for(;ge<ye.length;++ge)K=ye[ge],J=P[K].L,X=P[K].R,ue=P[K].C,xe[K]===K&&(J!==-1&&xe[J]!==J&&(xe[K]=xe[J]),X!==-1&&xe[X]!==X&&(xe[K]=xe[X])),ue!==-1&&(xe[ue]=K),J!==-1&&K!=xe[K]&&(xe[J]=xe[K],ye.lastIndexOf(J)<ge&&ye.push(J)),X!==-1&&K!=xe[K]&&(xe[X]=xe[K],ye.lastIndexOf(X)<ge&&ye.push(X));for(K=1;K<he;++K)xe[K]===K&&(X!==-1&&xe[X]!==X?xe[K]=xe[X]:J!==-1&&xe[J]!==J&&(xe[K]=xe[J]));for(K=1;K<he;++K)if(P[K].type!==0){if(ge=K,ge!=xe[ge])do ge=xe[ge],H[K]=H[ge]+"/"+H[K];while(ge!==0&&xe[ge]!==-1&&ge!=xe[ge]);xe[K]=-1}for(H[0]+="/",K=1;K<he;++K)P[K].type!==2&&(H[K]+="/")}function w(P,H,W){for(var K=P.start,J=P.size,X=[],ue=K;W&&J>0&&ue>=0;)X.push(H.slice(ue*L,ue*L+L)),J-=L,ue=_l(W,ue*4);return X.length===0?Pe(0):Vn(X).slice(0,P.size)}function T(P,H,W,K,J){var X=O;if(P===O){if(H!==0)throw new Error("DIFAT chain shorter than expected")}else if(P!==-1){var ue=W[P],ge=(K>>>2)-1;if(!ue)return;for(var he=0;he<ge&&(X=_l(ue,he*4))!==O;++he)J.push(X);T(_l(ue,K-4),H-1,W,K,J)}}function D(P,H,W,K,J){var X=[],ue=[];J||(J=[]);var ge=K-1,he=0,xe=0;for(he=H;he>=0;){J[he]=!0,X[X.length]=he,ue.push(P[he]);var ye=W[Math.floor(he*4/K)];if(xe=he*4&ge,K<4+xe)throw new Error("FAT boundary crossed: "+he+" 4 "+K);if(!P[ye])break;he=_l(P[ye],xe)}return{nodes:X,data:TT([ue])}}function I(P,H,W,K){var J=P.length,X=[],ue=[],ge=[],he=[],xe=K-1,ye=0,Ue=0,Je=0,lt=0;for(ye=0;ye<J;++ye)if(ge=[],Je=ye+H,Je>=J&&(Je-=J),!ue[Je]){he=[];var Ke=[];for(Ue=Je;Ue>=0;){Ke[Ue]=!0,ue[Ue]=!0,ge[ge.length]=Ue,he.push(P[Ue]);var We=W[Math.floor(Ue*4/K)];if(lt=Ue*4&xe,K<4+lt)throw new Error("FAT boundary crossed: "+Ue+" 4 "+K);if(!P[We]||(Ue=_l(P[We],lt),Ke[Ue]))break}X[Je]={nodes:ge,data:TT([he])}}return X}function z(P,H,W,K,J,X,ue,ge){for(var he=0,xe=K.length?2:0,ye=H[P].data,Ue=0,Je=0,lt;Ue<ye.length;Ue+=128){var Ke=ye.slice(Ue,Ue+128);Ms(Ke,64),Je=Ke.read_shift(2),lt=gb(Ke,0,Je-xe),K.push(lt);var We={name:lt,type:Ke.read_shift(1),color:Ke.read_shift(1),L:Ke.read_shift(4,"i"),R:Ke.read_shift(4,"i"),C:Ke.read_shift(4,"i"),clsid:Ke.read_shift(16),state:Ke.read_shift(4,"i"),start:0,size:0},Pt=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);Pt!==0&&(We.ct=F(Ke,Ke.l-8));var nr=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);nr!==0&&(We.mt=F(Ke,Ke.l-8)),We.start=Ke.read_shift(4,"i"),We.size=Ke.read_shift(4,"i"),We.size<0&&We.start<0&&(We.size=We.type=0,We.start=O,We.name=""),We.type===5?(he=We.start,J>0&&he!==O&&(H[he].name="!StreamData")):We.size>=4096?(We.storage="fat",H[We.start]===void 0&&(H[We.start]=D(W,We.start,H.fat_addrs,H.ssz)),H[We.start].name=We.name,We.content=H[We.start].data.slice(0,We.size)):(We.storage="minifat",We.size<0?We.size=0:he!==O&&We.start!==O&&H[he]&&(We.content=w(We,H[he].data,(H[ge]||{}).data))),We.content&&Ms(We.content,0),X[lt]=We,ue.push(We)}}function F(P,H){return new Date(($s(P,H+4)/1e7*Math.pow(2,32)+$s(P,H)/1e7-11644473600)*1e3)}function Y(P,H){return h(),p(d.readFileSync(P),H)}function U(P,H){var W=H&&H.type;switch(W||dr&&Buffer.isBuffer(P)&&(W="buffer"),W||"base64"){case"file":return Y(P,H);case"base64":return p(Aa(Wi(P)),H);case"binary":return p(Aa(P),H)}return p(P,H)}function S(P,H){var W=H||{},K=W.root||"Root Entry";if(P.FullPaths||(P.FullPaths=[]),P.FileIndex||(P.FileIndex=[]),P.FullPaths.length!==P.FileIndex.length)throw new Error("inconsistent CFB structure");P.FullPaths.length===0&&(P.FullPaths[0]=K+"/",P.FileIndex[0]={name:K,type:5}),W.CLSID&&(P.FileIndex[0].clsid=W.CLSID),A(P)}function A(P){var H="Sh33tJ5";if(!kr.find(P,"/"+H)){var W=Pe(4);W[0]=55,W[1]=W[3]=50,W[2]=54,P.FileIndex.push({name:H,type:2,content:W,size:4,L:69,R:69,C:69}),P.FullPaths.push(P.FullPaths[0]+H),j(P)}}function j(P,H){S(P);for(var W=!1,K=!1,J=P.FullPaths.length-1;J>=0;--J){var X=P.FileIndex[J];switch(X.type){case 0:K?W=!0:(P.FileIndex.pop(),P.FullPaths.pop());break;case 1:case 2:case 5:K=!0,isNaN(X.R*X.L*X.C)&&(W=!0),X.R>-1&&X.L>-1&&X.R==X.L&&(W=!0);break;default:W=!0;break}}if(!(!W&&!H)){var ue=new Date(1987,1,19),ge=0,he=Object.create?Object.create(null):{},xe=[];for(J=0;J<P.FullPaths.length;++J)he[P.FullPaths[J]]=!0,P.FileIndex[J].type!==0&&xe.push([P.FullPaths[J],P.FileIndex[J]]);for(J=0;J<xe.length;++J){var ye=n(xe[J][0]);K=he[ye],K||(xe.push([ye,{name:s(ye).replace("/",""),type:1,clsid:Ce,ct:ue,mt:ue,content:null}]),he[ye]=!0)}for(xe.sort(function(lt,Ke){return r(lt[0],Ke[0])}),P.FullPaths=[],P.FileIndex=[],J=0;J<xe.length;++J)P.FullPaths[J]=xe[J][0],P.FileIndex[J]=xe[J][1];for(J=0;J<xe.length;++J){var Ue=P.FileIndex[J],Je=P.FullPaths[J];if(Ue.name=s(Je).replace("/",""),Ue.L=Ue.R=Ue.C=-(Ue.color=1),Ue.size=Ue.content?Ue.content.length:0,Ue.start=0,Ue.clsid=Ue.clsid||Ce,J===0)Ue.C=xe.length>1?1:-1,Ue.size=0,Ue.type=5;else if(Je.slice(-1)=="/"){for(ge=J+1;ge<xe.length&&n(P.FullPaths[ge])!=Je;++ge);for(Ue.C=ge>=xe.length?-1:ge,ge=J+1;ge<xe.length&&n(P.FullPaths[ge])!=n(Je);++ge);Ue.R=ge>=xe.length?-1:ge,Ue.type=1}else n(P.FullPaths[J+1]||"")==n(Je)&&(Ue.R=J+1),Ue.type=2}}}function R(P,H){var W=H||{};if(W.fileType=="mad")return ur(P,W);switch(j(P),W.fileType){case"zip":return Tt(P,W)}var K=(function(lt){for(var Ke=0,We=0,Pt=0;Pt<lt.FileIndex.length;++Pt){var nr=lt.FileIndex[Pt];if(nr.content){var Jt=nr.content.length;Jt>0&&(Jt<4096?Ke+=Jt+63>>6:We+=Jt+511>>9)}}for(var sr=lt.FullPaths.length+3>>2,js=Ke+7>>3,Ks=Ke+127>>7,ns=js+We+sr+Ks,Br=ns+127>>7,Xi=Br<=109?0:Math.ceil((Br-109)/127);ns+Br+Xi+127>>7>Br;)Xi=++Br<=109?0:Math.ceil((Br-109)/127);var Pr=[1,Xi,Br,Ks,sr,We,Ke,0];return lt.FileIndex[0].size=Ke<<6,Pr[7]=(lt.FileIndex[0].start=Pr[0]+Pr[1]+Pr[2]+Pr[3]+Pr[4]+Pr[5])+(Pr[6]+7>>3),Pr})(P),J=Pe(K[7]<<9),X=0,ue=0;{for(X=0;X<8;++X)J.write_shift(1,ke[X]);for(X=0;X<8;++X)J.write_shift(2,0);for(J.write_shift(2,62),J.write_shift(2,3),J.write_shift(2,65534),J.write_shift(2,9),J.write_shift(2,6),X=0;X<3;++X)J.write_shift(2,0);for(J.write_shift(4,0),J.write_shift(4,K[2]),J.write_shift(4,K[0]+K[1]+K[2]+K[3]-1),J.write_shift(4,0),J.write_shift(4,4096),J.write_shift(4,K[3]?K[0]+K[1]+K[2]-1:O),J.write_shift(4,K[3]),J.write_shift(-4,K[1]?K[0]-1:O),J.write_shift(4,K[1]),X=0;X<109;++X)J.write_shift(-4,X<K[2]?K[1]+X:-1)}if(K[1])for(ue=0;ue<K[1];++ue){for(;X<236+ue*127;++X)J.write_shift(-4,X<K[2]?K[1]+X:-1);J.write_shift(-4,ue===K[1]-1?O:ue+1)}var ge=function(lt){for(ue+=lt;X<ue-1;++X)J.write_shift(-4,X+1);lt&&(++X,J.write_shift(-4,O))};for(ue=X=0,ue+=K[1];X<ue;++X)J.write_shift(-4,Re.DIFSECT);for(ue+=K[2];X<ue;++X)J.write_shift(-4,Re.FATSECT);ge(K[3]),ge(K[4]);for(var he=0,xe=0,ye=P.FileIndex[0];he<P.FileIndex.length;++he)ye=P.FileIndex[he],ye.content&&(xe=ye.content.length,!(xe<4096)&&(ye.start=ue,ge(xe+511>>9)));for(ge(K[6]+7>>3);J.l&511;)J.write_shift(-4,Re.ENDOFCHAIN);for(ue=X=0,he=0;he<P.FileIndex.length;++he)ye=P.FileIndex[he],ye.content&&(xe=ye.content.length,!(!xe||xe>=4096)&&(ye.start=ue,ge(xe+63>>6)));for(;J.l&511;)J.write_shift(-4,Re.ENDOFCHAIN);for(X=0;X<K[4]<<2;++X){var Ue=P.FullPaths[X];if(!Ue||Ue.length===0){for(he=0;he<17;++he)J.write_shift(4,0);for(he=0;he<3;++he)J.write_shift(4,-1);for(he=0;he<12;++he)J.write_shift(4,0);continue}ye=P.FileIndex[X],X===0&&(ye.start=ye.size?ye.start-1:O);var Je=X===0&&W.root||ye.name;if(xe=2*(Je.length+1),J.write_shift(64,Je,"utf16le"),J.write_shift(2,xe),J.write_shift(1,ye.type),J.write_shift(1,ye.color),J.write_shift(-4,ye.L),J.write_shift(-4,ye.R),J.write_shift(-4,ye.C),ye.clsid)J.write_shift(16,ye.clsid,"hex");else for(he=0;he<4;++he)J.write_shift(4,0);J.write_shift(4,ye.state||0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,ye.start),J.write_shift(4,ye.size),J.write_shift(4,0)}for(X=1;X<P.FileIndex.length;++X)if(ye=P.FileIndex[X],ye.size>=4096)if(J.l=ye.start+1<<9,dr&&Buffer.isBuffer(ye.content))ye.content.copy(J,J.l,0,ye.size),J.l+=ye.size+511&-512;else{for(he=0;he<ye.size;++he)J.write_shift(1,ye.content[he]);for(;he&511;++he)J.write_shift(1,0)}for(X=1;X<P.FileIndex.length;++X)if(ye=P.FileIndex[X],ye.size>0&&ye.size<4096)if(dr&&Buffer.isBuffer(ye.content))ye.content.copy(J,J.l,0,ye.size),J.l+=ye.size+63&-64;else{for(he=0;he<ye.size;++he)J.write_shift(1,ye.content[he]);for(;he&63;++he)J.write_shift(1,0)}if(dr)J.l=J.length;else for(;J.l<J.length;)J.write_shift(1,0);return J}function M(P,H){var W=P.FullPaths.map(function(he){return he.toUpperCase()}),K=W.map(function(he){var xe=he.split("/");return xe[xe.length-(he.slice(-1)=="/"?2:1)]}),J=!1;H.charCodeAt(0)===47?(J=!0,H=W[0].slice(0,-1)+H):J=H.indexOf("/")!==-1;var X=H.toUpperCase(),ue=J===!0?W.indexOf(X):K.indexOf(X);if(ue!==-1)return P.FileIndex[ue];var ge=!X.match(Af);for(X=X.replace(Gd,""),ge&&(X=X.replace(Af,"!")),ue=0;ue<W.length;++ue)if((ge?W[ue].replace(Af,"!"):W[ue]).replace(Gd,"")==X||(ge?K[ue].replace(Af,"!"):K[ue]).replace(Gd,"")==X)return P.FileIndex[ue];return null}var L=64,O=-2,fe="d0cf11e0a1b11ae1",ke=[208,207,17,224,161,177,26,225],Ce="00000000000000000000000000000000",Re={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:O,FREESECT:-1,HEADER_SIGNATURE:fe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Ce,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ee(P,H,W){h();var K=R(P,W);d.writeFileSync(H,K)}function ie(P){for(var H=new Array(P.length),W=0;W<P.length;++W)H[W]=String.fromCharCode(P[W]);return H.join("")}function de(P,H){var W=R(P,H);switch(H&&H.type||"buffer"){case"file":return h(),d.writeFileSync(H.filename,W),W;case"binary":return typeof W=="string"?W:ie(W);case"base64":return b0(typeof W=="string"?W:ie(W));case"buffer":if(dr)return Buffer.isBuffer(W)?W:Yi(W);case"array":return typeof W=="string"?Aa(W):W}return W}var se;function B(P){try{var H=P.InflateRaw,W=new H;if(W._processChunk(new Uint8Array([3,0]),W._finishFlushFlag),W.bytesRead)se=P;else throw new Error("zlib does not expose bytesRead")}catch(K){console.error("cannot use native zlib: "+(K.message||K))}}function te(P,H){if(!se)return Nt(P,H);var W=se.InflateRaw,K=new W,J=K._processChunk(P.slice(P.l),K._finishFlushFlag);return P.l+=K.bytesRead,J}function re(P){return se?se.deflateRawSync(P):Q(P)}var ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Le=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Be(P){var H=(P<<1|P<<11)&139536|(P<<5|P<<15)&558144;return(H>>16|H>>8|H)&255}for(var je=typeof Uint8Array<"u",Me=je?new Uint8Array(256):[],it=0;it<256;++it)Me[it]=Be(it);function yt(P,H){var W=Me[P&255];return H<=8?W>>>8-H:(W=W<<8|Me[P>>8&255],H<=16?W>>>16-H:(W=W<<8|Me[P>>16&255],W>>>24-H))}function Wt(P,H){var W=H&7,K=H>>>3;return(P[K]|(W<=6?0:P[K+1]<<8))>>>W&3}function Fe(P,H){var W=H&7,K=H>>>3;return(P[K]|(W<=5?0:P[K+1]<<8))>>>W&7}function fr(P,H){var W=H&7,K=H>>>3;return(P[K]|(W<=4?0:P[K+1]<<8))>>>W&15}function Mt(P,H){var W=H&7,K=H>>>3;return(P[K]|(W<=3?0:P[K+1]<<8))>>>W&31}function De(P,H){var W=H&7,K=H>>>3;return(P[K]|(W<=1?0:P[K+1]<<8))>>>W&127}function pr(P,H,W){var K=H&7,J=H>>>3,X=(1<<W)-1,ue=P[J]>>>K;return W<8-K||(ue|=P[J+1]<<8-K,W<16-K)||(ue|=P[J+2]<<16-K,W<24-K)||(ue|=P[J+3]<<24-K),ue&X}function Vt(P,H,W){var K=H&7,J=H>>>3;return K<=5?P[J]|=(W&7)<<K:(P[J]|=W<<K&255,P[J+1]=(W&7)>>8-K),H+3}function qt(P,H,W){var K=H&7,J=H>>>3;return W=(W&1)<<K,P[J]|=W,H+1}function le(P,H,W){var K=H&7,J=H>>>3;return W<<=K,P[J]|=W&255,W>>>=8,P[J+1]=W,H+8}function Xe(P,H,W){var K=H&7,J=H>>>3;return W<<=K,P[J]|=W&255,W>>>=8,P[J+1]=W&255,P[J+2]=W>>>8,H+16}function ct(P,H){var W=P.length,K=2*W>H?2*W:H+5,J=0;if(W>=H)return P;if(dr){var X=cT(K);if(P.copy)P.copy(X);else for(;J<P.length;++J)X[J]=P[J];return X}else if(je){var ue=new Uint8Array(K);if(ue.set)ue.set(P);else for(;J<W;++J)ue[J]=P[J];return ue}return P.length=K,P}function dt(P){for(var H=new Array(P),W=0;W<P;++W)H[W]=0;return H}function St(P,H,W){var K=1,J=0,X=0,ue=0,ge=0,he=P.length,xe=je?new Uint16Array(32):dt(32);for(X=0;X<32;++X)xe[X]=0;for(X=he;X<W;++X)P[X]=0;he=P.length;var ye=je?new Uint16Array(he):dt(he);for(X=0;X<he;++X)xe[J=P[X]]++,K<J&&(K=J),ye[X]=0;for(xe[0]=0,X=1;X<=K;++X)xe[X+16]=ge=ge+xe[X-1]<<1;for(X=0;X<he;++X)ge=P[X],ge!=0&&(ye[X]=xe[ge+16]++);var Ue=0;for(X=0;X<he;++X)if(Ue=P[X],Ue!=0)for(ge=yt(ye[X],K)>>K-Ue,ue=(1<<K+4-Ue)-1;ue>=0;--ue)H[ge|ue<<Ue]=Ue&15|X<<4;return K}var wt=je?new Uint16Array(512):dt(512),st=je?new Uint16Array(32):dt(32);if(!je){for(var gt=0;gt<512;++gt)wt[gt]=0;for(gt=0;gt<32;++gt)st[gt]=0}(function(){for(var P=[],H=0;H<32;H++)P.push(5);St(P,st,32);var W=[];for(H=0;H<=143;H++)W.push(8);for(;H<=255;H++)W.push(9);for(;H<=279;H++)W.push(7);for(;H<=287;H++)W.push(8);St(W,wt,288)})();var ir=(function(){for(var H=je?new Uint8Array(32768):[],W=0,K=0;W<Le.length-1;++W)for(;K<Le[W+1];++K)H[K]=W;for(;K<32768;++K)H[K]=29;var J=je?new Uint8Array(259):[];for(W=0,K=0;W<ee.length-1;++W)for(;K<ee[W+1];++K)J[K]=W;function X(ge,he){for(var xe=0;xe<ge.length;){var ye=Math.min(65535,ge.length-xe),Ue=xe+ye==ge.length;for(he.write_shift(1,+Ue),he.write_shift(2,ye),he.write_shift(2,~ye&65535);ye-- >0;)he[he.l++]=ge[xe++]}return he.l}function ue(ge,he){for(var xe=0,ye=0,Ue=je?new Uint16Array(32768):[];ye<ge.length;){var Je=Math.min(65535,ge.length-ye);if(Je<10){for(xe=Vt(he,xe,+(ye+Je==ge.length)),xe&7&&(xe+=8-(xe&7)),he.l=xe/8|0,he.write_shift(2,Je),he.write_shift(2,~Je&65535);Je-- >0;)he[he.l++]=ge[ye++];xe=he.l*8;continue}xe=Vt(he,xe,+(ye+Je==ge.length)+2);for(var lt=0;Je-- >0;){var Ke=ge[ye];lt=(lt<<5^Ke)&32767;var We=-1,Pt=0;if((We=Ue[lt])&&(We|=ye&-32768,We>ye&&(We-=32768),We<ye))for(;ge[We+Pt]==ge[ye+Pt]&&Pt<250;)++Pt;if(Pt>2){Ke=J[Pt],Ke<=22?xe=le(he,xe,Me[Ke+1]>>1)-1:(le(he,xe,3),xe+=5,le(he,xe,Me[Ke-23]>>5),xe+=3);var nr=Ke<8?0:Ke-4>>2;nr>0&&(Xe(he,xe,Pt-ee[Ke]),xe+=nr),Ke=H[ye-We],xe=le(he,xe,Me[Ke]>>3),xe-=3;var Jt=Ke<4?0:Ke-2>>1;Jt>0&&(Xe(he,xe,ye-We-Le[Ke]),xe+=Jt);for(var sr=0;sr<Pt;++sr)Ue[lt]=ye&32767,lt=(lt<<5^ge[ye])&32767,++ye;Je-=Pt-1}else Ke<=143?Ke=Ke+48:xe=qt(he,xe,1),xe=le(he,xe,Me[Ke]),Ue[lt]=ye&32767,++ye}xe=le(he,xe,0)-1}return he.l=(xe+7)/8|0,he.l}return function(he,xe){return he.length<8?X(he,xe):ue(he,xe)}})();function Q(P){var H=Pe(50+Math.floor(P.length*1.1)),W=ir(P,H);return H.slice(0,W)}var Ne=je?new Uint16Array(32768):dt(32768),ft=je?new Uint16Array(32768):dt(32768),we=je?new Uint16Array(128):dt(128),Ae=1,Ve=1;function Ze(P,H){var W=Mt(P,H)+257;H+=5;var K=Mt(P,H)+1;H+=5;var J=fr(P,H)+4;H+=4;for(var X=0,ue=je?new Uint8Array(19):dt(19),ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],he=1,xe=je?new Uint8Array(8):dt(8),ye=je?new Uint8Array(8):dt(8),Ue=ue.length,Je=0;Je<J;++Je)ue[ne[Je]]=X=Fe(P,H),he<X&&(he=X),xe[X]++,H+=3;var lt=0;for(xe[0]=0,Je=1;Je<=he;++Je)ye[Je]=lt=lt+xe[Je-1]<<1;for(Je=0;Je<Ue;++Je)(lt=ue[Je])!=0&&(ge[Je]=ye[lt]++);var Ke=0;for(Je=0;Je<Ue;++Je)if(Ke=ue[Je],Ke!=0){lt=Me[ge[Je]]>>8-Ke;for(var We=(1<<7-Ke)-1;We>=0;--We)we[lt|We<<Ke]=Ke&7|Je<<3}var Pt=[];for(he=1;Pt.length<W+K;)switch(lt=we[De(P,H)],H+=lt&7,lt>>>=3){case 16:for(X=3+Wt(P,H),H+=2,lt=Pt[Pt.length-1];X-- >0;)Pt.push(lt);break;case 17:for(X=3+Fe(P,H),H+=3;X-- >0;)Pt.push(0);break;case 18:for(X=11+De(P,H),H+=7;X-- >0;)Pt.push(0);break;default:Pt.push(lt),he<lt&&(he=lt);break}var nr=Pt.slice(0,W),Jt=Pt.slice(W);for(Je=W;Je<286;++Je)nr[Je]=0;for(Je=K;Je<30;++Je)Jt[Je]=0;return Ae=St(nr,Ne,286),Ve=St(Jt,ft,30),H}function vt(P,H){if(P[0]==3&&!(P[1]&3))return[Bl(H),2];for(var W=0,K=0,J=cT(H||1<<18),X=0,ue=J.length>>>0,ge=0,he=0;(K&1)==0;){if(K=Fe(P,W),W+=3,K>>>1)K>>1==1?(ge=9,he=5):(W=Ze(P,W),ge=Ae,he=Ve);else{W&7&&(W+=8-(W&7));var xe=P[W>>>3]|P[(W>>>3)+1]<<8;if(W+=32,xe>0)for(!H&&ue<X+xe&&(J=ct(J,X+xe),ue=J.length);xe-- >0;)J[X++]=P[W>>>3],W+=8;continue}for(;;){!H&&ue<X+32767&&(J=ct(J,X+32767),ue=J.length);var ye=pr(P,W,ge),Ue=K>>>1==1?wt[ye]:Ne[ye];if(W+=Ue&15,Ue>>>=4,(Ue>>>8&255)===0)J[X++]=Ue;else{if(Ue==256)break;Ue-=257;var Je=Ue<8?0:Ue-4>>2;Je>5&&(Je=0);var lt=X+ee[Ue];Je>0&&(lt+=pr(P,W,Je),W+=Je),ye=pr(P,W,he),Ue=K>>>1==1?st[ye]:ft[ye],W+=Ue&15,Ue>>>=4;var Ke=Ue<4?0:Ue-2>>1,We=Le[Ue];for(Ke>0&&(We+=pr(P,W,Ke),W+=Ke),!H&&ue<lt&&(J=ct(J,lt+100),ue=J.length);X<lt;)J[X]=J[X-We],++X}}}return H?[J,W+7>>>3]:[J.slice(0,X),W+7>>>3]}function Nt(P,H){var W=P.slice(P.l||0),K=vt(W,H);return P.l+=K[1],K[0]}function at(P,H){if(P)typeof console<"u"&&console.error(H);else throw new Error(H)}function ot(P,H){var W=P;Ms(W,0);var K=[],J=[],X={FileIndex:K,FullPaths:J};S(X,{root:H.root});for(var ue=W.length-4;(W[ue]!=80||W[ue+1]!=75||W[ue+2]!=5||W[ue+3]!=6)&&ue>=0;)--ue;W.l=ue+4,W.l+=4;var ge=W.read_shift(2);W.l+=6;var he=W.read_shift(4);for(W.l=he,ue=0;ue<ge;++ue){W.l+=20;var xe=W.read_shift(4),ye=W.read_shift(4),Ue=W.read_shift(2),Je=W.read_shift(2),lt=W.read_shift(2);W.l+=8;var Ke=W.read_shift(4),We=u(W.slice(W.l+Ue,W.l+Ue+Je));W.l+=Ue+Je+lt;var Pt=W.l;W.l=Ke+4,et(W,xe,ye,X,We),W.l=Pt}return X}function et(P,H,W,K,J){P.l+=2;var X=P.read_shift(2),ue=P.read_shift(2),ge=l(P);if(X&8257)throw new Error("Unsupported ZIP encryption");for(var he=P.read_shift(4),xe=P.read_shift(4),ye=P.read_shift(4),Ue=P.read_shift(2),Je=P.read_shift(2),lt="",Ke=0;Ke<Ue;++Ke)lt+=String.fromCharCode(P[P.l++]);if(Je){var We=u(P.slice(P.l,P.l+Je));(We[21589]||{}).mt&&(ge=We[21589].mt),((J||{})[21589]||{}).mt&&(ge=J[21589].mt)}P.l+=Je;var Pt=P.slice(P.l,P.l+xe);switch(ue){case 8:Pt=te(P,ye);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ue)}var nr=!1;X&8&&(he=P.read_shift(4),he==134695760&&(he=P.read_shift(4),nr=!0),xe=P.read_shift(4),ye=P.read_shift(4)),xe!=H&&at(nr,"Bad compressed size: "+H+" != "+xe),ye!=W&&at(nr,"Bad uncompressed size: "+W+" != "+ye),Tr(K,lt,Pt,{unsafe:!0,mt:ge})}function Tt(P,H){var W=H||{},K=[],J=[],X=Pe(1),ue=W.compression?8:0,ge=0,he=0,xe=0,ye=0,Ue=0,Je=P.FullPaths[0],lt=Je,Ke=P.FileIndex[0],We=[],Pt=0;for(he=1;he<P.FullPaths.length;++he)if(lt=P.FullPaths[he].slice(Je.length),Ke=P.FileIndex[he],!(!Ke.size||!Ke.content||lt=="Sh33tJ5")){var nr=ye,Jt=Pe(lt.length);for(xe=0;xe<lt.length;++xe)Jt.write_shift(1,lt.charCodeAt(xe)&127);Jt=Jt.slice(0,Jt.l),We[Ue]=$H.buf(Ke.content,0);var sr=Ke.content;ue==8&&(sr=re(sr)),X=Pe(30),X.write_shift(4,67324752),X.write_shift(2,20),X.write_shift(2,ge),X.write_shift(2,ue),Ke.mt?a(X,Ke.mt):X.write_shift(4,0),X.write_shift(-4,We[Ue]),X.write_shift(4,sr.length),X.write_shift(4,Ke.content.length),X.write_shift(2,Jt.length),X.write_shift(2,0),ye+=X.length,K.push(X),ye+=Jt.length,K.push(Jt),ye+=sr.length,K.push(sr),X=Pe(46),X.write_shift(4,33639248),X.write_shift(2,0),X.write_shift(2,20),X.write_shift(2,ge),X.write_shift(2,ue),X.write_shift(4,0),X.write_shift(-4,We[Ue]),X.write_shift(4,sr.length),X.write_shift(4,Ke.content.length),X.write_shift(2,Jt.length),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(4,0),X.write_shift(4,nr),Pt+=X.l,J.push(X),Pt+=Jt.length,J.push(Jt),++Ue}return X=Pe(22),X.write_shift(4,101010256),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,Ue),X.write_shift(2,Ue),X.write_shift(4,Pt),X.write_shift(4,ye),X.write_shift(2,0),Vn([Vn(K),Vn(J),X])}var Bt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Kt(P,H){if(P.ctype)return P.ctype;var W=P.name||"",K=W.match(/\.([^\.]+)$/);return K&&Bt[K[1]]||H&&(K=(W=H).match(/[\.\\]([^\.\\])+$/),K&&Bt[K[1]])?Bt[K[1]]:"application/octet-stream"}function Ir(P){for(var H=b0(P),W=[],K=0;K<H.length;K+=76)W.push(H.slice(K,K+76));return W.join(`\r
`)+`\r
`}function $r(P){var H=P.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(xe){var ye=xe.charCodeAt(0).toString(16).toUpperCase();return"="+(ye.length==1?"0"+ye:ye)});H=H.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),H.charAt(0)==`
`&&(H="=0D"+H.slice(1)),H=H.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var W=[],K=H.split(`\r
`),J=0;J<K.length;++J){var X=K[J];if(X.length==0){W.push("");continue}for(var ue=0;ue<X.length;){var ge=76,he=X.slice(ue,ue+ge);he.charAt(ge-1)=="="?ge--:he.charAt(ge-2)=="="?ge-=2:he.charAt(ge-3)=="="&&(ge-=3),he=X.slice(ue,ue+ge),ue+=ge,ue<X.length&&(he+="="),W.push(he)}}return W.join(`\r
`)}function dn(P){for(var H=[],W=0;W<P.length;++W){for(var K=P[W];W<=P.length&&K.charAt(K.length-1)=="=";)K=K.slice(0,K.length-1)+P[++W];H.push(K)}for(var J=0;J<H.length;++J)H[J]=H[J].replace(/[=][0-9A-Fa-f]{2}/g,function(X){return String.fromCharCode(parseInt(X.slice(1),16))});return Aa(H.join(`\r
`))}function cr(P,H,W){for(var K="",J="",X="",ue,ge=0;ge<10;++ge){var he=H[ge];if(!he||he.match(/^\s*$/))break;var xe=he.match(/^(.*?):\s*([^\s].*)$/);if(xe)switch(xe[1].toLowerCase()){case"content-location":K=xe[2].trim();break;case"content-type":X=xe[2].trim();break;case"content-transfer-encoding":J=xe[2].trim();break}}switch(++ge,J.toLowerCase()){case"base64":ue=Aa(Wi(H.slice(ge).join("")));break;case"quoted-printable":ue=dn(H.slice(ge));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+J)}var ye=Tr(P,K.slice(W.length),ue,{unsafe:!0});X&&(ye.ctype=X)}function Wn(P,H){if(ie(P.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var W=H&&H.root||"",K=(dr&&Buffer.isBuffer(P)?P.toString("binary"):ie(P)).split(`\r
`),J=0,X="";for(J=0;J<K.length;++J)if(X=K[J],!!/^Content-Location:/i.test(X)&&(X=X.slice(X.indexOf("file")),W||(W=X.slice(0,X.lastIndexOf("/")+1)),X.slice(0,W.length)!=W))for(;W.length>0&&(W=W.slice(0,W.length-1),W=W.slice(0,W.lastIndexOf("/")+1),X.slice(0,W.length)!=W););var ue=(K[1]||"").match(/boundary="(.*?)"/);if(!ue)throw new Error("MAD cannot find boundary");var ge="--"+(ue[1]||""),he=[],xe=[],ye={FileIndex:he,FullPaths:xe};S(ye);var Ue,Je=0;for(J=0;J<K.length;++J){var lt=K[J];lt!==ge&&lt!==ge+"--"||(Je++&&cr(ye,K.slice(Ue,J),W),Ue=J)}return ye}function ur(P,H){var W=H||{},K=W.boundary||"SheetJS";K="------="+K;for(var J=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+K.slice(2)+'"',"","",""],X=P.FullPaths[0],ue=X,ge=P.FileIndex[0],he=1;he<P.FullPaths.length;++he)if(ue=P.FullPaths[he].slice(X.length),ge=P.FileIndex[he],!(!ge.size||!ge.content||ue=="Sh33tJ5")){ue=ue.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Pt){return"_x"+Pt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Pt){return"_u"+Pt.charCodeAt(0).toString(16)+"_"});for(var xe=ge.content,ye=dr&&Buffer.isBuffer(xe)?xe.toString("binary"):ie(xe),Ue=0,Je=Math.min(1024,ye.length),lt=0,Ke=0;Ke<=Je;++Ke)(lt=ye.charCodeAt(Ke))>=32&&lt<128&&++Ue;var We=Ue>=Je*4/5;J.push(K),J.push("Content-Location: "+(W.root||"file:///C:/SheetJS/")+ue),J.push("Content-Transfer-Encoding: "+(We?"quoted-printable":"base64")),J.push("Content-Type: "+Kt(ge,ue)),J.push(""),J.push(We?$r(ye):Ir(ye))}return J.push(K+`--\r
`),J.join(`\r
`)}function hn(P){var H={};return S(H,P),H}function Tr(P,H,W,K){var J=K&&K.unsafe;J||S(P);var X=!J&&kr.find(P,H);if(!X){var ue=P.FullPaths[0];H.slice(0,ue.length)==ue?ue=H:(ue.slice(-1)!="/"&&(ue+="/"),ue=(ue+H).replace("//","/")),X={name:s(H),type:2},P.FileIndex.push(X),P.FullPaths.push(ue),J||kr.utils.cfb_gc(P)}return X.content=W,X.size=W?W.length:0,K&&(K.CLSID&&(X.clsid=K.CLSID),K.mt&&(X.mt=K.mt),K.ct&&(X.ct=K.ct)),X}function yn(P,H){S(P);var W=kr.find(P,H);if(W){for(var K=0;K<P.FileIndex.length;++K)if(P.FileIndex[K]==W)return P.FileIndex.splice(K,1),P.FullPaths.splice(K,1),!0}return!1}function be(P,H,W){S(P);var K=kr.find(P,H);if(K){for(var J=0;J<P.FileIndex.length;++J)if(P.FileIndex[J]==K)return P.FileIndex[J].name=s(W),P.FullPaths[J]=W,!0}return!1}function Se(P){j(P,!0)}return e.find=M,e.read=U,e.parse=p,e.write=de,e.writeFile=Ee,e.utils={cfb_new:hn,cfb_add:Tr,cfb_del:yn,cfb_mov:be,cfb_gc:Se,ReadShift:Kd,CheckField:$5,prep_blob:Ms,bconcat:Vn,use_zlib:B,_deflateRaw:Q,_inflateRaw:Nt,consts:Re},e})();function BH(t){return typeof t=="string"?Dm(t):Array.isArray(t)?fH(t):t}function Q0(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Dm(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?_0(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var s=new Blob([BH(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=t,l.href=a,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(t);return u.open("w"),u.encoding="binary",Array.isArray(e)&&(e=X0(e)),u.write(e),u.close(),e}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+t)}function Hn(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function xT(t,e){for(var r=[],n=Hn(t),s=0;s!==n.length;++s)r[t[n[s]][e]]==null&&(r[t[n[s]][e]]=n[s]);return r}function hb(t){for(var e=[],r=Hn(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function Lm(t){for(var e=[],r=Hn(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function UH(t){for(var e=[],r=Hn(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var $p=new Date(1899,11,30,0,0,0);function Ss(t,e){var r=t.getTime(),n=$p.getTime()+(t.getTimezoneOffset()-$p.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var E5=new Date,zH=$p.getTime()+(E5.getTimezoneOffset()-$p.getTimezoneOffset())*6e4,yT=E5.getTimezoneOffset();function T5(t){var e=new Date;return e.setTime(t*24*60*60*1e3+zH),e.getTimezoneOffset()!==yT&&e.setTime(e.getTime()+(e.getTimezoneOffset()-yT)*6e4),e}var vT=new Date("2017-02-19T19:06:09.000Z"),k5=isNaN(vT.getFullYear())?new Date("2/19/17"):vT,HH=k5.getFullYear()==2017;function hs(t,e){var r=new Date(t);if(HH)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(k5.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Mm(t,e){if(dr&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(a){return r[a]||a})}catch{}for(var n=[],s=0;s!=t.length;++s)n.push(String.fromCharCode(t[s]));return n.join("")}function Cs(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Cs(t[r]));return e}function Xr(t,e){for(var r="";r.length<e;)r+=t;return r}function Fi(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,a){return r=-r,a}),!isNaN(e=Number(n)))?e/r:e}var WH=["january","february","march","april","may","june","july","august","september","october","november","december"];function w0(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),s=e.getMonth(),a=e.getDate();if(isNaN(a))return r;var l=t.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&WH.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||a>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Ut(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return dr?n=Yi(r):n=pH(r),kr.utils.cfb_add(t,e,n)}kr.utils.cfb_add(t,e,r)}else t.file(e,r)}function fb(){return kr.utils.cfb_new()}var un=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,GH={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},pb=hb(GH),mb=/[&<>'"]/g,qH=/[\u0000-\u0008\u000b-\u001f]/g;function _r(t){var e=t+"";return e.replace(mb,function(r){return pb[r]}).replace(qH,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function bT(t){return _r(t).replace(/ /g,"_x0020_")}var N5=/[\u0000-\u001f]/g;function KH(t){var e=t+"";return e.replace(mb,function(r){return pb[r]}).replace(/\n/g,"<br/>").replace(N5,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function YH(t){var e=t+"";return e.replace(mb,function(r){return pb[r]}).replace(N5,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function XH(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function QH(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Qx(t){for(var e="",r=0,n=0,s=0,a=0,l=0,u=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(s=t.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=s&63,e+=String.fromCharCode(l);continue}if(a=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(s&63)<<6|a&63);continue}l=t.charCodeAt(r++),u=((n&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(u>>>10&1023)),e+=String.fromCharCode(56320+(u&1023))}return e}function wT(t){var e=Bl(2*t.length),r,n,s=1,a=0,l=0,u;for(n=0;n<t.length;n+=s)s=1,(u=t.charCodeAt(n))<128?r=u:u<224?(r=(u&31)*64+(t.charCodeAt(n+1)&63),s=2):u<240?(r=(u&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),s=3):(s=4,r=(u&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(e[a++]=l&255,e[a++]=l>>>8,l=0),e[a++]=r%256,e[a++]=r>>>8;return e.slice(0,a).toString("ucs2")}function _T(t){return Yi(t,"binary").toString("utf8")}var Cf="foo bar bazâð£",qd=dr&&(_T(Cf)==Qx(Cf)&&_T||wT(Cf)==Qx(Cf)&&wT)||Qx,_0=dr?function(t){return Yi(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,s=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},JH=(function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)n=n.replace(t[s][0],t[s][1]);return n}})(),A5=/(^\s|\s$|\n)/;function $n(t,e){return"<"+t+(e.match(A5)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function E0(t){return Hn(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function tt(t,e,r){return"<"+t+(r!=null?E0(r):"")+(e!=null?(e.match(A5)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function rv(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function ZH(t,e){switch(typeof t){case"string":var r=tt("vt:lpwstr",_r(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return tt((t|0)==t?"vt:i4":"vt:r8",_r(String(t)));case"boolean":return tt("vt:bool",t?"true":"false")}if(t instanceof Date)return tt("vt:filetime",rv(t));throw new Error("Unable to serialize "+t)}var kn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Vu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Vs={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function eW(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,a=5;a>=0;--a)s=s*256+t[e+a];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function tW(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,s=0,a=0,l=n?-e:e;isFinite(l)?l==0?s=a=0:(s=Math.floor(Math.log(l)/Math.LN2),a=l*Math.pow(2,52-s),s<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?s=-1022:(a-=Math.pow(2,52),s+=1023)):(s=2047,a=isNaN(e)?26985:0);for(var u=0;u<=5;++u,a/=256)t[r+u]=a&255;t[r+6]=(s&15)<<4|a&15,t[r+7]=s>>4|n}var ET=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var s=0,a=t[0][n].length;s<a;s+=r)e.push.apply(e,t[0][n].slice(s,s+r));return e},TT=dr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Yi(e)})):ET(t)}:ET,kT=function(t,e,r){for(var n=[],s=e;s<r;s+=2)n.push(String.fromCharCode(Rd(t,s)));return n.join("").replace(Gd,"")},gb=dr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Gd,""):kT(t,e,r)}:kT,NT=function(t,e,r){for(var n=[],s=e;s<e+r;++s)n.push(("0"+t[s].toString(16)).slice(-2));return n.join("")},S5=dr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):NT(t,e,r)}:NT,AT=function(t,e,r){for(var n=[],s=e;s<r;s++)n.push(String.fromCharCode(qc(t,s)));return n.join("")},J0=dr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):AT(e,r,n)}:AT,C5=function(t,e){var r=$s(t,e);return r>0?J0(t,e+4,e+4+r-1):""},j5=C5,I5=function(t,e){var r=$s(t,e);return r>0?J0(t,e+4,e+4+r-1):""},P5=I5,R5=function(t,e){var r=2*$s(t,e);return r>0?J0(t,e+4,e+4+r-1):""},D5=R5,O5=function(e,r){var n=$s(e,r);return n>0?gb(e,r+4,r+4+n):""},F5=O5,L5=function(t,e){var r=$s(t,e);return r>0?J0(t,e+4,e+4+r):""},M5=L5,V5=function(t,e){return eW(t,e)},Bp=V5,xb=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};dr&&(j5=function(e,r){if(!Buffer.isBuffer(e))return C5(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},P5=function(e,r){if(!Buffer.isBuffer(e))return I5(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},D5=function(e,r){if(!Buffer.isBuffer(e))return R5(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},F5=function(e,r){if(!Buffer.isBuffer(e))return O5(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},M5=function(e,r){if(!Buffer.isBuffer(e))return L5(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},Bp=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):V5(e,r)},xb=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var qc=function(t,e){return t[e]},Rd=function(t,e){return t[e+1]*256+t[e]},rW=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},$s=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},_l=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},nW=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Kd(t,e){var r="",n,s,a=[],l,u,d,h;switch(e){case"dbcs":if(h=this.l,dr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)r+=String.fromCharCode(Rd(this,h)),h+=2;t*=2;break;case"utf8":r=J0(this,this.l,this.l+t);break;case"utf16le":t*=2,r=gb(this,this.l,this.l+t);break;case"wstr":return Kd.call(this,t,"dbcs");case"lpstr-ansi":r=j5(this,this.l),t=4+$s(this,this.l);break;case"lpstr-cp":r=P5(this,this.l),t=4+$s(this,this.l);break;case"lpwstr":r=D5(this,this.l),t=4+2*$s(this,this.l);break;case"lpp4":t=4+$s(this,this.l),r=F5(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+$s(this,this.l),r=M5(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(l=qc(this,this.l+t++))!==0;)a.push(Nf(l));r=a.join("");break;case"_wstr":for(t=0,r="";(l=Rd(this,this.l+t))!==0;)a.push(Nf(l)),t+=2;t+=2,r=a.join("");break;case"dbcs-cont":for(r="",h=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return l=qc(this,h),this.l=h+1,u=Kd.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(Nf(Rd(this,h))),h+=2}r=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",h=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return l=qc(this,h),this.l=h+1,u=Kd.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),a.join("")+u;a.push(Nf(qc(this,h))),h+=1}r=a.join("");break;default:switch(t){case 1:return n=qc(this,this.l),this.l++,n;case 2:return n=(e==="i"?rW:Rd)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?_l:nW)(this,this.l),this.l+=4,n):(s=$s(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=Bp(this,this.l):s=Bp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:r=S5(this,this.l,t);break}}return this.l+=t,r}var sW=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},aW=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},iW=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function oW(t,e,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=e.length;++s)iW(this,e.charCodeAt(s),this.l+2*s);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;n=e.length}else if(r==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var l=e.charCodeAt(s);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,sW(this,e,this.l);break;case 8:if(n=8,r==="f"){tW(this,e,this.l);break}case 16:break;case-4:n=4,aW(this,e,this.l);break}return this.l+=n,this}function $5(t,e){var r=S5(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Ms(t,e){t.l=e,t.read_shift=Kd,t.chk=$5,t.write_shift=oW}function hi(t,e){t.l+=e}function Pe(t){var e=Bl(t);return Ms(e,0),e}function As(){var t=[],e=dr?256:2048,r=function(h){var p=Pe(h);return Ms(p,0),p},n=r(e),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},a=function(h){return n&&h<n.length-n.l?n:(s(),n=r(Math.max(h+1,e)))},l=function(){return s(),Vn(t)},u=function(h){s(),n=h,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:u,end:l,_bufs:t}}function ze(t,e,r,n){var s=+e,a;if(!isNaN(s)){n||(n=eQ[s].p||(r||[]).length||0),a=1+(s>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var l=t.next(a);s<=127?l.write_shift(1,s):(l.write_shift(1,(s&127)+128),l.write_shift(1,s>>7));for(var u=0;u!=4;++u)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&xb(r)&&t.push(r)}}function Yd(t,e,r){var n=Cs(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function ST(t,e,r){var n=Cs(t);return n.s=Yd(n.s,e.s,r),n.e=Yd(n.e,e.s,r),n}function Xd(t,e){if(t.cRel&&t.c<0)for(t=Cs(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Cs(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Er(t);return!t.cRel&&t.cRel!=null&&(r=uW(r)),!t.rRel&&t.rRel!=null&&(r=lW(r)),r}function Jx(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+es(t.s.c)+":"+(t.e.cRel?"":"$")+es(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Un(t.s.r)+":"+(t.e.rRel?"":"$")+Un(t.e.r):Xd(t.s,e.biff)+":"+Xd(t.e,e.biff)}function yb(t){return parseInt(cW(t),10)-1}function Un(t){return""+(t+1)}function lW(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function cW(t){return t.replace(/\$(\d+)$/,"$1")}function vb(t){for(var e=dW(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function es(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function uW(t){return t.replace(/^([A-Z])/,"$$$1")}function dW(t){return t.replace(/^\$([A-Z])/,"$1")}function hW(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Nn(t){for(var e=0,r=0,n=0;n<t.length;++n){var s=t.charCodeAt(n);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:e-1}}function Er(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function qs(t){var e=t.indexOf(":");return e==-1?{s:Nn(t),e:Nn(t)}:{s:Nn(t.slice(0,e)),e:Nn(t.slice(e+1))}}function cn(t,e){return typeof e>"u"||typeof e=="number"?cn(t.s,t.e):(typeof t!="string"&&(t=Er(t)),typeof e!="string"&&(e=Er(e)),t==e?t:t+":"+e)}function Or(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,a=t.length;for(r=0;n<a&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.s.c=--r,r=0;n<a&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(e.s.r=--r,n===a||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=a&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.e.c=--r,r=0;n!=a&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return e.e.r=--r,e}function CT(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Wo(t.z,r?Ss(e):e)}catch{}try{return t.w=Wo((t.XF||{}).numFmtId||(r?14:0),r?Ss(e):e)}catch{return""+e}}function Gi(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Z0[t.v]||t.v:e==null?CT(t,t.v):CT(t,e))}function rc(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function B5(t,e,r){var n=r||{},s=t?Array.isArray(t):n.dense,a=t||(s?[]:{}),l=0,u=0;if(a&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var d=typeof n.origin=="string"?Nn(n.origin):n.origin;l=d.r,u=d.c}a["!ref"]||(a["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var p=Or(a["!ref"]);h.s.c=p.s.c,h.s.r=p.s.r,h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),l==-1&&(h.e.r=l=p.e.r+1)}for(var g=0;g!=e.length;++g)if(e[g]){if(!Array.isArray(e[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[g].length;++y)if(!(typeof e[g][y]>"u")){var v={v:e[g][y]},_=l+g,w=u+y;if(h.s.r>_&&(h.s.r=_),h.s.c>w&&(h.s.c=w),h.e.r<_&&(h.e.r=_),h.e.c<w&&(h.e.c=w),e[g][y]&&typeof e[g][y]=="object"&&!Array.isArray(e[g][y])&&!(e[g][y]instanceof Date))v=e[g][y];else if(Array.isArray(v.v)&&(v.f=e[g][y][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(n.nullError)v.t="e",v.v=0;else if(n.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=n.dateNF||Qr[14],n.cellDates?(v.t="d",v.w=Wo(v.z,Ss(v.v))):(v.t="n",v.v=Ss(v.v),v.w=Wo(v.z,v.v))):v.t="s";if(s)a[_]||(a[_]=[]),a[_][w]&&a[_][w].z&&(v.z=a[_][w].z),a[_][w]=v;else{var T=Er({c:w,r:_});a[T]&&a[T].z&&(v.z=a[T].z),a[T]=v}}}return h.s.c<1e7&&(a["!ref"]=cn(h)),a}function $u(t,e){return B5(null,t,e)}function fW(t){return t.read_shift(4,"i")}function Pa(t,e){return e||(e=Pe(4)),e.write_shift(4,t),e}function ts(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function An(t,e){var r=!1;return e==null&&(r=!0,e=Pe(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function pW(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function mW(t,e){return e||(e=Pe(4)),e.write_shift(2,0),e.write_shift(2,0),e}function bb(t,e){var r=t.l,n=t.read_shift(1),s=ts(t),a=[],l={t:s,h:s};if((n&1)!==0){for(var u=t.read_shift(4),d=0;d!=u;++d)a.push(pW(t));l.r=a}else l.r=[{ich:0,ifnt:0}];return t.l=r+e,l}function gW(t,e){var r=!1;return e==null&&(r=!0,e=Pe(15+4*t.t.length)),e.write_shift(1,0),An(t.t,e),r?e.slice(0,e.l):e}var xW=bb;function yW(t,e){var r=!1;return e==null&&(r=!0,e=Pe(23+4*t.t.length)),e.write_shift(1,1),An(t.t,e),e.write_shift(4,1),mW({},e),r?e.slice(0,e.l):e}function ha(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function nc(t,e){return e==null&&(e=Pe(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function sc(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function ac(t,e){return e==null&&(e=Pe(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var vW=ts,U5=An;function wb(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Up(t,e){var r=!1;return e==null&&(r=!0,e=Pe(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var bW=ts,nv=wb,_b=Up;function z5(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var s=n===0?Bp([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):_l(e,0)>>2;return r?s/100:s}function H5(t,e){e==null&&(e=Pe(4));var r=0,n=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?s:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function W5(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function wW(t,e){return e||(e=Pe(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var ic=W5,Bu=wW;function Uu(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Ul(t,e){return(e||Pe(8)).write_shift(8,t,"f")}function _W(t){var e={},r=t.read_shift(1),n=r>>>1,s=t.read_shift(1),a=t.read_shift(2,"i"),l=t.read_shift(1),u=t.read_shift(1),d=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=s;var h=IW[s];h&&(e.rgb=$T(h));break;case 2:e.rgb=$T([l,u,d]);break;case 3:e.theme=s;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function zp(t,e){if(e||(e=Pe(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function EW(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function TW(t,e){e||(e=Pe(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var G5=2,Ls=3,jf=11,Hp=19,If=64,kW=65,NW=71,AW=4108,SW=4126,On=80,jT={1:{n:"CodePage",t:G5},2:{n:"Category",t:On},3:{n:"PresentationFormat",t:On},4:{n:"ByteCount",t:Ls},5:{n:"LineCount",t:Ls},6:{n:"ParagraphCount",t:Ls},7:{n:"SlideCount",t:Ls},8:{n:"NoteCount",t:Ls},9:{n:"HiddenCount",t:Ls},10:{n:"MultimediaClipCount",t:Ls},11:{n:"ScaleCrop",t:jf},12:{n:"HeadingPairs",t:AW},13:{n:"TitlesOfParts",t:SW},14:{n:"Manager",t:On},15:{n:"Company",t:On},16:{n:"LinksUpToDate",t:jf},17:{n:"CharacterCount",t:Ls},19:{n:"SharedDoc",t:jf},22:{n:"HyperlinksChanged",t:jf},23:{n:"AppVersion",t:Ls,p:"version"},24:{n:"DigSig",t:kW},26:{n:"ContentType",t:On},27:{n:"ContentStatus",t:On},28:{n:"Language",t:On},29:{n:"Version",t:On},255:{},2147483648:{n:"Locale",t:Hp},2147483651:{n:"Behavior",t:Hp},1919054434:{}},IT={1:{n:"CodePage",t:G5},2:{n:"Title",t:On},3:{n:"Subject",t:On},4:{n:"Author",t:On},5:{n:"Keywords",t:On},6:{n:"Comments",t:On},7:{n:"Template",t:On},8:{n:"LastAuthor",t:On},9:{n:"RevNumber",t:On},10:{n:"EditTime",t:If},11:{n:"LastPrinted",t:If},12:{n:"CreatedDate",t:If},13:{n:"ModifiedDate",t:If},14:{n:"PageCount",t:Ls},15:{n:"WordCount",t:Ls},16:{n:"CharCount",t:Ls},17:{n:"Thumbnail",t:NW},18:{n:"Application",t:On},19:{n:"DocSecurity",t:Ls},255:{},2147483648:{n:"Locale",t:Hp},2147483651:{n:"Behavior",t:Hp},1919054434:{}};function CW(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var jW=CW([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),IW=Cs(jW),Z0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},PW={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Pf={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function q5(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function K5(t,e){var r=UH(PW),n=[],s;n[n.length]=un,n[n.length]=tt("Types",null,{xmlns:kn.CT,"xmlns:xsd":kn.xsd,"xmlns:xsi":kn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return tt("Default",null,{Extension:d[0],ContentType:d[1]})}));var a=function(d){t[d]&&t[d].length>0&&(s=t[d][0],n[n.length]=tt("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:Pf[d][e.bookType]||Pf[d].xlsx}))},l=function(d){(t[d]||[]).forEach(function(h){n[n.length]=tt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Pf[d][e.bookType]||Pf[d].xlsx})})},u=function(d){(t[d]||[]).forEach(function(h){n[n.length]=tt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:r[d][0]})})};return a("workbooks"),l("sheets"),l("charts"),u("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),l("metadata"),u("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var lr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Y5(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function ou(t){var e=[un,tt("Relationships",null,{xmlns:kn.RELS})];return Hn(t["!id"]).forEach(function(r){e[e.length]=tt("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function vr(t,e,r,n,s,a){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=n,s.Target=r,[lr.HLINK,lr.XPATH,lr.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}function RW(t){var e=[un];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function PT(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function DW(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function OW(t){var e=[un];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(PT(t[r][0],t[r][1])),e.push(DW("",t[r][0]));return e.push(PT("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function X5(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Op.version+"</meta:generator></office:meta></office:document-meta>"}var Cl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Zx(t,e,r,n,s){s[t]!=null||e==null||e===""||(s[t]=e,e=_r(e),n[n.length]=r?tt(t,e,r):$n(t,e))}function Q5(t,e){var r=e||{},n=[un,tt("cp:coreProperties",null,{"xmlns:cp":kn.CORE_PROPS,"xmlns:dc":kn.dc,"xmlns:dcterms":kn.dcterms,"xmlns:dcmitype":kn.dcmitype,"xmlns:xsi":kn.xsi})],s={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&Zx("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:rv(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),t.ModifiedDate!=null&&Zx("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:rv(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var a=0;a!=Cl.length;++a){var l=Cl[a],u=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:t?t[l[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&Zx(l[0],u,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var lu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],J5=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Z5(t){var e=[],r=tt;return t||(t={}),t.Application="SheetJS",e[e.length]=un,e[e.length]=tt("Properties",null,{xmlns:kn.EXT_PROPS,"xmlns:vt":kn.vt}),lu.forEach(function(n){if(t[n[1]]!==void 0){var s;switch(n[2]){case"string":s=_r(String(t[n[1]]));break;case"bool":s=t[n[1]]?"true":"false";break}s!==void 0&&(e[e.length]=r(n[0],s))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+_r(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function e6(t){var e=[un,tt("Properties",null,{xmlns:kn.CUST_PROPS,"xmlns:vt":kn.vt})];if(!t)return e.join("");var r=1;return Hn(t).forEach(function(s){++r,e[e.length]=tt("property",ZH(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:_r(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var RT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function FW(t,e){var r=[];return Hn(RT).map(function(n){for(var s=0;s<Cl.length;++s)if(Cl[s][1]==n)return Cl[s];for(s=0;s<lu.length;++s)if(lu[s][1]==n)return lu[s];throw n}).forEach(function(n){if(t[n[1]]!=null){var s=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push($n(RT[n[1]]||n[1],s))}}),tt("DocumentProperties",r.join(""),{xmlns:Vs.o})}function LW(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return t&&Hn(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var l=0;l<Cl.length;++l)if(a==Cl[l][1])return;for(l=0;l<lu.length;++l)if(a==lu[l][1])return;for(l=0;l<r.length;++l)if(a==r[l])return;var u=t[a],d="string";typeof u=="number"?(d="float",u=String(u)):u===!0||u===!1?(d="boolean",u=u?"1":"0"):u=String(u),s.push(tt(bT(a),u,{"dt:dt":d}))}}),e&&Hn(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var l=e[a],u="string";typeof l=="number"?(u="float",l=String(l)):l===!0||l===!1?(u="boolean",l=l?"1":"0"):l instanceof Date?(u="dateTime.tz",l=l.toISOString()):l=String(l),s.push(tt(bT(a),l,{"dt:dt":u}))}}),"<"+n+' xmlns="'+Vs.o+'">'+s.join("")+"</"+n+">"}function MW(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),s+=a);var l=Pe(8);return l.write_shift(4,n),l.write_shift(4,s),l}function DT(t,e){var r=Pe(4),n=Pe(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Pe(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=MW(e);break;case 31:case 80:for(n=Pe(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Vn([r,n])}var t6=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function VW(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function OT(t,e,r){var n=Pe(8),s=[],a=[],l=8,u=0,d=Pe(8),h=Pe(8);if(d.write_shift(4,2),d.write_shift(4,1200),h.write_shift(4,1),a.push(d),s.push(h),l+=8+d.length,!e){h=Pe(8),h.write_shift(4,0),s.unshift(h);var p=[Pe(4)];for(p[0].write_shift(4,t.length),u=0;u<t.length;++u){var g=t[u][0];for(d=Pe(8+2*(g.length+1)+(g.length%2?0:2)),d.write_shift(4,u+2),d.write_shift(4,g.length+1),d.write_shift(0,g,"dbcs");d.l!=d.length;)d.write_shift(1,0);p.push(d)}d=Vn(p),a.unshift(d),l+=8+d.length}for(u=0;u<t.length;++u)if(!(e&&!e[t[u][0]])&&!(t6.indexOf(t[u][0])>-1||J5.indexOf(t[u][0])>-1)&&t[u][1]!=null){var y=t[u][1],v=0;if(e){v=+e[t[u][0]];var _=r[v];if(_.p=="version"&&typeof y=="string"){var w=y.split(".");y=(+w[0]<<16)+(+w[1]||0)}d=DT(_.t,y)}else{var T=VW(y);T==-1&&(T=31,y=String(y)),d=DT(T,y)}a.push(d),h=Pe(8),h.write_shift(4,e?v:2+u),s.push(h),l+=8+d.length}var D=8*(a.length+1);for(u=0;u<a.length;++u)s[u].write_shift(4,D),D+=a[u].length;return n.write_shift(4,l),n.write_shift(4,a.length),Vn([n].concat(s).concat(a))}function FT(t,e,r,n,s,a){var l=Pe(s?68:48),u=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,kr.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,s?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,s?68:48);var d=OT(t,r,n);if(u.push(d),s){var h=OT(s,null,null);l.write_shift(16,a,"hex"),l.write_shift(4,68+d.length),u.push(h)}return Vn(u)}function $W(t,e){e||(e=Pe(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function BW(t,e){return t.read_shift(e)===1}function ls(t,e){return e||(e=Pe(2)),e.write_shift(2,+!!t),e}function r6(t){return t.read_shift(2,"u")}function ia(t,e){return e||(e=Pe(2)),e.write_shift(2,t),e}function n6(t,e,r){return r||(r=Pe(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function s6(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=t.read_shift(1);a&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var l=n?t.read_shift(n,s):"";return l}function UW(t){var e=t.t||"",r=Pe(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Pe(2*e.length);n.write_shift(2*e.length,e,"utf16le");var s=[r,n];return Vn(s)}function zW(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function HW(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):zW(t,n,r)}function WW(t,e,r){if(r.biff>5)return HW(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function a6(t,e,r){return r||(r=Pe(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function LT(t,e){e||(e=Pe(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function GW(t){var e=Pe(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),a=s>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)e.write_shift(4,l[r]);if(a==28)n=n.slice(1),LT(n,e);else if(a&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)e.write_shift(1,parseInt(l[r],16));var u=s>-1?n.slice(0,s):n;for(e.write_shift(4,2*(u.length+1)),r=0;r<u.length;++r)e.write_shift(2,u.charCodeAt(r));e.write_shift(2,0),a&8&&LT(s>-1?n.slice(s+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)e.write_shift(1,parseInt(l[r],16));for(var d=0;n.slice(d*3,d*3+3)=="../"||n.slice(d*3,d*3+3)=="..\\";)++d;for(e.write_shift(2,d),e.write_shift(4,n.length-3*d+1),r=0;r<n.length-3*d;++r)e.write_shift(1,n.charCodeAt(r+3*d)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function zl(t,e,r,n){return n||(n=Pe(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function qW(t,e,r){var n=r.biff>8?4:2,s=t.read_shift(n),a=t.read_shift(n,"i"),l=t.read_shift(n,"i");return[s,a,l]}function KW(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),s=t.read_shift(2);return{s:{c:n,r:e},e:{c:s,r}}}function i6(t,e){return e||(e=Pe(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function Eb(t,e,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=Pe(s);return a.write_shift(2,n),a.write_shift(2,e),s>4&&a.write_shift(2,29282),s>6&&a.write_shift(2,1997),s>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function YW(t,e){var r=!e||e.biff==8,n=Pe(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function XW(t,e){var r=!e||e.biff>=8?2:1,n=Pe(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function QW(t,e){var r=Pe(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],s=0;s<t.length;++s)n[s]=UW(t[s]);var a=Vn([r].concat(n));return a.parts=[r.length].concat(n.map(function(l){return l.length})),a}function JW(){var t=Pe(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function ZW(t){var e=Pe(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function eG(t,e){var r=t.name||"Arial",n=e&&e.biff==5,s=n?15+r.length:16+2*r.length,a=Pe(s);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function tG(t,e,r,n){var s=Pe(10);return zl(t,e,n,s),s.write_shift(4,r),s}function rG(t,e,r,n,s){var a=!s||s.biff==8,l=Pe(8+ +a+(1+a)*r.length);return zl(t,e,n,l),l.write_shift(2,r.length),a&&l.write_shift(1,1),l.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),l}function nG(t,e,r,n){var s=r&&r.biff==5;n||(n=Pe(s?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(s?1:2,e.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function sG(t,e){var r=e.biff==8||!e.biff?4:2,n=Pe(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function MT(t,e,r,n){var s=r&&r.biff==5;n||(n=Pe(s?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&s&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function aG(t){var e=Pe(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function iG(t,e,r,n,s,a){var l=Pe(8);return zl(t,e,n,l),n6(r,a,l),l}function oG(t,e,r,n){var s=Pe(14);return zl(t,e,n,s),Ul(r,s),s}function lG(t,e,r){if(r.biff<8)return cG(t,e,r);for(var n=[],s=t.l+e,a=t.read_shift(r.biff>8?4:2);a--!==0;)n.push(qW(t,r.biff>8?12:6,r));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return n}function cG(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=s6(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function uG(t){var e=Pe(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)i6(t[r],e);return e}function dG(t){var e=Pe(24),r=Nn(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(n[s],16));return Vn([e,GW(t[1])])}function hG(t){var e=t[1].Tooltip,r=Pe(10+2*(e.length+1));r.write_shift(2,2048);var n=Nn(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<e.length;++s)r.write_shift(2,e.charCodeAt(s));return r.write_shift(2,0),r}function fG(t){return t||(t=Pe(4)),t.write_shift(2,1),t.write_shift(2,1),t}function pG(t,e,r){if(!r.cellStyles)return hi(t,e);var n=r&&r.biff>=12?4:2,s=t.read_shift(n),a=t.read_shift(n),l=t.read_shift(n),u=t.read_shift(n),d=t.read_shift(2);n==2&&(t.l+=2);var h={s,e:a,w:l,ixfe:u,flags:d};return(r.biff>=5||!r.biff)&&(h.level=d>>8&7),h}function mG(t,e){var r=Pe(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function gG(t){for(var e=Pe(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function xG(t,e,r){var n=Pe(15);return th(n,t,e),n.write_shift(8,r,"f"),n}function yG(t,e,r){var n=Pe(9);return th(n,t,e),n.write_shift(2,r),n}var vG=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=hb({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(u,d){var h=[],p=Bl(1);switch(d.type){case"base64":p=Aa(Wi(u));break;case"binary":p=Aa(u);break;case"buffer":case"array":p=u;break}Ms(p,0);var g=p.read_shift(1),y=!!(g&136),v=!1,_=!1;switch(g){case 2:break;case 3:break;case 48:v=!0,y=!0;break;case 49:v=!0,y=!0;break;case 131:break;case 139:break;case 140:_=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var w=0,T=521;g==2&&(w=p.read_shift(2)),p.l+=3,g!=2&&(w=p.read_shift(4)),w>1048576&&(w=1e6),g!=2&&(T=p.read_shift(2));var D=p.read_shift(2),I=d.codepage||1252;g!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(I=t[p[p.l]]),p.l+=1,p.l+=2),_&&(p.l+=36);for(var z=[],F={},Y=Math.min(p.length,g==2?521:T-10-(v?264:0)),U=_?32:11;p.l<Y&&p[p.l]!=13;)switch(F={},F.name=Fp.utils.decode(I,p.slice(p.l,p.l+U)).replace(/[\u0000\r\n].*$/g,""),p.l+=U,F.type=String.fromCharCode(p.read_shift(1)),g!=2&&!_&&(F.offset=p.read_shift(4)),F.len=p.read_shift(1),g==2&&(F.offset=p.read_shift(2)),F.dec=p.read_shift(1),F.name.length&&z.push(F),g!=2&&(p.l+=_?13:14),F.type){case"B":(!v||F.len!=8)&&d.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+F.type)}if(p[p.l]!==13&&(p.l=T-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=T;var S=0,A=0;for(h[0]=[],A=0;A!=z.length;++A)h[0][A]=z[A].name;for(;w-- >0;){if(p[p.l]===42){p.l+=D;continue}for(++p.l,h[++S]=[],A=0,A=0;A!=z.length;++A){var j=p.slice(p.l,p.l+z[A].len);p.l+=z[A].len,Ms(j,0);var R=Fp.utils.decode(I,j);switch(z[A].type){case"C":R.trim().length&&(h[S][A]=R.replace(/\s+$/,""));break;case"D":R.length===8?h[S][A]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):h[S][A]=R;break;case"F":h[S][A]=parseFloat(R.trim());break;case"+":case"I":h[S][A]=_?j.read_shift(-4,"i")^2147483648:j.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":h[S][A]=!0;break;case"N":case"F":h[S][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));h[S][A]="##MEMO##"+(_?parseInt(R.trim(),10):j.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(h[S][A]=+R||0);break;case"@":h[S][A]=new Date(j.read_shift(-8,"f")-621356832e5);break;case"T":h[S][A]=new Date((j.read_shift(4)-2440588)*864e5+j.read_shift(4));break;case"Y":h[S][A]=j.read_shift(4,"i")/1e4+j.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[S][A]=-j.read_shift(-8,"f");break;case"B":if(v&&z[A].len==8){h[S][A]=j.read_shift(8,"f");break}case"G":case"P":j.l+=z[A].len;break;case"0":if(z[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+z[A].type)}}}if(g!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return d&&d.sheetRows&&(h=h.slice(0,d.sheetRows)),d.DBF=z,h}function n(u,d){var h=d||{};h.dateNF||(h.dateNF="yyyymmdd");var p=$u(r(u,h),h);return p["!cols"]=h.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete h.DBF,p}function s(u,d){try{return rc(n(u,d),d)}catch(h){if(d&&d.WTF)throw h}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function l(u,d){var h=d||{};if(+h.codepage>=0&&v0(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var p=As(),g=Yp(u,{header:1,raw:!0,cellDates:!0}),y=g[0],v=g.slice(1),_=u["!cols"]||[],w=0,T=0,D=0,I=1;for(w=0;w<y.length;++w){if(((_[w]||{}).DBF||{}).name){y[w]=_[w].DBF.name,++D;continue}if(y[w]!=null){if(++D,typeof y[w]=="number"&&(y[w]=y[w].toString(10)),typeof y[w]!="string")throw new Error("DBF Invalid column name "+y[w]+" |"+typeof y[w]+"|");if(y.indexOf(y[w])!==w){for(T=0;T<1024;++T)if(y.indexOf(y[w]+"_"+T)==-1){y[w]+="_"+T;break}}}}var z=Or(u["!ref"]),F=[],Y=[],U=[];for(w=0;w<=z.e.c-z.s.c;++w){var S="",A="",j=0,R=[];for(T=0;T<v.length;++T)v[T][w]!=null&&R.push(v[T][w]);if(R.length==0||y[w]==null){F[w]="?";continue}for(T=0;T<R.length;++T){switch(typeof R[T]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=R[T]instanceof Date?"D":"C";break;default:A="C"}j=Math.max(j,String(R[T]).length),S=S&&S!=A?"C":A}j>250&&(j=250),A=((_[w]||{}).DBF||{}).type,A=="C"&&_[w].DBF.len>j&&(j=_[w].DBF.len),S=="B"&&A=="N"&&(S="N",U[w]=_[w].DBF.dec,j=_[w].DBF.len),Y[w]=S=="C"||A=="N"?j:a[S]||0,I+=Y[w],F[w]=S}var M=p.next(32);for(M.write_shift(4,318902576),M.write_shift(4,v.length),M.write_shift(2,296+32*D),M.write_shift(2,I),w=0;w<4;++w)M.write_shift(4,0);for(M.write_shift(4,0|(+e[l5]||3)<<8),w=0,T=0;w<y.length;++w)if(y[w]!=null){var L=p.next(32),O=(y[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,O,"sbcs"),L.write_shift(1,F[w]=="?"?"C":F[w],"sbcs"),L.write_shift(4,T),L.write_shift(1,Y[w]||a[F[w]]||0),L.write_shift(1,U[w]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),T+=Y[w]||a[F[w]]||0}var fe=p.next(264);for(fe.write_shift(4,13),w=0;w<65;++w)fe.write_shift(4,0);for(w=0;w<v.length;++w){var ke=p.next(I);for(ke.write_shift(1,0),T=0;T<y.length;++T)if(y[T]!=null)switch(F[T]){case"L":ke.write_shift(1,v[w][T]==null?63:v[w][T]?84:70);break;case"B":ke.write_shift(8,v[w][T]||0,"f");break;case"N":var Ce="0";for(typeof v[w][T]=="number"&&(Ce=v[w][T].toFixed(U[T]||0)),D=0;D<Y[T]-Ce.length;++D)ke.write_shift(1,32);ke.write_shift(1,Ce,"sbcs");break;case"D":v[w][T]?(ke.write_shift(4,("0000"+v[w][T].getFullYear()).slice(-4),"sbcs"),ke.write_shift(2,("00"+(v[w][T].getMonth()+1)).slice(-2),"sbcs"),ke.write_shift(2,("00"+v[w][T].getDate()).slice(-2),"sbcs")):ke.write_shift(8,"00000000","sbcs");break;case"C":var Re=String(v[w][T]!=null?v[w][T]:"").slice(0,Y[T]);for(ke.write_shift(1,Re,"sbcs"),D=0;D<Y[T]-Re.length;++D)ke.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:s,to_sheet:n,from_sheet:l}})(),bG=(function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Hn(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(y,v){var _=t[v];return typeof _=="number"?lT(_):_},n=function(y,v,_){var w=v.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return w==59?y:lT(w)};t["|"]=254;function s(y,v){switch(v.type){case"base64":return a(Wi(y),v);case"binary":return a(y,v);case"buffer":return a(dr&&Buffer.isBuffer(y)?y.toString("binary"):X0(y),v);case"array":return a(Mm(y),v)}throw new Error("Unrecognized type "+v.type)}function a(y,v){var _=y.split(/[\n\r]+/),w=-1,T=-1,D=0,I=0,z=[],F=[],Y=null,U={},S=[],A=[],j=[],R=0,M;for(+v.codepage>=0&&v0(+v.codepage);D!==_.length;++D){R=0;var L=_[D].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),O=L.replace(/;;/g,"\0").split(";").map(function(ne){return ne.replace(/\u0000/g,";")}),fe=O[0],ke;if(L.length>0)switch(fe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":O[1].charAt(0)=="P"&&F.push(L.slice(3).replace(/;;/g,";"));break;case"C":var Ce=!1,Re=!1,Ee=!1,ie=!1,de=-1,se=-1;for(I=1;I<O.length;++I)switch(O[I].charAt(0)){case"A":break;case"X":T=parseInt(O[I].slice(1))-1,Re=!0;break;case"Y":for(w=parseInt(O[I].slice(1))-1,Re||(T=0),M=z.length;M<=w;++M)z[M]=[];break;case"K":ke=O[I].slice(1),ke.charAt(0)==='"'?ke=ke.slice(1,ke.length-1):ke==="TRUE"?ke=!0:ke==="FALSE"?ke=!1:isNaN(Fi(ke))?isNaN(w0(ke).getDate())||(ke=hs(ke)):(ke=Fi(ke),Y!==null&&b5(Y)&&(ke=T5(ke))),Ce=!0;break;case"E":ie=!0;var B=yq(O[I].slice(1),{r:w,c:T});z[w][T]=[z[w][T],B];break;case"S":Ee=!0,z[w][T]=[z[w][T],"S5S"];break;case"G":break;case"R":de=parseInt(O[I].slice(1))-1;break;case"C":se=parseInt(O[I].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+L)}if(Ce&&(z[w][T]&&z[w][T].length==2?z[w][T][0]=ke:z[w][T]=ke,Y=null),Ee){if(ie)throw new Error("SYLK shared formula cannot have own formula");var te=de>-1&&z[de][se];if(!te||!te[1])throw new Error("SYLK shared formula cannot find base");z[w][T][1]=vq(te[1],{r:w-de,c:T-se})}break;case"F":var re=0;for(I=1;I<O.length;++I)switch(O[I].charAt(0)){case"X":T=parseInt(O[I].slice(1))-1,++re;break;case"Y":for(w=parseInt(O[I].slice(1))-1,M=z.length;M<=w;++M)z[M]=[];break;case"M":R=parseInt(O[I].slice(1))/20;break;case"F":break;case"G":break;case"P":Y=F[parseInt(O[I].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(j=O[I].slice(1).split(" "),M=parseInt(j[0],10);M<=parseInt(j[1],10);++M)R=parseInt(j[2],10),A[M-1]=R===0?{hidden:!0}:{wch:R},Tb(A[M-1]);break;case"C":T=parseInt(O[I].slice(1))-1,A[T]||(A[T]={});break;case"R":w=parseInt(O[I].slice(1))-1,S[w]||(S[w]={}),R>0?(S[w].hpt=R,S[w].hpx=d6(R)):R===0&&(S[w].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+L)}re<1&&(Y=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+L)}}return S.length>0&&(U["!rows"]=S),A.length>0&&(U["!cols"]=A),v&&v.sheetRows&&(z=z.slice(0,v.sheetRows)),[z,U]}function l(y,v){var _=s(y,v),w=_[0],T=_[1],D=$u(w,v);return Hn(T).forEach(function(I){D[I]=T[I]}),D}function u(y,v){return rc(l(y,v),v)}function d(y,v,_,w){var T="C;Y"+(_+1)+";X"+(w+1)+";K";switch(y.t){case"n":T+=y.v||0,y.f&&!y.F&&(T+=";E"+Nb(y.f,{r:_,c:w}));break;case"b":T+=y.v?"TRUE":"FALSE";break;case"e":T+=y.w||y.v;break;case"d":T+='"'+(y.w||y.v)+'"';break;case"s":T+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return T}function h(y,v){v.forEach(function(_,w){var T="F;W"+(w+1)+" "+(w+1)+" ";_.hidden?T+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=Wp(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=Gp(_.wpx)),typeof _.wch=="number"&&(T+=Math.round(_.wch))),T.charAt(T.length-1)!=" "&&y.push(T)})}function p(y,v){v.forEach(function(_,w){var T="F;";_.hidden?T+="M0;":_.hpt?T+="M"+20*_.hpt+";":_.hpx&&(T+="M"+20*qp(_.hpx)+";"),T.length>2&&y.push(T+"R"+(w+1))})}function g(y,v){var _=["ID;PWXL;N;E"],w=[],T=Or(y["!ref"]),D,I=Array.isArray(y),z=`\r
`;_.push("P;PGeneral"),_.push("F;P0;DG0G8;M255"),y["!cols"]&&h(_,y["!cols"]),y["!rows"]&&p(_,y["!rows"]),_.push("B;Y"+(T.e.r-T.s.r+1)+";X"+(T.e.c-T.s.c+1)+";D"+[T.s.c,T.s.r,T.e.c,T.e.r].join(" "));for(var F=T.s.r;F<=T.e.r;++F)for(var Y=T.s.c;Y<=T.e.c;++Y){var U=Er({r:F,c:Y});D=I?(y[F]||[])[Y]:y[U],!(!D||D.v==null&&(!D.f||D.F))&&w.push(d(D,y,F,Y))}return _.join(z)+z+w.join(z)+z+"E"+z}return{to_workbook:u,to_sheet:l,from_sheet:g}})(),wG=(function(){function t(a,l){switch(l.type){case"base64":return e(Wi(a),l);case"binary":return e(a,l);case"buffer":return e(dr&&Buffer.isBuffer(a)?a.toString("binary"):X0(a),l);case"array":return e(Mm(a),l)}throw new Error("Unrecognized type "+l.type)}function e(a,l){for(var u=a.split(`
`),d=-1,h=-1,p=0,g=[];p!==u.length;++p){if(u[p].trim()==="BOT"){g[++d]=[],h=0;continue}if(!(d<0)){var y=u[p].trim().split(","),v=y[0],_=y[1];++p;for(var w=u[p]||"";(w.match(/["]/g)||[]).length&1&&p<u.length-1;)w+=`
`+u[++p];switch(w=w.trim(),+v){case-1:if(w==="BOT"){g[++d]=[],h=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?g[d][h]=!0:w==="FALSE"?g[d][h]=!1:isNaN(Fi(_))?isNaN(w0(_).getDate())?g[d][h]=_:g[d][h]=hs(_):g[d][h]=Fi(_),++h;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),g[d][h++]=w!==""?w:null;break}if(w==="EOD")break}}return l&&l.sheetRows&&(g=g.slice(0,l.sheetRows)),g}function r(a,l){return $u(t(a,l),l)}function n(a,l){return rc(r(a,l),l)}var s=(function(){var a=function(d,h,p,g,y){d.push(h),d.push(p+","+g),d.push('"'+y.replace(/"/g,'""')+'"')},l=function(d,h,p,g){d.push(h+","+p),d.push(h==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(d){var h=[],p=Or(d["!ref"]),g,y=Array.isArray(d);a(h,"TABLE",0,1,"sheetjs"),a(h,"VECTORS",0,p.e.r-p.s.r+1,""),a(h,"TUPLES",0,p.e.c-p.s.c+1,""),a(h,"DATA",0,0,"");for(var v=p.s.r;v<=p.e.r;++v){l(h,-1,0,"BOT");for(var _=p.s.c;_<=p.e.c;++_){var w=Er({r:v,c:_});if(g=y?(d[v]||[])[_]:d[w],!g){l(h,1,0,"");continue}switch(g.t){case"n":var T=g.w;!T&&g.v!=null&&(T=g.v),T==null?g.f&&!g.F?l(h,1,0,"="+g.f):l(h,1,0,""):l(h,0,T,"V");break;case"b":l(h,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":l(h,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=Wo(g.z||Qr[14],Ss(hs(g.v)))),l(h,0,g.w,"V");break;default:l(h,1,0,"")}}}l(h,-1,0,"EOD");var D=`\r
`,I=h.join(D);return I}})();return{to_workbook:n,to_sheet:r,from_sheet:s}})(),o6=(function(){function t(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(g,y){for(var v=g.split(`
`),_=-1,w=-1,T=0,D=[];T!==v.length;++T){var I=v[T].trim().split(":");if(I[0]==="cell"){var z=Nn(I[1]);if(D.length<=z.r)for(_=D.length;_<=z.r;++_)D[_]||(D[_]=[]);switch(_=z.r,w=z.c,I[2]){case"t":D[_][w]=t(I[3]);break;case"v":D[_][w]=+I[3];break;case"vtf":var F=I[I.length-1];case"vtc":switch(I[3]){case"nl":D[_][w]=!!+I[4];break;default:D[_][w]=+I[4];break}I[2]=="vtf"&&(D[_][w]=[D[_][w],F])}}}return y&&y.sheetRows&&(D=D.slice(0,y.sheetRows)),D}function n(g,y){return $u(r(g,y),y)}function s(g,y){return rc(n(g,y),y)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function h(g){if(!g||!g["!ref"])return"";for(var y=[],v=[],_,w="",T=qs(g["!ref"]),D=Array.isArray(g),I=T.s.r;I<=T.e.r;++I)for(var z=T.s.c;z<=T.e.c;++z)if(w=Er({r:I,c:z}),_=D?(g[I]||[])[z]:g[w],!(!_||_.v==null||_.t==="z")){switch(v=["cell",w,"t"],_.t){case"s":case"str":v.push(e(_.v));break;case"n":_.f?(v[2]="vtf",v[3]="n",v[4]=_.v,v[5]=e(_.f)):(v[2]="v",v[3]=_.v);break;case"b":v[2]="vt"+(_.f?"f":"c"),v[3]="nl",v[4]=_.v?"1":"0",v[5]=e(_.f||(_.v?"TRUE":"FALSE"));break;case"d":var F=Ss(hs(_.v));v[2]="vtc",v[3]="nd",v[4]=""+F,v[5]=_.w||Wo(_.z||Qr[14],F);break;case"e":continue}y.push(v.join(":"))}return y.push("sheet:c:"+(T.e.c-T.s.c+1)+":r:"+(T.e.r-T.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function p(g){return[a,l,u,l,h(g),d].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:p}})(),_G=(function(){function t(p,g,y,v,_){_.raw?g[y][v]=p:p===""||(p==="TRUE"?g[y][v]=!0:p==="FALSE"?g[y][v]=!1:isNaN(Fi(p))?isNaN(w0(p).getDate())?g[y][v]=p:g[y][v]=hs(p):g[y][v]=Fi(p))}function e(p,g){var y=g||{},v=[];if(!p||p.length===0)return v;for(var _=p.split(/[\r\n]/),w=_.length-1;w>=0&&_[w].length===0;)--w;for(var T=10,D=0,I=0;I<=w;++I)D=_[I].indexOf(" "),D==-1?D=_[I].length:D++,T=Math.max(T,D);for(I=0;I<=w;++I){v[I]=[];var z=0;for(t(_[I].slice(0,T).trim(),v,I,z,y),z=1;z<=(_[I].length-T)/10+1;++z)t(_[I].slice(T+(z-1)*10,T+z*10).trim(),v,I,z,y)}return y.sheetRows&&(v=v.slice(0,y.sheetRows)),v}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(p){for(var g={},y=!1,v=0,_=0;v<p.length;++v)(_=p.charCodeAt(v))==34?y=!y:!y&&_ in r&&(g[_]=(g[_]||0)+1);_=[];for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&_.push([g[v],v]);if(!_.length){g=n;for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&_.push([g[v],v])}return _.sort(function(w,T){return w[0]-T[0]||n[w[1]]-n[T[1]]}),r[_.pop()[1]]||44}function a(p,g){var y=g||{},v="",_=y.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(v=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(v=p.charAt(4),p=p.slice(6)):v=s(p.slice(0,1024)):y&&y.FS?v=y.FS:v=s(p.slice(0,1024));var T=0,D=0,I=0,z=0,F=0,Y=v.charCodeAt(0),U=!1,S=0,A=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var j=y.dateNF!=null?MH(y.dateNF):null;function R(){var M=p.slice(z,F),L={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),M.length===0)L.t="z";else if(y.raw)L.t="s",L.v=M;else if(M.trim().length===0)L.t="s",L.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(L.t="s",L.v=M.slice(2,-1).replace(/""/g,'"')):bq(M)?(L.t="n",L.f=M.slice(1)):(L.t="s",L.v=M);else if(M=="TRUE")L.t="b",L.v=!0;else if(M=="FALSE")L.t="b",L.v=!1;else if(!isNaN(I=Fi(M)))L.t="n",y.cellText!==!1&&(L.w=M),L.v=I;else if(!isNaN(w0(M).getDate())||j&&M.match(j)){L.z=y.dateNF||Qr[14];var O=0;j&&M.match(j)&&(M=VH(M,y.dateNF,M.match(j)||[]),O=1),y.cellDates?(L.t="d",L.v=hs(M,O)):(L.t="n",L.v=Ss(hs(M,O))),y.cellText!==!1&&(L.w=Wo(L.z,L.v instanceof Date?Ss(L.v):L.v)),y.cellNF||delete L.z}else L.t="s",L.v=M;if(L.t=="z"||(y.dense?(_[T]||(_[T]=[]),_[T][D]=L):_[Er({c:D,r:T})]=L),z=F+1,A=p.charCodeAt(z),w.e.c<D&&(w.e.c=D),w.e.r<T&&(w.e.r=T),S==Y)++D;else if(D=0,++T,y.sheetRows&&y.sheetRows<=T)return!0}e:for(;F<p.length;++F)switch(S=p.charCodeAt(F)){case 34:A===34&&(U=!U);break;case Y:case 10:case 13:if(!U&&R())break e;break}return F-z>0&&R(),_["!ref"]=cn(w),_}function l(p,g){return!(g&&g.PRN)||g.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?a(p,g):$u(e(p,g),g)}function u(p,g){var y="",v=g.type=="string"?[0,0,0,0]:DQ(p,g);switch(g.type){case"base64":y=Wi(p);break;case"binary":y=p;break;case"buffer":g.codepage==65001?y=p.toString("utf8"):g.codepage&&typeof Fp<"u"||(y=dr&&Buffer.isBuffer(p)?p.toString("binary"):X0(p));break;case"array":y=Mm(p);break;case"string":y=p;break;default:throw new Error("Unrecognized type "+g.type)}return v[0]==239&&v[1]==187&&v[2]==191?y=qd(y.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?y=qd(y):g.type=="binary"&&typeof Fp<"u",y.slice(0,19)=="socialcalc:version:"?o6.to_sheet(g.type=="string"?y:qd(y),g):l(y,g)}function d(p,g){return rc(u(p,g),g)}function h(p){for(var g=[],y=Or(p["!ref"]),v,_=Array.isArray(p),w=y.s.r;w<=y.e.r;++w){for(var T=[],D=y.s.c;D<=y.e.c;++D){var I=Er({r:w,c:D});if(v=_?(p[w]||[])[D]:p[I],!v||v.v==null){T.push("          ");continue}for(var z=(v.w||(Gi(v),v.w)||"").slice(0,10);z.length<10;)z+=" ";T.push(z+(D===0?" ":""))}g.push(T.join(""))}return g.join(`
`)}return{to_workbook:d,to_sheet:u,from_sheet:h}})(),VT=(function(){function t(B,te,re){if(B){Ms(B,B.l||0);for(var ne=re.Enum||de;B.l<B.length;){var ee=B.read_shift(2),Le=ne[ee]||ne[65535],Be=B.read_shift(2),je=B.l+Be,Me=Le.f&&Le.f(B,Be,re);if(B.l=je,te(Me,Le,ee))return}}}function e(B,te){switch(te.type){case"base64":return r(Aa(Wi(B)),te);case"binary":return r(Aa(B),te);case"buffer":case"array":return r(B,te)}throw"Unsupported type "+te.type}function r(B,te){if(!B)return B;var re=te||{},ne=re.dense?[]:{},ee="Sheet1",Le="",Be=0,je={},Me=[],it=[],yt={s:{r:0,c:0},e:{r:0,c:0}},Wt=re.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)re.Enum=de,t(B,function(De,pr,Vt){switch(Vt){case 0:re.vers=De,De>=4096&&(re.qpro=!0);break;case 6:yt=De;break;case 204:De&&(Le=De);break;case 222:Le=De;break;case 15:case 51:re.qpro||(De[1].v=De[1].v.slice(1));case 13:case 14:case 16:Vt==14&&(De[2]&112)==112&&(De[2]&15)>1&&(De[2]&15)<15&&(De[1].z=re.dateNF||Qr[14],re.cellDates&&(De[1].t="d",De[1].v=T5(De[1].v))),re.qpro&&De[3]>Be&&(ne["!ref"]=cn(yt),je[ee]=ne,Me.push(ee),ne=re.dense?[]:{},yt={s:{r:0,c:0},e:{r:0,c:0}},Be=De[3],ee=Le||"Sheet"+(Be+1),Le="");var qt=re.dense?(ne[De[0].r]||[])[De[0].c]:ne[Er(De[0])];if(qt){qt.t=De[1].t,qt.v=De[1].v,De[1].z!=null&&(qt.z=De[1].z),De[1].f!=null&&(qt.f=De[1].f);break}re.dense?(ne[De[0].r]||(ne[De[0].r]=[]),ne[De[0].r][De[0].c]=De[1]):ne[Er(De[0])]=De[1];break}},re);else if(B[2]==26||B[2]==14)re.Enum=se,B[2]==14&&(re.qpro=!0,B.l=0),t(B,function(De,pr,Vt){switch(Vt){case 204:ee=De;break;case 22:De[1].v=De[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(De[3]>Be&&(ne["!ref"]=cn(yt),je[ee]=ne,Me.push(ee),ne=re.dense?[]:{},yt={s:{r:0,c:0},e:{r:0,c:0}},Be=De[3],ee="Sheet"+(Be+1)),Wt>0&&De[0].r>=Wt)break;re.dense?(ne[De[0].r]||(ne[De[0].r]=[]),ne[De[0].r][De[0].c]=De[1]):ne[Er(De[0])]=De[1],yt.e.c<De[0].c&&(yt.e.c=De[0].c),yt.e.r<De[0].r&&(yt.e.r=De[0].r);break;case 27:De[14e3]&&(it[De[14e3][0]]=De[14e3][1]);break;case 1537:it[De[0]]=De[1],De[0]==Be&&(ee=De[1]);break}},re);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(ne["!ref"]=cn(yt),je[Le||ee]=ne,Me.push(Le||ee),!it.length)return{SheetNames:Me,Sheets:je};for(var Fe={},fr=[],Mt=0;Mt<it.length;++Mt)je[Me[Mt]]?(fr.push(it[Mt]||Me[Mt]),Fe[it[Mt]]=je[it[Mt]]||je[Me[Mt]]):(fr.push(it[Mt]),Fe[it[Mt]]={"!ref":"A1"});return{SheetNames:fr,Sheets:Fe}}function n(B,te){var re=te||{};if(+re.codepage>=0&&v0(+re.codepage),re.type=="string")throw new Error("Cannot write WK1 to JS string");var ne=As(),ee=Or(B["!ref"]),Le=Array.isArray(B),Be=[];rt(ne,0,a(1030)),rt(ne,6,d(ee));for(var je=Math.min(ee.e.r,8191),Me=ee.s.r;Me<=je;++Me)for(var it=Un(Me),yt=ee.s.c;yt<=ee.e.c;++yt){Me===ee.s.r&&(Be[yt]=es(yt));var Wt=Be[yt]+it,Fe=Le?(B[Me]||[])[yt]:B[Wt];if(!(!Fe||Fe.t=="z"))if(Fe.t=="n")(Fe.v|0)==Fe.v&&Fe.v>=-32768&&Fe.v<=32767?rt(ne,13,v(Me,yt,Fe.v)):rt(ne,14,w(Me,yt,Fe.v));else{var fr=Gi(Fe);rt(ne,15,g(Me,yt,fr.slice(0,239)))}}return rt(ne,1),ne.end()}function s(B,te){var re=te||{};if(+re.codepage>=0&&v0(+re.codepage),re.type=="string")throw new Error("Cannot write WK3 to JS string");var ne=As();rt(ne,0,l(B));for(var ee=0,Le=0;ee<B.SheetNames.length;++ee)(B.Sheets[B.SheetNames[ee]]||{})["!ref"]&&rt(ne,27,ie(B.SheetNames[ee],Le++));var Be=0;for(ee=0;ee<B.SheetNames.length;++ee){var je=B.Sheets[B.SheetNames[ee]];if(!(!je||!je["!ref"])){for(var Me=Or(je["!ref"]),it=Array.isArray(je),yt=[],Wt=Math.min(Me.e.r,8191),Fe=Me.s.r;Fe<=Wt;++Fe)for(var fr=Un(Fe),Mt=Me.s.c;Mt<=Me.e.c;++Mt){Fe===Me.s.r&&(yt[Mt]=es(Mt));var De=yt[Mt]+fr,pr=it?(je[Fe]||[])[Mt]:je[De];if(!(!pr||pr.t=="z"))if(pr.t=="n")rt(ne,23,R(Fe,Mt,Be,pr.v));else{var Vt=Gi(pr);rt(ne,22,S(Fe,Mt,Be,Vt.slice(0,239)))}}++Be}}return rt(ne,1),ne.end()}function a(B){var te=Pe(2);return te.write_shift(2,B),te}function l(B){var te=Pe(26);te.write_shift(2,4096),te.write_shift(2,4),te.write_shift(4,0);for(var re=0,ne=0,ee=0,Le=0;Le<B.SheetNames.length;++Le){var Be=B.SheetNames[Le],je=B.Sheets[Be];if(!(!je||!je["!ref"])){++ee;var Me=qs(je["!ref"]);re<Me.e.r&&(re=Me.e.r),ne<Me.e.c&&(ne=Me.e.c)}}return re>8191&&(re=8191),te.write_shift(2,re),te.write_shift(1,ee),te.write_shift(1,ne),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(1,1),te.write_shift(1,2),te.write_shift(4,0),te.write_shift(4,0),te}function u(B,te,re){var ne={s:{c:0,r:0},e:{c:0,r:0}};return te==8&&re.qpro?(ne.s.c=B.read_shift(1),B.l++,ne.s.r=B.read_shift(2),ne.e.c=B.read_shift(1),B.l++,ne.e.r=B.read_shift(2),ne):(ne.s.c=B.read_shift(2),ne.s.r=B.read_shift(2),te==12&&re.qpro&&(B.l+=2),ne.e.c=B.read_shift(2),ne.e.r=B.read_shift(2),te==12&&re.qpro&&(B.l+=2),ne.s.c==65535&&(ne.s.c=ne.e.c=ne.s.r=ne.e.r=0),ne)}function d(B){var te=Pe(8);return te.write_shift(2,B.s.c),te.write_shift(2,B.s.r),te.write_shift(2,B.e.c),te.write_shift(2,B.e.r),te}function h(B,te,re){var ne=[{c:0,r:0},{t:"n",v:0},0,0];return re.qpro&&re.vers!=20768?(ne[0].c=B.read_shift(1),ne[3]=B.read_shift(1),ne[0].r=B.read_shift(2),B.l+=2):(ne[2]=B.read_shift(1),ne[0].c=B.read_shift(2),ne[0].r=B.read_shift(2)),ne}function p(B,te,re){var ne=B.l+te,ee=h(B,te,re);if(ee[1].t="s",re.vers==20768){B.l++;var Le=B.read_shift(1);return ee[1].v=B.read_shift(Le,"utf8"),ee}return re.qpro&&B.l++,ee[1].v=B.read_shift(ne-B.l,"cstr"),ee}function g(B,te,re){var ne=Pe(7+re.length);ne.write_shift(1,255),ne.write_shift(2,te),ne.write_shift(2,B),ne.write_shift(1,39);for(var ee=0;ee<ne.length;++ee){var Le=re.charCodeAt(ee);ne.write_shift(1,Le>=128?95:Le)}return ne.write_shift(1,0),ne}function y(B,te,re){var ne=h(B,te,re);return ne[1].v=B.read_shift(2,"i"),ne}function v(B,te,re){var ne=Pe(7);return ne.write_shift(1,255),ne.write_shift(2,te),ne.write_shift(2,B),ne.write_shift(2,re,"i"),ne}function _(B,te,re){var ne=h(B,te,re);return ne[1].v=B.read_shift(8,"f"),ne}function w(B,te,re){var ne=Pe(13);return ne.write_shift(1,255),ne.write_shift(2,te),ne.write_shift(2,B),ne.write_shift(8,re,"f"),ne}function T(B,te,re){var ne=B.l+te,ee=h(B,te,re);if(ee[1].v=B.read_shift(8,"f"),re.qpro)B.l=ne;else{var Le=B.read_shift(2);F(B.slice(B.l,B.l+Le),ee),B.l+=Le}return ee}function D(B,te,re){var ne=te&32768;return te&=-32769,te=(ne?B:0)+(te>=8192?te-16384:te),(ne?"":"$")+(re?es(te):Un(te))}var I={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},z=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function F(B,te){Ms(B,0);for(var re=[],ne=0,ee="",Le="",Be="",je="";B.l<B.length;){var Me=B[B.l++];switch(Me){case 0:re.push(B.read_shift(8,"f"));break;case 1:Le=D(te[0].c,B.read_shift(2),!0),ee=D(te[0].r,B.read_shift(2),!1),re.push(Le+ee);break;case 2:{var it=D(te[0].c,B.read_shift(2),!0),yt=D(te[0].r,B.read_shift(2),!1);Le=D(te[0].c,B.read_shift(2),!0),ee=D(te[0].r,B.read_shift(2),!1),re.push(it+yt+":"+Le+ee)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:re.push("("+re.pop()+")");break;case 5:re.push(B.read_shift(2));break;case 6:{for(var Wt="";Me=B[B.l++];)Wt+=String.fromCharCode(Me);re.push('"'+Wt.replace(/"/g,'""')+'"')}break;case 8:re.push("-"+re.pop());break;case 23:re.push("+"+re.pop());break;case 22:re.push("NOT("+re.pop()+")");break;case 20:case 21:je=re.pop(),Be=re.pop(),re.push(["AND","OR"][Me-20]+"("+Be+","+je+")");break;default:if(Me<32&&z[Me])je=re.pop(),Be=re.pop(),re.push(Be+z[Me]+je);else if(I[Me]){if(ne=I[Me][1],ne==69&&(ne=B[B.l++]),ne>re.length){console.error("WK1 bad formula parse 0x"+Me.toString(16)+":|"+re.join("|")+"|");return}var Fe=re.slice(-ne);re.length-=ne,re.push(I[Me][0]+"("+Fe.join(",")+")")}else return Me<=7?console.error("WK1 invalid opcode "+Me.toString(16)):Me<=24?console.error("WK1 unsupported op "+Me.toString(16)):Me<=30?console.error("WK1 invalid opcode "+Me.toString(16)):Me<=115?console.error("WK1 unsupported function opcode "+Me.toString(16)):console.error("WK1 unrecognized opcode "+Me.toString(16))}}re.length==1?te[1].f=""+re[0]:console.error("WK1 bad formula parse |"+re.join("|")+"|")}function Y(B){var te=[{c:0,r:0},{t:"n",v:0},0];return te[0].r=B.read_shift(2),te[3]=B[B.l++],te[0].c=B[B.l++],te}function U(B,te){var re=Y(B);return re[1].t="s",re[1].v=B.read_shift(te-4,"cstr"),re}function S(B,te,re,ne){var ee=Pe(6+ne.length);ee.write_shift(2,B),ee.write_shift(1,re),ee.write_shift(1,te),ee.write_shift(1,39);for(var Le=0;Le<ne.length;++Le){var Be=ne.charCodeAt(Le);ee.write_shift(1,Be>=128?95:Be)}return ee.write_shift(1,0),ee}function A(B,te){var re=Y(B);re[1].v=B.read_shift(2);var ne=re[1].v>>1;if(re[1].v&1)switch(ne&7){case 0:ne=(ne>>3)*5e3;break;case 1:ne=(ne>>3)*500;break;case 2:ne=(ne>>3)/20;break;case 3:ne=(ne>>3)/200;break;case 4:ne=(ne>>3)/2e3;break;case 5:ne=(ne>>3)/2e4;break;case 6:ne=(ne>>3)/16;break;case 7:ne=(ne>>3)/64;break}return re[1].v=ne,re}function j(B,te){var re=Y(B),ne=B.read_shift(4),ee=B.read_shift(4),Le=B.read_shift(2);if(Le==65535)return ne===0&&ee===3221225472?(re[1].t="e",re[1].v=15):ne===0&&ee===3489660928?(re[1].t="e",re[1].v=42):re[1].v=0,re;var Be=Le&32768;return Le=(Le&32767)-16446,re[1].v=(1-Be*2)*(ee*Math.pow(2,Le+32)+ne*Math.pow(2,Le)),re}function R(B,te,re,ne){var ee=Pe(14);if(ee.write_shift(2,B),ee.write_shift(1,re),ee.write_shift(1,te),ne==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var Le=0,Be=0,je=0,Me=0;return ne<0&&(Le=1,ne=-ne),Be=Math.log2(ne)|0,ne/=Math.pow(2,Be-31),Me=ne>>>0,(Me&2147483648)==0&&(ne/=2,++Be,Me=ne>>>0),ne-=Me,Me|=2147483648,Me>>>=0,ne*=Math.pow(2,32),je=ne>>>0,ee.write_shift(4,je),ee.write_shift(4,Me),Be+=16383+(Le?32768:0),ee.write_shift(2,Be),ee}function M(B,te){var re=j(B);return B.l+=te-14,re}function L(B,te){var re=Y(B),ne=B.read_shift(4);return re[1].v=ne>>6,re}function O(B,te){var re=Y(B),ne=B.read_shift(8,"f");return re[1].v=ne,re}function fe(B,te){var re=O(B);return B.l+=te-10,re}function ke(B,te){return B[B.l+te-1]==0?B.read_shift(te,"cstr"):""}function Ce(B,te){var re=B[B.l++];re>te-1&&(re=te-1);for(var ne="";ne.length<re;)ne+=String.fromCharCode(B[B.l++]);return ne}function Re(B,te,re){if(!(!re.qpro||te<21)){var ne=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var ee=B.read_shift(te-21,"cstr");return[ne,ee]}}function Ee(B,te){for(var re={},ne=B.l+te;B.l<ne;){var ee=B.read_shift(2);if(ee==14e3){for(re[ee]=[0,""],re[ee][0]=B.read_shift(2);B[B.l];)re[ee][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return re}function ie(B,te){var re=Pe(5+B.length);re.write_shift(2,14e3),re.write_shift(2,te);for(var ne=0;ne<B.length;++ne){var ee=B.charCodeAt(ne);re[re.l++]=ee>127?95:ee}return re[re.l++]=0,re}var de={0:{n:"BOF",f:r6},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:_},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:T},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ke},222:{n:"SHEETNAMELP",f:Ce},65535:{n:""}},se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:U},23:{n:"NUMBER17",f:j},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:M},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Ee},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:O},40:{n:"FORMULA28",f:fe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ke},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Re},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:e}})(),EG=/^\s|\s$|[\t\n\r]/;function l6(t,e){if(!e.bookSST)return"";var r=[un];r[r.length]=tt("sst",null,{xmlns:Vu[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var s=t[n],a="<si>";s.r?a+=s.r:(a+="<t",s.t||(s.t=""),s.t.match(EG)&&(a+=' xml:space="preserve"'),a+=">"+_r(s.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function TG(t){return[t.read_shift(4),t.read_shift(4)]}function kG(t,e){return e||(e=Pe(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var NG=gW;function AG(t){var e=As();ze(e,159,kG(t));for(var r=0;r<t.length;++r)ze(e,19,NG(t[r]));return ze(e,160),e.end()}function SG(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function c6(t){var e=0,r,n=SG(t),s=n.length+1,a,l,u,d,h;for(r=Bl(s),r[0]=n.length,a=1;a!=s;++a)r[a]=n[a-1];for(a=s-1;a>=0;--a)l=r[a],u=(e&16384)===0?0:1,d=e<<1&32767,h=u|d,e=h^l;return e^52811}var CG=(function(){function t(s,a){switch(a.type){case"base64":return e(Wi(s),a);case"binary":return e(s,a);case"buffer":return e(dr&&Buffer.isBuffer(s)?s.toString("binary"):X0(s),a);case"array":return e(Mm(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){var l=a||{},u=l.dense?[]:{},d=s.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(p,g){Array.isArray(u)&&(u[g]=[]);for(var y=/\\\w+\b/g,v=0,_,w=-1;_=y.exec(p);){switch(_[0]){case"\\cell":var T=p.slice(v,y.lastIndex-_[0].length);if(T[0]==" "&&(T=T.slice(1)),++w,T.length){var D={v:T,t:"s"};Array.isArray(u)?u[g][w]=D:u[Er({r:g,c:w})]=D}break}v=y.lastIndex}w>h.e.c&&(h.e.c=w)}),u["!ref"]=cn(h),u}function r(s,a){return rc(t(s,a),a)}function n(s){for(var a=["{\\rtf1\\ansi"],l=Or(s["!ref"]),u,d=Array.isArray(s),h=l.s.r;h<=l.e.r;++h){a.push("\\trowd\\trautofit1");for(var p=l.s.c;p<=l.e.c;++p)a.push("\\cellx"+(p+1));for(a.push("\\pard\\intbl"),p=l.s.c;p<=l.e.c;++p){var g=Er({r:h,c:p});u=d?(s[h]||[])[p]:s[g],!(!u||u.v==null&&(!u.f||u.F))&&(a.push(" "+(u.w||(Gi(u),u.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function $T(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var jG=6,Li=jG;function Wp(t){return Math.floor((t+Math.round(128/Li)/256)*Li)}function Gp(t){return Math.floor((t-5)/Li*100+.5)/100}function sv(t){return Math.round((t*Li+5)/Li*256)/256}function Tb(t){t.width?(t.wpx=Wp(t.width),t.wch=Gp(t.wpx),t.MDW=Li):t.wpx?(t.wch=Gp(t.wpx),t.width=sv(t.wch),t.MDW=Li):typeof t.wch=="number"&&(t.width=sv(t.wch),t.wpx=Wp(t.width),t.MDW=Li),t.customWidth&&delete t.customWidth}var IG=96,u6=IG;function qp(t){return t*96/u6}function d6(t){return t*u6/96}function PG(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=tt("numFmt",null,{numFmtId:n,formatCode:_r(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=tt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function RG(t){var e=[];return e[e.length]=tt("cellXfs",null),t.forEach(function(r){e[e.length]=tt("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=tt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function h6(t,e){var r=[un,tt("styleSheet",null,{xmlns:Vu[0],"xmlns:vt":kn.vt})],n;return t.SSF&&(n=PG(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=RG(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function DG(t,e){var r=t.read_shift(2),n=ts(t);return[r,n]}function OG(t,e,r){r||(r=Pe(6+4*e.length)),r.write_shift(2,t),An(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function FG(t,e,r){var n={};n.sz=t.read_shift(2)/20;var s=EW(t);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var a=t.read_shift(2);switch(a===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=t.read_shift(1);l!=0&&(n.underline=l);var u=t.read_shift(1);u>0&&(n.family=u);var d=t.read_shift(1);switch(d>0&&(n.charset=d),t.l++,n.color=_W(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ts(t),n}function LG(t,e){e||(e=Pe(153)),e.write_shift(2,t.sz*20),TW(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),zp(t.color,e);var n=0;return n=2,e.write_shift(1,n),An(t.name,e),e.length>e.l?e.slice(0,e.l):e}var MG=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ey,VG=hi;function BT(t,e){e||(e=Pe(84)),ey||(ey=hb(MG));var r=ey[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(zp({auto:1},e),zp({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function $G(t,e){var r=t.l+e,n=t.read_shift(2),s=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:s}}function f6(t,e,r){r||(r=Pe(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Td(t,e){return e||(e=Pe(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var BG=hi;function UG(t,e){return e||(e=Pe(51)),e.write_shift(1,0),Td(null,e),Td(null,e),Td(null,e),Td(null,e),Td(null,e),e.length>e.l?e.slice(0,e.l):e}function zG(t,e){return e||(e=Pe(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Up(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function HG(t,e,r){var n=Pe(2052);return n.write_shift(4,t),Up(e,n),Up(r,n),n.length>n.l?n.slice(0,n.l):n}function WG(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&++r}),r!=0&&(ze(t,615,Pa(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&ze(t,44,OG(s,e[s]))}),ze(t,616))}}function GG(t){var e=1;ze(t,611,Pa(e)),ze(t,43,LG({sz:12,color:{theme:1},name:"Calibri",family:2})),ze(t,612)}function qG(t){var e=2;ze(t,603,Pa(e)),ze(t,45,BT({patternType:"none"})),ze(t,45,BT({patternType:"gray125"})),ze(t,604)}function KG(t){var e=1;ze(t,613,Pa(e)),ze(t,46,UG()),ze(t,614)}function YG(t){var e=1;ze(t,626,Pa(e)),ze(t,47,f6({numFmtId:0},65535)),ze(t,627)}function XG(t,e){ze(t,617,Pa(e.length)),e.forEach(function(r){ze(t,47,f6(r,0))}),ze(t,618)}function QG(t){var e=1;ze(t,619,Pa(e)),ze(t,48,zG({xfId:0,name:"Normal"})),ze(t,620)}function JG(t){var e=0;ze(t,505,Pa(e)),ze(t,506)}function ZG(t){var e=0;ze(t,508,HG(e,"TableStyleMedium9","PivotStyleMedium4")),ze(t,509)}function eq(t,e){var r=As();return ze(r,278),WG(r,t.SSF),GG(r),qG(r),KG(r),YG(r),XG(r,e.cellXfs),QG(r),JG(r),ZG(r),ze(r,279),r.end()}function p6(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[un];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function tq(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:ts(t)}}function rq(t){var e=Pe(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),An(t.name,e),e.slice(0,e.l)}function nq(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function sq(t){var e=Pe(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function aq(t,e){var r=Pe(8+2*e.length);return r.write_shift(4,t),An(e,r),r.slice(0,r.l)}function iq(t){return t.l+=4,t.read_shift(4)!=0}function oq(t,e){var r=Pe(8);return r.write_shift(4,t),r.write_shift(4,1),r}function lq(){var t=As();return ze(t,332),ze(t,334,Pa(1)),ze(t,335,rq({name:"XLDAPR",version:12e4,flags:3496657072})),ze(t,336),ze(t,339,aq(1,"XLDAPR")),ze(t,52),ze(t,35,Pa(514)),ze(t,4096,Pa(0)),ze(t,4097,ia(1)),ze(t,36),ze(t,53),ze(t,340),ze(t,337,oq(1)),ze(t,51,sq([[1,0]])),ze(t,338),ze(t,333),t.end()}function m6(){var t=[un];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function cq(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Er(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var tu=1024;function g6(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[tt("xml",null,{"xmlns:v":Vs.v,"xmlns:o":Vs.o,"xmlns:x":Vs.x,"xmlns:mv":Vs.mv}).replace(/\/>/,">"),tt("o:shapelayout",tt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),tt("v:shapetype",[tt("v:stroke",null,{joinstyle:"miter"}),tt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];tu<t*1e3;)tu+=1e3;return e.forEach(function(a){var l=Nn(a[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var d=u.type=="gradient"?tt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=tt("v:fill",d,u),p={on:"t",obscured:"t"};++tu,s=s.concat(["<v:shape"+E0({id:"_x0000_s"+tu,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,tt("v:shadow",null,p),tt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",$n("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),$n("x:AutoFill","False"),$n("x:Row",String(l.r)),$n("x:Column",String(l.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function x6(t){var e=[un,tt("comments",null,{xmlns:Vu[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(s){var a=_r(s.a);r.indexOf(a)==-1&&(r.push(a),e.push("<author>"+a+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var s=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(d){d.a&&(s=r.indexOf(_r(d.a))),a.push(d.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),a.length<=1)e.push($n("t",_r(a[0]||"")));else{for(var l=`Comment:
    `+a[0]+`
`,u=1;u<a.length;++u)l+=`Reply:
    `+a[u]+`
`;e.push($n("t",_r(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function uq(t,e,r){var n=[un,tt("ThreadedComments",null,{xmlns:kn.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var a="";(s[1]||[]).forEach(function(l,u){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var d={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};u==0?a=d.id:d.parentId=a,l.ID=d.id,l.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),n.push(tt("threadedComment",$n("text",l.t||""),d))})}),n.push("</ThreadedComments>"),n.join("")}function dq(t){var e=[un,tt("personList",null,{xmlns:kn.TCMNT,"xmlns:x":Vu[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(tt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function hq(t){var e={};e.iauthor=t.read_shift(4);var r=ic(t);return e.rfx=r.s,e.ref=Er(r.s),t.l+=16,e}function fq(t,e){return e==null&&(e=Pe(36)),e.write_shift(4,t[1].iauthor),Bu(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var pq=ts;function mq(t){return An(t.slice(0,54))}function gq(t){var e=As(),r=[];return ze(e,628),ze(e,630),t.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),ze(e,632,mq(s.a)))})}),ze(e,631),ze(e,633),t.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var a={s:Nn(n[0]),e:Nn(n[0])};ze(e,635,fq([a,s])),s.t&&s.t.length>0&&ze(e,637,yW(s)),ze(e,636),delete s.iauthor})}),ze(e,634),ze(e,629),e.end()}function xq(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&kr.utils.cfb_add(t,s,e.FileIndex[n].content)}})}var y6=["xlsb","xlsm","xlam","biff8","xla"],yq=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,s,a,l){var u=!1,d=!1;a.length==0?d=!0:a.charAt(0)=="["&&(d=!0,a=a.slice(1,-1)),l.length==0?u=!0:l.charAt(0)=="["&&(u=!0,l=l.slice(1,-1));var h=a.length>0?parseInt(a,10)|0:0,p=l.length>0?parseInt(l,10)|0:0;return u?p+=e.c:--p,d?h+=e.r:--h,s+(u?"":"$")+es(p)+(d?"":"$")+Un(h)}return function(s,a){return e=a,s.replace(t,r)}})(),kb=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Nb=(function(){return function(e,r){return e.replace(kb,function(n,s,a,l,u,d){var h=vb(l)-(a?0:r.c),p=yb(d)-(u?0:r.r),g=p==0?"":u?p+1:"["+p+"]",y=h==0?"":a?h+1:"["+h+"]";return s+"R"+g+"C"+y})}})();function vq(t,e){return t.replace(kb,function(r,n,s,a,l,u){return n+(s=="$"?s+a:es(vb(a)+e.c))+(l=="$"?l+u:Un(yb(u)+e.r))})}function bq(t){return t.length!=1}function an(t){t.l+=1}function Go(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function v6(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return b6(t);r.biff==12&&(n=4)}var s=t.read_shift(n),a=t.read_shift(n),l=Go(t),u=Go(t);return{s:{r:s,c:l[0],cRel:l[1],rRel:l[2]},e:{r:a,c:u[0],cRel:u[1],rRel:u[2]}}}function b6(t){var e=Go(t),r=Go(t),n=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function wq(t,e,r){if(r.biff<8)return b6(t);var n=t.read_shift(r.biff==12?4:2),s=t.read_shift(r.biff==12?4:2),a=Go(t),l=Go(t);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function w6(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return _q(t);var n=t.read_shift(r&&r.biff==12?4:2),s=Go(t);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function _q(t){var e=Go(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function Eq(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Tq(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return kq(t);var s=t.read_shift(n>=12?4:2),a=t.read_shift(2),l=(a&16384)>>14,u=(a&32768)>>15;if(a&=16383,u==1)for(;s>524287;)s-=1048576;if(l==1)for(;a>8191;)a=a-16384;return{r:s,c:a,cRel:l,rRel:u}}function kq(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),s==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:s,rRel:n}}function Nq(t,e,r){var n=(t[t.l++]&96)>>5,s=v6(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function Aq(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var l=v6(t,a,r);return[n,s,l]}function Sq(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Cq(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[n,s]}function jq(t,e,r){var n=(t[t.l++]&96)>>5,s=wq(t,e-1,r);return[n,s]}function Iq(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function UT(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function Pq(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),s=[],a=0;a<=n;++a)s.push(t.read_shift(r&&r.biff==2?1:2));return s}function Rq(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function Dq(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function Oq(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Fq(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function _6(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function Lq(t){return t.read_shift(2),_6(t)}function Mq(t){return t.read_shift(2),_6(t)}function Vq(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=w6(t,0,r);return[n,s]}function $q(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=Tq(t,0,r);return[n,s]}function Bq(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var a=w6(t,0,r);return[n,s,a]}function Uq(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(r&&r.biff<=3?1:2);return[UK[s],k6[s],n]}function zq(t,e,r){var n=t[t.l++],s=t.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:Hq(t);return[s,(a[0]===0?k6:BK)[a[1]]]}function Hq(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Wq(t,e,r){t.l+=r&&r.biff==2?3:4}function Gq(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function qq(t){return t.l++,Z0[t.read_shift(1)]}function Kq(t){return t.l++,t.read_shift(2)}function Yq(t){return t.l++,t.read_shift(1)!==0}function Xq(t){return t.l++,Uu(t)}function Qq(t,e,r){return t.l++,s6(t,e-1,r)}function Jq(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=BW(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Z0[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Uu(t);break;case 2:r[1]=WW(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Zq(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),s=[],a=0;a!=n;++a)s.push((r.biff==12?ic:KW)(t));return s}function eK(t,e,r){var n=0,s=0;r.biff==12?(n=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var a=0,l=[];a!=n&&(l[a]=[]);++a)for(var u=0;u!=s;++u)l[a][u]=Jq(t,r.biff);return l}function tK(t,e,r){var n=t.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,a=t.read_shift(s);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,a]}function rK(t,e,r){if(r.biff==5)return nK(t);var n=t.read_shift(1)>>>5&3,s=t.read_shift(2),a=t.read_shift(4);return[n,s,a]}function nK(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function sK(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function aK(t,e,r){var n=t.read_shift(1)>>>5&3,s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function iK(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function oK(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[n,s]}var lK=hi,cK=hi,uK=hi;function eh(t,e,r){return t.l+=2,[Eq(t)]}function Ab(t){return t.l+=6,[]}var dK=eh,hK=Ab,fK=Ab,pK=eh;function E6(t){return t.l+=2,[r6(t),t.read_shift(2)&1]}var mK=eh,gK=E6,xK=Ab,yK=eh,vK=eh,bK=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function wK(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),s=t.read_shift(2),a=t.read_shift(2),l=bK[r>>2&31];return{ixti:e,coltype:r&3,rt:l,idx:n,c:s,C:a}}function _K(t){return t.l+=2,[t.read_shift(4)]}function EK(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function TK(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function kK(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function NK(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function AK(t){return t.l+=4,[0,0]}var zT={1:{n:"PtgExp",f:Gq},2:{n:"PtgTbl",f:uK},3:{n:"PtgAdd",f:an},4:{n:"PtgSub",f:an},5:{n:"PtgMul",f:an},6:{n:"PtgDiv",f:an},7:{n:"PtgPower",f:an},8:{n:"PtgConcat",f:an},9:{n:"PtgLt",f:an},10:{n:"PtgLe",f:an},11:{n:"PtgEq",f:an},12:{n:"PtgGe",f:an},13:{n:"PtgGt",f:an},14:{n:"PtgNe",f:an},15:{n:"PtgIsect",f:an},16:{n:"PtgUnion",f:an},17:{n:"PtgRange",f:an},18:{n:"PtgUplus",f:an},19:{n:"PtgUminus",f:an},20:{n:"PtgPercent",f:an},21:{n:"PtgParen",f:an},22:{n:"PtgMissArg",f:an},23:{n:"PtgStr",f:Qq},26:{n:"PtgSheet",f:EK},27:{n:"PtgEndSheet",f:TK},28:{n:"PtgErr",f:qq},29:{n:"PtgBool",f:Yq},30:{n:"PtgInt",f:Kq},31:{n:"PtgNum",f:Xq},32:{n:"PtgArray",f:Iq},33:{n:"PtgFunc",f:Uq},34:{n:"PtgFuncVar",f:zq},35:{n:"PtgName",f:tK},36:{n:"PtgRef",f:Vq},37:{n:"PtgArea",f:Nq},38:{n:"PtgMemArea",f:sK},39:{n:"PtgMemErr",f:lK},40:{n:"PtgMemNoMem",f:cK},41:{n:"PtgMemFunc",f:aK},42:{n:"PtgRefErr",f:iK},43:{n:"PtgAreaErr",f:Sq},44:{n:"PtgRefN",f:$q},45:{n:"PtgAreaN",f:jq},46:{n:"PtgMemAreaN",f:kK},47:{n:"PtgMemNoMemN",f:NK},57:{n:"PtgNameX",f:rK},58:{n:"PtgRef3d",f:Bq},59:{n:"PtgArea3d",f:Aq},60:{n:"PtgRefErr3d",f:oK},61:{n:"PtgAreaErr3d",f:Cq},255:{}},SK={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},CK={1:{n:"PtgElfLel",f:E6},2:{n:"PtgElfRw",f:yK},3:{n:"PtgElfCol",f:dK},6:{n:"PtgElfRwV",f:vK},7:{n:"PtgElfColV",f:pK},10:{n:"PtgElfRadical",f:mK},11:{n:"PtgElfRadicalS",f:xK},13:{n:"PtgElfColS",f:hK},15:{n:"PtgElfColSV",f:fK},16:{n:"PtgElfRadicalLel",f:gK},25:{n:"PtgList",f:wK},29:{n:"PtgSxName",f:_K},255:{}},jK={0:{n:"PtgAttrNoop",f:AK},1:{n:"PtgAttrSemi",f:Fq},2:{n:"PtgAttrIf",f:Dq},4:{n:"PtgAttrChoose",f:Pq},8:{n:"PtgAttrGoto",f:Rq},16:{n:"PtgAttrSum",f:Wq},32:{n:"PtgAttrBaxcel",f:UT},33:{n:"PtgAttrBaxcel",f:UT},64:{n:"PtgAttrSpace",f:Lq},65:{n:"PtgAttrSpaceSemi",f:Mq},128:{n:"PtgAttrIfError",f:Oq},255:{}};function IK(t,e,r,n){if(n.biff<8)return hi(t,e);for(var s=t.l+e,a=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=eK(t,0,n),a.push(r[l][1]);break;case"PtgMemArea":r[l][2]=Zq(t,r[l][1],n),a.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=t.read_shift(4),a.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return e=s-t.l,e!==0&&a.push(hi(t,e)),a}function PK(t,e,r){for(var n=t.l+e,s,a,l=[];n!=t.l;)e=n-t.l,a=t[t.l],s=zT[a]||zT[SK[a]],(a===24||a===25)&&(s=(a===24?CK:jK)[t[t.l+1]]),!s||!s.f?hi(t,e):l.push([s.n,s.f(t,e,r)]);return l}function RK(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],s=[],a=0;a<n.length;++a){var l=n[a];if(l)switch(l[0]){case 2:s.push('"'+l[1].replace(/"/g,'""')+'"');break;default:s.push(l[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var DK={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function OK(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function T6(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(t[n[0]][0]){case 357:return s=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[n[0]][0][3]?(s=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function HT(t,e,r){var n=T6(t,e,r);return n=="#REF"?n:OK(n,r)}function Nu(t,e,r,n,s){var a=s&&s.biff||8,l={s:{c:0,r:0}},u=[],d,h,p,g=0,y=0,v,_="";if(!t[0]||!t[0][0])return"";for(var w=-1,T="",D=0,I=t[0].length;D<I;++D){var z=t[0][D];switch(z[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=u.pop(),h=u.pop(),w>=0){switch(t[0][w][1][0]){case 0:T=Xr(" ",t[0][w][1][1]);break;case 1:T=Xr("\r",t[0][w][1][1]);break;default:if(T="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}h=h+T,w=-1}u.push(h+DK[z[0]]+d);break;case"PtgIsect":d=u.pop(),h=u.pop(),u.push(h+" "+d);break;case"PtgUnion":d=u.pop(),h=u.pop(),u.push(h+","+d);break;case"PtgRange":d=u.pop(),h=u.pop(),u.push(h+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=Yd(z[1][1],l,s),u.push(Xd(p,a));break;case"PtgRefN":p=r?Yd(z[1][1],r,s):z[1][1],u.push(Xd(p,a));break;case"PtgRef3d":g=z[1][1],p=Yd(z[1][2],l,s),_=HT(n,g,s),u.push(_+"!"+Xd(p,a));break;case"PtgFunc":case"PtgFuncVar":var F=z[1][0],Y=z[1][1];F||(F=0),F&=127;var U=F==0?[]:u.slice(-F);u.length-=F,Y==="User"&&(Y=U.shift()),u.push(Y+"("+U.join(",")+")");break;case"PtgBool":u.push(z[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(z[1]);break;case"PtgNum":u.push(String(z[1]));break;case"PtgStr":u.push('"'+z[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(z[1]);break;case"PtgAreaN":v=ST(z[1][1],r?{s:r}:l,s),u.push(Jx(v,s));break;case"PtgArea":v=ST(z[1][1],l,s),u.push(Jx(v,s));break;case"PtgArea3d":g=z[1][1],v=z[1][2],_=HT(n,g,s),u.push(_+"!"+Jx(v,s));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=z[1][2];var S=(n.names||[])[y-1]||(n[0]||[])[y],A=S?S.Name:"SH33TJSNAME"+String(y);A&&A.slice(0,6)=="_xlfn."&&!s.xlfn&&(A=A.slice(6)),u.push(A);break;case"PtgNameX":var j=z[1][1];y=z[1][2];var R;if(s.biff<=5)j<0&&(j=-j),n[j]&&(R=n[j][y]);else{var M="";if(((n[j]||[])[0]||[])[0]==14849||(((n[j]||[])[0]||[])[0]==1025?n[j][y]&&n[j][y].itab>0&&(M=n.SheetNames[n[j][y].itab-1]+"!"):M=n.SheetNames[y-1]+"!"),n[j]&&n[j][y])M+=n[j][y].Name;else if(n[0]&&n[0][y])M+=n[0][y].Name;else{var L=(T6(n,j,s)||"").split(";;");L[y-1]?M=L[y-1]:M+="SH33TJSERRX"}u.push(M);break}R||(R={Name:"SH33TJSERRY"}),u.push(R.Name);break;case"PtgParen":var O="(",fe=")";if(w>=0){switch(T="",t[0][w][1][0]){case 2:O=Xr(" ",t[0][w][1][1])+O;break;case 3:O=Xr("\r",t[0][w][1][1])+O;break;case 4:fe=Xr(" ",t[0][w][1][1])+fe;break;case 5:fe=Xr("\r",t[0][w][1][1])+fe;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}w=-1}u.push(O+u.pop()+fe);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":p={c:z[1][1],r:z[1][0]};var ke={c:r.c,r:r.r};if(n.sharedf[Er(p)]){var Ce=n.sharedf[Er(p)];u.push(Nu(Ce,l,ke,n,s))}else{var Re=!1;for(d=0;d!=n.arrayf.length;++d)if(h=n.arrayf[d],!(p.c<h[0].s.c||p.c>h[0].e.c)&&!(p.r<h[0].s.r||p.r>h[0].e.r)){u.push(Nu(h[1],l,ke,n,s)),Re=!0;break}Re||u.push(z[1])}break;case"PtgArray":u.push("{"+RK(z[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=D;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+z[1].idx+"[#"+z[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(z));default:throw new Error("Unrecognized Formula Token: "+String(z))}var Ee=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&w>=0&&Ee.indexOf(t[0][D][0])==-1){z=t[0][w];var ie=!0;switch(z[1][0]){case 4:ie=!1;case 0:T=Xr(" ",z[1][1]);break;case 5:ie=!1;case 1:T=Xr("\r",z[1][1]);break;default:if(T="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+z[1][0])}u.push((ie?T:"")+u.pop()+(ie?"":T)),w=-1}}if(u.length>1&&s.WTF)throw new Error("bad formula stack");return u[0]}function FK(t){if(t==null){var e=Pe(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Ul(t);return Ul(0)}function LK(t,e,r,n,s){var a=zl(e,r,s),l=FK(t.v),u=Pe(6),d=33;u.write_shift(2,d),u.write_shift(4,0);for(var h=Pe(t.bf.length),p=0;p<t.bf.length;++p)h[p]=t.bf[p];var g=Vn([a,l,u,h]);return g}function Vm(t,e,r){var n=t.read_shift(4),s=PK(t,n,r),a=t.read_shift(4),l=a>0?IK(t,a,s,r):null;return[s,l]}var MK=Vm,$m=Vm,VK=Vm,$K=Vm,BK={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},k6={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},UK={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function zK(t){var e="of:="+t.replace(kb,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function HK(t){return t.replace(/\./,"!")}var Qd=typeof Map<"u";function Sb(t,e,r){var n=0,s=t.length;if(r){if(Qd?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var a=Qd?r.get(e):r[e];n<a.length;++n)if(t[a[n]].t===e)return t.Count++,a[n]}}else for(;n<s;++n)if(t[n].t===e)return t.Count++,n;return t[s]={t:e},t.Count++,t.Unique++,r&&(Qd?(r.has(e)||r.set(e,[]),r.get(e).push(s)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(s))),s}function Bm(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Li=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Gp(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=sv(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function N6(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function el(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],s=60,a=t.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){w5(e.z,s),r.ssf[s]=e.z,r.revssf[e.z]=n=s;break}}for(s=0;s!=a;++s)if(t[s].numFmtId===n)return s;return t[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function WK(t,e,r){if(t&&t["!ref"]){var n=Or(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function GK(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+cn(t[r])+'"/>';return e+"</mergeCells>"}function qK(t,e,r,n,s){var a=!1,l={},u=null;if(n.bookType!=="xlsx"&&e.vbaraw){var d=e.SheetNames[r];try{e.Workbook&&(d=e.Workbook.Sheets[r].CodeName||d)}catch{}a=!0,l.codeName=_0(_r(d))}if(t&&t["!outline"]){var h={summaryBelow:1,summaryRight:1};t["!outline"].above&&(h.summaryBelow=0),t["!outline"].left&&(h.summaryRight=0),u=(u||"")+tt("outlinePr",null,h)}!a&&!u||(s[s.length]=tt("sheetPr",u,l))}var KK=["objects","scenarios","selectLockedCells","selectUnlockedCells"],YK=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function XK(t){var e={sheet:1};return KK.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),YK.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=c6(t.password).toString(16).toUpperCase()),tt("sheetProtection",null,e)}function QK(t){return N6(t),tt("pageMargins",null,t)}function JK(t,e){for(var r=["<cols>"],n,s=0;s!=e.length;++s)(n=e[s])&&(r[r.length]=tt("col",null,Bm(s,n)));return r[r.length]="</cols>",r.join("")}function ZK(t,e,r,n){var s=typeof t.ref=="string"?t.ref:cn(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,l=qs(s);l.s.r==l.e.r&&(l.e.r=qs(e["!ref"]).e.r,s=cn(l));for(var u=0;u<a.length;++u){var d=a[u];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return u==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),tt("autoFilter",null,{ref:s})}function eY(t,e,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),tt("sheetViews",tt("sheetView",null,s),{})}function tY(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",a=t.t,l=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=Z0[t.v];break;case"d":n&&n.cellDates?s=hs(t.v,-1).toISOString():(t=Cs(t),t.t="n",s=""+(t.v=Ss(hs(t.v)))),typeof t.z>"u"&&(t.z=Qr[14]);break;default:s=t.v;break}var u=$n("v",_r(s)),d={r:e},h=el(n.cellXfs,t,n);switch(h!==0&&(d.s=h),t.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){u=$n("v",""+Sb(n.Strings,t.v,n.revStrings)),d.t="s";break}d.t="str";break}if(t.t!=a&&(t.t=a,t.v=l),typeof t.f=="string"&&t.f){var p=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;u=tt("f",_r(t.f),p)+(t.v!=null?u:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(d.cm=1),tt("c",u,d)}function rY(t,e,r,n){var s=[],a=[],l=Or(t["!ref"]),u="",d,h="",p=[],g=0,y=0,v=t["!rows"],_=Array.isArray(t),w={r:h},T,D=-1;for(y=l.s.c;y<=l.e.c;++y)p[y]=es(y);for(g=l.s.r;g<=l.e.r;++g){for(a=[],h=Un(g),y=l.s.c;y<=l.e.c;++y){d=p[y]+h;var I=_?(t[g]||[])[y]:t[d];I!==void 0&&(u=tY(I,d,t,e))!=null&&a.push(u)}(a.length>0||v&&v[g])&&(w={r:h},v&&v[g]&&(T=v[g],T.hidden&&(w.hidden=1),D=-1,T.hpx?D=qp(T.hpx):T.hpt&&(D=T.hpt),D>-1&&(w.ht=D,w.customHeight=1),T.level&&(w.outlineLevel=T.level)),s[s.length]=tt("row",a.join(""),w))}if(v)for(;g<v.length;++g)v&&v[g]&&(w={r:g+1},T=v[g],T.hidden&&(w.hidden=1),D=-1,T.hpx?D=qp(T.hpx):T.hpt&&(D=T.hpt),D>-1&&(w.ht=D,w.customHeight=1),T.level&&(w.outlineLevel=T.level),s[s.length]=tt("row","",w));return s.join("")}function A6(t,e,r,n){var s=[un,tt("worksheet",null,{xmlns:Vu[0],"xmlns:r":kn.r})],a=r.SheetNames[t],l=0,u="",d=r.Sheets[a];d==null&&(d={});var h=d["!ref"]||"A1",p=Or(h);if(p.e.c>16383||p.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),h=cn(p)}n||(n={}),d["!comments"]=[];var g=[];qK(d,r,t,e,s),s[s.length]=tt("dimension",null,{ref:h}),s[s.length]=eY(d,e,t,r),e.sheetFormat&&(s[s.length]=tt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(s[s.length]=JK(d,d["!cols"])),s[l=s.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(u=rY(d,e),u.length>0&&(s[s.length]=u)),s.length>l+1&&(s[s.length]="</sheetData>",s[l]=s[l].replace("/>",">")),d["!protect"]&&(s[s.length]=XK(d["!protect"])),d["!autofilter"]!=null&&(s[s.length]=ZK(d["!autofilter"],d,r,t)),d["!merges"]!=null&&d["!merges"].length>0&&(s[s.length]=GK(d["!merges"]));var y=-1,v,_=-1;return d["!links"].length>0&&(s[s.length]="<hyperlinks>",d["!links"].forEach(function(w){w[1].Target&&(v={ref:w[0]},w[1].Target.charAt(0)!="#"&&(_=vr(n,-1,_r(w[1].Target).replace(/#.*$/,""),lr.HLINK),v["r:id"]="rId"+_),(y=w[1].Target.indexOf("#"))>-1&&(v.location=_r(w[1].Target.slice(y+1))),w[1].Tooltip&&(v.tooltip=_r(w[1].Tooltip)),s[s.length]=tt("hyperlink",null,v))}),s[s.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(s[s.length]=QK(d["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=$n("ignoredErrors",tt("ignoredError",null,{numberStoredAsText:1,sqref:h}))),g.length>0&&(_=vr(n,-1,"../drawings/drawing"+(t+1)+".xml",lr.DRAW),s[s.length]=tt("drawing",null,{"r:id":"rId"+_}),d["!drawing"]=g),d["!comments"].length>0&&(_=vr(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",lr.VML),s[s.length]=tt("legacyDrawing",null,{"r:id":"rId"+_}),d["!legacy"]=_),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function nY(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=s/20),r}function sY(t,e,r){var n=Pe(145),s=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var a=320;s.hpx?a=qp(s.hpx)*20:s.hpt&&(a=s.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var l=0;s.level&&(l|=s.level),s.hidden&&(l|=16),(s.hpx||s.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var u=0,d=n.l;n.l+=4;for(var h={r:t,c:0},p=0;p<16;++p)if(!(e.s.c>p+1<<10||e.e.c<p<<10)){for(var g=-1,y=-1,v=p<<10;v<p+1<<10;++v){h.c=v;var _=Array.isArray(r)?(r[h.r]||[])[h.c]:r[Er(h)];_&&(g<0&&(g=v),y=v)}g<0||(++u,n.write_shift(4,g),n.write_shift(4,y))}var w=n.l;return n.l=d,n.write_shift(4,u),n.l=w,n.length>n.l?n.slice(0,n.l):n}function aY(t,e,r,n){var s=sY(n,r,e);(s.length>17||(e["!rows"]||[])[n])&&ze(t,0,s)}var iY=ic,oY=Bu;function lY(){}function cY(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=vW(t),r}function uY(t,e,r){r==null&&(r=Pe(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return zp({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),U5(t,r),r.slice(0,r.l)}function dY(t){var e=ha(t);return[e]}function hY(t,e,r){return r==null&&(r=Pe(8)),nc(e,r)}function fY(t){var e=sc(t);return[e]}function pY(t,e,r){return r==null&&(r=Pe(4)),ac(e,r)}function mY(t){var e=ha(t),r=t.read_shift(1);return[e,r,"b"]}function gY(t,e,r){return r==null&&(r=Pe(9)),nc(e,r),r.write_shift(1,t.v?1:0),r}function xY(t){var e=sc(t),r=t.read_shift(1);return[e,r,"b"]}function yY(t,e,r){return r==null&&(r=Pe(5)),ac(e,r),r.write_shift(1,t.v?1:0),r}function vY(t){var e=ha(t),r=t.read_shift(1);return[e,r,"e"]}function bY(t,e,r){return r==null&&(r=Pe(9)),nc(e,r),r.write_shift(1,t.v),r}function wY(t){var e=sc(t),r=t.read_shift(1);return[e,r,"e"]}function _Y(t,e,r){return r==null&&(r=Pe(8)),ac(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function EY(t){var e=ha(t),r=t.read_shift(4);return[e,r,"s"]}function TY(t,e,r){return r==null&&(r=Pe(12)),nc(e,r),r.write_shift(4,e.v),r}function kY(t){var e=sc(t),r=t.read_shift(4);return[e,r,"s"]}function NY(t,e,r){return r==null&&(r=Pe(8)),ac(e,r),r.write_shift(4,e.v),r}function AY(t){var e=ha(t),r=Uu(t);return[e,r,"n"]}function SY(t,e,r){return r==null&&(r=Pe(16)),nc(e,r),Ul(t.v,r),r}function CY(t){var e=sc(t),r=Uu(t);return[e,r,"n"]}function jY(t,e,r){return r==null&&(r=Pe(12)),ac(e,r),Ul(t.v,r),r}function IY(t){var e=ha(t),r=z5(t);return[e,r,"n"]}function PY(t,e,r){return r==null&&(r=Pe(12)),nc(e,r),H5(t.v,r),r}function RY(t){var e=sc(t),r=z5(t);return[e,r,"n"]}function DY(t,e,r){return r==null&&(r=Pe(8)),ac(e,r),H5(t.v,r),r}function OY(t){var e=ha(t),r=bb(t);return[e,r,"is"]}function FY(t){var e=ha(t),r=ts(t);return[e,r,"str"]}function LY(t,e,r){return r==null&&(r=Pe(12+4*t.v.length)),nc(e,r),An(t.v,r),r.length>r.l?r.slice(0,r.l):r}function MY(t){var e=sc(t),r=ts(t);return[e,r,"str"]}function VY(t,e,r){return r==null&&(r=Pe(8+4*t.v.length)),ac(e,r),An(t.v,r),r.length>r.l?r.slice(0,r.l):r}function $Y(t,e,r){var n=t.l+e,s=ha(t);s.r=r["!row"];var a=t.read_shift(1),l=[s,a,"b"];if(r.cellFormula){t.l+=2;var u=$m(t,n-t.l,r);l[3]=Nu(u,null,s,r.supbooks,r)}else t.l=n;return l}function BY(t,e,r){var n=t.l+e,s=ha(t);s.r=r["!row"];var a=t.read_shift(1),l=[s,a,"e"];if(r.cellFormula){t.l+=2;var u=$m(t,n-t.l,r);l[3]=Nu(u,null,s,r.supbooks,r)}else t.l=n;return l}function UY(t,e,r){var n=t.l+e,s=ha(t);s.r=r["!row"];var a=Uu(t),l=[s,a,"n"];if(r.cellFormula){t.l+=2;var u=$m(t,n-t.l,r);l[3]=Nu(u,null,s,r.supbooks,r)}else t.l=n;return l}function zY(t,e,r){var n=t.l+e,s=ha(t);s.r=r["!row"];var a=ts(t),l=[s,a,"str"];if(r.cellFormula){t.l+=2;var u=$m(t,n-t.l,r);l[3]=Nu(u,null,s,r.supbooks,r)}else t.l=n;return l}var HY=ic,WY=Bu;function GY(t,e){return e==null&&(e=Pe(4)),e.write_shift(4,t),e}function qY(t,e){var r=t.l+e,n=ic(t),s=wb(t),a=ts(t),l=ts(t),u=ts(t);t.l=r;var d={rfx:n,relId:s,loc:a,display:u};return l&&(d.Tooltip=l),d}function KY(t,e){var r=Pe(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Bu({s:Nn(t[0]),e:Nn(t[0])},r),_b("rId"+e,r);var n=t[1].Target.indexOf("#"),s=n==-1?"":t[1].Target.slice(n+1);return An(s||"",r),An(t[1].Tooltip||"",r),An("",r),r.slice(0,r.l)}function YY(){}function XY(t,e,r){var n=t.l+e,s=W5(t),a=t.read_shift(1),l=[s];if(l[2]=a,r.cellFormula){var u=MK(t,n-t.l,r);l[1]=u}else t.l=n;return l}function QY(t,e,r){var n=t.l+e,s=ic(t),a=[s];if(r.cellFormula){var l=$K(t,n-t.l,r);a[1]=l,t.l=n}else t.l=n;return a}function JY(t,e,r){r==null&&(r=Pe(18));var n=Bm(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),r.write_shift(2,s),r}var S6=["left","right","top","bottom","header","footer"];function ZY(t){var e={};return S6.forEach(function(r){e[r]=Uu(t)}),e}function eX(t,e){return e==null&&(e=Pe(48)),N6(t),S6.forEach(function(r){Ul(t[r],e)}),e}function tX(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function rX(t,e,r){r==null&&(r=Pe(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function nX(t){var e=Pe(24);return e.write_shift(4,4),e.write_shift(4,1),Bu(t,e),e}function sX(t,e){return e==null&&(e=Pe(66)),e.write_shift(2,t.password?c6(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function aX(){}function iX(){}function oX(t,e,r,n,s,a,l){if(e.v===void 0)return!1;var u="";switch(e.t){case"b":u=e.v?"1":"0";break;case"d":e=Cs(e),e.z=e.z||Qr[14],e.v=Ss(hs(e.v)),e.t="n";break;case"n":case"e":u=""+e.v;break;default:u=e.v;break}var d={r,c:n};switch(d.s=el(s.cellXfs,e,s),e.l&&a["!links"].push([Er(d),e.l]),e.c&&a["!comments"].push([Er(d),e.c]),e.t){case"s":case"str":return s.bookSST?(u=Sb(s.Strings,e.v,s.revStrings),d.t="s",d.v=u,l?ze(t,18,NY(e,d)):ze(t,7,TY(e,d))):(d.t="str",l?ze(t,17,VY(e,d)):ze(t,6,LY(e,d))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?ze(t,13,DY(e,d)):ze(t,2,PY(e,d)):l?ze(t,16,jY(e,d)):ze(t,5,SY(e,d)),!0;case"b":return d.t="b",l?ze(t,15,yY(e,d)):ze(t,4,gY(e,d)),!0;case"e":return d.t="e",l?ze(t,14,_Y(e,d)):ze(t,3,bY(e,d)),!0}return l?ze(t,12,pY(e,d)):ze(t,1,hY(e,d)),!0}function lX(t,e,r,n){var s=Or(e["!ref"]||"A1"),a,l="",u=[];ze(t,145);var d=Array.isArray(e),h=s.e.r;e["!rows"]&&(h=Math.max(s.e.r,e["!rows"].length-1));for(var p=s.s.r;p<=h;++p){l=Un(p),aY(t,e,s,p);var g=!1;if(p<=s.e.r)for(var y=s.s.c;y<=s.e.c;++y){p===s.s.r&&(u[y]=es(y)),a=u[y]+l;var v=d?(e[p]||[])[y]:e[a];if(!v){g=!1;continue}g=oX(t,v,p,y,n,e,g)}}ze(t,146)}function cX(t,e){!e||!e["!merges"]||(ze(t,177,GY(e["!merges"].length)),e["!merges"].forEach(function(r){ze(t,176,WY(r))}),ze(t,178))}function uX(t,e){!e||!e["!cols"]||(ze(t,390),e["!cols"].forEach(function(r,n){r&&ze(t,60,JY(n,r))}),ze(t,391))}function dX(t,e){!e||!e["!ref"]||(ze(t,648),ze(t,649,nX(Or(e["!ref"]))),ze(t,650))}function hX(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var s=vr(r,-1,n[1].Target.replace(/#.*$/,""),lr.HLINK);ze(t,494,KY(n,s))}}),delete e["!links"]}function fX(t,e,r,n){if(e["!comments"].length>0){var s=vr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",lr.VML);ze(t,551,_b("rId"+s)),e["!legacy"]=s}}function pX(t,e,r,n){if(e["!autofilter"]){var s=e["!autofilter"],a=typeof s.ref=="string"?s.ref:cn(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,u=qs(a);u.s.r==u.e.r&&(u.e.r=qs(e["!ref"]).e.r,a=cn(u));for(var d=0;d<l.length;++d){var h=l[d];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==n){h.Ref="'"+r.SheetNames[n]+"'!"+a;break}}d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ze(t,161,Bu(Or(a))),ze(t,162)}}function mX(t,e,r){ze(t,133),ze(t,137,rX(e,r)),ze(t,138),ze(t,134)}function gX(t,e){e["!protect"]&&ze(t,535,sX(e["!protect"]))}function xX(t,e,r,n){var s=As(),a=r.SheetNames[t],l=r.Sheets[a]||{},u=a;try{r&&r.Workbook&&(u=r.Workbook.Sheets[t].CodeName||u)}catch{}var d=Or(l["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],ze(s,129),(r.vbaraw||l["!outline"])&&ze(s,147,uY(u,l["!outline"])),ze(s,148,oY(d)),mX(s,l,r.Workbook),uX(s,l),lX(s,l,t,e),gX(s,l),pX(s,l,r,t),cX(s,l),hX(s,l,n),l["!margins"]&&ze(s,476,eX(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&dX(s,l),fX(s,l,t,n),ze(s,130),s.end()}function yX(t,e){t.l+=10;var r=ts(t);return{name:r}}var vX=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function bX(t){return!t.Workbook||!t.Workbook.WBProps?"false":QH(t.Workbook.WBProps.date1904)?"true":"false"}var wX="][*?/\\".split("");function C6(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return wX.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function _X(t,e,r){t.forEach(function(n,s){C6(n);for(var a=0;a<s;++a)if(n==t[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var l=e&&e[s]&&e[s].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function EX(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];_X(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)WK(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function j6(t){var e=[un];e[e.length]=tt("workbook",null,{xmlns:Vu[0],"xmlns:r":kn.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(vX.forEach(function(u){t.Workbook.WBProps[u[0]]!=null&&t.Workbook.WBProps[u[0]]!=u[1]&&(n[u[0]]=t.Workbook.WBProps[u[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=tt("workbookPr",null,n);var s=t.Workbook&&t.Workbook.Sheets||[],a=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!s[a]||!s[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var l={name:_r(t.SheetNames[a].slice(0,31))};if(l.sheetId=""+(a+1),l["r:id"]="rId"+(a+1),s[a])switch(s[a].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=tt("sheet",null,l)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(u){var d={name:u.Name};u.Comment&&(d.comment=u.Comment),u.Sheet!=null&&(d.localSheetId=""+u.Sheet),u.Hidden&&(d.hidden="1"),u.Ref&&(e[e.length]=tt("definedName",_r(u.Ref),d))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function TX(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=nv(t),r.name=ts(t),r}function kX(t,e){return e||(e=Pe(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),_b(t.strRelID,e),An(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function NX(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var s=e>8?ts(t):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function AX(t,e){e||(e=Pe(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),U5(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function SX(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),a=bW(t),l=VK(t,0,r),u=wb(t);t.l=n;var d={Name:a,Ptg:l};return s<268435455&&(d.Sheet=s),u&&(d.Comment=u),d}function CX(t,e){ze(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};ze(t,156,kX(s))}ze(t,144)}function jX(t,e){e||(e=Pe(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return An("SheetJS",e),An(Op.version,e),An(Op.version,e),An("7262",e),e.length>e.l?e.slice(0,e.l):e}function IX(t,e){e||(e=Pe(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function PX(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,s=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&a==-1&&(a=n);a>s||(ze(t,135),ze(t,158,IX(s)),ze(t,136))}}function RX(t,e){var r=As();return ze(r,131),ze(r,128,jX()),ze(r,153,AX(t.Workbook&&t.Workbook.WBProps||null)),PX(r,t),CX(r,t),ze(r,132),r.end()}function DX(t,e,r){return(e.slice(-4)===".bin"?RX:j6)(t)}function OX(t,e,r,n,s){return(e.slice(-4)===".bin"?xX:A6)(t,r,n,s)}function FX(t,e,r){return(e.slice(-4)===".bin"?eq:h6)(t,r)}function LX(t,e,r){return(e.slice(-4)===".bin"?AG:l6)(t,r)}function MX(t,e,r){return(e.slice(-4)===".bin"?gq:x6)(t)}function VX(t){return(t.slice(-4)===".bin"?lq:m6)()}function $X(t,e){var r=[];return t.Props&&r.push(FW(t.Props,e)),t.Custprops&&r.push(LW(t.Props,t.Custprops)),r.join("")}function BX(){return""}function UX(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,s){var a=[];a.push(tt("NumberFormat",null,{"ss:Format":_r(Qr[n.numFmtId])}));var l={"ss:ID":"s"+(21+s)};r.push(tt("Style",a.join(""),l))}),tt("Styles",r.join(""))}function I6(t){return tt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Nb(t.Ref,{r:0,c:0})})}function zX(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var s=e[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(I6(s)))}return tt("Names",r.join(""))}function HX(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,a=[],l=0;l<s.length;++l){var u=s[l];u.Sheet==r&&(u.Name.match(/^_xlfn\./)||a.push(I6(u)))}return a.join("")}function WX(t,e,r,n){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(tt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(tt("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(tt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(tt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push($n("ProtectContents","True")),t["!protect"].objects&&s.push($n("ProtectObjects","True")),t["!protect"].scenarios&&s.push($n("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push($n("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push($n("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){t["!protect"][l[0]]&&s.push("<"+l[1]+"/>")})),s.length==0?"":tt("WorksheetOptions",s.join(""),{xmlns:Vs.x})}function GX(t){return t.map(function(e){var r=XH(e.t||""),n=tt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return tt("Comment",n,{"ss:Author":e.a})}).join("")}function qX(t,e,r,n,s,a,l){if(!t||t.v==null&&t.f==null)return"";var u={};if(t.f&&(u["ss:Formula"]="="+_r(Nb(t.f,l))),t.F&&t.F.slice(0,e.length)==e){var d=Nn(t.F.slice(e.length+1));u["ss:ArrayRange"]="RC:R"+(d.r==l.r?"":"["+(d.r-l.r)+"]")+"C"+(d.c==l.c?"":"["+(d.c-l.c)+"]")}if(t.l&&t.l.Target&&(u["ss:HRef"]=_r(t.l.Target),t.l.Tooltip&&(u["x:HRefScreenTip"]=_r(t.l.Tooltip))),r["!merges"])for(var h=r["!merges"],p=0;p!=h.length;++p)h[p].s.c!=l.c||h[p].s.r!=l.r||(h[p].e.c>h[p].s.c&&(u["ss:MergeAcross"]=h[p].e.c-h[p].s.c),h[p].e.r>h[p].s.r&&(u["ss:MergeDown"]=h[p].e.r-h[p].s.r));var g="",y="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":g="Number",y=String(t.v);break;case"b":g="Boolean",y=t.v?"1":"0";break;case"e":g="Error",y=Z0[t.v];break;case"d":g="DateTime",y=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Qr[14]);break;case"s":g="String",y=YH(t.v||"");break}var v=el(n.cellXfs,t,n);u["ss:StyleID"]="s"+(21+v),u["ss:Index"]=l.c+1;var _=t.v!=null?y:"",w=t.t=="z"?"":'<Data ss:Type="'+g+'">'+_+"</Data>";return(t.c||[]).length>0&&(w+=GX(t.c)),tt("Cell",w,u)}function KX(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=d6(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function YX(t,e,r,n){if(!t["!ref"])return"";var s=Or(t["!ref"]),a=t["!merges"]||[],l=0,u=[];t["!cols"]&&t["!cols"].forEach(function(T,D){Tb(T);var I=!!T.width,z=Bm(D,T),F={"ss:Index":D+1};I&&(F["ss:Width"]=Wp(z.width)),T.hidden&&(F["ss:Hidden"]="1"),u.push(tt("Column",null,F))});for(var d=Array.isArray(t),h=s.s.r;h<=s.e.r;++h){for(var p=[KX(h,(t["!rows"]||[])[h])],g=s.s.c;g<=s.e.c;++g){var y=!1;for(l=0;l!=a.length;++l)if(!(a[l].s.c>g)&&!(a[l].s.r>h)&&!(a[l].e.c<g)&&!(a[l].e.r<h)){(a[l].s.c!=g||a[l].s.r!=h)&&(y=!0);break}if(!y){var v={r:h,c:g},_=Er(v),w=d?(t[h]||[])[g]:t[_];p.push(qX(w,_,t,e,r,n,v))}}p.push("</Row>"),p.length>2&&u.push(p.join(""))}return u.join("")}function XX(t,e,r){var n=[],s=r.SheetNames[t],a=r.Sheets[s],l=a?HX(a,e,t,r):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=a?YX(a,e,t,r):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(WX(a,e,t,r)),n.join("")}function QX(t,e){e||(e={}),t.SSF||(t.SSF=Cs(Qr)),t.SSF&&(Fm(),Om(t.SSF),e.revssf=Lm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],el(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push($X(t,e)),r.push(BX()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(tt("Worksheet",XX(n,e,t),{"ss:Name":_r(t.SheetNames[n])}));return r[2]=UX(t,e),r[3]=zX(t),un+tt("Workbook",r.join(""),{xmlns:Vs.ss,"xmlns:o":Vs.o,"xmlns:x":Vs.x,"xmlns:ss":Vs.ss,"xmlns:dt":Vs.dt,"xmlns:html":Vs.html})}var ty={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function JX(t,e){var r=[],n=[],s=[],a=0,l,u=xT(jT,"n"),d=xT(IT,"n");if(t.Props)for(l=Hn(t.Props),a=0;a<l.length;++a)(Object.prototype.hasOwnProperty.call(u,l[a])?r:Object.prototype.hasOwnProperty.call(d,l[a])?n:s).push([l[a],t.Props[l[a]]]);if(t.Custprops)for(l=Hn(t.Custprops),a=0;a<l.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},l[a])||(Object.prototype.hasOwnProperty.call(u,l[a])?r:Object.prototype.hasOwnProperty.call(d,l[a])?n:s).push([l[a],t.Custprops[l[a]]]);var h=[];for(a=0;a<s.length;++a)t6.indexOf(s[a][0])>-1||J5.indexOf(s[a][0])>-1||s[a][1]!=null&&h.push(s[a]);n.length&&kr.utils.cfb_add(e,"/SummaryInformation",FT(n,ty.SI,d,IT)),(r.length||h.length)&&kr.utils.cfb_add(e,"/DocumentSummaryInformation",FT(r,ty.DSI,u,jT,h.length?h:null,ty.UDI))}function ZX(t,e){var r=e||{},n=kr.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return kr.utils.cfb_add(n,s,P6(t,r)),r.biff==8&&(t.Props||t.Custprops)&&JX(t,n),r.biff==8&&t.vbaraw&&xq(n,kr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var eQ={0:{f:nY},1:{f:dY},2:{f:IY},3:{f:vY},4:{f:mY},5:{f:AY},6:{f:FY},7:{f:EY},8:{f:zY},9:{f:UY},10:{f:$Y},11:{f:BY},12:{f:fY},13:{f:RY},14:{f:wY},15:{f:xY},16:{f:CY},17:{f:MY},18:{f:kY},19:{f:bb},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:SX},40:{},42:{},43:{f:FG},44:{f:DG},45:{f:VG},46:{f:BG},47:{f:$G},48:{},49:{f:fW},50:{},51:{f:nq},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:pG},62:{f:OY},63:{f:cq},64:{f:aX},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:hi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:tX},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:cY},148:{f:iY,p:16},151:{f:YY},152:{},153:{f:NX},154:{},155:{},156:{f:TX},157:{},158:{},159:{T:1,f:TG},160:{T:-1},161:{T:1,f:ic},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:HY},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:tq},336:{T:-1},337:{f:iq,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:nv},357:{},358:{},359:{},360:{T:1},361:{},362:{f:lG},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:XY},427:{f:QY},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:ZY},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:lY},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:qY},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:nv},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:pq},633:{T:1},634:{T:-1},635:{T:1,f:hq},636:{T:-1},637:{f:xW},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:yX},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:iX},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function rt(t,e,r,n){var s=e;if(!isNaN(s)){var a=n||(r||[]).length||0,l=t.next(4);l.write_shift(2,s),l.write_shift(2,a),a>0&&xb(r)&&t.push(r)}}function tQ(t,e,r,n){var s=(r||[]).length||0;if(s<=8224)return rt(t,e,r,s);var a=e;if(!isNaN(a)){for(var l=r.parts||[],u=0,d=0,h=0;h+(l[u]||8224)<=8224;)h+=l[u]||8224,u++;var p=t.next(4);for(p.write_shift(2,a),p.write_shift(2,h),t.push(r.slice(d,d+h)),d+=h;d<s;){for(p=t.next(4),p.write_shift(2,60),h=0;h+(l[u]||8224)<=8224;)h+=l[u]||8224,u++;p.write_shift(2,h),t.push(r.slice(d,d+h)),d+=h}}}function th(t,e,r){return t||(t=Pe(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function rQ(t,e,r,n){var s=Pe(9);return th(s,t,e),n6(r,n||"b",s),s}function nQ(t,e,r){var n=Pe(8+2*r.length);return th(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function sQ(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?Ss(hs(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?rt(t,2,yG(r,n,s)):rt(t,3,xG(r,n,s));return;case"b":case"e":rt(t,5,rQ(r,n,e.v,e.t));return;case"s":case"str":rt(t,4,nQ(r,n,(e.v||"").slice(0,255)));return}rt(t,1,th(null,r,n))}function aQ(t,e,r,n){var s=Array.isArray(e),a=Or(e["!ref"]||"A1"),l,u="",d=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),l=cn(a)}for(var h=a.s.r;h<=a.e.r;++h){u=Un(h);for(var p=a.s.c;p<=a.e.c;++p){h===a.s.r&&(d[p]=es(p)),l=d[p]+u;var g=s?(e[h]||[])[p]:e[l];g&&sQ(t,g,h,p)}}}function iQ(t,e){for(var r=e||{},n=As(),s=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==r.sheet&&(s=a);if(s==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return rt(n,r.biff==4?1033:r.biff==3?521:9,Eb(t,16,r)),aQ(n,t.Sheets[t.SheetNames[s]],s,r),rt(n,10),n.end()}function oQ(t,e,r){rt(t,49,eG({sz:12,name:"Arial"},r))}function lQ(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&rt(t,1054,nG(s,e[s],r))})}function cQ(t,e){var r=Pe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),rt(t,2151,r),r=Pe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),i6(Or(e["!ref"]||"A1"),r),r.write_shift(4,4),rt(t,2152,r)}function uQ(t,e){for(var r=0;r<16;++r)rt(t,224,MT({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){rt(t,224,MT(n,0,e))})}function dQ(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];rt(t,440,dG(n)),n[1].Tooltip&&rt(t,2048,hG(n))}delete e["!links"]}function hQ(t,e){if(e){var r=0;e.forEach(function(n,s){++r<=256&&n&&rt(t,125,mG(Bm(s,n),s))})}}function fQ(t,e,r,n,s){var a=16+el(s.cellXfs,e,s);if(e.v==null&&!e.bf){rt(t,513,zl(r,n,a));return}if(e.bf)rt(t,6,LK(e,r,n,s,a));else switch(e.t){case"d":case"n":var l=e.t=="d"?Ss(hs(e.v)):e.v;rt(t,515,oG(r,n,l,a));break;case"b":case"e":rt(t,517,iG(r,n,e.v,a,s,e.t));break;case"s":case"str":if(s.bookSST){var u=Sb(s.Strings,e.v,s.revStrings);rt(t,253,tG(r,n,u,a))}else rt(t,516,rG(r,n,(e.v||"").slice(0,255),a,s));break;default:rt(t,513,zl(r,n,a))}}function pQ(t,e,r){var n=As(),s=r.SheetNames[t],a=r.Sheets[s]||{},l=(r||{}).Workbook||{},u=(l.Sheets||[])[t]||{},d=Array.isArray(a),h=e.biff==8,p,g="",y=[],v=Or(a["!ref"]||"A1"),_=h?65536:16384;if(v.e.c>255||v.e.r>=_){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,_-1)}rt(n,2057,Eb(r,16,e)),rt(n,13,ia(1)),rt(n,12,ia(100)),rt(n,15,ls(!0)),rt(n,17,ls(!1)),rt(n,16,Ul(.001)),rt(n,95,ls(!0)),rt(n,42,ls(!1)),rt(n,43,ls(!1)),rt(n,130,ia(1)),rt(n,128,aG()),rt(n,131,ls(!1)),rt(n,132,ls(!1)),h&&hQ(n,a["!cols"]),rt(n,512,sG(v,e)),h&&(a["!links"]=[]);for(var w=v.s.r;w<=v.e.r;++w){g=Un(w);for(var T=v.s.c;T<=v.e.c;++T){w===v.s.r&&(y[T]=es(T)),p=y[T]+g;var D=d?(a[w]||[])[T]:a[p];D&&(fQ(n,D,w,T,e),h&&D.l&&a["!links"].push([p,D.l]))}}var I=u.CodeName||u.name||s;return h&&rt(n,574,ZW((l.Views||[])[0])),h&&(a["!merges"]||[]).length&&rt(n,229,uG(a["!merges"])),h&&dQ(n,a),rt(n,442,a6(I)),h&&cQ(n,a),rt(n,10),n.end()}function mQ(t,e,r){var n=As(),s=(t||{}).Workbook||{},a=s.Sheets||[],l=s.WBProps||{},u=r.biff==8,d=r.biff==5;if(rt(n,2057,Eb(t,5,r)),r.bookType=="xla"&&rt(n,135),rt(n,225,u?ia(1200):null),rt(n,193,$W(2)),d&&rt(n,191),d&&rt(n,192),rt(n,226),rt(n,92,YW("SheetJS",r)),rt(n,66,ia(u?1200:1252)),u&&rt(n,353,ia(0)),u&&rt(n,448),rt(n,317,gG(t.SheetNames.length)),u&&t.vbaraw&&rt(n,211),u&&t.vbaraw){var h=l.CodeName||"ThisWorkbook";rt(n,442,a6(h))}rt(n,156,ia(17)),rt(n,25,ls(!1)),rt(n,18,ls(!1)),rt(n,19,ia(0)),u&&rt(n,431,ls(!1)),u&&rt(n,444,ia(0)),rt(n,61,JW()),rt(n,64,ls(!1)),rt(n,141,ia(0)),rt(n,34,ls(bX(t)=="true")),rt(n,14,ls(!0)),u&&rt(n,439,ls(!1)),rt(n,218,ia(0)),oQ(n,t,r),lQ(n,t.SSF,r),uQ(n,r),u&&rt(n,352,ls(!1));var p=n.end(),g=As();u&&rt(g,140,fG()),u&&r.Strings&&tQ(g,252,QW(r.Strings)),rt(g,10);var y=g.end(),v=As(),_=0,w=0;for(w=0;w<t.SheetNames.length;++w)_+=(u?12:11)+(u?2:1)*t.SheetNames[w].length;var T=p.length+_+y.length;for(w=0;w<t.SheetNames.length;++w){var D=a[w]||{};rt(v,133,XW({pos:T,hs:D.Hidden||0,dt:0,name:t.SheetNames[w]},r)),T+=e[w].length}var I=v.end();if(_!=I.length)throw new Error("BS8 "+_+" != "+I.length);var z=[];return p.length&&z.push(p),I.length&&z.push(I),y.length&&z.push(y),Vn(z)}function gQ(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Cs(Qr)),t&&t.SSF&&(Fm(),Om(t.SSF),r.revssf=Lm(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Cb(r),r.cellXfs=[],el(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)n[n.length]=pQ(s,r,t);return n.unshift(mQ(t,n,r)),Vn(n)}function P6(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var s=qs(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return gQ(t,e);case 4:case 3:case 2:return iQ(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function xQ(t,e,r,n){for(var s=t["!merges"]||[],a=[],l=e.s.c;l<=e.e.c;++l){for(var u=0,d=0,h=0;h<s.length;++h)if(!(s[h].s.r>r||s[h].s.c>l)&&!(s[h].e.r<r||s[h].e.c<l)){if(s[h].s.r<r||s[h].s.c<l){u=-1;break}u=s[h].e.r-s[h].s.r+1,d=s[h].e.c-s[h].s.c+1;break}if(!(u<0)){var p=Er({r,c:l}),g=n.dense?(t[r]||[])[l]:t[p],y=g&&g.v!=null&&(g.h||KH(g.w||(Gi(g),g.w)||""))||"",v={};u>1&&(v.rowspan=u),d>1&&(v.colspan=d),n.editable?y='<span contenteditable="true">'+y+"</span>":g&&(v["data-t"]=g&&g.t||"z",g.v!=null&&(v["data-v"]=g.v),g.z!=null&&(v["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+g.l.Target+'">'+y+"</a>")),v.id=(n.id||"sjs")+"-"+p,a.push(tt("td",y,v))}}var _="<tr>";return _+a.join("")+"</tr>"}var yQ='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',vQ="</body></html>";function bQ(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function R6(t,e){var r=e||{},n=r.header!=null?r.header:yQ,s=r.footer!=null?r.footer:vQ,a=[n],l=qs(t["!ref"]);r.dense=Array.isArray(t),a.push(bQ(t,l,r));for(var u=l.s.r;u<=l.e.r;++u)a.push(xQ(t,l,u,r));return a.push("</table>"+s),a.join("")}function D6(t,e,r){var n=r||{},s=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Nn(n.origin):n.origin;s=l.r,a=l.c}var u=e.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,u.length),h={s:{r:0,c:0},e:{r:s,c:a}};if(t["!ref"]){var p=qs(t["!ref"]);h.s.r=Math.min(h.s.r,p.s.r),h.s.c=Math.min(h.s.c,p.s.c),h.e.r=Math.max(h.e.r,p.e.r),h.e.c=Math.max(h.e.c,p.e.c),s==-1&&(h.e.r=s=p.e.r+1)}var g=[],y=0,v=t["!rows"]||(t["!rows"]=[]),_=0,w=0,T=0,D=0,I=0,z=0;for(t["!cols"]||(t["!cols"]=[]);_<u.length&&w<d;++_){var F=u[_];if(WT(F)){if(n.display)continue;v[w]={hidden:!0}}var Y=F.children;for(T=D=0;T<Y.length;++T){var U=Y[T];if(!(n.display&&WT(U))){var S=U.hasAttribute("data-v")?U.getAttribute("data-v"):U.hasAttribute("v")?U.getAttribute("v"):JH(U.innerHTML),A=U.getAttribute("data-z")||U.getAttribute("z");for(y=0;y<g.length;++y){var j=g[y];j.s.c==D+a&&j.s.r<w+s&&w+s<=j.e.r&&(D=j.e.c+1-a,y=-1)}z=+U.getAttribute("colspan")||1,((I=+U.getAttribute("rowspan")||1)>1||z>1)&&g.push({s:{r:w+s,c:D+a},e:{r:w+s+(I||1)-1,c:D+a+(z||1)-1}});var R={t:"s",v:S},M=U.getAttribute("data-t")||U.getAttribute("t")||"";S!=null&&(S.length==0?R.t=M||"z":n.raw||S.trim().length==0||M=="s"||(S==="TRUE"?R={t:"b",v:!0}:S==="FALSE"?R={t:"b",v:!1}:isNaN(Fi(S))?isNaN(w0(S).getDate())||(R={t:"d",v:hs(S)},n.cellDates||(R={t:"n",v:Ss(R.v)}),R.z=n.dateNF||Qr[14]):R={t:"n",v:Fi(S)})),R.z===void 0&&A!=null&&(R.z=A);var L="",O=U.getElementsByTagName("A");if(O&&O.length)for(var fe=0;fe<O.length&&!(O[fe].hasAttribute("href")&&(L=O[fe].getAttribute("href"),L.charAt(0)!="#"));++fe);L&&L.charAt(0)!="#"&&(R.l={Target:L}),n.dense?(t[w+s]||(t[w+s]=[]),t[w+s][D+a]=R):t[Er({c:D+a,r:w+s})]=R,h.e.c<D+a&&(h.e.c=D+a),D+=z}}++w}return g.length&&(t["!merges"]=(t["!merges"]||[]).concat(g)),h.e.r=Math.max(h.e.r,w-1+s),t["!ref"]=cn(h),w>=d&&(t["!fullref"]=cn((h.e.r=u.length-_+w-1+s,h))),t}function O6(t,e){var r=e||{},n=r.dense?[]:{};return D6(n,t,e)}function wQ(t,e){return rc(O6(t,e),e)}function WT(t){var e="",r=_Q(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function _Q(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var EQ=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+E0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return un+e}})(),GT=(function(){var t=function(a){return _r(a).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,l,u){var d=[];d.push('      <table:table table:name="'+_r(l.SheetNames[u])+`" table:style-name="ta1">
`);var h=0,p=0,g=qs(a["!ref"]||"A1"),y=a["!merges"]||[],v=0,_=Array.isArray(a);if(a["!cols"])for(p=0;p<=g.e.c;++p)d.push("        <table:table-column"+(a["!cols"][p]?' table:style-name="co'+a["!cols"][p].ods+'"':"")+`></table:table-column>
`);var w="",T=a["!rows"]||[];for(h=0;h<g.s.r;++h)w=T[h]?' table:style-name="ro'+T[h].ods+'"':"",d.push("        <table:table-row"+w+`></table:table-row>
`);for(;h<=g.e.r;++h){for(w=T[h]?' table:style-name="ro'+T[h].ods+'"':"",d.push("        <table:table-row"+w+`>
`),p=0;p<g.s.c;++p)d.push(e);for(;p<=g.e.c;++p){var D=!1,I={},z="";for(v=0;v!=y.length;++v)if(!(y[v].s.c>p)&&!(y[v].s.r>h)&&!(y[v].e.c<p)&&!(y[v].e.r<h)){(y[v].s.c!=p||y[v].s.r!=h)&&(D=!0),I["table:number-columns-spanned"]=y[v].e.c-y[v].s.c+1,I["table:number-rows-spanned"]=y[v].e.r-y[v].s.r+1;break}if(D){d.push(r);continue}var F=Er({r:h,c:p}),Y=_?(a[h]||[])[p]:a[F];if(Y&&Y.f&&(I["table:formula"]=_r(zK(Y.f)),Y.F&&Y.F.slice(0,F.length)==F)){var U=qs(Y.F);I["table:number-matrix-columns-spanned"]=U.e.c-U.s.c+1,I["table:number-matrix-rows-spanned"]=U.e.r-U.s.r+1}if(!Y){d.push(e);continue}switch(Y.t){case"b":z=Y.v?"TRUE":"FALSE",I["office:value-type"]="boolean",I["office:boolean-value"]=Y.v?"true":"false";break;case"n":z=Y.w||String(Y.v||0),I["office:value-type"]="float",I["office:value"]=Y.v||0;break;case"s":case"str":z=Y.v==null?"":Y.v,I["office:value-type"]="string";break;case"d":z=Y.w||hs(Y.v).toISOString(),I["office:value-type"]="date",I["office:date-value"]=hs(Y.v).toISOString(),I["table:style-name"]="ce1";break;default:d.push(e);continue}var S=t(z);if(Y.l&&Y.l.Target){var A=Y.l.Target;A=A.charAt(0)=="#"?"#"+HK(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),S=tt("text:a",S,{"xlink:href":A.replace(/&/g,"&amp;")})}d.push("          "+tt("table:table-cell",tt("text:p",S,{}),I)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},s=function(a,l){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var u=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var p=0;p<h["!cols"].length;++p)if(h["!cols"][p]){var g=h["!cols"][p];if(g.width==null&&g.wpx==null&&g.wch==null)continue;Tb(g),g.ods=u;var y=h["!cols"][p].wpx+"px";a.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),a.push(`  </style:style>
`),++u}}});var d=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var p=0;p<h["!rows"].length;++p)if(h["!rows"][p]){h["!rows"][p].ods=d;var g=h["!rows"][p].hpx+"px";a.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),a.push(`  </style:style>
`),++d}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(l,u){var d=[un],h=E0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=E0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(d.push("<office:document"+h+p+`>
`),d.push(X5().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+h+`>
`),s(d,l),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var g=0;g!=l.SheetNames.length;++g)d.push(n(l.Sheets[l.SheetNames[g]],l,g));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),u.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}})();function F6(t,e){if(e.bookType=="fods")return GT(t,e);var r=fb(),n="",s=[],a=[];return n="mimetype",Ut(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Ut(r,n,GT(t,e)),s.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",Ut(r,n,EQ(t,e)),s.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",Ut(r,n,un+X5()),s.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",Ut(r,n,OW(a)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Ut(r,n,RW(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Kp(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function TQ(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Aa(_0(t))}function kQ(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function qo(t){var e=t.reduce(function(s,a){return s+a.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(s){r.set(s,n),n+=s.length}),r}function NQ(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var a=0;s>=1;++a,s/=256)t[e+a]=s&255;t[e+15]|=r>=0?0:128}function T0(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function yr(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function cu(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function gn(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],s=T0(t,r),a=s&7;s=Math.floor(s/8);var l=0,u;if(s==0)break;switch(a){case 0:{for(var d=r[0];t[r[0]++]>=128;);u=t.slice(d,r[0])}break;case 5:l=4,u=t.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,u=t.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=T0(t,r),u=t.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(s," at offset ").concat(n))}var h={data:u,type:a};e[s]==null?e[s]=[h]:e[s].push(h)}return e}function Rn(t){var e=[];return t.forEach(function(r,n){r.forEach(function(s){s.data&&(e.push(yr(n*8+s.type)),s.type==2&&e.push(yr(s.data.length)),e.push(s.data))})}),qo(e)}function Ta(t){for(var e,r=[],n=[0];n[0]<t.length;){var s=T0(t,n),a=gn(t.slice(n[0],n[0]+s));n[0]+=s;var l={id:cu(a[1][0].data),messages:[]};a[2].forEach(function(u){var d=gn(u.data),h=cu(d[3][0].data);l.messages.push({meta:d,data:t.slice(n[0],n[0]+h)}),n[0]+=h}),(e=a[3])!=null&&e[0]&&(l.merge=cu(a[3][0].data)>>>0>0),r.push(l)}return r}function Bc(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:yr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:yr(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(l){s.push(l.data),l.meta[3]=[{type:0,data:yr(l.data.length)}],n[2].push({data:Rn(l.meta),type:2})});var a=Rn(n);e.push(yr(a.length)),e.push(a),s.forEach(function(l){return e.push(l)})}),qo(e)}function AQ(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=T0(e,r),s=[];r[0]<e.length;){var a=e[r[0]]&3;if(a==0){var l=e[r[0]++]>>2;if(l<60)++l;else{var u=l-59;l=e[r[0]],u>1&&(l|=e[r[0]+1]<<8),u>2&&(l|=e[r[0]+2]<<16),u>3&&(l|=e[r[0]+3]<<24),l>>>=0,l++,r[0]+=u}s.push(e.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var d=0,h=0;if(a==1?(h=(e[r[0]]>>2&7)+4,d=(e[r[0]++]&224)<<3,d|=e[r[0]++]):(h=(e[r[0]++]>>2)+1,a==2?(d=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(d=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),s=[qo(s)],d==0)throw new Error("Invalid offset 0");if(d>s[0].length)throw new Error("Invalid offset beyond length");if(h>=d)for(s.push(s[0].slice(-d)),h-=d;h>=s[s.length-1].length;)s.push(s[s.length-1]),h-=s[s.length-1].length;s.push(s[0].slice(-d,-d+h))}}var p=qo(s);if(p.length!=n)throw new Error("Unexpected length: ".concat(p.length," != ").concat(n));return p}function ka(t){for(var e=[],r=0;r<t.length;){var n=t[r++],s=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(AQ(n,t.slice(r,r+s))),r+=s}if(r!==t.length)throw new Error("data is not a valid framed stream!");return qo(e)}function Uc(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),s=new Uint8Array(4);e.push(s);var a=yr(n),l=a.length;e.push(a),n<=60?(l++,e.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),l+=n,s[0]=0,s[1]=l&255,s[2]=l>>8&255,s[3]=l>>16&255,r+=n}return qo(e)}function ry(t,e){var r=new Uint8Array(32),n=Kp(r),s=12,a=0;switch(r[0]=5,t.t){case"n":r[1]=2,NQ(r,s,t.v),a|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,t.v?1:0,!0),a|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(s,e.indexOf(t.v),!0),a|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,a,!0),r.slice(0,s)}function ny(t,e){var r=new Uint8Array(32),n=Kp(r),s=12,a=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(s,t.v,!0),a|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,t.v?1:0,!0),a|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(s,e.indexOf(t.v),!0),a|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,a,!0),r.slice(0,s)}function wo(t){var e=gn(t);return T0(e[1][0].data)}function SQ(t,e,r){var n,s,a,l;if(!((n=t[6])!=null&&n[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var u=((l=(a=t[8])==null?void 0:a[0])==null?void 0:l.data)&&cu(t[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var d=0,h=Kp(t[7][0].data),p=0,g=[],y=Kp(t[4][0].data),v=0,_=[],w=0;w<e.length;++w){if(e[w]==null){h.setUint16(w*2,65535,!0),y.setUint16(w*2,65535);continue}h.setUint16(w*2,p,!0),y.setUint16(w*2,v,!0);var T,D;switch(typeof e[w]){case"string":T=ry({t:"s",v:e[w]},r),D=ny({t:"s",v:e[w]},r);break;case"number":T=ry({t:"n",v:e[w]},r),D=ny({t:"n",v:e[w]},r);break;case"boolean":T=ry({t:"b",v:e[w]},r),D=ny({t:"b",v:e[w]},r);break;default:throw new Error("Unsupported value "+e[w])}g.push(T),p+=T.length,_.push(D),v+=D.length,++d}for(t[2][0].data=yr(d);w<t[7][0].data.length/2;++w)h.setUint16(w*2,65535,!0),y.setUint16(w*2,65535,!0);return t[6][0].data=qo(g),t[3][0].data=qo(_),d}function CQ(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=qs(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(cn(n)));var a=Yp(r,{range:n,header:1}),l=["~Sh33tJ5~"];a.forEach(function(te){return te.forEach(function(re){typeof re=="string"&&l.push(re)})});var u={},d=[],h=kr.read(e.numbers,{type:"base64"});h.FileIndex.map(function(te,re){return[te,h.FullPaths[re]]}).forEach(function(te){var re=te[0],ne=te[1];if(re.type==2&&re.name.match(/\.iwa/)){var ee=re.content,Le=ka(ee),Be=Ta(Le);Be.forEach(function(je){d.push(je.id),u[je.id]={deps:[],location:ne,type:cu(je.messages[0].meta[1][0].data)}})}}),d.sort(function(te,re){return te-re});var p=d.filter(function(te){return te>1}).map(function(te){return[te,yr(te)]});h.FileIndex.map(function(te,re){return[te,h.FullPaths[re]]}).forEach(function(te){var re=te[0];if(te[1],!!re.name.match(/\.iwa/)){var ne=Ta(ka(re.content));ne.forEach(function(ee){ee.messages.forEach(function(Le){p.forEach(function(Be){ee.messages.some(function(je){return cu(je.meta[1][0].data)!=11006&&kQ(je.data,Be[1])})&&u[Be[0]].deps.push(ee.id)})})})}});for(var g=kr.find(h,u[1].location),y=Ta(ka(g.content)),v,_=0;_<y.length;++_){var w=y[_];w.id==1&&(v=w)}var T=wo(gn(v.messages[0].data)[1][0].data);for(g=kr.find(h,u[T].location),y=Ta(ka(g.content)),_=0;_<y.length;++_)w=y[_],w.id==T&&(v=w);for(T=wo(gn(v.messages[0].data)[2][0].data),g=kr.find(h,u[T].location),y=Ta(ka(g.content)),_=0;_<y.length;++_)w=y[_],w.id==T&&(v=w);for(T=wo(gn(v.messages[0].data)[2][0].data),g=kr.find(h,u[T].location),y=Ta(ka(g.content)),_=0;_<y.length;++_)w=y[_],w.id==T&&(v=w);var D=gn(v.messages[0].data);{D[6][0].data=yr(n.e.r+1),D[7][0].data=yr(n.e.c+1);var I=wo(D[46][0].data),z=kr.find(h,u[I].location),F=Ta(ka(z.content));{for(var Y=0;Y<F.length&&F[Y].id!=I;++Y);if(F[Y].id!=I)throw"Bad ColumnRowUIDMapArchive";var U=gn(F[Y].messages[0].data);U[1]=[],U[2]=[],U[3]=[];for(var S=0;S<=n.e.c;++S){var A=[];A[1]=A[2]=[{type:0,data:yr(S+420690)}],U[1].push({type:2,data:Rn(A)}),U[2].push({type:0,data:yr(S)}),U[3].push({type:0,data:yr(S)})}U[4]=[],U[5]=[],U[6]=[];for(var j=0;j<=n.e.r;++j)A=[],A[1]=A[2]=[{type:0,data:yr(j+726270)}],U[4].push({type:2,data:Rn(A)}),U[5].push({type:0,data:yr(j)}),U[6].push({type:0,data:yr(j)});F[Y].messages[0].data=Rn(U)}z.content=Uc(Bc(F)),z.size=z.content.length,delete D[46];var R=gn(D[4][0].data);{R[7][0].data=yr(n.e.r+1);var M=gn(R[1][0].data),L=wo(M[2][0].data);z=kr.find(h,u[L].location),F=Ta(ka(z.content));{if(F[0].id!=L)throw"Bad HeaderStorageBucket";var O=gn(F[0].messages[0].data);for(j=0;j<a.length;++j){var fe=gn(O[2][0].data);fe[1][0].data=yr(j),fe[4][0].data=yr(a[j].length),O[2][j]={type:O[2][0].type,data:Rn(fe)}}F[0].messages[0].data=Rn(O)}z.content=Uc(Bc(F)),z.size=z.content.length;var ke=wo(R[2][0].data);z=kr.find(h,u[ke].location),F=Ta(ka(z.content));{if(F[0].id!=ke)throw"Bad HeaderStorageBucket";for(O=gn(F[0].messages[0].data),S=0;S<=n.e.c;++S)fe=gn(O[2][0].data),fe[1][0].data=yr(S),fe[4][0].data=yr(n.e.r+1),O[2][S]={type:O[2][0].type,data:Rn(fe)};F[0].messages[0].data=Rn(O)}z.content=Uc(Bc(F)),z.size=z.content.length;var Ce=wo(R[4][0].data);(function(){for(var te=kr.find(h,u[Ce].location),re=Ta(ka(te.content)),ne,ee=0;ee<re.length;++ee){var Le=re[ee];Le.id==Ce&&(ne=Le)}var Be=gn(ne.messages[0].data);{Be[3]=[];var je=[];l.forEach(function(yt,Wt){je[1]=[{type:0,data:yr(Wt)}],je[2]=[{type:0,data:yr(1)}],je[3]=[{type:2,data:TQ(yt)}],Be[3].push({type:2,data:Rn(je)})})}ne.messages[0].data=Rn(Be);var Me=Bc(re),it=Uc(Me);te.content=it,te.size=te.content.length})();var Re=gn(R[3][0].data);{var Ee=Re[1][0];delete Re[2];var ie=gn(Ee.data);{var de=wo(ie[2][0].data);(function(){for(var te=kr.find(h,u[de].location),re=Ta(ka(te.content)),ne,ee=0;ee<re.length;++ee){var Le=re[ee];Le.id==de&&(ne=Le)}var Be=gn(ne.messages[0].data);{delete Be[6],delete Re[7];var je=new Uint8Array(Be[5][0].data);Be[5]=[];for(var Me=0,it=0;it<=n.e.r;++it){var yt=gn(je);Me+=SQ(yt,a[it],l),yt[1][0].data=yr(it),Be[5].push({data:Rn(yt),type:2})}Be[1]=[{type:0,data:yr(n.e.c+1)}],Be[2]=[{type:0,data:yr(n.e.r+1)}],Be[3]=[{type:0,data:yr(Me)}],Be[4]=[{type:0,data:yr(n.e.r+1)}]}ne.messages[0].data=Rn(Be);var Wt=Bc(re),Fe=Uc(Wt);te.content=Fe,te.size=te.content.length})()}Ee.data=Rn(ie)}R[3][0].data=Rn(Re)}D[4][0].data=Rn(R)}v.messages[0].data=Rn(D);var se=Bc(y),B=Uc(se);return g.content=B,g.size=g.content.length,h}function jQ(t){return function(r){for(var n=0;n!=t.length;++n){var s=t[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function Cb(t){jQ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function IQ(t,e){return e.bookType=="ods"?F6(t,e):e.bookType=="numbers"?CQ(t,e):e.bookType=="xlsb"?PQ(t,e):RQ(t,e)}function PQ(t,e){tu=1024,t&&!t.SSF&&(t.SSF=Cs(Qr)),t&&t.SSF&&(Fm(),Om(t.SSF),e.revssf=Lm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Qd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=y6.indexOf(e.bookType)>-1,s=q5();Cb(e=e||{});var a=fb(),l="",u=0;if(e.cellXfs=[],el(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",Ut(a,l,Q5(t.Props,e)),s.coreprops.push(l),vr(e.rels,2,l,lr.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}for(t.Props.Worksheets=t.Props.SheetNames.length,Ut(a,l,Z5(t.Props)),s.extprops.push(l),vr(e.rels,3,l,lr.EXT_PROPS),t.Custprops!==t.Props&&Hn(t.Custprops||{}).length>0&&(l="docProps/custom.xml",Ut(a,l,e6(t.Custprops)),s.custprops.push(l),vr(e.rels,4,l,lr.CUST_PROPS)),u=1;u<=t.SheetNames.length;++u){var p={"!id":{}},g=t.Sheets[t.SheetNames[u-1]],y=(g||{})["!type"]||"sheet";switch(y){case"chart":default:l="xl/worksheets/sheet"+u+"."+r,Ut(a,l,OX(u-1,l,e,t,p)),s.sheets.push(l),vr(e.wbrels,-1,"worksheets/sheet"+u+"."+r,lr.WS[0])}if(g){var v=g["!comments"],_=!1,w="";v&&v.length>0&&(w="xl/comments"+u+"."+r,Ut(a,w,MX(v,w)),s.comments.push(w),vr(p,-1,"../comments"+u+"."+r,lr.CMNT),_=!0),g["!legacy"]&&_&&Ut(a,"xl/drawings/vmlDrawing"+u+".vml",g6(u,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&Ut(a,Y5(l),ou(p))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+r,Ut(a,l,LX(e.Strings,l,e)),s.strs.push(l),vr(e.wbrels,-1,"sharedStrings."+r,lr.SST)),l="xl/workbook."+r,Ut(a,l,DX(t,l)),s.workbooks.push(l),vr(e.rels,1,l,lr.WB),l="xl/theme/theme1.xml",Ut(a,l,p6(t.Themes,e)),s.themes.push(l),vr(e.wbrels,-1,"theme/theme1.xml",lr.THEME),l="xl/styles."+r,Ut(a,l,FX(t,l,e)),s.styles.push(l),vr(e.wbrels,-1,"styles."+r,lr.STY),t.vbaraw&&n&&(l="xl/vbaProject.bin",Ut(a,l,t.vbaraw),s.vba.push(l),vr(e.wbrels,-1,"vbaProject.bin",lr.VBA)),l="xl/metadata."+r,Ut(a,l,VX(l)),s.metadata.push(l),vr(e.wbrels,-1,"metadata."+r,lr.XLMETA),Ut(a,"[Content_Types].xml",K5(s,e)),Ut(a,"_rels/.rels",ou(e.rels)),Ut(a,"xl/_rels/workbook."+r+".rels",ou(e.wbrels)),delete e.revssf,delete e.ssf,a}function RQ(t,e){tu=1024,t&&!t.SSF&&(t.SSF=Cs(Qr)),t&&t.SSF&&(Fm(),Om(t.SSF),e.revssf=Lm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Qd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=y6.indexOf(e.bookType)>-1,s=q5();Cb(e=e||{});var a=fb(),l="",u=0;if(e.cellXfs=[],el(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",Ut(a,l,Q5(t.Props,e)),s.coreprops.push(l),vr(e.rels,2,l,lr.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}t.Props.Worksheets=t.Props.SheetNames.length,Ut(a,l,Z5(t.Props)),s.extprops.push(l),vr(e.rels,3,l,lr.EXT_PROPS),t.Custprops!==t.Props&&Hn(t.Custprops||{}).length>0&&(l="docProps/custom.xml",Ut(a,l,e6(t.Custprops)),s.custprops.push(l),vr(e.rels,4,l,lr.CUST_PROPS));var p=["SheetJ5"];for(e.tcid=0,u=1;u<=t.SheetNames.length;++u){var g={"!id":{}},y=t.Sheets[t.SheetNames[u-1]],v=(y||{})["!type"]||"sheet";switch(v){case"chart":default:l="xl/worksheets/sheet"+u+"."+r,Ut(a,l,A6(u-1,e,t,g)),s.sheets.push(l),vr(e.wbrels,-1,"worksheets/sheet"+u+"."+r,lr.WS[0])}if(y){var _=y["!comments"],w=!1,T="";if(_&&_.length>0){var D=!1;_.forEach(function(I){I[1].forEach(function(z){z.T==!0&&(D=!0)})}),D&&(T="xl/threadedComments/threadedComment"+u+"."+r,Ut(a,T,uq(_,p,e)),s.threadedcomments.push(T),vr(g,-1,"../threadedComments/threadedComment"+u+"."+r,lr.TCMNT)),T="xl/comments"+u+"."+r,Ut(a,T,x6(_)),s.comments.push(T),vr(g,-1,"../comments"+u+"."+r,lr.CMNT),w=!0}y["!legacy"]&&w&&Ut(a,"xl/drawings/vmlDrawing"+u+".vml",g6(u,y["!comments"])),delete y["!comments"],delete y["!legacy"]}g["!id"].rId1&&Ut(a,Y5(l),ou(g))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+r,Ut(a,l,l6(e.Strings,e)),s.strs.push(l),vr(e.wbrels,-1,"sharedStrings."+r,lr.SST)),l="xl/workbook."+r,Ut(a,l,j6(t)),s.workbooks.push(l),vr(e.rels,1,l,lr.WB),l="xl/theme/theme1.xml",Ut(a,l,p6(t.Themes,e)),s.themes.push(l),vr(e.wbrels,-1,"theme/theme1.xml",lr.THEME),l="xl/styles."+r,Ut(a,l,h6(t,e)),s.styles.push(l),vr(e.wbrels,-1,"styles."+r,lr.STY),t.vbaraw&&n&&(l="xl/vbaProject.bin",Ut(a,l,t.vbaraw),s.vba.push(l),vr(e.wbrels,-1,"vbaProject.bin",lr.VBA)),l="xl/metadata."+r,Ut(a,l,m6()),s.metadata.push(l),vr(e.wbrels,-1,"metadata."+r,lr.XLMETA),p.length>1&&(l="xl/persons/person.xml",Ut(a,l,dq(p)),s.people.push(l),vr(e.wbrels,-1,"persons/person.xml",lr.PEOPLE)),Ut(a,"[Content_Types].xml",K5(s,e)),Ut(a,"_rels/.rels",ou(e.rels)),Ut(a,"xl/_rels/workbook."+r+".rels",ou(e.wbrels)),delete e.revssf,delete e.ssf,a}function DQ(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Wi(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function L6(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Q0(e.file,kr.write(t,{type:dr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return kr.write(t,e)}function OQ(t,e){var r=Cs(e||{}),n=IQ(t,r);return FQ(n,r)}function FQ(t,e){var r={},n=dr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?kr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(Dm(s))}return e.password&&typeof encrypt_agile<"u"?L6(encrypt_agile(s,e.password),e):e.type==="file"?Q0(e.file,s):e.type=="string"?qd(s):s}function LQ(t,e){var r=e||{},n=ZX(t,r);return L6(n,r)}function Xa(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return b0(_0(n));case"binary":return _0(n);case"string":return t;case"file":return Q0(e.file,n,"utf8");case"buffer":return dr?Yi(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Xa(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function MQ(t,e){switch(e.type){case"base64":return b0(t);case"binary":return t;case"string":return t;case"file":return Q0(e.file,t,"binary");case"buffer":return dr?Yi(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Rf(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?b0(r):e.type=="string"?qd(r):r;case"file":return Q0(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function M6(t,e){hH(),EX(t);var r=Cs(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=M6(t,r);return r.type="array",Dm(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=t.SheetNames.indexOf(r.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Xa(QX(t,r),r);case"slk":case"sylk":return Xa(bG.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"htm":case"html":return Xa(R6(t.Sheets[t.SheetNames[s]],r),r);case"txt":return MQ(V6(t.Sheets[t.SheetNames[s]],r),r);case"csv":return Xa(jb(t.Sheets[t.SheetNames[s]],r),r,"\uFEFF");case"dif":return Xa(wG.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"dbf":return Rf(vG.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"prn":return Xa(_G.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"rtf":return Xa(CG.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"eth":return Xa(o6.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"fods":return Xa(F6(t,r),r);case"wk1":return Rf(VT.sheet_to_wk1(t.Sheets[t.SheetNames[s]],r),r);case"wk3":return Rf(VT.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Rf(P6(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),LQ(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return OQ(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function VQ(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function Um(t,e,r){var n={};return n.type="file",n.file=e,VQ(n),M6(t,n)}function $Q(t,e,r,n,s,a,l,u){var d=Un(r),h=u.defval,p=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),g=!0,y=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:r,enumerable:!1})}catch{y.__rowNum__=r}else y.__rowNum__=r;if(!l||t[r])for(var v=e.s.c;v<=e.e.c;++v){var _=l?t[r][v]:t[n[v]+d];if(_===void 0||_.t===void 0){if(h===void 0)continue;a[v]!=null&&(y[a[v]]=h);continue}var w=_.v;switch(_.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+_.t)}if(a[v]!=null){if(w==null)if(_.t=="e"&&w===null)y[a[v]]=null;else if(h!==void 0)y[a[v]]=h;else if(p&&w===null)y[a[v]]=null;else continue;else y[a[v]]=p&&(_.t!=="n"||_.t==="n"&&u.rawNumbers!==!1)?w:Gi(_,w,u);w!=null&&(g=!1)}}return{row:y,isempty:g}}function Yp(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,a=[],l=0,u="",d={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},p=h.range!=null?h.range:t["!ref"];switch(h.header===1?n=1:h.header==="A"?n=2:Array.isArray(h.header)?n=3:h.header==null&&(n=0),typeof p){case"string":d=Or(p);break;case"number":d=Or(t["!ref"]),d.s.r=p;break;default:d=p}n>0&&(s=0);var g=Un(d.s.r),y=[],v=[],_=0,w=0,T=Array.isArray(t),D=d.s.r,I=0,z={};T&&!t[D]&&(t[D]=[]);var F=h.skipHidden&&t["!cols"]||[],Y=h.skipHidden&&t["!rows"]||[];for(I=d.s.c;I<=d.e.c;++I)if(!(F[I]||{}).hidden)switch(y[I]=es(I),r=T?t[D][I]:t[y[I]+g],n){case 1:a[I]=I-d.s.c;break;case 2:a[I]=y[I];break;case 3:a[I]=h.header[I-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),u=l=Gi(r,null,h),w=z[l]||0,!w)z[l]=1;else{do u=l+"_"+w++;while(z[u]);z[l]=w,z[u]=1}a[I]=u}for(D=d.s.r+s;D<=d.e.r;++D)if(!(Y[D]||{}).hidden){var U=$Q(t,d,D,y,n,a,T,h);(U.isempty===!1||(n===1?h.blankrows!==!1:h.blankrows))&&(v[_++]=U.row)}return v.length=_,v}var qT=/"/g;function BQ(t,e,r,n,s,a,l,u){for(var d=!0,h=[],p="",g=Un(r),y=e.s.c;y<=e.e.c;++y)if(n[y]){var v=u.dense?(t[r]||[])[y]:t[n[y]+g];if(v==null)p="";else if(v.v!=null){d=!1,p=""+(u.rawNumbers&&v.t=="n"?v.v:Gi(v,null,u));for(var _=0,w=0;_!==p.length;++_)if((w=p.charCodeAt(_))===s||w===a||w===34||u.forceQuotes){p='"'+p.replace(qT,'""')+'"';break}p=="ID"&&(p='"ID"')}else v.f!=null&&!v.F?(d=!1,p="="+v.f,p.indexOf(",")>=0&&(p='"'+p.replace(qT,'""')+'"')):p="";h.push(p)}return u.blankrows===!1&&d?null:h.join(l)}function jb(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var s=Or(t["!ref"]),a=n.FS!==void 0?n.FS:",",l=a.charCodeAt(0),u=n.RS!==void 0?n.RS:`
`,d=u.charCodeAt(0),h=new RegExp((a=="|"?"\\|":a)+"+$"),p="",g=[];n.dense=Array.isArray(t);for(var y=n.skipHidden&&t["!cols"]||[],v=n.skipHidden&&t["!rows"]||[],_=s.s.c;_<=s.e.c;++_)(y[_]||{}).hidden||(g[_]=es(_));for(var w=0,T=s.s.r;T<=s.e.r;++T)(v[T]||{}).hidden||(p=BQ(t,s,T,g,l,d,a,n),p!=null&&(n.strip&&(p=p.replace(h,"")),(p||n.blankrows!==!1)&&r.push((w++?u:"")+p)));return delete n.dense,r.join("")}function V6(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=jb(t,e);return r}function UQ(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var s=Or(t["!ref"]),a="",l=[],u,d=[],h=Array.isArray(t);for(u=s.s.c;u<=s.e.c;++u)l[u]=es(u);for(var p=s.s.r;p<=s.e.r;++p)for(a=Un(p),u=s.s.c;u<=s.e.c;++u)if(e=l[u]+a,r=h?(t[p]||[])[u]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}d[d.length]=e+"="+n}return d}function $6(t,e,r){var n=r||{},s=+!n.skipHeader,a=t||{},l=0,u=0;if(a&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var d=typeof n.origin=="string"?Nn(n.origin):n.origin;l=d.r,u=d.c}var h,p={s:{c:0,r:0},e:{c:u,r:l+e.length-1+s}};if(a["!ref"]){var g=Or(a["!ref"]);p.e.c=Math.max(p.e.c,g.e.c),p.e.r=Math.max(p.e.r,g.e.r),l==-1&&(l=g.e.r+1,p.e.r=l+e.length-1+s)}else l==-1&&(l=0,p.e.r=e.length-1+s);var y=n.header||[],v=0;e.forEach(function(w,T){Hn(w).forEach(function(D){(v=y.indexOf(D))==-1&&(y[v=y.length]=D);var I=w[D],z="z",F="",Y=Er({c:u+v,r:l+T+s});h=k0(a,Y),I&&typeof I=="object"&&!(I instanceof Date)?a[Y]=I:(typeof I=="number"?z="n":typeof I=="boolean"?z="b":typeof I=="string"?z="s":I instanceof Date?(z="d",n.cellDates||(z="n",I=Ss(I)),F=n.dateNF||Qr[14]):I===null&&n.nullError&&(z="e",I=0),h?(h.t=z,h.v=I,delete h.w,delete h.R,F&&(h.z=F)):a[Y]=h={t:z,v:I},F&&(h.z=F))})}),p.e.c=Math.max(p.e.c,u+y.length-1);var _=Un(l);if(s)for(v=0;v<y.length;++v)a[es(v+u)+_]={t:"s",v:y[v]};return a["!ref"]=cn(p),a}function zQ(t,e){return $6(null,t,e)}function k0(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Nn(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?k0(t,Er(e)):k0(t,Er({r:e,c:r||0}))}function HQ(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function WQ(){return{SheetNames:[],Sheets:{}}}function GQ(t,e,r,n){var s=1;if(!r)for(;s<=65535&&t.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);s=a&&+a[2]||0;var l=a&&a[1]||r;for(++s;s<=65535&&t.SheetNames.indexOf(r=l+s)!=-1;++s);}if(C6(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function qQ(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=HQ(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function KQ(t,e){return t.z=e,t}function B6(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function YQ(t,e,r){return B6(t,"#"+e,r)}function XQ(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function QQ(t,e,r,n){for(var s=typeof e!="string"?e:Or(e),a=typeof e=="string"?e:cn(e),l=s.s.r;l<=s.e.r;++l)for(var u=s.s.c;u<=s.e.c;++u){var d=k0(t,l,u);d.t="n",d.F=a,delete d.v,l==s.s.r&&u==s.s.c&&(d.f=r,n&&(d.D=!0))}return t}var ca={encode_col:es,encode_row:Un,encode_cell:Er,encode_range:cn,decode_col:vb,decode_row:yb,split_cell:hW,decode_cell:Nn,decode_range:qs,format_cell:Gi,sheet_add_aoa:B5,sheet_add_json:$6,sheet_add_dom:D6,aoa_to_sheet:$u,json_to_sheet:zQ,table_to_sheet:O6,table_to_book:wQ,sheet_to_csv:jb,sheet_to_txt:V6,sheet_to_json:Yp,sheet_to_html:R6,sheet_to_formulae:UQ,sheet_to_row_object_array:Yp,sheet_get_cell:k0,book_new:WQ,book_append_sheet:GQ,book_set_sheet_visibility:qQ,cell_set_number_format:KQ,cell_set_hyperlink:B6,cell_set_internal_link:YQ,cell_add_comment:XQ,sheet_set_array_formula:QQ,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const U6=({orders:t,setOrders:e,fetchOrders:r,searchQuery:n,setSearchQuery:s,formatDate:a,handleRenewal:l,actionLoading:u,balance:d,theme:h="dark"})=>{const[p,g]=E.useState(!1),[y,v]=E.useState(null),[_,w]=E.useState(""),[T,D]=E.useState(!1),[I,z]=E.useState({key:null,direction:"asc"}),F=h==="dark",Y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},U={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:F?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},S={hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.25,ease:"easeOut"}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.15}}},A={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.15}}},j=E.useMemo(()=>{let ie=[...t].filter(de=>(de.productName||"").toLowerCase().includes(n.toLowerCase())||(de.orderId||"").toLowerCase().includes(n.toLowerCase()));return I.key&&ie.sort((de,se)=>{let B=de[I.key]||"",te=se[I.key]||"";return typeof B=="string"&&(B=B.toLowerCase()),typeof te=="string"&&(te=te.toLowerCase()),B<te?I.direction==="asc"?-1:1:B>te?I.direction==="asc"?1:-1:0}),ie},[t,n,I]),R=ie=>{const de={netflix:{bg:F?"bg-red-900/30":"bg-red-100",text:F?"text-red-300":"text-red-800"},disney:{bg:F?"bg-blue-900/30":"bg-blue-100",text:F?"text-blue-300":"text-blue-800"},max:{bg:F?"bg-yellow-900/30":"bg-yellow-100",text:F?"text-yellow-300":"text-yellow-800"},spotify:{bg:F?"bg-green-900/30":"bg-green-100",text:F?"text-green-300":"text-green-800"},default:{bg:F?"bg-gray-900/30":"bg-gray-100",text:F?"text-gray-300":"text-gray-700"}};return de[ie?.toLowerCase()]||de.default},M=ie=>({netflix:"Netflix",disney:"Disney+",max:"Max",spotify:"Spotify"})[ie?.toLowerCase()]||ie||"N/A",L=(ie,de)=>{const se=ie.status||"pending",B=new Date(ie.endDate)>new Date;let te,re,ne;return se==="soporte"?(te="En soporte",re=de?"text-blue-400":"text-blue-600",ne=i.jsx(Di,{className:re,title:"En Soporte"})):se==="rechazado"?(te="No aplica soporte",re=de?"text-amber-700":"text-amber-900",ne=i.jsx(la,{className:re,title:"No aplica soporte"})):se==="pending"?(te="Pendiente a activacion",re=de?"text-yellow-400":"text-yellow-600",ne=i.jsx(ec,{className:re,title:"Pendiente a activacion"})):B?(te="Activo",re=de?"text-green-400":"text-green-600",ne=i.jsx(Eu,{className:re,title:"Activo"})):(te="Expirado",re=de?"text-red-400":"text-red-600",ne=i.jsx(la,{className:re,title:"Expirado"})),{text:te,color:re,icon:ne}},O=ie=>{z(de=>({key:ie,direction:de.key===ie&&de.direction==="asc"?"desc":"asc"}))},fe=ie=>I.key!==ie?null:I.direction==="asc"?i.jsx(Pm,{className:"ml-1"}):i.jsx(Im,{className:"ml-1"}),ke=()=>{const ie=j.map(te=>{const re=parseFloat(te.price)||0,ne=parseFloat(te.renewalPrice)||re,ee=te.status||"pending",Le=ee==="pending",Be=ee==="soporte",je=ee==="rechazado",Me=new Date(te.endDate)>new Date,it=Math.max(0,te.daysRemaining||0);let yt;Be?yt="En soporte":je?yt="No aplica soporte":Le?yt="Pendiente a activacion":Me?yt="Activo":yt="Expirado";const Wt=Be||je||Le;let Fe;return Wt?Fe=yt:Fe=`${it} día${it===1?"":"s"}`,{Estado:yt,Producto:te.productName||"Sin nombre",Categoría:M(te.category),"N° Pedido":te.orderId||"N/A",Precio:`S/ ${re.toFixed(2)}`,"Precio Renovación":ne!==re?`S/ ${ne.toFixed(2)}`:"N/A","Tiempo Restante":Fe,"Fecha de Inicio":a(te.startDate),"Fecha de Vencimiento":a(te.endDate),Email:te.account?.email||"N/A",Contraseña:te.account?.password||"N/A",Perfil:te.account?.profile||"N/A",PIN:te.account?.pin||"N/A",Proveedor:te.provider||"N/A",Nombre:te.client?.customerName||"N/A","Teléfono Cliente":te.client?.phone||"N/A"}}),de=ca.json_to_sheet(ie),se=ca.book_new();ca.book_append_sheet(se,de,"Pedidos");const B=new Date().toISOString().slice(0,10).replace(/-/g,"");Um(se,`mis_pedidos_export_${B}.xlsx`)},Ce=ie=>{v(ie),w(""),g(!0)},Re=()=>{g(!1),v(null),w(""),D(!1)},Ee=async()=>{if(!_.trim()){alert("El mensaje es obligatorio.");return}if(!y||!y.id){alert("Error: No se encontró el ID del pedido.");return}D(!0);try{await ui(ut(Ie,"sales",y.id),{status:"soporte",soporteMessage:_,soporteCreatedAt:new Date},{merge:!0}),console.log(`Documento actualizado exitosamente para order ID: ${y.id}`),typeof e=="function"&&e(ie=>{const de=ie.map(B=>String(B.id)===String(y.id)?{...B,status:"soporte",soporteMessage:_,soporteCreatedAt:new Date}:B);console.log("Orders actualizados localmente:",de);const se=de.find(B=>String(B.id)===String(y.id));return console.log(`Mensaje agregado localmente para ${y.id}:`,se?.soporteMessage),de}),typeof r=="function"&&setTimeout(async()=>{await r()},500),alert(`Soporte enviado para "${y.productName}". El pedido ahora está en estado "En soporte".`)}catch(ie){console.error("Error detallado en sendSupport:",ie),alert("Hubo un error al enviar a soporte. Verifica la consola del navegador para más detalles. Asegúrate de que el ID del pedido sea correcto y que tengas permisos en Firebase.")}finally{D(!1)}Re()};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-7xl mx-auto border ${F?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:Y,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"orders-title",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[i.jsxs("h3",{id:"orders-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${F?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[i.jsx(oi,{className:"mr-2"})," Mis Pedidos",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${F?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:j.length})]}),i.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[i.jsxs("div",{className:"relative flex-1 lg:w-80",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos por nombre o ID...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${F?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:n,onChange:ie=>s(ie.target.value),"aria-label":"Buscar pedidos por nombre o ID"}),i.jsx(oi,{className:`absolute left-3 top-3.5 ${F?"text-gray-400":"text-gray-500"}`,size:18})]}),i.jsxs(Z.button,{onClick:ke,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${F?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos como Excel","aria-label":"Exportar pedidos a Excel",children:[i.jsx(Rm,{size:18}),i.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),i.jsx($t,{children:j.length>0?i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:i.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:i.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${F?"bg-gray-800/50":"bg-white/50"}`,children:[i.jsx("thead",{className:`${F?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsx("tr",{children:[{key:"status",label:"Estado"},{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:"orderId",label:"N° Pedido"},{key:"price",label:"Precio"},{key:"daysRemaining",label:"Tiempo Restante"},{key:"startDate",label:"Inicio"},{key:"endDate",label:"Vencimiento"},{key:"email",label:"Email"},{key:"password",label:"Contraseña"},{key:"profile",label:"Perfil"},{key:"pin",label:"PIN"},{key:"provider",label:"Proveedor"},{key:"customerName",label:"Nombre Cliente"},{key:"phone",label:"Teléfono Cliente"},{label:"Acciones"}].map(({key:ie,label:de})=>i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${F?"text-gray-300":"text-gray-700"} cursor-pointer hover:text-blue-400 transition-colors`,onClick:()=>ie&&O(ie),children:i.jsxs("div",{className:"flex items-center justify-between",children:[de,ie&&fe(ie)]})},ie||de))})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:j.map(ie=>{const de=parseFloat(ie.price)||0,se=parseFloat(ie.renewalPrice)||de,B=ie.status||"pending",te=B==="pending",re=B==="soporte",ne=B==="rechazado",ee=new Date(ie.endDate)>new Date,Le=Math.max(0,ie.daysRemaining||0),Be=Math.min(ie.timeElapsedPercentage||0,100),je=L(ie,F),Me=R(ie.category);let it;Be<70?it=F?"bg-green-500":"bg-green-600":Be<90?it=F?"bg-orange-500":"bg-orange-600":it=F?"bg-red-500":"bg-red-600";const yt=!["En soporte","No aplica soporte","Pendiente a activacion"].includes(je.text),Fe=re||ne||te?je.text:`${Le} día${Le===1?"":"s"}`,fr=yt?it.replace("bg-","text-"):je.color,Mt=je.text,De=encodeURIComponent(`*Consulta sobre Pedido - ${ie.productName||"Sin nombre"}*

*N° Pedido:* ${ie.orderId||"No especificado"}
*Producto:* ${ie.productName||"Sin nombre"}
*Precio:* S/ ${de.toFixed(2)}
`+(se?`*Precio de Renovación:* S/ ${se.toFixed(2)}
`:"")+`*Estado:* ${Mt}
*Fecha de Inicio:* ${a(ie.startDate)}
*Fecha de Vencimiento:* ${a(ie.endDate)}
`+(te?`Hola 😊, he comprado un producto a pedido (${ie.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),pr=!(te||re||ne),Vt=te?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:re?`*Nota:* Este pedido está "En Soporte". El proveedor lo está revisando.

`:ne?`*Nota:* Este pedido ha sido rechazado. No aplica soporte.

`:"",qt=encodeURIComponent(`😊 Estimado/a ${ie.client?.customerName||"Cliente"} 😊

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📌 Tipo: ${ie.productName||"Sin nombre"}.
🔢 Código: ${ie.orderId||"No especificado"}
`+(pr?`📧 Correo: ${ie.account?.email||"No especificado"}
🔐 Contraseña: ${ie.account?.password||"No especificado"}
👤 Perfil: ${ie.account?.profile||"No especificado"}
📌 PIN: ${ie.account?.pin||"No especificado"}
`:"")+`🌐 URL: Sin URL
📅 Fecha de creación: ${a(ie.startDate)}
📅 Fecha de vencimiento: ${a(ie.endDate)}
🏁 Días contratados: ${ie.durationDays||30} días.

`+Vt+`*Términos y Condiciones:*
${ie.termsAndConditions||"No se especificaron términos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),le=ie.providerPhone?ie.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999",Xe=ie.client?.phone?ie.client.phone.replace(/^\+/,"").replace(/\D/g,""):"51999999999";return i.jsxs(Z.tr,{className:`transition-colors duration-200 ${F?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:U,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${ie.id}-title`,children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`p-1.5 rounded-full ${je.color.replace("text-","bg-").replace("-600","/20").replace("-400","/20")}`,children:je.icon}),i.jsx("span",{className:`${je.color} font-medium`,children:je.text})]})}),i.jsx("td",{className:"px-4 py-4",children:i.jsx("h4",{id:`order-${ie.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:ie.productName||"Sin nombre"})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Me.bg} ${Me.text}`,children:M(ie.category)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:ie.orderId||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"font-bold text-lg",children:["S/ ",de.toFixed(2)]}),se!==de&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 bg-gray-100/50 dark:bg-gray-800/50 px-2 py-1 rounded-full",children:[i.jsx(XS,{size:12,className:"text-gray-400"}),i.jsxs("span",{children:["S/ ",se.toFixed(2)]})]})]})}),i.jsx("td",{className:"px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[yt&&i.jsx("div",{className:"relative",children:i.jsx("div",{className:`w-20 h-2 rounded-full overflow-hidden ${F?"bg-gray-600/40":"bg-gray-300/40"}`,children:i.jsx(Z.div,{className:`h-2 rounded-full ${it}`,initial:{width:0},animate:{width:`${Be}%`},transition:{duration:1.5,ease:"easeInOut"}})})}),i.jsx("span",{className:`text-sm font-medium ${fr}`,children:Fe})]})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:a(ie.startDate)}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:a(ie.endDate)}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:ie.account?.email||"N/A",children:ie.account?.email||"N/A"}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:ie.account?.password||"N/A",children:ie.account?.password||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:ie.account?.profile||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-mono",children:ie.account?.pin||"N/A"}),i.jsx("td",{className:"px-4 py-4 text-sm font-medium text-teal-600",children:ie.provider||"N/A"}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:ie.client?.customerName||"N/A",children:ie.client?.customerName||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:ie.client?.phone||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:["soporte","rechazado"].includes(B)?i.jsx("div",{className:"flex gap-2",children:i.jsx("span",{className:"text-gray-400 text-xs",children:"Sin acciones"})}):i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Z.a,{href:`https://wa.me/51${le}?text=${De}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar proveedor","aria-label":`Contactar proveedor para el pedido ${ie.orderId||ie.productName}`,children:i.jsx(Hr,{size:16})}),ee&&ie.renewable&&i.jsx(Z.button,{onClick:()=>l(ie),disabled:u[`renew_${ie.id}`]||d<se,className:`p-2.5 rounded-xl shadow-md flex items-center justify-center ${u[`renew_${ie.id}`]||d<se?"bg-gray-300/50 text-gray-500 cursor-not-allowed":"bg-blue-500/80 hover:bg-blue-600/90 text-white"} transition-all duration-200`,whileHover:{scale:u[`renew_${ie.id}`]||d<se?1:1.1},whileTap:{scale:u[`renew_${ie.id}`]||d<se?1:.9},title:"Renovar pedido","aria-label":`Renovar pedido ${ie.orderId||ie.productName} por S/ ${se.toFixed(2)}`,children:u[`renew_${ie.id}`]?i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):i.jsx(YS,{size:16})}),i.jsx(Z.a,{href:`https://wa.me/51${Xe}?text=${qt}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-amber-500/80 hover:bg-amber-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar cliente","aria-label":`Contactar cliente para el pedido ${ie.orderId||ie.productName}`,children:i.jsx(Hr,{size:16})}),i.jsx(Z.button,{onClick:()=>Ce(ie),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-purple-500/80 hover:bg-purple-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Soporte","aria-label":`Abrir soporte para el pedido ${ie.orderId||ie.productName}`,children:i.jsx(Di,{size:16})})]})})]},ie.id)})})]})})}):i.jsxs(Z.div,{className:"text-center py-16",variants:Y,initial:"hidden",animate:"visible",children:[i.jsx(Z.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:i.jsx(oi,{className:`mx-auto text-6xl ${F?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),i.jsx("h4",{className:`text-xl font-semibold ${F?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos encontrados"}),i.jsx("p",{className:`text-sm ${F?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu búsqueda o realiza tu primer pedido."})]})}),i.jsx($t,{children:p&&y&&i.jsxs(i.Fragment,{children:[i.jsx(Z.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",variants:A,initial:"hidden",animate:"visible",exit:"exit",onClick:Re}),i.jsxs(Z.div,{className:`relative w-full max-w-md p-6 rounded-3xl shadow-2xl border z-[10000] ${F?"bg-gray-800/95 border-gray-700/50 text-white":"bg-white/95 border-gray-200/50 text-gray-900"}`,variants:S,initial:"hidden",animate:"visible",exit:"exit",onClick:ie=>ie.stopPropagation(),children:[i.jsx("div",{className:"absolute top-4 right-4",children:i.jsx(Z.button,{onClick:Re,className:`p-2 rounded-full ${F?"bg-gray-700/50 hover:bg-gray-600/50":"bg-gray-200/50 hover:bg-gray-300/50"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(la,{size:18,className:F?"text-gray-300":"text-gray-600"})})}),i.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[i.jsx(Di,{className:"text-purple-500"}),"Soporte para: ",y.productName||"Sin nombre"]}),i.jsx("textarea",{value:_,onChange:ie=>w(ie.target.value),placeholder:"Escribe tu mensaje de soporte detallado (obligatorio)...",className:`w-full p-4 rounded-2xl resize-none transition-all duration-200 ${F?"bg-gray-700/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-purple-500/50":"bg-gray-100/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-purple-500/50"} focus:ring-2 focus:ring-purple-500/30 focus:outline-none`,rows:5,required:!0,disabled:T}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[i.jsx(Z.button,{onClick:Re,className:`px-6 py-2.5 rounded-xl font-medium transition-all duration-200 ${F?"bg-gray-600/70 hover:bg-gray-700/80 text-white":"bg-gray-300/70 hover:bg-gray-400/80 text-gray-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},disabled:T,children:"Cancelar"}),i.jsx(Z.button,{onClick:Ee,className:`px-6 py-2.5 rounded-xl font-medium flex items-center gap-2 transition-all duration-200 ${!_.trim()||T?"bg-gray-400/70 cursor-not-allowed text-gray-500":"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white"}`,whileHover:!_.trim()||T?{}:{scale:1.05},whileTap:!_.trim()||T?{}:{scale:.95},disabled:!_.trim()||T,children:T?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}),"Enviando..."]}):"Enviar Soporte"})]})]})]})})]})};U6.propTypes={orders:G.arrayOf(G.shape({id:G.string.isRequired,productName:G.string,category:G.string,orderId:G.string,price:G.oneOfType([G.string,G.number]),renewalPrice:G.oneOfType([G.string,G.number]),status:G.string,startDate:G.oneOfType([G.string,G.instanceOf(Date)]),endDate:G.oneOfType([G.string,G.instanceOf(Date)]),daysRemaining:G.number,timeElapsedPercentage:G.number,account:G.shape({email:G.string,password:G.string,profile:G.string,pin:G.string}),client:G.shape({customerName:G.string,phone:G.string}),provider:G.string,providerPhone:G.string,renewable:G.bool,termsAndConditions:G.string,durationDays:G.number,soporteMessage:G.string,soporteCreatedAt:G.oneOfType([G.string,G.instanceOf(Date)])})).isRequired,setOrders:G.func.isRequired,fetchOrders:G.func,searchQuery:G.string.isRequired,setSearchQuery:G.func.isRequired,formatDate:G.func.isRequired,handleRenewal:G.func.isRequired,actionLoading:G.object.isRequired,balance:G.number.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const z6=({userName:t,email:e,actionLoading:r,handleUpdatePassword:n,openEditProfileModal:s,handleLogout:a,theme:l="dark"})=>{const u=l==="dark",d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},p={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}};return i.jsxs(Z.div,{className:`p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"settings-title",children:[i.jsx(Z.h3,{id:"settings-title",className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:"Configuración"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:h,whileHover:"hover",children:[i.jsxs("h4",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-blue-400":"text-blue-600"}`,children:[i.jsx(Ns,{size:20}),"Perfil"]}),i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl ${u?"bg-gray-800/30":"bg-gray-100"}`,children:[i.jsx(Ns,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsxs("div",{children:[i.jsx("span",{className:`font-medium ${u?"text-white":"text-gray-900"}`,children:"Nombre:"}),i.jsx("span",{className:`ml-2 ${u?"text-gray-300":"text-gray-700"}`,children:t.username})]})]}),i.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl ${u?"bg-gray-800/30":"bg-gray-100"}`,children:[i.jsx(lb,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsxs("div",{children:[i.jsx("span",{className:`font-medium ${u?"text-white":"text-gray-900"}`,children:"Correo:"}),i.jsx("span",{className:`ml-2 ${u?"text-gray-300":"text-gray-700"}`,children:e})]})]}),i.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl ${u?"bg-gray-800/30":"bg-gray-100"}`,children:[i.jsx(y0,{className:"text-blue-400 flex-shrink-0",size:20}),i.jsxs("div",{children:[i.jsx("span",{className:`font-medium ${u?"text-white":"text-gray-900"}`,children:"Teléfono:"}),i.jsx("span",{className:`ml-2 ${u?"text-gray-300":"text-gray-700"}`,children:t.phone||"No especificado"})]})]})]}),i.jsxs(Z.button,{onClick:()=>s({id:t.id,username:t.username,phone:t.phone}),className:`w-full px-6 py-3 rounded-xl font-semibold transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white focus:ring-blue-400":"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white focus:ring-blue-500"}`,variants:p,whileHover:"hover",whileTap:"tap","aria-label":"Editar perfil",children:[i.jsx(dz,{size:18,className:"inline mr-2"}),"Editar Perfil"]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:h,whileHover:"hover",children:[i.jsxs("h4",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-green-400":"text-green-600"}`,children:[i.jsx(Pp,{size:20}),"Seguridad"]}),i.jsxs("form",{onSubmit:n,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Nueva Contraseña"}),i.jsx("input",{type:"password",name:"password",className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all duration-300`,placeholder:"Ingrese nueva contraseña (mínimo 6 caracteres)","aria-label":"Nueva contraseña"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Nuevo Teléfono"}),i.jsx("input",{type:"tel",name:"phone",className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all duration-300`,placeholder:"Ingrese nuevo teléfono (ej: +51 940 505 969)",defaultValue:t.phone||"","aria-label":"Nuevo teléfono"})]}),i.jsx(Z.button,{type:"submit",disabled:r.password,className:`w-full py-3 px-6 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${r.password?"bg-gray-300 text-gray-500 cursor-not-allowed":u?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-400":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-500"}`,variants:p,whileHover:r.password?{}:"hover",whileTap:r.password?{}:"tap","aria-label":"Guardar cambios de seguridad",children:r.password?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}),i.jsx("span",{children:"Guardando..."})]}):"Guardar Cambios"})]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:h,whileHover:"hover",children:[i.jsxs("h4",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-red-400":"text-red-600"}`,children:[i.jsx(Rp,{size:20}),"Sesión"]}),i.jsxs(Z.button,{onClick:a,className:`w-full py-3 px-6 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${u?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-400":"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-500"}`,variants:p,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar sesión",children:[i.jsx(Rp,{size:18}),"Cerrar Sesión"]})]})]})]})};z6.propTypes={userName:G.shape({id:G.string.isRequired,username:G.string.isRequired,phone:G.string}).isRequired,email:G.string.isRequired,actionLoading:G.shape({password:G.bool}).isRequired,handleUpdatePassword:G.func.isRequired,openEditProfileModal:G.func.isRequired,handleLogout:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const H6=({orders:t=[],setOrders:e=()=>{},fetchOrders:r,searchQuery:n="",setSearchQuery:s=()=>{},formatDate:a=p=>p?new Date(p).toLocaleDateString("es-PE"):"",handleRenewal:l=()=>{},actionLoading:u={},balance:d=0,theme:h="dark"})=>{const[p,g]=E.useState({key:null,direction:"asc"}),y=h==="dark",v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},_={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:y?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},w=E.useMemo(()=>{let S=[...t.filter(A=>A.status==="soporte")].filter(A=>(A.productName||"").toLowerCase().includes(n.toLowerCase())||(A.orderId||"").toLowerCase().includes(n.toLowerCase()));return p.key&&S.sort((A,j)=>{let R=A[p.key]||"",M=j[p.key]||"";return p.key==="soporteMessage"?(R=A.soporteMessage||"",M=j.soporteMessage||""):p.key==="category"&&(R=D(A.category),M=D(j.category)),typeof R=="string"&&(R=R.toLowerCase()),typeof M=="string"&&(M=M.toLowerCase()),R<M?p.direction==="asc"?-1:1:R>M?p.direction==="asc"?1:-1:0}),S},[t,n,p]),T=U=>{const S={netflix:{bg:y?"bg-red-900/30":"bg-red-100",text:y?"text-red-300":"text-red-800"},disney:{bg:y?"bg-blue-900/30":"bg-blue-100",text:y?"text-blue-300":"text-blue-800"},max:{bg:y?"bg-yellow-900/30":"bg-yellow-100",text:y?"text-yellow-300":"text-yellow-800"},spotify:{bg:y?"bg-green-900/30":"bg-green-100",text:y?"text-green-300":"text-green-800"},default:{bg:y?"bg-gray-900/30":"bg-gray-100",text:y?"text-gray-300":"text-gray-700"}};return S[U?.toLowerCase()]||S.default},D=U=>({netflix:"Netflix",disney:"Disney+",max:"Max",spotify:"Spotify"})[U?.toLowerCase()]||U||"N/A",I=(U,S)=>{const A=U.status||"pending",j=new Date(U.endDate)>new Date;let R,M,L;return A==="soporte"?(R="En soporte",M=S?"text-blue-400":"text-blue-600",L=i.jsx(Di,{className:M,title:"En Soporte"})):A==="rechazado"?(R="No aplica soporte",M=S?"text-amber-700":"text-amber-900",L=i.jsx(la,{className:M,title:"No aplica soporte"})):j?(R="Activo",M=S?"text-green-400":"text-green-600",L=i.jsx(Eu,{className:M,title:"Activo"})):A==="pending"?(R="Pendiente a activacion",M=S?"text-yellow-400":"text-yellow-600",L=i.jsx(ec,{className:M,title:"Pendiente a activacion"})):(R="Expirado",M=S?"text-red-400":"text-red-600",L=i.jsx(la,{className:M,title:"Expirado"})),{text:R,color:M,icon:L}},z=U=>{g(S=>({key:U,direction:S.key===U&&S.direction==="asc"?"desc":"asc"}))},F=U=>p.key!==U?null:p.direction==="asc"?i.jsx(Pm,{className:"ml-1"}):i.jsx(Im,{className:"ml-1"}),Y=()=>{const U=w.map(R=>{const M=parseFloat(R.price)||0,L=parseFloat(R.renewalPrice)||M,O=R.status||"pending",fe=O==="pending",ke=O==="soporte",Ce=O==="rechazado",Re=new Date(R.endDate)>new Date,Ee=Math.max(0,R.daysRemaining||0);let ie;ke?ie="En Soporte":Ce?ie="No aplica soporte":Re?ie="Activo":fe?ie="Pendiente a activacion":ie="Expirado";const de=ke||Ce||fe&&!Re;let se;return de?se=ie:se=`${Ee} día${Ee===1?"":"s"}`,{Estado:ie,Producto:R.productName||"Sin nombre",Categoría:D(R.category),"N° Pedido":R.orderId||"N/A",Precio:`S/ ${M.toFixed(2)}`,"Precio Renovación":L!==M?`S/ ${L.toFixed(2)}`:"N/A","Tiempo Restante":se,"Fecha de Inicio":a(R.startDate),"Fecha de Vencimiento":a(R.endDate),Email:R.account?.email||"N/A",Contraseña:R.account?.password||"N/A",Perfil:R.account?.profile||"N/A",PIN:R.account?.pin||"N/A",Proveedor:R.provider||"N/A","Mensaje de Soporte":R.soporteMessage||"Sin mensaje"}}),S=ca.json_to_sheet(U),A=ca.book_new();ca.book_append_sheet(A,S,"Pedidos");const j=new Date().toISOString().slice(0,10).replace(/-/g,"");Um(A,`mis_pedidos_soporte_export_${j}.xlsx`)};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-7xl mx-auto border ${y?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:v,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"support-title",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[i.jsxs("h3",{id:"support-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${y?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[i.jsx(Di,{className:"mr-2"})," Pedidos en Soporte",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${y?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:w.length})]}),i.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[i.jsxs("div",{className:"relative flex-1 lg:w-80",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos en soporte por nombre o ID...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${y?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:n,onChange:U=>s(U.target.value),"aria-label":"Buscar pedidos en soporte por nombre o ID"}),i.jsx(oi,{className:`absolute left-3 top-3.5 ${y?"text-gray-400":"text-gray-500"}`,size:18})]}),i.jsxs(Z.button,{onClick:Y,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${y?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos en soporte como Excel","aria-label":"Exportar pedidos en soporte a Excel",children:[i.jsx(Rm,{size:18}),i.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),i.jsx($t,{children:w.length>0?i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:i.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:i.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${y?"bg-gray-800/50":"bg-white/50"}`,children:[i.jsx("thead",{className:`${y?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsx("tr",{children:[{key:null,label:"Estado"},{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:"orderId",label:"N° Pedido"},{key:"price",label:"Precio"},{key:"daysRemaining",label:"Tiempo Restante"},{key:"startDate",label:"Inicio"},{key:"endDate",label:"Vencimiento"},{key:"email",label:"Email"},{key:"password",label:"Contraseña"},{key:"profile",label:"Perfil"},{key:"pin",label:"PIN"},{key:"provider",label:"Proveedor"},{key:"soporteMessage",label:"Mensaje de Soporte"},{label:"Acciones"}].map(({key:U,label:S})=>i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${y?"text-gray-300":"text-gray-700"} ${U?"cursor-pointer hover:text-blue-400 transition-colors":""}`,onClick:()=>U&&z(U),children:i.jsxs("div",{className:"flex items-center justify-between",children:[S,U&&F(U)]})},U||S))})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:w.map(U=>{const S=parseFloat(U.price)||0,A=parseFloat(U.renewalPrice)||S,j=U.status||"pending",R=j==="pending",M=j==="soporte",L=j==="rechazado",O=new Date(U.endDate)>new Date,fe=Math.max(0,U.daysRemaining||0),ke=Math.min(U.timeElapsedPercentage||0,100),Ce=I(U,y),Re=T(U.category);let Ee;ke<70?Ee=y?"bg-green-500":"bg-green-600":ke<90?Ee=y?"bg-orange-500":"bg-orange-600":Ee=y?"bg-red-500":"bg-red-600";const ie=!["En soporte","No aplica soporte","Pendiente a activacion"].includes(Ce.text),se=M||L||R&&!O?Ce.text:`${fe} día${fe===1?"":"s"}`,B=ie?Ee.replace("bg-","text-"):Ce.color,te=encodeURIComponent(`*Consulta de Soporte - Pedido ${U.orderId||"N/A"}*

*Producto:* ${U.productName||"Sin nombre"}
*Cliente:* ${U.client?.customerName||"N/A"}
*Mensaje del Cliente:* ${U.soporteMessage||"Sin mensaje"}

Por favor, proporciona una solución o actualización para este soporte. ¡Gracias!`),re=U.providerPhone?U.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return i.jsxs(Z.tr,{className:`transition-colors duration-200 ${y?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:_,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${U.id}-title`,children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`p-1.5 rounded-full ${Ce.color.replace("text-","bg-").replace("-600","/20").replace("-400","/20")}`,children:Ce.icon}),i.jsx("span",{className:`${Ce.color} font-medium`,children:Ce.text})]})}),i.jsx("td",{className:"px-4 py-4",children:i.jsx("h4",{id:`order-${U.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:U.productName||"Sin nombre"})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Re.bg} ${Re.text}`,children:D(U.category)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:U.orderId||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"font-bold text-lg",children:["S/ ",S.toFixed(2)]}),A!==S&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 bg-gray-100/50 dark:bg-gray-800/50 px-2 py-1 rounded-full",children:[i.jsx(XS,{size:12,className:"text-gray-400"}),i.jsxs("span",{children:["S/ ",A.toFixed(2)]})]})]})}),i.jsx("td",{className:"px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[ie&&i.jsx("div",{className:"relative",children:i.jsx("div",{className:`w-20 h-2 rounded-full overflow-hidden ${y?"bg-gray-600/40":"bg-gray-300/40"}`,children:i.jsx(Z.div,{className:`h-2 rounded-full ${Ee}`,initial:{width:0},animate:{width:`${ke}%`},transition:{duration:1.5,ease:"easeInOut"}})})}),i.jsx("span",{className:`text-sm font-medium ${B}`,children:se})]})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:a(U.startDate)}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:a(U.endDate)}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:U.account?.email||"N/A",children:U.account?.email||"N/A"}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:U.account?.password||"N/A",children:U.account?.password||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:U.account?.profile||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-mono",children:U.account?.pin||"N/A"}),i.jsx("td",{className:"px-4 py-4 text-sm font-medium text-teal-600",children:U.provider||"N/A"}),i.jsxs("td",{className:"px-4 py-4 max-w-xs",children:[i.jsx("p",{className:"text-sm break-words line-clamp-3 bg-gray-100/30 dark:bg-gray-800/30 p-2 rounded",title:U.soporteMessage||"Sin mensaje",children:U.soporteMessage||"Sin mensaje"}),U.soporteCreatedAt&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a(U.soporteCreatedAt)})]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("div",{className:"flex gap-2",children:i.jsx(Z.a,{href:`https://wa.me/51${re}?text=${te}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar proveedor por WhatsApp","aria-label":`Contactar proveedor para el pedido ${U.orderId||U.productName}`,children:i.jsx(Hr,{size:16})})})})]},U.id)})})]})})}):i.jsxs(Z.div,{className:"text-center py-16",variants:v,initial:"hidden",animate:"visible",children:[i.jsx(Z.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:i.jsx(Di,{className:`mx-auto text-6xl ${y?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),i.jsx("h4",{className:`text-xl font-semibold ${y?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos en soporte encontrados"}),i.jsx("p",{className:`text-sm ${y?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu búsqueda o verifica si hay pedidos en estado de soporte."})]})})]})};H6.propTypes={orders:G.arrayOf(G.shape({id:G.string.isRequired,productName:G.string,category:G.string,orderId:G.string,price:G.oneOfType([G.string,G.number]),renewalPrice:G.oneOfType([G.string,G.number]),status:G.string,startDate:G.oneOfType([G.string,G.instanceOf(Date)]),endDate:G.oneOfType([G.string,G.instanceOf(Date)]),daysRemaining:G.number,timeElapsedPercentage:G.number,account:G.shape({email:G.string,password:G.string,profile:G.string,pin:G.string}),client:G.shape({customerName:G.string}),provider:G.string,providerPhone:G.string,renewable:G.bool,termsAndConditions:G.string,durationDays:G.number,soporteMessage:G.string,soporteCreatedAt:G.oneOfType([G.string,G.instanceOf(Date)])})),setOrders:G.func,fetchOrders:G.func,searchQuery:G.string,setSearchQuery:G.func,formatDate:G.func,handleRenewal:G.func,actionLoading:G.object,balance:G.number,theme:G.oneOf(["light","dark"])};const JQ=({referralCode:t,affiliates:e,formatDate:r,theme:n="dark"})=>{const[s,a]=E.useState(!1),l=n==="dark",u={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},h=async()=>{try{await navigator.clipboard.writeText(t),a(!0),setTimeout(()=>a(!1),2e3)}catch(p){console.error("Failed to copy code:",p)}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${l?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",children:[i.jsx(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r ${l?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:"Afiliados"}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm mb-8 ${l?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${l?"text-blue-400":"text-blue-600"}`,children:[i.jsx(ku,{size:20}),"Tu Código de Referido"]}),i.jsxs("div",{className:"relative",children:[i.jsx("p",{className:`text-3xl font-bold text-center mb-4 px-4 py-3 rounded-xl bg-gradient-to-r ${l?"from-blue-500/20 to-purple-500/20 text-blue-300 border-blue-500/30":"from-blue-100/50 to-purple-100/50 text-blue-700 border-blue-300/50"} border`,children:t||"Cargando..."}),i.jsx(Z.button,{onClick:h,className:`absolute -top-2 -right-2 p-2 rounded-full bg-blue-500 text-white shadow-lg hover:bg-blue-600 transition-all duration-300 ${l?"hover:shadow-blue-500/25":"hover:shadow-blue-500/50"}`,whileHover:{scale:1.1},whileTap:{scale:.95},"aria-label":"Copiar código",disabled:!t,children:i.jsx(WS,{size:16})}),i.jsx($t,{children:s&&i.jsx(Z.p,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:`absolute -bottom-8 left-1/2 transform -translate-x-1/2 text-xs ${l?"text-green-400":"text-green-600"}`,children:"¡Código copiado!"})})]}),i.jsx("p",{className:`text-sm text-center mt-4 ${l?"text-gray-400":"text-gray-600"}`,children:"Comparte este código con tus amigos para que se unan a través de ti."})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${l?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${l?"text-white":"text-gray-900"}`,children:[i.jsx(ku,{size:20}),"Usuarios Afiliados"]}),i.jsx($t,{children:e.length>0?e.map((p,g)=>i.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:g*.1},className:`mb-4 p-4 rounded-xl transition-all duration-300 border ${l?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,whileHover:{scale:1.02},children:[i.jsx("div",{className:"flex items-start justify-between mb-2",children:i.jsx("p",{className:`font-semibold flex-1 ${l?"text-white":"text-gray-900"}`,children:p.username})}),i.jsxs("div",{className:`space-y-2 ${l?"text-gray-300":"text-gray-700"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Hr,{className:"text-blue-400 flex-shrink-0",size:16}),i.jsx("span",{className:"text-sm",children:p.email})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(y0,{className:"text-blue-400 flex-shrink-0",size:16}),i.jsx("span",{className:"text-sm",children:p.phone||"No especificado"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(cz,{className:"text-blue-400 flex-shrink-0",size:16}),i.jsx("span",{className:"text-sm",children:r(p.createdAt)})]})]})]},p.id)):i.jsx(Z.p,{initial:{opacity:0},animate:{opacity:1},className:`py-8 text-center ${l?"text-gray-400":"text-gray-500"}`,children:"SERVICIO QUE VA A LLEGAR MUY PRONTO"})})]})]})},ZQ=Ia.memo(({show:t,onClose:e,title:r,message:n,theme:s})=>i.jsx($t,{children:t&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${s==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:i.jsx(Sn,{size:20})}),i.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${s==="dark"?"text-white":"text-gray-900"}`,children:r}),i.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));ZQ.propTypes={show:G.bool.isRequired,onClose:G.func.isRequired,title:G.string.isRequired,message:G.string.isRequired,theme:G.string.isRequired};const W6=()=>{const[t,e]=E.useState(!1),[r,n]=E.useState(""),[s,a]=E.useState([]),[l,u]=E.useState({username:"",phone:""}),[d,h]=E.useState(""),[p,g]=E.useState(0),[y,v]=E.useState(null),[_,w]=E.useState("inicio"),[T,D]=E.useState([]),[I,z]=E.useState({}),[F,Y]=E.useState([]),[U,S]=E.useState([]),[A,j]=E.useState(""),[R,M]=E.useState(!0),[L,O]=E.useState({}),[fe,ke]=E.useState(null),[Ce,Re]=E.useState({isOpen:!1,message:"",title:""}),[Ee,ie]=E.useState({isOpen:!1,user:null}),[de,se]=E.useState({isOpen:!1,provider:null}),[B,te]=E.useState(""),[re,ne]=E.useState([]),[ee,Le]=E.useState("dark"),[Be,je]=E.useState(!1),[Me,it]=E.useState(!1),[yt,Wt]=E.useState(!1),Fe=Ma();E.useEffect(()=>{const we=()=>Wt(window.innerWidth<1024);return we(),window.addEventListener("resize",we),()=>window.removeEventListener("resize",we)},[]);const fr=E.useCallback(()=>{Le(we=>we==="dark"?"light":"dark")},[]),Mt=E.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),De=E.useCallback((we,Ae)=>{Re({isOpen:!0,title:we,message:Ae})},[]),pr=E.useCallback(()=>{Re({isOpen:!1,message:"",title:""})},[]),Vt=E.useCallback(we=>{ie({isOpen:!0,user:we})},[]),qt=E.useCallback(()=>{ie({isOpen:!1,user:null})},[]),le=E.useCallback(we=>{se({isOpen:!0,provider:we})},[]),Xe=E.useCallback(()=>{se({isOpen:!1,provider:null})},[]),ct=E.useCallback(we=>{if(!we)return"No especificada";try{const Ae=we instanceof Date?we:new Date(we);return isNaN(Ae.getTime())?"Fecha inválida":Ae.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},[]),dt=E.useCallback(async()=>{if(y)try{const we=tr(kt(Ie,"sales"),br("customerId","==",y)),Ae=await rn(we),Ve=new Set,Ze=[];Ae.forEach(ot=>{const et=ot.data();et.providerId&&!Ve.has(et.providerId)&&(Ve.add(et.providerId),Ze.push({id:et.providerId,name:et.provider||"Proveedor desconocido",phone:et.providerPhone||"No especificado"}))});const vt=tr(kt(Ie,"ratings"),br("userId","==",y)),at=(await rn(vt)).docs.map(ot=>ot.data().providerId);Ze.forEach(ot=>{ot.hasRated=at.includes(ot.id)}),ne(Ze)}catch(we){console.error("Error fetching providers:",we),ke("Error al cargar proveedores: "+we.message)}},[y]),St=E.useCallback(async(we,Ae)=>{try{O(Ze=>({...Ze,profile:!0}));const Ve=ut(Ie,"users",we);await Mr(Ve,{username:Ae,updatedAt:wr()}),u(Ze=>({...Ze,username:Ae})),De("Éxito","Perfil actualizado exitosamente"),qt()}catch(Ve){console.error("Error al actualizar perfil:",Ve),De("Error",Ve.message||"Error al actualizar el perfil")}finally{O(Ve=>({...Ve,profile:!1}))}},[De,qt]),wt=E.useCallback(async(we,Ae)=>{try{O(Ve=>({...Ve,[`rate_${we}`]:!0})),await Do(kt(Ie,"ratings"),{userId:y,providerId:we,rating:Ae,ratedAt:wr()}),ne(Ve=>Ve.map(Ze=>Ze.id===we?{...Ze,hasRated:!0}:Ze)),De("Éxito","Calificación enviada exitosamente"),Xe()}catch(Ve){console.error("Error al calificar proveedor:",Ve),De("Error",Ve.message||"Error al enviar la calificación")}finally{O(Ve=>({...Ve,[`rate_${we}`]:!1}))}},[y,De,Xe]),st=E.useCallback(async we=>{try{O(Ze=>({...Ze,[`delete_${we.id}`]:!0}));const Ae=tr(kt(Ie,"ratings"),br("userId","==",y),br("providerId","==",we.id)),Ve=await rn(Ae);if(Ve.empty){De("Error","No se encontró la calificación para eliminar");return}await Ci(Ve.docs[0].ref),ne(Ze=>Ze.map(vt=>vt.id===we.id?{...vt,hasRated:!1}:vt)),le(we),De("Éxito","Calificación anterior eliminada. Ahora puedes volver a calificar.")}catch(Ae){console.error("Error al eliminar calificación:",Ae),De("Error",Ae.message||"Error al eliminar la calificación")}finally{O(Ae=>({...Ae,[`delete_${we.id}`]:!1}))}},[y,De,le]),gt=E.useCallback(async we=>{try{O(Bt=>({...Bt,[`renew_${we.id}`]:!0}));const Ae=parseFloat(we.renewalPrice)||parseFloat(we.price)||0;if(p<Ae){De("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const Ve=parseInt(we.durationDays)||30,Ze=Nr.now(),vt=Ze.toDate(),Nt=vt,at=new Date(Nt.getTime()+Ve*24*60*60*1e3),ot=Nr.fromDate(at),et=ut(Ie,"sales",we.id);await Mr(et,{startDate:Ze,endDate:ot,renewedAt:Ze,status:"completed",updatedAt:wr()});const Tt=ut(Ie,"users",y);await Mr(Tt,{balance:p-Ae}),g(Bt=>Bt-Ae),D(Bt=>Bt.map(Kt=>Kt.id===we.id?{...Kt,startDate:Nt,endDate:at,renewedAt:vt,status:"completed",daysRemaining:Ve,totalDays:Ve,timeElapsedPercentage:0}:Kt)),De("Éxito",`¡Pedido renovado exitosamente! Nueva fecha de vencimiento: ${ct(at)}`)}catch(Ae){console.error("Error al renovar el pedido:",Ae),De("Error","Error al renovar el pedido: "+Ae.message)}finally{O(Ae=>({...Ae,[`renew_${we.id}`]:!1}))}},[p,y,De,ct]);E.useEffect(()=>{(async()=>{try{const Ae=tr(kt(Ie,"products")),Ve=await rn(Ae),Ze={};Ve.forEach(vt=>{Ze[vt.id]=vt.data()}),z(Ze)}catch(Ae){console.error("Error fetching products:",Ae),ke("Error al cargar productos: "+Ae.message)}})()},[]),E.useEffect(()=>{const we=hr(ut(Ie,"notifications","adminMessage"),Ae=>{if(Ae.exists()){const Ve=Ae.data();Ve.roles&&Ve.roles.includes("user")?Y([{id:Ae.id,...Ve,timestamp:Ve.updatedAt?.toDate()}]):Y([])}else Y([])},Ae=>{console.error("Error in notifications listener:",Ae),ke("Error al cargar notificaciones: "+Ae.message)});return()=>we()},[]),E.useEffect(()=>{if(!y){console.log("No userId disponible para fetch affiliates");return}console.log("Iniciando fetch de affiliates para userId:",y);const we=tr(kt(Ie,"users"),br("referredBy","==",y)),Ae=hr(we,Ve=>{console.log(`Affiliates snapshot recibido. Docs length: ${Ve.docs.length}`);const Ze=Ve.docs.map(vt=>{const Nt=vt.data();return console.log(`Affiliate doc: ID=${vt.id}, referredBy=${Nt.referredBy}, username=${Nt.username}`),{id:vt.id,username:Nt.username||"Desconocido",email:Nt.email||"No especificado",phone:Nt.phone||"No especificado",createdAt:Nt.createdAt?.toDate?.()||new Date}});console.log("Affiliates procesados:",Ze),S(Ze)},Ve=>{console.error("Error fetching affiliates:",Ve),ke("Error al cargar afiliados: "+Ve.message)});return()=>{console.log("Desuscribiendo affiliates listener"),Ae()}},[y]),E.useEffect(()=>{dt()},[dt]);const ir=E.useCallback(async()=>{try{await z0(tn),Fe("/")}catch(we){console.error("Error al cerrar sesión:",we),De("Error",we.message||"Error al cerrar sesión")}},[Fe,De]);E.useEffect(()=>{const we=Kl(tn,Ae=>{Ae?(console.log("Auth user loaded:",Ae.uid),v(Ae.uid),h(Ae.email||"No especificado"),j(""),M(!1)):Fe("/login")});return()=>we()},[Fe]),E.useEffect(()=>{if(!y)return;console.log("Iniciando fetch de user data para:",y);const we=ut(Ie,"users",y),Ae=hr(we,Ve=>{if(Ve.exists()){const Ze=Ve.data();console.log("User data loaded:",{username:Ze.username,referralCode:Ze.referralCode}),u({username:Ze.username||"Usuario",phone:Ze.phone||""}),h(Ze.email||"No especificado"),g(Number(Ze.balance)||0),j(Ze.referralCode||y.slice(-6).toUpperCase())}else console.error("User doc no existe para:",y),ke("Usuario no encontrado")},Ve=>{console.error("Error in user data listener:",Ve),ke("Error al cargar datos del usuario: "+Ve.message)});return()=>Ae()},[y]),E.useEffect(()=>{if(!y)return;const we=tr(kt(Ie,"sales"),br("customerId","==",y)),Ae=hr(we,async Ze=>{if(Ze.empty){D([]),M(!1);return}const vt=new Date,Nt=7200*60*1e3;for(const ot of Ze.docs){const Tt=ot.data().endDate?.toDate?.()||new Date;if(Tt<vt&&vt.getTime()-Tt.getTime()>Nt)try{await Ci(ut(Ie,"sales",ot.id)),console.log(`Deleted expired order: ${ot.id}`)}catch(Bt){console.error(`Error deleting order ${ot.id}:`,Bt)}}const at=Ze.docs.map(ot=>{const et=ot.data(),Bt=et.saleDate?.toDate?.()||et.createdAt?.toDate?.()||new Date;let Kt=et.startDate?.toDate?.(),Ir=Kt||Bt,$r=!1;Kt||($r=!0);const dn=et.durationDays||30;let cr;et.endDate?cr=et.endDate.toDate?et.endDate.toDate():new Date(et.endDate):(cr=new Date(Ir.getTime()+dn*24*60*60*1e3),$r=!0),$r&&Mr(ut(Ie,"sales",ot.id),{startDate:Kt||Nr.fromDate(Bt),endDate:Nr.fromDate(cr),durationDays:dn}).catch(H=>{console.error("Error al actualizar startDate/endDate en Firestore:",H)});const Wn=cr.getTime()-Ir.getTime(),ur=vt.getTime()-Ir.getTime(),hn=cr.getTime()-vt.getTime(),Tr=Math.ceil(Wn/(1e3*60*60*24)),yn=Math.max(0,Math.ceil(hn/(1e3*60*60*24))),be=Math.ceil(ur/(1e3*60*60*24)),Se=Tr>0?be/Tr*100:100,P=I[et.providerId]?.terms||"No se especificaron términos y condiciones.";return{id:ot.id,productName:et.productName||"Producto sin nombre",category:et.type||"netflix",price:parseFloat(et.price)||0,renewalPrice:parseFloat(et.renewalPrice)||0,provider:et.provider||"No especificado",providerId:et.providerId||"",providerPhone:et.providerPhone||et.providerWhatsapp||"51999999999",status:et.status||"completed",saleDate:Bt,startDate:Ir,endDate:cr,durationDays:dn,daysRemaining:yn,totalDays:Tr,timeElapsedPercentage:Se,account:{email:et.accountDetails?.email||"No especificado",password:et.accountDetails?.password||"No especificado",profile:et.accountDetails?.profile||"No especificado",pin:et.accountDetails?.pin||"No especificado"},client:{customerName:et.customerName||"Cliente desconocido",email:et.customerEmail||"No especificado",phone:et.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BLK-${ot.id.slice(0,8).toUpperCase()}`,termsAndConditions:P,renewable:et.renewable!==void 0?et.renewable:!0}}).filter(ot=>{const et=new Date(ot.endDate);return!(et<vt&&vt.getTime()-et.getTime()>Nt)});D(at),M(!1)},Ze=>{console.error("Error al obtener pedidos:",Ze),ke("Error al cargar pedidos: "+Ze.message),M(!1)}),Ve=setInterval(()=>{const Ze=new Date,vt=7200*60*1e3;D(Nt=>Nt.map(at=>{const ot=new Date(at.endDate).getTime()-new Date(at.startDate).getTime(),et=Ze.getTime()-new Date(at.startDate).getTime(),Tt=new Date(at.endDate).getTime()-Ze.getTime(),Bt=Math.ceil(ot/(1e3*60*60*24)),Kt=Math.max(0,Math.ceil(Tt/(1e3*60*60*24))),Ir=Math.ceil(et/(1e3*60*60*24)),$r=Bt>0?Ir/Bt*100:100;return{...at,daysRemaining:Kt,totalDays:Bt,timeElapsedPercentage:$r}}).filter(at=>{const ot=new Date(at.endDate);return!(ot<Ze&&Ze.getTime()-ot.getTime()>vt)}))},6e4);return()=>{Ae(),clearInterval(Ve)}},[y,I]),E.useEffect(()=>{if(!y)return;const we=tr(kt(Ie,"pendingTopUps"),br("userId","==",y)),Ae=hr(we,Ve=>{const Ze=Ve.docs.map(vt=>({id:vt.id,...vt.data(),date:vt.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(vt.data().amount)||0}));a(Ze)},Ve=>{console.error("Error al obtener recargas:",Ve),ke("Error al cargar recargas: "+Ve.message)});return()=>Ae()},[y]);const Q=E.useCallback(async()=>{try{if(O(Ae=>({...Ae,topUp:!0})),!r||isNaN(r)){De("Error","Ingrese un monto válido");return}const we=parseFloat(r);if(we<5){De("Error","El monto mínimo de recarga es S/ 5.00");return}await Do(kt(Ie,"pendingTopUps"),{userId:y,username:l.username,amount:we,status:"pendiente",requestedAt:wr()}),n(""),De("Éxito","Solicitud de recarga enviada correctamente")}catch(we){console.error("Error al solicitar recarga:",we),De("Error",we.message||"Error al enviar solicitud de recarga")}finally{O(we=>({...we,topUp:!1}))}},[r,y,l.username,De]),Ne=E.useCallback(async we=>{we.preventDefault();try{O(at=>({...at,password:!0}));const Ae=we.target.password.value,Ve=we.target.phone.value,Ze=tn.currentUser,vt=ut(Ie,"users",y),Nt={};if(Ae){if(Ae.length<6){De("Error","La contraseña debe tener al menos 6 caracteres");return}await y1(Ze,Ae),Nt.updatedAt=wr()}Ve&&(Nt.phone=Ve,Nt.updatedAt=wr()),Object.keys(Nt).length>0&&await Mr(vt,Nt),u(at=>({...at,phone:Ve||at.phone})),De("Éxito","Cambios guardados correctamente"),we.target.reset()}catch(Ae){console.error("Error al actualizar los datos:",Ae),De("Error",Ae.message||"Error al guardar los cambios")}finally{O(Ae=>({...Ae,password:!1}))}},[y,De]);E.useEffect(()=>{const we=()=>{je(window.scrollY>300)};return window.addEventListener("scroll",we),()=>window.removeEventListener("scroll",we)},[]);const ft=()=>R?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):fe?i.jsxs("div",{className:`bg-${ee==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${ee==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Vl,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${ee==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),i.jsx("p",{className:`text-base ${ee==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:fe}),i.jsx("button",{onClick:()=>ke(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):i.jsx("div",{className:`bg-${ee==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 lg:p-10 rounded-2xl shadow-md max-w-6xl mx-auto border ${ee==="dark"?"border-gray-700/50":"border-gray-300"} w-full`,children:(()=>{switch(_){case"inicio":return i.jsx(oH,{userName:l,email:d,balance:p,orders:T,notifications:F,setActivePage:w,formatDate:ct});case"notificaciones":return i.jsx(a5,{notifications:F,formatDate:ct});case"recargar":return i.jsx(i5,{amount:r,setAmount:n,topUps:s,actionLoading:L,handleTopUpRequest:Q,formatDate:ct,showModal:De});case"proveedores":return i.jsx(o5,{providers:re,openRateProviderModal:le,deleteRatingProvider:st,theme:ee});case"afiliados":return console.log("Rendering AffiliatesSection with:",{referralCode:A,affiliatesLength:U.length}),i.jsx(JQ,{referralCode:A,affiliates:U,formatDate:ct,theme:ee});case"pedidos":return i.jsx(U6,{orders:T,setOrders:D,balance:p,searchQuery:B,setSearchQuery:te,formatDate:ct,handleRenewal:gt,actionLoading:L,theme:ee});case"configuracion":return i.jsx(z6,{userName:l,email:d,actionLoading:L,handleUpdatePassword:Ne,openEditProfileModal:Vt,handleLogout:ir});case"soporte":return i.jsx(H6,{orders:T,setOrders:D,searchQuery:B,setSearchQuery:te,formatDate:ct,handleRenewal:gt,actionLoading:L,balance:p,theme:ee});default:return i.jsxs("div",{className:`bg-${ee==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${ee==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Vl,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${ee==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Sección no encontrada"}),i.jsx("p",{className:`text-base ${ee==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La sección que estás buscando no existe o no está disponible."}),i.jsx("button",{onClick:()=>w("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()});return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${ee==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${ee==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(15)].map((we,Ae)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Ae))})]}),i.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${ee==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:i.jsxs("div",{className:"p-4 flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("button",{onClick:()=>{Fe("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),i.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:i.jsx(Sn,{className:"text-lg"})})]}),i.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${ee==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:l.username.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:`font-medium ${ee==="dark"?"text-white":"text-gray-900"}`,children:l.username}),i.jsx("p",{className:`text-xs ${ee==="dark"?"text-gray-400":"text-gray-600"}`,children:"Usuario"})]})]}),i.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:nb},{id:"notificaciones",label:"Notificaciones",icon:Ml},{id:"recargar",label:"Recargar saldo",icon:ii},{id:"pedidos",label:"Mis pedidos",icon:bu},{id:"proveedores",label:"Proveedores",icon:$l},{id:"afiliados",label:"Afiliados",icon:_u},{id:"soporte",label:"Soporte",icon:iz},{id:"configuracion",label:"Configuración",icon:Ip}].map(we=>i.jsxs("button",{onClick:()=>{w(we.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${_===we.id?"bg-blue-100 text-blue-600 border border-blue-300":ee==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":_===we.id?"page":void 0,children:[i.jsx(we.icon,{className:"text-lg"}),i.jsx("span",{children:we.label})]},we.id))}),i.jsx("div",{className:"mt-auto pt-6",children:i.jsxs("button",{onClick:()=>{ir(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${ee==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[i.jsx(wu,{className:"text-lg"}),i.jsx("span",{children:"Cerrar Sesión"})]})})]})}),i.jsxs("header",{className:`${ee==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Z.img,{src:tc,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border cursor-pointer ${ee==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy",onClick:()=>Fe("/")}),i.jsx("button",{onClick:()=>{yt?Fe("/"):w("inicio")},className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300 cursor-pointer","aria-label":yt?"Go to BlackStreaming homepage":"Ir al inicio del dashboard",children:"BlackStreaming"})]}),i.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:B,onChange:we=>te(we.target.value),className:`w-full py-2.5 px-5 ${ee==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:we=>we.key==="Enter"&&w("pedidos")}),i.jsx("button",{onClick:()=>w("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${ee==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:i.jsx(vu,{size:18})})]})}),i.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[i.jsx("button",{onClick:fr,className:`p-2 rounded-full ${ee==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${ee==="dark"?"light":"dark"} theme`,children:ee==="dark"?i.jsx(Zl,{size:20}):i.jsx(Jl,{size:20})}),i.jsxs("button",{onClick:()=>it(!0),className:`p-2 rounded-full relative ${ee==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${F.length} new)`,children:[i.jsx(Ml,{size:20}),F.length>0&&i.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:F.length})]}),i.jsx("button",{className:`lg:hidden p-2 rounded-full ${ee==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:i.jsx(jm,{size:20,className:ee==="dark"?"text-gray-300":"text-gray-600"})}),i.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:i.jsx("div",{className:"relative",children:i.jsxs("button",{className:`flex items-center space-x-2 ${ee==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:l.username.charAt(0).toUpperCase()}),i.jsx("span",{className:`text-sm font-semibold ${ee==="dark"?"text-gray-200":"text-gray-800"}`,children:l.username})]})})})]})]}),i.jsx($t,{children:Me&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>it(!1),role:"dialog","aria-labelledby":"notifications-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${ee==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${ee==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:we=>we.stopPropagation(),children:[i.jsx("button",{onClick:()=>it(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:i.jsx(Sn,{size:20})}),i.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${ee==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),F.length>0?F.map(we=>i.jsxs("div",{className:`p-4 mb-2 rounded-md ${ee==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${ee==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[i.jsx("h3",{className:`font-semibold ${ee==="dark"?"text-gray-200":"text-gray-800"}`,children:we.title||"Nueva Notificación"}),i.jsx("p",{className:`text-sm ${ee==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:we.message}),we.roles&&we.roles.length>0&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",we.roles.join(", ")]}),we.timestamp&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ct(we.timestamp)})]},we.id)):i.jsx("p",{className:`text-center ${ee==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),i.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:ft()}),i.jsxs("footer",{className:`${ee==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${ee==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),i.jsxs("p",{className:`text-base sm:text-lg ${ee==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[i.jsx("a",{href:"https://twitter.com",className:`${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:i.jsx(Ql,{size:28})}),i.jsx("a",{href:"https://instagram.com",className:`${ee==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:i.jsx(Xl,{size:28})}),i.jsx("a",{href:"https://facebook.com",className:`${ee==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:i.jsx(Yl,{size:28})})]}),i.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[i.jsx("a",{href:"#",className:`text-sm ${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Política de Privacidad"}),i.jsx("a",{href:"#",className:`text-sm ${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Términos de Servicio"}),i.jsx("a",{href:"#",className:`text-sm ${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contáctanos"})]})]}),i.jsxs("p",{className:`text-sm ${ee==="dark"?"text-gray-500":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Hecho con pasión."]})]}),i.jsx($t,{children:Be&&i.jsx(Z.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:Mt,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:i.jsx(Cm,{size:20})})}),i.jsx(iH,{isOpen:Ce.isOpen,title:Ce.title,message:Ce.message,onClose:pr,theme:ee}),Ee.isOpen&&i.jsx(n5,{isOpen:Ee.isOpen,user:Ee.user,onClose:qt,onSave:St,theme:ee}),de.isOpen&&i.jsx(s5,{isOpen:de.isOpen,provider:de.provider,onClose:Xe,onRate:wt,theme:ee}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};W6.propTypes={};const eJ=({isOpen:t,message:e,title:r,onClose:n})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:r}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(Gs,{size:20})})]}),i.jsx("p",{className:"text-gray-300 mb-6",children:e}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,tJ=({isOpen:t,user:e,onClose:r,onSave:n})=>{const[s,a]=E.useState(e?.username||""),[l,u]=E.useState(""),d=h=>{if(h.preventDefault(),u(""),!s.trim()){u("El nombre de usuario no puede estar vacío.");return}n(e.id,s.trim())};return t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Editar Perfil"}),i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(Gs,{size:20})})]}),i.jsxs("form",{onSubmit:d,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),i.jsx("input",{type:"text",value:s,onChange:h=>a(h.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0}),l&&i.jsx("p",{className:"text-red-400 text-sm mt-2",children:l})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},rJ=()=>{const[t,e]=E.useState(!1),[r,n]=E.useState("inicio"),[s,a]=E.useState(""),[l,u]=E.useState(""),[d,h]=E.useState(""),[p,g]=E.useState([]),[y,v]=E.useState(0),[_,w]=E.useState(0),[T,D]=E.useState(null),[I,z]=E.useState(!0),[F,Y]=E.useState({}),[U,S]=E.useState(null),[A,j]=E.useState([]),[R,M]=E.useState(!1),[L,O]=E.useState(""),[fe,ke]=E.useState(""),[Ce,Re]=E.useState([]),[Ee,ie]=E.useState([]),[de,se]=E.useState({}),[B,te]=E.useState([]),[re,ne]=E.useState({isOpen:!1,message:"",title:""}),[ee,Le]=E.useState({isOpen:!1,user:null}),Be=Ma(),je=(le,Xe)=>{ne({isOpen:!0,title:le,message:Xe})},Me=()=>{ne({isOpen:!1,message:"",title:""})},it=le=>{Le({isOpen:!0,user:le})},yt=()=>{Le({isOpen:!1,user:null})},Wt=async(le,Xe)=>{try{Y(St=>({...St,profile:!0}));const ct=ut(Ie,"users",le),dt=ut(Ie,"affiliates",le);await Mr(ct,{username:Xe,updatedAt:wr()}),await Mr(dt,{username:Xe,updatedAt:wr()}),a(Xe),je("Éxito","Perfil actualizado exitosamente"),yt()}catch(ct){console.error("Error al actualizar perfil:",ct),je("Error",ct.message||"Error al actualizar el perfil")}finally{Y(ct=>({...ct,profile:!1}))}};E.useEffect(()=>{const le=Kl(tn,Xe=>{Xe?(D(Xe.uid),u(Xe.email||"No especificado"),z(!1)):Be("/login")});return()=>le()},[Be]),E.useEffect(()=>{(async()=>{try{const Xe=tr(kt(Ie,"products")),ct=await rn(Xe),dt={};ct.forEach(St=>{dt[St.id]=St.data()}),se(dt)}catch(Xe){console.error("Error fetching products:",Xe),S("Error al cargar productos")}})()},[]),E.useEffect(()=>{hr(ut(Ie,"notifications","adminMessage"),ct=>{if(ct.exists()){const dt=ct.data();dt.roles&&dt.roles.includes("affiliate")?te([{id:ct.id,...dt}]):te([])}else te([])})},[]),E.useEffect(()=>{(async()=>{if(T)try{const Xe=ut(Ie,"users",T),ct=await ei(Xe);if(ct.exists()){const wt=ct.data();a(wt.username||"Usuario"),w(Number(wt.balance)||0)}const dt=ut(Ie,"affiliates",T),St=await ei(dt);if(St.exists()){const wt=St.data();h(wt.affiliateCode||""),v(Number(wt.earnings)||0)}else{const wt=`AFF-${Math.random().toString(36).substring(2,8).toUpperCase()}`;await ui(dt,{username:s||"Nuevo Afiliado",email:l,affiliateCode:wt,earnings:0,createdAt:wr(),updatedAt:wr()}),h(wt)}}catch(Xe){console.error("Error al manejar datos:",Xe),S("Error al cargar datos")}finally{z(!1)}})()},[T,l,s]),E.useEffect(()=>{if(!T)return;(()=>{const Xe=tr(kt(Ie,"pendingTopUps"),br("userId","==",T));return hr(Xe,dt=>{const St=dt.docs.map(wt=>({id:wt.id,...wt.data(),date:wt.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(wt.data().amount)||0}));Re(St)},dt=>{console.error("Error al obtener recargas:",dt),S("Error al cargar recargas")})})()},[T]),E.useEffect(()=>{if(!d)return;const le=tr(kt(Ie,"users"),br("referrerCode","==",d),o1("createdAt","desc"),_A(5)),Xe=hr(le,ct=>{const dt=ct.docs.map(St=>({id:St.id,...St.data(),joinDate:St.data().createdAt?.toDate()||new Date}));j(dt)});return()=>Xe()},[d]),E.useEffect(()=>{if(!d)return;const le=tr(kt(Ie,"users"),br("referrerCode","==",d)),Xe=hr(le,ct=>{const dt=ct.docs.map(St=>({id:St.id,...St.data(),joinDate:St.data().createdAt?.toDate()||new Date}));g(dt)});return()=>Xe()},[d]),E.useEffect(()=>{if(!T)return;(()=>{const Xe=tr(kt(Ie,"sales"),br("customerId","==",T)),ct=hr(Xe,St=>{if(St.empty){ie([]),z(!1);return}const wt=St.docs.map(st=>{const gt=st.data(),Q=gt.saleDate?.toDate?.()||gt.createdAt?.toDate?.()||new Date;let Ne=gt.startDate?.toDate?.(),ft=Ne||Q,we=!1;Ne||(we=!0);const Ae=gt.durationDays||30;let Ve;gt.endDate?Ve=new Date(gt.endDate):(Ve=new Date(ft.getTime()+Ae*24*60*60*1e3),we=!0),we&&Mr(ut(Ie,"sales",st.id),{startDate:Ne||Nr.fromDate(Q),endDate:Ve.toISOString(),durationDays:Ae}).catch(Ir=>{console.error("Error al actualizar startDate/endDate en Firestore:",Ir)});const Ze=new Date,vt=Ve.getTime()-ft.getTime(),Nt=Ze.getTime()-ft.getTime(),at=Ve.getTime()-Ze.getTime(),ot=Math.ceil(vt/(1e3*60*60*24)),et=Math.max(0,Math.ceil(at/(1e3*60*60*24))),Tt=Math.ceil(Nt/(1e3*60*60*24)),Bt=ot>0?Tt/ot*100:100,Kt=de[gt.providerId]?.terms||"No se especificaron términos y condiciones.";return{id:st.id,productName:gt.productName||"Producto sin nombre",category:gt.type||"netflix",price:parseFloat(gt.price)||0,provider:gt.provider||"No especificado",providerId:gt.providerId||"",providerPhone:gt.providerPhone||gt.providerWhatsapp||"51999999999",status:gt.status||"completed",saleDate:Q,startDate:ft,endDate:Ve,durationDays:Ae,daysRemaining:et,totalDays:ot,timeElapsedPercentage:Bt,account:{email:gt.accountDetails?.email||"No especificado",password:gt.accountDetails?.password||"No especificado",profile:gt.accountDetails?.profile||"No especificado",pin:gt.accountDetails?.pin||"No especificado"},client:{name:gt.customerName||"Cliente desconocido",email:gt.customerEmail||"No especificado",phone:gt.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BS-${st.id.slice(0,8).toUpperCase()}`,termsAndConditions:Kt,renewable:gt.renewable!==void 0?gt.renewable:!0}});ie(wt),z(!1)},St=>{console.error("Error al obtener pedidos:",St),S("Error al cargar pedidos: "+St.message),z(!1)}),dt=setInterval(()=>{ie(St=>St.map(wt=>{const st=new Date,gt=new Date(wt.endDate).getTime()-new Date(wt.startDate).getTime(),ir=st.getTime()-new Date(wt.startDate).getTime(),Q=new Date(wt.endDate).getTime()-st.getTime(),Ne=Math.ceil(gt/(1e3*60*60*24)),ft=Math.max(0,Math.ceil(Q/(1e3*60*60*24))),we=Math.ceil(ir/(1e3*60*60*24)),Ae=Ne>0?we/Ne*100:100;return{...wt,daysRemaining:ft,totalDays:Ne,timeElapsedPercentage:Ae}}))},6e4);return()=>{ct(),clearInterval(dt)}})()},[T,de]);const Fe=async()=>{try{if(Y(Xe=>({...Xe,topUp:!0})),!fe||isNaN(fe)){je("Error","Ingrese un monto válido");return}const le=parseFloat(fe);if(le<10){je("Error","El monto mínimo de recarga es S/ 10.00");return}await Do(kt(Ie,"pendingTopUps"),{userId:T,username:s,amount:le,status:"pendiente",requestedAt:wr(),processed:!1}),ke(""),je("Éxito","Solicitud de recarga enviada correctamente")}catch(le){console.error("Error al solicitar recarga:",le),je("Error",le.message||"Error al enviar solicitud de recarga")}finally{Y(le=>({...le,topUp:!1}))}},fr=async le=>{try{Y(Ne=>({...Ne,[`renew_${le.id}`]:!0}));const Xe=parseFloat(le.price)||0;if(_<Xe){je("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const ct=parseInt(le.durationDays)||30,dt=Nr.now(),St=dt.toDate(),wt=new Date(St.getTime()+ct*24*60*60*1e3),st=wt.toISOString(),gt={customerId:T,customerName:le.client?.name||"Cliente desconocido",customerEmail:le.client?.email||l,phoneNumber:le.client?.phone||"No especificado",productName:le.productName||"Producto sin nombre",type:le.category||"netflix",price:Xe,accountDetails:{email:le.account?.email||"No especificado",password:le.account?.password||"No especificado",profile:le.account?.profile||"No especificado",pin:le.account?.pin||"No especificado"},provider:le.provider||"Proveedor desconocido",providerId:le.providerId||"",providerPhone:le.providerPhone||le.providerWhatsapp||"51999999999",status:"completed",createdAt:dt,saleDate:dt,startDate:dt,endDate:st,durationDays:ct,renewedAt:dt,renewable:le.renewable!==void 0?le.renewable:!0},ir=await Do(kt(Ie,"sales"),gt),Q=ut(Ie,"users",T);await Mr(Q,{balance:_-Xe}),w(Ne=>Ne-Xe),ie(Ne=>[...Ne,{...gt,id:ir.id,saleDate:St,startDate:St,endDate:wt,account:gt.accountDetails,client:{name:gt.customerName,email:gt.customerEmail,phone:gt.phoneNumber},orderId:`BS-${ir.id.slice(0,8).toUpperCase()}`,renewable:gt.renewable,daysRemaining:ct,totalDays:ct,timeElapsedPercentage:0,termsAndConditions:de[gt.providerId]?.terms||"No se especificaron términos y condiciones."}]),je("Éxito","¡Pedido renovado exitosamente!")}catch(Xe){console.error("Error al renovar el pedido:",Xe),je("Error","Error al renovar el pedido: "+Xe.message)}finally{Y(Xe=>({...Xe,[`renew_${le.id}`]:!1}))}},Mt=()=>{d&&(navigator.clipboard.writeText(d),M(!0),setTimeout(()=>M(!1),2e3))},De=le=>{if(!le)return"No especificada";try{const Xe=le instanceof Date?le:new Date(le);return isNaN(Xe.getTime())?"Fecha inválida":Xe.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},pr=async()=>{try{await z0(tn),Be("/")}catch(le){console.error("Error al cerrar sesión:",le),je("Error",le.message||"Error al cerrar sesión")}},Vt=async le=>{le.preventDefault();try{Y(dt=>({...dt,password:!0}));const Xe=le.target.password.value;if(!Xe){je("Error","Por favor, ingrese una nueva contraseña");return}if(Xe.length<6){je("Error","La contraseña debe tener al menos 6 caracteres");return}const ct=tn.currentUser;ct&&(await y1(ct,Xe),je("Éxito","Contraseña actualizada correctamente"),le.target.reset())}catch(Xe){console.error("Error al actualizar la contraseña:",Xe),je("Error",Xe.message||"Error al actualizar la contraseña")}finally{Y(Xe=>({...Xe,password:!1}))}},qt=()=>{if(I)return i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(U)return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[i.jsx(la,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),i.jsx("p",{className:"text-gray-300 mb-4",children:U}),i.jsx("button",{onClick:()=>S(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(r){case"inicio":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",i.jsx("span",{className:"text-cyan-400",children:s})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Información de cuenta"}),i.jsxs("div",{className:"space-y-2 text-gray-300",children:[i.jsxs("p",{className:"flex items-center",children:[i.jsx(Ns,{className:"mr-2 text-cyan-400"}),i.jsx("span",{children:s})]}),i.jsxs("p",{className:"flex items-center",children:[i.jsx(Hr,{className:"mr-2 text-cyan-400"}),i.jsx("span",{children:l})]})]})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Saldo disponible"}),i.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",_.toFixed(2)]}),i.jsx("button",{onClick:()=>n("recargas"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Recargar"})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[i.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Ganancias totales"}),i.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",y.toFixed(2)]}),i.jsx("button",{onClick:()=>n("ganancias"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Ver ganancias"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tu código de afiliado"}),i.jsxs("button",{onClick:Mt,disabled:!d,className:`flex items-center gap-2 px-3 py-1 rounded-xl transition-all duration-300 ${d?"bg-cyan-900/80 text-cyan-400 hover:bg-cyan-800/80":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:[i.jsx(WS,{size:16}),R?"¡Copiado!":"Copiar"]})]}),i.jsx("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 border border-gray-600/50",children:i.jsx("p",{className:"text-2xl font-bold text-center tracking-wider text-white",children:d||"Generando código..."})}),i.jsx("p",{className:"text-gray-300 mb-4",children:"Comparte este código con tus amigos para que se registren y ganes comisiones por sus compras."}),i.jsxs("div",{className:"bg-cyan-900/30 p-4 rounded-xl border border-cyan-800/50",children:[i.jsx("h4",{className:"font-medium text-cyan-400 mb-2",children:"Enlace de afiliado:"}),i.jsx("p",{className:"text-sm bg-gray-800/50 p-2 rounded-xl border border-gray-600/50 overflow-x-auto text-gray-300",children:d?`https://blackkstreaming.com/register?ref=${d}`:"Generando enlace..."})]})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Referidos recientes"}),A.length>0?A.map(le=>i.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"font-medium text-white",children:le.username||"Sin nombre"}),i.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-900/80 text-green-400",children:"Activo"})]}),i.jsxs("p",{className:"text-sm text-gray-400",children:["Unido: ",De(le.joinDate)]})]},le.id)):i.jsx("p",{className:"text-gray-400 py-2",children:"No tienes referidos recientes"}),A.length>0&&i.jsx("button",{onClick:()=>n("referidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los referidos"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Pedidos recientes"}),Ee.length>0?Ee.slice(0,3).map(le=>{const Xe=new Date(le.endDate)>new Date&&le.status==="completed",ct=le.status==="pending";return i.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:"font-medium text-white",children:le.productName}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${ct?"bg-yellow-900/80 text-yellow-400":Xe?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:ct?"A pedido":Xe?"Activo":"Expirado"})]}),i.jsxs("p",{className:"text-sm text-gray-400",children:["Vence: ",De(le.endDate)]})]},le.id)}):i.jsx("p",{className:"text-gray-400 py-2",children:"No tienes pedidos recientes"}),Ee.length>3&&i.jsx("button",{onClick:()=>n("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Notificaciones"}),B.length>0?B.map(le=>i.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[i.jsx("p",{className:"text-gray-300",children:le.message}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:De(le.updatedAt)})]},le.id)):i.jsx("p",{className:"text-gray-400 py-2",children:"No hay notificaciones"})]})]})]});case"notificaciones":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Notificaciones"}),B.length>0?i.jsx("div",{className:"space-y-4",children:B.map(le=>i.jsxs("div",{className:"border border-gray-600/50 rounded-2xl p-4 hover:bg-gray-700/50 transition-all duration-300",children:[i.jsx("p",{className:"text-gray-300",children:le.message}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:De(le.updatedAt)})]},le.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(x0,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay notificaciones"}),i.jsx("p",{className:"text-gray-400",children:"No tienes mensajes nuevos"})]})]});case"recargas":return i.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Recargar saldo"}),i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),i.jsx("input",{type:"number",value:fe,onChange:le=>ke(le.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mínimo S/ 10.00",min:"10",step:"0.01"})]}),i.jsx("button",{onClick:Fe,disabled:F.topUp||!fe||parseFloat(fe)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${fe&&parseFloat(fe)>=10&&!F.topUp?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:F.topUp?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Solicitar recarga"}),i.jsxs("div",{className:"mt-6 bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[i.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[i.jsx(zs,{className:"mr-2"})," ¿Cómo realizar tu recarga?"]}),i.jsxs("p",{className:"text-gray-300 mb-2",children:["Realiza tu pago mediante ",i.jsx("span",{className:"font-semibold text-white",children:"Yape"})," al número:"]}),i.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"📱 931757531"}),i.jsx("p",{className:"text-gray-300 mb-3",children:"Una vez realizado el pago, por favor contáctanos vía WhatsApp al mismo número para confirmar tu recarga."}),i.jsxs("a",{href:`https://wa.me/51931757531?text=${encodeURIComponent("Hola 😊, he realizado una recarga a través de Yape. Por favor, confirma mi pago.")}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300",children:[i.jsx(Hr,{className:"mr-2"})," Confirmar por WhatsApp"]})]})]})]}),i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),Ce.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acción"})]})}),i.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:Ce.map(le=>{const Xe=encodeURIComponent(`Hola, he pedido una recarga de S/ ${le.amount?.toFixed(2)||"0.00"} con el nombre ${s}. Adjunto la captura de mi pago, por favor.`);return i.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",le.amount?.toFixed(2)||"0.00"]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${le.status==="aprobado"?"bg-green-900/80 text-green-400":le.status==="pendiente"?"bg-yellow-900/80 text-yellow-400":"bg-red-900/80 text-red-400"}`,children:le.status})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-400",children:De(le.date)}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:le.status==="pendiente"?i.jsxs("a",{href:`https://wa.me/51940505969?text=${Xe}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300 text-sm",children:[i.jsx(Hr,{className:"mr-2"})," Enviar captura"]}):i.jsx("span",{className:"text-gray-400 text-sm",children:"—"})})]},le.id)})})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(zs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("p",{className:"text-gray-400",children:"No hay recargas registradas"})]})]})]});case"pedidos":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:"Mis pedidos"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:L,onChange:le=>O(le.target.value)}),i.jsx(oi,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),Ee.length>0?i.jsx("div",{className:"space-y-6",children:Ee.filter(le=>(le.productName||"").toLowerCase().includes(L.toLowerCase())||(le.orderId||"").toLowerCase().includes(L.toLowerCase())).map(le=>{const Xe=parseFloat(le.price)||0,ct=new Date(le.endDate)>new Date&&le.status==="completed",dt=le.status==="pending",St=le.daysRemaining||0,wt=le.timeElapsedPercentage||0;let st="bg-green-400";wt>70&&wt<=90?st="bg-yellow-400":wt>90&&(st="bg-red-400");const gt=dt?i.jsx(ec,{className:"text-yellow-400"}):ct?i.jsx(Eu,{className:"text-green-400"}):i.jsx(la,{className:"text-red-400"}),ir=encodeURIComponent(`*Consulta sobre Pedido - ${le.productName||"Sin nombre"}*

*N° Pedido:* ${le.orderId||"No especificado"}
*Producto:* ${le.productName||"No especificado"}
*Precio:* S/ ${Xe.toFixed(2)}
*Estado:* ${dt?"A pedido":ct?"Activo":"Expirado"}
*Fecha de Inicio:* ${De(le.startDate)}
*Fecha de Vencimiento:* ${De(le.endDate)}

`+(dt?`Hola 😊, he comprado un producto a pedido (${le.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),Q=encodeURIComponent(`😊 Estimado/a ${le.client?.name||"Cliente"} 😊

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📌 Tipo: ${le.productName||"Sin nombre"}.
🔢 Código: ${le.orderId||"No especificado"}
`+(dt?"":`📧 Correo: ${le.account?.email||"No especificado"}
🔐 Contraseña: ${le.account?.password||"No especificado"}
👤 Perfil: ${le.account?.profile||"No especificado"}
📌 PIN: ${le.account?.pin||"No especificado"}
`)+`🌐 URL: Sin URL
📅 Fecha de creación: ${De(le.startDate)}
📅 Fecha de vencimiento: ${De(le.endDate)}
🏁 Días contratados: ${le.durationDays||30} días.

`+(dt?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:"")+`*Términos y Condiciones:*
${le.termsAndConditions||"No se especificaron términos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),Ne=le.providerPhone?le.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return i.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[gt,i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-white",children:le.productName||"Producto sin nombre"}),le.orderId&&i.jsxs("p",{className:"text-xs text-gray-400",children:["N° Pedido: ",le.orderId]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",Xe.toFixed(2)]}),i.jsx("p",{className:`text-xs font-medium ${dt?"text-yellow-400":st.replace("bg-","text-")}`,children:dt?"Pendiente de activación":`${St} día${St===1?"":"s"} restante${St===1?"":"s"}`})]})]}),i.jsxs("div",{className:"p-4 bg-gray-700/50 backdrop-blur-sm",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"w-full bg-gray-600/50 rounded-full h-2.5",children:i.jsx("div",{className:`h-2.5 rounded-full ${st}`,style:{width:`${Math.min(wt,100)}%`}})}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-right",children:[wt.toFixed(0),"% completado"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[i.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[i.jsx(Ns,{className:"mr-2"})," Detalles de la Cuenta"]}),i.jsx("div",{className:"space-y-2 text-gray-300",children:dt?i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Usuario:"}),i.jsx("span",{className:"block text-white",children:"Por completar"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),i.jsx("span",{className:"block text-white",children:"Por completar"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),i.jsx("span",{className:"block text-white",children:"Por completar"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),i.jsx("span",{className:"block text-white",children:"Por completar"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),i.jsx("span",{className:"block text-white break-all",children:le.account?.email||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),i.jsx("span",{className:"block text-white break-all",children:le.account?.password||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),i.jsx("span",{className:"block text-white",children:le.account?.profile||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),i.jsx("span",{className:"block text-white",children:le.account?.pin||"No especificado"})]})]})})]}),i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[i.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[i.jsx(ob,{className:"mr-2"})," Información del Pedido"]}),i.jsxs("div",{className:"space-y-2 text-gray-300",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),i.jsx("span",{className:"block text-white",children:le.provider||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono del Proveedor:"}),i.jsx("span",{className:"block text-white",children:le.providerPhone||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Estado:"}),i.jsx("span",{className:`block px-2 py-1 text-xs rounded-full ${dt?"bg-yellow-900/80 text-yellow-400":ct?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:dt?"A pedido":ct?"Activo":"Expirado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Método de Pago:"}),i.jsx("span",{className:"block text-white",children:"BlackStreaming"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de inicio:"}),i.jsx("span",{className:"block text-white",children:De(le.startDate)})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de vencimiento:"}),i.jsx("span",{className:"block text-white",children:De(le.endDate)})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Días restantes:"}),i.jsx("span",{className:`block ${st.replace("bg-","text-")}`,children:St})]})]})]}),i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[i.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[i.jsx(Ns,{className:"mr-2"})," Información del Cliente"]}),i.jsxs("div",{className:"space-y-2 text-gray-300",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),i.jsx("span",{className:"block text-white",children:le.client?.name||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono:"}),i.jsx("span",{className:"block text-white",children:le.client?.phone||"No especificado"})]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),i.jsx("span",{className:"block text-white",children:le.client?.email||"No especificado"})]})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("a",{href:`https://wa.me/51${Ne}?text=${ir}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[i.jsx(Hr,{size:18})," Contactar Proveedor"]}),le.renewable&&i.jsx("button",{onClick:()=>fr(le),disabled:F[`renew_${le.id}`],className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 ${F[`renew_${le.id}`]?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:F[`renew_${le.id}`]?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):i.jsxs(i.Fragment,{children:[i.jsx(YS,{size:18})," Renovar Pedido"]})}),le.client?.phone&&i.jsxs("a",{href:`https://wa.me/${le.client.phone.replace(/^\+/,"")}?text=${Q}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[i.jsx(Hr,{size:18})," Contactar Cliente"]})]})]})]},le.id)})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ho,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes pedidos registrados"}),i.jsx("p",{className:"text-gray-400",children:"Realiza tu primer pedido en nuestra tienda"})]})]});case"referidos":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:["Todos tus referidos (",p.length,")"]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Buscar referidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:L,onChange:le=>O(le.target.value)}),i.jsx(oi,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),p.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha de registro"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),i.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:p.filter(le=>{const Xe=le.username||"",ct=le.email||"";return Xe.toLowerCase().includes(L.toLowerCase())||ct.toLowerCase().includes(L.toLowerCase())}).map(le=>i.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:le.username||"Sin nombre"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:le.email||"Sin email"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:le.joinDate?De(le.joinDate):"No especificada"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900/80 text-green-400",children:le.status||"Activo"})})]},le.id))})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ku,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes referidos aún"}),i.jsx("p",{className:"text-gray-400",children:"Comparte tu código de afiliado para empezar a ganar comisiones"})]})]});case"ganancias":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Reporte de ganancias"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[i.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias hoy"}),i.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde ayer"})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[i.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias esta semana"}),i.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde la semana pasada"})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[i.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias totales"}),i.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",y.toFixed(2)]}),i.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[p.length," referidos"]})]})]}),i.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[i.jsxs("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[i.jsx(oT,{className:"mr-2 text-cyan-400"})," Historial de comisiones"]}),p.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:"bg-gray-800/50 backdrop-blur-sm",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Referido"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Origen"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),i.jsx("tbody",{className:"bg-gray-700/50 divide-y divide-gray-600/50",children:p.map(le=>i.jsxs("tr",{className:"hover:bg-gray-600/50 transition-all duration-300",children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:le.username||"Usuario sin nombre"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:le.joinDate?De(le.joinDate):"No especificada"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:"S/ 0.00"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:"Registro"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-900/80 text-yellow-400",children:"Pendiente"})})]},le.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(zs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),i.jsx("p",{className:"text-gray-400",children:"No hay comisiones registradas"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gana comisiones cuando tus referidos realicen compras"})]})]})]});case"configuracion":return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[i.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuración de cuenta"}),i.jsxs("form",{onSubmit:Vt,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("input",{type:"text",value:s,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"}),i.jsx("button",{type:"button",onClick:()=>it({id:T,username:s}),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-all duration-300",title:"Editar Nombre",children:i.jsx(hz,{size:16})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico"}),i.jsx("input",{type:"email",value:l,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contraseña (opcional)"}),i.jsx("input",{type:"password",name:"password",placeholder:"Nueva contraseña",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),i.jsx("button",{type:"submit",disabled:F.password,className:"w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium mt-4 transition-all duration-300 disabled:bg-cyan-800",children:F.password?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar cambios"})]}),i.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:i.jsxs("button",{onClick:pr,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[i.jsx(Rp,{})," Cerrar sesión"]})})]});default:return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[i.jsx(la,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),i.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),i.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[i.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:i.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:i.jsx(xz,{className:"text-xl"})})}),i.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:i.jsxs("div",{className:"p-4 flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),i.jsx("button",{onClick:()=>e(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:i.jsx(Gs,{className:"text-lg"})})]}),i.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:s.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-white",children:s}),i.jsx("p",{className:"text-xs text-gray-400",children:"Afiliador"})]})]}),i.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:fz},{id:"notificaciones",label:"Notificaciones",icon:x0},{id:"recargas",label:"Recargas",icon:zs},{id:"pedidos",label:"Pedidos",icon:Ho},{id:"referidos",label:"Referidos",icon:ku},{id:"ganancias",label:"Ganancias",icon:oT},{id:"configuracion",label:"Configuración",icon:QS}].map(le=>i.jsxs("button",{onClick:()=>{n(le.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===le.id?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"text-gray-300 hover:bg-gray-800/50 hover:text-cyan-400"}`,children:[i.jsx(le.icon,{className:"text-lg"}),i.jsx("span",{children:le.label})]},le.id))}),i.jsx("div",{className:"mt-auto pt-6",children:i.jsxs("button",{onClick:pr,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-900/20 rounded-xl transition-all duration-300 border border-red-900/50",children:[i.jsx(Rp,{className:"text-lg"}),i.jsx("span",{children:"Cerrar Sesión"})]})})]})}),i.jsx("main",{className:"md:ml-64 p-4 sm:p-6 min-h-screen",children:qt()}),i.jsx(eJ,{isOpen:re.isOpen,title:re.title,message:re.message,onClose:Me}),i.jsx(tJ,{isOpen:ee.isOpen,user:ee.user,onClose:yt,onSave:Wt}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>e(!1)})]})},nJ=({isOpen:t,message:e,title:r,onClose:n})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:r}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(Gs,{size:20})})]}),i.jsx("p",{className:"text-gray-300 mb-6",children:e}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,G6=({username:t="Usuario",products:e=[],orders:r=[],providerBalance:n=0,balanceLoading:s=!1,totalStock:a=0,totalEarnings:l=0,isAdmin:u=!1,email:d="",notifications:h=[],setActiveSection:p=()=>{},formatDate:g=v=>new Date(v).toLocaleDateString(),theme:y="dark"})=>{const v=y==="dark",_={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${v?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:_,initial:"hidden",animate:"visible",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${v?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Bienvenido, ",i.jsx("span",{className:"text-red-400",children:t})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-blue-400":"text-blue-600"}`,children:[i.jsx(ib,{size:20}),"Inventario"]}),i.jsx("p",{className:`text-4xl font-bold ${v?"text-white":"text-gray-900"} mb-2`,children:e.length}),i.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"} mb-1`,children:"Productos registrados"}),i.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:["Stock total: ",a]}),i.jsx(Z.button,{onClick:()=>p("inventario"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${v?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver Inventario"})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-green-400":"text-green-600"}`,children:[i.jsx(zs,{size:20}),"Ganancias"]}),s?i.jsxs("div",{className:"flex items-center justify-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"}),i.jsx("span",{className:`ml-2 ${v?"text-gray-400":"text-gray-600"}`,children:"Cargando..."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:`text-4xl font-bold ${v?"text-white":"text-gray-900"} mb-2`,children:["S/ ",l.toFixed(2)]}),i.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"} mb-1`,children:[r.length," ventas realizadas"]}),i.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:["Disponible: S/ ",n.toFixed(2)]}),i.jsx(Z.button,{onClick:()=>p("ganancias"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 ${v?"from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver Ganancias"})]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-purple-400":"text-purple-600"}`,children:[i.jsx(Ns,{size:20}),"Mi Cuenta"]}),i.jsxs("div",{className:`space-y-3 ${v?"text-gray-300":"text-gray-700"} mb-6`,children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx(Ns,{className:"text-purple-400 flex-shrink-0",size:18}),i.jsx("span",{className:"font-medium",children:t})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[i.jsx(Hr,{className:"text-purple-400 flex-shrink-0",size:18}),i.jsx("span",{className:"font-medium",children:d})]}),i.jsx("div",{className:`px-3 py-2 rounded-full text-sm font-medium ${u?v?"bg-purple-900/50 text-purple-300 border border-purple-500/30":"bg-purple-100 text-purple-800 border border-purple-300":v?"bg-gray-700/50 text-gray-300 border border-gray-500/30":"bg-gray-200 text-gray-700 border border-gray-300"}`,children:u?"Administrador":"Proveedor"})]}),i.jsx(Z.button,{onClick:()=>p("configuracion"),className:`w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${v?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Editar Perfil"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-indigo-400":"text-indigo-600"}`,children:[i.jsx(Ho,{size:20}),"Pedidos recientes"]}),i.jsx($t,{children:r.length===0?i.jsxs(Z.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[i.jsx(Z.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(Ho,{className:"text-white",size:24})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"No hay pedidos recientes"}),i.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:"Tus pedidos aparecerán aquí"})]}):i.jsxs("div",{className:"overflow-x-auto rounded-xl border",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[i.jsx("thead",{className:`${v?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Comprador"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Monto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Estado"})]})}),i.jsx("tbody",{className:`${v?"bg-gray-800/70":"bg-white/70"} divide-y divide-gray-700/50`,children:r.slice(0,3).map((T,D)=>{const I=new Date(T.endDate)>new Date&&T.status==="completed",z=T.status==="pending";return i.jsxs(Z.tr,{className:"transition-all duration-300 hover:bg-indigo-500/5",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:D*.1},children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-medium ${v?"text-white":"text-gray-900"} truncate max-w-xs`,children:T.productName}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${v?"text-gray-300":"text-gray-700"}`,children:T.buyer}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-semibold ${v?"text-indigo-400":"text-indigo-600"}`,children:["S/ ",(T.amount||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${z?v?"bg-yellow-900/80 text-yellow-300 border border-yellow-500/30":"bg-yellow-100 text-yellow-800 border border-yellow-300":I?v?"bg-green-900/80 text-green-300 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300":v?"bg-red-900/80 text-red-300 border border-red-500/30":"bg-red-100 text-red-800 border border-red-300"}`,children:z?"A pedido":I?"Activo":"Expirado"})})]},T.id||D)})})]}),r.length>3&&i.jsx(Z.button,{onClick:()=>p("pedidos"),className:`w-full mt-4 px-6 py-3 text-center text-sm transition-all duration-300 rounded-xl border-2 font-medium ${v?"border-indigo-500/50 text-indigo-400 hover:bg-indigo-500/10":"border-indigo-500/50 text-indigo-600 hover:bg-indigo-500/10"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver todos los pedidos"})]})})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-pink-400":"text-pink-600"}`,children:[i.jsx(Hr,{size:20}),"Notificaciones"]}),i.jsx($t,{children:h.length>0?h.map((T,D)=>i.jsx(Z.div,{className:`border-b py-4 last:border-0 hover:rounded-xl hover:px-2 transition-all duration-300 ${v?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,delay:D*.1},whileHover:{backgroundColor:v?"rgba(55, 65, 81, 0.5)":"rgba(229, 231, 235, 0.5)"},children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 pt-1",children:i.jsx(Hr,{className:"text-pink-400",size:18})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`font-medium ${v?"text-gray-300":"text-gray-700"} mb-1`,children:T.message}),i.jsx("p",{className:`text-xs ${v?"text-gray-400":"text-gray-500"}`,children:g(T.updatedAt?.toDate?.()||new Date)})]})]})},T.id)):i.jsxs(Z.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[i.jsx(Z.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(Hr,{className:"text-white",size:24})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"No hay notificaciones"}),i.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:"Tus notificaciones aparecerán aquí"})]})})]})]})]})};G6.propTypes={username:G.string.isRequired,products:G.arrayOf(G.object).isRequired,orders:G.arrayOf(G.object).isRequired,providerBalance:G.number.isRequired,balanceLoading:G.bool.isRequired,totalStock:G.number.isRequired,totalEarnings:G.number.isRequired,isAdmin:G.bool.isRequired,email:G.string.isRequired,notifications:G.arrayOf(G.object).isRequired,setActiveSection:G.func.isRequired,formatDate:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const q6=({products:t,setActiveSection:e,handleEdit:r,handleDelete:n,getCategoryDisplayName:s,totalStock:a,theme:l="dark"})=>{const u=l==="dark",d=y=>{const v={netflix:{bg:u?"bg-red-900/30":"bg-red-100",text:u?"text-red-300":"text-red-800"},disney:{bg:u?"bg-blue-900/30":"bg-blue-100",text:u?"text-blue-300":"text-blue-800"},max:{bg:u?"bg-yellow-900/30":"bg-yellow-100",text:u?"text-yellow-300":"text-yellow-800"},spotify:{bg:u?"bg-green-900/30":"bg-green-100",text:u?"text-green-300":"text-green-800"},default:{bg:u?"bg-gray-900/30":"bg-gray-100",text:u?"text-gray-300":"text-gray-700"}};return v[y?.toLowerCase()]||v.default},h={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},g={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:u?"rgba(55, 65, 81, 0.5)":"rgba(229, 231, 235, 0.5)",transition:{duration:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-4",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Inventario",i.jsxs("span",{className:`ml-2 bg-gradient-to-r ${u?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:[t.length," productos"]})]}),i.jsxs(Z.button,{onClick:()=>e("subirProducto"),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 flex items-center ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx(iT,{className:"mr-2",size:18}),"Nuevo Producto"]})]}),t.length>0?i.jsx("div",{className:"overflow-x-auto rounded-2xl border shadow-lg",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200/30",children:[i.jsx("thead",{className:`${u?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Producto"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Precio"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Stock"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Categoría"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Estado"}),i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Acciones"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:i.jsx($t,{children:t.map((y,v)=>{const _=d(y.category);return i.jsxs(Z.tr,{className:`transition-colors duration-200 ${u?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:g,initial:"hidden",animate:"visible",whileHover:"hover",exit:{opacity:0,x:-20},transition:{duration:.3,delay:v*.05},children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-3",children:[y.image?i.jsx("div",{className:"flex-shrink-0",children:i.jsx("img",{className:"w-10 h-10 rounded-full object-cover shadow-md",src:y.image,alt:y.name,loading:"lazy"})}):i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-md",children:i.jsx(yz,{className:"text-white",size:16})}),i.jsx("div",{className:"min-w-0 flex-1",children:i.jsx("div",{className:`text-sm font-semibold ${u?"text-white":"text-gray-900"} truncate`,children:y.name})})]})}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[i.jsxs("div",{className:"text-sm font-semibold text-green-500",children:["S/ ",(parseFloat(y.price)||0).toFixed(2)]}),y.renewalPrice&&parseFloat(y.renewalPrice)!==parseFloat(y.price)&&i.jsxs("div",{className:`text-xs ${u?"text-gray-400":"text-gray-600"}`,children:["Ren: S/ ",parseFloat(y.renewalPrice).toFixed(2)]})]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(y.stock||0)>0?u?"bg-green-900/50 text-green-400":"bg-green-100 text-green-800":u?"bg-red-900/50 text-red-400":"bg-red-100 text-red-800"}`,children:y.stock||0})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.bg} ${_.text}`,children:s(y.category)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${y.status==="En stock"?u?"bg-green-900/80 text-green-400 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300":y.status==="A pedido"?u?"bg-yellow-900/80 text-yellow-400 border border-yellow-500/30":"bg-yellow-100 text-yellow-800 border border-yellow-300":u?"bg-red-900/80 text-red-400 border border-red-500/30":"bg-red-100 text-red-800 border border-red-300"}`,children:y.status||"En stock"})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Z.button,{onClick:()=>r(y),className:"p-2 rounded-xl bg-blue-500/80 hover:bg-blue-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Editar","aria-label":"Editar producto",children:i.jsx(GS,{size:16})}),i.jsx(Z.button,{onClick:()=>n(y.id),className:"p-2 rounded-xl bg-red-500/80 hover:bg-red-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Eliminar","aria-label":"Eliminar producto",children:i.jsx(cb,{size:16})})]})})]},y.id||v)})})})]})}):i.jsxs(Z.div,{className:`text-center py-16 rounded-2xl border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",whileHover:"hover",children:[i.jsx(Z.div,{className:`mx-auto w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center mb-6 shadow-lg ${u?"bg-gray-700/50":"bg-gray-200/50"}`,animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(ib,{className:"text-white",size:32})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${u?"text-gray-300":"text-gray-700"}`,children:"No tienes productos registrados"}),i.jsx("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"} mb-6`,children:"Agrega tu primer producto para comenzar a vender"}),i.jsxs(Z.button,{onClick:()=>e("subirProducto"),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 flex items-center ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[i.jsx(iT,{className:"mr-2",size:18}),"Agregar Producto"]})]})]})};q6.propTypes={products:G.arrayOf(G.shape({id:G.string.isRequired,name:G.string.isRequired,price:G.oneOfType([G.string,G.number]).isRequired,stock:G.oneOfType([G.string,G.number]),status:G.string,category:G.string,image:G.string})).isRequired,setActiveSection:G.func.isRequired,handleEdit:G.func.isRequired,handleDelete:G.func.isRequired,getCategoryDisplayName:G.func.isRequired,totalStock:G.number.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const sJ=({soldAccounts:t,formatDate:e,theme:r="dark"})=>{const n=r==="dark",s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},a={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${n?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:s,initial:"hidden",animate:"visible",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${n?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(aT,{className:"inline mr-2",size:32}),"Cuentas Vendidas"]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${n?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:a,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${n?"text-blue-400":"text-blue-600"}`,children:[i.jsx(ib,{size:20}),"Registro de Ventas"]}),i.jsx($t,{children:t.length===0?i.jsxs(Z.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[i.jsx(Z.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(aT,{className:"text-white",size:24})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"No hay cuentas vendidas"}),i.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"Las cuentas vendidas aparecerán aquí"})]}):i.jsx("div",{className:"overflow-x-auto rounded-xl border",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[i.jsx("thead",{className:`${n?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Email"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Perfil"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Fecha de Venta"})]})}),i.jsx("tbody",{className:`${n?"bg-gray-800/70":"bg-white/70"} divide-y divide-gray-700/50`,children:t.map((l,u)=>i.jsxs(Z.tr,{className:"transition-all duration-300 hover:bg-blue-500/5",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:u*.1},children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-medium ${n?"text-white":"text-gray-900"} truncate max-w-xs`,children:l.productName}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-700"}`,children:l.email}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-700"}`,children:l.profile||"N/A"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-700"}`,children:e(l.saleDate)})]},l.id||u))})]})})})]})]})},aJ=({product:t,setProduct:e,handleChange:r,handleFileChange:n,handleStockChange:s,handleAccountFieldChange:a,handleSubmit:l,setActiveSection:u,theme:d="dark"})=>{const h=d==="dark",p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${h?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${h?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(Dp,{className:"inline mr-2",size:32}),"Subir Nuevo Producto"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-blue-400":"text-blue-600"}`,children:[i.jsx(qS,{size:20}),"Imagen del producto"]}),i.jsx("div",{className:`flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl ${h?"bg-gray-900/80 border-gray-700/50":"bg-gray-200/80 border-gray-300/50"}`,children:t.image?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:t.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain",loading:"lazy"}),i.jsx(Z.button,{type:"button",onClick:()=>e({...t,image:""}),className:`absolute top-0 right-0 ${h?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(Gs,{size:16})})]}):i.jsxs(i.Fragment,{children:[i.jsx(Dp,{className:`mx-auto h-12 w-12 ${h?"text-gray-400":"text-gray-500"}`}),i.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:i.jsxs("label",{htmlFor:"file-upload",className:`relative cursor-pointer rounded-xl font-medium ${h?"bg-gray-900/50 text-blue-400 hover:text-blue-500":"bg-gray-200/50 text-blue-600 hover:text-blue-700"} focus-within:outline-none`,children:[i.jsx("span",{children:"Subir una imagen"}),i.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:y=>n(y),accept:"image/*"})]})}),i.jsx("p",{className:`text-xs ${h?"text-gray-500":"text-gray-600"}`,children:"PNG, JPG, GIF hasta 10MB"})]})})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-purple-400":"text-purple-600"}`,children:[i.jsx(JS,{size:20}),"Información Básica"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Nombre del producto*"}),i.jsx("input",{type:"text",name:"name",value:t.name,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Categoría*"}),i.jsxs("select",{name:"category",value:t.category,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"Netflix",children:"Netflix"}),i.jsx("option",{value:"Spotify",children:"Spotify"}),i.jsx("option",{value:"Disney",children:"Disney+"}),i.jsx("option",{value:"Max",children:"Max"}),i.jsx("option",{value:"Prime Video",children:"Prime Video"}),i.jsx("option",{value:"Vix",children:"Vix"}),i.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),i.jsx("option",{value:"Canva",children:"Canva"}),i.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),i.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),i.jsx("option",{value:"Dgo",children:"DGO"}),i.jsx("option",{value:"Liga Max",children:"Liga Max"}),i.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),i.jsx("option",{value:"Youtube",children:"YouTube"}),i.jsx("option",{value:"Deezer",children:"Deezer"}),i.jsx("option",{value:"Tidal",children:"Tidal"}),i.jsx("option",{value:"Vpn",children:"VPN"}),i.jsx("option",{value:"WinTv",children:"WinTV"}),i.jsx("option",{value:"Apple Music",children:"CinePlanet "}),i.jsx("option",{value:"Apple Tv",children:"Apple TV"}),i.jsx("option",{value:"Iptv",children:"IPTV"}),i.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),i.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),i.jsx("option",{value:"Pornhub",children:"Pornhub"}),i.jsx("option",{value:"Paramount",children:"Paramount"}),i.jsx("option",{value:"Licencias",children:"Licencias"}),i.jsx("option",{value:"Capcut",children:"Capcut"}),i.jsx("option",{value:"Duolingo",children:"Duolingo"}),i.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Tipo de cuenta*"}),i.jsxs("select",{name:"accountType",value:t.accountType,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"Premium",children:"Premium"}),i.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Estado*"}),i.jsxs("select",{name:"status",value:t.status,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"En stock",children:"En stock"}),i.jsx("option",{value:"A pedido",children:"A pedido"}),i.jsx("option",{value:"Agotado",children:"Agotado"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Stock*"}),i.jsx("input",{type:"number",name:"stock",value:t.status==="Agotado"?0:t.stock,onChange:s,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all ${t.status==="Agotado"?"opacity-50 cursor-not-allowed":""} placeholder-gray-500`,min:"0",required:!0,disabled:t.status==="Agotado"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio (S/)*"}),i.jsx("input",{type:"number",name:"price",value:t.price,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",name:"renewal",checked:t.renewal,onChange:r,className:`h-4 w-4 rounded ${h?"text-purple-400 focus:ring-purple-400 border-gray-600/50":"text-purple-600 focus:ring-purple-600 border-gray-300/50"}`}),i.jsx("label",{className:`ml-2 text-sm ${h?"text-gray-300":"text-gray-700"}`,children:"¿Tiene renovación?"})]})]}),t.renewal&&i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio de renovación (S/)*"}),i.jsx("input",{type:"number",name:"renewalPrice",value:t.renewalPrice,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-green-400":"text-green-600"}`,children:[i.jsx(ec,{size:20}),"Duración y Contacto"]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Duración (días)"}),i.jsx("input",{type:"number",name:"duration",value:t.duration,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Dejar vacío para ilimitado",min:"1"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:["Teléfono de contacto ",t.status==="A pedido"?"*":""]}),i.jsx("input",{type:"text",name:"providerPhone",value:t.providerPhone,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Ej: +51 987654321",required:t.status==="A pedido"})]})]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-indigo-400":"text-indigo-600"}`,children:[i.jsx(KS,{size:20}),"Enlaces y Descripciones"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"URL del producto (opcional)"}),i.jsx("input",{type:"url",name:"productUrl",value:t.productUrl||"",onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Ej: https://www.ejemplo.com/producto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Detalles del producto"}),i.jsx("textarea",{name:"details",value:t.details,onChange:r,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Describe los detalles y características del producto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Términos y condiciones"}),i.jsx("textarea",{name:"terms",value:t.terms,onChange:r,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Especifica los términos y condiciones de uso"})]})]})]}),t.status==="En stock"&&i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-pink-400":"text-pink-600"}`,children:[i.jsx(ku,{size:20}),"Cuentas Asociadas"]}),i.jsx("p",{className:`text-sm mb-4 ${h?"text-gray-400":"text-gray-600"}`,children:"Debe completar todas las cuentas según el stock indicado"}),i.jsx($t,{children:i.jsx("div",{className:"space-y-4",children:t.accounts.map((y,v)=>i.jsxs(Z.div,{className:`border rounded-xl p-4 ${h?"bg-gray-900/70 border-gray-700/50":"bg-gray-200/70 border-gray-300/50"} backdrop-blur-sm`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:v*.1},children:[i.jsxs("h4",{className:`text-sm font-medium ${h?"text-white":"text-gray-900"} mb-3 flex items-center gap-2`,children:["Cuenta ",v+1]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Correo electrónico*"}),i.jsx("input",{type:"email",value:y.email,onChange:_=>a(v,"email",_.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Contraseña*"}),i.jsx("input",{type:"text",value:y.password,onChange:_=>a(v,"password",_.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Perfil (opcional)"}),i.jsx("input",{type:"text",value:y.profile,onChange:_=>a(v,"profile",_.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: Perfil 1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"PIN (opcional)"}),i.jsx("input",{type:"text",value:y.pin,onChange:_=>a(v,"pin",_.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: 1234"})]})]})]},v))})})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[i.jsx(Z.button,{onClick:()=>u("inventario"),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${h?"from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500":"from-gray-300 to-gray-400 hover:from-gray-400 hover:to-gray-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancelar"}),i.jsx(Z.button,{onClick:l,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-pink-500/50 ${h?"from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700":"from-pink-600 to-purple-800 hover:from-pink-700 hover:to-purple-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Subir Producto"})]})]})},iJ=({orders:t,totalEarnings:e,providerBalance:r,balanceLoading:n,getCategoryDisplayName:s,formatDate:a,theme:l="dark"})=>{const u=l==="dark",d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(zs,{className:"inline mr-2",size:32}),"Ganancias"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-green-400":"text-green-600"}`,children:[i.jsx(zs,{size:20}),"Resumen Financiero"]}),i.jsxs("p",{className:`text-4xl font-bold ${u?"text-white":"text-gray-900"} mb-2`,children:["S/ ",e.toFixed(2)]}),i.jsxs("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"} mb-1`,children:[t.length," ventas realizadas"]}),n?i.jsxs("div",{className:"flex items-center justify-center py-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-500 mr-2"}),i.jsx("span",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:"Cargando saldo..."})]}):i.jsxs("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:["Disponible: S/ ",r.toFixed(2)]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-indigo-400":"text-indigo-600"}`,children:[i.jsx(Ho,{size:20}),"Historial de Ventas"]}),i.jsx($t,{children:t.length===0?i.jsxs(Z.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[i.jsx(Z.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:i.jsx(Ho,{className:"text-white",size:24})}),i.jsx("h4",{className:`text-xl font-semibold mb-2 ${u?"text-gray-300":"text-gray-700"}`,children:"No hay ventas registradas"}),i.jsx("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:"Tus ventas aparecerán aquí"})]}):i.jsxs("div",{className:"overflow-x-auto rounded-xl border",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[i.jsx("thead",{className:`${u?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Categoría"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Comprador"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Contacto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Fecha"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Monto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Estado"})]})}),i.jsx("tbody",{className:`${u?"bg-gray-800/70":"bg-white/70"} divide-y divide-gray-700/50`,children:t.slice(0,10).map((p,g)=>i.jsxs(Z.tr,{className:"transition-all duration-300 hover:bg-indigo-500/5",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:g*.1},children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-gray-900"} truncate max-w-xs`,children:p.productName}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:s(p.category)}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[i.jsx("div",{className:`text-sm font-medium ${u?"text-white":"text-gray-900"}`,children:p.buyer}),i.jsx("div",{className:`text-xs ${u?"text-gray-400":"text-gray-600"}`,children:p.buyerEmail})]}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:p.buyerPhone}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:a(p.saleDate)}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-semibold ${u?"text-indigo-400":"text-indigo-600"}`,children:["S/ ",(p.amount||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${u?"bg-green-900/80 text-green-300 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300"}`,children:"Completado"})})]},p.id||g))})]}),t.length>10&&i.jsxs("p",{className:`text-center mt-4 text-sm ${u?"text-gray-400":"text-gray-600"}`,children:["Mostrando las primeras 10 ventas. Hay ",t.length," en total."]})]})})]})]})]})},K6=({orders:t,searchQuery:e,setSearchQuery:r,getCategoryDisplayName:n,formatDate:s,handleEditOrder:a,handleActivateOrder:l,handleDeleteOrder:u,theme:d="dark"})=>{const[h,p]=E.useState({key:null,direction:"asc"}),g=d==="dark",y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},v={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:g?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},_=E.useMemo(()=>{let F=[...t].filter(Y=>(Y.productName||"").toLowerCase().includes(e.toLowerCase())||(Y.category||"").toLowerCase().includes(e.toLowerCase())||(Y.provider||"").toLowerCase().includes(e.toLowerCase())||(Y.buyer||"").toLowerCase().includes(e.toLowerCase())||(Y.accountDetails?.email||"").toLowerCase().includes(e.toLowerCase()));return h.key&&F.sort((Y,U)=>{let S=Y[h.key]||"",A=U[h.key]||"";return typeof S=="string"&&(S=S.toLowerCase()),typeof A=="string"&&(A=A.toLowerCase()),S<A?h.direction==="asc"?-1:1:S>A?h.direction==="asc"?1:-1:0}),F},[t,e,h]),w=F=>{const Y={netflix:{bg:g?"bg-red-900/30":"bg-red-100",text:g?"text-red-300":"text-red-800"},disney:{bg:g?"bg-blue-900/30":"bg-blue-100",text:g?"text-blue-300":"text-blue-800"},max:{bg:g?"bg-yellow-900/30":"bg-yellow-100",text:g?"text-yellow-300":"text-yellow-800"},spotify:{bg:g?"bg-green-900/30":"bg-green-100",text:g?"text-green-300":"text-green-800"},default:{bg:g?"bg-gray-900/30":"bg-gray-100",text:g?"text-gray-300":"text-gray-700"}};return Y[F?.toLowerCase()]||Y.default},T=(F,Y)=>{const U=F.status||"pending",A=(F.daysRemaining||0)>0;let j,R,M;return U==="soporte"?(j="En soporte",R=Y?"text-blue-400":"text-blue-600",M=i.jsx(Di,{className:R,title:"En Soporte"})):U==="rechazado"?(j="No aplica soporte",R=Y?"text-amber-700":"text-amber-900",M=i.jsx(la,{className:R,title:"No aplica soporte"})):U==="refunded"?(j="Reembolsado",R=Y?"text-gray-400":"text-gray-600",M=i.jsx(la,{className:R,title:"Reembolsado"})):U==="pending"?(j="Pendiente",R=Y?"text-yellow-400":"text-yellow-600",M=i.jsx(ec,{className:R,title:"Pendiente"})):A?(j="Activo",R=Y?"text-green-400":"text-green-600",M=i.jsx(Eu,{className:R,title:"Activo"})):(j="Expirado",R=Y?"text-red-400":"text-red-600",M=i.jsx(la,{className:R,title:"Expirado"})),{text:j,color:R,icon:M}},D=F=>{p(Y=>({key:F,direction:Y.key===F&&Y.direction==="asc"?"desc":"asc"}))},I=F=>h.key!==F?null:h.direction==="asc"?i.jsx(Pm,{className:"ml-1"}):i.jsx(Im,{className:"ml-1"}),z=()=>{const F=_.map(A=>{const j=A.status||"pending",R=j==="pending",M=j==="soporte",L=j==="rechazado",O=j==="refunded",fe=A.daysRemaining||0,ke=fe>0;let Ce;M?Ce="En Soporte":L?Ce="No aplica soporte":O?Ce="Reembolsado":ke?Ce="Activo":R?Ce="Pendiente":Ce="Expirado";const Re=M||L||O||R&&!ke;let Ee;return Re?Ee=Ce:Ee=`${fe} día${fe===1?"":"s"}`,{Estado:Ce,Producto:A.productName||"Sin nombre",Categoría:n(A.category),Proveedor:A.provider||"N/A",Monto:`S/ ${(A.amount||0).toFixed(2)}`,"Tiempo Restante":Ee,"Fecha de Inicio":A.startDate?s(A.startDate):"N/A","Fecha de Vencimiento":A.endDate?s(A.endDate):"N/A",Comprador:A.buyer||"N/A",Teléfono:A.buyerPhone||"N/A",Email:A.accountDetails?.email||"N/A",Contraseña:A.accountDetails?.password||"N/A",Perfil:A.accountDetails?.profile||"N/A",PIN:A.accountDetails?.pin||"N/A"}}),Y=ca.json_to_sheet(F),U=ca.book_new();ca.book_append_sheet(U,Y,"Pedidos");const S=new Date().toISOString().slice(0,10).replace(/-/g,"");Um(U,`orders_export_${S}.xlsx`)};return i.jsxs(Z.div,{className:`backdrop-blur-md p-2 sm:p-4 md:p-6 lg:p-8 rounded-3xl shadow-2xl w-full border ${g?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:y,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"orders-title",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[i.jsxs("h3",{id:"orders-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${g?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[i.jsx(Ho,{className:"mr-2"})," Mis Pedidos",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${g?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:_.length})]}),i.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[i.jsxs("div",{className:"relative flex-1 md:w-64 lg:w-80",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos por nombre, categoría, proveedor, cliente o email...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${g?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:e,onChange:F=>r(F.target.value),"aria-label":"Buscar pedidos por nombre, categoría, proveedor, cliente o email"}),i.jsx(oi,{className:`absolute left-3 top-3.5 ${g?"text-gray-400":"text-gray-500"}`,size:18})]}),i.jsxs(Z.button,{onClick:z,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${g?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos como Excel","aria-label":"Exportar pedidos a Excel",children:[i.jsx(Rm,{size:18}),i.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),i.jsx($t,{children:_.length>0?i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:i.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:i.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${g?"bg-gray-800/50":"bg-white/50"}`,children:[i.jsx("thead",{className:`${g?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsx("tr",{children:[{key:"status",label:"Estado"},{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:"provider",label:"Proveedor"},{key:"amount",label:"Monto"},{key:"daysRemaining",label:"Tiempo Restante"},{key:"startDate",label:"Inicio"},{key:"endDate",label:"Vencimiento"},{key:"buyer",label:"Comprador"},{key:"buyerPhone",label:"Teléfono"},{key:"email",label:"Email"},{key:"password",label:"Contraseña"},{key:"profile",label:"Perfil"},{key:"pin",label:"PIN"},{label:"Acciones"}].map(({key:F,label:Y})=>i.jsx("th",{className:`px-2 sm:px-3 md:px-4 py-3 sm:py-4 text-left text-xs font-semibold uppercase tracking-wider ${g?"text-gray-300":"text-gray-700"} cursor-pointer hover:text-blue-400 transition-colors`,onClick:()=>F&&D(F),children:i.jsxs("div",{className:"flex items-center justify-between",children:[Y,F&&I(F)]})},F||Y))})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:_.map(F=>{const Y=parseFloat(F.amount)||0,U=F.status||"pending",S=U==="pending",A=U==="soporte",j=U==="rechazado",R=U==="refunded",M=F.daysRemaining||0,L=Math.min(F.timeElapsedPercentage||0,100),O=T(F,g),fe=w(F.category);let ke;L<70?ke=g?"bg-green-500":"bg-green-600":L<90?ke=g?"bg-orange-500":"bg-orange-600":ke=g?"bg-red-500":"bg-red-600";const Ce=!["En soporte","No aplica soporte","Reembolsado","Pendiente"].includes(O.text),Re=A||j||R||S,Ee=Re?O.text:`${M} día${M===1?"":"s"}`,ie=Ce?ke.replace("bg-","text-"):O.color,de=F.provider||"BlackStreaming",se=F.buyerPhone?F.buyerPhone.replace(/[^0-9]/g,""):null,B=F.soporteMessage?`

📝 *Nota de Soporte*: ${F.soporteMessage}`:"",te=encodeURIComponent(`¡Hola! 👋 Soy ${de} de BlackStreaming.

🔧 *Necesito contactarte* sobre tu pedido de *${F.productName||"Sin nombre"}*.
🆔 *Pedido*: ${F.id||"N/A"}
📞 ¿Podrías confirmarme algunos detalles o resolver una duda rápida?

¡Gracias por tu paciencia! 🙏`),re=encodeURIComponent(`¡Hola! 👋 *${de}* de BlackStreaming aquí.

🎉 *¡Tu cuenta está lista!* Has adquirido:
📺 *${F.productName||"Sin nombre"}*
💰 *Precio*: S/ ${Y.toFixed(2)}
⏰ *Duración*: ${F.durationDays||30} días

🍿 Tu suscripción a *${F.productName||"Sin nombre"}* (${de}) sigue activa! 🎬
⏳ *Te quedan*: ${Re?A?"En Soporte":j?"No aplica soporte":R?"Reembolsado":"Pendiente de activación":`${M} día${M===1?"":"s"}`} para disfrutar! 🕒
📋 *Detalles*:
✉️ *Usuario*: ${F.accountDetails?.email||"N/A"}
🔐 *Contraseña*: ${F.accountDetails?.password||"N/A"}
👥 *Perfil*: ${F.accountDetails?.profile||"N/A"}
🔢 *PIN*: ${F.accountDetails?.pin||"N/A"}
🗓 *Compra*: ${F.startDate?s(F.startDate):"N/A"}
🗓 *Vencimiento*: ${F.endDate?s(F.endDate):"N/A"}
📞 *Teléfono*: ${F.buyerPhone||"N/A"}

`+B+`👤 *${de}* te recomienda renovar a tiempo para no perderte nada! 😊
🚀 ¡Sigue disfrutando y contáctanos si necesitas ayuda! 🎉`);return i.jsxs(Z.tr,{className:`transition-colors duration-200 ${g?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:v,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${F.id}-title`,children:[i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`p-1.5 rounded-full ${O.color.replace("text-","bg-").replace("-600","/20").replace("-400","/20")}`,children:O.icon}),i.jsx("span",{className:`${O.color} font-medium`,children:O.text})]})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4",children:i.jsx("h4",{id:`order-${F.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:F.productName||"Sin nombre"})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${fe.bg} ${fe.text}`,children:n(F.category)})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap font-mono text-sm",children:F.provider||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:i.jsx("div",{className:"space-y-1",children:i.jsxs("p",{className:"font-bold text-lg",children:["S/ ",Y.toFixed(2)]})})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[Ce&&i.jsx("div",{className:"relative",children:i.jsx("div",{className:`w-20 h-2 rounded-full overflow-hidden ${g?"bg-gray-600/40":"bg-gray-300/40"}`,children:i.jsx(Z.div,{className:`h-2 rounded-full ${ke}`,initial:{width:0},animate:{width:`${L}%`},transition:{duration:1.5,ease:"easeInOut"}})})}),i.jsx("span",{className:`text-sm font-medium ${ie}`,children:Ee})]})}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm text-gray-500",children:F.startDate?s(F.startDate):"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm text-gray-500",children:F.endDate?s(F.endDate):"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 max-w-sm md:max-w-md truncate",title:F.buyer||"N/A",children:F.buyer||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm text-gray-500",children:F.buyerPhone||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 max-w-sm md:max-w-md truncate",title:F.accountDetails?.email||"N/A",children:F.accountDetails?.email||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 max-w-sm md:max-w-md truncate",title:F.accountDetails?.password||"N/A",children:F.accountDetails?.password||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm",children:F.accountDetails?.profile||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm font-mono",children:F.accountDetails?.pin||"N/A"}),i.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Z.button,{onClick:()=>a(F),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-blue-500/80 hover:bg-blue-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Editar cuenta","aria-label":`Editar cuenta para el pedido ${F.id}`,children:i.jsx(GS,{size:16})}),S&&i.jsx(Z.button,{onClick:()=>l(F.id),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-green-500/80 hover:bg-green-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Activar pedido","aria-label":`Activar pedido ${F.id}`,children:i.jsx(Eu,{size:16})}),se&&i.jsxs(i.Fragment,{children:[i.jsx(Z.a,{href:`https://wa.me/${se}?text=${te}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar cliente","aria-label":`Contactar cliente para el pedido ${F.id}`,children:i.jsx(Hr,{size:16})}),!R&&!A&&!j&&i.jsx(Z.a,{href:`https://wa.me/${se}?text=${re}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-amber-500/80 hover:bg-amber-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Notificar cliente sobre estado o vencimiento","aria-label":`Notificar cliente para el pedido ${F.id}`,children:i.jsx(x0,{size:16})})]}),i.jsx(Z.button,{onClick:()=>u(F.id),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-red-500/80 hover:bg-red-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Eliminar pedido","aria-label":`Eliminar pedido ${F.id}`,children:i.jsx(cb,{size:16})})]})})]},F.id)})})]})})}):i.jsxs(Z.div,{className:"text-center py-16",variants:y,initial:"hidden",animate:"visible",children:[i.jsx(Z.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:i.jsx(oi,{className:`mx-auto text-6xl ${g?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),i.jsx("h4",{className:`text-xl font-semibold ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos encontrados"}),i.jsx("p",{className:`text-sm ${g?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu búsqueda o realiza tu primer pedido."})]})})]})};K6.propTypes={orders:G.arrayOf(G.shape({id:G.string.isRequired,productName:G.string,category:G.string,provider:G.string,amount:G.oneOfType([G.string,G.number]),status:G.string,startDate:G.oneOfType([G.string,G.instanceOf(Date)]),endDate:G.oneOfType([G.string,G.instanceOf(Date)]),daysRemaining:G.number,timeElapsedPercentage:G.number,accountDetails:G.shape({email:G.string,password:G.string,profile:G.string,pin:G.string}),buyer:G.string,buyerPhone:G.string,durationDays:G.number,soporteMessage:G.string})).isRequired,searchQuery:G.string.isRequired,setSearchQuery:G.func.isRequired,getCategoryDisplayName:G.func.isRequired,formatDate:G.func.isRequired,handleEditOrder:G.func.isRequired,handleActivateOrder:G.func.isRequired,handleDeleteOrder:G.func.isRequired,theme:G.oneOf(["light","dark"]).isRequired};const oJ=({accountDetails:t,handleAccountChange:e,handleUpdateAccount:r,theme:n="dark"})=>{const s=n==="dark",a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},l={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${s?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:a,initial:"hidden",animate:"visible",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${s?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(QS,{className:"inline mr-2",size:32}),"Configuración"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${s?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:l,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${s?"text-blue-400":"text-blue-600"}`,children:[i.jsx(lb,{size:20}),"Información de Cuenta"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"} mb-2`,children:"Correo electrónico"}),i.jsx("input",{type:"email",value:t.email,disabled:!0,className:`w-full px-4 py-2 rounded-xl border ${s?"bg-gray-700/50 text-gray-400 border-gray-600/50":"bg-gray-200/50 text-gray-600 border-gray-300/50"} cursor-not-allowed focus:ring-0`})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"} mb-2 flex items-center gap-2`,children:[i.jsx(Pp,{size:16}),"Nueva contraseña (opcional)"]}),i.jsx("input",{type:"password",name:"password",value:t.password,onChange:e,className:`w-full px-4 py-2 rounded-xl border ${s?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Dejar en blanco para no cambiar"})]})]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${s?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:l,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${s?"text-purple-400":"text-purple-600"}`,children:[i.jsx(ob,{size:20}),"Preferencias"]}),i.jsx("textarea",{name:"preferences",value:t.preferences,onChange:e,rows:"6",className:`w-full px-4 py-2 rounded-xl border resize-none ${s?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Especifica tus preferencias o notas"})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(Z.button,{onClick:r,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-pink-500/50 ${s?"from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700":"from-pink-600 to-purple-800 hover:from-pink-700 hover:to-purple-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Guardar Cambios"})})]})},Y6=({orders:t=[],setOrders:e,fetchOrders:r,searchQuery:n,setSearchQuery:s,getCategoryDisplayName:a,formatDate:l,theme:u="dark"})=>{const[d,h]=E.useState({}),[p,g]=E.useState({key:null,direction:"asc"}),y=u==="dark",v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},_={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:y?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},w=U=>{const S={netflix:{bg:y?"bg-red-900/30":"bg-red-100",text:y?"text-red-300":"text-red-800"},disney:{bg:y?"bg-blue-900/30":"bg-blue-100",text:y?"text-blue-300":"text-blue-800"},max:{bg:y?"bg-yellow-900/30":"bg-yellow-100",text:y?"text-yellow-300":"text-yellow-800"},spotify:{bg:y?"bg-green-900/30":"bg-green-100",text:y?"text-green-300":"text-green-800"},default:{bg:y?"bg-gray-900/30":"bg-gray-100",text:y?"text-gray-300":"text-gray-700"}};return S[U?.toLowerCase()]||S.default},T=E.useMemo(()=>{let S=[...t.filter(A=>A.status==="soporte")].filter(A=>(A.productName||"").toLowerCase().includes(n.toLowerCase())||(A.customerName||A.buyerName||"").toLowerCase().includes(n.toLowerCase()));return p.key&&S.sort((A,j)=>{let R=A[p.key]||"",M=j[p.key]||"";return p.key==="soporteMessage"?(R=A.soporteMessage||"",M=j.soporteMessage||""):p.key==="category"&&(R=a(A.category),M=a(j.category)),typeof R=="string"&&(R=R.toLowerCase()),typeof M=="string"&&(M=M.toLowerCase()),R<M?p.direction==="asc"?-1:1:R>M?p.direction==="asc"?1:-1:0}),S},[t,n,p,a]),D=U=>{g(S=>({key:U,direction:S.key===U&&S.direction==="asc"?"desc":"asc"}))},I=U=>p.key!==U?null:p.direction==="asc"?i.jsx(Pm,{className:"ml-1"}):i.jsx(Im,{className:"ml-1"}),z=()=>{const U=T.map(R=>{const M=R.customerName||R.buyerName||"N/A";return{Producto:R.productName||"Sin nombre",Categoría:a(R.category),Comprador:M,Teléfono:R.buyerPhone||"N/A",Email:R.accountDetails?.email||"N/A","Mensaje de Soporte":R.soporteMessage||"Sin mensaje","Fecha de Inicio":R.startDate?l(R.startDate):"N/A","Fecha de Vencimiento":R.endDate?l(R.endDate):"N/A"}}),S=ca.json_to_sheet(U),A=ca.book_new();ca.book_append_sheet(A,S,"Pedidos en Soporte");const j=new Date().toISOString().slice(0,10).replace(/-/g,"");Um(A,`pedidos_soporte_export_${j}.xlsx`)},F=async U=>{h(S=>({...S,[`reject_${U}`]:!0}));try{await ui(ut(Ie,"sales",U),{status:"rechazado"},{merge:!0}),e(S=>S.map(A=>A.id===U?{...A,status:"rechazado"}:A)),r&&await r(),alert("Pedido rechazado exitosamente.")}catch(S){console.error("Error rejecting support:",S),alert("Error al rechazar el soporte.")}finally{h(S=>({...S,[`reject_${U}`]:!1}))}},Y=async U=>{h(S=>({...S,[`solve_${U}`]:!0}));try{await ui(ut(Ie,"sales",U),{status:"active"},{merge:!0}),e(S=>S.map(A=>A.id===U?{...A,status:"active"}:A)),r&&await r(),alert("Soporte solucionado y pedido activado exitosamente.")}catch(S){console.error("Error solving support:",S),alert("Error al solucionar el soporte.")}finally{h(S=>({...S,[`solve_${U}`]:!1}))}};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-7xl mx-auto border ${y?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:v,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"support-title",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[i.jsxs("h3",{id:"support-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${y?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[i.jsx(Di,{className:"mr-2"})," Pedidos en Soporte",i.jsx("span",{className:`ml-2 bg-gradient-to-r ${y?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:T.length})]}),i.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[i.jsxs("div",{className:"relative flex-1 lg:w-80",children:[i.jsx("input",{type:"text",placeholder:"Buscar en soporte...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${y?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:n,onChange:U=>s(U.target.value),"aria-label":"Buscar en soporte"}),i.jsx(oi,{className:`absolute left-3 top-3.5 ${y?"text-gray-400":"text-gray-500"}`,size:18})]}),i.jsxs(Z.button,{onClick:z,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${y?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos en soporte como Excel","aria-label":"Exportar pedidos en soporte a Excel",children:[i.jsx(Rm,{size:18}),i.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),i.jsx($t,{children:T.length>0?i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:i.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:i.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${y?"bg-gray-800/50":"bg-white/50"}`,children:[i.jsx("thead",{className:`${y?"bg-gray-700/60":"bg-gray-50/60"}`,children:i.jsx("tr",{children:[{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:null,label:"Comprador"},{key:null,label:"Teléfono"},{key:null,label:"Email"},{key:"soporteMessage",label:"Mensaje de Soporte"},{key:"startDate",label:"Fecha de Inicio"},{key:"endDate",label:"Fecha de Vencimiento"},{label:"Acciones"}].map(({key:U,label:S})=>i.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${y?"text-gray-300":"text-gray-700"} ${U?"cursor-pointer hover:text-blue-400 transition-colors":""}`,onClick:()=>U&&D(U),children:i.jsxs("div",{className:"flex items-center justify-between",children:[S,U&&I(U)]})},U||S))})}),i.jsx("tbody",{className:"divide-y divide-gray-200/30",children:T.map(U=>{const S=U.buyerPhone?U.buyerPhone.replace(/^\+/,"").replace(/\D/g,""):null,A=U.customerName||U.buyerName||"N/A",j=encodeURIComponent(`Hola ${A}! 👋

📋 *Soporte para tu pedido de ${U.productName||"Sin nombre"}*:

Estamos revisando tu consulta. Por favor, describe el problema o pregunta para ayudarte mejor.

Detalles del pedido:
✉️ *Usuario*: ${U.accountDetails?.email||"N/A"}
🗓 *Inicio*: ${U.startDate?l(U.startDate):"N/A"}
🗓 *Vencimiento*: ${U.endDate?l(U.endDate):"N/A"}

¡Gracias por tu paciencia! 😊`),R=w(U.category);return i.jsxs(Z.tr,{className:`transition-colors duration-200 ${y?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:_,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${U.id}-title`,children:[i.jsx("td",{className:"px-4 py-4",children:i.jsx("h4",{id:`order-${U.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:U.productName||"Sin nombre"})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R.bg} ${R.text}`,children:a(U.category)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:A}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:U.buyerPhone||"N/A"}),i.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:U.accountDetails?.email||"N/A",children:U.accountDetails?.email||"N/A"}),i.jsxs("td",{className:"px-4 py-4 max-w-xs",children:[i.jsx("p",{className:"text-sm break-words line-clamp-3 bg-gray-100/30 dark:bg-gray-800/30 p-2 rounded",title:U.soporteMessage||"Sin mensaje",children:U.soporteMessage||"Sin mensaje"}),U.soporteCreatedAt&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l(U.soporteCreatedAt)})]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:U.startDate?l(U.startDate):"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:U.endDate?l(U.endDate):"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex gap-2",children:[S&&i.jsx(Z.a,{href:`https://wa.me/${S}?text=${j}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Comunicarse con el usuario","aria-label":`Comunicarse con el usuario para el pedido ${U.productName}`,children:i.jsx(Hr,{size:16})}),i.jsx(Z.button,{onClick:()=>F(U.id),disabled:d[`reject_${U.id}`],className:`p-2.5 rounded-xl shadow-md flex items-center justify-center ${d[`reject_${U.id}`]?"bg-gray-400 text-gray-500 cursor-not-allowed":"bg-red-500/80 hover:bg-red-600/90 text-white"} transition-all duration-200`,whileHover:d[`reject_${U.id}`]?{}:{scale:1.1},whileTap:d[`reject_${U.id}`]?{}:{scale:.9},title:"Rechazar soporte","aria-label":"Rechazar soporte",children:d[`reject_${U.id}`]?i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):i.jsx(bz,{size:16})}),i.jsx(Z.button,{onClick:()=>Y(U.id),disabled:d[`solve_${U.id}`],className:`p-2.5 rounded-xl shadow-md flex items-center justify-center ${d[`solve_${U.id}`]?"bg-gray-400 text-gray-500 cursor-not-allowed":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-200`,whileHover:d[`solve_${U.id}`]?{}:{scale:1.1},whileTap:d[`solve_${U.id}`]?{}:{scale:.9},title:"Solucionar soporte","aria-label":"Solucionar soporte",children:d[`solve_${U.id}`]?i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):i.jsx(Eu,{size:16})})]})})]},U.id)})})]})})}):i.jsxs(Z.div,{className:"text-center py-16",variants:v,initial:"hidden",animate:"visible",children:[i.jsx(Z.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:i.jsx(Di,{className:`mx-auto text-6xl ${y?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),i.jsx("h4",{className:`text-xl font-semibold ${y?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos en soporte"}),i.jsx("p",{className:`text-sm ${y?"text-gray-400":"text-gray-600"}`,children:"Los pedidos en soporte aparecerán aquí"})]})})]})};Y6.propTypes={orders:G.array.isRequired,setOrders:G.func,fetchOrders:G.func,searchQuery:G.string,setSearchQuery:G.func,getCategoryDisplayName:G.func.isRequired,formatDate:G.func.isRequired,theme:G.oneOf(["light","dark"])};const lJ=({editModalOpen:t,setEditModalOpen:e,selectedProduct:r,setSelectedProduct:n,editError:s,setEditError:a,handleFileChange:l,handleEditStockChange:u,handleEditAccountFieldChange:d,handleUpdateProduct:h,theme:p="dark"})=>{const g=p==="dark",y={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}}},v={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},_={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},w=T=>{const{name:D,value:I,type:z,checked:F}=T.target;n(Y=>({...Y,[D]:z==="checkbox"?F:I,...D==="status"&&{stock:I==="Agotado"?0:Y.stock||1,accounts:I==="En stock"?Y.accounts.length?Y.accounts:Array(Y.stock||1).fill({email:"",password:"",profile:"",pin:""}):[]}}))};return t?i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl w-full max-w-6xl border max-h-[90vh] overflow-y-auto ${g?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:y,initial:"hidden",animate:"visible",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${g?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(Dp,{className:"inline mr-2",size:32}),"Editar Producto"]}),i.jsx(Z.button,{onClick:()=>e(!1),className:`${g?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(Gs,{size:20})})]}),i.jsx($t,{children:s&&i.jsx(Z.div,{className:`mb-8 p-4 border rounded-2xl ${g?"bg-red-900/30 border-red-700/50 text-red-300":"bg-red-100/30 border-red-300/50 text-red-700"}`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:s})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",variants:v,initial:"hidden",animate:"visible",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:_,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-blue-400":"text-blue-600"}`,children:[i.jsx(qS,{size:20}),"Imagen del producto"]}),i.jsx("div",{className:`flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl ${g?"bg-gray-900/80 border-gray-700/50":"bg-gray-200/80 border-gray-300/50"}`,children:r.image?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:r.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain",loading:"lazy"}),i.jsx(Z.button,{type:"button",onClick:()=>n({...r,image:""}),className:`absolute top-0 right-0 ${g?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(Gs,{size:16})})]}):i.jsxs(i.Fragment,{children:[i.jsx(Dp,{className:`mx-auto h-12 w-12 ${g?"text-gray-400":"text-gray-500"}`}),i.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:i.jsxs("label",{htmlFor:"edit-file-upload",className:`relative cursor-pointer rounded-xl font-medium ${g?"bg-gray-900/50 text-blue-400 hover:text-blue-500":"bg-gray-200/50 text-blue-600 hover:text-blue-700"} focus-within:outline-none`,children:[i.jsx("span",{children:"Subir una imagen"}),i.jsx("input",{id:"edit-file-upload",name:"edit-file-upload",type:"file",className:"sr-only",onChange:T=>l(T,!0),accept:"image/*"})]})}),i.jsx("p",{className:`text-xs ${g?"text-gray-500":"text-gray-600"}`,children:"PNG, JPG, GIF hasta 10MB"})]})})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:_,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-purple-400":"text-purple-600"}`,children:[i.jsx(JS,{size:20}),"Información Básica"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Nombre del producto*"}),i.jsx("input",{type:"text",name:"name",value:r.name,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Categoría*"}),i.jsxs("select",{name:"category",value:r.category,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"Netflix",children:"Netflix"}),i.jsx("option",{value:"Spotify",children:"Spotify"}),i.jsx("option",{value:"Disney",children:"Disney+"}),i.jsx("option",{value:"Max",children:"Max"}),i.jsx("option",{value:"Prime Video",children:"Prime Video"}),i.jsx("option",{value:"Vix",children:"Vix"}),i.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),i.jsx("option",{value:"Canva",children:"Canva"}),i.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),i.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),i.jsx("option",{value:"Dgo",children:"DGO"}),i.jsx("option",{value:"Liga Max",children:"Liga Max"}),i.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),i.jsx("option",{value:"Youtube",children:"YouTube"}),i.jsx("option",{value:"Deezer",children:"Deezer"}),i.jsx("option",{value:"Tidal",children:"Tidal"}),i.jsx("option",{value:"Vpn",children:"VPN"}),i.jsx("option",{value:"WinTv",children:"WinTV"}),i.jsx("option",{value:"Apple Music",children:"CinePlanet"}),i.jsx("option",{value:"Apple Tv",children:"Apple TV"}),i.jsx("option",{value:"Iptv",children:"IPTV"}),i.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),i.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),i.jsx("option",{value:"Pornhub",children:"Pornhub"}),i.jsx("option",{value:"Paramount",children:"Paramount"}),i.jsx("option",{value:"Licencias",children:"Licencias"}),i.jsx("option",{value:"Capcut",children:"Capcut"}),i.jsx("option",{value:"Duolingo",children:"Duolingo"}),i.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Tipo de cuenta*"}),i.jsxs("select",{name:"accountType",value:r.accountType,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"Premium",children:"Premium"}),i.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Estado*"}),i.jsxs("select",{name:"status",value:r.status,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[i.jsx("option",{value:"En stock",children:"En stock"}),i.jsx("option",{value:"A pedido",children:"A pedido"}),i.jsx("option",{value:"Agotado",children:"Agotado"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Stock*"}),i.jsx("input",{type:"number",name:"stock",value:r.status==="Agotado"?0:r.stock,onChange:u,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all ${r.status==="Agotado"?"opacity-50 cursor-not-allowed":""} placeholder-gray-500`,min:"0",required:!0,disabled:r.status==="Agotado"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio (S/)*"}),i.jsx("input",{type:"number",name:"price",value:r.price,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",name:"renewal",checked:r.renewal,onChange:w,className:`h-4 w-4 rounded ${g?"text-purple-400 focus:ring-purple-400 border-gray-600/50":"text-purple-600 focus:ring-purple-600 border-gray-300/50"}`}),i.jsx("label",{className:`ml-2 text-sm ${g?"text-gray-300":"text-gray-700"}`,children:"¿Tiene renovación?"})]})]}),r.renewal&&i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio de renovación (S/)*"}),i.jsx("input",{type:"number",name:"renewalPrice",value:r.renewalPrice,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-8",variants:v,initial:"hidden",animate:"visible",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:_,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-green-400":"text-green-600"}`,children:[i.jsx(ec,{size:20}),"Duración y Contacto"]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Duración (días)"}),i.jsx("input",{type:"number",name:"duration",value:r.duration,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Dejar vacío para ilimitado",min:"1"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:["Teléfono de contacto ",r.status==="A pedido"?"*":""]}),i.jsx("input",{type:"text",name:"providerPhone",value:r.providerPhone,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Ej: +51 987654321",required:r.status==="A pedido"})]})]})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:_,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-indigo-400":"text-indigo-600"}`,children:[i.jsx(KS,{size:20}),"Enlaces y Descripciones"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"URL del producto (opcional)"}),i.jsx("input",{type:"url",name:"productUrl",value:r.productUrl||"",onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Ej: https://www.ejemplo.com/producto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Detalles del producto"}),i.jsx("textarea",{name:"details",value:r.details,onChange:w,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Describe los detalles y características del producto"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Términos y condiciones"}),i.jsx("textarea",{name:"terms",value:r.terms,onChange:w,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Especifica los términos y condiciones de uso"})]})]})]}),r.status==="En stock"&&i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:_,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-pink-400":"text-pink-600"}`,children:[i.jsx(ku,{size:20}),"Cuentas Asociadas"]}),i.jsx("p",{className:`text-sm mb-4 ${g?"text-gray-400":"text-gray-600"}`,children:"Debe completar todas las cuentas según el stock indicado"}),i.jsx($t,{children:i.jsx("div",{className:"space-y-4",children:r.accounts.map((T,D)=>i.jsxs(Z.div,{className:`border rounded-xl p-4 ${g?"bg-gray-900/70 border-gray-700/50":"bg-gray-200/70 border-gray-300/50"} backdrop-blur-sm`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:D*.1},children:[i.jsxs("h4",{className:`text-sm font-medium ${g?"text-white":"text-gray-900"} mb-3 flex items-center gap-2`,children:["Cuenta ",D+1]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"Correo electrónico*"}),i.jsx("input",{type:"email",value:T.email,onChange:I=>d(D,"email",I.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"Contraseña*"}),i.jsx("input",{type:"text",value:T.password,onChange:I=>d(D,"password",I.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"Perfil (opcional)"}),i.jsx("input",{type:"text",value:T.profile,onChange:I=>d(D,"profile",I.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: Perfil 1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"PIN (opcional)"}),i.jsx("input",{type:"text",value:T.pin,onChange:I=>d(D,"pin",I.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: 1234"})]})]})]},D))})})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[i.jsx(Z.button,{onClick:()=>e(!1),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${g?"from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500":"from-gray-300 to-gray-400 hover:from-gray-400 hover:to-gray-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancelar"}),i.jsx(Z.button,{onClick:h,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${g?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Actualizar Producto"})]})]})}):null},cJ=({editOrderModalOpen:t,setEditOrderModalOpen:e,selectedOrder:r,handleOrderAccountChange:n,editOrderError:s,setEditOrderError:a,handleUpdateOrder:l,theme:u="dark"})=>{const d=u==="dark",h={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}}},p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return t?i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl w-full max-w-md border max-h-[90vh] overflow-y-auto ${d?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${d?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[i.jsx(Pp,{className:"inline mr-2",size:32}),"Editar Detalles de Cuenta"]}),i.jsx(Z.button,{onClick:()=>e(!1),className:`${d?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx(Gs,{size:20})})]}),i.jsx($t,{children:s&&i.jsx(Z.div,{className:`mb-8 p-4 border rounded-2xl ${d?"bg-red-900/30 border-red-700/50 text-red-300":"bg-red-100/30 border-red-300/50 text-red-700"}`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:s})}),i.jsx(Z.div,{className:`border rounded-2xl p-6 shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"} space-y-4`,variants:p,initial:"hidden",animate:"visible",children:i.jsxs(Z.div,{className:"space-y-4",variants:g,whileHover:"hover",children:[i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsx(lb,{size:16}),"Correo electrónico*"]}),i.jsx("input",{type:"email",name:"email",value:r.accountDetails.email,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: usuario@ejemplo.com",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsx(Pp,{size:16}),"Contraseña*"]}),i.jsx("input",{type:"text",name:"password",value:r.accountDetails.password,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: contraseña123",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsx(Ns,{size:16}),"Perfil (opcional)"]}),i.jsx("input",{type:"text",name:"profile",value:r.accountDetails.profile,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: Perfil 1"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[i.jsx(mz,{size:16}),"PIN (opcional)"]}),i.jsx("input",{type:"text",name:"pin",value:r.accountDetails.pin,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: 1234"})]})]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[i.jsx(Z.button,{onClick:()=>e(!1),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${d?"from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500":"from-gray-300 to-gray-400 hover:from-gray-400 hover:to-gray-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancelar"}),i.jsx(Z.button,{onClick:l,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${d?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Guardar Cambios"})]})]})}):null},uJ=({users:t,providerBalance:e,handleRecharge:r,theme:n,userSearch:s,setUserSearch:a})=>{const l=n==="dark",u={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},[h,p]=E.useState({}),g=(v,_)=>{p(w=>({...w,[v]:_}))},y=v=>{const _=parseFloat(h[v]);_&&_>0&&_<=e&&(r(v,_),p(w=>({...w,[v]:""})))};return i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${l?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",children:[i.jsx(Z.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r ${l?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:"Gestión de Recargas"}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative group",children:[i.jsx(oi,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 ${l?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,size:18}),i.jsx("input",{type:"text",placeholder:"Buscar usuarios por nombre o email...",value:s,onChange:v=>a(v.target.value),className:`w-full pl-10 pr-4 py-2.5 ${l?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${l?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${l?"text-green-400":"text-green-600"}`,children:[i.jsx(zs,{size:20}),"Tu Saldo Disponible"]}),i.jsxs("p",{className:`text-4xl font-bold ${l?"text-white":"text-gray-900"}`,children:["S/ ",e.toFixed(2)]}),i.jsx("p",{className:`text-sm ${l?"text-gray-400":"text-gray-600"} mt-2`,children:"Usa para recargar saldos de usuarios"})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${l?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${l?"text-blue-400":"text-blue-600"}`,children:[i.jsx(Ns,{size:20}),"Total Usuarios"]}),i.jsx("p",{className:`text-4xl font-bold ${l?"text-white":"text-gray-900"}`,children:t.length}),i.jsx("p",{className:`text-sm ${l?"text-gray-400":"text-gray-600"} mt-2`,children:'Usuarios con rol "Usuario"'})]}),i.jsxs(Z.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${l?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[i.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${l?"text-purple-400":"text-purple-600"}`,children:[i.jsx(zs,{size:20}),"Saldo Total Distribuido"]}),i.jsxs("p",{className:`text-4xl font-bold ${l?"text-white":"text-gray-900"}`,children:["S/ ",t.reduce((v,_)=>v+(_.balance||0),0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${l?"text-gray-400":"text-gray-600"} mt-2`,children:"Suma de saldos de usuarios"})]})]}),i.jsxs(Z.div,{className:`bg-${l?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${l?"border-gray-700/50":"border-gray-300"}`,variants:u,whileHover:"hover",children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${l?"text-white":"text-gray-900"}`,children:["Lista de"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Usuarios"})," ","(",t.length,")"]})}),t.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${l?"bg-gray-800/50":"bg-gray-100"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${l?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx($l,{})," Usuario"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${l?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(yu,{})," Email"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${l?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(zs,{})," Saldo"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${l?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Acciones"})]})}),i.jsx("tbody",{className:`${l?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:t.map(v=>i.jsxs("tr",{className:`hover:bg-${l?"gray-700/50":"gray-100"} transition-all duration-300`,children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${l?"text-white":"text-gray-900"}`,children:v.username||"Sin nombre"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${l?"text-gray-300":"text-gray-600"}`,children:v.email}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${l?"text-white":"text-gray-900"}`,children:["S/ ",(v.balance||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap flex space-x-2",children:i.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[i.jsx("input",{type:"number",placeholder:"Monto",value:h[v.id]||"",onChange:_=>g(v.id,_.target.value),className:`w-20 px-2 py-1 rounded ${l?"bg-gray-700/50 border-gray-500/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} text-sm focus:outline-none focus:ring-2 focus:ring-blue-400`,min:"0",step:"0.01",max:e}),i.jsx(Z.button,{onClick:()=>y(v.id),className:`px-3 py-1 text-white rounded text-xs transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 ${l?"from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800"}`,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!h[v.id]||parseFloat(h[v.id])<=0||parseFloat(h[v.id])>e,children:"Recargar"})]})})]},v.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(_u,{className:`mx-auto text-4xl ${l?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("p",{className:`${l?"text-gray-300":"text-gray-600"}`,children:"No hay usuarios disponibles"})]})]})]})},dJ=Ia.memo(({show:t,onClose:e,title:r,message:n,theme:s})=>i.jsx($t,{children:t&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${s==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:i.jsx(Sn,{size:20})}),i.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${s==="dark"?"text-white":"text-gray-900"}`,children:r}),i.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));dJ.propTypes={show:G.bool.isRequired,onClose:G.func.isRequired,title:G.string.isRequired,message:G.string.isRequired,theme:G.string.isRequired};const X6=()=>{const[t,e]=E.useState(!1),[r,n]=E.useState("inicio"),[s,a]=E.useState("Usuario"),[l,u]=E.useState(""),[d,h]=E.useState(""),[p,g]=E.useState([]),[y,v]=E.useState([]),[_,w]=E.useState([]),[T,D]=E.useState([]),[I,z]=E.useState(!0),[F,Y]=E.useState(""),[U,S]=E.useState({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:Array(1).fill({email:"",password:"",profile:"",pin:""})}),[A,j]=E.useState(null),[R,M]=E.useState(!1),[L,O]=E.useState(""),[fe,ke]=E.useState(""),[Ce,Re]=E.useState(""),[Ee,ie]=E.useState({isOpen:!1,message:"",title:""}),[de,se]=E.useState({email:"",password:"",preferences:"",balance:0}),[B,te]=E.useState(!1),[re,ne]=E.useState(!0),[ee,Le]=E.useState(0),[Be,je]=E.useState(!1),[Me,it]=E.useState(null),[yt,Wt]=E.useState(""),[Fe,fr]=E.useState("dark"),[Mt,De]=E.useState(!1),[pr,Vt]=E.useState(!1),[qt,le]=E.useState([]),Xe=Ma(),ct=w1(),dt=E.useCallback(be=>{const Se=new Date(be);return Se.setUTCHours(23,59,59,999),Se},[]),St=E.useCallback(()=>{fr(be=>be==="dark"?"light":"dark")},[]),wt=E.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),st=E.useCallback((be,Se)=>{ie({isOpen:!0,title:be,message:Se})},[]),gt=E.useCallback(()=>{ie({isOpen:!1,message:"",title:""})},[]),ir=E.useCallback(be=>{if(!be)return"No especificada";try{const Se=be instanceof Date?be:be?.toDate?.()||new Date(be);return isNaN(Se.getTime())?"Fecha inválida":Se.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(Se){return console.error("Error formatting date:",Se),"Fecha inválida"}},[]),Q=E.useCallback(be=>({netflix:"Netflix",spotify:"Spotify",disney:"Disney",max:"Max",primevideo:"Prime Video",vix:"Vix",crunchyroll:"Crunchyroll",canva:"Canva",chatgpt:"ChatGPT",redessociales:"Redes Sociales",dgo:"Dgo",ligamax:"Liga Max",movistarplay:"Movistar Play",youtube:"Youtube",deezer:"Deezer",tidal:"Tidal",vpn:"Vpn",wintv:"WinTv",applemusic:"Apple Music",appletv:"Apple TV",iptv:"Iptv",flujotv:"Flujo Tv",vikirakuten:"Viki Rakuten",pornhub:"Pornhub",paramount:"Paramount",licencias:"Licencias",capcut:"Capcut",duolingo:"Duolingo",buscapersonas:"BuscaPersonas"})[be?.toLowerCase()]||"Otro",[]);E.useEffect(()=>{const be=Kl(ct,Se=>{Se?(u(Se.email||""),h(Se.uid),Ne(Se.uid)):Xe("/login")});return()=>be()},[ct,Xe]);const Ne=async be=>{try{const Se=ut(Ie,"users",be),P=await ei(Se);if(P.exists()){const H=P.data();a(H.username||"Usuario"),se({email:H.email||"",password:"",preferences:H.preferences||"",balance:H.balance||0})}z(!1)}catch(Se){Y("Error al cargar datos del usuario"),console.error("Error fetching user data:",Se),z(!1)}};E.useEffect(()=>{if(!d)return;const be=ut(Ie,"users",d);return hr(be,P=>{if(P.exists()){const H=P.data();se(W=>({...W,email:H.email||W.email,preferences:H.preferences||W.preferences,balance:H.balance||0})),a(H.username||prev.username)}},P=>{console.error("Error listening to user data:",P)})},[d]),E.useEffect(()=>{l&&(async Se=>{try{const P=await ei(ut(Ie,"admins",Se));te(P.exists())}catch(P){console.error("Error checking admin status:",P)}})(l)},[l]),E.useEffect(()=>{const be=hr(ut(Ie,"notifications","adminMessage"),Se=>{if(Se.exists()){const P=Se.data(),H=B?"admin":"provider";P.roles&&P.roles.includes(H)?le([{id:Se.id,...P,timestamp:P.updatedAt?.toDate()}]):le([])}else le([])},Se=>{console.error("Error in notifications listener:",Se),Y("Error al cargar notificaciones: "+Se.message)});return()=>be()},[B]),E.useEffect(()=>{const be=tr(kt(Ie,"users"),br("role","==","user")),Se=hr(be,P=>{const H=P.docs.map(W=>({id:W.id,...W.data()}));D(H)},P=>{console.error("Error fetching users:",P),Y("Error al cargar usuarios")});return()=>Se()},[]),E.useEffect(()=>{if(!s)return;const be=tr(kt(Ie,"products"),br("provider","==",s)),Se=hr(be,P=>{const H=P.docs.map(W=>({id:W.id,...W.data()}));v(H)},P=>{console.error("Error fetching products:",P),Y("Error al cargar productos")});return()=>Se()},[s]),E.useEffect(()=>{if(!d)return;const be=tr(kt(Ie,"sales"),br("providerId","==",d)),Se=hr(be,async H=>{if(H.empty){g([]),ne(!1);return}const W=new Date,K=7200*60*1e3;for(const ue of H.docs){let he=ue.data().endDate,xe=he instanceof Nr?he.toDate():typeof he=="string"?new Date(he):new Date(he);const ye=dt(xe);if(ye<W&&W.getTime()-ye.getTime()>K)try{await Ci(ut(Ie,"sales",ue.id)),console.log(`Deleted expired order: ${ue.id}`)}catch(Ue){console.error(`Error deleting order ${ue.id}:`,Ue)}}const J=H.docs.map(ue=>{const ge=ue.data(),xe=ge.saleDate?.toDate?.()||ge.createdAt?.toDate?.()||new Date;let ye=ge.startDate?.toDate?.(),Ue=ye||xe,Je=!ye;const lt=Number(ge.durationDays)||30;let Ke;ge.endDate?Ke=typeof ge.endDate=="string"?new Date(ge.endDate):ge.endDate.toDate?.()||new Date(ge.endDate):(Ke=new Date(Ue.getTime()+lt*24*60*60*1e3),Je=!0),Je&&Mr(ut(Ie,"sales",ue.id),{startDate:ye||Nr.fromDate(xe),endDate:Nr.fromDate(dt(Ke)),durationDays:lt}).catch(Br=>{console.error("Error al actualizar startDate/endDate en Firestore:",Br)});const We=dt(Ke),Pt=We.getTime()-Ue.getTime(),nr=W.getTime()-Ue.getTime(),Jt=We.getTime()-W.getTime(),sr=Math.max(1,Math.ceil(Pt/(1e3*60*60*24))),js=Math.max(0,Math.ceil(Jt/(1e3*60*60*24))),Ks=Math.ceil(nr/(1e3*60*60*24)),ns=sr>0?Math.min(100,Ks/sr*100):100;return{id:ue.id,...ge,productName:ge.productName||"Producto sin nombre",category:ge.type||"netflix",amount:parseFloat(ge.price)||0,buyer:ge.buyerName||ge.customerName||"Comprador desconocido",buyerPhone:ge.buyerPhone||"No especificado",buyerEmail:ge.customerEmail||"No especificado",status:ge.status||"completed",saleDate:xe,startDate:Ue,endDate:Ke,durationDays:lt,daysRemaining:js,totalDays:sr,timeElapsedPercentage:ns,accountDetails:ge.accountDetails||{email:"No disponible",password:"No disponible",profile:"N/A",pin:""},balance:parseFloat(ge.price)||0}}).filter(ue=>{const ge=dt(ue.endDate);return!(ge<W&&W.getTime()-ge.getTime()>K)});g(J);const X=J.filter(ue=>ue.status==="completed"&&ue.accountDetails).map(ue=>({...ue.accountDetails,productName:ue.productName,saleDate:ue.saleDate,orderId:ue.id}));w(X),ne(!1)},H=>{console.error("Error fetching sales:",H),Y("Error al cargar ventas"),ne(!1)}),P=setInterval(()=>{g(H=>H.map(W=>{const K=new Date,J=dt(W.endDate),X=J.getTime()-new Date(W.startDate).getTime(),ue=K.getTime()-new Date(W.startDate).getTime(),ge=J.getTime()-K.getTime(),he=Math.max(1,Math.ceil(X/(1e3*60*60*24))),xe=Math.max(0,Math.ceil(ge/(1e3*60*60*24))),ye=Math.ceil(ue/(1e3*60*60*24)),Ue=he>0?Math.min(100,ye/he*100):100;return{...W,daysRemaining:xe,totalDays:he,timeElapsedPercentage:Ue}}).filter(W=>{const K=dt(W.endDate),J=new Date,X=7200*60*1e3;return!(K<J&&J.getTime()-K.getTime()>X)}))},6e4);return()=>{Se(),clearInterval(P)}},[d,dt]),E.useEffect(()=>{if(!s)return;const be=ut(Ie,"providerBalances",s),Se=hr(be,P=>{P.exists()?Le(P.data().balance||0):(ui(be,{balance:0,provider:s,updatedAt:wr()}),Le(0)),ne(!1)},P=>{console.error("Error fetching provider balance:",P),Y("Error al cargar el saldo del proveedor"),ne(!1)});return()=>Se()},[s]);const ft=E.useCallback(async(be,Se)=>{if(!Se||Se<=0){st("Error","El monto debe ser mayor a 0");return}if(Se>de.balance){st("Error","Saldo insuficiente en tu cuenta");return}try{await Sy(Ie,async P=>{const H=ut(Ie,"users",d),W=ut(Ie,"users",be),K=await P.get(H),J=await P.get(W);if(!K.exists())throw new Error("Cuenta no encontrada");if(!J.exists())throw new Error("Usuario destino no encontrado");const X=(K.data().balance||0)-Se,ue=(J.data().balance||0)+Se;if(X<0)throw new Error("Saldo insuficiente");P.update(H,{balance:X,updatedAt:wr()}),P.update(W,{balance:ue,updatedAt:wr()})}),se(P=>({...P,balance:P.balance-Se})),D(P=>P.map(H=>H.id===be?{...H,balance:(H.balance||0)+Se}:H)),st("Éxito",`Transferencia de S/ ${Se.toFixed(2)} exitosa`)}catch(P){console.error("Error en recarga:",P),st("Error",P.message||"Error al procesar la recarga")}},[de.balance,d,st]),we=E.useCallback(async()=>{try{await z0(ct),Xe("/login")}catch(be){console.error("Error al cerrar sesión:",be),st("Error",be.message||"Error al cerrar sesión")}},[Xe,st]),Ae=E.useCallback(be=>{const{name:Se,value:P,type:H,checked:W}=be.target;S(K=>({...K,[Se]:H==="checkbox"?W:P}))},[]),Ve=E.useCallback(be=>{const{name:Se,value:P}=be.target;se(H=>({...H,[Se]:P}))},[]),Ze=E.useCallback((be,Se=!1)=>{const P=be.target.files[0];if(P){if(P.size>10485760){Se?O("La imagen no debe exceder los 10MB"):Y("La imagen no debe exceder los 10MB");return}const W=new FileReader;W.onloadend=()=>{Se?j(K=>({...K,image:W.result})):S(K=>({...K,image:W.result}))},W.readAsDataURL(P)}},[]),vt=E.useCallback(be=>{const Se=parseInt(be.target.value)||1,P=U.accounts||[];if(Se>P.length){const H=[...P];for(;H.length<Se;)H.push({email:"",password:"",profile:"",pin:""});S({...U,stock:Se,accounts:H})}else if(Se<P.length){const H=P.slice(0,Math.max(Se,1));S({...U,stock:Se,accounts:H})}else S({...U,stock:Se})},[U]),Nt=E.useCallback(be=>{const Se=parseInt(be.target.value)||1;let H=[...A.accounts||[]];if(Se>H.length)for(;H.length<Se;)H.push({email:"",password:"",profile:"",pin:""});else Se<H.length&&(H=H.slice(0,Math.max(Se,1)));j({...A,stock:Se,accounts:H})},[A]),at=E.useCallback((be,Se,P)=>{const H=[...U.accounts];H[be]={...H[be],[Se]:P},S({...U,accounts:H})},[U]),ot=E.useCallback((be,Se,P)=>{j(H=>({...H,accounts:H.accounts.map((W,K)=>K===be?{...W,[Se]:P}:W)}))},[]),et=E.useCallback(be=>{const{name:Se,value:P}=be.target;it(H=>({...H,accountDetails:{...H.accountDetails,[Se]:P}}))},[]),Tt=E.useCallback(async()=>{if(Y(""),!U.name||!U.price){st("Error","Por favor complete todos los campos obligatorios");return}if(U.renewal&&!U.renewalPrice){st("Error","Por favor ingrese el precio de renovación");return}if(U.status==="En stock"&&U.accounts.some(Se=>!Se.email||!Se.password)){st("Error","Por favor complete todos los campos de las cuentas");return}try{const be={...U,provider:s,providerId:d,providerPhone:U.status==="En stock"?U.providerPhone||"":U.providerPhone||"No especificado",createdAt:wr(),availableAccounts:U.status==="En stock"?U.accounts.length:0},Se=await Do(kt(Ie,"products"),be);if(U.status==="En stock"){const P=kt(Ie,`products/${Se.id}/accounts`);for(const H of U.accounts)await Do(P,{email:H.email,password:H.password,profile:H.profile||"",pin:H.pin||"",status:"available"})}S({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:[{email:"",password:"",profile:"",pin:""}]}),n("inventario"),st("Éxito","Producto subido exitosamente!")}catch(be){console.error("Error al subir el producto:",be),st("Error",`Error al subir el producto: ${be.message}`)}},[U,s,d,st]),Bt=E.useCallback(async be=>{O("");try{const Se=tr(kt(Ie,"sales"),br("providerId","==",d),br("productName","==",be.name)),H=(await rn(Se)).docs.filter(X=>X.data().status==="completed"&&X.data().accountDetails?.email).map(X=>X.data().accountDetails.email),W=kt(Ie,`products/${be.id}/accounts`),J=(await rn(W)).docs.filter(X=>X.data().status==="available").map(X=>({email:X.data().email||"",password:X.data().password||"",profile:X.data().profile||"",pin:X.data().pin||""}));j({id:be.id,name:be.name||"",image:be.image||"",category:be.category||"Netflix",accountType:be.accountType||"Premium",status:be.status||"En stock",stock:J.length||be.stock||1,price:be.price||"",renewal:be.renewal||!1,renewalPrice:be.renewalPrice||"",duration:be.duration||"",providerPhone:be.providerPhone||"",details:be.details||"",terms:be.terms||"",providerId:be.providerId||d,accounts:be.status==="En stock"?J.length>0?J:Array(Math.max(be.stock||1,1)).fill({email:"",password:"",profile:"",pin:""}):[]}),M(!0)}catch(Se){console.error("Error al preparar edición del producto:",Se),O("Error al preparar edición del producto")}},[d]),Kt=E.useCallback(async()=>{if(O(""),!A.name||!A.price){O("Por favor complete todos los campos obligatorios");return}if(A.renewal&&!A.renewalPrice){O("Por favor ingrese el precio de renovación");return}if(A.status==="En stock"&&A.accounts.some(Se=>!Se.email||!Se.password)){O("Por favor complete todos los campos de las cuentas");return}try{const be=ut(Ie,"products",A.id);if(await ui(be,{...A,providerId:A.providerId||d,availableAccounts:A.status==="En stock"&&A.accounts?.length||0},{merge:!0}),A.status==="En stock"){const Se=kt(Ie,`products/${A.id}/accounts`),P=await rn(Se);for(const H of P.docs)await Ci(H.ref);for(const H of A.accounts)await Do(Se,{email:H.email,password:H.password,profile:H.profile||"",pin:H.pin||"",status:"available"})}M(!1),st("Éxito","Producto actualizado exitosamente!")}catch(be){console.error("Error al actualizar el producto:",be),O(`Error al actualizar el producto: ${be.message}`)}},[A,d,st]),Ir=E.useCallback(be=>{it(be),je(!0)},[]),$r=E.useCallback(async()=>{if(Me)try{const be=ut(Ie,"sales",Me.id);await Mr(be,{...Me,updatedAt:wr()}),je(!1),st("Éxito","Pedido actualizado exitosamente!")}catch(be){console.error("Error al actualizar el pedido:",be),Wt(`Error al actualizar el pedido: ${be.message}`)}},[Me,st]),dn=E.useCallback(async be=>{try{const Se=ut(Ie,"sales",be);await Mr(Se,{status:"completed"}),st("Éxito","Pedido activado exitosamente!")}catch(Se){console.error("Error al activar el pedido:",Se),st("Error",`Error al activar el pedido: ${Se.message}`)}},[st]),cr=E.useCallback(async be=>{try{await Ci(ut(Ie,"sales",be)),st("Éxito","Pedido eliminado exitosamente!")}catch(Se){console.error("Error al eliminar el pedido:",Se),st("Error",`Error al eliminar el pedido: ${Se.message}`)}},[st]),Wn=E.useCallback(async be=>{be.preventDefault();try{const Se={updatedAt:wr()};de.email&&(Se.email=de.email),de.preferences&&(Se.preferences=de.preferences),await Mr(ut(Ie,"users",d),Se),st("Éxito","Cuenta actualizada exitosamente!")}catch(Se){console.error("Error al actualizar la cuenta:",Se),st("Error",`Error al actualizar la cuenta: ${Se.message}`)}},[de,d,st]),ur=E.useCallback(async be=>{try{await Ci(ut(Ie,"products",be)),st("Éxito","Producto eliminado exitosamente!")}catch(Se){console.error("Error al eliminar el producto:",Se),st("Error",`Error al eliminar el producto: ${Se.message}`)}},[st]),hn=E.useMemo(()=>y.reduce((be,Se)=>be+(Se.availableAccounts||0),0),[y]),Tr=E.useMemo(()=>p.reduce((be,Se)=>be+(Se.balance||0),0),[p]),yn=E.useCallback(()=>{if(I)return i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(F)return i.jsxs("div",{className:`bg-${Fe==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${Fe==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Vl,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${Fe==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),i.jsx("p",{className:`text-base ${Fe==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:F}),i.jsx("button",{onClick:()=>Y(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]});const be=T.filter(Se=>Se.username?.toLowerCase().includes(Ce.toLowerCase())||Se.email?.toLowerCase().includes(Ce.toLowerCase()));return i.jsx("div",{className:`bg-${Fe==="dark"?"black/50":"white"}
    backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md 
    w-full xl:max-w-full border ${Fe==="dark"?"border-gray-700/50":"border-gray-300"} overflow-x-auto`,children:(()=>{switch(r){case"inicio":return i.jsx(G6,{username:s,products:y,orders:p,providerBalance:ee,balanceLoading:re,totalStock:hn,totalEarnings:Tr,isAdmin:B,email:l,setActiveSection:n,formatDate:ir,notifications:qt,theme:Fe});case"inventario":return i.jsx(q6,{products:y,setActiveSection:n,handleEdit:Bt,handleDelete:ur,getCategoryDisplayName:Q,totalStock:hn,theme:Fe});case"cuentas":return i.jsx(sJ,{soldAccounts:_,formatDate:ir});case"subirProducto":return i.jsx(aJ,{product:U,setProduct:S,handleChange:Ae,handleFileChange:Ze,handleStockChange:vt,handleAccountFieldChange:at,handleSubmit:Tt,setActiveSection:n});case"ganancias":return i.jsx(iJ,{orders:p,totalEarnings:Tr,providerBalance:ee,balanceLoading:re,getCategoryDisplayName:Q,formatDate:ir});case"pedidos":return i.jsx(K6,{orders:p,searchQuery:fe,setSearchQuery:ke,getCategoryDisplayName:Q,formatDate:ir,handleEditOrder:Ir,handleActivateOrder:dn,handleDeleteOrder:cr,theme:Fe});case"recargas":return i.jsx(uJ,{users:be,providerBalance:de.balance||0,handleRecharge:ft,formatDate:ir,theme:Fe,userSearch:Ce,setUserSearch:Re});case"configuracion":return i.jsx(oJ,{accountDetails:de,handleAccountChange:Ve,handleUpdateAccount:Wn});case"soporte":return i.jsx(Y6,{orders:p,setOrders:g,searchQuery:fe,setSearchQuery:ke,getCategoryDisplayName:Q,formatDate:ir,theme:Fe,username:s,email:l,showModal:st});default:return i.jsxs("div",{className:`bg-${Fe==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${Fe==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Vl,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${Fe==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Sección no encontrada"}),i.jsx("p",{className:`text-base ${Fe==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La sección que estás buscando no existe o no está disponible."}),i.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()})},[I,F,Fe,r,s,y,p,ee,re,hn,Tr,B,l,n,ir,Bt,ur,Q,_,U,S,Ae,Ze,vt,at,Tt,fe,ke,Ir,dn,cr,de,Ve,Wn,st,qt,T,Ce,ft]);return E.useEffect(()=>{const be=()=>{De(window.scrollY>300)};return window.addEventListener("scroll",be),()=>window.removeEventListener("scroll",be)},[]),i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${Fe==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${Fe==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(15)].map((be,Se)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Se))})]}),i.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${Fe==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:i.jsxs("div",{className:"p-4 flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("button",{onClick:()=>{Xe("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),i.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:i.jsx(Sn,{className:"text-lg"})})]}),i.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${Fe==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:s.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:`font-medium ${Fe==="dark"?"text-white":"text-gray-900"}`,children:s}),i.jsx("p",{className:`text-xs ${Fe==="dark"?"text-gray-400":"text-gray-600"}`,children:B?"Admin":"Proveedor"})]})]}),i.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:nb},{id:"inventario",label:"Inventario",icon:QU},{id:"cuentas",label:"Cuentas Vendidas",icon:bu},{id:"pedidos",label:"Pedidos",icon:bu},{id:"recargas",label:"Recargas",icon:ii},{id:"ganancias",label:"Ganancias",icon:ii},{id:"subirProducto",label:"Subir Producto",icon:oz},{id:"soporte",label:"Soporte",icon:az},{id:"configuracion",label:"Configuración",icon:Ip}].map(be=>i.jsxs("button",{onClick:()=>{n(be.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===be.id?"bg-blue-100 text-blue-600 border border-blue-300":Fe==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":r===be.id?"page":void 0,children:[i.jsx(be.icon,{className:"text-lg"}),i.jsx("span",{children:be.label})]},be.id))}),i.jsx("div",{className:"mt-auto pt-6",children:i.jsxs("button",{onClick:()=>{we(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${Fe==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[i.jsx(wu,{className:"text-lg"}),i.jsx("span",{children:"Cerrar Sesión"})]})})]})}),i.jsxs("header",{className:`${Fe==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Z.img,{src:tc,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border ${Fe==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:fe,onChange:be=>ke(be.target.value),className:`w-full py-2.5 px-5 ${Fe==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:be=>be.key==="Enter"&&n("pedidos")}),i.jsx("button",{onClick:()=>n("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${Fe==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:i.jsx(vu,{size:18})})]})}),i.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[i.jsx("button",{onClick:St,className:`p-2 rounded-full ${Fe==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${Fe==="dark"?"light":"dark"} theme`,children:Fe==="dark"?i.jsx(Zl,{size:20}):i.jsx(Jl,{size:20})}),i.jsxs("button",{onClick:()=>Vt(!0),className:`p-2 rounded-full relative ${Fe==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${qt.length} new)`,children:[i.jsx(Ml,{size:20}),qt.length>0&&i.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:qt.length})]}),i.jsx("button",{className:`lg:hidden p-2 rounded-full ${Fe==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:i.jsx(jm,{size:20,className:Fe==="dark"?"text-gray-300":"text-gray-600"})}),i.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:i.jsx("div",{className:"relative",children:i.jsxs("button",{className:`flex items-center space-x-2 ${Fe==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:s.charAt(0).toUpperCase()}),i.jsx("span",{className:`text-sm font-semibold ${Fe==="dark"?"text-gray-200":"text-gray-800"}`,children:s})]})})})]})]}),i.jsx($t,{children:pr&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>Vt(!1),role:"dialog","aria-labelledby":"notifications-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${Fe==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${Fe==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:be=>be.stopPropagation(),children:[i.jsx("button",{onClick:()=>Vt(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:i.jsx(Sn,{size:20})}),i.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${Fe==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),qt.length>0?qt.map(be=>i.jsxs("div",{className:`p-4 mb-2 rounded-md ${Fe==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${Fe==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[i.jsx("h3",{className:`font-semibold ${Fe==="dark"?"text-gray-200":"text-gray-800"}`,children:be.title||"Nueva Notificación"}),i.jsx("p",{className:`text-sm ${Fe==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:be.message}),be.roles&&be.roles.length>0&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",be.roles.join(", ")]}),be.timestamp&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ir(be.timestamp)})]},be.id)):i.jsx("p",{className:`text-center ${Fe==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),i.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:yn()}),i.jsxs("footer",{className:`${Fe==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${Fe==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),i.jsxs("p",{className:`text-base sm:text-lg ${Fe==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[i.jsx("a",{href:"https://twitter.com",className:`${Fe==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:i.jsx(Ql,{size:28})}),i.jsx("a",{href:"https://instagram.com",className:`${Fe==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:i.jsx(Xl,{size:28})}),i.jsx("a",{href:"https://facebook.com",className:`${Fe==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:i.jsx(Yl,{size:28})})]}),i.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[i.jsx("a",{href:"#",className:`text-sm ${Fe==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Política de Privacidad"}),i.jsx("a",{href:"#",className:`text-sm ${Fe==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Términos de Servicio"}),i.jsx("a",{href:"#",className:`text-sm ${Fe==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contáctanos"})]})]}),i.jsxs("p",{className:`text-sm ${Fe==="dark"?"text-gray-500":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Hecho con pasión."]})]}),i.jsx($t,{children:Mt&&i.jsx(Z.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:wt,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:i.jsx(Cm,{size:20})})}),i.jsx(nJ,{isOpen:Ee.isOpen,title:Ee.title,message:Ee.message,onClose:gt}),i.jsx(lJ,{editModalOpen:R,setEditModalOpen:M,selectedProduct:A,setSelectedProduct:j,editError:L,setEditError:O,handleFileChange:Ze,handleEditStockChange:Nt,handleEditAccountFieldChange:ot,handleUpdateProduct:Kt}),i.jsx(cJ,{editOrderModalOpen:Be,setEditOrderModalOpen:je,selectedOrder:Me,handleOrderAccountChange:et,editOrderError:yt,setEditOrderError:Wt,handleUpdateOrder:$r}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};X6.propTypes={};const hJ=()=>{const[t,e]=E.useState(""),[r,n]=E.useState(""),[s,a]=E.useState(0),[l,u]=E.useState([]),[d,h]=E.useState([]),[p,g]=E.useState([]),[y,v]=E.useState([]),[_,w]=E.useState([]),[T,D]=E.useState(0),[I,z]=E.useState({day:0,week:0,month:0,total:0}),[F,Y]=E.useState(!0),[U,S]=E.useState(null),[A,j]=E.useState("dark"),R=Ma();E.useEffect(()=>{const O=Kl(tn,fe=>{fe?(n(fe.email||"No especificado"),M(fe.uid),Y(!1)):R("/login")});return()=>O()},[R]);const M=async O=>{try{const fe=ut(Ie,"users",O),ke=await ei(fe);if(ke.exists()){const Ce=ke.data();e(Ce.username||Ce.email.split("@")[0])}else S("Usuario no encontrado en la base de datos")}catch(fe){console.error("Error al obtener el nombre de usuario:",fe),S("Error al cargar datos del usuario")}},L=O=>{const ke=O*5,Ce=ke*.25,Re=ke*.05;z({day:Re,week:Ce,month:ke,total:ke})};return E.useEffect(()=>{(async()=>{try{const ie=await rn(kt(Ie,"users")),de=ie.size,se=ie.docs.map(it=>({id:it.id,...it.data()}));a(de),u(se.slice(-5)),L(de);const B=tr(kt(Ie,"pendingRegistrations"),br("status","==","pending")),te=await rn(B);h(te.docs.map(it=>({id:it.id,...it.data()})));const re=tr(kt(Ie,"pendingTopUps"),br("status","==","pendiente")),ne=await rn(re);g(ne.docs.map(it=>({id:it.id,...it.data()})));const ee=tr(kt(Ie,"withdrawals"),br("status","==","pending")),Le=await rn(ee);v(Le.docs.map(it=>({id:it.id,...it.data()})));const je=(await rn(kt(Ie,"sales"))).docs.map(it=>({id:it.id,...it.data()}));w(je);const Me=je.reduce((it,yt)=>it+(parseFloat(yt.price)||0),0);D(Me)}catch(ie){console.error("Error al obtener datos:",ie),S("Error al cargar datos")}})();const fe=hr(kt(Ie,"users"),ie=>{const de=ie.size,se=ie.docs.map(B=>({id:B.id,...B.data()}));a(de),u(se.slice(-5)),L(de)}),ke=hr(tr(kt(Ie,"pendingRegistrations"),br("status","==","pending")),ie=>{h(ie.docs.map(de=>({id:de.id,...de.data()})))}),Ce=hr(tr(kt(Ie,"pendingTopUps"),br("status","==","pendiente")),ie=>{g(ie.docs.map(de=>({id:de.id,...de.data()})))}),Re=hr(tr(kt(Ie,"withdrawals"),br("status","==","pending")),ie=>{v(ie.docs.map(de=>({id:de.id,...de.data()})))}),Ee=hr(kt(Ie,"sales"),ie=>{const de=ie.docs.map(B=>({id:B.id,...B.data()}));w(de);const se=de.reduce((B,te)=>B+(parseFloat(te.price)||0),0);D(se)});return()=>{fe(),ke(),Ce(),Re(),Ee()}},[]),F?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):U?i.jsxs("div",{className:`bg-${A==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${A==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Vl,{className:"mx-auto text-4xl text-blue-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${A==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),i.jsx("p",{className:`text-base ${A==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:U}),i.jsx("button",{onClick:()=>S(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):i.jsxs("div",{className:`bg-${A==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${A==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h2",{className:`text-2xl sm:text-3xl font-bold ${A==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Bienvenido a BlackStreaming,"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:t})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs("div",{className:`${A==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[i.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[i.jsx(_u,{className:"mr-2"})," Total Usuarios"]}),i.jsx("p",{className:`text-3xl font-bold ${A==="dark"?"text-white":"text-gray-900"}`,children:s}),i.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",onClick:()=>R("/usuarios"),children:"Ver usuarios"})]}),i.jsxs("div",{className:`${A==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[i.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[i.jsx(bu,{className:"mr-2"})," Total Ventas"]}),i.jsxs("p",{className:`text-3xl font-bold ${A==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",T.toFixed(2)]}),i.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",onClick:()=>R("/pedidos"),children:"Ver ventas"})]}),i.jsxs("div",{className:`${A==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[i.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[i.jsx(ii,{className:"mr-2"})," Ganancias del Mes"]}),i.jsxs("p",{className:`text-3xl font-bold ${A==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",I.month.toFixed(2)]}),i.jsx("p",{className:`text-sm ${A==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:"(5 soles por usuario)"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:`${A==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[i.jsx("h3",{className:`text-lg font-semibold ${A==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Últimos Usuarios"}),l.length>0?l.map(O=>i.jsxs("div",{className:`border-b ${A==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${A==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:`font-medium ${A==="dark"?"text-white":"text-gray-900"}`,children:O.username||"Sin nombre"}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${A==="dark"?"bg-blue-900/80 text-blue-400":"bg-blue-100/80 text-blue-600"}`,children:O.role||"usuario"})]}),i.jsx("p",{className:`text-sm ${A==="dark"?"text-gray-400":"text-gray-600"}`,children:O.email})]},O.id)):i.jsx("p",{className:`text-${A==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay usuarios registrados"})]}),i.jsxs("div",{className:`${A==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[i.jsx("h3",{className:`text-lg font-semibold ${A==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Solicitudes Pendientes"}),d.length>0?d.slice(0,3).map(O=>i.jsxs("div",{className:`border-b ${A==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${A==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:`font-medium ${A==="dark"?"text-white":"text-gray-900"}`,children:O.username||"Sin nombre"}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${A==="dark"?"bg-purple-900/80 text-purple-400":"bg-purple-100/80 text-purple-600"}`,children:O.role||"usuario"})]}),i.jsx("p",{className:`text-sm ${A==="dark"?"text-gray-400":"text-gray-600"}`,children:O.email})]},O.id)):i.jsx("p",{className:`text-${A==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay solicitudes pendientes"})]}),i.jsxs("div",{className:`${A==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[i.jsx("h3",{className:`text-lg font-semibold ${A==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Retiros Pendientes"}),y.length>0?y.slice(0,3).map(O=>i.jsxs("div",{className:`border-b ${A==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${A==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("p",{className:`font-medium ${A==="dark"?"text-white":"text-gray-900"}`,children:O.provider||"Sin proveedor"}),i.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${A==="dark"?"bg-yellow-900/80 text-yellow-400":"bg-yellow-100/80 text-yellow-600"}`,children:["S/ ",(O.amount||0).toFixed(2)]})]}),i.jsxs("p",{className:`text-sm ${A==="dark"?"text-gray-400":"text-gray-600"}`,children:["Método: ",O.method||"No especificado"]})]},O.id)):i.jsx("p",{className:`text-${A==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay retiros pendientes"})]})]})]})},fJ=({notificationForm:t={message:"",roles:{user:!1,affiliate:!1,provider:!1,admin:!1}},setNotificationForm:e=()=>{},theme:r="dark"})=>{const[n,s]=E.useState(""),[a,l]=E.useState(""),[u,d]=E.useState(!1),h=t.roles||{user:!1,affiliate:!1,provider:!1,admin:!1},p=Object.values(h).some(y=>y),g=E.useCallback(async y=>{if(y.preventDefault(),!p){s("Selecciona al menos un rol para enviar la notificación");return}if(!t.message.trim()){s("El mensaje de la notificación no puede estar vacío");return}s(""),l(""),d(!0);try{await Do(kt(Ie,"notifications"),{message:t.message.trim(),roles:{user:h.user,affiliate:h.affiliate,provider:h.provider,admin:h.admin},createdAt:wr()}),e({message:"",roles:{user:!1,affiliate:!1,provider:!1,admin:!1}}),l("Notificación enviada exitosamente")}catch(v){s("Error al enviar la notificación. Por favor, intenta de nuevo."),console.error("Error sending notification:",v)}finally{d(!1)}},[t,h,e]);return i.jsxs("div",{className:`bg-${r==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-2xl mx-auto border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Enviar Notificación -"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsxs($t,{children:[n&&i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${r==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:n}),a&&i.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${r==="dark"?"bg-green-900/50 border-green-600/50":"bg-green-100/50 border-green-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-green-600 border-l-4`,role:"alert",children:a})]}),i.jsxs("form",{onSubmit:g,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${r==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Mensaje de la Notificación"}),i.jsx("textarea",{value:t.message||"",onChange:y=>e({...t,message:y.target.value}),className:`w-full px-4 py-2 rounded-xl ${r==="dark"?"bg-gray-800/50 text-gray-200 border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-800 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all resize-y`,rows:"5",placeholder:"Escribe el mensaje para los usuarios...",required:!0,"aria-label":"Mensaje de la notificación"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${r==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Enviar a los siguientes roles"}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:["user","affiliate","provider","admin"].map(y=>i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",checked:h[y]||!1,onChange:v=>e({...t,roles:{...h,[y]:v.target.checked}}),className:`h-4 w-4 ${r==="dark"?"text-blue-400 focus:ring-blue-400 border-gray-600":"text-blue-600 focus:ring-blue-600 border-gray-300"} rounded`,"aria-label":`Enviar a rol ${y}`}),i.jsx("span",{className:`text-sm capitalize ${r==="dark"?"text-gray-300":"text-gray-700"}`,children:y})]},y))})]}),i.jsx(Z.button,{type:"submit",disabled:u||!p,className:`w-full py-3 px-4 ${u||!p?r==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"} text-white rounded-xl font-medium transition-all duration-300`,"aria-label":"Enviar notificación",whileHover:{scale:u||!p?1:1.05},whileTap:{scale:u||!p?1:.95},children:u?i.jsx(Z.div,{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}):"Enviar Notificación"}),!p&&i.jsx("p",{className:`text-sm text-center ${r==="dark"?"text-blue-400":"text-blue-600"}`,children:"Selecciona al menos un rol para enviar la notificación"})]})]})},Q6=[{value:"user",label:"Usuario"},{value:"affiliate",label:"Afiliador"},{value:"provider",label:"Proveedor"},{value:"admin",label:"Administrador"}],pJ=t=>{const e=Q6.find(r=>r.value===t);return e?e.label:t},J6=({isOpen:t,user:e,onClose:r,onSave:n,loading:s,theme:a})=>{const[l,u]=E.useState(e?.balance||0),[d,h]=E.useState("");E.useEffect(()=>{u(e?.balance||0),h("")},[e]);const p=g=>{if(g.preventDefault(),h(""),isNaN(l)||l<0){h("Por favor, ingrese un saldo válido (número no negativo).");return}n(e.id,parseFloat(l))};return!t||!e?null:i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:`bg-${a==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${a==="dark"?"border-gray-800/50":"border-gray-300"}`,children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:`text-xl font-bold ${a==="dark"?"text-white":"text-gray-900"}`,children:["Editar Saldo de ",e.username]}),i.jsx("button",{onClick:r,className:`${a==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar modal",children:"✕"})]}),i.jsxs("form",{onSubmit:p,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:`block text-sm font-medium ${a==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Nuevo Saldo (S/)"}),i.jsx("input",{type:"number",value:l,onChange:g=>u(g.target.value),className:`w-full px-4 py-2 rounded-xl ${a==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,min:"0",step:"0.01",required:!0,"aria-label":"Nuevo saldo"}),d&&i.jsx("p",{className:`text-sm mt-2 ${a==="dark"?"text-blue-400":"text-blue-600"}`,children:d})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 ${a==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"} rounded-xl transition-all duration-300`,"aria-label":"Cancelar",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 ${s?a==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Guardar saldo",children:s?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})};J6.propTypes={isOpen:G.bool.isRequired,user:G.object,onClose:G.func.isRequired,onSave:G.func.isRequired,loading:G.bool,theme:G.oneOf(["dark","light"])};const Z6=({isOpen:t,user:e,onClose:r,onSave:n,loading:s,theme:a})=>{const[l,u]=E.useState(e?.role||"user");return E.useEffect(()=>{u(e?.role||"user")},[e]),!t||!e?null:i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:`bg-${a==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${a==="dark"?"border-gray-800/50":"border-gray-300"}`,children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:`text-xl font-bold ${a==="dark"?"text-white":"text-gray-900"}`,children:["Cambiar Rol de ",e.username]}),i.jsx("button",{onClick:r,className:`${a==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar modal",children:"✕"})]}),i.jsxs("form",{onSubmit:d=>{d.preventDefault(),n(e.id,l)},children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:`block text-sm font-medium ${a==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Nuevo Rol"}),i.jsx("select",{value:l,onChange:d=>u(d.target.value),className:`w-full px-4 py-2 rounded-xl ${a==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,"aria-label":"Seleccionar nuevo rol",children:Q6.map(d=>i.jsx("option",{value:d.value,children:d.label},d.value))})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 ${a==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"} rounded-xl transition-all duration-300`,"aria-label":"Cancelar",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 ${s?a==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Guardar rol",children:s?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})};Z6.propTypes={isOpen:G.bool.isRequired,user:G.object,onClose:G.func.isRequired,onSave:G.func.isRequired,loading:G.bool,theme:G.oneOf(["dark","light"])};const eC=({isOpen:t,user:e,onClose:r,onSave:n,loading:s,theme:a})=>{const[l,u]=E.useState(e?.username||""),[d,h]=E.useState("");E.useEffect(()=>{u(e?.username||""),h("")},[e]);const p=g=>{g.preventDefault(),h("");const y=l.trim();if(!y){h("Por favor, ingrese un nombre de usuario válido.");return}n(e.id,y)};return!t||!e?null:i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:`bg-${a==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${a==="dark"?"border-gray-800/50":"border-gray-300"}`,children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:`text-xl font-bold ${a==="dark"?"text-white":"text-gray-900"}`,children:["Editar Nombre de Usuario de ",e.username]}),i.jsx("button",{onClick:r,className:`${a==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar modal",children:"✕"})]}),i.jsxs("form",{onSubmit:p,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:`block text-sm font-medium ${a==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Nuevo Nombre de Usuario"}),i.jsx("input",{type:"text",value:l,onChange:g=>u(g.target.value),className:`w-full px-4 py-2 rounded-xl ${a==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,required:!0,"aria-label":"Nuevo nombre de usuario"}),d&&i.jsx("p",{className:`text-sm mt-2 ${a==="dark"?"text-blue-400":"text-blue-600"}`,children:d})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 ${a==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"} rounded-xl transition-all duration-300`,"aria-label":"Cancelar",children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 ${s?a==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Guardar nombre de usuario",children:s?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})};eC.propTypes={isOpen:G.bool.isRequired,user:G.object,onClose:G.func.isRequired,onSave:G.func.isRequired,loading:G.bool,theme:G.oneOf(["dark","light"])};const tC=({theme:t="dark"})=>{const[e,r]=E.useState([]),[n,s]=E.useState(""),[a,l]=E.useState({isOpen:!1,user:null}),[u,d]=E.useState({isOpen:!1,user:null}),[h,p]=E.useState({isOpen:!1,user:null}),[g,y]=E.useState(!0),[v,_]=E.useState({}),[w,T]=E.useState(null);E.useEffect(()=>{(async()=>{y(!0);try{const O=await rn(kt(Ie,"users")),fe=await Promise.all(O.docs.map(async ke=>{const Ce={id:ke.id,...ke.data()},Re=tr(kt(Ie,"sales"),br("userId","==",ke.id)),Ee=await rn(Re);return{...Ce,orderCount:Ee.size}}));r(fe)}catch(O){T("No se pudieron obtener los usuarios: "+O.message)}y(!1)})()},[]);const D=L=>l({isOpen:!0,user:L}),I=()=>l({isOpen:!1,user:null}),z=L=>d({isOpen:!0,user:L}),F=()=>d({isOpen:!1,user:null}),Y=L=>p({isOpen:!0,user:L}),U=()=>p({isOpen:!1,user:null}),S=async(L,O)=>{_(fe=>({...fe,[`balance_${L}`]:!0}));try{const fe=ut(Ie,"users",L);await Mr(fe,{balance:O}),r(ke=>ke.map(Ce=>Ce.id===L?{...Ce,balance:O}:Ce)),I()}catch(fe){T("Error al actualizar saldo: "+fe.message)}_(fe=>({...fe,[`balance_${L}`]:!1}))},A=async(L,O)=>{_(fe=>({...fe,[`role_${L}`]:!0}));try{const fe=ut(Ie,"users",L);await Mr(fe,{role:O}),r(ke=>ke.map(Ce=>Ce.id===L?{...Ce,role:O}:Ce)),F()}catch(fe){T("Error al actualizar rol: "+fe.message)}_(fe=>({...fe,[`role_${L}`]:!1}))},j=async(L,O)=>{_(fe=>({...fe,[`username_${L}`]:!0}));try{const fe=ut(Ie,"users",L);await Mr(fe,{username:O}),r(ke=>ke.map(Ce=>Ce.id===L?{...Ce,username:O}:Ce)),U()}catch(fe){T("Error al actualizar nombre de usuario: "+fe.message)}_(fe=>({...fe,[`username_${L}`]:!1}))},R=async(L,O)=>{_(fe=>({...fe,[`status_${L}`]:!0}));try{const fe=ut(Ie,"users",L),ke=O==="suspended"?"active":"suspended";await Mr(fe,{status:ke}),r(Ce=>Ce.map(Re=>Re.id===L?{...Re,status:ke}:Re))}catch(fe){T("Error al cambiar estado: "+fe.message)}_(fe=>({...fe,[`status_${L}`]:!1}))},M=async L=>{_(O=>({...O,[`delete_${L}`]:!0}));try{const O=ut(Ie,"users",L);await Ci(O),r(fe=>fe.filter(ke=>ke.id!==L))}catch(O){T("Error al eliminar usuario: "+O.message)}_(O=>({...O,[`delete_${L}`]:!1}))};return i.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:`bg-${t==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${t==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${t==="dark"?"text-white":"text-gray-900"}`,children:["Lista de"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Usuarios"})," ","(",e.length,")"]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Buscar usuarios...",className:`px-4 py-2 rounded-xl ${t==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400 placeholder-gray-500":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600 placeholder-gray-400"} focus:ring-2 transition-all text-sm`,value:n,onChange:L=>s(L.target.value),"aria-label":"Buscar usuarios"}),i.jsx(vu,{className:`absolute right-3 top-2.5 ${t==="dark"?"text-blue-400":"text-blue-600"}`})]})]}),g?i.jsx("div",{className:"flex justify-center items-center h-40",children:i.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 ${t==="dark"?"border-blue-500":"border-blue-600"}`})}):w?i.jsx("div",{className:`text-center py-4 ${t==="dark"?"text-blue-400":"text-blue-600"}`,children:w}):e.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${t==="dark"?"bg-gray-800/50":"bg-gray-100"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx($l,{})," Usuario"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(yu,{})," Email"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(_u,{})," Rol"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(ii,{})," Saldo"]})}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Órdenes"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Acciones"})]})}),i.jsx("tbody",{className:`${t==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:e.filter(L=>(L.username||"").toLowerCase().includes(n.toLowerCase())||(L.email||"").toLowerCase().includes(n.toLowerCase())).map(L=>i.jsxs("tr",{className:`${L.status==="suspended"?t==="dark"?"bg-red-900/20":"bg-red-100/50":""} hover:bg-${t==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:[i.jsx("span",{children:L.username||"Sin nombre"}),i.jsx("button",{onClick:()=>Y(L),disabled:v[`username_${L.id}`],className:`ml-2 p-1 ${t==="dark"?"bg-blue-700 hover:bg-blue-800 text-blue-200 disabled:bg-blue-900":"bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-300"} rounded-xl transition-all duration-300`,title:"Editar Nombre de Usuario","aria-label":`Editar nombre de usuario de ${L.username}`,children:i.jsx(Xf,{size:14})})]}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:L.email}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t==="dark"?"bg-blue-900/80 text-blue-400":"bg-blue-100/80 text-blue-600"}`,children:pJ(L.role)}),i.jsx("button",{onClick:()=>z(L),disabled:v[`role_${L.id}`],className:`ml-2 p-1 ${t==="dark"?"bg-blue-700 hover:bg-blue-800 text-blue-200 disabled:bg-blue-900":"bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-300"} rounded-xl transition-all duration-300`,title:"Editar Rol","aria-label":`Editar rol de ${L.username}`,children:i.jsx(Xf,{size:14})})]}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(L.balance||0).toFixed(2)]}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:L.orderCount||0}),i.jsxs("td",{className:"px-4 py-4 whitespace-nowrap flex space-x-2",children:[i.jsx("button",{onClick:()=>D(L),disabled:v[`balance_${L.id}`],className:`p-2 ${t==="dark"?"bg-blue-600 hover:bg-blue-700 text-white disabled:bg-blue-800":"bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-300"} rounded-xl transition-all duration-300`,title:"Editar Saldo","aria-label":`Editar saldo de ${L.username}`,children:i.jsx(Xf,{size:16})}),i.jsx("button",{onClick:()=>R(L.id,L.status),disabled:v[`status_${L.id}`],className:`p-2 ${L.status==="suspended"?t==="dark"?"bg-green-600 hover:bg-green-700 text-white disabled:bg-green-800":"bg-green-500 hover:bg-green-600 text-white disabled:bg-green-300":t==="dark"?"bg-yellow-600 hover:bg-yellow-700 text-white disabled:bg-yellow-800":"bg-yellow-500 hover:bg-yellow-600 text-white disabled:bg-yellow-300"} rounded-xl transition-all duration-300`,title:L.status==="suspended"?"Activar Cuenta":"Suspender Cuenta","aria-label":L.status==="suspended"?`Activar cuenta de ${L.username}`:`Suspender cuenta de ${L.username}`,children:L.status==="suspended"?i.jsx(ZU,{size:16}):i.jsx(XU,{size:16})}),i.jsx("button",{onClick:()=>M(L.id),disabled:v[`delete_${L.id}`],className:`p-2 ${t==="dark"?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-800":"bg-red-500 hover:bg-red-600 text-white disabled:bg-red-300"} rounded-xl transition-all duration-300`,title:"Eliminar Cuenta","aria-label":`Eliminar cuenta de ${L.username}`,children:i.jsx(ab,{size:16})})]})]},L.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(_u,{className:`mx-auto text-4xl ${t==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("p",{className:`${t==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay usuarios registrados"})]})]}),i.jsx(J6,{isOpen:a.isOpen,user:a.user,onClose:I,onSave:S,loading:v[`balance_${a.user?.id}`],theme:t}),i.jsx(Z6,{isOpen:u.isOpen,user:u.user,onClose:F,onSave:A,loading:v[`role_${u.user?.id}`],theme:t}),i.jsx(eC,{isOpen:h.isOpen,user:h.user,onClose:U,onSave:j,loading:v[`username_${h.user?.id}`],theme:t})]})};tC.propTypes={theme:G.oneOf(["dark","light"])};const rC=({isOpen:t,message:e,title:r,onClose:n})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:r}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(Sn,{size:20})})]}),i.jsx("p",{className:"text-gray-300 mb-6",children:e}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null;rC.propTypes={isOpen:G.bool.isRequired,message:G.string.isRequired,title:G.string.isRequired,onClose:G.func.isRequired};const nC=({formatDate:t=r=>{if(!r)return"No especificada";try{const n=r.toDate?r.toDate():new Date(r);return isNaN(n.getTime())?"Fecha inválida":n.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},theme:e="dark"})=>{const[r,n]=E.useState([]),[s,a]=E.useState([]),[l,u]=E.useState({}),[d,h]=E.useState({isOpen:!1,message:"",title:""}),p=(_,w)=>{h({isOpen:!0,title:_,message:w})},g=()=>{h({isOpen:!1,message:"",title:""})};E.useEffect(()=>{const _=hr(tr(kt(Ie,"pendingTopUps"),br("status","==","pendiente")),T=>{n(T.docs.map(D=>({id:D.id,...D.data()})))}),w=hr(kt(Ie,"topUpsHistory"),T=>{a(T.docs.map(D=>({id:D.id,...D.data()})))});return()=>{_(),w()}},[]);const y=async _=>{try{u(I=>({...I,[_]:!0}));const w=ut(Ie,"pendingTopUps",_),T=r.find(I=>I.id===_);if(!T?.userId)throw new Error("Usuario no encontrado para la recarga");await Mr(w,{status:"aprobado",updatedAt:wr()});const D=ut(Ie,"users",T.userId);await Mr(D,{balance:nO(T.amount||0)}),await ui(ut(Ie,"topUpsHistory",_),{...T,status:"aprobado",updatedAt:wr()}),p("Éxito","Recarga aprobada exitosamente")}catch(w){console.error("Error al aprobar recarga:",w),p("Error",w.message||"Error al aprobar la recarga")}finally{u(w=>({...w,[_]:!1}))}},v=async _=>{try{u(D=>({...D,[_]:!0}));const w=ut(Ie,"pendingTopUps",_);await Mr(w,{status:"rechazado",updatedAt:wr()});const T=r.find(D=>D.id===_);await ui(ut(Ie,"topUpsHistory",_),{...T,status:"rechazado",updatedAt:wr()}),p("Éxito","Recarga rechazada exitosamente")}catch(w){console.error("Error al rechazar recarga:",w),p("Error",w.message||"Error al rechazar la recarga")}finally{u(w=>({...w,[_]:!1}))}};return i.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:`bg-${e==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${e==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${e==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Recargas"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Pendientes - BlackStreaming"})]}),Array.isArray(r)&&r.length>0?i.jsx("div",{className:"space-y-4",children:r.map(_=>i.jsxs("div",{className:`border ${e==="dark"?"border-gray-600/50":"border-gray-300"} rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300`,children:[i.jsxs("div",{className:`${e==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm px-4 py-3 border-b ${e==="dark"?"border-gray-600/50":"border-gray-300"} flex justify-between items-center`,children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`w-10 h-10 ${e==="dark"?"bg-blue-900/80":"bg-blue-100/80"} rounded-full flex items-center justify-center ${e==="dark"?"text-blue-400":"text-blue-600"}`,children:i.jsx(ii,{size:18})}),i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold ${e==="dark"?"text-white":"text-gray-900"}`,children:_.username||"Sin nombre"}),i.jsxs("p",{className:`text-xs ${e==="dark"?"text-gray-400":"text-gray-600"}`,children:["Solicitado: ",t(_.requestedAt)]})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:`text-lg font-medium ${e==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(_.amount||0).toFixed(2)]})})]}),i.jsx("div",{className:`p-4 ${e==="dark"?"bg-gray-700/50":"bg-gray-50"} backdrop-blur-sm`,children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx("button",{onClick:()=>y(_.id),disabled:l[_.id],className:`flex-1 ${e==="dark"?"bg-green-600 hover:bg-green-700 disabled:bg-green-800":"bg-green-500 hover:bg-green-600 disabled:bg-green-300"} text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300`,"aria-label":`Aprobar recarga de ${_.username}`,children:l[_.id]?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):i.jsxs(i.Fragment,{children:[i.jsx(ez,{size:18})," Aprobar Recarga"]})}),i.jsx("button",{onClick:()=>v(_.id),disabled:l[_.id],className:`flex-1 ${e==="dark"?"bg-red-600 hover:bg-red-700 disabled:bg-red-800":"bg-red-500 hover:bg-red-600 disabled:bg-red-300"} text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300`,"aria-label":`Rechazar recarga de ${_.username}`,children:l[_.id]?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):i.jsxs(i.Fragment,{children:[i.jsx(Sn,{size:18})," Rechazar Recarga"]})})]})})]},_.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ii,{className:`mx-auto text-4xl ${e==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("h4",{className:`text-lg font-medium ${e==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay recargas pendientes"}),i.jsx("p",{className:`${e==="dark"?"text-gray-400":"text-gray-500"}`,children:"Todas las solicitudes han sido procesadas"})]})]}),i.jsxs("div",{className:`bg-${e==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${e==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${e==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Historial de"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Recargas - BlackStreaming"})]}),Array.isArray(s)&&s.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${e==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Usuario"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Monto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"})]})}),i.jsx("tbody",{className:`${e==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:s.map(_=>i.jsxs("tr",{className:`hover:bg-${e==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-white":"text-gray-900"}`,children:_.username||"Sin nombre"}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(_.amount||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${_.status==="aprobado"?e==="dark"?"bg-green-900/80 text-green-400":"bg-green-100/80 text-green-600":e==="dark"?"bg-red-900/80 text-red-400":"bg-red-100/80 text-red-600"}`,children:_.status||"Desconocido"})}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-gray-300":"text-gray-600"}`,children:t(_.updatedAt)})]},_.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ii,{className:`mx-auto text-4xl ${e==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("p",{className:`${e==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay historial de recargas"})]})]}),i.jsx(rC,{isOpen:d.isOpen,title:d.title,message:d.message,onClose:g})]})};nC.propTypes={formatDate:G.func,theme:G.oneOf(["dark","light"])};const mJ=({withdrawals:t,formatDate:e,actionLoading:r,setActionLoading:n,showNotificationModal:s})=>{const a=async(l,u)=>{try{n(h=>({...h,[l]:!0}));const d=ut(Ie,"withdrawals",l);await Mr(d,{status:u==="approve"?"completed":"rejected",updatedAt:wr()}),s("Éxito",`Retiro ${u==="approve"?"aprobado":"rechazado"} exitosamente`)}catch(d){s("Error",d.message||`Error al ${u==="approve"?"aprobar":"rechazar"} el retiro`)}finally{n(d=>({...d,[l]:!1}))}};return i.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[i.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Retiros ",i.jsx("span",{className:"text-red-400",children:"Pendientes"})]}),t.length===0?i.jsxs("div",{className:"text-center text-gray-300 py-8",children:[i.jsx(zs,{className:"mx-auto text-4xl text-red-400 mb-4"}),i.jsx("p",{children:"No hay retiros pendientes"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-gray-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-600/50",children:[i.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Usuario"}),i.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Monto"}),i.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Fecha"}),i.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Acciones"})]})}),i.jsx("tbody",{children:t.map(l=>i.jsxs("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30 transition-all duration-300",children:[i.jsx("td",{className:"py-3 px-4",children:l.userEmail||"No especificado"}),i.jsxs("td",{className:"py-3 px-4",children:["S/ ",l.amount?.toFixed(2)||"0.00"]}),i.jsx("td",{className:"py-3 px-4",children:e(l.createdAt)}),i.jsxs("td",{className:"py-3 px-4 flex space-x-2",children:[i.jsxs("button",{onClick:()=>a(l.id,"approve"),disabled:r[l.id],className:`px-3 py-1 rounded-xl text-white flex items-center space-x-1 transition-all duration-300 ${r[l.id]?"bg-gray-600 cursor-not-allowed":"bg-green-500 hover:bg-green-600"}`,children:[i.jsx(uz,{}),i.jsx("span",{children:"Aprobar"})]}),i.jsxs("button",{onClick:()=>a(l.id,"reject"),disabled:r[l.id],className:`px-3 py-1 rounded-xl text-white flex items-center space-x-1 transition-all duration-300 ${r[l.id]?"bg-gray-600 cursor-not-allowed":"bg-red-500 hover:bg-red-600"}`,children:[i.jsx(Gs,{}),i.jsx("span",{children:"Rechazar"})]})]})]},l.id))})]})})]})},sC=({sales:t=[],totalSales:e=0,formatDate:r=a=>"No especificada",getOrderStatus:n=()=>"Desconocido",theme:s="dark"})=>{const[a,l]=E.useState({}),[u,d]=E.useState(null),h=async p=>{l(g=>({...g,[`delete_${p}`]:!0}));try{const g=ut(Ie,"sales",p);await Ci(g),window.dispatchEvent(new CustomEvent("saleDeleted",{detail:{saleId:p}}))}catch(g){d("Error al eliminar pedido: "+g.message)}l(g=>({...g,[`delete_${p}`]:!1}))};return i.jsxs("div",{className:`bg-${s==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${s==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Ventas"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"General - BlackStreaming"})]}),i.jsxs("div",{className:`${s==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-6 text-center mb-6 border ${s==="dark"?"border-gray-600/50":"border-gray-300"}`,children:[i.jsx("h4",{className:`text-lg font-semibold ${s==="dark"?"text-blue-400":"text-blue-600"} mb-2`,children:"Total Ventas"}),i.jsxs("p",{className:`text-3xl font-bold ${s==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",e.toFixed(2)]}),i.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-600"} mt-2`,children:"Suma de todos los pedidos realizados"})]}),i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${s==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Historial de"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Pedidos - BlackStreaming"})]}),u&&i.jsx("div",{className:`text-center py-4 ${s==="dark"?"text-blue-400":"text-blue-600"}`,children:u}),t.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[i.jsx("thead",{className:`${s==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Nombre del Producto"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Precio"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Proveedor"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Usuario Comprador"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Acciones"})]})}),i.jsx("tbody",{className:`${s==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:t.map(p=>i.jsxs("tr",{className:`hover:bg-${s==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-white":"text-gray-900"}`,children:p.productName||"Sin nombre"}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(p.price||0).toFixed(2)]}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:p.provider||"Sin proveedor"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:p.buyerName||"Sin comprador"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:r(p.createdAt)}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${n(p)==="Pendiente"?s==="dark"?"bg-yellow-900/80 text-yellow-400":"bg-yellow-100/80 text-yellow-600":n(p)==="Activo"?s==="dark"?"bg-green-900/80 text-green-400":"bg-green-100/80 text-green-600":s==="dark"?"bg-red-900/80 text-red-400":"bg-red-100/80 text-red-600"}`,children:n(p)})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("button",{onClick:()=>h(p.id),disabled:a[`delete_${p.id}`],className:`p-2 ${s==="dark"?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-800":"bg-red-500 hover:bg-red-600 text-white disabled:bg-red-300"} rounded-xl transition-all duration-300`,title:"Eliminar Pedido","aria-label":`Eliminar pedido ${p.productName||"sin nombre"}`,children:a[`delete_${p.id}`]?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):i.jsx(ab,{size:16})})})]},p.id))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(bu,{className:`mx-auto text-4xl ${s==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),i.jsx("p",{className:`${s==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay pedidos registrados"})]})]})};sC.propTypes={sales:G.array,totalSales:G.number,formatDate:G.func,getOrderStatus:G.func,theme:G.oneOf(["dark","light"])};const aC=({earnings:t={day:0,week:0,month:0,total:0},totalUsers:e=0,theme:r="dark"})=>i.jsxs("div",{className:`bg-${r==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Ganancias -"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[i.jsx(Pd,{className:"mr-2","aria-hidden":"true"})," Ganancias Diarias"]}),i.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias diarias",children:["S/ ",(t.day||0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por día"})]}),i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[i.jsx(Pd,{className:"mr-2","aria-hidden":"true"})," Ganancias Semanales"]}),i.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias semanales",children:["S/ ",(t.week||0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por semana"})]}),i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[i.jsx(Pd,{className:"mr-2","aria-hidden":"true"})," Ganancias Mensuales"]}),i.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias mensuales",children:["S/ ",(t.month||0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por mes"})]}),i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[i.jsx(Pd,{className:"mr-2","aria-hidden":"true"})," Ganancias Totales"]}),i.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias totales",children:["S/ ",(t.total||0).toFixed(2)]}),i.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Total acumulado"})]})]}),i.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[i.jsx("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2`,children:"Resumen"}),i.jsxs("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"}`,children:["Total de usuarios registrados:"," ",i.jsx("span",{className:`font-medium ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Total de usuarios registrados",children:e})]}),i.jsxs("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:["Ganancia por usuario:"," ",i.jsx("span",{className:`font-medium ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancia por usuario",children:"S/ 5.00"})]}),i.jsx("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Las ganancias se calculan asumiendo S/ 5.00 por cada usuario registrado. Las estimaciones diarias y semanales son proporciones del total (5% y 25%, respectivamente)."})]})]});aC.propTypes={earnings:G.shape({day:G.number,week:G.number,month:G.number,total:G.number}),totalUsers:G.number,theme:G.oneOf(["dark","light"])};const iC=({userName:t="",setUserName:e=()=>{},email:r="",handleSaveChanges:n=()=>{},handleLogout:s=()=>{},actionLoading:a={},theme:l="dark"})=>i.jsxs("div",{className:`bg-${l==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-2xl mx-auto border ${l==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${l==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Configuración -"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsxs("form",{onSubmit:n,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${l==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[i.jsx($l,{className:`mr-2 ${l==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Nombre de usuario"]}),i.jsx("input",{type:"text",value:t,onChange:u=>e(u.target.value),className:`w-full px-4 py-2 rounded-xl ${l==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,placeholder:"Ingresa tu nombre de usuario",required:!0,"aria-label":"Nombre de usuario"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${l==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[i.jsx(yu,{className:`mr-2 ${l==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Correo electrónico"]}),i.jsx("input",{type:"email",value:r,disabled:!0,className:`w-full px-4 py-2 rounded-xl ${l==="dark"?"bg-gray-700/50 text-gray-400 border-gray-600/50":"bg-gray-100 text-gray-500 border-gray-300"} cursor-not-allowed`,"aria-label":"Correo electrónico (solo lectura)"}),i.jsx("p",{className:`text-sm ${l==="dark"?"text-gray-400":"text-gray-500"} mt-1`,children:"El correo no puede ser modificado."})]}),i.jsxs("div",{children:[i.jsxs("label",{className:`block text-sm font-medium ${l==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[i.jsx(sb,{className:`mr-2 ${l==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Nueva contraseña (opcional)"]}),i.jsx("input",{type:"password",name:"password",className:`w-full px-4 py-2 rounded-xl ${l==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,placeholder:"Ingresa una nueva contraseña","aria-label":"Nueva contraseña"}),i.jsx("p",{className:`text-sm ${l==="dark"?"text-gray-400":"text-gray-500"} mt-1`,children:"Mínimo 6 caracteres. Déjalo en blanco para no cambiarla."})]}),i.jsx("button",{type:"submit",disabled:a.config,className:`w-full py-3 px-4 ${l==="dark"?"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-800":"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300"} text-white rounded-xl font-medium transition-all duration-300`,"aria-label":"Guardar cambios",children:a.config?i.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar Cambios"})]}),i.jsx("div",{className:"mt-6",children:i.jsxs("button",{onClick:s,className:`w-full py-3 px-4 ${l==="dark"?"bg-red-600 hover:bg-red-700 disabled:bg-red-800":"bg-red-500 hover:bg-red-600 disabled:bg-red-300"} text-white rounded-xl font-medium transition-all duration-300 flex items-center justify-center gap-2`,"aria-label":"Cerrar sesión",children:[i.jsx(wu,{size:18})," Cerrar Sesión"]})})]});iC.propTypes={userName:G.string,setUserName:G.func,email:G.string,handleSaveChanges:G.func,handleLogout:G.func,actionLoading:G.object,theme:G.oneOf(["dark","light"])};const oC=({isOpen:t,message:e,title:r,onClose:n,theme:s="dark"})=>t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:`bg-${s==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${s==="dark"?"border-gray-800/50":"border-gray-300"}`,children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:`text-xl font-bold ${s==="dark"?"text-white":"text-gray-900"}`,children:[r||"Notificación"," -"," ",i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsx("button",{onClick:n,className:`${s==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar notificación",children:i.jsx(Sn,{size:20})})]}),i.jsx("p",{className:`mb-6 ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:e||"No se proporcionó ningún mensaje."}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:n,className:`px-4 py-2 ${s==="dark"?"bg-blue-500 hover:bg-blue-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Aceptar notificación",children:"Aceptar"})})]})})}):null;oC.propTypes={isOpen:G.bool.isRequired,message:G.string,title:G.string,onClose:G.func.isRequired,theme:G.oneOf(["dark","light"])};const gJ=({isOpen:t,user:e,onClose:r,onSave:n})=>{const[s,a]=E.useState(e?.balance||0),[l,u]=E.useState(""),d=h=>{if(h.preventDefault(),u(""),isNaN(s)||s<0){u("Por favor, ingrese un saldo válido (número no negativo).");return}n(e.id,parseFloat(s))};return t?i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:"text-xl font-bold text-white",children:["Editar Saldo de ",e.username]}),i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-all duration-300",children:i.jsx(Gs,{size:20})})]}),i.jsxs("form",{onSubmit:d,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuevo Saldo (S/)"}),i.jsx("input",{type:"number",value:s,onChange:h=>a(h.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",min:"0",step:"0.01",required:!0}),l&&i.jsx("p",{className:"text-red-400 text-sm mt-2",children:l})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},lC=({theme:t,products:e,setProducts:r,loadingProducts:n,searchQuery:s,setSearchQuery:a,handleDeleteProduct:l})=>{const u=t==="dark",[d,h]=E.useState(null),[p,g]=E.useState(""),y=e.filter(_=>_.name?.toLowerCase().includes(s.toLowerCase())||_.category?.toLowerCase().includes(s.toLowerCase())),v=async(_,w)=>{if(!w.trim()){h(null);return}try{const T=ut(Ie,"products",_);await Mr(T,{provider:w.trim()}),r(D=>D.map(I=>I.id===_?{...I,provider:w.trim()}:I)),h(null)}catch(T){console.error("Error updating provider:",T)}};return n?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i.jsxs(Z.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[i.jsx("h3",{className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Gestión de Productos"}),i.jsx("div",{className:"relative w-full sm:w-64 mt-4 sm:mt-0",children:i.jsx("input",{type:"text",placeholder:"Buscar productos...",value:s,onChange:_=>a(_.target.value),className:`w-full px-3 py-2 rounded-xl ${u?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 text-sm placeholder-gray-500`,"aria-label":"Search products"})})]}),y.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[i.jsx("thead",{className:`backdrop-blur-sm ${u?"bg-gray-900/80":"bg-gray-200/80"}`,children:i.jsxs("tr",{children:[i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Imagen"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Nombre"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Categoría"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Tipo"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Proveedor"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Estado"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Stock"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Precio"}),i.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Acciones"})]})}),i.jsx("tbody",{className:`divide-y divide-gray-700/50 ${u?"bg-gray-800/70":"bg-gray-100/70"}`,children:y.map((_,w)=>i.jsxs("tr",{className:"hover:bg-blue-500/10 transition-all duration-300",children:[i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:_.image?i.jsx("img",{src:_.image,alt:_.name,className:"h-12 w-12 rounded-lg object-cover",loading:"lazy"}):i.jsx("div",{className:"h-12 w-12 bg-gray-300 rounded-lg flex items-center justify-center",children:i.jsx(Jy,{className:"text-gray-500",size:20})})}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${u?"text-white":"text-gray-900"}`,children:_.name||"Sin nombre"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-600"}`,children:_.category||"Sin categoría"}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-600"}`,children:_.accountType||"N/A"}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:d===_.id?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"text",value:p,onChange:T=>g(T.target.value),onBlur:()=>v(_.id,p),onKeyDown:T=>{T.key==="Enter"&&v(_.id,p),T.key==="Escape"&&(h(null),g(""))},className:`flex-1 px-2 py-1 rounded border focus:outline-none focus:ring-2 focus:ring-blue-400 ${u?"bg-gray-700/80 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"}`,autoFocus:!0}),i.jsx("button",{onClick:()=>{h(null),g("")},className:`p-1 rounded-full ${u?"text-gray-400 hover:bg-gray-600/50":"text-gray-500 hover:bg-gray-200"} transition-all duration-200`,"aria-label":"Cancelar edición",children:i.jsx(Sn,{size:12})})]}):i.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-100/50 rounded p-1",onClick:()=>{h(_.id),g(_.provider||"")},children:[i.jsx("span",{className:`text-sm ${u?"text-gray-300":"text-gray-600"}`,children:_.provider||"Sin proveedor"}),i.jsx(Xf,{size:12,className:`${u?"text-gray-500":"text-gray-400"}`})]})}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${_.status==="En stock"?"bg-green-500/20 text-green-400 border-green-500/50":_.status==="A pedido"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/50":"bg-red-500/20 text-red-400 border-red-500/50"} border`,children:_.status||"Desconocido"})}),i.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-600"}`,children:_.stock!=null?_.stock:"0"}),i.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-white":"text-gray-900"}`,children:["S/ ",parseFloat(_.price||0).toFixed(2)]}),i.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:i.jsx("button",{onClick:()=>l(_.id),className:`p-2 rounded-full ${u?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-red-100 text-red-600 hover:bg-red-200"} transition-all duration-300`,title:"Eliminar producto","aria-label":`Eliminar producto ${_.name}`,children:i.jsx(ab,{size:14})})})]},_.id||w))})]})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Jy,{className:`mx-auto text-4xl ${u?"text-gray-400":"text-gray-500"} mb-3`}),i.jsx("h4",{className:`text-lg font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"No hay productos registrados"}),i.jsx("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:"Los productos aparecerán aquí cuando los agregues."})]})]})};lC.propTypes={theme:G.string.isRequired,products:G.array.isRequired,setProducts:G.func.isRequired,loadingProducts:G.bool.isRequired,searchQuery:G.string.isRequired,setSearchQuery:G.func.isRequired,handleDeleteProduct:G.func.isRequired};const xJ=Ia.memo(({show:t,onClose:e,title:r,message:n,theme:s})=>i.jsx($t,{children:t&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${s==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:i.jsx(Sn,{size:20})}),i.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${s==="dark"?"text-white":"text-gray-900"}`,children:r}),i.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));xJ.propTypes={show:G.bool.isRequired,onClose:G.func.isRequired,title:G.string.isRequired,message:G.string.isRequired,theme:G.string.isRequired};const cC=()=>{const[t,e]=E.useState(!1),[r,n]=E.useState("inicio"),[s,a]=E.useState(""),[l,u]=E.useState(""),[d,h]=E.useState([]),[p,g]=E.useState([]),[y,v]=E.useState([]),[_,w]=E.useState([]),[T,D]=E.useState([]),[I,z]=E.useState([]),[F,Y]=E.useState(0),[U,S]=E.useState(0),[A,j]=E.useState(0),[R,M]=E.useState(0),[L,O]=E.useState({day:0,week:0,month:0,total:0}),[fe,ke]=E.useState(!0),[Ce,Re]=E.useState(!0),[Ee,ie]=E.useState(null),[de,se]=E.useState({}),[B,te]=E.useState({isOpen:!1,message:"",title:""}),[re,ne]=E.useState({isOpen:!1,user:null}),[ee,Le]=E.useState("dark"),[Be,je]=E.useState(!1),[Me,it]=E.useState(!1),[yt,Wt]=E.useState(""),[Fe,fr]=E.useState(""),Mt=Ma(),De=E.useCallback(()=>{Le(Q=>Q==="dark"?"light":"dark")},[]),pr=E.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),Vt=E.useCallback((Q,Ne)=>{te({isOpen:!0,title:Q,message:Ne})},[]),qt=E.useCallback(()=>{te({isOpen:!1,message:"",title:""})},[]),le=E.useCallback(Q=>{ne({isOpen:!0,user:Q})},[]),Xe=E.useCallback(()=>{ne({isOpen:!1,user:null})},[]),ct=E.useCallback(Q=>{if(!Q)return"No especificada";try{const Ne=Q instanceof Date?Q:new Date(Q);return isNaN(Ne.getTime())?"Fecha inválida":Ne.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},[]),dt=E.useCallback(async Q=>{if(window.confirm("¿Estás seguro de que quieres eliminar este producto?"))try{se(Ne=>({...Ne,deleteProduct:!0})),await Ci(ut(Ie,"products",Q)),Vt("Éxito","Producto eliminado correctamente")}catch(Ne){console.error("Error al eliminar producto:",Ne),Vt("Error",Ne.message||"Error al eliminar el producto")}finally{se(Ne=>({...Ne,deleteProduct:!1}))}},[Vt]),St=E.useCallback(async(Q,Ne)=>{try{se(we=>({...we,balance:!0}));const ft=ut(Ie,"users",Q);await Mr(ft,{balance:Ne,updatedAt:wr()}),Vt("Éxito","Saldo actualizado exitosamente"),Xe()}catch(ft){console.error("Error al actualizar saldo:",ft),Vt("Error",ft.message||"Error al actualizar el saldo")}finally{se(ft=>({...ft,balance:!1}))}},[Vt,Xe]),wt=E.useCallback(async Q=>{Q.preventDefault();try{se(Ae=>({...Ae,config:!0}));const Ne=Q.target.password.value,ft=ut(Ie,"users",tn.currentUser.uid),we={username:s,updatedAt:wr()};if(Ne){if(Ne.length<6){Vt("Error","La contraseña debe tener al menos 6 caracteres");return}await y1(tn.currentUser,Ne)}await Mr(ft,we),Vt("Éxito","Cambios guardados correctamente"),Q.target.reset()}catch(Ne){console.error("Error al guardar cambios:",Ne),Vt("Error",Ne.message||"Error al guardar los cambios")}finally{se(Ne=>({...Ne,config:!1}))}},[s,Vt]),st=E.useCallback(async()=>{try{await z0(tn),Mt("/")}catch(Q){console.error("Error al cerrar sesión:",Q),Vt("Error",Q.message||"Error al cerrar sesión")}},[Mt,Vt]);E.useEffect(()=>{const Q=Kl(tn,Ne=>{Ne?(u(Ne.email||"No especificado"),ke(!1)):Mt("/login")});return()=>Q()},[Mt]),E.useEffect(()=>{if(!tn.currentUser)return;const Q=ut(Ie,"users",tn.currentUser.uid),Ne=hr(Q,ft=>{if(ft.exists()){const we=ft.data();a(we.username||"Admin")}else ie("Usuario no encontrado")},ft=>{console.error("Error al cargar datos del usuario:",ft),ie("Error al cargar datos del usuario: "+ft.message)});return()=>Ne()},[]),E.useEffect(()=>{const Q=kt(Ie,"users"),Ne=kt(Ie,"sales"),ft=tr(kt(Ie,"pendingTopUps"),br("status","==","pendiente")),we=tr(kt(Ie,"withdrawals"),br("status","==","pendiente")),Ae=tr(kt(Ie,"products"),o1("createdAt","desc")),Ve=hr(Q,ot=>{const et=ot.docs.map(Tt=>({id:Tt.id,...Tt.data()}));h(et),Y(et.length)},ot=>{console.error("Error al cargar usuarios:",ot),ie("Error al cargar usuarios: "+ot.message)}),Ze=hr(Ne,ot=>{const et=ot.docs.map(Bt=>({id:Bt.id,...Bt.data()}));g(et);const Tt=et.reduce((Bt,Kt)=>Bt+(parseFloat(Kt.price)||0),0);S(Tt)},ot=>{console.error("Error al cargar ventas:",ot),ie("Error al cargar ventas: "+ot.message)}),vt=hr(ft,ot=>{const et=ot.docs.map(Tt=>({id:Tt.id,...Tt.data(),date:Tt.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(Tt.data().amount)||0}));v(et),j(et.length)},ot=>{console.error("Error al cargar recargas:",ot),ie("Error al cargar recargas: "+ot.message)}),Nt=hr(we,ot=>{const et=ot.docs.map(Tt=>({id:Tt.id,...Tt.data(),date:Tt.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(Tt.data().amount)||0}));w(et),M(et.length)},ot=>{console.error("Error al cargar retiros:",ot),ie("Error al cargar retiros: "+ot.message)}),at=hr(Ae,ot=>{const et=ot.docs.map(Tt=>({id:Tt.id,...Tt.data(),createdAt:Tt.data().createdAt?.toDate?.()||new Date}));D(et),Re(!1)},ot=>{console.error("Error al cargar productos:",ot),ie("Error al cargar productos: "+ot.message),Re(!1)});return()=>{Ve(),Ze(),vt(),Nt(),at()}},[]),E.useEffect(()=>{const Q=hr(ut(Ie,"notifications","adminMessage"),Ne=>{if(Ne.exists()){const ft=Ne.data();z([{id:Ne.id,...ft,timestamp:ft.updatedAt?.toDate()}])}else z([])},Ne=>{console.error("Error al cargar notificaciones:",Ne),ie("Error al cargar notificaciones: "+Ne.message)});return()=>Q()},[]),E.useEffect(()=>{const Q=F*5;O({day:Q*.05,week:Q*.25,month:Q,total:Q})},[F]),E.useEffect(()=>{const Q=()=>{je(window.scrollY>300)};return window.addEventListener("scroll",Q),()=>window.removeEventListener("scroll",Q)},[]);const gt=E.useCallback(Q=>{const Ne=Q.endDate?.toDate?.()||new Date,ft=new Date;return Q.status==="pending"?"Pendiente":Ne>ft&&Q.status==="completed"?"Activo":"Expirado"},[]),ir=E.useCallback(()=>fe?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):Ee?i.jsxs("div",{className:`bg-${ee==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${ee==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Vl,{className:"mx-auto text-4xl text-blue-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${ee==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),i.jsx("p",{className:`text-base ${ee==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:Ee}),i.jsx("button",{onClick:()=>ie(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):i.jsx("div",{className:`bg-${ee==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 lg:p-10 rounded-2xl shadow-md max-w-6xl mx-auto border ${ee==="dark"?"border-gray-700/50":"border-gray-300"} w-full`,children:(()=>{switch(r){case"inicio":return i.jsx(hJ,{totalUsers:F,totalSales:U,pendingTopUps:A,pendingWithdrawals:R});case"notificaciones":return i.jsx(fJ,{notifications:I,formatDate:ct});case"usuarios":return i.jsx(tC,{users:d,openEditBalanceModal:le});case"recargas":return i.jsx(nC,{topUps:y,formatDate:ct,actionLoading:de,setActionLoading:se,showNotificationModal:Vt});case"retiros":return i.jsx(mJ,{withdrawals:_,formatDate:ct,actionLoading:de,setActionLoading:se,showNotificationModal:Vt});case"pedidos":return i.jsx(sC,{sales:p,totalSales:U,formatDate:ct,getOrderStatus:gt});case"productos":return i.jsx(lC,{theme:ee,products:T,setProducts:D,loadingProducts:Ce,searchQuery:Fe,setSearchQuery:fr,handleDeleteProduct:dt});case"ganancias":return i.jsx(aC,{earnings:L,totalUsers:F});case"configuracion":return i.jsx(iC,{userName:s,setUserName:a,email:l,handleSaveChanges:wt,handleLogout:st,actionLoading:de});default:return i.jsxs("div",{className:`bg-${ee==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${ee==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[i.jsx(Vl,{className:"mx-auto text-4xl text-blue-400 mb-4"}),i.jsx("h3",{className:`text-xl font-bold ${ee==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Sección no encontrada"}),i.jsx("p",{className:`text-base ${ee==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La sección que estás buscando no existe o no está disponible."}),i.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()}),[fe,Ee,ee,r,F,U,A,R,I,ct,d,le,y,de,Vt,_,p,gt,L,s,a,l,wt,st,T,Ce,Fe,dt]);return i.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${ee==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${ee==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),i.jsx("div",{className:"particles",children:[...Array(15)].map((Q,Ne)=>i.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Ne))})]}),i.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${ee==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:i.jsxs("div",{className:"p-4 flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("button",{onClick:()=>{Mt("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),i.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:i.jsx(Sn,{className:"text-lg"})})]}),i.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${ee==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:s.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:`font-medium ${ee==="dark"?"text-white":"text-gray-900"}`,children:s}),i.jsx("p",{className:`text-xs ${ee==="dark"?"text-gray-400":"text-gray-600"}`,children:"Administrador"})]})]}),i.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:nb},{id:"notificaciones",label:"Notificaciones",icon:Ml},{id:"usuarios",label:"Usuarios",icon:_u},{id:"recargas",label:"Recargas",icon:ii},{id:"retiros",label:"Retiros",icon:ii},{id:"pedidos",label:"Pedidos",icon:bu},{id:"productos",label:"Productos",icon:Jy},{id:"ganancias",label:"Ganancias",icon:Pd},{id:"configuracion",label:"Configuración",icon:nz}].map(Q=>i.jsxs("button",{onClick:()=>{n(Q.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===Q.id?"bg-blue-100 text-blue-600 border border-blue-300":ee==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":r===Q.id?"page":void 0,children:[i.jsx(Q.icon,{className:"text-lg"}),i.jsx("span",{children:Q.label})]},Q.id))}),i.jsx("div",{className:"mt-auto pt-6",children:i.jsxs("button",{onClick:()=>{st(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${ee==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[i.jsx(wu,{className:"text-lg"}),i.jsx("span",{children:"Cerrar Sesión"})]})})]})}),i.jsxs("header",{className:`${ee==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Z.img,{src:tc,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border ${ee==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),i.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),i.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:i.jsxs("div",{className:"relative group",children:[i.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:yt,onChange:Q=>Wt(Q.target.value),className:`w-full py-2.5 px-5 ${ee==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:Q=>Q.key==="Enter"&&n("pedidos")}),i.jsx("button",{onClick:()=>n("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${ee==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:i.jsx(vu,{size:18})})]})}),i.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[i.jsx("button",{onClick:De,className:`p-2 rounded-full ${ee==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${ee==="dark"?"light":"dark"} theme`,children:ee==="dark"?i.jsx(Zl,{size:20}):i.jsx(Jl,{size:20})}),i.jsxs("button",{onClick:()=>it(!0),className:`p-2 rounded-full relative ${ee==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${I.length} new)`,children:[i.jsx(Ml,{size:20}),I.length>0&&i.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:I.length})]}),i.jsx("button",{className:`lg:hidden p-2 rounded-full ${ee==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:i.jsx(jm,{size:20,className:ee==="dark"?"text-gray-300":"text-gray-600"})}),i.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:i.jsx("div",{className:"relative",children:i.jsxs("button",{className:`flex items-center space-x-2 ${ee==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[i.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:s.charAt(0).toUpperCase()}),i.jsx("span",{className:`text-sm font-semibold ${ee==="dark"?"text-gray-200":"text-gray-800"}`,children:s})]})})})]})]}),i.jsx($t,{children:Me&&i.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>it(!1),role:"dialog","aria-labelledby":"notifications-title",children:i.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${ee==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${ee==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Q=>Q.stopPropagation(),children:[i.jsx("button",{onClick:()=>it(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:i.jsx(Sn,{size:20})}),i.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${ee==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),I.length>0?I.map(Q=>i.jsxs("div",{className:`p-4 mb-2 rounded-md ${ee==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${ee==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[i.jsx("h3",{className:`font-semibold ${ee==="dark"?"text-gray-200":"text-gray-800"}`,children:Q.title||"Nueva Notificación"}),i.jsx("p",{className:`text-sm ${ee==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:Q.message}),Q.roles&&Q.roles.length>0&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",Q.roles.join(", ")]}),Q.timestamp&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ct(Q.timestamp)})]},Q.id)):i.jsx("p",{className:`text-center ${ee==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),i.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:ir()}),i.jsxs("footer",{className:`${ee==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${ee==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),i.jsxs("p",{className:`text-base sm:text-lg ${ee==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",i.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),i.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[i.jsx("a",{href:"https://twitter.com",className:`${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:i.jsx(Ql,{size:28})}),i.jsx("a",{href:"https://instagram.com",className:`${ee==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:i.jsx(Xl,{size:28})}),i.jsx("a",{href:"https://facebook.com",className:`${ee==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:i.jsx(Yl,{size:28})})]}),i.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[i.jsx("a",{href:"#",className:`text-sm ${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Política de Privacidad"}),i.jsx("a",{href:"#",className:`text-sm ${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Términos de Servicio"}),i.jsx("a",{href:"#",className:`text-sm ${ee==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contáctanos"})]})]}),i.jsxs("p",{className:`text-sm ${ee==="dark"?"text-gray-500":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Hecho con pasión."]})]}),i.jsx($t,{children:Be&&i.jsx(Z.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:pr,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:i.jsx(Cm,{size:20})})}),i.jsx(oC,{isOpen:B.isOpen,title:B.title,message:B.message,onClose:qt}),i.jsx(gJ,{isOpen:re.isOpen,user:re.user,onClose:Xe,onSave:St}),t&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};cC.propTypes={};const uC=E.createContext(),yJ=({children:t})=>{const e=w1(W0),[r,n]=E.useState(null),[s,a]=E.useState(null),[l,u]=E.useState(!0);return E.useEffect(()=>{const d=Kl(e,async h=>{if(h){n(h);try{const p=await ei(ut(Ie,"users",h.uid));p.exists()?a(p.data().role):a("user")}catch(p){console.error("Error fetching role:",p),a("user")}}else n(null),a(null);u(!1)});return()=>d()},[]),i.jsx(uC.Provider,{value:{user:r,role:s,loading:l},children:!l&&t})},rh=()=>{const t=E.useContext(uC);if(t===void 0)throw new Error("useAuth debe usarse dentro de un AuthProvider");return t},vJ=E.lazy(()=>mr(()=>import("./Netflix-SAvNO4WN.js"),[])),bJ=E.lazy(()=>mr(()=>import("./Disney-BhSEKFoc.js"),[])),wJ=E.lazy(()=>mr(()=>import("./Max-LoKvXz2B.js"),[])),_J=E.lazy(()=>mr(()=>import("./Spotify-BobKWlTf.js"),[])),EJ=E.lazy(()=>mr(()=>import("./PrimeVideo-BN3q2HwI.js"),[])),TJ=E.lazy(()=>mr(()=>import("./Vix-BVTvuc8B.js"),[])),kJ=E.lazy(()=>mr(()=>import("./canva-C-qk6QB1.js"),[])),NJ=E.lazy(()=>mr(()=>import("./ChatGPT-Dtt2FDqQ.js"),[])),AJ=E.lazy(()=>mr(()=>import("./Crunchyroll-CrbU6slW.js"),[])),SJ=E.lazy(()=>mr(()=>import("./RedesSociales-BqDkrYIO.js"),[])),CJ=E.lazy(()=>mr(()=>import("./AppleMusic-wdsPfzin.js"),[])),jJ=E.lazy(()=>mr(()=>import("./AppleTv-BOCTrL7f.js"),[])),IJ=E.lazy(()=>mr(()=>import("./IPTV-DNos2KhQ.js"),[])),PJ=E.lazy(()=>mr(()=>import("./FlujoTv-CwNpvyAo.js"),[])),RJ=E.lazy(()=>mr(()=>import("./VikiRakuten-DFx5mMMW.js"),[])),DJ=E.lazy(()=>mr(()=>import("./Pornhub-CsFjup6m.js"),[])),OJ=E.lazy(()=>mr(()=>import("./Paramount-DoDPj0My.js"),[])),FJ=E.lazy(()=>mr(()=>import("./Licencias-D-qPCIe_.js"),[])),LJ=E.lazy(()=>mr(()=>import("./Capcut-CNMon3hw.js"),[])),MJ=E.lazy(()=>mr(()=>import("./Duolingo-Db5xMJmF.js"),[])),VJ=E.lazy(()=>mr(()=>import("./Dgo-BtlUJTNI.js"),[])),$J=E.lazy(()=>mr(()=>import("./LigaMax-BPqEoqEM.js"),[])),BJ=E.lazy(()=>mr(()=>import("./MovistarPlay-BXKcbpRR.js"),[])),UJ=E.lazy(()=>mr(()=>import("./Youtube-CBJJukOd.js"),[])),zJ=E.lazy(()=>mr(()=>import("./Deezer-BVS3CLNM.js"),[])),HJ=E.lazy(()=>mr(()=>import("./Tidal-CjRs48XI.js"),[])),WJ=E.lazy(()=>mr(()=>import("./Vpn-Bhfwt8ld.js"),[])),GJ=E.lazy(()=>mr(()=>import("./WinTv-Vk0SqgUx.js"),[])),qJ=E.lazy(()=>mr(()=>import("./Buscapersonas-DvWJJFfJ.js"),[]));E.lazy(()=>mr(()=>import("./Maintenance-D9DWLI-h.js"),[]));const KJ=E.memo(()=>i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Página no encontrada"}),i.jsx("a",{href:"/",className:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600",children:"Volver al inicio"})]})})),nh=E.memo(()=>i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:i.jsx("div",{className:"text-xl",children:"Cargando..."})})),xr=E.memo(()=>i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg",children:"Cargando categoría..."})}));E.memo(({children:t,redirectTo:e="/login"})=>{const{user:r,loading:n}=rh();return n?i.jsx(nh,{}):r?t:i.jsx(S0,{to:e,replace:!0})});const YJ=E.memo(({children:t,redirectTo:e="/login"})=>{const{user:r,role:n,loading:s}=rh();return s?i.jsx(nh,{}):r&&n==="user"?t:i.jsx(S0,{to:e,replace:!0})}),XJ=E.memo(({children:t,redirectTo:e="/login"})=>{const{user:r,role:n,loading:s}=rh();return s?i.jsx(nh,{}):r&&n==="admin"?t:i.jsx(S0,{to:e,replace:!0})}),QJ=E.memo(({children:t,redirectTo:e="/login"})=>{const{user:r,role:n,loading:s}=rh();return s?i.jsx(nh,{}):r&&n==="affiliate"?t:i.jsx(S0,{to:e,replace:!0})}),JJ=E.memo(({children:t,redirectTo:e="/login"})=>{const{user:r,role:n,loading:s}=rh();return s?i.jsx(nh,{}):r&&n==="provider"?t:i.jsx(S0,{to:e,replace:!0})}),ZJ=E.memo(()=>i.jsx(mI,{children:i.jsxs(i.Fragment,{children:[i.jsx(zt,{path:"/",element:i.jsx(r5,{})}),i.jsx(zt,{path:"/login",element:i.jsx(nH,{})}),i.jsx(zt,{path:"/register",element:i.jsx(sH,{})}),i.jsx(zt,{path:"/forgot-password",element:i.jsx(aH,{})}),i.jsx(zt,{path:"/dashboard/user",element:i.jsx(YJ,{children:i.jsx(W6,{})})}),i.jsx(zt,{path:"/dashboard/affiliate",element:i.jsx(QJ,{children:i.jsx(rJ,{})})}),i.jsx(zt,{path:"/dashboard/provider",element:i.jsx(JJ,{children:i.jsx(X6,{})})}),i.jsx(zt,{path:"/dashboard/admin",element:i.jsx(XJ,{children:i.jsx(cC,{})})}),i.jsx(zt,{path:"/netflix",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(vJ,{})})}),i.jsx(zt,{path:"/disney",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(bJ,{})})}),i.jsx(zt,{path:"/max",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(wJ,{})})}),i.jsx(zt,{path:"/spotify",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(_J,{})})}),i.jsx(zt,{path:"/primevideo",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(EJ,{})})}),i.jsx(zt,{path:"/vix",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(TJ,{})})}),i.jsx(zt,{path:"/canva",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(kJ,{})})}),i.jsx(zt,{path:"/chatgpt",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(NJ,{})})}),i.jsx(zt,{path:"/crunchyroll",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(AJ,{})})}),i.jsx(zt,{path:"/redessociales",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(SJ,{})})}),i.jsx(zt,{path:"/applemusic",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(CJ,{})})}),i.jsx(zt,{path:"/appletv",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(jJ,{})})}),i.jsx(zt,{path:"/iptv",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(IJ,{})})}),i.jsx(zt,{path:"/flujotv",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(PJ,{})})}),i.jsx(zt,{path:"/vikirakuten",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(RJ,{})})}),i.jsx(zt,{path:"/pornhub",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(DJ,{})})}),i.jsx(zt,{path:"/paramount",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(OJ,{})})}),i.jsx(zt,{path:"/licencias",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(FJ,{})})}),i.jsx(zt,{path:"/capcut",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(LJ,{})})}),i.jsx(zt,{path:"/duolingo",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(MJ,{})})}),i.jsx(zt,{path:"/dgo",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(VJ,{})})}),i.jsx(zt,{path:"/ligamax",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx($J,{})})}),i.jsx(zt,{path:"/movistarplay",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(BJ,{})})}),i.jsx(zt,{path:"/youtube",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(UJ,{})})}),i.jsx(zt,{path:"/deezer",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(zJ,{})})}),i.jsx(zt,{path:"/tidal",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(HJ,{})})}),i.jsx(zt,{path:"/vpn",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(WJ,{})})}),i.jsx(zt,{path:"/wintv",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(GJ,{})})}),i.jsx(zt,{path:"/buscapersonas",element:i.jsx(E.Suspense,{fallback:i.jsx(xr,{}),children:i.jsx(qJ,{})})}),i.jsx(zt,{path:"*",element:i.jsx(KJ,{})})]})})),eZ=kj.createRoot(document.getElementById("root"));eZ.render(i.jsx(Ia.StrictMode,{children:i.jsx(MI,{children:i.jsx(yJ,{children:i.jsx(E.Suspense,{fallback:i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:i.jsx("div",{className:"text-xl",children:"Inicializando aplicación..."})}),children:i.jsx(ZJ,{})})})})}));export{o1 as $,la as A,Z as B,tc as C,vu as D,Zl as E,Tu as F,Jl as G,Ml as H,xz as I,JU as J,$t as K,Ip as L,wu as M,_s as N,Zy as O,ev as P,Sn as Q,ec as R,vz as S,lz as T,pz as U,Ho as V,Cm as W,Ql as X,Xl as Y,Yl as Z,ei as _,hr as a,rn as a0,G as a1,uZ as a2,Ns as a3,Rp as a4,Sy as b,kt as c,Ie as d,ut as e,z0 as f,tn as g,sZ as h,oZ as i,i as j,dZ as k,hZ as l,cZ as m,nZ as n,Kl as o,lZ as p,tr as q,E as r,wr as s,iZ as t,Ma as u,aZ as v,br as w,ob as x,oi as y,gz as z};
