(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const lI="modulepreload",cI=function(t){return"/"+t},jw={},or=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let d=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");i=d(r.map(h=>{if(h=cI(h),h in jw)return;jw[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":lI,p||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((v,k)=>{y.addEventListener("load",v),y.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};function t1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cx={exports:{}},md={},ux={exports:{}},zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw;function uI(){if(Pw)return zt;Pw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(re){return re===null||typeof re!="object"?null:(re=g&&re[g]||re["@@iterator"],typeof re=="function"?re:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,w={};function E(re,R,K){this.props=re,this.context=R,this.refs=w,this.updater=K||v}E.prototype.isReactComponent={},E.prototype.setState=function(re,R){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,R,"setState")},E.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function O(){}O.prototype=E.prototype;function M(re,R,K){this.props=re,this.context=R,this.refs=w,this.updater=K||v}var V=M.prototype=new O;V.constructor=M,k(V,E.prototype),V.isPureReactComponent=!0;var j=Array.isArray,X=Object.prototype.hasOwnProperty,U={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function S(re,R,K){var Q,ee={},se=null,Ce=null;if(R!=null)for(Q in R.ref!==void 0&&(Ce=R.ref),R.key!==void 0&&(se=""+R.key),R)X.call(R,Q)&&!A.hasOwnProperty(Q)&&(ee[Q]=R[Q]);var De=arguments.length-2;if(De===1)ee.children=K;else if(1<De){for(var Se=Array(De),ue=0;ue<De;ue++)Se[ue]=arguments[ue+2];ee.children=Se}if(re&&re.defaultProps)for(Q in De=re.defaultProps,De)ee[Q]===void 0&&(ee[Q]=De[Q]);return{$$typeof:t,type:re,key:se,ref:Ce,props:ee,_owner:U.current}}function C(re,R){return{$$typeof:t,type:re.type,key:R,ref:re.ref,props:re.props,_owner:re._owner}}function P(re){return typeof re=="object"&&re!==null&&re.$$typeof===t}function D(re){var R={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(K){return R[K]})}var z=/\/+/g;function B(re,R){return typeof re=="object"&&re!==null&&re.key!=null?D(""+re.key):R.toString(36)}function Ee(re,R,K,Q,ee){var se=typeof re;(se==="undefined"||se==="boolean")&&(re=null);var Ce=!1;if(re===null)Ce=!0;else switch(se){case"string":case"number":Ce=!0;break;case"object":switch(re.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=re,ee=ee(Ce),re=Q===""?"."+B(Ce,0):Q,j(ee)?(K="",re!=null&&(K=re.replace(z,"$&/")+"/"),Ee(ee,R,K,"",function(ue){return ue})):ee!=null&&(P(ee)&&(ee=C(ee,K+(!ee.key||Ce&&Ce.key===ee.key?"":(""+ee.key).replace(z,"$&/")+"/")+re)),R.push(ee)),1;if(Ce=0,Q=Q===""?".":Q+":",j(re))for(var De=0;De<re.length;De++){se=re[De];var Se=Q+B(se,De);Ce+=Ee(se,R,K,Se,ee)}else if(Se=y(re),typeof Se=="function")for(re=Se.call(re),De=0;!(se=re.next()).done;)se=se.value,Se=Q+B(se,De++),Ce+=Ee(se,R,K,Se,ee);else if(se==="object")throw R=String(re),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return Ce}function Re(re,R,K){if(re==null)return re;var Q=[],ee=0;return Ee(re,Q,"","",function(se){return R.call(K,se,ee++)}),Q}function Be(re){if(re._status===-1){var R=re._result;R=R(),R.then(function(K){(re._status===0||re._status===-1)&&(re._status=1,re._result=K)},function(K){(re._status===0||re._status===-1)&&(re._status=2,re._result=K)}),re._status===-1&&(re._status=0,re._result=R)}if(re._status===1)return re._result.default;throw re._result}var Fe={current:null},ve={transition:null},ie={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:ve,ReactCurrentOwner:U};function me(){throw Error("act(...) is not supported in production builds of React.")}return zt.Children={map:Re,forEach:function(re,R,K){Re(re,function(){R.apply(this,arguments)},K)},count:function(re){var R=0;return Re(re,function(){R++}),R},toArray:function(re){return Re(re,function(R){return R})||[]},only:function(re){if(!P(re))throw Error("React.Children.only expected to receive a single React element child.");return re}},zt.Component=E,zt.Fragment=r,zt.Profiler=i,zt.PureComponent=M,zt.StrictMode=n,zt.Suspense=d,zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,zt.act=me,zt.cloneElement=function(re,R,K){if(re==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+re+".");var Q=k({},re.props),ee=re.key,se=re.ref,Ce=re._owner;if(R!=null){if(R.ref!==void 0&&(se=R.ref,Ce=U.current),R.key!==void 0&&(ee=""+R.key),re.type&&re.type.defaultProps)var De=re.type.defaultProps;for(Se in R)X.call(R,Se)&&!A.hasOwnProperty(Se)&&(Q[Se]=R[Se]===void 0&&De!==void 0?De[Se]:R[Se])}var Se=arguments.length-2;if(Se===1)Q.children=K;else if(1<Se){De=Array(Se);for(var ue=0;ue<Se;ue++)De[ue]=arguments[ue+2];Q.children=De}return{$$typeof:t,type:re.type,key:ee,ref:se,props:Q,_owner:Ce}},zt.createContext=function(re){return re={$$typeof:l,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},re.Provider={$$typeof:s,_context:re},re.Consumer=re},zt.createElement=S,zt.createFactory=function(re){var R=S.bind(null,re);return R.type=re,R},zt.createRef=function(){return{current:null}},zt.forwardRef=function(re){return{$$typeof:u,render:re}},zt.isValidElement=P,zt.lazy=function(re){return{$$typeof:p,_payload:{_status:-1,_result:re},_init:Be}},zt.memo=function(re,R){return{$$typeof:h,type:re,compare:R===void 0?null:R}},zt.startTransition=function(re){var R=ve.transition;ve.transition={};try{re()}finally{ve.transition=R}},zt.unstable_act=me,zt.useCallback=function(re,R){return Fe.current.useCallback(re,R)},zt.useContext=function(re){return Fe.current.useContext(re)},zt.useDebugValue=function(){},zt.useDeferredValue=function(re){return Fe.current.useDeferredValue(re)},zt.useEffect=function(re,R){return Fe.current.useEffect(re,R)},zt.useId=function(){return Fe.current.useId()},zt.useImperativeHandle=function(re,R,K){return Fe.current.useImperativeHandle(re,R,K)},zt.useInsertionEffect=function(re,R){return Fe.current.useInsertionEffect(re,R)},zt.useLayoutEffect=function(re,R){return Fe.current.useLayoutEffect(re,R)},zt.useMemo=function(re,R){return Fe.current.useMemo(re,R)},zt.useReducer=function(re,R,K){return Fe.current.useReducer(re,R,K)},zt.useRef=function(re){return Fe.current.useRef(re)},zt.useState=function(re){return Fe.current.useState(re)},zt.useSyncExternalStore=function(re,R,K){return Fe.current.useSyncExternalStore(re,R,K)},zt.useTransition=function(){return Fe.current.useTransition()},zt.version="18.3.1",zt}var Rw;function r1(){return Rw||(Rw=1,ux.exports=uI()),ux.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function dI(){if(Dw)return md;Dw=1;var t=r1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var p,g={},y=null,v=null;h!==void 0&&(y=""+h),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)n.call(d,p)&&!s.hasOwnProperty(p)&&(g[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:e,type:u,key:y,ref:v,props:g,_owner:i.current}}return md.Fragment=r,md.jsx=l,md.jsxs=l,md}var Ow;function hI(){return Ow||(Ow=1,cx.exports=dI()),cx.exports}var a=hI(),N=r1();const As=t1(N);var sf={},dx={exports:{}},gi={},hx={exports:{}},fx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fw;function fI(){return Fw||(Fw=1,(function(t){function e(ve,ie){var me=ve.length;ve.push(ie);e:for(;0<me;){var re=me-1>>>1,R=ve[re];if(0<i(R,ie))ve[re]=ie,ve[me]=R,me=re;else break e}}function r(ve){return ve.length===0?null:ve[0]}function n(ve){if(ve.length===0)return null;var ie=ve[0],me=ve.pop();if(me!==ie){ve[0]=me;e:for(var re=0,R=ve.length,K=R>>>1;re<K;){var Q=2*(re+1)-1,ee=ve[Q],se=Q+1,Ce=ve[se];if(0>i(ee,me))se<R&&0>i(Ce,ee)?(ve[re]=Ce,ve[se]=me,re=se):(ve[re]=ee,ve[Q]=me,re=Q);else if(se<R&&0>i(Ce,me))ve[re]=Ce,ve[se]=me,re=se;else break e}}return ie}function i(ve,ie){var me=ve.sortIndex-ie.sortIndex;return me!==0?me:ve.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],p=1,g=null,y=3,v=!1,k=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(ve){for(var ie=r(h);ie!==null;){if(ie.callback===null)n(h);else if(ie.startTime<=ve)n(h),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=r(h)}}function j(ve){if(w=!1,V(ve),!k)if(r(d)!==null)k=!0,Be(X);else{var ie=r(h);ie!==null&&Fe(j,ie.startTime-ve)}}function X(ve,ie){k=!1,w&&(w=!1,O(S),S=-1),v=!0;var me=y;try{for(V(ie),g=r(d);g!==null&&(!(g.expirationTime>ie)||ve&&!D());){var re=g.callback;if(typeof re=="function"){g.callback=null,y=g.priorityLevel;var R=re(g.expirationTime<=ie);ie=t.unstable_now(),typeof R=="function"?g.callback=R:g===r(d)&&n(d),V(ie)}else n(d);g=r(d)}if(g!==null)var K=!0;else{var Q=r(h);Q!==null&&Fe(j,Q.startTime-ie),K=!1}return K}finally{g=null,y=me,v=!1}}var U=!1,A=null,S=-1,C=5,P=-1;function D(){return!(t.unstable_now()-P<C)}function z(){if(A!==null){var ve=t.unstable_now();P=ve;var ie=!0;try{ie=A(!0,ve)}finally{ie?B():(U=!1,A=null)}}else U=!1}var B;if(typeof M=="function")B=function(){M(z)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Re=Ee.port2;Ee.port1.onmessage=z,B=function(){Re.postMessage(null)}}else B=function(){E(z,0)};function Be(ve){A=ve,U||(U=!0,B())}function Fe(ve,ie){S=E(function(){ve(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ve){ve.callback=null},t.unstable_continueExecution=function(){k||v||(k=!0,Be(X))},t.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ve?Math.floor(1e3/ve):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(ve){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var me=y;y=ie;try{return ve()}finally{y=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ve,ie){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var me=y;y=ve;try{return ie()}finally{y=me}},t.unstable_scheduleCallback=function(ve,ie,me){var re=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?re+me:re):me=re,ve){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=me+R,ve={id:p++,callback:ie,priorityLevel:ve,startTime:me,expirationTime:R,sortIndex:-1},me>re?(ve.sortIndex=me,e(h,ve),r(d)===null&&ve===r(h)&&(w?(O(S),S=-1):w=!0,Fe(j,me-re))):(ve.sortIndex=R,e(d,ve),k||v||(k=!0,Be(X))),ve},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(ve){var ie=y;return function(){var me=y;y=ie;try{return ve.apply(this,arguments)}finally{y=me}}}})(fx)),fx}var Lw;function pI(){return Lw||(Lw=1,hx.exports=fI()),hx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function mI(){if(Mw)return gi;Mw=1;var t=r1(),e=pI();function r(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(i[o]=c,o=0;o<c.length;o++)n.add(c[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(o){return d.call(g,o)?!0:d.call(p,o)?!1:h.test(o)?g[o]=!0:(p[o]=!0,!1)}function v(o,c,f,x){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function k(o,c,f,x){if(c===null||typeof c>"u"||v(o,c,f,x))return!0;if(x)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(o,c,f,x,b,T,L){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=b,this.mustUseProperty=f,this.propertyName=o,this.type=c,this.sanitizeURL=T,this.removeEmptyString=L}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){E[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];E[c]=new w(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){E[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){E[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){E[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){E[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){E[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){E[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){E[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function M(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(O,M);E[c]=new w(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(O,M);E[c]=new w(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(O,M);E[c]=new w(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){E[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),E.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){E[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function V(o,c,f,x){var b=E.hasOwnProperty(c)?E[c]:null;(b!==null?b.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(k(c,f,b,x)&&(f=null),x||b===null?y(c)&&(f===null?o.removeAttribute(c):o.setAttribute(c,""+f)):b.mustUseProperty?o[b.propertyName]=f===null?b.type===3?!1:"":f:(c=b.attributeName,x=b.attributeNamespace,f===null?o.removeAttribute(c):(b=b.type,f=b===3||b===4&&f===!0?"":""+f,x?o.setAttributeNS(x,c,f):o.setAttribute(c,f))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),U=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),ve=Symbol.iterator;function ie(o){return o===null||typeof o!="object"?null:(o=ve&&o[ve]||o["@@iterator"],typeof o=="function"?o:null)}var me=Object.assign,re;function R(o){if(re===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);re=c&&c[1]||""}return`
`+re+o}var K=!1;function Q(o,c){if(!o||K)return"";K=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ye){var x=ye}Reflect.construct(o,[],c)}else{try{c.call()}catch(ye){x=ye}o.call(c.prototype)}else{try{throw Error()}catch(ye){x=ye}o()}}catch(ye){if(ye&&x&&typeof ye.stack=="string"){for(var b=ye.stack.split(`
`),T=x.stack.split(`
`),L=b.length-1,te=T.length-1;1<=L&&0<=te&&b[L]!==T[te];)te--;for(;1<=L&&0<=te;L--,te--)if(b[L]!==T[te]){if(L!==1||te!==1)do if(L--,te--,0>te||b[L]!==T[te]){var ae=`
`+b[L].replace(" at new "," at ");return o.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",o.displayName)),ae}while(1<=L&&0<=te);break}}}finally{K=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?R(o):""}function ee(o){switch(o.tag){case 5:return R(o.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return o=Q(o.type,!1),o;case 11:return o=Q(o.type.render,!1),o;case 1:return o=Q(o.type,!0),o;default:return""}}function se(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case A:return"Fragment";case U:return"Portal";case C:return"Profiler";case S:return"StrictMode";case B:return"Suspense";case Ee:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case D:return(o.displayName||"Context")+".Consumer";case P:return(o._context.displayName||"Context")+".Provider";case z:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Re:return c=o.displayName||null,c!==null?c:se(o.type)||"Memo";case Be:c=o._payload,o=o._init;try{return se(o(c))}catch{}}return null}function Ce(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(c);case 8:return c===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function De(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Se(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ue(o){var c=Se(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),x=""+o[c];if(!o.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,T=f.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return b.call(this)},set:function(L){x=""+L,T.call(this,L)}}),Object.defineProperty(o,c,{enumerable:f.enumerable}),{getValue:function(){return x},setValue:function(L){x=""+L},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function nt(o){o._valueTracker||(o._valueTracker=ue(o))}function ht(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var f=c.getValue(),x="";return o&&(x=Se(o)?o.checked?"true":"false":o.value),o=x,o!==f?(c.setValue(o),!0):!1}function yt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function wt(o,c){var f=c.checked;return me({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function pr(o,c){var f=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;f=De(c.value!=null?c.value:f),o._wrapperState={initialChecked:x,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Nt(o,c){c=c.checked,c!=null&&V(o,"checked",c,!1)}function Ge(o,c){Nt(o,c);var f=De(c.value),x=c.type;if(f!=null)x==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?Ct(o,c.type,f):c.hasOwnProperty("defaultValue")&&Ct(o,c.type,De(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function Xt(o,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,f||c===o.value||(o.value=c),o.defaultValue=c}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function Ct(o,c,f){(c!=="number"||yt(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var er=Array.isArray;function le(o,c,f,x){if(o=o.options,c){c={};for(var b=0;b<f.length;b++)c["$"+f[b]]=!0;for(f=0;f<o.length;f++)b=c.hasOwnProperty("$"+o[f].value),o[f].selected!==b&&(o[f].selected=b),b&&x&&(o[f].defaultSelected=!0)}else{for(f=""+De(f),c=null,b=0;b<o.length;b++){if(o[b].value===f){o[b].selected=!0,x&&(o[b].defaultSelected=!0);return}c!==null||o[b].disabled||(c=o[b])}c!==null&&(c.selected=!0)}}function et(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return me({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Xe(o,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(r(92));if(er(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),f=c}o._wrapperState={initialValue:De(f)}}function lt(o,c){var f=De(c.value),x=De(c.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),c.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),x!=null&&(o.defaultValue=""+x)}function mt(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function ct(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Te(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?ct(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Ie,ut=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,x,b){MSApp.execUnsafeLocalFunction(function(){return o(c,f,x,b)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(Ie=Ie||document.createElement("div"),Ie.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Ie.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function Ae(o,c){if(c){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=c;return}}o.textContent=c}var ze={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gt=["Webkit","ms","Moz","O"];Object.keys(ze).forEach(function(o){gt.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),ze[c]=ze[o]})});function St(o,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||ze.hasOwnProperty(o)&&ze[o]?(""+c).trim():c+"px"}function Mt(o,c){o=o.style;for(var f in c)if(c.hasOwnProperty(f)){var x=f.indexOf("--")===0,b=St(f,c[f],x);f==="float"&&(f="cssFloat"),x?o.setProperty(f,b):o[f]=b}}var vt=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vr(o,c){if(c){if(vt[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function ar(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xr=null;function Br(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Rt=null,Wt=null,Ft=null;function Pr(o){if(o=ed(o)){if(typeof Rt!="function")throw Error(r(280));var c=o.stateNode;c&&(c=vh(c),Rt(o.stateNode,o.type,c))}}function Kr(o){Wt?Ft?Ft.push(o):Ft=[o]:Wt=o}function li(){if(Wt){var o=Wt,c=Ft;if(Ft=Wt=null,Pr(o),c)for(o=0;o<c.length;o++)Pr(c[o])}}function En(o,c){return o(c)}function ki(){}var Jn=!1;function _e(o,c,f){if(Jn)return o(c,f);Jn=!0;try{return En(o,c,f)}finally{Jn=!1,(Wt!==null||Ft!==null)&&(ki(),li())}}function Ne(o,c){var f=o.stateNode;if(f===null)return null;var x=vh(f);if(x===null)return null;f=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var xt=!1;if(u)try{var it={};Object.defineProperty(it,"passive",{get:function(){xt=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{xt=!1}function Ut(o,c,f,x,b,T,L,te,ae){var ye=Array.prototype.slice.call(arguments,3);try{c.apply(f,ye)}catch($e){this.onError($e)}}var yr=!1,Xr=null,F=!1,Y=null,H={onError:function(o){yr=!0,Xr=o}};function G(o,c,f,x,b,T,L,te,ae){yr=!1,Xr=null,Ut.apply(H,arguments)}function J(o,c,f,x,b,T,L,te,ae){if(G.apply(this,arguments),yr){if(yr){var ye=Xr;yr=!1,Xr=null}else throw Error(r(198));F||(F=!0,Y=ye)}}function Z(o){var c=o,f=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(f=c.return),o=c.return;while(o)}return c.tag===3?f:null}function ce(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function be(o){if(Z(o)!==o)throw Error(r(188))}function fe(o){var c=o.alternate;if(!c){if(c=Z(o),c===null)throw Error(r(188));return c!==o?null:o}for(var f=o,x=c;;){var b=f.return;if(b===null)break;var T=b.alternate;if(T===null){if(x=b.return,x!==null){f=x;continue}break}if(b.child===T.child){for(T=b.child;T;){if(T===f)return be(b),o;if(T===x)return be(b),c;T=T.sibling}throw Error(r(188))}if(f.return!==x.return)f=b,x=T;else{for(var L=!1,te=b.child;te;){if(te===f){L=!0,f=b,x=T;break}if(te===x){L=!0,x=b,f=T;break}te=te.sibling}if(!L){for(te=T.child;te;){if(te===f){L=!0,f=T,x=b;break}if(te===x){L=!0,x=T,f=b;break}te=te.sibling}if(!L)throw Error(r(189))}}if(f.alternate!==x)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?o:c}function pe(o){return o=fe(o),o!==null?xe(o):null}function xe(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=xe(o);if(c!==null)return c;o=o.sibling}return null}var Me=e.unstable_scheduleCallback,Ye=e.unstable_cancelCallback,tt=e.unstable_shouldYield,We=e.unstable_requestPaint,Ve=e.unstable_now,At=e.unstable_getCurrentPriorityLevel,tr=e.unstable_ImmediatePriority,Yt=e.unstable_UserBlockingPriority,lr=e.unstable_NormalPriority,cs=e.unstable_LowPriority,Ls=e.unstable_IdlePriority,Ni=null,Yr=null;function Ga(o){if(Yr&&typeof Yr.onCommitFiberRoot=="function")try{Yr.onCommitFiberRoot(Ni,o,void 0,(o.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:Q0,Mu=Math.log,Y0=Math.LN2;function Q0(o){return o>>>=0,o===0?32:31-(Mu(o)/Y0|0)|0}var ic=64,sc=4194304;function Ka(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Zo(o,c){var f=o.pendingLanes;if(f===0)return 0;var x=0,b=o.suspendedLanes,T=o.pingedLanes,L=f&268435455;if(L!==0){var te=L&~b;te!==0?x=Ka(te):(T&=L,T!==0&&(x=Ka(T)))}else L=f&~b,L!==0?x=Ka(L):T!==0&&(x=Ka(T));if(x===0)return 0;if(c!==0&&c!==x&&(c&b)===0&&(b=x&-x,T=c&-c,b>=T||b===16&&(T&4194240)!==0))return c;if((x&4)!==0&&(x|=f&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=x;0<c;)f=31-kr(c),b=1<<f,x|=o[f],c&=~b;return x}function $m(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function da(o,c){for(var f=o.suspendedLanes,x=o.pingedLanes,b=o.expirationTimes,T=o.pendingLanes;0<T;){var L=31-kr(T),te=1<<L,ae=b[L];ae===-1?((te&f)===0||(te&x)!==0)&&(b[L]=$m(te,c)):ae<=c&&(o.expiredLanes|=te),T&=~te}}function Si(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function el(){var o=ic;return ic<<=1,(ic&4194240)===0&&(ic=64),o}function Xa(o){for(var c=[],f=0;31>f;f++)c.push(o);return c}function Ya(o,c,f){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-kr(c),o[c]=f}function vr(o,c){var f=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<f;){var b=31-kr(f),T=1<<b;c[b]=0,x[b]=-1,o[b]=-1,f&=~T}}function Qa(o,c){var f=o.entangledLanes|=c;for(o=o.entanglements;f;){var x=31-kr(f),b=1<<x;b&c|o[x]&c&&(o[x]|=c),f&=~b}}var Kt=0;function Ja(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var J0,ac,Z0,eh,th,$u=!1,Ms=[],Tn=null,us=null,ds=null,Za=new Map,Wi=new Map,$s=[],Vm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rh(o,c){switch(o){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":Za.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(c.pointerId)}}function ci(o,c,f,x,b,T){return o===null||o.nativeEvent!==T?(o={blockedOn:c,domEventName:f,eventSystemFlags:x,nativeEvent:T,targetContainers:[b]},c!==null&&(c=ed(c),c!==null&&ac(c)),o):(o.eventSystemFlags|=x,c=o.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),o)}function Bm(o,c,f,x,b){switch(c){case"focusin":return Tn=ci(Tn,o,c,f,x,b),!0;case"dragenter":return us=ci(us,o,c,f,x,b),!0;case"mouseover":return ds=ci(ds,o,c,f,x,b),!0;case"pointerover":var T=b.pointerId;return Za.set(T,ci(Za.get(T)||null,o,c,f,x,b)),!0;case"gotpointercapture":return T=b.pointerId,Wi.set(T,ci(Wi.get(T)||null,o,c,f,x,b)),!0}return!1}function nh(o){var c=sl(o.target);if(c!==null){var f=Z(c);if(f!==null){if(c=f.tag,c===13){if(c=ce(f),c!==null){o.blockedOn=c,th(o.priority,function(){Z0(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ha(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var f=oc(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var x=new f.constructor(f.type,f);xr=x,f.target.dispatchEvent(x),xr=null}else return c=ed(f),c!==null&&ac(c),o.blockedOn=f,!1;c.shift()}return!0}function tl(o,c,f){ha(o)&&f.delete(c)}function ih(){$u=!1,Tn!==null&&ha(Tn)&&(Tn=null),us!==null&&ha(us)&&(us=null),ds!==null&&ha(ds)&&(ds=null),Za.forEach(tl),Wi.forEach(tl)}function hs(o,c){o.blockedOn===c&&(o.blockedOn=null,$u||($u=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ih)))}function fs(o){function c(b){return hs(b,o)}if(0<Ms.length){hs(Ms[0],o);for(var f=1;f<Ms.length;f++){var x=Ms[f];x.blockedOn===o&&(x.blockedOn=null)}}for(Tn!==null&&hs(Tn,o),us!==null&&hs(us,o),ds!==null&&hs(ds,o),Za.forEach(c),Wi.forEach(c),f=0;f<$s.length;f++)x=$s[f],x.blockedOn===o&&(x.blockedOn=null);for(;0<$s.length&&(f=$s[0],f.blockedOn===null);)nh(f),f.blockedOn===null&&$s.shift()}var fa=j.ReactCurrentBatchConfig,eo=!0;function Cr(o,c,f,x){var b=Kt,T=fa.transition;fa.transition=null;try{Kt=1,Vu(o,c,f,x)}finally{Kt=b,fa.transition=T}}function Um(o,c,f,x){var b=Kt,T=fa.transition;fa.transition=null;try{Kt=4,Vu(o,c,f,x)}finally{Kt=b,fa.transition=T}}function Vu(o,c,f,x){if(eo){var b=oc(o,c,f,x);if(b===null)Zm(o,c,x,rl,f),rh(o,x);else if(Bm(b,o,c,f,x))x.stopPropagation();else if(rh(o,x),c&4&&-1<Vm.indexOf(o)){for(;b!==null;){var T=ed(b);if(T!==null&&J0(T),T=oc(o,c,f,x),T===null&&Zm(o,c,x,rl,f),T===b)break;b=T}b!==null&&x.stopPropagation()}else Zm(o,c,x,null,f)}}var rl=null;function oc(o,c,f,x){if(rl=null,o=Br(x),o=sl(o),o!==null)if(c=Z(o),c===null)o=null;else if(f=c.tag,f===13){if(o=ce(c),o!==null)return o;o=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return rl=o,null}function Bu(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(At()){case tr:return 1;case Yt:return 4;case lr:case cs:return 16;case Ls:return 536870912;default:return 16}default:return 16}}var Ai=null,lc=null,ui=null;function Uu(){if(ui)return ui;var o,c=lc,f=c.length,x,b="value"in Ai?Ai.value:Ai.textContent,T=b.length;for(o=0;o<f&&c[o]===b[o];o++);var L=f-o;for(x=1;x<=L&&c[f-x]===b[T-x];x++);return ui=b.slice(o,1<x?1-x:void 0)}function cc(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Vs(){return!0}function zu(){return!1}function kn(o){function c(f,x,b,T,L){this._reactName=f,this._targetInst=b,this.type=x,this.nativeEvent=T,this.target=L,this.currentTarget=null;for(var te in o)o.hasOwnProperty(te)&&(f=o[te],this[te]=f?f(T):T[te]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Vs:zu,this.isPropagationStopped=zu,this}return me(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),c}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uc=kn(ps),Bs=me({},ps,{view:0,detail:0}),zm=kn(Bs),dc,pa,to,nl=me({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==to&&(to&&o.type==="mousemove"?(dc=o.screenX-to.screenX,pa=o.screenY-to.screenY):pa=dc=0,to=o),dc)},movementY:function(o){return"movementY"in o?o.movementY:pa}}),hc=kn(nl),Hu=me({},nl,{dataTransfer:0}),sh=kn(Hu),fc=me({},Bs,{relatedTarget:0}),pc=kn(fc),ah=me({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),ma=kn(ah),oh=me({},ps,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),lh=kn(oh),ch=me({},ps,{data:0}),Wu=kn(ch),mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dh(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=uh[o])?!!c[o]:!1}function Us(){return dh}var m=me({},Bs,{key:function(o){if(o.key){var c=mc[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=cc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Zn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(o){return o.type==="keypress"?cc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?cc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),_=kn(m),I=me({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W=kn(I),de=me({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),we=kn(de),Ze=me({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),cr=kn(Ze),cn=me({},nl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Qt=kn(cn),pn=[9,13,27,32],tn=u&&"CompositionEvent"in window,qi=null;u&&"documentMode"in document&&(qi=document.documentMode);var Ci=u&&"TextEvent"in window&&!qi,il=u&&(!tn||qi&&8<qi&&11>=qi),gc=" ",k2=!1;function N2(o,c){switch(o){case"keyup":return pn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S2(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var xc=!1;function sC(o,c){switch(o){case"compositionend":return S2(c);case"keypress":return c.which!==32?null:(k2=!0,gc);case"textInput":return o=c.data,o===gc&&k2?null:o;default:return null}}function aC(o,c){if(xc)return o==="compositionend"||!tn&&N2(o,c)?(o=Uu(),ui=lc=Ai=null,xc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return il&&c.locale!=="ko"?null:c.data;default:return null}}var oC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A2(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!oC[o.type]:c==="textarea"}function C2(o,c,f,x){Kr(x),c=gh(c,"onChange"),0<c.length&&(f=new uc("onChange","change",null,f,x),o.push({event:f,listeners:c}))}var qu=null,Gu=null;function lC(o){G2(o,0)}function hh(o){var c=_c(o);if(ht(c))return o}function cC(o,c){if(o==="change")return c}var I2=!1;if(u){var Hm;if(u){var Wm="oninput"in document;if(!Wm){var j2=document.createElement("div");j2.setAttribute("oninput","return;"),Wm=typeof j2.oninput=="function"}Hm=Wm}else Hm=!1;I2=Hm&&(!document.documentMode||9<document.documentMode)}function P2(){qu&&(qu.detachEvent("onpropertychange",R2),Gu=qu=null)}function R2(o){if(o.propertyName==="value"&&hh(Gu)){var c=[];C2(c,Gu,o,Br(o)),_e(lC,c)}}function uC(o,c,f){o==="focusin"?(P2(),qu=c,Gu=f,qu.attachEvent("onpropertychange",R2)):o==="focusout"&&P2()}function dC(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return hh(Gu)}function hC(o,c){if(o==="click")return hh(c)}function fC(o,c){if(o==="input"||o==="change")return hh(c)}function pC(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var ms=typeof Object.is=="function"?Object.is:pC;function Ku(o,c){if(ms(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var f=Object.keys(o),x=Object.keys(c);if(f.length!==x.length)return!1;for(x=0;x<f.length;x++){var b=f[x];if(!d.call(c,b)||!ms(o[b],c[b]))return!1}return!0}function D2(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function O2(o,c){var f=D2(o);o=0;for(var x;f;){if(f.nodeType===3){if(x=o+f.textContent.length,o<=c&&x>=c)return{node:f,offset:c-o};o=x}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=D2(f)}}function F2(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?F2(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function L2(){for(var o=window,c=yt();c instanceof o.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)o=c.contentWindow;else break;c=yt(o.document)}return c}function qm(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function mC(o){var c=L2(),f=o.focusedElem,x=o.selectionRange;if(c!==f&&f&&f.ownerDocument&&F2(f.ownerDocument.documentElement,f)){if(x!==null&&qm(f)){if(c=x.start,o=x.end,o===void 0&&(o=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(o,f.value.length);else if(o=(c=f.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var b=f.textContent.length,T=Math.min(x.start,b);x=x.end===void 0?T:Math.min(x.end,b),!o.extend&&T>x&&(b=x,x=T,T=b),b=O2(f,T);var L=O2(f,x);b&&L&&(o.rangeCount!==1||o.anchorNode!==b.node||o.anchorOffset!==b.offset||o.focusNode!==L.node||o.focusOffset!==L.offset)&&(c=c.createRange(),c.setStart(b.node,b.offset),o.removeAllRanges(),T>x?(o.addRange(c),o.extend(L.node,L.offset)):(c.setEnd(L.node,L.offset),o.addRange(c)))}}for(c=[],o=f;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)o=c[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var gC=u&&"documentMode"in document&&11>=document.documentMode,yc=null,Gm=null,Xu=null,Km=!1;function M2(o,c,f){var x=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Km||yc==null||yc!==yt(x)||(x=yc,"selectionStart"in x&&qm(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Xu&&Ku(Xu,x)||(Xu=x,x=gh(Gm,"onSelect"),0<x.length&&(c=new uc("onSelect","select",null,c,f),o.push({event:c,listeners:x}),c.target=yc)))}function fh(o,c){var f={};return f[o.toLowerCase()]=c.toLowerCase(),f["Webkit"+o]="webkit"+c,f["Moz"+o]="moz"+c,f}var vc={animationend:fh("Animation","AnimationEnd"),animationiteration:fh("Animation","AnimationIteration"),animationstart:fh("Animation","AnimationStart"),transitionend:fh("Transition","TransitionEnd")},Xm={},$2={};u&&($2=document.createElement("div").style,"AnimationEvent"in window||(delete vc.animationend.animation,delete vc.animationiteration.animation,delete vc.animationstart.animation),"TransitionEvent"in window||delete vc.transitionend.transition);function ph(o){if(Xm[o])return Xm[o];if(!vc[o])return o;var c=vc[o],f;for(f in c)if(c.hasOwnProperty(f)&&f in $2)return Xm[o]=c[f];return o}var V2=ph("animationend"),B2=ph("animationiteration"),U2=ph("animationstart"),z2=ph("transitionend"),H2=new Map,W2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ro(o,c){H2.set(o,c),s(c,[o])}for(var Ym=0;Ym<W2.length;Ym++){var Qm=W2[Ym],xC=Qm.toLowerCase(),yC=Qm[0].toUpperCase()+Qm.slice(1);ro(xC,"on"+yC)}ro(V2,"onAnimationEnd"),ro(B2,"onAnimationIteration"),ro(U2,"onAnimationStart"),ro("dblclick","onDoubleClick"),ro("focusin","onFocus"),ro("focusout","onBlur"),ro(z2,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yu));function q2(o,c,f){var x=o.type||"unknown-event";o.currentTarget=f,J(x,c,void 0,o),o.currentTarget=null}function G2(o,c){c=(c&4)!==0;for(var f=0;f<o.length;f++){var x=o[f],b=x.event;x=x.listeners;e:{var T=void 0;if(c)for(var L=x.length-1;0<=L;L--){var te=x[L],ae=te.instance,ye=te.currentTarget;if(te=te.listener,ae!==T&&b.isPropagationStopped())break e;q2(b,te,ye),T=ae}else for(L=0;L<x.length;L++){if(te=x[L],ae=te.instance,ye=te.currentTarget,te=te.listener,ae!==T&&b.isPropagationStopped())break e;q2(b,te,ye),T=ae}}}if(F)throw o=Y,F=!1,Y=null,o}function Nr(o,c){var f=c[sg];f===void 0&&(f=c[sg]=new Set);var x=o+"__bubble";f.has(x)||(K2(c,o,2,!1),f.add(x))}function Jm(o,c,f){var x=0;c&&(x|=4),K2(f,o,x,c)}var mh="_reactListening"+Math.random().toString(36).slice(2);function Qu(o){if(!o[mh]){o[mh]=!0,n.forEach(function(f){f!=="selectionchange"&&(vC.has(f)||Jm(f,!1,o),Jm(f,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[mh]||(c[mh]=!0,Jm("selectionchange",!1,c))}}function K2(o,c,f,x){switch(Bu(c)){case 1:var b=Cr;break;case 4:b=Um;break;default:b=Vu}f=b.bind(null,c,f,o),b=void 0,!xt||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),x?b!==void 0?o.addEventListener(c,f,{capture:!0,passive:b}):o.addEventListener(c,f,!0):b!==void 0?o.addEventListener(c,f,{passive:b}):o.addEventListener(c,f,!1)}function Zm(o,c,f,x,b){var T=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var L=x.tag;if(L===3||L===4){var te=x.stateNode.containerInfo;if(te===b||te.nodeType===8&&te.parentNode===b)break;if(L===4)for(L=x.return;L!==null;){var ae=L.tag;if((ae===3||ae===4)&&(ae=L.stateNode.containerInfo,ae===b||ae.nodeType===8&&ae.parentNode===b))return;L=L.return}for(;te!==null;){if(L=sl(te),L===null)return;if(ae=L.tag,ae===5||ae===6){x=T=L;continue e}te=te.parentNode}}x=x.return}_e(function(){var ye=T,$e=Br(f),He=[];e:{var Le=H2.get(o);if(Le!==void 0){var st=uc,dt=o;switch(o){case"keypress":if(cc(f)===0)break e;case"keydown":case"keyup":st=_;break;case"focusin":dt="focus",st=pc;break;case"focusout":dt="blur",st=pc;break;case"beforeblur":case"afterblur":st=pc;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=we;break;case V2:case B2:case U2:st=ma;break;case z2:st=cr;break;case"scroll":st=zm;break;case"wheel":st=Qt;break;case"copy":case"cut":case"paste":st=lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=W}var ft=(c&4)!==0,Qr=!ft&&o==="scroll",he=ft?Le!==null?Le+"Capture":null:Le;ft=[];for(var oe=ye,ge;oe!==null;){ge=oe;var Ke=ge.stateNode;if(ge.tag===5&&Ke!==null&&(ge=Ke,he!==null&&(Ke=Ne(oe,he),Ke!=null&&ft.push(Ju(oe,Ke,ge)))),Qr)break;oe=oe.return}0<ft.length&&(Le=new st(Le,dt,null,f,$e),He.push({event:Le,listeners:ft}))}}if((c&7)===0){e:{if(Le=o==="mouseover"||o==="pointerover",st=o==="mouseout"||o==="pointerout",Le&&f!==xr&&(dt=f.relatedTarget||f.fromElement)&&(sl(dt)||dt[ga]))break e;if((st||Le)&&(Le=$e.window===$e?$e:(Le=$e.ownerDocument)?Le.defaultView||Le.parentWindow:window,st?(dt=f.relatedTarget||f.toElement,st=ye,dt=dt?sl(dt):null,dt!==null&&(Qr=Z(dt),dt!==Qr||dt.tag!==5&&dt.tag!==6)&&(dt=null)):(st=null,dt=ye),st!==dt)){if(ft=hc,Ke="onMouseLeave",he="onMouseEnter",oe="mouse",(o==="pointerout"||o==="pointerover")&&(ft=W,Ke="onPointerLeave",he="onPointerEnter",oe="pointer"),Qr=st==null?Le:_c(st),ge=dt==null?Le:_c(dt),Le=new ft(Ke,oe+"leave",st,f,$e),Le.target=Qr,Le.relatedTarget=ge,Ke=null,sl($e)===ye&&(ft=new ft(he,oe+"enter",dt,f,$e),ft.target=ge,ft.relatedTarget=Qr,Ke=ft),Qr=Ke,st&&dt)t:{for(ft=st,he=dt,oe=0,ge=ft;ge;ge=bc(ge))oe++;for(ge=0,Ke=he;Ke;Ke=bc(Ke))ge++;for(;0<oe-ge;)ft=bc(ft),oe--;for(;0<ge-oe;)he=bc(he),ge--;for(;oe--;){if(ft===he||he!==null&&ft===he.alternate)break t;ft=bc(ft),he=bc(he)}ft=null}else ft=null;st!==null&&X2(He,Le,st,ft,!1),dt!==null&&Qr!==null&&X2(He,Qr,dt,ft,!0)}}e:{if(Le=ye?_c(ye):window,st=Le.nodeName&&Le.nodeName.toLowerCase(),st==="select"||st==="input"&&Le.type==="file")var pt=cC;else if(A2(Le))if(I2)pt=fC;else{pt=dC;var Et=uC}else(st=Le.nodeName)&&st.toLowerCase()==="input"&&(Le.type==="checkbox"||Le.type==="radio")&&(pt=hC);if(pt&&(pt=pt(o,ye))){C2(He,pt,f,$e);break e}Et&&Et(o,Le,ye),o==="focusout"&&(Et=Le._wrapperState)&&Et.controlled&&Le.type==="number"&&Ct(Le,"number",Le.value)}switch(Et=ye?_c(ye):window,o){case"focusin":(A2(Et)||Et.contentEditable==="true")&&(yc=Et,Gm=ye,Xu=null);break;case"focusout":Xu=Gm=yc=null;break;case"mousedown":Km=!0;break;case"contextmenu":case"mouseup":case"dragend":Km=!1,M2(He,f,$e);break;case"selectionchange":if(gC)break;case"keydown":case"keyup":M2(He,f,$e)}var Tt;if(tn)e:{switch(o){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else xc?N2(o,f)&&(Dt="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(Dt="onCompositionStart");Dt&&(il&&f.locale!=="ko"&&(xc||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&xc&&(Tt=Uu()):(Ai=$e,lc="value"in Ai?Ai.value:Ai.textContent,xc=!0)),Et=gh(ye,Dt),0<Et.length&&(Dt=new Wu(Dt,o,null,f,$e),He.push({event:Dt,listeners:Et}),Tt?Dt.data=Tt:(Tt=S2(f),Tt!==null&&(Dt.data=Tt)))),(Tt=Ci?sC(o,f):aC(o,f))&&(ye=gh(ye,"onBeforeInput"),0<ye.length&&($e=new Wu("onBeforeInput","beforeinput",null,f,$e),He.push({event:$e,listeners:ye}),$e.data=Tt))}G2(He,c)})}function Ju(o,c,f){return{instance:o,listener:c,currentTarget:f}}function gh(o,c){for(var f=c+"Capture",x=[];o!==null;){var b=o,T=b.stateNode;b.tag===5&&T!==null&&(b=T,T=Ne(o,f),T!=null&&x.unshift(Ju(o,T,b)),T=Ne(o,c),T!=null&&x.push(Ju(o,T,b))),o=o.return}return x}function bc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function X2(o,c,f,x,b){for(var T=c._reactName,L=[];f!==null&&f!==x;){var te=f,ae=te.alternate,ye=te.stateNode;if(ae!==null&&ae===x)break;te.tag===5&&ye!==null&&(te=ye,b?(ae=Ne(f,T),ae!=null&&L.unshift(Ju(f,ae,te))):b||(ae=Ne(f,T),ae!=null&&L.push(Ju(f,ae,te)))),f=f.return}L.length!==0&&o.push({event:c,listeners:L})}var bC=/\r\n?/g,wC=/\u0000|\uFFFD/g;function Y2(o){return(typeof o=="string"?o:""+o).replace(bC,`
`).replace(wC,"")}function xh(o,c,f){if(c=Y2(c),Y2(o)!==c&&f)throw Error(r(425))}function yh(){}var eg=null,tg=null;function rg(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var ng=typeof setTimeout=="function"?setTimeout:void 0,_C=typeof clearTimeout=="function"?clearTimeout:void 0,Q2=typeof Promise=="function"?Promise:void 0,EC=typeof queueMicrotask=="function"?queueMicrotask:typeof Q2<"u"?function(o){return Q2.resolve(null).then(o).catch(TC)}:ng;function TC(o){setTimeout(function(){throw o})}function ig(o,c){var f=c,x=0;do{var b=f.nextSibling;if(o.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(x===0){o.removeChild(b),fs(c);return}x--}else f!=="$"&&f!=="$?"&&f!=="$!"||x++;f=b}while(f);fs(c)}function no(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function J2(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return o;c--}else f==="/$"&&c++}o=o.previousSibling}return null}var wc=Math.random().toString(36).slice(2),zs="__reactFiber$"+wc,Zu="__reactProps$"+wc,ga="__reactContainer$"+wc,sg="__reactEvents$"+wc,kC="__reactListeners$"+wc,NC="__reactHandles$"+wc;function sl(o){var c=o[zs];if(c)return c;for(var f=o.parentNode;f;){if(c=f[ga]||f[zs]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(o=J2(o);o!==null;){if(f=o[zs])return f;o=J2(o)}return c}o=f,f=o.parentNode}return null}function ed(o){return o=o[zs]||o[ga],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function _c(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function vh(o){return o[Zu]||null}var ag=[],Ec=-1;function io(o){return{current:o}}function Sr(o){0>Ec||(o.current=ag[Ec],ag[Ec]=null,Ec--)}function _r(o,c){Ec++,ag[Ec]=o.current,o.current=c}var so={},Vn=io(so),di=io(!1),al=so;function Tc(o,c){var f=o.type.contextTypes;if(!f)return so;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var b={},T;for(T in f)b[T]=c[T];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=b),b}function hi(o){return o=o.childContextTypes,o!=null}function bh(){Sr(di),Sr(Vn)}function Z2(o,c,f){if(Vn.current!==so)throw Error(r(168));_r(Vn,c),_r(di,f)}function eb(o,c,f){var x=o.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return f;x=x.getChildContext();for(var b in x)if(!(b in c))throw Error(r(108,Ce(o)||"Unknown",b));return me({},f,x)}function wh(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||so,al=Vn.current,_r(Vn,o),_r(di,di.current),!0}function tb(o,c,f){var x=o.stateNode;if(!x)throw Error(r(169));f?(o=eb(o,c,al),x.__reactInternalMemoizedMergedChildContext=o,Sr(di),Sr(Vn),_r(Vn,o)):Sr(di),_r(di,f)}var xa=null,_h=!1,og=!1;function rb(o){xa===null?xa=[o]:xa.push(o)}function SC(o){_h=!0,rb(o)}function ao(){if(!og&&xa!==null){og=!0;var o=0,c=Kt;try{var f=xa;for(Kt=1;o<f.length;o++){var x=f[o];do x=x(!0);while(x!==null)}xa=null,_h=!1}catch(b){throw xa!==null&&(xa=xa.slice(o+1)),Me(tr,ao),b}finally{Kt=c,og=!1}}return null}var kc=[],Nc=0,Eh=null,Th=0,Gi=[],Ki=0,ol=null,ya=1,va="";function ll(o,c){kc[Nc++]=Th,kc[Nc++]=Eh,Eh=o,Th=c}function nb(o,c,f){Gi[Ki++]=ya,Gi[Ki++]=va,Gi[Ki++]=ol,ol=o;var x=ya;o=va;var b=32-kr(x)-1;x&=~(1<<b),f+=1;var T=32-kr(c)+b;if(30<T){var L=b-b%5;T=(x&(1<<L)-1).toString(32),x>>=L,b-=L,ya=1<<32-kr(c)+b|f<<b|x,va=T+o}else ya=1<<T|f<<b|x,va=o}function lg(o){o.return!==null&&(ll(o,1),nb(o,1,0))}function cg(o){for(;o===Eh;)Eh=kc[--Nc],kc[Nc]=null,Th=kc[--Nc],kc[Nc]=null;for(;o===ol;)ol=Gi[--Ki],Gi[Ki]=null,va=Gi[--Ki],Gi[Ki]=null,ya=Gi[--Ki],Gi[Ki]=null}var Ii=null,ji=null,Ir=!1,gs=null;function ib(o,c){var f=Ji(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=o,c=o.deletions,c===null?(o.deletions=[f],o.flags|=16):c.push(f)}function sb(o,c){switch(o.tag){case 5:var f=o.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,Ii=o,ji=no(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,Ii=o,ji=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=ol!==null?{id:ya,overflow:va}:null,o.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=Ji(18,null,null,0),f.stateNode=c,f.return=o,o.child=f,Ii=o,ji=null,!0):!1;default:return!1}}function ug(o){return(o.mode&1)!==0&&(o.flags&128)===0}function dg(o){if(Ir){var c=ji;if(c){var f=c;if(!sb(o,c)){if(ug(o))throw Error(r(418));c=no(f.nextSibling);var x=Ii;c&&sb(o,c)?ib(x,f):(o.flags=o.flags&-4097|2,Ir=!1,Ii=o)}}else{if(ug(o))throw Error(r(418));o.flags=o.flags&-4097|2,Ir=!1,Ii=o}}}function ab(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Ii=o}function kh(o){if(o!==Ii)return!1;if(!Ir)return ab(o),Ir=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!rg(o.type,o.memoizedProps)),c&&(c=ji)){if(ug(o))throw ob(),Error(r(418));for(;c;)ib(o,c),c=no(c.nextSibling)}if(ab(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(c===0){ji=no(o.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}o=o.nextSibling}ji=null}}else ji=Ii?no(o.stateNode.nextSibling):null;return!0}function ob(){for(var o=ji;o;)o=no(o.nextSibling)}function Sc(){ji=Ii=null,Ir=!1}function hg(o){gs===null?gs=[o]:gs.push(o)}var AC=j.ReactCurrentBatchConfig;function td(o,c,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var x=f.stateNode}if(!x)throw Error(r(147,o));var b=x,T=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===T?c.ref:(c=function(L){var te=b.refs;L===null?delete te[T]:te[T]=L},c._stringRef=T,c)}if(typeof o!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,o))}return o}function Nh(o,c){throw o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function lb(o){var c=o._init;return c(o._payload)}function cb(o){function c(he,oe){if(o){var ge=he.deletions;ge===null?(he.deletions=[oe],he.flags|=16):ge.push(oe)}}function f(he,oe){if(!o)return null;for(;oe!==null;)c(he,oe),oe=oe.sibling;return null}function x(he,oe){for(he=new Map;oe!==null;)oe.key!==null?he.set(oe.key,oe):he.set(oe.index,oe),oe=oe.sibling;return he}function b(he,oe){return he=mo(he,oe),he.index=0,he.sibling=null,he}function T(he,oe,ge){return he.index=ge,o?(ge=he.alternate,ge!==null?(ge=ge.index,ge<oe?(he.flags|=2,oe):ge):(he.flags|=2,oe)):(he.flags|=1048576,oe)}function L(he){return o&&he.alternate===null&&(he.flags|=2),he}function te(he,oe,ge,Ke){return oe===null||oe.tag!==6?(oe=nx(ge,he.mode,Ke),oe.return=he,oe):(oe=b(oe,ge),oe.return=he,oe)}function ae(he,oe,ge,Ke){var pt=ge.type;return pt===A?$e(he,oe,ge.props.children,Ke,ge.key):oe!==null&&(oe.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===Be&&lb(pt)===oe.type)?(Ke=b(oe,ge.props),Ke.ref=td(he,oe,ge),Ke.return=he,Ke):(Ke=Yh(ge.type,ge.key,ge.props,null,he.mode,Ke),Ke.ref=td(he,oe,ge),Ke.return=he,Ke)}function ye(he,oe,ge,Ke){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ge.containerInfo||oe.stateNode.implementation!==ge.implementation?(oe=ix(ge,he.mode,Ke),oe.return=he,oe):(oe=b(oe,ge.children||[]),oe.return=he,oe)}function $e(he,oe,ge,Ke,pt){return oe===null||oe.tag!==7?(oe=gl(ge,he.mode,Ke,pt),oe.return=he,oe):(oe=b(oe,ge),oe.return=he,oe)}function He(he,oe,ge){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=nx(""+oe,he.mode,ge),oe.return=he,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case X:return ge=Yh(oe.type,oe.key,oe.props,null,he.mode,ge),ge.ref=td(he,null,oe),ge.return=he,ge;case U:return oe=ix(oe,he.mode,ge),oe.return=he,oe;case Be:var Ke=oe._init;return He(he,Ke(oe._payload),ge)}if(er(oe)||ie(oe))return oe=gl(oe,he.mode,ge,null),oe.return=he,oe;Nh(he,oe)}return null}function Le(he,oe,ge,Ke){var pt=oe!==null?oe.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number")return pt!==null?null:te(he,oe,""+ge,Ke);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case X:return ge.key===pt?ae(he,oe,ge,Ke):null;case U:return ge.key===pt?ye(he,oe,ge,Ke):null;case Be:return pt=ge._init,Le(he,oe,pt(ge._payload),Ke)}if(er(ge)||ie(ge))return pt!==null?null:$e(he,oe,ge,Ke,null);Nh(he,ge)}return null}function st(he,oe,ge,Ke,pt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return he=he.get(ge)||null,te(oe,he,""+Ke,pt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case X:return he=he.get(Ke.key===null?ge:Ke.key)||null,ae(oe,he,Ke,pt);case U:return he=he.get(Ke.key===null?ge:Ke.key)||null,ye(oe,he,Ke,pt);case Be:var Et=Ke._init;return st(he,oe,ge,Et(Ke._payload),pt)}if(er(Ke)||ie(Ke))return he=he.get(ge)||null,$e(oe,he,Ke,pt,null);Nh(oe,Ke)}return null}function dt(he,oe,ge,Ke){for(var pt=null,Et=null,Tt=oe,Dt=oe=0,xn=null;Tt!==null&&Dt<ge.length;Dt++){Tt.index>Dt?(xn=Tt,Tt=null):xn=Tt.sibling;var nr=Le(he,Tt,ge[Dt],Ke);if(nr===null){Tt===null&&(Tt=xn);break}o&&Tt&&nr.alternate===null&&c(he,Tt),oe=T(nr,oe,Dt),Et===null?pt=nr:Et.sibling=nr,Et=nr,Tt=xn}if(Dt===ge.length)return f(he,Tt),Ir&&ll(he,Dt),pt;if(Tt===null){for(;Dt<ge.length;Dt++)Tt=He(he,ge[Dt],Ke),Tt!==null&&(oe=T(Tt,oe,Dt),Et===null?pt=Tt:Et.sibling=Tt,Et=Tt);return Ir&&ll(he,Dt),pt}for(Tt=x(he,Tt);Dt<ge.length;Dt++)xn=st(Tt,he,Dt,ge[Dt],Ke),xn!==null&&(o&&xn.alternate!==null&&Tt.delete(xn.key===null?Dt:xn.key),oe=T(xn,oe,Dt),Et===null?pt=xn:Et.sibling=xn,Et=xn);return o&&Tt.forEach(function(go){return c(he,go)}),Ir&&ll(he,Dt),pt}function ft(he,oe,ge,Ke){var pt=ie(ge);if(typeof pt!="function")throw Error(r(150));if(ge=pt.call(ge),ge==null)throw Error(r(151));for(var Et=pt=null,Tt=oe,Dt=oe=0,xn=null,nr=ge.next();Tt!==null&&!nr.done;Dt++,nr=ge.next()){Tt.index>Dt?(xn=Tt,Tt=null):xn=Tt.sibling;var go=Le(he,Tt,nr.value,Ke);if(go===null){Tt===null&&(Tt=xn);break}o&&Tt&&go.alternate===null&&c(he,Tt),oe=T(go,oe,Dt),Et===null?pt=go:Et.sibling=go,Et=go,Tt=xn}if(nr.done)return f(he,Tt),Ir&&ll(he,Dt),pt;if(Tt===null){for(;!nr.done;Dt++,nr=ge.next())nr=He(he,nr.value,Ke),nr!==null&&(oe=T(nr,oe,Dt),Et===null?pt=nr:Et.sibling=nr,Et=nr);return Ir&&ll(he,Dt),pt}for(Tt=x(he,Tt);!nr.done;Dt++,nr=ge.next())nr=st(Tt,he,Dt,nr.value,Ke),nr!==null&&(o&&nr.alternate!==null&&Tt.delete(nr.key===null?Dt:nr.key),oe=T(nr,oe,Dt),Et===null?pt=nr:Et.sibling=nr,Et=nr);return o&&Tt.forEach(function(oI){return c(he,oI)}),Ir&&ll(he,Dt),pt}function Qr(he,oe,ge,Ke){if(typeof ge=="object"&&ge!==null&&ge.type===A&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case X:e:{for(var pt=ge.key,Et=oe;Et!==null;){if(Et.key===pt){if(pt=ge.type,pt===A){if(Et.tag===7){f(he,Et.sibling),oe=b(Et,ge.props.children),oe.return=he,he=oe;break e}}else if(Et.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===Be&&lb(pt)===Et.type){f(he,Et.sibling),oe=b(Et,ge.props),oe.ref=td(he,Et,ge),oe.return=he,he=oe;break e}f(he,Et);break}else c(he,Et);Et=Et.sibling}ge.type===A?(oe=gl(ge.props.children,he.mode,Ke,ge.key),oe.return=he,he=oe):(Ke=Yh(ge.type,ge.key,ge.props,null,he.mode,Ke),Ke.ref=td(he,oe,ge),Ke.return=he,he=Ke)}return L(he);case U:e:{for(Et=ge.key;oe!==null;){if(oe.key===Et)if(oe.tag===4&&oe.stateNode.containerInfo===ge.containerInfo&&oe.stateNode.implementation===ge.implementation){f(he,oe.sibling),oe=b(oe,ge.children||[]),oe.return=he,he=oe;break e}else{f(he,oe);break}else c(he,oe);oe=oe.sibling}oe=ix(ge,he.mode,Ke),oe.return=he,he=oe}return L(he);case Be:return Et=ge._init,Qr(he,oe,Et(ge._payload),Ke)}if(er(ge))return dt(he,oe,ge,Ke);if(ie(ge))return ft(he,oe,ge,Ke);Nh(he,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"?(ge=""+ge,oe!==null&&oe.tag===6?(f(he,oe.sibling),oe=b(oe,ge),oe.return=he,he=oe):(f(he,oe),oe=nx(ge,he.mode,Ke),oe.return=he,he=oe),L(he)):f(he,oe)}return Qr}var Ac=cb(!0),ub=cb(!1),Sh=io(null),Ah=null,Cc=null,fg=null;function pg(){fg=Cc=Ah=null}function mg(o){var c=Sh.current;Sr(Sh),o._currentValue=c}function gg(o,c,f){for(;o!==null;){var x=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),o===f)break;o=o.return}}function Ic(o,c){Ah=o,fg=Cc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(fi=!0),o.firstContext=null)}function Xi(o){var c=o._currentValue;if(fg!==o)if(o={context:o,memoizedValue:c,next:null},Cc===null){if(Ah===null)throw Error(r(308));Cc=o,Ah.dependencies={lanes:0,firstContext:o}}else Cc=Cc.next=o;return c}var cl=null;function xg(o){cl===null?cl=[o]:cl.push(o)}function db(o,c,f,x){var b=c.interleaved;return b===null?(f.next=f,xg(c)):(f.next=b.next,b.next=f),c.interleaved=f,ba(o,x)}function ba(o,c){o.lanes|=c;var f=o.alternate;for(f!==null&&(f.lanes|=c),f=o,o=o.return;o!==null;)o.childLanes|=c,f=o.alternate,f!==null&&(f.childLanes|=c),f=o,o=o.return;return f.tag===3?f.stateNode:null}var oo=!1;function yg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hb(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function wa(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function lo(o,c,f){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(rr&2)!==0){var b=x.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),x.pending=c,ba(o,f)}return b=x.interleaved,b===null?(c.next=c,xg(x)):(c.next=b.next,b.next=c),x.interleaved=c,ba(o,f)}function Ch(o,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var x=c.lanes;x&=o.pendingLanes,f|=x,c.lanes=f,Qa(o,f)}}function fb(o,c){var f=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,f===x)){var b=null,T=null;if(f=f.firstBaseUpdate,f!==null){do{var L={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};T===null?b=T=L:T=T.next=L,f=f.next}while(f!==null);T===null?b=T=c:T=T.next=c}else b=T=c;f={baseState:x.baseState,firstBaseUpdate:b,lastBaseUpdate:T,shared:x.shared,effects:x.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=c}function Ih(o,c,f,x){var b=o.updateQueue;oo=!1;var T=b.firstBaseUpdate,L=b.lastBaseUpdate,te=b.shared.pending;if(te!==null){b.shared.pending=null;var ae=te,ye=ae.next;ae.next=null,L===null?T=ye:L.next=ye,L=ae;var $e=o.alternate;$e!==null&&($e=$e.updateQueue,te=$e.lastBaseUpdate,te!==L&&(te===null?$e.firstBaseUpdate=ye:te.next=ye,$e.lastBaseUpdate=ae))}if(T!==null){var He=b.baseState;L=0,$e=ye=ae=null,te=T;do{var Le=te.lane,st=te.eventTime;if((x&Le)===Le){$e!==null&&($e=$e.next={eventTime:st,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var dt=o,ft=te;switch(Le=c,st=f,ft.tag){case 1:if(dt=ft.payload,typeof dt=="function"){He=dt.call(st,He,Le);break e}He=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=ft.payload,Le=typeof dt=="function"?dt.call(st,He,Le):dt,Le==null)break e;He=me({},He,Le);break e;case 2:oo=!0}}te.callback!==null&&te.lane!==0&&(o.flags|=64,Le=b.effects,Le===null?b.effects=[te]:Le.push(te))}else st={eventTime:st,lane:Le,tag:te.tag,payload:te.payload,callback:te.callback,next:null},$e===null?(ye=$e=st,ae=He):$e=$e.next=st,L|=Le;if(te=te.next,te===null){if(te=b.shared.pending,te===null)break;Le=te,te=Le.next,Le.next=null,b.lastBaseUpdate=Le,b.shared.pending=null}}while(!0);if($e===null&&(ae=He),b.baseState=ae,b.firstBaseUpdate=ye,b.lastBaseUpdate=$e,c=b.shared.interleaved,c!==null){b=c;do L|=b.lane,b=b.next;while(b!==c)}else T===null&&(b.shared.lanes=0);hl|=L,o.lanes=L,o.memoizedState=He}}function pb(o,c,f){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var x=o[c],b=x.callback;if(b!==null){if(x.callback=null,x=f,typeof b!="function")throw Error(r(191,b));b.call(x)}}}var rd={},Hs=io(rd),nd=io(rd),id=io(rd);function ul(o){if(o===rd)throw Error(r(174));return o}function vg(o,c){switch(_r(id,c),_r(nd,o),_r(Hs,rd),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Te(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=Te(c,o)}Sr(Hs),_r(Hs,c)}function jc(){Sr(Hs),Sr(nd),Sr(id)}function mb(o){ul(id.current);var c=ul(Hs.current),f=Te(c,o.type);c!==f&&(_r(nd,o),_r(Hs,f))}function bg(o){nd.current===o&&(Sr(Hs),Sr(nd))}var Rr=io(0);function jh(o){for(var c=o;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var wg=[];function _g(){for(var o=0;o<wg.length;o++)wg[o]._workInProgressVersionPrimary=null;wg.length=0}var Ph=j.ReactCurrentDispatcher,Eg=j.ReactCurrentBatchConfig,dl=0,Dr=null,un=null,mn=null,Rh=!1,sd=!1,ad=0,CC=0;function Bn(){throw Error(r(321))}function Tg(o,c){if(c===null)return!1;for(var f=0;f<c.length&&f<o.length;f++)if(!ms(o[f],c[f]))return!1;return!0}function kg(o,c,f,x,b,T){if(dl=T,Dr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Ph.current=o===null||o.memoizedState===null?RC:DC,o=f(x,b),sd){T=0;do{if(sd=!1,ad=0,25<=T)throw Error(r(301));T+=1,mn=un=null,c.updateQueue=null,Ph.current=OC,o=f(x,b)}while(sd)}if(Ph.current=Fh,c=un!==null&&un.next!==null,dl=0,mn=un=Dr=null,Rh=!1,c)throw Error(r(300));return o}function Ng(){var o=ad!==0;return ad=0,o}function Ws(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Dr.memoizedState=mn=o:mn=mn.next=o,mn}function Yi(){if(un===null){var o=Dr.alternate;o=o!==null?o.memoizedState:null}else o=un.next;var c=mn===null?Dr.memoizedState:mn.next;if(c!==null)mn=c,un=o;else{if(o===null)throw Error(r(310));un=o,o={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},mn===null?Dr.memoizedState=mn=o:mn=mn.next=o}return mn}function od(o,c){return typeof c=="function"?c(o):c}function Sg(o){var c=Yi(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var x=un,b=x.baseQueue,T=f.pending;if(T!==null){if(b!==null){var L=b.next;b.next=T.next,T.next=L}x.baseQueue=b=T,f.pending=null}if(b!==null){T=b.next,x=x.baseState;var te=L=null,ae=null,ye=T;do{var $e=ye.lane;if((dl&$e)===$e)ae!==null&&(ae=ae.next={lane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),x=ye.hasEagerState?ye.eagerState:o(x,ye.action);else{var He={lane:$e,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null};ae===null?(te=ae=He,L=x):ae=ae.next=He,Dr.lanes|=$e,hl|=$e}ye=ye.next}while(ye!==null&&ye!==T);ae===null?L=x:ae.next=te,ms(x,c.memoizedState)||(fi=!0),c.memoizedState=x,c.baseState=L,c.baseQueue=ae,f.lastRenderedState=x}if(o=f.interleaved,o!==null){b=o;do T=b.lane,Dr.lanes|=T,hl|=T,b=b.next;while(b!==o)}else b===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function Ag(o){var c=Yi(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=o;var x=f.dispatch,b=f.pending,T=c.memoizedState;if(b!==null){f.pending=null;var L=b=b.next;do T=o(T,L.action),L=L.next;while(L!==b);ms(T,c.memoizedState)||(fi=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),f.lastRenderedState=T}return[T,x]}function gb(){}function xb(o,c){var f=Dr,x=Yi(),b=c(),T=!ms(x.memoizedState,b);if(T&&(x.memoizedState=b,fi=!0),x=x.queue,Cg(bb.bind(null,f,x,o),[o]),x.getSnapshot!==c||T||mn!==null&&mn.memoizedState.tag&1){if(f.flags|=2048,ld(9,vb.bind(null,f,x,b,c),void 0,null),gn===null)throw Error(r(349));(dl&30)!==0||yb(f,c,b)}return b}function yb(o,c,f){o.flags|=16384,o={getSnapshot:c,value:f},c=Dr.updateQueue,c===null?(c={lastEffect:null,stores:null},Dr.updateQueue=c,c.stores=[o]):(f=c.stores,f===null?c.stores=[o]:f.push(o))}function vb(o,c,f,x){c.value=f,c.getSnapshot=x,wb(c)&&_b(o)}function bb(o,c,f){return f(function(){wb(c)&&_b(o)})}function wb(o){var c=o.getSnapshot;o=o.value;try{var f=c();return!ms(o,f)}catch{return!0}}function _b(o){var c=ba(o,1);c!==null&&bs(c,o,1,-1)}function Eb(o){var c=Ws();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:od,lastRenderedState:o},c.queue=o,o=o.dispatch=PC.bind(null,Dr,o),[c.memoizedState,o]}function ld(o,c,f,x){return o={tag:o,create:c,destroy:f,deps:x,next:null},c=Dr.updateQueue,c===null?(c={lastEffect:null,stores:null},Dr.updateQueue=c,c.lastEffect=o.next=o):(f=c.lastEffect,f===null?c.lastEffect=o.next=o:(x=f.next,f.next=o,o.next=x,c.lastEffect=o)),o}function Tb(){return Yi().memoizedState}function Dh(o,c,f,x){var b=Ws();Dr.flags|=o,b.memoizedState=ld(1|c,f,void 0,x===void 0?null:x)}function Oh(o,c,f,x){var b=Yi();x=x===void 0?null:x;var T=void 0;if(un!==null){var L=un.memoizedState;if(T=L.destroy,x!==null&&Tg(x,L.deps)){b.memoizedState=ld(c,f,T,x);return}}Dr.flags|=o,b.memoizedState=ld(1|c,f,T,x)}function kb(o,c){return Dh(8390656,8,o,c)}function Cg(o,c){return Oh(2048,8,o,c)}function Nb(o,c){return Oh(4,2,o,c)}function Sb(o,c){return Oh(4,4,o,c)}function Ab(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function Cb(o,c,f){return f=f!=null?f.concat([o]):null,Oh(4,4,Ab.bind(null,c,o),f)}function Ig(){}function Ib(o,c){var f=Yi();c=c===void 0?null:c;var x=f.memoizedState;return x!==null&&c!==null&&Tg(c,x[1])?x[0]:(f.memoizedState=[o,c],o)}function jb(o,c){var f=Yi();c=c===void 0?null:c;var x=f.memoizedState;return x!==null&&c!==null&&Tg(c,x[1])?x[0]:(o=o(),f.memoizedState=[o,c],o)}function Pb(o,c,f){return(dl&21)===0?(o.baseState&&(o.baseState=!1,fi=!0),o.memoizedState=f):(ms(f,c)||(f=el(),Dr.lanes|=f,hl|=f,o.baseState=!0),c)}function IC(o,c){var f=Kt;Kt=f!==0&&4>f?f:4,o(!0);var x=Eg.transition;Eg.transition={};try{o(!1),c()}finally{Kt=f,Eg.transition=x}}function Rb(){return Yi().memoizedState}function jC(o,c,f){var x=fo(o);if(f={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null},Db(o))Ob(c,f);else if(f=db(o,c,f,x),f!==null){var b=ti();bs(f,o,x,b),Fb(f,c,x)}}function PC(o,c,f){var x=fo(o),b={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null};if(Db(o))Ob(c,b);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var L=c.lastRenderedState,te=T(L,f);if(b.hasEagerState=!0,b.eagerState=te,ms(te,L)){var ae=c.interleaved;ae===null?(b.next=b,xg(c)):(b.next=ae.next,ae.next=b),c.interleaved=b;return}}catch{}finally{}f=db(o,c,b,x),f!==null&&(b=ti(),bs(f,o,x,b),Fb(f,c,x))}}function Db(o){var c=o.alternate;return o===Dr||c!==null&&c===Dr}function Ob(o,c){sd=Rh=!0;var f=o.pending;f===null?c.next=c:(c.next=f.next,f.next=c),o.pending=c}function Fb(o,c,f){if((f&4194240)!==0){var x=c.lanes;x&=o.pendingLanes,f|=x,c.lanes=f,Qa(o,f)}}var Fh={readContext:Xi,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useInsertionEffect:Bn,useLayoutEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useMutableSource:Bn,useSyncExternalStore:Bn,useId:Bn,unstable_isNewReconciler:!1},RC={readContext:Xi,useCallback:function(o,c){return Ws().memoizedState=[o,c===void 0?null:c],o},useContext:Xi,useEffect:kb,useImperativeHandle:function(o,c,f){return f=f!=null?f.concat([o]):null,Dh(4194308,4,Ab.bind(null,c,o),f)},useLayoutEffect:function(o,c){return Dh(4194308,4,o,c)},useInsertionEffect:function(o,c){return Dh(4,2,o,c)},useMemo:function(o,c){var f=Ws();return c=c===void 0?null:c,o=o(),f.memoizedState=[o,c],o},useReducer:function(o,c,f){var x=Ws();return c=f!==void 0?f(c):c,x.memoizedState=x.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},x.queue=o,o=o.dispatch=jC.bind(null,Dr,o),[x.memoizedState,o]},useRef:function(o){var c=Ws();return o={current:o},c.memoizedState=o},useState:Eb,useDebugValue:Ig,useDeferredValue:function(o){return Ws().memoizedState=o},useTransition:function(){var o=Eb(!1),c=o[0];return o=IC.bind(null,o[1]),Ws().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,f){var x=Dr,b=Ws();if(Ir){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),gn===null)throw Error(r(349));(dl&30)!==0||yb(x,c,f)}b.memoizedState=f;var T={value:f,getSnapshot:c};return b.queue=T,kb(bb.bind(null,x,T,o),[o]),x.flags|=2048,ld(9,vb.bind(null,x,T,f,c),void 0,null),f},useId:function(){var o=Ws(),c=gn.identifierPrefix;if(Ir){var f=va,x=ya;f=(x&~(1<<32-kr(x)-1)).toString(32)+f,c=":"+c+"R"+f,f=ad++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=CC++,c=":"+c+"r"+f.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},DC={readContext:Xi,useCallback:Ib,useContext:Xi,useEffect:Cg,useImperativeHandle:Cb,useInsertionEffect:Nb,useLayoutEffect:Sb,useMemo:jb,useReducer:Sg,useRef:Tb,useState:function(){return Sg(od)},useDebugValue:Ig,useDeferredValue:function(o){var c=Yi();return Pb(c,un.memoizedState,o)},useTransition:function(){var o=Sg(od)[0],c=Yi().memoizedState;return[o,c]},useMutableSource:gb,useSyncExternalStore:xb,useId:Rb,unstable_isNewReconciler:!1},OC={readContext:Xi,useCallback:Ib,useContext:Xi,useEffect:Cg,useImperativeHandle:Cb,useInsertionEffect:Nb,useLayoutEffect:Sb,useMemo:jb,useReducer:Ag,useRef:Tb,useState:function(){return Ag(od)},useDebugValue:Ig,useDeferredValue:function(o){var c=Yi();return un===null?c.memoizedState=o:Pb(c,un.memoizedState,o)},useTransition:function(){var o=Ag(od)[0],c=Yi().memoizedState;return[o,c]},useMutableSource:gb,useSyncExternalStore:xb,useId:Rb,unstable_isNewReconciler:!1};function xs(o,c){if(o&&o.defaultProps){c=me({},c),o=o.defaultProps;for(var f in o)c[f]===void 0&&(c[f]=o[f]);return c}return c}function jg(o,c,f,x){c=o.memoizedState,f=f(x,c),f=f==null?c:me({},c,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Lh={isMounted:function(o){return(o=o._reactInternals)?Z(o)===o:!1},enqueueSetState:function(o,c,f){o=o._reactInternals;var x=ti(),b=fo(o),T=wa(x,b);T.payload=c,f!=null&&(T.callback=f),c=lo(o,T,b),c!==null&&(bs(c,o,b,x),Ch(c,o,b))},enqueueReplaceState:function(o,c,f){o=o._reactInternals;var x=ti(),b=fo(o),T=wa(x,b);T.tag=1,T.payload=c,f!=null&&(T.callback=f),c=lo(o,T,b),c!==null&&(bs(c,o,b,x),Ch(c,o,b))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var f=ti(),x=fo(o),b=wa(f,x);b.tag=2,c!=null&&(b.callback=c),c=lo(o,b,x),c!==null&&(bs(c,o,x,f),Ch(c,o,x))}};function Lb(o,c,f,x,b,T,L){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,T,L):c.prototype&&c.prototype.isPureReactComponent?!Ku(f,x)||!Ku(b,T):!0}function Mb(o,c,f){var x=!1,b=so,T=c.contextType;return typeof T=="object"&&T!==null?T=Xi(T):(b=hi(c)?al:Vn.current,x=c.contextTypes,T=(x=x!=null)?Tc(o,b):so),c=new c(f,T),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Lh,o.stateNode=c,c._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=b,o.__reactInternalMemoizedMaskedChildContext=T),c}function $b(o,c,f,x){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,x),c.state!==o&&Lh.enqueueReplaceState(c,c.state,null)}function Pg(o,c,f,x){var b=o.stateNode;b.props=f,b.state=o.memoizedState,b.refs={},yg(o);var T=c.contextType;typeof T=="object"&&T!==null?b.context=Xi(T):(T=hi(c)?al:Vn.current,b.context=Tc(o,T)),b.state=o.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(jg(o,c,T,f),b.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(c=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),c!==b.state&&Lh.enqueueReplaceState(b,b.state,null),Ih(o,f,b,x),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308)}function Pc(o,c){try{var f="",x=c;do f+=ee(x),x=x.return;while(x);var b=f}catch(T){b=`
Error generating stack: `+T.message+`
`+T.stack}return{value:o,source:c,stack:b,digest:null}}function Rg(o,c,f){return{value:o,source:null,stack:f??null,digest:c??null}}function Dg(o,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var FC=typeof WeakMap=="function"?WeakMap:Map;function Vb(o,c,f){f=wa(-1,f),f.tag=3,f.payload={element:null};var x=c.value;return f.callback=function(){Hh||(Hh=!0,Xg=x),Dg(o,c)},f}function Bb(o,c,f){f=wa(-1,f),f.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var b=c.value;f.payload=function(){return x(b)},f.callback=function(){Dg(o,c)}}var T=o.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(f.callback=function(){Dg(o,c),typeof x!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var L=c.stack;this.componentDidCatch(c.value,{componentStack:L!==null?L:""})}),f}function Ub(o,c,f){var x=o.pingCache;if(x===null){x=o.pingCache=new FC;var b=new Set;x.set(c,b)}else b=x.get(c),b===void 0&&(b=new Set,x.set(c,b));b.has(f)||(b.add(f),o=YC.bind(null,o,c,f),c.then(o,o))}function zb(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function Hb(o,c,f,x,b){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=wa(-1,1),c.tag=2,lo(f,c,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=b,o)}var LC=j.ReactCurrentOwner,fi=!1;function ei(o,c,f,x){c.child=o===null?ub(c,null,f,x):Ac(c,o.child,f,x)}function Wb(o,c,f,x,b){f=f.render;var T=c.ref;return Ic(c,b),x=kg(o,c,f,x,T,b),f=Ng(),o!==null&&!fi?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~b,_a(o,c,b)):(Ir&&f&&lg(c),c.flags|=1,ei(o,c,x,b),c.child)}function qb(o,c,f,x,b){if(o===null){var T=f.type;return typeof T=="function"&&!rx(T)&&T.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=T,Gb(o,c,T,x,b)):(o=Yh(f.type,null,x,c,c.mode,b),o.ref=c.ref,o.return=c,c.child=o)}if(T=o.child,(o.lanes&b)===0){var L=T.memoizedProps;if(f=f.compare,f=f!==null?f:Ku,f(L,x)&&o.ref===c.ref)return _a(o,c,b)}return c.flags|=1,o=mo(T,x),o.ref=c.ref,o.return=c,c.child=o}function Gb(o,c,f,x,b){if(o!==null){var T=o.memoizedProps;if(Ku(T,x)&&o.ref===c.ref)if(fi=!1,c.pendingProps=x=T,(o.lanes&b)!==0)(o.flags&131072)!==0&&(fi=!0);else return c.lanes=o.lanes,_a(o,c,b)}return Og(o,c,f,x,b)}function Kb(o,c,f){var x=c.pendingProps,b=x.children,T=o!==null?o.memoizedState:null;if(x.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},_r(Dc,Pi),Pi|=f;else{if((f&1073741824)===0)return o=T!==null?T.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,_r(Dc,Pi),Pi|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=T!==null?T.baseLanes:f,_r(Dc,Pi),Pi|=x}else T!==null?(x=T.baseLanes|f,c.memoizedState=null):x=f,_r(Dc,Pi),Pi|=x;return ei(o,c,b,f),c.child}function Xb(o,c){var f=c.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function Og(o,c,f,x,b){var T=hi(f)?al:Vn.current;return T=Tc(c,T),Ic(c,b),f=kg(o,c,f,x,T,b),x=Ng(),o!==null&&!fi?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~b,_a(o,c,b)):(Ir&&x&&lg(c),c.flags|=1,ei(o,c,f,b),c.child)}function Yb(o,c,f,x,b){if(hi(f)){var T=!0;wh(c)}else T=!1;if(Ic(c,b),c.stateNode===null)$h(o,c),Mb(c,f,x),Pg(c,f,x,b),x=!0;else if(o===null){var L=c.stateNode,te=c.memoizedProps;L.props=te;var ae=L.context,ye=f.contextType;typeof ye=="object"&&ye!==null?ye=Xi(ye):(ye=hi(f)?al:Vn.current,ye=Tc(c,ye));var $e=f.getDerivedStateFromProps,He=typeof $e=="function"||typeof L.getSnapshotBeforeUpdate=="function";He||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(te!==x||ae!==ye)&&$b(c,L,x,ye),oo=!1;var Le=c.memoizedState;L.state=Le,Ih(c,x,L,b),ae=c.memoizedState,te!==x||Le!==ae||di.current||oo?(typeof $e=="function"&&(jg(c,f,$e,x),ae=c.memoizedState),(te=oo||Lb(c,f,te,x,Le,ae,ye))?(He||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(c.flags|=4194308)):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=ae),L.props=x,L.state=ae,L.context=ye,x=te):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{L=c.stateNode,hb(o,c),te=c.memoizedProps,ye=c.type===c.elementType?te:xs(c.type,te),L.props=ye,He=c.pendingProps,Le=L.context,ae=f.contextType,typeof ae=="object"&&ae!==null?ae=Xi(ae):(ae=hi(f)?al:Vn.current,ae=Tc(c,ae));var st=f.getDerivedStateFromProps;($e=typeof st=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(te!==He||Le!==ae)&&$b(c,L,x,ae),oo=!1,Le=c.memoizedState,L.state=Le,Ih(c,x,L,b);var dt=c.memoizedState;te!==He||Le!==dt||di.current||oo?(typeof st=="function"&&(jg(c,f,st,x),dt=c.memoizedState),(ye=oo||Lb(c,f,ye,x,Le,dt,ae)||!1)?($e||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(x,dt,ae),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(x,dt,ae)),typeof L.componentDidUpdate=="function"&&(c.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof L.componentDidUpdate!="function"||te===o.memoizedProps&&Le===o.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||te===o.memoizedProps&&Le===o.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=dt),L.props=x,L.state=dt,L.context=ae,x=ye):(typeof L.componentDidUpdate!="function"||te===o.memoizedProps&&Le===o.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||te===o.memoizedProps&&Le===o.memoizedState||(c.flags|=1024),x=!1)}return Fg(o,c,f,x,T,b)}function Fg(o,c,f,x,b,T){Xb(o,c);var L=(c.flags&128)!==0;if(!x&&!L)return b&&tb(c,f,!1),_a(o,c,T);x=c.stateNode,LC.current=c;var te=L&&typeof f.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,o!==null&&L?(c.child=Ac(c,o.child,null,T),c.child=Ac(c,null,te,T)):ei(o,c,te,T),c.memoizedState=x.state,b&&tb(c,f,!0),c.child}function Qb(o){var c=o.stateNode;c.pendingContext?Z2(o,c.pendingContext,c.pendingContext!==c.context):c.context&&Z2(o,c.context,!1),vg(o,c.containerInfo)}function Jb(o,c,f,x,b){return Sc(),hg(b),c.flags|=256,ei(o,c,f,x),c.child}var Lg={dehydrated:null,treeContext:null,retryLane:0};function Mg(o){return{baseLanes:o,cachePool:null,transitions:null}}function Zb(o,c,f){var x=c.pendingProps,b=Rr.current,T=!1,L=(c.flags&128)!==0,te;if((te=L)||(te=o!==null&&o.memoizedState===null?!1:(b&2)!==0),te?(T=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(b|=1),_r(Rr,b&1),o===null)return dg(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(L=x.children,o=x.fallback,T?(x=c.mode,T=c.child,L={mode:"hidden",children:L},(x&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=L):T=Qh(L,x,0,null),o=gl(o,x,f,null),T.return=c,o.return=c,T.sibling=o,c.child=T,c.child.memoizedState=Mg(f),c.memoizedState=Lg,o):$g(c,L));if(b=o.memoizedState,b!==null&&(te=b.dehydrated,te!==null))return MC(o,c,L,x,te,b,f);if(T){T=x.fallback,L=c.mode,b=o.child,te=b.sibling;var ae={mode:"hidden",children:x.children};return(L&1)===0&&c.child!==b?(x=c.child,x.childLanes=0,x.pendingProps=ae,c.deletions=null):(x=mo(b,ae),x.subtreeFlags=b.subtreeFlags&14680064),te!==null?T=mo(te,T):(T=gl(T,L,f,null),T.flags|=2),T.return=c,x.return=c,x.sibling=T,c.child=x,x=T,T=c.child,L=o.child.memoizedState,L=L===null?Mg(f):{baseLanes:L.baseLanes|f,cachePool:null,transitions:L.transitions},T.memoizedState=L,T.childLanes=o.childLanes&~f,c.memoizedState=Lg,x}return T=o.child,o=T.sibling,x=mo(T,{mode:"visible",children:x.children}),(c.mode&1)===0&&(x.lanes=f),x.return=c,x.sibling=null,o!==null&&(f=c.deletions,f===null?(c.deletions=[o],c.flags|=16):f.push(o)),c.child=x,c.memoizedState=null,x}function $g(o,c){return c=Qh({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function Mh(o,c,f,x){return x!==null&&hg(x),Ac(c,o.child,null,f),o=$g(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function MC(o,c,f,x,b,T,L){if(f)return c.flags&256?(c.flags&=-257,x=Rg(Error(r(422))),Mh(o,c,L,x)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(T=x.fallback,b=c.mode,x=Qh({mode:"visible",children:x.children},b,0,null),T=gl(T,b,L,null),T.flags|=2,x.return=c,T.return=c,x.sibling=T,c.child=x,(c.mode&1)!==0&&Ac(c,o.child,null,L),c.child.memoizedState=Mg(L),c.memoizedState=Lg,T);if((c.mode&1)===0)return Mh(o,c,L,null);if(b.data==="$!"){if(x=b.nextSibling&&b.nextSibling.dataset,x)var te=x.dgst;return x=te,T=Error(r(419)),x=Rg(T,x,void 0),Mh(o,c,L,x)}if(te=(L&o.childLanes)!==0,fi||te){if(x=gn,x!==null){switch(L&-L){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(x.suspendedLanes|L))!==0?0:b,b!==0&&b!==T.retryLane&&(T.retryLane=b,ba(o,b),bs(x,o,b,-1))}return tx(),x=Rg(Error(r(421))),Mh(o,c,L,x)}return b.data==="$?"?(c.flags|=128,c.child=o.child,c=QC.bind(null,o),b._reactRetry=c,null):(o=T.treeContext,ji=no(b.nextSibling),Ii=c,Ir=!0,gs=null,o!==null&&(Gi[Ki++]=ya,Gi[Ki++]=va,Gi[Ki++]=ol,ya=o.id,va=o.overflow,ol=c),c=$g(c,x.children),c.flags|=4096,c)}function ew(o,c,f){o.lanes|=c;var x=o.alternate;x!==null&&(x.lanes|=c),gg(o.return,c,f)}function Vg(o,c,f,x,b){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:f,tailMode:b}:(T.isBackwards=c,T.rendering=null,T.renderingStartTime=0,T.last=x,T.tail=f,T.tailMode=b)}function tw(o,c,f){var x=c.pendingProps,b=x.revealOrder,T=x.tail;if(ei(o,c,x.children,f),x=Rr.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&ew(o,f,c);else if(o.tag===19)ew(o,f,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if(_r(Rr,x),(c.mode&1)===0)c.memoizedState=null;else switch(b){case"forwards":for(f=c.child,b=null;f!==null;)o=f.alternate,o!==null&&jh(o)===null&&(b=f),f=f.sibling;f=b,f===null?(b=c.child,c.child=null):(b=f.sibling,f.sibling=null),Vg(c,!1,b,f,T);break;case"backwards":for(f=null,b=c.child,c.child=null;b!==null;){if(o=b.alternate,o!==null&&jh(o)===null){c.child=b;break}o=b.sibling,b.sibling=f,f=b,b=o}Vg(c,!0,f,null,T);break;case"together":Vg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function $h(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function _a(o,c,f){if(o!==null&&(c.dependencies=o.dependencies),hl|=c.lanes,(f&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,f=mo(o,o.pendingProps),c.child=f,f.return=c;o.sibling!==null;)o=o.sibling,f=f.sibling=mo(o,o.pendingProps),f.return=c;f.sibling=null}return c.child}function $C(o,c,f){switch(c.tag){case 3:Qb(c),Sc();break;case 5:mb(c);break;case 1:hi(c.type)&&wh(c);break;case 4:vg(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,b=c.memoizedProps.value;_r(Sh,x._currentValue),x._currentValue=b;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?(_r(Rr,Rr.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?Zb(o,c,f):(_r(Rr,Rr.current&1),o=_a(o,c,f),o!==null?o.sibling:null);_r(Rr,Rr.current&1);break;case 19:if(x=(f&c.childLanes)!==0,(o.flags&128)!==0){if(x)return tw(o,c,f);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),_r(Rr,Rr.current),x)break;return null;case 22:case 23:return c.lanes=0,Kb(o,c,f)}return _a(o,c,f)}var rw,Bg,nw,iw;rw=function(o,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Bg=function(){},nw=function(o,c,f,x){var b=o.memoizedProps;if(b!==x){o=c.stateNode,ul(Hs.current);var T=null;switch(f){case"input":b=wt(o,b),x=wt(o,x),T=[];break;case"select":b=me({},b,{value:void 0}),x=me({},x,{value:void 0}),T=[];break;case"textarea":b=et(o,b),x=et(o,x),T=[];break;default:typeof b.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=yh)}Vr(f,x);var L;f=null;for(ye in b)if(!x.hasOwnProperty(ye)&&b.hasOwnProperty(ye)&&b[ye]!=null)if(ye==="style"){var te=b[ye];for(L in te)te.hasOwnProperty(L)&&(f||(f={}),f[L]="")}else ye!=="dangerouslySetInnerHTML"&&ye!=="children"&&ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&ye!=="autoFocus"&&(i.hasOwnProperty(ye)?T||(T=[]):(T=T||[]).push(ye,null));for(ye in x){var ae=x[ye];if(te=b?.[ye],x.hasOwnProperty(ye)&&ae!==te&&(ae!=null||te!=null))if(ye==="style")if(te){for(L in te)!te.hasOwnProperty(L)||ae&&ae.hasOwnProperty(L)||(f||(f={}),f[L]="");for(L in ae)ae.hasOwnProperty(L)&&te[L]!==ae[L]&&(f||(f={}),f[L]=ae[L])}else f||(T||(T=[]),T.push(ye,f)),f=ae;else ye==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,te=te?te.__html:void 0,ae!=null&&te!==ae&&(T=T||[]).push(ye,ae)):ye==="children"?typeof ae!="string"&&typeof ae!="number"||(T=T||[]).push(ye,""+ae):ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&(i.hasOwnProperty(ye)?(ae!=null&&ye==="onScroll"&&Nr("scroll",o),T||te===ae||(T=[])):(T=T||[]).push(ye,ae))}f&&(T=T||[]).push("style",f);var ye=T;(c.updateQueue=ye)&&(c.flags|=4)}},iw=function(o,c,f,x){f!==x&&(c.flags|=4)};function cd(o,c){if(!Ir)switch(o.tailMode){case"hidden":c=o.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function Un(o){var c=o.alternate!==null&&o.alternate.child===o.child,f=0,x=0;if(c)for(var b=o.child;b!==null;)f|=b.lanes|b.childLanes,x|=b.subtreeFlags&14680064,x|=b.flags&14680064,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)f|=b.lanes|b.childLanes,x|=b.subtreeFlags,x|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=x,o.childLanes=f,c}function VC(o,c,f){var x=c.pendingProps;switch(cg(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(c),null;case 1:return hi(c.type)&&bh(),Un(c),null;case 3:return x=c.stateNode,jc(),Sr(di),Sr(Vn),_g(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(kh(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,gs!==null&&(Jg(gs),gs=null))),Bg(o,c),Un(c),null;case 5:bg(c);var b=ul(id.current);if(f=c.type,o!==null&&c.stateNode!=null)nw(o,c,f,x,b),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(r(166));return Un(c),null}if(o=ul(Hs.current),kh(c)){x=c.stateNode,f=c.type;var T=c.memoizedProps;switch(x[zs]=c,x[Zu]=T,o=(c.mode&1)!==0,f){case"dialog":Nr("cancel",x),Nr("close",x);break;case"iframe":case"object":case"embed":Nr("load",x);break;case"video":case"audio":for(b=0;b<Yu.length;b++)Nr(Yu[b],x);break;case"source":Nr("error",x);break;case"img":case"image":case"link":Nr("error",x),Nr("load",x);break;case"details":Nr("toggle",x);break;case"input":pr(x,T),Nr("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!T.multiple},Nr("invalid",x);break;case"textarea":Xe(x,T),Nr("invalid",x)}Vr(f,T),b=null;for(var L in T)if(T.hasOwnProperty(L)){var te=T[L];L==="children"?typeof te=="string"?x.textContent!==te&&(T.suppressHydrationWarning!==!0&&xh(x.textContent,te,o),b=["children",te]):typeof te=="number"&&x.textContent!==""+te&&(T.suppressHydrationWarning!==!0&&xh(x.textContent,te,o),b=["children",""+te]):i.hasOwnProperty(L)&&te!=null&&L==="onScroll"&&Nr("scroll",x)}switch(f){case"input":nt(x),Xt(x,T,!0);break;case"textarea":nt(x),mt(x);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(x.onclick=yh)}x=b,c.updateQueue=x,x!==null&&(c.flags|=4)}else{L=b.nodeType===9?b:b.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=ct(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=L.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=L.createElement(f,{is:x.is}):(o=L.createElement(f),f==="select"&&(L=o,x.multiple?L.multiple=!0:x.size&&(L.size=x.size))):o=L.createElementNS(o,f),o[zs]=c,o[Zu]=x,rw(o,c,!1,!1),c.stateNode=o;e:{switch(L=ar(f,x),f){case"dialog":Nr("cancel",o),Nr("close",o),b=x;break;case"iframe":case"object":case"embed":Nr("load",o),b=x;break;case"video":case"audio":for(b=0;b<Yu.length;b++)Nr(Yu[b],o);b=x;break;case"source":Nr("error",o),b=x;break;case"img":case"image":case"link":Nr("error",o),Nr("load",o),b=x;break;case"details":Nr("toggle",o),b=x;break;case"input":pr(o,x),b=wt(o,x),Nr("invalid",o);break;case"option":b=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},b=me({},x,{value:void 0}),Nr("invalid",o);break;case"textarea":Xe(o,x),b=et(o,x),Nr("invalid",o);break;default:b=x}Vr(f,b),te=b;for(T in te)if(te.hasOwnProperty(T)){var ae=te[T];T==="style"?Mt(o,ae):T==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,ae!=null&&ut(o,ae)):T==="children"?typeof ae=="string"?(f!=="textarea"||ae!=="")&&Ae(o,ae):typeof ae=="number"&&Ae(o,""+ae):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?ae!=null&&T==="onScroll"&&Nr("scroll",o):ae!=null&&V(o,T,ae,L))}switch(f){case"input":nt(o),Xt(o,x,!1);break;case"textarea":nt(o),mt(o);break;case"option":x.value!=null&&o.setAttribute("value",""+De(x.value));break;case"select":o.multiple=!!x.multiple,T=x.value,T!=null?le(o,!!x.multiple,T,!1):x.defaultValue!=null&&le(o,!!x.multiple,x.defaultValue,!0);break;default:typeof b.onClick=="function"&&(o.onclick=yh)}switch(f){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Un(c),null;case 6:if(o&&c.stateNode!=null)iw(o,c,o.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(f=ul(id.current),ul(Hs.current),kh(c)){if(x=c.stateNode,f=c.memoizedProps,x[zs]=c,(T=x.nodeValue!==f)&&(o=Ii,o!==null))switch(o.tag){case 3:xh(x.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&xh(x.nodeValue,f,(o.mode&1)!==0)}T&&(c.flags|=4)}else x=(f.nodeType===9?f:f.ownerDocument).createTextNode(x),x[zs]=c,c.stateNode=x}return Un(c),null;case 13:if(Sr(Rr),x=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ir&&ji!==null&&(c.mode&1)!==0&&(c.flags&128)===0)ob(),Sc(),c.flags|=98560,T=!1;else if(T=kh(c),x!==null&&x.dehydrated!==null){if(o===null){if(!T)throw Error(r(318));if(T=c.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[zs]=c}else Sc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Un(c),T=!1}else gs!==null&&(Jg(gs),gs=null),T=!0;if(!T)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(Rr.current&1)!==0?dn===0&&(dn=3):tx())),c.updateQueue!==null&&(c.flags|=4),Un(c),null);case 4:return jc(),Bg(o,c),o===null&&Qu(c.stateNode.containerInfo),Un(c),null;case 10:return mg(c.type._context),Un(c),null;case 17:return hi(c.type)&&bh(),Un(c),null;case 19:if(Sr(Rr),T=c.memoizedState,T===null)return Un(c),null;if(x=(c.flags&128)!==0,L=T.rendering,L===null)if(x)cd(T,!1);else{if(dn!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(L=jh(o),L!==null){for(c.flags|=128,cd(T,!1),x=L.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=f,f=c.child;f!==null;)T=f,o=x,T.flags&=14680066,L=T.alternate,L===null?(T.childLanes=0,T.lanes=o,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=L.childLanes,T.lanes=L.lanes,T.child=L.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=L.memoizedProps,T.memoizedState=L.memoizedState,T.updateQueue=L.updateQueue,T.type=L.type,o=L.dependencies,T.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return _r(Rr,Rr.current&1|2),c.child}o=o.sibling}T.tail!==null&&Ve()>Oc&&(c.flags|=128,x=!0,cd(T,!1),c.lanes=4194304)}else{if(!x)if(o=jh(L),o!==null){if(c.flags|=128,x=!0,f=o.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),cd(T,!0),T.tail===null&&T.tailMode==="hidden"&&!L.alternate&&!Ir)return Un(c),null}else 2*Ve()-T.renderingStartTime>Oc&&f!==1073741824&&(c.flags|=128,x=!0,cd(T,!1),c.lanes=4194304);T.isBackwards?(L.sibling=c.child,c.child=L):(f=T.last,f!==null?f.sibling=L:c.child=L,T.last=L)}return T.tail!==null?(c=T.tail,T.rendering=c,T.tail=c.sibling,T.renderingStartTime=Ve(),c.sibling=null,f=Rr.current,_r(Rr,x?f&1|2:f&1),c):(Un(c),null);case 22:case 23:return ex(),x=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(c.flags|=8192),x&&(c.mode&1)!==0?(Pi&1073741824)!==0&&(Un(c),c.subtreeFlags&6&&(c.flags|=8192)):Un(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function BC(o,c){switch(cg(c),c.tag){case 1:return hi(c.type)&&bh(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return jc(),Sr(di),Sr(Vn),_g(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return bg(c),null;case 13:if(Sr(Rr),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Sc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return Sr(Rr),null;case 4:return jc(),null;case 10:return mg(c.type._context),null;case 22:case 23:return ex(),null;case 24:return null;default:return null}}var Vh=!1,zn=!1,UC=typeof WeakSet=="function"?WeakSet:Set,ot=null;function Rc(o,c){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(x){Ur(o,c,x)}else f.current=null}function Ug(o,c,f){try{f()}catch(x){Ur(o,c,x)}}var sw=!1;function zC(o,c){if(eg=eo,o=L2(),qm(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var x=f.getSelection&&f.getSelection();if(x&&x.rangeCount!==0){f=x.anchorNode;var b=x.anchorOffset,T=x.focusNode;x=x.focusOffset;try{f.nodeType,T.nodeType}catch{f=null;break e}var L=0,te=-1,ae=-1,ye=0,$e=0,He=o,Le=null;t:for(;;){for(var st;He!==f||b!==0&&He.nodeType!==3||(te=L+b),He!==T||x!==0&&He.nodeType!==3||(ae=L+x),He.nodeType===3&&(L+=He.nodeValue.length),(st=He.firstChild)!==null;)Le=He,He=st;for(;;){if(He===o)break t;if(Le===f&&++ye===b&&(te=L),Le===T&&++$e===x&&(ae=L),(st=He.nextSibling)!==null)break;He=Le,Le=He.parentNode}He=st}f=te===-1||ae===-1?null:{start:te,end:ae}}else f=null}f=f||{start:0,end:0}}else f=null;for(tg={focusedElem:o,selectionRange:f},eo=!1,ot=c;ot!==null;)if(c=ot,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,ot=o;else for(;ot!==null;){c=ot;try{var dt=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(dt!==null){var ft=dt.memoizedProps,Qr=dt.memoizedState,he=c.stateNode,oe=he.getSnapshotBeforeUpdate(c.elementType===c.type?ft:xs(c.type,ft),Qr);he.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var ge=c.stateNode.containerInfo;ge.nodeType===1?ge.textContent="":ge.nodeType===9&&ge.documentElement&&ge.removeChild(ge.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ke){Ur(c,c.return,Ke)}if(o=c.sibling,o!==null){o.return=c.return,ot=o;break}ot=c.return}return dt=sw,sw=!1,dt}function ud(o,c,f){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var b=x=x.next;do{if((b.tag&o)===o){var T=b.destroy;b.destroy=void 0,T!==void 0&&Ug(c,f,T)}b=b.next}while(b!==x)}}function Bh(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&o)===o){var x=f.create;f.destroy=x()}f=f.next}while(f!==c)}}function zg(o){var c=o.ref;if(c!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof c=="function"?c(o):c.current=o}}function aw(o){var c=o.alternate;c!==null&&(o.alternate=null,aw(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[zs],delete c[Zu],delete c[sg],delete c[kC],delete c[NC])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function ow(o){return o.tag===5||o.tag===3||o.tag===4}function lw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||ow(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Hg(o,c,f){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(o,c):f.insertBefore(o,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(o,f)):(c=f,c.appendChild(o)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=yh));else if(x!==4&&(o=o.child,o!==null))for(Hg(o,c,f),o=o.sibling;o!==null;)Hg(o,c,f),o=o.sibling}function Wg(o,c,f){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?f.insertBefore(o,c):f.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(Wg(o,c,f),o=o.sibling;o!==null;)Wg(o,c,f),o=o.sibling}var Nn=null,ys=!1;function co(o,c,f){for(f=f.child;f!==null;)cw(o,c,f),f=f.sibling}function cw(o,c,f){if(Yr&&typeof Yr.onCommitFiberUnmount=="function")try{Yr.onCommitFiberUnmount(Ni,f)}catch{}switch(f.tag){case 5:zn||Rc(f,c);case 6:var x=Nn,b=ys;Nn=null,co(o,c,f),Nn=x,ys=b,Nn!==null&&(ys?(o=Nn,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):Nn.removeChild(f.stateNode));break;case 18:Nn!==null&&(ys?(o=Nn,f=f.stateNode,o.nodeType===8?ig(o.parentNode,f):o.nodeType===1&&ig(o,f),fs(o)):ig(Nn,f.stateNode));break;case 4:x=Nn,b=ys,Nn=f.stateNode.containerInfo,ys=!0,co(o,c,f),Nn=x,ys=b;break;case 0:case 11:case 14:case 15:if(!zn&&(x=f.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){b=x=x.next;do{var T=b,L=T.destroy;T=T.tag,L!==void 0&&((T&2)!==0||(T&4)!==0)&&Ug(f,c,L),b=b.next}while(b!==x)}co(o,c,f);break;case 1:if(!zn&&(Rc(f,c),x=f.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=f.memoizedProps,x.state=f.memoizedState,x.componentWillUnmount()}catch(te){Ur(f,c,te)}co(o,c,f);break;case 21:co(o,c,f);break;case 22:f.mode&1?(zn=(x=zn)||f.memoizedState!==null,co(o,c,f),zn=x):co(o,c,f);break;default:co(o,c,f)}}function uw(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new UC),c.forEach(function(x){var b=JC.bind(null,o,x);f.has(x)||(f.add(x),x.then(b,b))})}}function vs(o,c){var f=c.deletions;if(f!==null)for(var x=0;x<f.length;x++){var b=f[x];try{var T=o,L=c,te=L;e:for(;te!==null;){switch(te.tag){case 5:Nn=te.stateNode,ys=!1;break e;case 3:Nn=te.stateNode.containerInfo,ys=!0;break e;case 4:Nn=te.stateNode.containerInfo,ys=!0;break e}te=te.return}if(Nn===null)throw Error(r(160));cw(T,L,b),Nn=null,ys=!1;var ae=b.alternate;ae!==null&&(ae.return=null),b.return=null}catch(ye){Ur(b,c,ye)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)dw(c,o),c=c.sibling}function dw(o,c){var f=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(vs(c,o),qs(o),x&4){try{ud(3,o,o.return),Bh(3,o)}catch(ft){Ur(o,o.return,ft)}try{ud(5,o,o.return)}catch(ft){Ur(o,o.return,ft)}}break;case 1:vs(c,o),qs(o),x&512&&f!==null&&Rc(f,f.return);break;case 5:if(vs(c,o),qs(o),x&512&&f!==null&&Rc(f,f.return),o.flags&32){var b=o.stateNode;try{Ae(b,"")}catch(ft){Ur(o,o.return,ft)}}if(x&4&&(b=o.stateNode,b!=null)){var T=o.memoizedProps,L=f!==null?f.memoizedProps:T,te=o.type,ae=o.updateQueue;if(o.updateQueue=null,ae!==null)try{te==="input"&&T.type==="radio"&&T.name!=null&&Nt(b,T),ar(te,L);var ye=ar(te,T);for(L=0;L<ae.length;L+=2){var $e=ae[L],He=ae[L+1];$e==="style"?Mt(b,He):$e==="dangerouslySetInnerHTML"?ut(b,He):$e==="children"?Ae(b,He):V(b,$e,He,ye)}switch(te){case"input":Ge(b,T);break;case"textarea":lt(b,T);break;case"select":var Le=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!T.multiple;var st=T.value;st!=null?le(b,!!T.multiple,st,!1):Le!==!!T.multiple&&(T.defaultValue!=null?le(b,!!T.multiple,T.defaultValue,!0):le(b,!!T.multiple,T.multiple?[]:"",!1))}b[Zu]=T}catch(ft){Ur(o,o.return,ft)}}break;case 6:if(vs(c,o),qs(o),x&4){if(o.stateNode===null)throw Error(r(162));b=o.stateNode,T=o.memoizedProps;try{b.nodeValue=T}catch(ft){Ur(o,o.return,ft)}}break;case 3:if(vs(c,o),qs(o),x&4&&f!==null&&f.memoizedState.isDehydrated)try{fs(c.containerInfo)}catch(ft){Ur(o,o.return,ft)}break;case 4:vs(c,o),qs(o);break;case 13:vs(c,o),qs(o),b=o.child,b.flags&8192&&(T=b.memoizedState!==null,b.stateNode.isHidden=T,!T||b.alternate!==null&&b.alternate.memoizedState!==null||(Kg=Ve())),x&4&&uw(o);break;case 22:if($e=f!==null&&f.memoizedState!==null,o.mode&1?(zn=(ye=zn)||$e,vs(c,o),zn=ye):vs(c,o),qs(o),x&8192){if(ye=o.memoizedState!==null,(o.stateNode.isHidden=ye)&&!$e&&(o.mode&1)!==0)for(ot=o,$e=o.child;$e!==null;){for(He=ot=$e;ot!==null;){switch(Le=ot,st=Le.child,Le.tag){case 0:case 11:case 14:case 15:ud(4,Le,Le.return);break;case 1:Rc(Le,Le.return);var dt=Le.stateNode;if(typeof dt.componentWillUnmount=="function"){x=Le,f=Le.return;try{c=x,dt.props=c.memoizedProps,dt.state=c.memoizedState,dt.componentWillUnmount()}catch(ft){Ur(x,f,ft)}}break;case 5:Rc(Le,Le.return);break;case 22:if(Le.memoizedState!==null){pw(He);continue}}st!==null?(st.return=Le,ot=st):pw(He)}$e=$e.sibling}e:for($e=null,He=o;;){if(He.tag===5){if($e===null){$e=He;try{b=He.stateNode,ye?(T=b.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(te=He.stateNode,ae=He.memoizedProps.style,L=ae!=null&&ae.hasOwnProperty("display")?ae.display:null,te.style.display=St("display",L))}catch(ft){Ur(o,o.return,ft)}}}else if(He.tag===6){if($e===null)try{He.stateNode.nodeValue=ye?"":He.memoizedProps}catch(ft){Ur(o,o.return,ft)}}else if((He.tag!==22&&He.tag!==23||He.memoizedState===null||He===o)&&He.child!==null){He.child.return=He,He=He.child;continue}if(He===o)break e;for(;He.sibling===null;){if(He.return===null||He.return===o)break e;$e===He&&($e=null),He=He.return}$e===He&&($e=null),He.sibling.return=He.return,He=He.sibling}}break;case 19:vs(c,o),qs(o),x&4&&uw(o);break;case 21:break;default:vs(c,o),qs(o)}}function qs(o){var c=o.flags;if(c&2){try{e:{for(var f=o.return;f!==null;){if(ow(f)){var x=f;break e}f=f.return}throw Error(r(160))}switch(x.tag){case 5:var b=x.stateNode;x.flags&32&&(Ae(b,""),x.flags&=-33);var T=lw(o);Wg(o,T,b);break;case 3:case 4:var L=x.stateNode.containerInfo,te=lw(o);Hg(o,te,L);break;default:throw Error(r(161))}}catch(ae){Ur(o,o.return,ae)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function HC(o,c,f){ot=o,hw(o)}function hw(o,c,f){for(var x=(o.mode&1)!==0;ot!==null;){var b=ot,T=b.child;if(b.tag===22&&x){var L=b.memoizedState!==null||Vh;if(!L){var te=b.alternate,ae=te!==null&&te.memoizedState!==null||zn;te=Vh;var ye=zn;if(Vh=L,(zn=ae)&&!ye)for(ot=b;ot!==null;)L=ot,ae=L.child,L.tag===22&&L.memoizedState!==null?mw(b):ae!==null?(ae.return=L,ot=ae):mw(b);for(;T!==null;)ot=T,hw(T),T=T.sibling;ot=b,Vh=te,zn=ye}fw(o)}else(b.subtreeFlags&8772)!==0&&T!==null?(T.return=b,ot=T):fw(o)}}function fw(o){for(;ot!==null;){var c=ot;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:zn||Bh(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!zn)if(f===null)x.componentDidMount();else{var b=c.elementType===c.type?f.memoizedProps:xs(c.type,f.memoizedProps);x.componentDidUpdate(b,f.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var T=c.updateQueue;T!==null&&pb(c,T,x);break;case 3:var L=c.updateQueue;if(L!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}pb(c,L,f)}break;case 5:var te=c.stateNode;if(f===null&&c.flags&4){f=te;var ae=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":ae.autoFocus&&f.focus();break;case"img":ae.src&&(f.src=ae.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ye=c.alternate;if(ye!==null){var $e=ye.memoizedState;if($e!==null){var He=$e.dehydrated;He!==null&&fs(He)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}zn||c.flags&512&&zg(c)}catch(Le){Ur(c,c.return,Le)}}if(c===o){ot=null;break}if(f=c.sibling,f!==null){f.return=c.return,ot=f;break}ot=c.return}}function pw(o){for(;ot!==null;){var c=ot;if(c===o){ot=null;break}var f=c.sibling;if(f!==null){f.return=c.return,ot=f;break}ot=c.return}}function mw(o){for(;ot!==null;){var c=ot;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{Bh(4,c)}catch(ae){Ur(c,f,ae)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var b=c.return;try{x.componentDidMount()}catch(ae){Ur(c,b,ae)}}var T=c.return;try{zg(c)}catch(ae){Ur(c,T,ae)}break;case 5:var L=c.return;try{zg(c)}catch(ae){Ur(c,L,ae)}}}catch(ae){Ur(c,c.return,ae)}if(c===o){ot=null;break}var te=c.sibling;if(te!==null){te.return=c.return,ot=te;break}ot=c.return}}var WC=Math.ceil,Uh=j.ReactCurrentDispatcher,qg=j.ReactCurrentOwner,Qi=j.ReactCurrentBatchConfig,rr=0,gn=null,rn=null,Sn=0,Pi=0,Dc=io(0),dn=0,dd=null,hl=0,zh=0,Gg=0,hd=null,pi=null,Kg=0,Oc=1/0,Ea=null,Hh=!1,Xg=null,uo=null,Wh=!1,ho=null,qh=0,fd=0,Yg=null,Gh=-1,Kh=0;function ti(){return(rr&6)!==0?Ve():Gh!==-1?Gh:Gh=Ve()}function fo(o){return(o.mode&1)===0?1:(rr&2)!==0&&Sn!==0?Sn&-Sn:AC.transition!==null?(Kh===0&&(Kh=el()),Kh):(o=Kt,o!==0||(o=window.event,o=o===void 0?16:Bu(o.type)),o)}function bs(o,c,f,x){if(50<fd)throw fd=0,Yg=null,Error(r(185));Ya(o,f,x),((rr&2)===0||o!==gn)&&(o===gn&&((rr&2)===0&&(zh|=f),dn===4&&po(o,Sn)),mi(o,x),f===1&&rr===0&&(c.mode&1)===0&&(Oc=Ve()+500,_h&&ao()))}function mi(o,c){var f=o.callbackNode;da(o,c);var x=Zo(o,o===gn?Sn:0);if(x===0)f!==null&&Ye(f),o.callbackNode=null,o.callbackPriority=0;else if(c=x&-x,o.callbackPriority!==c){if(f!=null&&Ye(f),c===1)o.tag===0?SC(xw.bind(null,o)):rb(xw.bind(null,o)),EC(function(){(rr&6)===0&&ao()}),f=null;else{switch(Ja(x)){case 1:f=tr;break;case 4:f=Yt;break;case 16:f=lr;break;case 536870912:f=Ls;break;default:f=lr}f=kw(f,gw.bind(null,o))}o.callbackPriority=c,o.callbackNode=f}}function gw(o,c){if(Gh=-1,Kh=0,(rr&6)!==0)throw Error(r(327));var f=o.callbackNode;if(Fc()&&o.callbackNode!==f)return null;var x=Zo(o,o===gn?Sn:0);if(x===0)return null;if((x&30)!==0||(x&o.expiredLanes)!==0||c)c=Xh(o,x);else{c=x;var b=rr;rr|=2;var T=vw();(gn!==o||Sn!==c)&&(Ea=null,Oc=Ve()+500,pl(o,c));do try{KC();break}catch(te){yw(o,te)}while(!0);pg(),Uh.current=T,rr=b,rn!==null?c=0:(gn=null,Sn=0,c=dn)}if(c!==0){if(c===2&&(b=Si(o),b!==0&&(x=b,c=Qg(o,b))),c===1)throw f=dd,pl(o,0),po(o,x),mi(o,Ve()),f;if(c===6)po(o,x);else{if(b=o.current.alternate,(x&30)===0&&!qC(b)&&(c=Xh(o,x),c===2&&(T=Si(o),T!==0&&(x=T,c=Qg(o,T))),c===1))throw f=dd,pl(o,0),po(o,x),mi(o,Ve()),f;switch(o.finishedWork=b,o.finishedLanes=x,c){case 0:case 1:throw Error(r(345));case 2:ml(o,pi,Ea);break;case 3:if(po(o,x),(x&130023424)===x&&(c=Kg+500-Ve(),10<c)){if(Zo(o,0)!==0)break;if(b=o.suspendedLanes,(b&x)!==x){ti(),o.pingedLanes|=o.suspendedLanes&b;break}o.timeoutHandle=ng(ml.bind(null,o,pi,Ea),c);break}ml(o,pi,Ea);break;case 4:if(po(o,x),(x&4194240)===x)break;for(c=o.eventTimes,b=-1;0<x;){var L=31-kr(x);T=1<<L,L=c[L],L>b&&(b=L),x&=~T}if(x=b,x=Ve()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*WC(x/1960))-x,10<x){o.timeoutHandle=ng(ml.bind(null,o,pi,Ea),x);break}ml(o,pi,Ea);break;case 5:ml(o,pi,Ea);break;default:throw Error(r(329))}}}return mi(o,Ve()),o.callbackNode===f?gw.bind(null,o):null}function Qg(o,c){var f=hd;return o.current.memoizedState.isDehydrated&&(pl(o,c).flags|=256),o=Xh(o,c),o!==2&&(c=pi,pi=f,c!==null&&Jg(c)),o}function Jg(o){pi===null?pi=o:pi.push.apply(pi,o)}function qC(o){for(var c=o;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var x=0;x<f.length;x++){var b=f[x],T=b.getSnapshot;b=b.value;try{if(!ms(T(),b))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function po(o,c){for(c&=~Gg,c&=~zh,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var f=31-kr(c),x=1<<f;o[f]=-1,c&=~x}}function xw(o){if((rr&6)!==0)throw Error(r(327));Fc();var c=Zo(o,0);if((c&1)===0)return mi(o,Ve()),null;var f=Xh(o,c);if(o.tag!==0&&f===2){var x=Si(o);x!==0&&(c=x,f=Qg(o,x))}if(f===1)throw f=dd,pl(o,0),po(o,c),mi(o,Ve()),f;if(f===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,ml(o,pi,Ea),mi(o,Ve()),null}function Zg(o,c){var f=rr;rr|=1;try{return o(c)}finally{rr=f,rr===0&&(Oc=Ve()+500,_h&&ao())}}function fl(o){ho!==null&&ho.tag===0&&(rr&6)===0&&Fc();var c=rr;rr|=1;var f=Qi.transition,x=Kt;try{if(Qi.transition=null,Kt=1,o)return o()}finally{Kt=x,Qi.transition=f,rr=c,(rr&6)===0&&ao()}}function ex(){Pi=Dc.current,Sr(Dc)}function pl(o,c){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,_C(f)),rn!==null)for(f=rn.return;f!==null;){var x=f;switch(cg(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&bh();break;case 3:jc(),Sr(di),Sr(Vn),_g();break;case 5:bg(x);break;case 4:jc();break;case 13:Sr(Rr);break;case 19:Sr(Rr);break;case 10:mg(x.type._context);break;case 22:case 23:ex()}f=f.return}if(gn=o,rn=o=mo(o.current,null),Sn=Pi=c,dn=0,dd=null,Gg=zh=hl=0,pi=hd=null,cl!==null){for(c=0;c<cl.length;c++)if(f=cl[c],x=f.interleaved,x!==null){f.interleaved=null;var b=x.next,T=f.pending;if(T!==null){var L=T.next;T.next=b,x.next=L}f.pending=x}cl=null}return o}function yw(o,c){do{var f=rn;try{if(pg(),Ph.current=Fh,Rh){for(var x=Dr.memoizedState;x!==null;){var b=x.queue;b!==null&&(b.pending=null),x=x.next}Rh=!1}if(dl=0,mn=un=Dr=null,sd=!1,ad=0,qg.current=null,f===null||f.return===null){dn=1,dd=c,rn=null;break}e:{var T=o,L=f.return,te=f,ae=c;if(c=Sn,te.flags|=32768,ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var ye=ae,$e=te,He=$e.tag;if(($e.mode&1)===0&&(He===0||He===11||He===15)){var Le=$e.alternate;Le?($e.updateQueue=Le.updateQueue,$e.memoizedState=Le.memoizedState,$e.lanes=Le.lanes):($e.updateQueue=null,$e.memoizedState=null)}var st=zb(L);if(st!==null){st.flags&=-257,Hb(st,L,te,T,c),st.mode&1&&Ub(T,ye,c),c=st,ae=ye;var dt=c.updateQueue;if(dt===null){var ft=new Set;ft.add(ae),c.updateQueue=ft}else dt.add(ae);break e}else{if((c&1)===0){Ub(T,ye,c),tx();break e}ae=Error(r(426))}}else if(Ir&&te.mode&1){var Qr=zb(L);if(Qr!==null){(Qr.flags&65536)===0&&(Qr.flags|=256),Hb(Qr,L,te,T,c),hg(Pc(ae,te));break e}}T=ae=Pc(ae,te),dn!==4&&(dn=2),hd===null?hd=[T]:hd.push(T),T=L;do{switch(T.tag){case 3:T.flags|=65536,c&=-c,T.lanes|=c;var he=Vb(T,ae,c);fb(T,he);break e;case 1:te=ae;var oe=T.type,ge=T.stateNode;if((T.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||ge!==null&&typeof ge.componentDidCatch=="function"&&(uo===null||!uo.has(ge)))){T.flags|=65536,c&=-c,T.lanes|=c;var Ke=Bb(T,te,c);fb(T,Ke);break e}}T=T.return}while(T!==null)}ww(f)}catch(pt){c=pt,rn===f&&f!==null&&(rn=f=f.return);continue}break}while(!0)}function vw(){var o=Uh.current;return Uh.current=Fh,o===null?Fh:o}function tx(){(dn===0||dn===3||dn===2)&&(dn=4),gn===null||(hl&268435455)===0&&(zh&268435455)===0||po(gn,Sn)}function Xh(o,c){var f=rr;rr|=2;var x=vw();(gn!==o||Sn!==c)&&(Ea=null,pl(o,c));do try{GC();break}catch(b){yw(o,b)}while(!0);if(pg(),rr=f,Uh.current=x,rn!==null)throw Error(r(261));return gn=null,Sn=0,dn}function GC(){for(;rn!==null;)bw(rn)}function KC(){for(;rn!==null&&!tt();)bw(rn)}function bw(o){var c=Tw(o.alternate,o,Pi);o.memoizedProps=o.pendingProps,c===null?ww(o):rn=c,qg.current=null}function ww(o){var c=o;do{var f=c.alternate;if(o=c.return,(c.flags&32768)===0){if(f=VC(f,c,Pi),f!==null){rn=f;return}}else{if(f=BC(f,c),f!==null){f.flags&=32767,rn=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{dn=6,rn=null;return}}if(c=c.sibling,c!==null){rn=c;return}rn=c=o}while(c!==null);dn===0&&(dn=5)}function ml(o,c,f){var x=Kt,b=Qi.transition;try{Qi.transition=null,Kt=1,XC(o,c,f,x)}finally{Qi.transition=b,Kt=x}return null}function XC(o,c,f,x){do Fc();while(ho!==null);if((rr&6)!==0)throw Error(r(327));f=o.finishedWork;var b=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var T=f.lanes|f.childLanes;if(vr(o,T),o===gn&&(rn=gn=null,Sn=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Wh||(Wh=!0,kw(lr,function(){return Fc(),null})),T=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||T){T=Qi.transition,Qi.transition=null;var L=Kt;Kt=1;var te=rr;rr|=4,qg.current=null,zC(o,f),dw(f,o),mC(tg),eo=!!eg,tg=eg=null,o.current=f,HC(f),We(),rr=te,Kt=L,Qi.transition=T}else o.current=f;if(Wh&&(Wh=!1,ho=o,qh=b),T=o.pendingLanes,T===0&&(uo=null),Ga(f.stateNode),mi(o,Ve()),c!==null)for(x=o.onRecoverableError,f=0;f<c.length;f++)b=c[f],x(b.value,{componentStack:b.stack,digest:b.digest});if(Hh)throw Hh=!1,o=Xg,Xg=null,o;return(qh&1)!==0&&o.tag!==0&&Fc(),T=o.pendingLanes,(T&1)!==0?o===Yg?fd++:(fd=0,Yg=o):fd=0,ao(),null}function Fc(){if(ho!==null){var o=Ja(qh),c=Qi.transition,f=Kt;try{if(Qi.transition=null,Kt=16>o?16:o,ho===null)var x=!1;else{if(o=ho,ho=null,qh=0,(rr&6)!==0)throw Error(r(331));var b=rr;for(rr|=4,ot=o.current;ot!==null;){var T=ot,L=T.child;if((ot.flags&16)!==0){var te=T.deletions;if(te!==null){for(var ae=0;ae<te.length;ae++){var ye=te[ae];for(ot=ye;ot!==null;){var $e=ot;switch($e.tag){case 0:case 11:case 15:ud(8,$e,T)}var He=$e.child;if(He!==null)He.return=$e,ot=He;else for(;ot!==null;){$e=ot;var Le=$e.sibling,st=$e.return;if(aw($e),$e===ye){ot=null;break}if(Le!==null){Le.return=st,ot=Le;break}ot=st}}}var dt=T.alternate;if(dt!==null){var ft=dt.child;if(ft!==null){dt.child=null;do{var Qr=ft.sibling;ft.sibling=null,ft=Qr}while(ft!==null)}}ot=T}}if((T.subtreeFlags&2064)!==0&&L!==null)L.return=T,ot=L;else e:for(;ot!==null;){if(T=ot,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:ud(9,T,T.return)}var he=T.sibling;if(he!==null){he.return=T.return,ot=he;break e}ot=T.return}}var oe=o.current;for(ot=oe;ot!==null;){L=ot;var ge=L.child;if((L.subtreeFlags&2064)!==0&&ge!==null)ge.return=L,ot=ge;else e:for(L=oe;ot!==null;){if(te=ot,(te.flags&2048)!==0)try{switch(te.tag){case 0:case 11:case 15:Bh(9,te)}}catch(pt){Ur(te,te.return,pt)}if(te===L){ot=null;break e}var Ke=te.sibling;if(Ke!==null){Ke.return=te.return,ot=Ke;break e}ot=te.return}}if(rr=b,ao(),Yr&&typeof Yr.onPostCommitFiberRoot=="function")try{Yr.onPostCommitFiberRoot(Ni,o)}catch{}x=!0}return x}finally{Kt=f,Qi.transition=c}}return!1}function _w(o,c,f){c=Pc(f,c),c=Vb(o,c,1),o=lo(o,c,1),c=ti(),o!==null&&(Ya(o,1,c),mi(o,c))}function Ur(o,c,f){if(o.tag===3)_w(o,o,f);else for(;c!==null;){if(c.tag===3){_w(c,o,f);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(uo===null||!uo.has(x))){o=Pc(f,o),o=Bb(c,o,1),c=lo(c,o,1),o=ti(),c!==null&&(Ya(c,1,o),mi(c,o));break}}c=c.return}}function YC(o,c,f){var x=o.pingCache;x!==null&&x.delete(c),c=ti(),o.pingedLanes|=o.suspendedLanes&f,gn===o&&(Sn&f)===f&&(dn===4||dn===3&&(Sn&130023424)===Sn&&500>Ve()-Kg?pl(o,0):Gg|=f),mi(o,c)}function Ew(o,c){c===0&&((o.mode&1)===0?c=1:(c=sc,sc<<=1,(sc&130023424)===0&&(sc=4194304)));var f=ti();o=ba(o,c),o!==null&&(Ya(o,c,f),mi(o,f))}function QC(o){var c=o.memoizedState,f=0;c!==null&&(f=c.retryLane),Ew(o,f)}function JC(o,c){var f=0;switch(o.tag){case 13:var x=o.stateNode,b=o.memoizedState;b!==null&&(f=b.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(r(314))}x!==null&&x.delete(c),Ew(o,f)}var Tw;Tw=function(o,c,f){if(o!==null)if(o.memoizedProps!==c.pendingProps||di.current)fi=!0;else{if((o.lanes&f)===0&&(c.flags&128)===0)return fi=!1,$C(o,c,f);fi=(o.flags&131072)!==0}else fi=!1,Ir&&(c.flags&1048576)!==0&&nb(c,Th,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;$h(o,c),o=c.pendingProps;var b=Tc(c,Vn.current);Ic(c,f),b=kg(null,c,x,o,b,f);var T=Ng();return c.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,hi(x)?(T=!0,wh(c)):T=!1,c.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,yg(c),b.updater=Lh,c.stateNode=b,b._reactInternals=c,Pg(c,x,o,f),c=Fg(null,c,x,!0,T,f)):(c.tag=0,Ir&&T&&lg(c),ei(null,c,b,f),c=c.child),c;case 16:x=c.elementType;e:{switch($h(o,c),o=c.pendingProps,b=x._init,x=b(x._payload),c.type=x,b=c.tag=eI(x),o=xs(x,o),b){case 0:c=Og(null,c,x,o,f);break e;case 1:c=Yb(null,c,x,o,f);break e;case 11:c=Wb(null,c,x,o,f);break e;case 14:c=qb(null,c,x,xs(x.type,o),f);break e}throw Error(r(306,x,""))}return c;case 0:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:xs(x,b),Og(o,c,x,b,f);case 1:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:xs(x,b),Yb(o,c,x,b,f);case 3:e:{if(Qb(c),o===null)throw Error(r(387));x=c.pendingProps,T=c.memoizedState,b=T.element,hb(o,c),Ih(c,x,null,f);var L=c.memoizedState;if(x=L.element,T.isDehydrated)if(T={element:x,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){b=Pc(Error(r(423)),c),c=Jb(o,c,x,f,b);break e}else if(x!==b){b=Pc(Error(r(424)),c),c=Jb(o,c,x,f,b);break e}else for(ji=no(c.stateNode.containerInfo.firstChild),Ii=c,Ir=!0,gs=null,f=ub(c,null,x,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Sc(),x===b){c=_a(o,c,f);break e}ei(o,c,x,f)}c=c.child}return c;case 5:return mb(c),o===null&&dg(c),x=c.type,b=c.pendingProps,T=o!==null?o.memoizedProps:null,L=b.children,rg(x,b)?L=null:T!==null&&rg(x,T)&&(c.flags|=32),Xb(o,c),ei(o,c,L,f),c.child;case 6:return o===null&&dg(c),null;case 13:return Zb(o,c,f);case 4:return vg(c,c.stateNode.containerInfo),x=c.pendingProps,o===null?c.child=Ac(c,null,x,f):ei(o,c,x,f),c.child;case 11:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:xs(x,b),Wb(o,c,x,b,f);case 7:return ei(o,c,c.pendingProps,f),c.child;case 8:return ei(o,c,c.pendingProps.children,f),c.child;case 12:return ei(o,c,c.pendingProps.children,f),c.child;case 10:e:{if(x=c.type._context,b=c.pendingProps,T=c.memoizedProps,L=b.value,_r(Sh,x._currentValue),x._currentValue=L,T!==null)if(ms(T.value,L)){if(T.children===b.children&&!di.current){c=_a(o,c,f);break e}}else for(T=c.child,T!==null&&(T.return=c);T!==null;){var te=T.dependencies;if(te!==null){L=T.child;for(var ae=te.firstContext;ae!==null;){if(ae.context===x){if(T.tag===1){ae=wa(-1,f&-f),ae.tag=2;var ye=T.updateQueue;if(ye!==null){ye=ye.shared;var $e=ye.pending;$e===null?ae.next=ae:(ae.next=$e.next,$e.next=ae),ye.pending=ae}}T.lanes|=f,ae=T.alternate,ae!==null&&(ae.lanes|=f),gg(T.return,f,c),te.lanes|=f;break}ae=ae.next}}else if(T.tag===10)L=T.type===c.type?null:T.child;else if(T.tag===18){if(L=T.return,L===null)throw Error(r(341));L.lanes|=f,te=L.alternate,te!==null&&(te.lanes|=f),gg(L,f,c),L=T.sibling}else L=T.child;if(L!==null)L.return=T;else for(L=T;L!==null;){if(L===c){L=null;break}if(T=L.sibling,T!==null){T.return=L.return,L=T;break}L=L.return}T=L}ei(o,c,b.children,f),c=c.child}return c;case 9:return b=c.type,x=c.pendingProps.children,Ic(c,f),b=Xi(b),x=x(b),c.flags|=1,ei(o,c,x,f),c.child;case 14:return x=c.type,b=xs(x,c.pendingProps),b=xs(x.type,b),qb(o,c,x,b,f);case 15:return Gb(o,c,c.type,c.pendingProps,f);case 17:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:xs(x,b),$h(o,c),c.tag=1,hi(x)?(o=!0,wh(c)):o=!1,Ic(c,f),Mb(c,x,b),Pg(c,x,b,f),Fg(null,c,x,!0,o,f);case 19:return tw(o,c,f);case 22:return Kb(o,c,f)}throw Error(r(156,c.tag))};function kw(o,c){return Me(o,c)}function ZC(o,c,f,x){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(o,c,f,x){return new ZC(o,c,f,x)}function rx(o){return o=o.prototype,!(!o||!o.isReactComponent)}function eI(o){if(typeof o=="function")return rx(o)?1:0;if(o!=null){if(o=o.$$typeof,o===z)return 11;if(o===Re)return 14}return 2}function mo(o,c){var f=o.alternate;return f===null?(f=Ji(o.tag,c,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=c,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,c=o.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function Yh(o,c,f,x,b,T){var L=2;if(x=o,typeof o=="function")rx(o)&&(L=1);else if(typeof o=="string")L=5;else e:switch(o){case A:return gl(f.children,b,T,c);case S:L=8,b|=8;break;case C:return o=Ji(12,f,c,b|2),o.elementType=C,o.lanes=T,o;case B:return o=Ji(13,f,c,b),o.elementType=B,o.lanes=T,o;case Ee:return o=Ji(19,f,c,b),o.elementType=Ee,o.lanes=T,o;case Fe:return Qh(f,b,T,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case P:L=10;break e;case D:L=9;break e;case z:L=11;break e;case Re:L=14;break e;case Be:L=16,x=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return c=Ji(L,f,c,b),c.elementType=o,c.type=x,c.lanes=T,c}function gl(o,c,f,x){return o=Ji(7,o,x,c),o.lanes=f,o}function Qh(o,c,f,x){return o=Ji(22,o,x,c),o.elementType=Fe,o.lanes=f,o.stateNode={isHidden:!1},o}function nx(o,c,f){return o=Ji(6,o,null,c),o.lanes=f,o}function ix(o,c,f){return c=Ji(4,o.children!==null?o.children:[],o.key,c),c.lanes=f,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function tI(o,c,f,x,b){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xa(0),this.expirationTimes=Xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xa(0),this.identifierPrefix=x,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function sx(o,c,f,x,b,T,L,te,ae){return o=new tI(o,c,f,te,ae),c===1?(c=1,T===!0&&(c|=8)):c=0,T=Ji(3,null,null,c),o.current=T,T.stateNode=o,T.memoizedState={element:x,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},yg(T),o}function rI(o,c,f){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:x==null?null:""+x,children:o,containerInfo:c,implementation:f}}function Nw(o){if(!o)return so;o=o._reactInternals;e:{if(Z(o)!==o||o.tag!==1)throw Error(r(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(hi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(o.tag===1){var f=o.type;if(hi(f))return eb(o,f,c)}return c}function Sw(o,c,f,x,b,T,L,te,ae){return o=sx(f,x,!0,o,b,T,L,te,ae),o.context=Nw(null),f=o.current,x=ti(),b=fo(f),T=wa(x,b),T.callback=c??null,lo(f,T,b),o.current.lanes=b,Ya(o,b,x),mi(o,x),o}function Jh(o,c,f,x){var b=c.current,T=ti(),L=fo(b);return f=Nw(f),c.context===null?c.context=f:c.pendingContext=f,c=wa(T,L),c.payload={element:o},x=x===void 0?null:x,x!==null&&(c.callback=x),o=lo(b,c,L),o!==null&&(bs(o,b,L,T),Ch(o,b,L)),L}function Zh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Aw(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<c?f:c}}function ax(o,c){Aw(o,c),(o=o.alternate)&&Aw(o,c)}function nI(){return null}var Cw=typeof reportError=="function"?reportError:function(o){console.error(o)};function ox(o){this._internalRoot=o}ef.prototype.render=ox.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));Jh(o,c,null,null)},ef.prototype.unmount=ox.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;fl(function(){Jh(null,o,null,null)}),c[ga]=null}};function ef(o){this._internalRoot=o}ef.prototype.unstable_scheduleHydration=function(o){if(o){var c=eh();o={blockedOn:null,target:o,priority:c};for(var f=0;f<$s.length&&c!==0&&c<$s[f].priority;f++);$s.splice(f,0,o),f===0&&nh(o)}};function lx(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function tf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Iw(){}function iI(o,c,f,x,b){if(b){if(typeof x=="function"){var T=x;x=function(){var ye=Zh(L);T.call(ye)}}var L=Sw(c,x,o,0,null,!1,!1,"",Iw);return o._reactRootContainer=L,o[ga]=L.current,Qu(o.nodeType===8?o.parentNode:o),fl(),L}for(;b=o.lastChild;)o.removeChild(b);if(typeof x=="function"){var te=x;x=function(){var ye=Zh(ae);te.call(ye)}}var ae=sx(o,0,!1,null,null,!1,!1,"",Iw);return o._reactRootContainer=ae,o[ga]=ae.current,Qu(o.nodeType===8?o.parentNode:o),fl(function(){Jh(c,ae,f,x)}),ae}function rf(o,c,f,x,b){var T=f._reactRootContainer;if(T){var L=T;if(typeof b=="function"){var te=b;b=function(){var ae=Zh(L);te.call(ae)}}Jh(c,L,o,b)}else L=iI(f,c,o,b,x);return Zh(L)}J0=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var f=Ka(c.pendingLanes);f!==0&&(Qa(c,f|1),mi(c,Ve()),(rr&6)===0&&(Oc=Ve()+500,ao()))}break;case 13:fl(function(){var x=ba(o,1);if(x!==null){var b=ti();bs(x,o,1,b)}}),ax(o,1)}},ac=function(o){if(o.tag===13){var c=ba(o,134217728);if(c!==null){var f=ti();bs(c,o,134217728,f)}ax(o,134217728)}},Z0=function(o){if(o.tag===13){var c=fo(o),f=ba(o,c);if(f!==null){var x=ti();bs(f,o,c,x)}ax(o,c)}},eh=function(){return Kt},th=function(o,c){var f=Kt;try{return Kt=o,c()}finally{Kt=f}},Rt=function(o,c,f){switch(c){case"input":if(Ge(o,f),c=f.name,f.type==="radio"&&c!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var x=f[c];if(x!==o&&x.form===o.form){var b=vh(x);if(!b)throw Error(r(90));ht(x),Ge(x,b)}}}break;case"textarea":lt(o,f);break;case"select":c=f.value,c!=null&&le(o,!!f.multiple,c,!1)}},En=Zg,ki=fl;var sI={usingClientEntryPoint:!1,Events:[ed,_c,vh,Kr,li,Zg]},pd={findFiberByHostInstance:sl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aI={bundleType:pd.bundleType,version:pd.version,rendererPackageName:pd.rendererPackageName,rendererConfig:pd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=pe(o),o===null?null:o.stateNode},findFiberByHostInstance:pd.findFiberByHostInstance||nI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{Ni=nf.inject(aI),Yr=nf}catch{}}return gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sI,gi.createPortal=function(o,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lx(c))throw Error(r(200));return rI(o,c,null,f)},gi.createRoot=function(o,c){if(!lx(o))throw Error(r(299));var f=!1,x="",b=Cw;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),c=sx(o,1,!1,null,null,f,!1,x,b),o[ga]=c.current,Qu(o.nodeType===8?o.parentNode:o),new ox(c)},gi.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=pe(c),o=o===null?null:o.stateNode,o},gi.flushSync=function(o){return fl(o)},gi.hydrate=function(o,c,f){if(!tf(c))throw Error(r(200));return rf(null,o,c,!0,f)},gi.hydrateRoot=function(o,c,f){if(!lx(o))throw Error(r(405));var x=f!=null&&f.hydratedSources||null,b=!1,T="",L=Cw;if(f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(T=f.identifierPrefix),f.onRecoverableError!==void 0&&(L=f.onRecoverableError)),c=Sw(c,null,o,1,f??null,b,!1,T,L),o[ga]=c.current,Qu(o),x)for(o=0;o<x.length;o++)f=x[o],b=f._getVersion,b=b(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,b]:c.mutableSourceEagerHydrationData.push(f,b);return new ef(c)},gi.render=function(o,c,f){if(!tf(c))throw Error(r(200));return rf(null,o,c,!1,f)},gi.unmountComponentAtNode=function(o){if(!tf(o))throw Error(r(40));return o._reactRootContainer?(fl(function(){rf(null,null,o,!1,function(){o._reactRootContainer=null,o[ga]=null})}),!0):!1},gi.unstable_batchedUpdates=Zg,gi.unstable_renderSubtreeIntoContainer=function(o,c,f,x){if(!tf(f))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return rf(o,c,f,!1,x)},gi.version="18.3.1-next-f1338f8080-20240426",gi}var $w;function gI(){if($w)return dx.exports;$w=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dx.exports=mI(),dx.exports}var Vw;function xI(){if(Vw)return sf;Vw=1;var t=gI();return sf.createRoot=t.createRoot,sf.hydrateRoot=t.hydrateRoot,sf}var yI=xI();const vI=t1(yI);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bw="popstate";function bI(t={}){function e(n,i){let{pathname:s,search:l,hash:u}=n.location;return ey("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Gd(i)}return _I(e,r,null,t)}function jr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Is(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wI(){return Math.random().toString(36).substring(2,10)}function Uw(t,e){return{usr:t.state,key:t.key,idx:e}}function ey(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?wu(e):e,state:r,key:e&&e.key||n||wI()}}function Gd({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function wu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function _I(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,l=i.history,u="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){u="POP";let E=p(),O=E==null?null:E-h;h=E,d&&d({action:u,location:w.location,delta:O})}function y(E,O){u="PUSH";let M=ey(w.location,E,O);h=p()+1;let V=Uw(M,h),j=w.createHref(M);try{l.pushState(V,"",j)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(j)}s&&d&&d({action:u,location:w.location,delta:1})}function v(E,O){u="REPLACE";let M=ey(w.location,E,O);h=p();let V=Uw(M,h),j=w.createHref(M);l.replaceState(V,"",j),s&&d&&d({action:u,location:w.location,delta:0})}function k(E){return EI(E)}let w={get action(){return u},get location(){return t(i,l)},listen(E){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Bw,g),d=E,()=>{i.removeEventListener(Bw,g),d=null}},createHref(E){return e(i,E)},createURL:k,encodeLocation(E){let O=k(E);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:y,replace:v,go(E){return l.go(E)}};return w}function EI(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),jr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Gd(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function HT(t,e,r="/"){return TI(t,e,r,!1)}function TI(t,e,r,n){let i=typeof e=="string"?wu(e):e,s=Oa(i.pathname||"/",r);if(s==null)return null;let l=WT(t);kI(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=FI(s);u=DI(l[d],h,n)}return u}function WT(t,e=[],r=[],n="",i=!1){let s=(l,u,d=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&d)return;jr(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=Sa([n,p.relativePath]),y=r.concat(p);l.children&&l.children.length>0&&(jr(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),WT(l.children,e,y,g,d)),!(l.path==null&&!l.index)&&e.push({path:g,score:PI(g,l.index),routesMeta:y})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))s(l,u);else for(let d of qT(l.path))s(l,u,!0,d)}),e}function qT(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let l=qT(n.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function kI(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:RI(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var NI=/^:[\w-]+$/,SI=3,AI=2,CI=1,II=10,jI=-2,zw=t=>t==="*";function PI(t,e){let r=t.split("/"),n=r.length;return r.some(zw)&&(n+=jI),e&&(n+=AI),r.filter(i=>!zw(i)).reduce((i,s)=>i+(NI.test(s)?SI:s===""?CI:II),n)}function RI(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function DI(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],h=u===n.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=Hf({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),y=d.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=Hf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Sa([s,g.pathname]),pathnameBase:VI(Sa([s,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(s=Sa([s,g.pathnameBase]))}return l}function Hf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=OI(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let k=u[y]||"";l=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const v=u[y];return g&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:t}}function OI(t,e=!1,r=!0){Is(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function FI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Is(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Oa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function LI(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?wu(t):t;return{pathname:r?r.startsWith("/")?r:MI(r,e):e,search:BI(n),hash:UI(i)}}function MI(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function px(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $I(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function n1(t){let e=$I(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function i1(t,e,r,n=!1){let i;typeof t=="string"?i=wu(t):(i={...t},jr(!i.pathname||!i.pathname.includes("?"),px("?","pathname","search",i)),jr(!i.pathname||!i.pathname.includes("#"),px("#","pathname","hash",i)),jr(!i.search||!i.search.includes("#"),px("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=r;else{let g=e.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}u=g>=0?e[g]:"/"}let d=LI(i,u),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var Sa=t=>t.join("/").replace(/\/\/+/g,"/"),VI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var GT=["POST","PUT","PATCH","DELETE"];new Set(GT);var HI=["GET",...GT];new Set(HI);var _u=N.createContext(null);_u.displayName="DataRouter";var qp=N.createContext(null);qp.displayName="DataRouterState";N.createContext(!1);var KT=N.createContext({isTransitioning:!1});KT.displayName="ViewTransition";var WI=N.createContext(new Map);WI.displayName="Fetchers";var qI=N.createContext(null);qI.displayName="Await";var Ds=N.createContext(null);Ds.displayName="Navigation";var w0=N.createContext(null);w0.displayName="Location";var ca=N.createContext({outlet:null,matches:[],isDataRoute:!1});ca.displayName="Route";var s1=N.createContext(null);s1.displayName="RouteError";function GI(t,{relative:e}={}){jr(Eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=N.useContext(Ds),{hash:i,pathname:s,search:l}=_0(t,{relative:e}),u=s;return r!=="/"&&(u=s==="/"?r:Sa([r,s])),n.createHref({pathname:u,search:l,hash:i})}function Eu(){return N.useContext(w0)!=null}function qo(){return jr(Eu(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(w0).location}var XT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YT(t){N.useContext(Ds).static||N.useLayoutEffect(t)}function Os(){let{isDataRoute:t}=N.useContext(ca);return t?aj():KI()}function KI(){jr(Eu(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(_u),{basename:e,navigator:r}=N.useContext(Ds),{matches:n}=N.useContext(ca),{pathname:i}=qo(),s=JSON.stringify(n1(n)),l=N.useRef(!1);return YT(()=>{l.current=!0}),N.useCallback((d,h={})=>{if(Is(l.current,XT),!l.current)return;if(typeof d=="number"){r.go(d);return}let p=i1(d,JSON.parse(s),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Sa([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,s,i,t])}N.createContext(null);function _0(t,{relative:e}={}){let{matches:r}=N.useContext(ca),{pathname:n}=qo(),i=JSON.stringify(n1(r));return N.useMemo(()=>i1(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function XI(t,e){return QT(t,e)}function QT(t,e,r,n,i){jr(Eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=N.useContext(Ds),{matches:l}=N.useContext(ca),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let M=g&&g.path||"";JT(h,!g||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let y=qo(),v;if(e){let M=typeof e=="string"?wu(e):e;jr(p==="/"||M.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${M.pathname}" was given in the \`location\` prop.`),v=M}else v=y;let k=v.pathname||"/",w=k;if(p!=="/"){let M=p.replace(/^\//,"").split("/");w="/"+k.replace(/^\//,"").split("/").slice(M.length).join("/")}let E=HT(t,{pathname:w});Is(g||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Is(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=ej(E&&E.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Sa([p,s.encodeLocation?s.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:Sa([p,s.encodeLocation?s.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,r,n,i);return e&&O?N.createElement(w0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},O):O}function YI(){let t=sj(),e=zI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),r?N.createElement("pre",{style:i},r):null,l)}var QI=N.createElement(YI,null),JI=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?N.createElement(ca.Provider,{value:this.props.routeContext},N.createElement(s1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZI({routeContext:t,match:e,children:r}){let n=N.useContext(_u);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(ca.Provider,{value:t},r)}function ej(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,l=r?.errors;if(l!=null){let h=s.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);jr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,d=-1;if(r)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:g,errors:y}=r,v=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((h,p,g)=>{let y,v=!1,k=null,w=null;r&&(y=l&&p.route.id?l[p.route.id]:void 0,k=p.route.errorElement||QI,u&&(d<0&&g===0?(JT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):d===g&&(v=!0,w=p.route.hydrateFallbackElement||null)));let E=e.concat(s.slice(0,g+1)),O=()=>{let M;return y?M=k:v?M=w:p.route.Component?M=N.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=h,N.createElement(ZI,{match:p,routeContext:{outlet:h,matches:E,isDataRoute:r!=null},children:M})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?N.createElement(JI,{location:r.location,revalidation:r.revalidation,component:k,error:y,children:O(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:n}):O()},null)}function a1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tj(t){let e=N.useContext(_u);return jr(e,a1(t)),e}function rj(t){let e=N.useContext(qp);return jr(e,a1(t)),e}function nj(t){let e=N.useContext(ca);return jr(e,a1(t)),e}function o1(t){let e=nj(t),r=e.matches[e.matches.length-1];return jr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function ij(){return o1("useRouteId")}function sj(){let t=N.useContext(s1),e=rj("useRouteError"),r=o1("useRouteError");return t!==void 0?t:e.errors?.[r]}function aj(){let{router:t}=tj("useNavigate"),e=o1("useNavigate"),r=N.useRef(!1);return YT(()=>{r.current=!0}),N.useCallback(async(i,s={})=>{Is(r.current,XT),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Hw={};function JT(t,e,r){!e&&!Hw[t]&&(Hw[t]=!0,Is(!1,r))}N.memo(oj);function oj({routes:t,future:e,state:r,unstable_onError:n}){return QT(t,void 0,r,n,e)}function af({to:t,replace:e,state:r,relative:n}){jr(Eu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(Ds);Is(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=N.useContext(ca),{pathname:l}=qo(),u=Os(),d=i1(t,n1(s),l,n==="path"),h=JSON.stringify(d);return N.useEffect(()=>{u(JSON.parse(h),{replace:e,state:r,relative:n})},[u,h,n,e,r]),null}function Vt(t){jr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lj({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1}){jr(!Eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof r=="string"&&(r=wu(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:y="default"}=r,v=N.useMemo(()=>{let k=Oa(d,l);return k==null?null:{location:{pathname:k,search:h,hash:p,state:g,key:y},navigationType:n}},[l,d,h,p,g,y,n]);return Is(v!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:N.createElement(Ds.Provider,{value:u},N.createElement(w0.Provider,{children:e,value:v}))}function cj({children:t,location:e}){return XI(ty(t),e)}function ty(t,e=[]){let r=[];return N.Children.forEach(t,(n,i)=>{if(!N.isValidElement(n))return;let s=[...e,i];if(n.type===N.Fragment){r.push.apply(r,ty(n.props.children,s));return}jr(n.type===Vt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=ty(n.props.children,s)),r.push(l)}),r}var Af="get",Cf="application/x-www-form-urlencoded";function Gp(t){return t!=null&&typeof t.tagName=="string"}function uj(t){return Gp(t)&&t.tagName.toLowerCase()==="button"}function dj(t){return Gp(t)&&t.tagName.toLowerCase()==="form"}function hj(t){return Gp(t)&&t.tagName.toLowerCase()==="input"}function fj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pj(t,e){return t.button===0&&(!e||e==="_self")&&!fj(t)}var of=null;function mj(){if(of===null)try{new FormData(document.createElement("form"),0),of=!1}catch{of=!0}return of}var gj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mx(t){return t!=null&&!gj.has(t)?(Is(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cf}"`),null):t}function xj(t,e){let r,n,i,s,l;if(dj(t)){let u=t.getAttribute("action");n=u?Oa(u,e):null,r=t.getAttribute("method")||Af,i=mx(t.getAttribute("enctype"))||Cf,s=new FormData(t)}else if(uj(t)||hj(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(n=d?Oa(d,e):null,r=t.getAttribute("formmethod")||u.getAttribute("method")||Af,i=mx(t.getAttribute("formenctype"))||mx(u.getAttribute("enctype"))||Cf,s=new FormData(u,t),!mj()){let{name:h,type:p,value:g}=t;if(p==="image"){let y=h?`${h}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else h&&s.append(h,g)}}else{if(Gp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Af,n=null,i=Cf,l=t}return s&&i==="text/plain"&&(l=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function l1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yj(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Oa(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function vj(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wj(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await vj(s,r);return l.links?l.links():[]}return[]}));return kj(n.flat(1).filter(bj).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Ww(t,e,r,n,i,s){let l=(d,h)=>r[h]?d.route.id!==r[h].route.id:!0,u=(d,h)=>r[h].pathname!==d.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==d.params["*"];return s==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):s==="data"?e.filter((d,h)=>{let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function _j(t,e,{includeHydrateFallback:r}={}){return Ej(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Ej(t){return[...new Set(t)]}function Tj(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function kj(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(Tj(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function ZT(){let t=N.useContext(_u);return l1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Nj(){let t=N.useContext(qp);return l1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var c1=N.createContext(void 0);c1.displayName="FrameworkContext";function ek(){let t=N.useContext(c1);return l1(t,"You must render this element inside a <HydratedRouter> element"),t}function Sj(t,e){let r=N.useContext(c1),[n,i]=N.useState(!1),[s,l]=N.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,y=N.useRef(null);N.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let w=O=>{O.forEach(M=>{l(M.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[t]),N.useEffect(()=>{if(n){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[n]);let v=()=>{i(!0)},k=()=>{i(!1),l(!1)};return r?t!=="intent"?[s,y,{}]:[s,y,{onFocus:gd(u,v),onBlur:gd(d,k),onMouseEnter:gd(h,v),onMouseLeave:gd(p,k),onTouchStart:gd(g,v)}]:[!1,y,{}]}function gd(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Aj({page:t,...e}){let{router:r}=ZT(),n=N.useMemo(()=>HT(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?N.createElement(Ij,{page:t,matches:n,...e}):null}function Cj(t){let{manifest:e,routeModules:r}=ek(),[n,i]=N.useState([]);return N.useEffect(()=>{let s=!1;return wj(t,e,r).then(l=>{s||i(l)}),()=>{s=!0}},[t,e,r]),n}function Ij({page:t,matches:e,...r}){let n=qo(),{manifest:i,routeModules:s}=ek(),{basename:l}=ZT(),{loaderData:u,matches:d}=Nj(),h=N.useMemo(()=>Ww(t,e,d,i,n,"data"),[t,e,d,i,n]),p=N.useMemo(()=>Ww(t,e,d,i,n,"assets"),[t,e,d,i,n]),g=N.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let k=new Set,w=!1;if(e.forEach(O=>{let M=i.routes[O.route.id];!M||!M.hasLoader||(!h.some(V=>V.route.id===O.route.id)&&O.route.id in u&&s[O.route.id]?.shouldRevalidate||M.hasClientLoader?w=!0:k.add(O.route.id))}),k.size===0)return[];let E=yj(t,l,"data");return w&&k.size>0&&E.searchParams.set("_routes",e.filter(O=>k.has(O.route.id)).map(O=>O.route.id).join(",")),[E.pathname+E.search]},[l,u,n,i,h,e,t,s]),y=N.useMemo(()=>_j(p,i),[p,i]),v=Cj(p);return N.createElement(N.Fragment,null,g.map(k=>N.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...r})),y.map(k=>N.createElement("link",{key:k,rel:"modulepreload",href:k,...r})),v.map(({key:k,link:w})=>N.createElement("link",{key:k,nonce:r.nonce,...w})))}function jj(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var tk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tk&&(window.__reactRouterVersion="7.8.2")}catch{}function Pj({basename:t,children:e,window:r}){let n=N.useRef();n.current==null&&(n.current=bI({window:r,v5Compat:!0}));let i=n.current,[s,l]=N.useState({action:i.action,location:i.location}),u=N.useCallback(d=>{N.startTransition(()=>l(d))},[l]);return N.useLayoutEffect(()=>i.listen(u),[i,u]),N.createElement(lj,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var rk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yi=N.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:l,state:u,target:d,to:h,preventScrollReset:p,viewTransition:g,...y},v){let{basename:k}=N.useContext(Ds),w=typeof h=="string"&&rk.test(h),E,O=!1;if(typeof h=="string"&&w&&(E=h,tk))try{let C=new URL(window.location.href),P=h.startsWith("//")?new URL(C.protocol+h):new URL(h),D=Oa(P.pathname,k);P.origin===C.origin&&D!=null?h=D+P.search+P.hash:O=!0}catch{Is(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=GI(h,{relative:i}),[V,j,X]=Sj(n,y),U=Fj(h,{replace:l,state:u,target:d,preventScrollReset:p,relative:i,viewTransition:g});function A(C){e&&e(C),C.defaultPrevented||U(C)}let S=N.createElement("a",{...y,...X,href:E||M,onClick:O||s?e:A,ref:jj(v,j),target:d,"data-discover":!w&&r==="render"?"true":void 0});return V&&!w?N.createElement(N.Fragment,null,S,N.createElement(Aj,{page:M})):S});yi.displayName="Link";var Rj=N.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:l,viewTransition:u,children:d,...h},p){let g=_0(l,{relative:h.relative}),y=qo(),v=N.useContext(qp),{navigator:k,basename:w}=N.useContext(Ds),E=v!=null&&Bj(g)&&u===!0,O=k.encodeLocation?k.encodeLocation(g).pathname:g.pathname,M=y.pathname,V=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(M=M.toLowerCase(),V=V?V.toLowerCase():null,O=O.toLowerCase()),V&&w&&(V=Oa(V,w)||V);const j=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let X=M===O||!i&&M.startsWith(O)&&M.charAt(j)==="/",U=V!=null&&(V===O||!i&&V.startsWith(O)&&V.charAt(O.length)==="/"),A={isActive:X,isPending:U,isTransitioning:E},S=X?e:void 0,C;typeof n=="function"?C=n(A):C=[n,X?"active":null,U?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(A):s;return N.createElement(yi,{...h,"aria-current":S,className:C,ref:p,style:P,to:l,viewTransition:u},typeof d=="function"?d(A):d)});Rj.displayName="NavLink";var Dj=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:l=Af,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:g,...y},v)=>{let k=$j(),w=Vj(u,{relative:h}),E=l.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&rk.test(u),M=V=>{if(d&&d(V),V.defaultPrevented)return;V.preventDefault();let j=V.nativeEvent.submitter,X=j?.getAttribute("formmethod")||l;k(j||V.currentTarget,{fetcherKey:e,method:X,navigate:r,replace:i,state:s,relative:h,preventScrollReset:p,viewTransition:g})};return N.createElement("form",{ref:v,method:E,action:w,onSubmit:n?d:M,...y,"data-discover":!O&&t==="render"?"true":void 0})});Dj.displayName="Form";function Oj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nk(t){let e=N.useContext(_u);return jr(e,Oj(t)),e}function Fj(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=Os(),d=qo(),h=_0(t,{relative:s});return N.useCallback(p=>{if(pj(p,e)){p.preventDefault();let g=r!==void 0?r:Gd(d)===Gd(h);u(t,{replace:g,state:n,preventScrollReset:i,relative:s,viewTransition:l})}},[d,u,h,r,n,e,t,i,s,l])}var Lj=0,Mj=()=>`__${String(++Lj)}__`;function $j(){let{router:t}=nk("useSubmit"),{basename:e}=N.useContext(Ds),r=ij();return N.useCallback(async(n,i={})=>{let{action:s,method:l,encType:u,formData:d,body:h}=xj(n,e);if(i.navigate===!1){let p=i.fetcherKey||Mj();await t.fetch(p,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function Vj(t,{relative:e}={}){let{basename:r}=N.useContext(Ds),n=N.useContext(ca);jr(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={..._0(t||".",{relative:e})},l=qo();if(t==null){s.search=l.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();s.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:Sa([r,s.pathname])),Gd(s)}function Bj(t,{relative:e}={}){let r=N.useContext(KT);jr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=nk("useViewTransitionState"),i=_0(t,{relative:e});if(!r.isTransitioning)return!1;let s=Oa(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=Oa(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Hf(i.pathname,l)!=null||Hf(i.pathname,s)!=null}const Uj=()=>{};var qw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},zj=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],l=t[r++],u=t[r++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const s=t[r++],l=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},sk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,u=l?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,p=s>>2,g=(s&3)<<4|u>>4;let y=(u&15)<<2|h>>6,v=h&63;d||(v=64,l||(y=64)),n.push(r[p],r[g],r[y],r[v])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ik(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],u=i<t.length?r[t.charAt(i)]:0;++i;const h=i<t.length?r[t.charAt(i)]:64;++i;const g=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new Hj;const y=s<<2|u>>4;if(n.push(y),h!==64){const v=u<<4&240|h>>2;if(n.push(v),g!==64){const k=h<<6&192|g;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Hj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wj=function(t){const e=ik(t);return sk.encodeByteArray(e,!0)},Wf=function(t){return Wj(t).replace(/\./g,"")},ak=function(t){try{return sk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=()=>qj().__FIREBASE_DEFAULTS__,Kj=()=>{if(typeof process>"u"||typeof qw>"u")return;const t=qw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Xj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ak(t[1]);return e&&JSON.parse(e)},Kp=()=>{try{return Uj()||Gj()||Kj()||Xj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ok=t=>{var e,r;return(r=(e=Kp())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},lk=t=>{const e=ok(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},ck=()=>{var t;return(t=Kp())===null||t===void 0?void 0:t.config},uk=t=>{var e;return(e=Kp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wf(JSON.stringify(r)),Wf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function Jj(){var t;const e=(t=Kp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tP(){const t=Qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rP(){return!Jj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fk(){try{return typeof indexedDB=="object"}catch{return!1}}function pk(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}function nP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="FirebaseError";class os extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=iP,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?sP(s,n):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new os(i,u,n)}}function sP(t,e){return t.replace(aP,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const aP=/\{\$([^}]+)}/g;function oP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ro(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],l=e[i];if(Gw(s)&&Gw(l)){if(!Ro(s,l))return!1}else if(s!==l)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function Gw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function bd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function wd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function lP(t,e){const r=new cP(t,e);return r.subscribe.bind(r)}class cP{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");uP(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=gx),i.error===void 0&&(i.error=gx),i.complete===void 0&&(i.complete=gx);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uP(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function gx(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=1e3,hP=2,fP=14400*1e3,pP=.5;function Kw(t,e=dP,r=hP){const n=e*Math.pow(r,t),i=Math.round(pP*n*(Math.random()-.5)*2);return Math.min(fP,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t){return t&&t._delegate?t._delegate:t}class as{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Yj;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xP(e))try{this.getOrInitializeService({instanceIdentifier:yl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=yl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yl){return this.instances.has(e)}getOptions(e=yl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);n===u&&l.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:gP(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=yl){return this.component?this.component.multipleInstances?e:yl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gP(t){return t===yl?void 0:t}function xP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new mP(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qt||(qt={}));const vP={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},bP=qt.INFO,wP={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},_P=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=wP[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xp{constructor(e){this.name=e,this._logLevel=bP,this._logHandler=_P,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const EP=(t,e)=>e.some(r=>t instanceof r);let Xw,Yw;function TP(){return Xw||(Xw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kP(){return Yw||(Yw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mk=new WeakMap,ry=new WeakMap,gk=new WeakMap,xx=new WeakMap,u1=new WeakMap;function NP(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{r(Ao(t.result)),i()},l=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(r=>{r instanceof IDBCursor&&mk.set(r,t)}).catch(()=>{}),u1.set(e,t),e}function SP(t){if(ry.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{r(),i()},l=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});ry.set(t,e)}let ny={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return ry.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gk.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ao(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AP(t){ny=t(ny)}function CP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(yx(this),e,...r);return gk.set(n,e.sort?e.sort():[e]),Ao(n)}:kP().includes(t)?function(...e){return t.apply(yx(this),e),Ao(mk.get(this))}:function(...e){return Ao(t.apply(yx(this),e))}}function IP(t){return typeof t=="function"?CP(t):(t instanceof IDBTransaction&&SP(t),EP(t,TP())?new Proxy(t,ny):t)}function Ao(t){if(t instanceof IDBRequest)return NP(t);if(xx.has(t))return xx.get(t);const e=IP(t);return e!==t&&(xx.set(t,e),u1.set(e,t)),e}const yx=t=>u1.get(t);function xk(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),u=Ao(l);return n&&l.addEventListener("upgradeneeded",d=>{n(Ao(l.result),d.oldVersion,d.newVersion,Ao(l.transaction),d)}),r&&l.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const jP=["get","getKey","getAll","getAllKeys","count"],PP=["put","add","delete","clear"],vx=new Map;function Qw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vx.get(e))return vx.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=PP.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||jP.includes(r)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(u.shift())),(await Promise.all([h[r](...u),i&&d.done]))[0]};return vx.set(e,s),s}AP(t=>({...t,get:(e,r,n)=>Qw(e,r)||t.get(e,r,n),has:(e,r)=>!!Qw(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(DP(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function DP(t){const e=t.getComponent();return e?.type==="VERSION"}const iy="@firebase/app",Jw="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new Xp("@firebase/app"),OP="@firebase/app-compat",FP="@firebase/analytics-compat",LP="@firebase/analytics",MP="@firebase/app-check-compat",$P="@firebase/app-check",VP="@firebase/auth",BP="@firebase/auth-compat",UP="@firebase/database",zP="@firebase/data-connect",HP="@firebase/database-compat",WP="@firebase/functions",qP="@firebase/functions-compat",GP="@firebase/installations",KP="@firebase/installations-compat",XP="@firebase/messaging",YP="@firebase/messaging-compat",QP="@firebase/performance",JP="@firebase/performance-compat",ZP="@firebase/remote-config",eR="@firebase/remote-config-compat",tR="@firebase/storage",rR="@firebase/storage-compat",nR="@firebase/firestore",iR="@firebase/vertexai",sR="@firebase/firestore-compat",aR="firebase",oR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="[DEFAULT]",lR={[iy]:"fire-core",[OP]:"fire-core-compat",[LP]:"fire-analytics",[FP]:"fire-analytics-compat",[$P]:"fire-app-check",[MP]:"fire-app-check-compat",[VP]:"fire-auth",[BP]:"fire-auth-compat",[UP]:"fire-rtdb",[zP]:"fire-data-connect",[HP]:"fire-rtdb-compat",[WP]:"fire-fn",[qP]:"fire-fn-compat",[GP]:"fire-iid",[KP]:"fire-iid-compat",[XP]:"fire-fcm",[YP]:"fire-fcm-compat",[QP]:"fire-perf",[JP]:"fire-perf-compat",[ZP]:"fire-rc",[eR]:"fire-rc-compat",[tR]:"fire-gcs",[rR]:"fire-gcs-compat",[nR]:"fire-fst",[sR]:"fire-fst-compat",[iR]:"fire-vertex","fire-js":"fire-js",[aR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new Map,cR=new Map,ay=new Map;function Zw(t,e){try{t.container.addComponent(e)}catch(r){Fa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function js(t){const e=t.name;if(ay.has(e))return Fa.debug(`There were multiple attempts to register component ${e}.`),!1;ay.set(e,t);for(const r of qf.values())Zw(r,t);for(const r of cR.values())Zw(r,t);return!0}function Go(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Li(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Co=new Ul("app","Firebase",uR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=oR;function yk(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:sy,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Co.create("bad-app-name",{appName:String(i)});if(r||(r=ck()),!r)throw Co.create("no-options");const s=qf.get(i);if(s){if(Ro(r,s.options)&&Ro(n,s.config))return s;throw Co.create("duplicate-app",{appName:i})}const l=new yP(i);for(const d of ay.values())l.addComponent(d);const u=new dR(r,n,l);return qf.set(i,u),u}function Yp(t=sy){const e=qf.get(t);if(!e&&t===sy&&ck())return yk();if(!e)throw Co.create("no-app",{appName:t});return e}function bi(t,e,r){var n;let i=(n=lR[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fa.warn(u.join(" "));return}js(new as(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="firebase-heartbeat-database",fR=1,Kd="firebase-heartbeat-store";let bx=null;function vk(){return bx||(bx=xk(hR,fR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kd)}catch(r){console.warn(r)}}}}).catch(t=>{throw Co.create("idb-open",{originalErrorMessage:t.message})})),bx}async function pR(t){try{const r=(await vk()).transaction(Kd),n=await r.objectStore(Kd).get(bk(t));return await r.done,n}catch(e){if(e instanceof os)Fa.warn(e.message);else{const r=Co.create("idb-get",{originalErrorMessage:e?.message});Fa.warn(r.message)}}}async function e_(t,e){try{const n=(await vk()).transaction(Kd,"readwrite");await n.objectStore(Kd).put(e,bk(t)),await n.done}catch(r){if(r instanceof os)Fa.warn(r.message);else{const n=Co.create("idb-set",{originalErrorMessage:r?.message});Fa.warn(n.message)}}}function bk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=1024,gR=30;class xR{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new vR(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=t_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>gR){const l=bR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Fa.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=t_(),{heartbeatsToSend:n,unsentEntries:i}=yR(this._heartbeatsCache.heartbeats),s=Wf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Fa.warn(r),""}}}function t_(){return new Date().toISOString().substring(0,10)}function yR(t,e=mR){const r=[];let n=t.slice();for(const i of t){const s=r.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),r_(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),r_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class vR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fk()?pk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await pR(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return e_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return e_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function r_(t){return Wf(JSON.stringify({version:2,heartbeats:t})).length}function bR(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t){js(new as("platform-logger",e=>new RP(e),"PRIVATE")),js(new as("heartbeat",e=>new xR(e),"PRIVATE")),bi(iy,Jw,t),bi(iy,Jw,"esm2017"),bi("fire-js","")}wR("");var _R="firebase",ER="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(_R,ER,"app");const wk="@firebase/installations",d1="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=1e4,Ek=`w:${d1}`,Tk="FIS_v2",TR="https://firebaseinstallations.googleapis.com/v1",kR=3600*1e3,NR="installations",SR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Al=new Ul(NR,SR,AR);function kk(t){return t instanceof os&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk({projectId:t}){return`${TR}/projects/${t}/installations`}function Sk(t){return{token:t.token,requestStatus:2,expiresIn:IR(t.expiresIn),creationTime:Date.now()}}async function Ak(t,e){const n=(await e.json()).error;return Al.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Ck({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function CR(t,{refreshToken:e}){const r=Ck(t);return r.append("Authorization",jR(e)),r}async function Ik(t){const e=await t();return e.status>=500&&e.status<600?t():e}function IR(t){return Number(t.replace("s","000"))}function jR(t){return`${Tk} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=Nk(t),i=Ck(t),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const l={fid:r,authVersion:Tk,appId:t.appId,sdkVersion:Ek},u={method:"POST",headers:i,body:JSON.stringify(l)},d=await Ik(()=>fetch(n,u));if(d.ok){const h=await d.json();return{fid:h.fid||r,registrationStatus:2,refreshToken:h.refreshToken,authToken:Sk(h.authToken)}}else throw await Ak("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=/^[cdef][\w-]{21}$/,oy="";function OR(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=FR(t);return DR.test(r)?r:oy}catch{return oy}}function FR(t){return RR(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=new Map;function Rk(t,e){const r=Qp(t);Dk(r,e),LR(r,e)}function Dk(t,e){const r=Pk.get(t);if(r)for(const n of r)n(e)}function LR(t,e){const r=MR();r&&r.postMessage({key:t,fid:e}),$R()}let wl=null;function MR(){return!wl&&"BroadcastChannel"in self&&(wl=new BroadcastChannel("[Firebase] FID Change"),wl.onmessage=t=>{Dk(t.data.key,t.data.fid)}),wl}function $R(){Pk.size===0&&wl&&(wl.close(),wl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="firebase-installations-database",BR=1,Cl="firebase-installations-store";let wx=null;function h1(){return wx||(wx=xk(VR,BR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Cl)}}})),wx}async function Gf(t,e){const r=Qp(t),i=(await h1()).transaction(Cl,"readwrite"),s=i.objectStore(Cl),l=await s.get(r);return await s.put(e,r),await i.done,(!l||l.fid!==e.fid)&&Rk(t,e.fid),e}async function Ok(t){const e=Qp(t),n=(await h1()).transaction(Cl,"readwrite");await n.objectStore(Cl).delete(e),await n.done}async function Jp(t,e){const r=Qp(t),i=(await h1()).transaction(Cl,"readwrite"),s=i.objectStore(Cl),l=await s.get(r),u=e(l);return u===void 0?await s.delete(r):await s.put(u,r),await i.done,u&&(!l||l.fid!==u.fid)&&Rk(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(t){let e;const r=await Jp(t.appConfig,n=>{const i=UR(n),s=zR(t,i);return e=s.registrationPromise,s.installationEntry});return r.fid===oy?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function UR(t){const e=t||{fid:OR(),registrationStatus:0};return Fk(e)}function zR(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Al.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=HR(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:WR(t)}:{installationEntry:e}}async function HR(t,e){try{const r=await PR(t,e);return Gf(t.appConfig,r)}catch(r){throw kk(r)&&r.customData.serverCode===409?await Ok(t.appConfig):await Gf(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function WR(t){let e=await n_(t.appConfig);for(;e.registrationStatus===1;)await jk(100),e=await n_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await f1(t);return n||r}return e}function n_(t){return Jp(t,e=>{if(!e)throw Al.create("installation-not-found");return Fk(e)})}function Fk(t){return qR(t)?{fid:t.fid,registrationStatus:0}:t}function qR(t){return t.registrationStatus===1&&t.registrationTime+_k<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR({appConfig:t,heartbeatServiceProvider:e},r){const n=KR(t,r),i=CR(t,r),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const l={installation:{sdkVersion:Ek,appId:t.appId}},u={method:"POST",headers:i,body:JSON.stringify(l)},d=await Ik(()=>fetch(n,u));if(d.ok){const h=await d.json();return Sk(h)}else throw await Ak("Generate Auth Token",d)}function KR(t,{fid:e}){return`${Nk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1(t,e=!1){let r;const n=await Jp(t.appConfig,s=>{if(!Lk(s))throw Al.create("not-registered");const l=s.authToken;if(!e&&QR(l))return s;if(l.requestStatus===1)return r=XR(t,e),s;{if(!navigator.onLine)throw Al.create("app-offline");const u=ZR(s);return r=YR(t,u),u}});return r?await r:n.authToken}async function XR(t,e){let r=await i_(t.appConfig);for(;r.authToken.requestStatus===1;)await jk(100),r=await i_(t.appConfig);const n=r.authToken;return n.requestStatus===0?p1(t,e):n}function i_(t){return Jp(t,e=>{if(!Lk(e))throw Al.create("not-registered");const r=e.authToken;return e8(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function YR(t,e){try{const r=await GR(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Gf(t.appConfig,n),r}catch(r){if(kk(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await Ok(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Gf(t.appConfig,n)}throw r}}function Lk(t){return t!==void 0&&t.registrationStatus===2}function QR(t){return t.requestStatus===2&&!JR(t)}function JR(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+kR}function ZR(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function e8(t){return t.requestStatus===1&&t.requestTime+_k<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t8(t){const e=t,{installationEntry:r,registrationPromise:n}=await f1(e);return n?n.catch(console.error):p1(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r8(t,e=!1){const r=t;return await n8(r),(await p1(r,e)).token}async function n8(t){const{registrationPromise:e}=await f1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(t){if(!t||!t.options)throw _x("App Configuration");if(!t.name)throw _x("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw _x(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function _x(t){return Al.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="installations",s8="installations-internal",a8=t=>{const e=t.getProvider("app").getImmediate(),r=i8(e),n=Go(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},o8=t=>{const e=t.getProvider("app").getImmediate(),r=Go(e,Mk).getImmediate();return{getId:()=>t8(r),getToken:i=>r8(r,i)}};function l8(){js(new as(Mk,a8,"PUBLIC")),js(new as(s8,o8,"PRIVATE"))}l8();bi(wk,d1);bi(wk,d1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="analytics",c8="firebase_id",u8="origin",d8=60*1e3,h8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",m1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new Xp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$i=new Ul("analytics","Analytics",f8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(t){if(!t.startsWith(m1)){const e=$i.create("invalid-gtag-resource",{gtagURL:t});return wi.warn(e.message),""}return t}function $k(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function m8(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function g8(t,e){const r=m8("firebase-js-sdk-policy",{createScriptURL:p8}),n=document.createElement("script"),i=`${m1}?l=${t}&id=${e}`;n.src=r?r?.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function x8(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function y8(t,e,r,n,i,s){const l=n[i];try{if(l)await e[l];else{const d=(await $k(r)).find(h=>h.measurementId===i);d&&await e[d.appId]}}catch(u){wi.error(u)}t("config",i,s)}async function v8(t,e,r,n,i){try{let s=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const u=await $k(r);for(const d of l){const h=u.find(g=>g.measurementId===d),p=h&&e[h.appId];if(p)s.push(p);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",n,i||{})}catch(s){wi.error(s)}}function b8(t,e,r,n){async function i(s,...l){try{if(s==="event"){const[u,d]=l;await v8(t,e,r,u,d)}else if(s==="config"){const[u,d]=l;await y8(t,e,r,n,u,d)}else if(s==="consent"){const[u,d]=l;t("consent",u,d)}else if(s==="get"){const[u,d,h]=l;t("get",u,d,h)}else if(s==="set"){const[u]=l;t("set",u)}else t(s,...l)}catch(u){wi.error(u)}}return i}function w8(t,e,r,n,i){let s=function(...l){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=b8(s,t,e,r),{gtagCore:s,wrappedGtag:window[i]}}function _8(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(m1)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=30,T8=1e3;class k8{constructor(e={},r=T8){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Vk=new k8;function N8(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function S8(t){var e;const{appId:r,apiKey:n}=t,i={method:"GET",headers:N8(n)},s=h8.replace("{app-id}",r),l=await fetch(s,i);if(l.status!==200&&l.status!==304){let u="";try{const d=await l.json();!((e=d.error)===null||e===void 0)&&e.message&&(u=d.error.message)}catch{}throw $i.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function A8(t,e=Vk,r){const{appId:n,apiKey:i,measurementId:s}=t.options;if(!n)throw $i.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:n};throw $i.create("no-api-key")}const l=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new j8;return setTimeout(async()=>{u.abort()},d8),Bk({appId:n,apiKey:i,measurementId:s},l,u,e)}async function Bk(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=Vk){var s;const{appId:l,measurementId:u}=t;try{await C8(n,e)}catch(d){if(u)return wi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:u};throw d}try{const d=await S8(t);return i.deleteThrottleMetadata(l),d}catch(d){const h=d;if(!I8(h)){if(i.deleteThrottleMetadata(l),u)return wi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw d}const p=Number((s=h?.customData)===null||s===void 0?void 0:s.httpStatus)===503?Kw(r,i.intervalMillis,E8):Kw(r,i.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:r+1};return i.setThrottleMetadata(l,g),wi.debug(`Calling attemptFetch again in ${p} millis`),Bk(t,g,n,i)}}function C8(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(s),n($i.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function I8(t){if(!(t instanceof os)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class j8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function P8(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const s=await e,l=Object.assign(Object.assign({},n),{send_to:s});t("event",r,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R8(){if(fk())try{await pk()}catch(t){return wi.warn($i.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return wi.warn($i.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function D8(t,e,r,n,i,s,l){var u;const d=A8(t);d.then(v=>{r[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&wi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>wi.error(v)),e.push(d);const h=R8().then(v=>{if(v)return n.getId()}),[p,g]=await Promise.all([d,h]);_8(s)||g8(s,p.measurementId),i("js",new Date);const y=(u=l?.config)!==null&&u!==void 0?u:{};return y[u8]="firebase",y.update=!0,g!=null&&(y[c8]=g),i("config",p.measurementId,y),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e){this.app=e}_delete(){return delete Cd[this.app.options.appId],Promise.resolve()}}let Cd={},s_=[];const a_={};let Ex="dataLayer",F8="gtag",o_,Uk,l_=!1;function L8(){const t=[];if(hk()&&t.push("This is a browser extension environment."),nP()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=$i.create("invalid-analytics-context",{errorInfo:e});wi.warn(r.message)}}function M8(t,e,r){L8();const n=t.options.appId;if(!n)throw $i.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)wi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $i.create("no-api-key");if(Cd[n]!=null)throw $i.create("already-exists",{id:n});if(!l_){x8(Ex);const{wrappedGtag:s,gtagCore:l}=w8(Cd,s_,a_,Ex,F8);Uk=s,o_=l,l_=!0}return Cd[n]=D8(t,s_,a_,e,o_,Ex,r),new O8(t)}function $8(t=Yp()){t=Tr(t);const e=Go(t,Kf);return e.isInitialized()?e.getImmediate():V8(t)}function V8(t,e={}){const r=Go(t,Kf);if(r.isInitialized()){const i=r.getImmediate();if(Ro(e,r.getOptions()))return i;throw $i.create("already-initialized")}return r.initialize({options:e})}function B8(t,e,r,n){t=Tr(t),P8(Uk,Cd[t.app.options.appId],e,r,n).catch(i=>wi.error(i))}const c_="@firebase/analytics",u_="0.10.12";function U8(){js(new as(Kf,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return M8(n,i,r)},"PUBLIC")),js(new as("analytics-internal",t,"PRIVATE")),bi(c_,u_),bi(c_,u_,"esm2017");function t(e){try{const r=e.getProvider(Kf).getImmediate();return{logEvent:(n,i,s)=>B8(r,n,i,s)}}catch(r){throw $i.create("interop-component-reg-failed",{reason:r})}}}U8();var d_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Io,zk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function C(){}C.prototype=S.prototype,A.D=S.prototype,A.prototype=new C,A.prototype.constructor=A,A.C=function(P,D,z){for(var B=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)B[Ee-2]=arguments[Ee];return S.prototype[D].apply(P,B)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,S,C){C||(C=0);var P=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)P[D]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(D=0;16>D;++D)P[D]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=A.g[0],C=A.g[1],D=A.g[2];var z=A.g[3],B=S+(z^C&(D^z))+P[0]+3614090360&4294967295;S=C+(B<<7&4294967295|B>>>25),B=z+(D^S&(C^D))+P[1]+3905402710&4294967295,z=S+(B<<12&4294967295|B>>>20),B=D+(C^z&(S^C))+P[2]+606105819&4294967295,D=z+(B<<17&4294967295|B>>>15),B=C+(S^D&(z^S))+P[3]+3250441966&4294967295,C=D+(B<<22&4294967295|B>>>10),B=S+(z^C&(D^z))+P[4]+4118548399&4294967295,S=C+(B<<7&4294967295|B>>>25),B=z+(D^S&(C^D))+P[5]+1200080426&4294967295,z=S+(B<<12&4294967295|B>>>20),B=D+(C^z&(S^C))+P[6]+2821735955&4294967295,D=z+(B<<17&4294967295|B>>>15),B=C+(S^D&(z^S))+P[7]+4249261313&4294967295,C=D+(B<<22&4294967295|B>>>10),B=S+(z^C&(D^z))+P[8]+1770035416&4294967295,S=C+(B<<7&4294967295|B>>>25),B=z+(D^S&(C^D))+P[9]+2336552879&4294967295,z=S+(B<<12&4294967295|B>>>20),B=D+(C^z&(S^C))+P[10]+4294925233&4294967295,D=z+(B<<17&4294967295|B>>>15),B=C+(S^D&(z^S))+P[11]+2304563134&4294967295,C=D+(B<<22&4294967295|B>>>10),B=S+(z^C&(D^z))+P[12]+1804603682&4294967295,S=C+(B<<7&4294967295|B>>>25),B=z+(D^S&(C^D))+P[13]+4254626195&4294967295,z=S+(B<<12&4294967295|B>>>20),B=D+(C^z&(S^C))+P[14]+2792965006&4294967295,D=z+(B<<17&4294967295|B>>>15),B=C+(S^D&(z^S))+P[15]+1236535329&4294967295,C=D+(B<<22&4294967295|B>>>10),B=S+(D^z&(C^D))+P[1]+4129170786&4294967295,S=C+(B<<5&4294967295|B>>>27),B=z+(C^D&(S^C))+P[6]+3225465664&4294967295,z=S+(B<<9&4294967295|B>>>23),B=D+(S^C&(z^S))+P[11]+643717713&4294967295,D=z+(B<<14&4294967295|B>>>18),B=C+(z^S&(D^z))+P[0]+3921069994&4294967295,C=D+(B<<20&4294967295|B>>>12),B=S+(D^z&(C^D))+P[5]+3593408605&4294967295,S=C+(B<<5&4294967295|B>>>27),B=z+(C^D&(S^C))+P[10]+38016083&4294967295,z=S+(B<<9&4294967295|B>>>23),B=D+(S^C&(z^S))+P[15]+3634488961&4294967295,D=z+(B<<14&4294967295|B>>>18),B=C+(z^S&(D^z))+P[4]+3889429448&4294967295,C=D+(B<<20&4294967295|B>>>12),B=S+(D^z&(C^D))+P[9]+568446438&4294967295,S=C+(B<<5&4294967295|B>>>27),B=z+(C^D&(S^C))+P[14]+3275163606&4294967295,z=S+(B<<9&4294967295|B>>>23),B=D+(S^C&(z^S))+P[3]+4107603335&4294967295,D=z+(B<<14&4294967295|B>>>18),B=C+(z^S&(D^z))+P[8]+1163531501&4294967295,C=D+(B<<20&4294967295|B>>>12),B=S+(D^z&(C^D))+P[13]+2850285829&4294967295,S=C+(B<<5&4294967295|B>>>27),B=z+(C^D&(S^C))+P[2]+4243563512&4294967295,z=S+(B<<9&4294967295|B>>>23),B=D+(S^C&(z^S))+P[7]+1735328473&4294967295,D=z+(B<<14&4294967295|B>>>18),B=C+(z^S&(D^z))+P[12]+2368359562&4294967295,C=D+(B<<20&4294967295|B>>>12),B=S+(C^D^z)+P[5]+4294588738&4294967295,S=C+(B<<4&4294967295|B>>>28),B=z+(S^C^D)+P[8]+2272392833&4294967295,z=S+(B<<11&4294967295|B>>>21),B=D+(z^S^C)+P[11]+1839030562&4294967295,D=z+(B<<16&4294967295|B>>>16),B=C+(D^z^S)+P[14]+4259657740&4294967295,C=D+(B<<23&4294967295|B>>>9),B=S+(C^D^z)+P[1]+2763975236&4294967295,S=C+(B<<4&4294967295|B>>>28),B=z+(S^C^D)+P[4]+1272893353&4294967295,z=S+(B<<11&4294967295|B>>>21),B=D+(z^S^C)+P[7]+4139469664&4294967295,D=z+(B<<16&4294967295|B>>>16),B=C+(D^z^S)+P[10]+3200236656&4294967295,C=D+(B<<23&4294967295|B>>>9),B=S+(C^D^z)+P[13]+681279174&4294967295,S=C+(B<<4&4294967295|B>>>28),B=z+(S^C^D)+P[0]+3936430074&4294967295,z=S+(B<<11&4294967295|B>>>21),B=D+(z^S^C)+P[3]+3572445317&4294967295,D=z+(B<<16&4294967295|B>>>16),B=C+(D^z^S)+P[6]+76029189&4294967295,C=D+(B<<23&4294967295|B>>>9),B=S+(C^D^z)+P[9]+3654602809&4294967295,S=C+(B<<4&4294967295|B>>>28),B=z+(S^C^D)+P[12]+3873151461&4294967295,z=S+(B<<11&4294967295|B>>>21),B=D+(z^S^C)+P[15]+530742520&4294967295,D=z+(B<<16&4294967295|B>>>16),B=C+(D^z^S)+P[2]+3299628645&4294967295,C=D+(B<<23&4294967295|B>>>9),B=S+(D^(C|~z))+P[0]+4096336452&4294967295,S=C+(B<<6&4294967295|B>>>26),B=z+(C^(S|~D))+P[7]+1126891415&4294967295,z=S+(B<<10&4294967295|B>>>22),B=D+(S^(z|~C))+P[14]+2878612391&4294967295,D=z+(B<<15&4294967295|B>>>17),B=C+(z^(D|~S))+P[5]+4237533241&4294967295,C=D+(B<<21&4294967295|B>>>11),B=S+(D^(C|~z))+P[12]+1700485571&4294967295,S=C+(B<<6&4294967295|B>>>26),B=z+(C^(S|~D))+P[3]+2399980690&4294967295,z=S+(B<<10&4294967295|B>>>22),B=D+(S^(z|~C))+P[10]+4293915773&4294967295,D=z+(B<<15&4294967295|B>>>17),B=C+(z^(D|~S))+P[1]+2240044497&4294967295,C=D+(B<<21&4294967295|B>>>11),B=S+(D^(C|~z))+P[8]+1873313359&4294967295,S=C+(B<<6&4294967295|B>>>26),B=z+(C^(S|~D))+P[15]+4264355552&4294967295,z=S+(B<<10&4294967295|B>>>22),B=D+(S^(z|~C))+P[6]+2734768916&4294967295,D=z+(B<<15&4294967295|B>>>17),B=C+(z^(D|~S))+P[13]+1309151649&4294967295,C=D+(B<<21&4294967295|B>>>11),B=S+(D^(C|~z))+P[4]+4149444226&4294967295,S=C+(B<<6&4294967295|B>>>26),B=z+(C^(S|~D))+P[11]+3174756917&4294967295,z=S+(B<<10&4294967295|B>>>22),B=D+(S^(z|~C))+P[2]+718787259&4294967295,D=z+(B<<15&4294967295|B>>>17),B=C+(z^(D|~S))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(D+(B<<21&4294967295|B>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+z&4294967295}n.prototype.u=function(A,S){S===void 0&&(S=A.length);for(var C=S-this.blockSize,P=this.B,D=this.h,z=0;z<S;){if(D==0)for(;z<=C;)i(this,A,z),z+=this.blockSize;if(typeof A=="string"){for(;z<S;)if(P[D++]=A.charCodeAt(z++),D==this.blockSize){i(this,P),D=0;break}}else for(;z<S;)if(P[D++]=A[z++],D==this.blockSize){i(this,P),D=0;break}}this.h=D,this.o+=S},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;var C=8*this.o;for(S=A.length-8;S<A.length;++S)A[S]=C&255,C/=256;for(this.u(A),A=Array(16),S=C=0;4>S;++S)for(var P=0;32>P;P+=8)A[C++]=this.g[S]>>>P&255;return A};function s(A,S){var C=u;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=S(A)}function l(A,S){this.h=S;for(var C=[],P=!0,D=A.length-1;0<=D;D--){var z=A[D]|0;P&&z==S||(C[D]=z,P=!1)}this.g=C}var u={};function d(A){return-128<=A&&128>A?s(A,function(S){return new l([S|0],0>S?-1:0)}):new l([A|0],0>A?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return g;if(0>A)return E(h(-A));for(var S=[],C=1,P=0;A>=C;P++)S[P]=A/C|0,C*=4294967296;return new l(S,0)}function p(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return E(p(A.substring(1),S));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=h(Math.pow(S,8)),P=g,D=0;D<A.length;D+=8){var z=Math.min(8,A.length-D),B=parseInt(A.substring(D,D+z),S);8>z?(z=h(Math.pow(S,z)),P=P.j(z).add(h(B))):(P=P.j(C),P=P.add(h(B)))}return P}var g=d(0),y=d(1),v=d(16777216);t=l.prototype,t.m=function(){if(w(this))return-E(this).m();for(var A=0,S=1,C=0;C<this.g.length;C++){var P=this.i(C);A+=(0<=P?P:4294967296+P)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k(this))return"0";if(w(this))return"-"+E(this).toString(A);for(var S=h(Math.pow(A,6)),C=this,P="";;){var D=j(C,S).g;C=O(C,D.j(S));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(A);if(C=D,k(C))return z+P;for(;6>z.length;)z="0"+z;P=z+P}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function k(A){if(A.h!=0)return!1;for(var S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function w(A){return A.h==-1}t.l=function(A){return A=O(this,A),w(A)?-1:k(A)?0:1};function E(A){for(var S=A.g.length,C=[],P=0;P<S;P++)C[P]=~A.g[P];return new l(C,~A.h).add(y)}t.abs=function(){return w(this)?E(this):this},t.add=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],P=0,D=0;D<=S;D++){var z=P+(this.i(D)&65535)+(A.i(D)&65535),B=(z>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);P=B>>>16,z&=65535,B&=65535,C[D]=B<<16|z}return new l(C,C[C.length-1]&-2147483648?-1:0)};function O(A,S){return A.add(E(S))}t.j=function(A){if(k(this)||k(A))return g;if(w(this))return w(A)?E(this).j(E(A)):E(E(this).j(A));if(w(A))return E(this.j(E(A)));if(0>this.l(v)&&0>A.l(v))return h(this.m()*A.m());for(var S=this.g.length+A.g.length,C=[],P=0;P<2*S;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<A.g.length;D++){var z=this.i(P)>>>16,B=this.i(P)&65535,Ee=A.i(D)>>>16,Re=A.i(D)&65535;C[2*P+2*D]+=B*Re,M(C,2*P+2*D),C[2*P+2*D+1]+=z*Re,M(C,2*P+2*D+1),C[2*P+2*D+1]+=B*Ee,M(C,2*P+2*D+1),C[2*P+2*D+2]+=z*Ee,M(C,2*P+2*D+2)}for(P=0;P<S;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=S;P<2*S;P++)C[P]=0;return new l(C,0)};function M(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function V(A,S){this.g=A,this.h=S}function j(A,S){if(k(S))throw Error("division by zero");if(k(A))return new V(g,g);if(w(A))return S=j(E(A),S),new V(E(S.g),E(S.h));if(w(S))return S=j(A,E(S)),new V(E(S.g),S.h);if(30<A.g.length){if(w(A)||w(S))throw Error("slowDivide_ only works with positive integers.");for(var C=y,P=S;0>=P.l(A);)C=X(C),P=X(P);var D=U(C,1),z=U(P,1);for(P=U(P,2),C=U(C,2);!k(P);){var B=z.add(P);0>=B.l(A)&&(D=D.add(C),z=B),P=U(P,1),C=U(C,1)}return S=O(A,D.j(S)),new V(D,S)}for(D=g;0<=A.l(S);){for(C=Math.max(1,Math.floor(A.m()/S.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),z=h(C),B=z.j(S);w(B)||0<B.l(A);)C-=P,z=h(C),B=z.j(S);k(z)&&(z=y),D=D.add(z),A=O(A,B)}return new V(D,A)}t.A=function(A){return j(this,A).h},t.and=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],P=0;P<S;P++)C[P]=this.i(P)&A.i(P);return new l(C,this.h&A.h)},t.or=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],P=0;P<S;P++)C[P]=this.i(P)|A.i(P);return new l(C,this.h|A.h)},t.xor=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],P=0;P<S;P++)C[P]=this.i(P)^A.i(P);return new l(C,this.h^A.h)};function X(A){for(var S=A.g.length+1,C=[],P=0;P<S;P++)C[P]=A.i(P)<<1|A.i(P-1)>>>31;return new l(C,A.h)}function U(A,S){var C=S>>5;S%=32;for(var P=A.g.length-C,D=[],z=0;z<P;z++)D[z]=0<S?A.i(z+C)>>>S|A.i(z+C+1)<<32-S:A.i(z+C);return new l(D,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,zk=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Io=l}).apply(typeof d_<"u"?d_:typeof self<"u"?self:typeof window<"u"?window:{});var lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hk,_d,Wk,If,ly,qk,Gk,Kk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,_,I){return m==Array.prototype||m==Object.prototype||(m[_]=I.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof lf=="object"&&lf];for(var _=0;_<m.length;++_){var I=m[_];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var n=r(this);function i(m,_){if(_)e:{var I=n;m=m.split(".");for(var W=0;W<m.length-1;W++){var de=m[W];if(!(de in I))break e;I=I[de]}m=m[m.length-1],W=I[m],_=_(W),_!=W&&_!=null&&e(I,m,{configurable:!0,writable:!0,value:_})}}function s(m,_){m instanceof String&&(m+="");var I=0,W=!1,de={next:function(){if(!W&&I<m.length){var we=I++;return{value:_(we,m[we]),done:!1}}return W=!0,{done:!0,value:void 0}}};return de[Symbol.iterator]=function(){return de},de}i("Array.prototype.values",function(m){return m||function(){return s(this,function(_,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(m){var _=typeof m;return _=_!="object"?_:m?Array.isArray(m)?"array":_:"null",_=="array"||_=="object"&&typeof m.length=="number"}function h(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function p(m,_,I){return m.call.apply(m.bind,arguments)}function g(m,_,I){if(!m)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var de=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(de,W),m.apply(_,de)}}return function(){return m.apply(_,arguments)}}function y(m,_,I){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function v(m,_){var I=Array.prototype.slice.call(arguments,1);return function(){var W=I.slice();return W.push.apply(W,arguments),m.apply(this,W)}}function k(m,_){function I(){}I.prototype=_.prototype,m.aa=_.prototype,m.prototype=new I,m.prototype.constructor=m,m.Qb=function(W,de,we){for(var Ze=Array(arguments.length-2),cr=2;cr<arguments.length;cr++)Ze[cr-2]=arguments[cr];return _.prototype[de].apply(W,Ze)}}function w(m){const _=m.length;if(0<_){const I=Array(_);for(let W=0;W<_;W++)I[W]=m[W];return I}return[]}function E(m,_){for(let I=1;I<arguments.length;I++){const W=arguments[I];if(d(W)){const de=m.length||0,we=W.length||0;m.length=de+we;for(let Ze=0;Ze<we;Ze++)m[de+Ze]=W[Ze]}else m.push(W)}}class O{constructor(_,I){this.i=_,this.j=I,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(m){return/^[\s\xa0]*$/.test(m)}function V(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function j(m){return j[" "](m),m}j[" "]=function(){};var X=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function U(m,_,I){for(const W in m)_.call(I,m[W],W,m)}function A(m,_){for(const I in m)_.call(void 0,m[I],I,m)}function S(m){const _={};for(const I in m)_[I]=m[I];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(m,_){let I,W;for(let de=1;de<arguments.length;de++){W=arguments[de];for(I in W)m[I]=W[I];for(let we=0;we<C.length;we++)I=C[we],Object.prototype.hasOwnProperty.call(W,I)&&(m[I]=W[I])}}function D(m){var _=1;m=m.split(":");const I=[];for(;0<_&&m.length;)I.push(m.shift()),_--;return m.length&&I.push(m.join(":")),I}function z(m){u.setTimeout(()=>{throw m},0)}function B(){var m=ie;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class Ee{constructor(){this.h=this.g=null}add(_,I){const W=Re.get();W.set(_,I),this.h?this.h.next=W:this.g=W,this.h=W}}var Re=new O(()=>new Be,m=>m.reset());class Be{constructor(){this.next=this.g=this.h=null}set(_,I){this.h=_,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,ve=!1,ie=new Ee,me=()=>{const m=u.Promise.resolve(void 0);Fe=()=>{m.then(re)}};var re=()=>{for(var m;m=B();){try{m.h.call(m.g)}catch(I){z(I)}var _=Re;_.j(m),100>_.h&&(_.h++,m.next=_.g,_.g=m)}ve=!1};function R(){this.s=this.s,this.C=this.C}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var Q=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const I=()=>{};u.addEventListener("test",I,_),u.removeEventListener("test",I,_)}catch{}return m})();function ee(m,_){if(K.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var I=this.type=m.type,W=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget){if(X){e:{try{j(_.nodeName);var de=!0;break e}catch{}de=!1}de||(_=null)}}else I=="mouseover"?_=m.fromElement:I=="mouseout"&&(_=m.toElement);this.relatedTarget=_,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:se[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ee.aa.h.call(this)}}k(ee,K);var se={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),De=0;function Se(m,_,I,W,de){this.listener=m,this.proxy=null,this.src=_,this.type=I,this.capture=!!W,this.ha=de,this.key=++De,this.da=this.fa=!1}function ue(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function nt(m){this.src=m,this.g={},this.h=0}nt.prototype.add=function(m,_,I,W,de){var we=m.toString();m=this.g[we],m||(m=this.g[we]=[],this.h++);var Ze=yt(m,_,W,de);return-1<Ze?(_=m[Ze],I||(_.fa=!1)):(_=new Se(_,this.src,we,!!W,de),_.fa=I,m.push(_)),_};function ht(m,_){var I=_.type;if(I in m.g){var W=m.g[I],de=Array.prototype.indexOf.call(W,_,void 0),we;(we=0<=de)&&Array.prototype.splice.call(W,de,1),we&&(ue(_),m.g[I].length==0&&(delete m.g[I],m.h--))}}function yt(m,_,I,W){for(var de=0;de<m.length;++de){var we=m[de];if(!we.da&&we.listener==_&&we.capture==!!I&&we.ha==W)return de}return-1}var wt="closure_lm_"+(1e6*Math.random()|0),pr={};function Nt(m,_,I,W,de){if(Array.isArray(_)){for(var we=0;we<_.length;we++)Nt(m,_[we],I,W,de);return null}return I=mt(I),m&&m[Ce]?m.K(_,I,h(W)?!!W.capture:!1,de):Ge(m,_,I,!1,W,de)}function Ge(m,_,I,W,de,we){if(!_)throw Error("Invalid event type");var Ze=h(de)?!!de.capture:!!de,cr=Xe(m);if(cr||(m[wt]=cr=new nt(m)),I=cr.add(_,I,W,Ze,we),I.proxy)return I;if(W=Xt(),I.proxy=W,W.src=m,W.listener=I,m.addEventListener)Q||(de=Ze),de===void 0&&(de=!1),m.addEventListener(_.toString(),W,de);else if(m.attachEvent)m.attachEvent(le(_.toString()),W);else if(m.addListener&&m.removeListener)m.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Xt(){function m(I){return _.call(m.src,m.listener,I)}const _=et;return m}function Ct(m,_,I,W,de){if(Array.isArray(_))for(var we=0;we<_.length;we++)Ct(m,_[we],I,W,de);else W=h(W)?!!W.capture:!!W,I=mt(I),m&&m[Ce]?(m=m.i,_=String(_).toString(),_ in m.g&&(we=m.g[_],I=yt(we,I,W,de),-1<I&&(ue(we[I]),Array.prototype.splice.call(we,I,1),we.length==0&&(delete m.g[_],m.h--)))):m&&(m=Xe(m))&&(_=m.g[_.toString()],m=-1,_&&(m=yt(_,I,W,de)),(I=-1<m?_[m]:null)&&er(I))}function er(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[Ce])ht(_.i,m);else{var I=m.type,W=m.proxy;_.removeEventListener?_.removeEventListener(I,W,m.capture):_.detachEvent?_.detachEvent(le(I),W):_.addListener&&_.removeListener&&_.removeListener(W),(I=Xe(_))?(ht(I,m),I.h==0&&(I.src=null,_[wt]=null)):ue(m)}}}function le(m){return m in pr?pr[m]:pr[m]="on"+m}function et(m,_){if(m.da)m=!0;else{_=new ee(_,this);var I=m.listener,W=m.ha||m.src;m.fa&&er(m),m=I.call(W,_)}return m}function Xe(m){return m=m[wt],m instanceof nt?m:null}var lt="__closure_events_fn_"+(1e9*Math.random()>>>0);function mt(m){return typeof m=="function"?m:(m[lt]||(m[lt]=function(_){return m.handleEvent(_)}),m[lt])}function ct(){R.call(this),this.i=new nt(this),this.M=this,this.F=null}k(ct,R),ct.prototype[Ce]=!0,ct.prototype.removeEventListener=function(m,_,I,W){Ct(this,m,_,I,W)};function Te(m,_){var I,W=m.F;if(W)for(I=[];W;W=W.F)I.push(W);if(m=m.M,W=_.type||_,typeof _=="string")_=new K(_,m);else if(_ instanceof K)_.target=_.target||m;else{var de=_;_=new K(W,m),P(_,de)}if(de=!0,I)for(var we=I.length-1;0<=we;we--){var Ze=_.g=I[we];de=Ie(Ze,W,!0,_)&&de}if(Ze=_.g=m,de=Ie(Ze,W,!0,_)&&de,de=Ie(Ze,W,!1,_)&&de,I)for(we=0;we<I.length;we++)Ze=_.g=I[we],de=Ie(Ze,W,!1,_)&&de}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var m=this.i,_;for(_ in m.g){for(var I=m.g[_],W=0;W<I.length;W++)ue(I[W]);delete m.g[_],m.h--}}this.F=null},ct.prototype.K=function(m,_,I,W){return this.i.add(String(m),_,!1,I,W)},ct.prototype.L=function(m,_,I,W){return this.i.add(String(m),_,!0,I,W)};function Ie(m,_,I,W){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();for(var de=!0,we=0;we<_.length;++we){var Ze=_[we];if(Ze&&!Ze.da&&Ze.capture==I){var cr=Ze.listener,cn=Ze.ha||Ze.src;Ze.fa&&ht(m.i,Ze),de=cr.call(cn,W)!==!1&&de}}return de&&!W.defaultPrevented}function ut(m,_,I){if(typeof m=="function")I&&(m=y(m,I));else if(m&&typeof m.handleEvent=="function")m=y(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(m,_||0)}function Ae(m){m.g=ut(()=>{m.g=null,m.i&&(m.i=!1,Ae(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class ze extends R{constructor(_,I){super(),this.m=_,this.l=I,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ae(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gt(m){R.call(this),this.h=m,this.g={}}k(gt,R);var St=[];function Mt(m){U(m.g,function(_,I){this.g.hasOwnProperty(I)&&er(_)},m),m.g={}}gt.prototype.N=function(){gt.aa.N.call(this),Mt(this)},gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vt=u.JSON.stringify,Vr=u.JSON.parse,ar=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function xr(){}xr.prototype.h=null;function Br(m){return m.h||(m.h=m.i())}function Rt(){}var Wt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ft(){K.call(this,"d")}k(Ft,K);function Pr(){K.call(this,"c")}k(Pr,K);var Kr={},li=null;function En(){return li=li||new ct}Kr.La="serverreachability";function ki(m){K.call(this,Kr.La,m)}k(ki,K);function Jn(m){const _=En();Te(_,new ki(_))}Kr.STAT_EVENT="statevent";function _e(m,_){K.call(this,Kr.STAT_EVENT,m),this.stat=_}k(_e,K);function Ne(m){const _=En();Te(_,new _e(_,m))}Kr.Ma="timingevent";function xt(m,_){K.call(this,Kr.Ma,m),this.size=_}k(xt,K);function it(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},_)}function Ut(){this.g=!0}Ut.prototype.xa=function(){this.g=!1};function yr(m,_,I,W,de,we){m.info(function(){if(m.g)if(we)for(var Ze="",cr=we.split("&"),cn=0;cn<cr.length;cn++){var Qt=cr[cn].split("=");if(1<Qt.length){var pn=Qt[0];Qt=Qt[1];var tn=pn.split("_");Ze=2<=tn.length&&tn[1]=="type"?Ze+(pn+"="+Qt+"&"):Ze+(pn+"=redacted&")}}else Ze=null;else Ze=we;return"XMLHTTP REQ ("+W+") [attempt "+de+"]: "+_+`
`+I+`
`+Ze})}function Xr(m,_,I,W,de,we,Ze){m.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+de+"]: "+_+`
`+I+`
`+we+" "+Ze})}function F(m,_,I,W){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+H(m,I)+(W?" "+W:"")})}function Y(m,_){m.info(function(){return"TIMEOUT: "+_})}Ut.prototype.info=function(){};function H(m,_){if(!m.g)return _;if(!_)return null;try{var I=JSON.parse(_);if(I){for(m=0;m<I.length;m++)if(Array.isArray(I[m])){var W=I[m];if(!(2>W.length)){var de=W[1];if(Array.isArray(de)&&!(1>de.length)){var we=de[0];if(we!="noop"&&we!="stop"&&we!="close")for(var Ze=1;Ze<de.length;Ze++)de[Ze]=""}}}}return vt(I)}catch{return _}}var G={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},J={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Z;function ce(){}k(ce,xr),ce.prototype.g=function(){return new XMLHttpRequest},ce.prototype.i=function(){return{}},Z=new ce;function be(m,_,I,W){this.j=m,this.i=_,this.l=I,this.R=W||1,this.U=new gt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var pe={},xe={};function Me(m,_,I){m.L=1,m.v=Qa(Si(_)),m.m=I,m.P=!0,Ye(m,null)}function Ye(m,_){m.F=Date.now(),Ve(m),m.A=Si(m.v);var I=m.A,W=m.R;Array.isArray(W)||(W=[String(W)]),Za(I.i,"t",W),m.C=0,I=m.j.J,m.h=new fe,m.g=ch(m.j,I?_:null,!m.m),0<m.O&&(m.M=new ze(y(m.Y,m,m.g),m.O)),_=m.U,I=m.g,W=m.ca;var de="readystatechange";Array.isArray(de)||(de&&(St[0]=de.toString()),de=St);for(var we=0;we<de.length;we++){var Ze=Nt(I,de[we],W||_.handleEvent,!1,_.h||_);if(!Ze)break;_.g[Ze.key]=Ze}_=m.H?S(m.H):{},m.m?(m.u||(m.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,_)):(m.u="GET",m.g.ea(m.A,m.u,null,_)),Jn(),yr(m.i,m.u,m.A,m.l,m.R,m.m)}be.prototype.ca=function(m){m=m.target;const _=this.M;_&&ui(m)==3?_.j():this.Y(m)},be.prototype.Y=function(m){try{if(m==this.g)e:{const tn=ui(this.g);var _=this.g.Ba();const qi=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||Uu(this.g)))){this.J||tn!=4||_==7||(_==8||0>=qi?Jn(3):Jn(2)),tr(this);var I=this.g.Z();this.X=I;t:if(tt(this)){var W=Uu(this.g);m="";var de=W.length,we=ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lr(this),Yt(this);var Ze="";break t}this.h.i=new u.TextDecoder}for(_=0;_<de;_++)this.h.h=!0,m+=this.h.i.decode(W[_],{stream:!(we&&_==de-1)});W.length=0,this.h.g+=m,this.C=0,Ze=this.h.g}else Ze=this.g.oa();if(this.o=I==200,Xr(this.i,this.u,this.A,this.l,this.R,tn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var cr,cn=this.g;if((cr=cn.g?cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(cr)){var Qt=cr;break t}}Qt=null}if(I=Qt)F(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cs(this,I);else{this.o=!1,this.s=3,Ne(12),lr(this),Yt(this);break e}}if(this.P){I=!0;let Ci;for(;!this.J&&this.C<Ze.length;)if(Ci=We(this,Ze),Ci==xe){tn==4&&(this.s=4,Ne(14),I=!1),F(this.i,this.l,null,"[Incomplete Response]");break}else if(Ci==pe){this.s=4,Ne(15),F(this.i,this.l,Ze,"[Invalid Chunk]"),I=!1;break}else F(this.i,this.l,Ci,null),cs(this,Ci);if(tt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||Ze.length!=0||this.h.h||(this.s=1,Ne(16),I=!1),this.o=this.o&&I,!I)F(this.i,this.l,Ze,"[Invalid Chunked Response]"),lr(this),Yt(this);else if(0<Ze.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+Ze.length),Hu(pn),pn.M=!0,Ne(11))}}else F(this.i,this.l,Ze,null),cs(this,Ze);tn==4&&lr(this),this.o&&!this.J&&(tn==4?pc(this.j,this):(this.o=!1,Ve(this)))}else cc(this.g),I==400&&0<Ze.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),lr(this),Yt(this)}}}catch{}finally{}};function tt(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function We(m,_){var I=m.C,W=_.indexOf(`
`,I);return W==-1?xe:(I=Number(_.substring(I,W)),isNaN(I)?pe:(W+=1,W+I>_.length?xe:(_=_.slice(W,W+I),m.C=W+I,_)))}be.prototype.cancel=function(){this.J=!0,lr(this)};function Ve(m){m.S=Date.now()+m.I,At(m,m.I)}function At(m,_){if(m.B!=null)throw Error("WatchDog timer not null");m.B=it(y(m.ba,m),_)}function tr(m){m.B&&(u.clearTimeout(m.B),m.B=null)}be.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Y(this.i,this.A),this.L!=2&&(Jn(),Ne(17)),lr(this),this.s=2,Yt(this)):At(this,this.S-m)};function Yt(m){m.j.G==0||m.J||pc(m.j,m)}function lr(m){tr(m);var _=m.M;_&&typeof _.ma=="function"&&_.ma(),m.M=null,Mt(m.U),m.g&&(_=m.g,m.g=null,_.abort(),_.ma())}function cs(m,_){try{var I=m.j;if(I.G!=0&&(I.g==m||kr(I.h,m))){if(!m.K&&kr(I.h,m)&&I.G==3){try{var W=I.Da.g.parse(_)}catch{W=null}if(Array.isArray(W)&&W.length==3){var de=W;if(de[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<m.F)fc(I),ps(I);else break e;hc(I),Ne(18)}}else I.za=de[1],0<I.za-I.T&&37500>de[2]&&I.F&&I.v==0&&!I.C&&(I.C=it(y(I.Za,I),6e3));if(1>=Ga(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else ma(I,11)}else if((m.K||I.g==m)&&fc(I),!M(_))for(de=I.Da.g.parse(_),_=0;_<de.length;_++){let Qt=de[_];if(I.T=Qt[0],Qt=Qt[1],I.G==2)if(Qt[0]=="c"){I.K=Qt[1],I.ia=Qt[2];const pn=Qt[3];pn!=null&&(I.la=pn,I.j.info("VER="+I.la));const tn=Qt[4];tn!=null&&(I.Aa=tn,I.j.info("SVER="+I.Aa));const qi=Qt[5];qi!=null&&typeof qi=="number"&&0<qi&&(W=1.5*qi,I.L=W,I.j.info("backChannelRequestTimeoutMs_="+W)),W=I;const Ci=m.g;if(Ci){const il=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(il){var we=W.h;we.g||il.indexOf("spdy")==-1&&il.indexOf("quic")==-1&&il.indexOf("h2")==-1||(we.j=we.l,we.g=new Set,we.h&&(Mu(we,we.h),we.h=null))}if(W.D){const gc=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;gc&&(W.ya=gc,vr(W.I,W.D,gc))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-m.F,I.j.info("Handshake RTT: "+I.R+"ms")),W=I;var Ze=m;if(W.qa=lh(W,W.J?W.ia:null,W.W),Ze.K){Y0(W.h,Ze);var cr=Ze,cn=W.L;cn&&(cr.I=cn),cr.B&&(tr(cr),Ve(cr)),W.g=Ze}else nl(W);0<I.i.length&&Bs(I)}else Qt[0]!="stop"&&Qt[0]!="close"||ma(I,7);else I.G==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?ma(I,7):kn(I):Qt[0]!="noop"&&I.l&&I.l.ta(Qt),I.v=0)}}Jn(4)}catch{}}var Ls=class{constructor(m,_){this.g=m,this.map=_}};function Ni(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Ga(m){return m.h?1:m.g?m.g.size:0}function kr(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function Mu(m,_){m.g?m.g.add(_):m.h=_}function Y0(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}Ni.prototype.cancel=function(){if(this.i=Q0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Q0(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const I of m.g.values())_=_.concat(I.D);return _}return w(m.i)}function ic(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(d(m)){for(var _=[],I=m.length,W=0;W<I;W++)_.push(m[W]);return _}_=[],I=0;for(W in m)_[I++]=m[W];return _}function sc(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(d(m)||typeof m=="string"){var _=[];m=m.length;for(var I=0;I<m;I++)_.push(I);return _}_=[],I=0;for(const W in m)_[I++]=W;return _}}}function Ka(m,_){if(m.forEach&&typeof m.forEach=="function")m.forEach(_,void 0);else if(d(m)||typeof m=="string")Array.prototype.forEach.call(m,_,void 0);else for(var I=sc(m),W=ic(m),de=W.length,we=0;we<de;we++)_.call(void 0,W[we],I&&I[we],m)}var Zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $m(m,_){if(m){m=m.split("&");for(var I=0;I<m.length;I++){var W=m[I].indexOf("="),de=null;if(0<=W){var we=m[I].substring(0,W);de=m[I].substring(W+1)}else we=m[I];_(we,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function da(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof da){this.h=m.h,el(this,m.j),this.o=m.o,this.g=m.g,Xa(this,m.s),this.l=m.l;var _=m.i,I=new Ms;I.i=_.i,_.g&&(I.g=new Map(_.g),I.h=_.h),Ya(this,I),this.m=m.m}else m&&(_=String(m).match(Zo))?(this.h=!1,el(this,_[1]||"",!0),this.o=Kt(_[2]||""),this.g=Kt(_[3]||"",!0),Xa(this,_[4]),this.l=Kt(_[5]||"",!0),Ya(this,_[6]||"",!0),this.m=Kt(_[7]||"")):(this.h=!1,this.i=new Ms(null,this.h))}da.prototype.toString=function(){var m=[],_=this.j;_&&m.push(Ja(_,ac,!0),":");var I=this.g;return(I||_=="file")&&(m.push("//"),(_=this.o)&&m.push(Ja(_,ac,!0),"@"),m.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&m.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&m.push("/"),m.push(Ja(I,I.charAt(0)=="/"?eh:Z0,!0))),(I=this.i.toString())&&m.push("?",I),(I=this.m)&&m.push("#",Ja(I,$u)),m.join("")};function Si(m){return new da(m)}function el(m,_,I){m.j=I?Kt(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function Xa(m,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);m.s=_}else m.s=null}function Ya(m,_,I){_ instanceof Ms?(m.i=_,$s(m.i,m.h)):(I||(_=Ja(_,th)),m.i=new Ms(_,m.h))}function vr(m,_,I){m.i.set(_,I)}function Qa(m){return vr(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Kt(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ja(m,_,I){return typeof m=="string"?(m=encodeURI(m).replace(_,J0),I&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function J0(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var ac=/[#\/\?@]/g,Z0=/[#\?:]/g,eh=/[#\?]/g,th=/[#\?@]/g,$u=/#/g;function Ms(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function Tn(m){m.g||(m.g=new Map,m.h=0,m.i&&$m(m.i,function(_,I){m.add(decodeURIComponent(_.replace(/\+/g," ")),I)}))}t=Ms.prototype,t.add=function(m,_){Tn(this),this.i=null,m=Wi(this,m);var I=this.g.get(m);return I||this.g.set(m,I=[]),I.push(_),this.h+=1,this};function us(m,_){Tn(m),_=Wi(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function ds(m,_){return Tn(m),_=Wi(m,_),m.g.has(_)}t.forEach=function(m,_){Tn(this),this.g.forEach(function(I,W){I.forEach(function(de){m.call(_,de,W,this)},this)},this)},t.na=function(){Tn(this);const m=Array.from(this.g.values()),_=Array.from(this.g.keys()),I=[];for(let W=0;W<_.length;W++){const de=m[W];for(let we=0;we<de.length;we++)I.push(_[W])}return I},t.V=function(m){Tn(this);let _=[];if(typeof m=="string")ds(this,m)&&(_=_.concat(this.g.get(Wi(this,m))));else{m=Array.from(this.g.values());for(let I=0;I<m.length;I++)_=_.concat(m[I])}return _},t.set=function(m,_){return Tn(this),this.i=null,m=Wi(this,m),ds(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},t.get=function(m,_){return m?(m=this.V(m),0<m.length?String(m[0]):_):_};function Za(m,_,I){us(m,_),0<I.length&&(m.i=null,m.g.set(Wi(m,_),w(I)),m.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(var I=0;I<_.length;I++){var W=_[I];const we=encodeURIComponent(String(W)),Ze=this.V(W);for(W=0;W<Ze.length;W++){var de=we;Ze[W]!==""&&(de+="="+encodeURIComponent(String(Ze[W]))),m.push(de)}}return this.i=m.join("&")};function Wi(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function $s(m,_){_&&!m.j&&(Tn(m),m.i=null,m.g.forEach(function(I,W){var de=W.toLowerCase();W!=de&&(us(this,W),Za(this,de,I))},m)),m.j=_}function Vm(m,_){const I=new Ut;if(u.Image){const W=new Image;W.onload=v(ci,I,"TestLoadImage: loaded",!0,_,W),W.onerror=v(ci,I,"TestLoadImage: error",!1,_,W),W.onabort=v(ci,I,"TestLoadImage: abort",!1,_,W),W.ontimeout=v(ci,I,"TestLoadImage: timeout",!1,_,W),u.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=m}else _(!1)}function rh(m,_){const I=new Ut,W=new AbortController,de=setTimeout(()=>{W.abort(),ci(I,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:W.signal}).then(we=>{clearTimeout(de),we.ok?ci(I,"TestPingServer: ok",!0,_):ci(I,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(de),ci(I,"TestPingServer: error",!1,_)})}function ci(m,_,I,W,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),W(I)}catch{}}function Bm(){this.g=new ar}function nh(m,_,I){const W=I||"";try{Ka(m,function(de,we){let Ze=de;h(de)&&(Ze=vt(de)),_.push(W+we+"="+encodeURIComponent(Ze))})}catch(de){throw _.push(W+"type="+encodeURIComponent("_badmap")),de}}function ha(m){this.l=m.Ub||null,this.j=m.eb||!1}k(ha,xr),ha.prototype.g=function(){return new tl(this.l,this.j)},ha.prototype.i=(function(m){return function(){return m}})({});function tl(m,_){ct.call(this),this.D=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(tl,ct),t=tl.prototype,t.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=_,this.readyState=1,fs(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(_.body=m),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,fs(this)),this.g&&(this.readyState=3,fs(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ih(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function ih(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?hs(this):fs(this),this.readyState==3&&ih(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,hs(this))},t.Qa=function(m){this.g&&(this.response=m,hs(this))},t.ga=function(){this.g&&hs(this)};function hs(m){m.readyState=4,m.l=null,m.j=null,m.v=null,fs(m)}t.setRequestHeader=function(m,_){this.u.append(m,_)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var I=_.next();!I.done;)I=I.value,m.push(I[0]+": "+I[1]),I=_.next();return m.join(`\r
`)};function fs(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(tl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function fa(m){let _="";return U(m,function(I,W){_+=W,_+=":",_+=I,_+=`\r
`}),_}function eo(m,_,I){e:{for(W in I){var W=!1;break e}W=!0}W||(I=fa(I),typeof m=="string"?I!=null&&encodeURIComponent(String(I)):vr(m,_,I))}function Cr(m){ct.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Cr,ct);var Um=/^https?$/i,Vu=["POST","PUT"];t=Cr.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,_,I,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Z.g(),this.v=this.o?Br(this.o):Br(Z),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(we){rl(this,we);return}if(m=I||"",I=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var de in W)I.set(de,W[de]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const we of W.keys())I.set(we,W.get(we));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(I.keys()).find(we=>we.toLowerCase()=="content-type"),de=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Vu,_,void 0))||W||de||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[we,Ze]of I)this.g.setRequestHeader(we,Ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lc(this),this.u=!0,this.g.send(m),this.u=!1}catch(we){rl(this,we)}};function rl(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.m=5,oc(m),Ai(m)}function oc(m){m.A||(m.A=!0,Te(m,"complete"),Te(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Te(this,"complete"),Te(this,"abort"),Ai(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ai(this,!0)),Cr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bu(this):this.bb())},t.bb=function(){Bu(this)};function Bu(m){if(m.h&&typeof l<"u"&&(!m.v[1]||ui(m)!=4||m.Z()!=2)){if(m.u&&ui(m)==4)ut(m.Ea,0,m);else if(Te(m,"readystatechange"),ui(m)==4){m.h=!1;try{const Ze=m.Z();e:switch(Ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var I;if(!(I=_)){var W;if(W=Ze===0){var de=String(m.D).match(Zo)[1]||null;!de&&u.self&&u.self.location&&(de=u.self.location.protocol.slice(0,-1)),W=!Um.test(de?de.toLowerCase():"")}I=W}if(I)Te(m,"complete"),Te(m,"success");else{m.m=6;try{var we=2<ui(m)?m.g.statusText:""}catch{we=""}m.l=we+" ["+m.Z()+"]",oc(m)}}finally{Ai(m)}}}}function Ai(m,_){if(m.g){lc(m);const I=m.g,W=m.v[0]?()=>{}:null;m.g=null,m.v=null,_||Te(m,"ready");try{I.onreadystatechange=W}catch{}}}function lc(m){m.I&&(u.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function ui(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<ui(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),Vr(_)}};function Uu(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function cc(m){const _={};m=(m.g&&2<=ui(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<m.length;W++){if(M(m[W]))continue;var I=D(m[W]);const de=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const we=_[de]||[];_[de]=we,we.push(I)}A(_,function(W){return W.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vs(m,_,I){return I&&I.internalChannelParams&&I.internalChannelParams[m]||_}function zu(m){this.Aa=0,this.i=[],this.j=new Ut,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vs("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vs("baseRetryDelayMs",5e3,m),this.cb=Vs("retryDelaySeedMs",1e4,m),this.Wa=Vs("forwardChannelMaxRetries",2,m),this.wa=Vs("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Ni(m&&m.concurrentRequestLimit),this.Da=new Bm,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zu.prototype,t.la=8,t.G=1,t.connect=function(m,_,I,W){Ne(0),this.W=m,this.H=_||{},I&&W!==void 0&&(this.H.OSID=I,this.H.OAID=W),this.F=this.X,this.I=lh(this,null,this.W),Bs(this)};function kn(m){if(uc(m),m.G==3){var _=m.U++,I=Si(m.I);if(vr(I,"SID",m.K),vr(I,"RID",_),vr(I,"TYPE","terminate"),pa(m,I),_=new be(m,m.j,_),_.L=2,_.v=Qa(Si(I)),I=!1,u.navigator&&u.navigator.sendBeacon)try{I=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!I&&u.Image&&(new Image().src=_.v,I=!0),I||(_.g=ch(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ve(_)}oh(m)}function ps(m){m.g&&(Hu(m),m.g.cancel(),m.g=null)}function uc(m){ps(m),m.u&&(u.clearTimeout(m.u),m.u=null),fc(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function Bs(m){if(!Yr(m.h)&&!m.s){m.s=!0;var _=m.Ga;Fe||me(),ve||(Fe(),ve=!0),ie.add(_,m),m.B=0}}function zm(m,_){return Ga(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=_.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=it(y(m.Ga,m,_),ah(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const de=new be(this,this.j,m);let we=this.o;if(this.S&&(we?(we=S(we),P(we,this.S)):we=this.S),this.m!==null||this.O||(de.H=we,we=null),this.P)e:{for(var _=0,I=0;I<this.i.length;I++){t:{var W=this.i[I];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(_+=W,4096<_){_=I;break e}if(_===4096||I===this.i.length-1){_=I+1;break e}}_=1e3}else _=1e3;_=to(this,de,_),I=Si(this.I),vr(I,"RID",m),vr(I,"CVER",22),this.D&&vr(I,"X-HTTP-Session-Id",this.D),pa(this,I),we&&(this.O?_="headers="+encodeURIComponent(String(fa(we)))+"&"+_:this.m&&eo(I,this.m,we)),Mu(this.h,de),this.Ua&&vr(I,"TYPE","init"),this.P?(vr(I,"$req",_),vr(I,"SID","null"),de.T=!0,Me(de,I,null)):Me(de,I,_),this.G=2}}else this.G==3&&(m?dc(this,m):this.i.length==0||Yr(this.h)||dc(this))};function dc(m,_){var I;_?I=_.l:I=m.U++;const W=Si(m.I);vr(W,"SID",m.K),vr(W,"RID",I),vr(W,"AID",m.T),pa(m,W),m.m&&m.o&&eo(W,m.m,m.o),I=new be(m,m.j,I,m.B+1),m.m===null&&(I.H=m.o),_&&(m.i=_.D.concat(m.i)),_=to(m,I,1e3),I.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Mu(m.h,I),Me(I,W,_)}function pa(m,_){m.H&&U(m.H,function(I,W){vr(_,W,I)}),m.l&&Ka({},function(I,W){vr(_,W,I)})}function to(m,_,I){I=Math.min(m.i.length,I);var W=m.l?y(m.l.Na,m.l,m):null;e:{var de=m.i;let we=-1;for(;;){const Ze=["count="+I];we==-1?0<I?(we=de[0].g,Ze.push("ofs="+we)):we=0:Ze.push("ofs="+we);let cr=!0;for(let cn=0;cn<I;cn++){let Qt=de[cn].g;const pn=de[cn].map;if(Qt-=we,0>Qt)we=Math.max(0,de[cn].g-100),cr=!1;else try{nh(pn,Ze,"req"+Qt+"_")}catch{W&&W(pn)}}if(cr){W=Ze.join("&");break e}}}return m=m.i.splice(0,I),_.D=m,W}function nl(m){if(!m.g&&!m.u){m.Y=1;var _=m.Fa;Fe||me(),ve||(Fe(),ve=!0),ie.add(_,m),m.v=0}}function hc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=it(y(m.Fa,m),ah(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,sh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=it(y(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),ps(this),sh(this))};function Hu(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function sh(m){m.g=new be(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var _=Si(m.qa);vr(_,"RID","rpc"),vr(_,"SID",m.K),vr(_,"AID",m.T),vr(_,"CI",m.F?"0":"1"),!m.F&&m.ja&&vr(_,"TO",m.ja),vr(_,"TYPE","xmlhttp"),pa(m,_),m.m&&m.o&&eo(_,m.m,m.o),m.L&&(m.g.I=m.L);var I=m.g;m=m.ia,I.L=1,I.v=Qa(Si(_)),I.m=null,I.P=!0,Ye(I,m)}t.Za=function(){this.C!=null&&(this.C=null,ps(this),hc(this),Ne(19))};function fc(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function pc(m,_){var I=null;if(m.g==_){fc(m),Hu(m),m.g=null;var W=2}else if(kr(m.h,_))I=_.D,Y0(m.h,_),W=1;else return;if(m.G!=0){if(_.o)if(W==1){I=_.m?_.m.length:0,_=Date.now()-_.F;var de=m.B;W=En(),Te(W,new xt(W,I)),Bs(m)}else nl(m);else if(de=_.s,de==3||de==0&&0<_.X||!(W==1&&zm(m,_)||W==2&&hc(m)))switch(I&&0<I.length&&(_=m.h,_.i=_.i.concat(I)),de){case 1:ma(m,5);break;case 4:ma(m,10);break;case 3:ma(m,6);break;default:ma(m,2)}}}function ah(m,_){let I=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(I*=2),I*_}function ma(m,_){if(m.j.info("Error code "+_),_==2){var I=y(m.fb,m),W=m.Xa;const de=!W;W=new da(W||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||el(W,"https"),Qa(W),de?Vm(W.toString(),I):rh(W.toString(),I)}else Ne(2);m.G=0,m.l&&m.l.sa(_),oh(m),uc(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function oh(m){if(m.G=0,m.ka=[],m.l){const _=Q0(m.h);(_.length!=0||m.i.length!=0)&&(E(m.ka,_),E(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function lh(m,_,I){var W=I instanceof da?Si(I):new da(I);if(W.g!="")_&&(W.g=_+"."+W.g),Xa(W,W.s);else{var de=u.location;W=de.protocol,_=_?_+"."+de.hostname:de.hostname,de=+de.port;var we=new da(null);W&&el(we,W),_&&(we.g=_),de&&Xa(we,de),I&&(we.l=I),W=we}return I=m.D,_=m.ya,I&&_&&vr(W,I,_),vr(W,"VER",m.la),pa(m,W),W}function ch(m,_,I){if(_&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Ca&&!m.pa?new Cr(new ha({eb:I})):new Cr(m.pa),_.Ha(m.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}t=Wu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mc(){}mc.prototype.g=function(m,_){return new Zn(m,_)};function Zn(m,_){ct.call(this),this.g=new zu(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(m?m["X-WebChannel-Client-Profile"]=_.va:m={"X-WebChannel-Client-Profile":_.va}),this.g.S=m,(m=_&&_.Sb)&&!M(m)&&(this.g.m=m),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.D=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new Us(this)}k(Zn,ct),Zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){kn(this.g)},Zn.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var I={};I.__data__=m,m=I}else this.u&&(I={},I.__data__=vt(m),m=I);_.i.push(new Ls(_.Ya++,m)),_.G==3&&Bs(_)},Zn.prototype.N=function(){this.g.l=null,delete this.j,kn(this.g),delete this.g,Zn.aa.N.call(this)};function uh(m){Ft.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const I in _){m=I;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}k(uh,Ft);function dh(){Pr.call(this),this.status=1}k(dh,Pr);function Us(m){this.g=m}k(Us,Wu),Us.prototype.ua=function(){Te(this.g,"a")},Us.prototype.ta=function(m){Te(this.g,new uh(m))},Us.prototype.sa=function(m){Te(this.g,new dh)},Us.prototype.ra=function(){Te(this.g,"b")},mc.prototype.createWebChannel=mc.prototype.g,Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,Kk=function(){return new mc},Gk=function(){return En()},qk=Kr,ly={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},G.NO_ERROR=0,G.TIMEOUT=8,G.HTTP_ERROR=6,If=G,J.COMPLETE="complete",Wk=J,Rt.EventType=Wt,Wt.OPEN="a",Wt.CLOSE="b",Wt.ERROR="c",Wt.MESSAGE="d",ct.prototype.listen=ct.prototype.K,_d=Rt,Cr.prototype.listenOnce=Cr.prototype.L,Cr.prototype.getLastError=Cr.prototype.Ka,Cr.prototype.getLastErrorCode=Cr.prototype.Ba,Cr.prototype.getStatus=Cr.prototype.Z,Cr.prototype.getResponseJson=Cr.prototype.Oa,Cr.prototype.getResponseText=Cr.prototype.oa,Cr.prototype.send=Cr.prototype.ea,Cr.prototype.setWithCredentials=Cr.prototype.Ha,Hk=Cr}).apply(typeof lf<"u"?lf:typeof self<"u"?self:typeof window<"u"?window:{});const h_="@firebase/firestore",f_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new Xp("@firebase/firestore");function Vc(){return Il.logLevel}function at(t,...e){if(Il.logLevel<=qt.DEBUG){const r=e.map(g1);Il.debug(`Firestore (${Tu}): ${t}`,...r)}}function La(t,...e){if(Il.logLevel<=qt.ERROR){const r=e.map(g1);Il.error(`Firestore (${Tu}): ${t}`,...r)}}function ou(t,...e){if(Il.logLevel<=qt.WARN){const r=e.map(g1);Il.warn(`Firestore (${Tu}): ${t}`,...r)}}function g1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t="Unexpected state"){const e=`FIRESTORE (${Tu}) INTERNAL ASSERTION FAILED: `+t;throw La(e),new Error(e)}function Zt(t,e){t||kt()}function Ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends os{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(qn.UNAUTHENTICATED)))}shutdown(){}}class H8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class W8{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Zt(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let s=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qs,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=s;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},u=d=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qs)}}),0),l()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Zt(typeof n.accessToken=="string"),new Xk(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Zt(e===null||typeof e=="string"),new qn(e)}}class q8{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class G8{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new q8(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable((()=>r(qn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class p_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K8{constructor(e,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Li(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,r){Zt(this.o===void 0);const n=s=>{s.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,at("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const i=s=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new p_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Zt(typeof r.token=="string"),this.R=r.token,new p_(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=X8(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%62))}return n}}function Bt(t,e){return t<e?-1:t>e?1:0}function cy(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return Bt(n,i);{const s=Yk(),l=Y8(s.encode(m_(t,r)),s.encode(m_(e,r)));return l!==0?l:Bt(n,i)}}r+=n>65535?2:1}return Bt(t.length,e.length)}function m_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Y8(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Bt(t[r],e[r]);return Bt(t.length,e.length)}function lu(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=-62135596800,x_=1e6;class gr{static now(){return gr.fromMillis(Date.now())}static fromDate(e){return gr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*x_);return new gr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new rt(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new rt(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<g_)throw new rt(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x_}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-g_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(e){return new It(e)}static min(){return new It(new gr(0,0))}static max(){return new It(new gr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="__name__";class Xs{constructor(e,r,n){r===void 0?r=0:r>e.length&&kt(),n===void 0?n=e.length-r:n>e.length-r&&kt(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Xs.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Xs?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=Xs.compareSegments(e.get(i),r.get(i));if(s!==0)return s}return Bt(e.length,r.length)}static compareSegments(e,r){const n=Xs.isNumericId(e),i=Xs.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Xs.extractNumericId(e).compare(Xs.extractNumericId(r)):cy(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Io.fromString(e.substring(4,e.length-2))}}class wr extends Xs{construct(e,r,n){return new wr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new rt(je.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new wr(r)}static emptyPath(){return new wr([])}}const Q8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends Xs{construct(e,r,n){return new Pn(e,r,n)}static isValidIdentifier(e){return Q8.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y_}static keyField(){return new Pn([y_])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new rt(je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new rt(je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new rt(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(n+=u,i++):(s(),i++)}if(s(),l)throw new rt(je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pn(r)}static emptyPath(){return new Pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.path=e}static fromPath(e){return new bt(wr.fromString(e))}static fromName(e){return new bt(wr.fromString(e).popFirst(5))}static empty(){return new bt(wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return wr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bt(new wr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=-1;function J8(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=It.fromTimestamp(n===1e9?new gr(r+1,0):new gr(r,n));return new Do(i,bt.empty(),e)}function Z8(t){return new Do(t.readTime,t.key,Xd)}class Do{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Do(It.min(),bt.empty(),Xd)}static max(){return new Do(It.max(),bt.empty(),Xd)}}function eD(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=bt.comparator(t.documentKey,e.documentKey),r!==0?r:Bt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t){if(t.code!==je.FAILED_PRECONDITION||t.message!==tD)throw t;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&kt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Pe(((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof Pe?r:Pe.resolve(r)}catch(r){return Pe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):Pe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):Pe.reject(r)}static resolve(e){return new Pe(((r,n)=>{r(e)}))}static reject(e){return new Pe(((r,n)=>{n(e)}))}static waitFor(e){return new Pe(((r,n)=>{let i=0,s=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++s,l&&s===i&&r()}),(d=>n(d)))})),l=!0,s===i&&r()}))}static or(e){let r=Pe.resolve(!1);for(const n of e)r=r.next((i=>i?Pe.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,s)=>{n.push(r.call(this,i,s))})),this.waitFor(n)}static mapArray(e,r){return new Pe(((n,i)=>{const s=e.length,l=new Array(s);let u=0;for(let d=0;d<s;d++){const h=d;r(e[h]).next((p=>{l[h]=p,++u,u===s&&n(l)}),(p=>i(p)))}}))}static doWhile(e,r){return new Pe(((n,i)=>{const s=()=>{e()===!0?r().next((()=>{s()}),i):n()};s()}))}}function nD(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Nu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.oe(n),this._e=n=>r.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Zp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=-1;function T0(t){return t==null}function Xf(t){return t===0&&1/t==-1/0}function iD(t){return typeof t=="number"&&Number.isInteger(t)&&!Xf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="";function sD(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=v_(e)),e=aD(t.get(r),e);return v_(e)}function aD(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case Jk:r+="";break;default:r+=s}}return r}function v_(t){return t+Jk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Ko(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function Zk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,r){this.comparator=e,this.root=r||jn.EMPTY}insert(e,r){return new $r(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new $r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cf(this.root,e,this.comparator,!0)}}class cf{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jn{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??jn.RED,this.left=i??jn.EMPTY,this.right=s??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new jn(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return jn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw kt();const e=this.left.check();if(e!==this.right.check())throw kt();return e+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw kt()}get value(){throw kt()}get color(){throw kt()}get left(){throw kt()}get right(){throw kt()}copy(e,r,n,i,s){return this}insert(e,r,n){return new jn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new $r(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new w_(this.data.getIterator())}getIteratorFrom(e){return new w_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new fn(this.comparator);return r.data=e,r}}class w_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.fields=e,e.sort(Pn.comparator)}static empty(){return new Mi([])}unionWith(e){let r=new fn(Pn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Mi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return lu(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new eN("Invalid base64 string: "+s):s}})(e);return new Mn(r)}static fromUint8Array(e){const r=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new Mn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const oD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(t){if(Zt(!!t),typeof t=="string"){let e=0;const r=oD.exec(t);if(Zt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Zr(t.seconds),nanos:Zr(t.nanos)}}function Zr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fo(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="server_timestamp",rN="__type__",nN="__previous_value__",iN="__local_write_time__";function y1(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[rN])===null||r===void 0?void 0:r.stringValue)===tN}function em(t){const e=t.mapValue.fields[nN];return y1(e)?em(e):e}function Yd(t){const e=Oo(t.mapValue.fields[iN].timestampValue);return new gr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,r,n,i,s,l,u,d,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h}}const Yf="(default)";class Qd{constructor(e,r){this.projectId=e,this.database=r||Yf}static empty(){return new Qd("","")}get isDefaultDatabase(){return this.database===Yf}isEqual(e){return e instanceof Qd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="__type__",cD="__max__",uf={mapValue:{}},aN="__vector__",Qf="value";function Lo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?y1(t)?4:dD(t)?9007199254740991:uD(t)?10:11:kt()}function ia(t,e){if(t===e)return!0;const r=Lo(t);if(r!==Lo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yd(t).isEqual(Yd(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Oo(i.timestampValue),u=Oo(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Fo(i.bytesValue).isEqual(Fo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Zr(i.geoPointValue.latitude)===Zr(s.geoPointValue.latitude)&&Zr(i.geoPointValue.longitude)===Zr(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Zr(i.integerValue)===Zr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Zr(i.doubleValue),u=Zr(s.doubleValue);return l===u?Xf(l)===Xf(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return lu(t.arrayValue.values||[],e.arrayValue.values||[],ia);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(b_(l)!==b_(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!ia(l[d],u[d])))return!1;return!0})(t,e);default:return kt()}}function Jd(t,e){return(t.values||[]).find((r=>ia(r,e)))!==void 0}function cu(t,e){if(t===e)return 0;const r=Lo(t),n=Lo(e);if(r!==n)return Bt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Bt(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const u=Zr(s.integerValue||s.doubleValue),d=Zr(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return __(t.timestampValue,e.timestampValue);case 4:return __(Yd(t),Yd(e));case 5:return cy(t.stringValue,e.stringValue);case 6:return(function(s,l){const u=Fo(s),d=Fo(l);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const u=s.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const p=Bt(u[h],d[h]);if(p!==0)return p}return Bt(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const u=Bt(Zr(s.latitude),Zr(l.latitude));return u!==0?u:Bt(Zr(s.longitude),Zr(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return E_(t.arrayValue,e.arrayValue);case 10:return(function(s,l){var u,d,h,p;const g=s.fields||{},y=l.fields||{},v=(u=g[Qf])===null||u===void 0?void 0:u.arrayValue,k=(d=y[Qf])===null||d===void 0?void 0:d.arrayValue,w=Bt(((h=v?.values)===null||h===void 0?void 0:h.length)||0,((p=k?.values)===null||p===void 0?void 0:p.length)||0);return w!==0?w:E_(v,k)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===uf.mapValue&&l===uf.mapValue)return 0;if(s===uf.mapValue)return 1;if(l===uf.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),h=l.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const y=cy(d[g],p[g]);if(y!==0)return y;const v=cu(u[d[g]],h[p[g]]);if(v!==0)return v}return Bt(d.length,p.length)})(t.mapValue,e.mapValue);default:throw kt()}}function __(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Bt(t,e);const r=Oo(t),n=Oo(e),i=Bt(r.seconds,n.seconds);return i!==0?i:Bt(r.nanos,n.nanos)}function E_(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=cu(r[i],n[i]);if(s)return s}return Bt(r.length,n.length)}function uu(t){return uy(t)}function uy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Oo(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Fo(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return bt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=uy(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const l of n)s?s=!1:i+=",",i+=`${l}:${uy(r.fields[l])}`;return i+"}"})(t.mapValue):kt()}function jf(t){switch(Lo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=em(t);return e?16+jf(e):16;case 5:return 2*t.stringValue.length;case 6:return Fo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,s)=>i+jf(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return Ko(n.fields,((s,l)=>{i+=s.length+jf(l)})),i})(t.mapValue);default:throw kt()}}function T_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dy(t){return!!t&&"integerValue"in t}function v1(t){return!!t&&"arrayValue"in t}function k_(t){return!!t&&"nullValue"in t}function N_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pf(t){return!!t&&"mapValue"in t}function uD(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[sN])===null||r===void 0?void 0:r.stringValue)===aN}function Id(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ko(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Id(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Id(t.arrayValue.values[r]);return e}return Object.assign({},t)}function dD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===cD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.value=e}static empty(){return new ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Pf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Id(r)}setAll(e){let r=Pn.emptyPath(),n={},i=[];e.forEach(((l,u)=>{if(!r.isImmediateParentOf(u)){const d=this.getFieldsMap(r);this.applyChanges(d,n,i),n={},i=[],r=u.popLast()}l?n[u.lastSegment()]=Id(l):i.push(u.lastSegment())}));const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());Pf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ia(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Pf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Ko(r,((i,s)=>e[i]=s));for(const i of n)delete e[i]}clone(){return new ii(Id(this.value))}}function oN(t){const e=[];return Ko(t.fields,((r,n)=>{const i=new Pn([r]);if(Pf(n)){const s=oN(n.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new Mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,r,n,i,s,l,u){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new vn(e,0,It.min(),It.min(),It.min(),ii.empty(),0)}static newFoundDocument(e,r,n,i){return new vn(e,1,r,It.min(),n,i,0)}static newNoDocument(e,r){return new vn(e,2,r,It.min(),It.min(),ii.empty(),0)}static newUnknownDocument(e,r){return new vn(e,3,r,It.min(),It.min(),ii.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,r){this.position=e,this.inclusive=r}}function S_(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?n=bt.comparator(bt.fromName(l.referenceValue),r.key):n=cu(l,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function A_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ia(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,r="asc"){this.field=e,this.dir=r}}function hD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{}class an extends lN{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new pD(e,r,n):r==="array-contains"?new xD(e,n):r==="in"?new yD(e,n):r==="not-in"?new vD(e,n):r==="array-contains-any"?new bD(e,n):new an(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new mD(e,n):new gD(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(cu(r,this.value)):r!==null&&Lo(this.value)===Lo(r)&&this.matchesComparison(cu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return kt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ps extends lN{constructor(e,r){super(),this.filters=e,this.op=r,this.ce=null}static create(e,r){return new Ps(e,r)}matches(e){return cN(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function cN(t){return t.op==="and"}function uN(t){return fD(t)&&cN(t)}function fD(t){for(const e of t.filters)if(e instanceof Ps)return!1;return!0}function hy(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+uu(t.value);if(uN(t))return t.filters.map((e=>hy(e))).join(",");{const e=t.filters.map((r=>hy(r))).join(",");return`${t.op}(${e})`}}function dN(t,e){return t instanceof an?(function(n,i){return i instanceof an&&n.op===i.op&&n.field.isEqual(i.field)&&ia(n.value,i.value)})(t,e):t instanceof Ps?(function(n,i){return i instanceof Ps&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((s,l,u)=>s&&dN(l,i.filters[u])),!0):!1})(t,e):void kt()}function hN(t){return t instanceof an?(function(r){return`${r.field.canonicalString()} ${r.op} ${uu(r.value)}`})(t):t instanceof Ps?(function(r){return r.op.toString()+" {"+r.getFilters().map(hN).join(" ,")+"}"})(t):"Filter"}class pD extends an{constructor(e,r,n){super(e,r,n),this.key=bt.fromName(n.referenceValue)}matches(e){const r=bt.comparator(e.key,this.key);return this.matchesComparison(r)}}class mD extends an{constructor(e,r){super(e,"in",r),this.keys=fN("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class gD extends an{constructor(e,r){super(e,"not-in",r),this.keys=fN("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function fN(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>bt.fromName(n.referenceValue)))}class xD extends an{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return v1(r)&&Jd(r.arrayValue,this.value)}}class yD extends an{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Jd(this.value.arrayValue,r)}}class vD extends an{constructor(e,r){super(e,"not-in",r)}matches(e){if(Jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Jd(this.value.arrayValue,r)}}class bD extends an{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!v1(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Jd(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,r=null,n=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.le=null}}function C_(t,e=null,r=[],n=[],i=null,s=null,l=null){return new wD(t,e,r,n,i,s,l)}function b1(t){const e=Ot(t);if(e.le===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>hy(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),T0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>uu(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>uu(n))).join(",")),e.le=r}return e.le}function w1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!hD(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!dN(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!A_(t.startAt,e.startAt)&&A_(t.endAt,e.endAt)}function fy(t){return bt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,r=null,n=[],i=[],s=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function _D(t,e,r,n,i,s,l,u){return new Su(t,e,r,n,i,s,l,u)}function tm(t){return new Su(t)}function I_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function pN(t){return t.collectionGroup!==null}function jd(t){const e=Ot(t);if(e.he===null){e.he=[];const r=new Set;for(const s of e.explicitOrderBy)e.he.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new fn(Pn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((s=>{r.has(s.canonicalString())||s.isKeyField()||e.he.push(new Zd(s,n))})),r.has(Pn.keyField().canonicalString())||e.he.push(new Zd(Pn.keyField(),n))}return e.he}function Js(t){const e=Ot(t);return e.Pe||(e.Pe=ED(e,jd(t))),e.Pe}function ED(t,e){if(t.limitType==="F")return C_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Zd(i.field,s)}));const r=t.endAt?new Jf(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Jf(t.startAt.position,t.startAt.inclusive):null;return C_(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function py(t,e){const r=t.filters.concat([e]);return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Zf(t,e,r){return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function rm(t,e){return w1(Js(t),Js(e))&&t.limitType===e.limitType}function mN(t){return`${b1(Js(t))}|lt:${t.limitType}`}function Bc(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>hN(i))).join(", ")}]`),T0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>uu(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>uu(i))).join(",")),`Target(${n})`})(Js(t))}; limitType=${t.limitType})`}function nm(t,e){return e.isFoundDocument()&&(function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):bt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,i){for(const s of jd(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(l,u,d){const h=S_(l,u,d);return l.inclusive?h<=0:h<0})(n.startAt,jd(n),i)||n.endAt&&!(function(l,u,d){const h=S_(l,u,d);return l.inclusive?h>=0:h>0})(n.endAt,jd(n),i))})(t,e)}function TD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gN(t){return(e,r)=>{let n=!1;for(const i of jd(t)){const s=kD(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function kD(t,e,r){const n=t.field.isKeyField()?bt.comparator(e.key,r.key):(function(s,l,u){const d=l.data.field(s),h=u.data.field(s);return d!==null&&h!==null?cu(d,h):kt()})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return kt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ko(this.inner,((r,n)=>{for(const[i,s]of n)e(i,s)}))}isEmpty(){return Zk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new $r(bt.comparator);function Ma(){return ND}const xN=new $r(bt.comparator);function Ed(...t){let e=xN;for(const r of t)e=e.insert(r.key,r);return e}function yN(t){let e=xN;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function _l(){return Pd()}function vN(){return Pd()}function Pd(){return new Hl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const SD=new $r(bt.comparator),AD=new fn(bt.comparator);function Gt(...t){let e=AD;for(const r of t)e=e.add(r);return e}const CD=new fn(Bt);function ID(){return CD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xf(e)?"-0":e}}function bN(t){return{integerValue:""+t}}function wN(t,e){return iD(e)?bN(e):_1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this._=void 0}}function jD(t,e,r){return t instanceof e0?(function(i,s){const l={fields:{[rN]:{stringValue:tN},[iN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&y1(s)&&(s=em(s)),s&&(l.fields[nN]=s),{mapValue:l}})(r,e):t instanceof t0?EN(t,e):t instanceof r0?TN(t,e):(function(i,s){const l=_N(i,s),u=j_(l)+j_(i.Ie);return dy(l)&&dy(i.Ie)?bN(u):_1(i.serializer,u)})(t,e)}function PD(t,e,r){return t instanceof t0?EN(t,e):t instanceof r0?TN(t,e):r}function _N(t,e){return t instanceof n0?(function(n){return dy(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class e0 extends im{}class t0 extends im{constructor(e){super(),this.elements=e}}function EN(t,e){const r=kN(e);for(const n of t.elements)r.some((i=>ia(i,n)))||r.push(n);return{arrayValue:{values:r}}}class r0 extends im{constructor(e){super(),this.elements=e}}function TN(t,e){let r=kN(e);for(const n of t.elements)r=r.filter((i=>!ia(i,n)));return{arrayValue:{values:r}}}class n0 extends im{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function j_(t){return Zr(t.integerValue||t.doubleValue)}function kN(t){return v1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,r){this.field=e,this.transform=r}}function RD(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof t0&&i instanceof t0||n instanceof r0&&i instanceof r0?lu(n.elements,i.elements,ia):n instanceof n0&&i instanceof n0?ia(n.Ie,i.Ie):n instanceof e0&&i instanceof e0})(t.transform,e.transform)}class DD{constructor(e,r){this.version=e,this.transformResults=r}}class Rn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sm{}function SN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new am(t.key,Rn.none()):new k0(t.key,t.data,Rn.none());{const r=t.data,n=ii.empty();let i=new fn(Pn.comparator);for(let s of e.fields)if(!i.has(s)){let l=r.field(s);l===null&&s.length>1&&(s=s.popLast(),l=r.field(s)),l===null?n.delete(s):n.set(s,l),i=i.add(s)}return new Xo(t.key,n,new Mi(i.toArray()),Rn.none())}}function OD(t,e,r){t instanceof k0?(function(i,s,l){const u=i.value.clone(),d=R_(i.fieldTransforms,s,l.transformResults);u.setAll(d),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,r):t instanceof Xo?(function(i,s,l){if(!Rf(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=R_(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(AN(i)),d.setAll(u),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,r):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,r)}function Rd(t,e,r,n){return t instanceof k0?(function(s,l,u,d){if(!Rf(s.precondition,l))return u;const h=s.value.clone(),p=D_(s.fieldTransforms,d,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,r,n):t instanceof Xo?(function(s,l,u,d){if(!Rf(s.precondition,l))return u;const h=D_(s.fieldTransforms,d,l),p=l.data;return p.setAll(AN(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,r,n):(function(s,l,u){return Rf(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,r)}function FD(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=_N(n.transform,i||null);s!=null&&(r===null&&(r=ii.empty()),r.set(n.field,s))}return r||null}function P_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&lu(n,i,((s,l)=>RD(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class k0 extends sm{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xo extends sm{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AN(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function R_(t,e,r){const n=new Map;Zt(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],l=s.transform,u=e.data.field(s.field);n.set(s.field,PD(l,u,r[i]))}return n}function D_(t,e,r){const n=new Map;for(const i of t){const s=i.transform,l=r.data.field(i.field);n.set(i.field,jD(s,l,e))}return n}class am extends sm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CN extends sm{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&OD(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Rd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Rd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=vN();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=r.has(i.key)?null:u;const d=SN(l,u);d!==null&&n.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(It.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Gt())}isEqual(e){return this.batchId===e.batchId&&lu(this.mutations,e.mutations,((r,n)=>P_(r,n)))&&lu(this.baseMutations,e.baseMutations,((r,n)=>P_(r,n)))}}class E1{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Zt(e.mutations.length===n.length);let i=(function(){return SD})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,n[l].version);return new E1(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,Jt;function IN(t){switch(t){case je.OK:return kt();case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0;default:return kt()}}function jN(t){if(t===void 0)return La("GRPC error has no .code"),je.UNKNOWN;switch(t){case sn.OK:return je.OK;case sn.CANCELLED:return je.CANCELLED;case sn.UNKNOWN:return je.UNKNOWN;case sn.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case sn.INTERNAL:return je.INTERNAL;case sn.UNAVAILABLE:return je.UNAVAILABLE;case sn.UNAUTHENTICATED:return je.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case sn.NOT_FOUND:return je.NOT_FOUND;case sn.ALREADY_EXISTS:return je.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return je.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case sn.ABORTED:return je.ABORTED;case sn.OUT_OF_RANGE:return je.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return je.UNIMPLEMENTED;case sn.DATA_LOSS:return je.DATA_LOSS;default:return kt()}}(Jt=sn||(sn={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=new Io([4294967295,4294967295],0);function O_(t){const e=Yk().encode(t),r=new zk;return r.update(e),new Uint8Array(r.digest())}function F_(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Io([r,n],0),new Io([i,s],0)]}class T1{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Td(`Invalid padding: ${r}`);if(n<0)throw new Td(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Td(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Td(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*e.length-r,this.de=Io.fromNumber(this.Ee)}Ae(e,r,n){let i=e.add(r.multiply(Io.fromNumber(n)));return i.compare(VD)===1&&(i=new Io([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const r=O_(e),[n,i]=F_(r);for(let s=0;s<this.hashCount;s++){const l=this.Ae(n,i,s);if(!this.Re(l))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new T1(s,i,r);return n.forEach((u=>l.insert(u))),l}insert(e){if(this.Ee===0)return;const r=O_(e),[n,i]=F_(r);for(let s=0;s<this.hashCount;s++){const l=this.Ae(n,i,s);this.Ve(l)}}Ve(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,N0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new om(It.min(),i,new $r(Bt),Ma(),Gt())}}class N0{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new N0(n,r,Gt(),Gt(),Gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,r,n,i){this.me=e,this.removedTargetIds=r,this.key=n,this.fe=i}}class PN{constructor(e,r){this.targetId=e,this.ge=r}}class RN{constructor(e,r,n=Mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class L_{constructor(){this.pe=0,this.ye=M_(),this.we=Mn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Gt(),r=Gt(),n=Gt();return this.ye.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:kt()}})),new N0(this.we,this.Se,e,r,n)}Me(){this.be=!1,this.ye=M_()}xe(e,r){this.be=!0,this.ye=this.ye.insert(e,r)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Zt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class BD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ma(),this.$e=df(),this.Ue=df(),this.Ke=new $r(Bt)}We(e){for(const r of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(r,e.fe):this.ze(r,e.key,e.fe);for(const r of e.removedTargetIds)this.ze(r,e.key,e.fe)}je(e){this.forEachTarget(e,(r=>{const n=this.He(r);switch(e.state){case 0:this.Je(r)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(r);break;case 3:this.Je(r)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),n.Ce(e.resumeToken));break;default:kt()}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.qe.forEach(((n,i)=>{this.Je(i)&&r(i)}))}Ze(e){const r=e.targetId,n=e.ge.count,i=this.Xe(r);if(i){const s=i.target;if(fy(s))if(n===0){const l=new bt(s.path);this.ze(r,l,vn.newNoDocument(l,It.min()))}else Zt(n===1);else{const l=this.et(r);if(l!==n){const u=this.tt(e),d=u?this.nt(u,e,l):1;if(d!==0){this.Ye(r);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,h)}}}}}tt(e){const r=e.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let l,u;try{l=Fo(n).toUint8Array()}catch(d){if(d instanceof eN)return ou("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new T1(l,i,s)}catch(d){return ou(d instanceof Td?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ee===0?null:u}nt(e,r,n){return r.ge.count===n-this.st(e,r.targetId)?0:2}st(e,r){const n=this.ke.getRemoteKeysForTarget(r);let i=0;return n.forEach((s=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.ze(r,s,null),i++)})),i}ot(e){const r=new Map;this.qe.forEach(((s,l)=>{const u=this.Xe(l);if(u){if(s.current&&fy(u.target)){const d=new bt(u.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,vn.newNoDocument(d,e))}s.ve&&(r.set(l,s.Fe()),s.Me())}}));let n=Gt();this.Ue.forEach(((s,l)=>{let u=!0;l.forEachWhile((d=>{const h=this.Xe(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(n=n.add(s))})),this.Qe.forEach(((s,l)=>l.setReadTime(e)));const i=new om(e,r,this.Ke,this.Qe,n);return this.Qe=Ma(),this.$e=df(),this.Ue=df(),this.Ke=new $r(Bt),i}Ge(e,r){if(!this.Je(e))return;const n=this.ut(e,r.key)?2:0;this.He(e).xe(r.key,n),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(e)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(e))}ze(e,r,n){if(!this.Je(e))return;const i=this.He(e);this.ut(e,r)?i.xe(r,1):i.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(e)),this.Ue=this.Ue.insert(r,this.ct(r).add(e)),n&&(this.Qe=this.Qe.insert(r,n))}removeTarget(e){this.qe.delete(e)}et(e){const r=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let r=this.qe.get(e);return r||(r=new L_,this.qe.set(e,r)),r}ct(e){let r=this.Ue.get(e);return r||(r=new fn(Bt),this.Ue=this.Ue.insert(e,r)),r}_t(e){let r=this.$e.get(e);return r||(r=new fn(Bt),this.$e=this.$e.insert(e,r)),r}Je(e){const r=this.Xe(e)!==null;return r||at("WatchChangeAggregator","Detected inactive target",e),r}Xe(e){const r=this.qe.get(e);return r&&r.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new L_),this.ke.getRemoteKeysForTarget(e).forEach((r=>{this.ze(e,r,null)}))}ut(e,r){return this.ke.getRemoteKeysForTarget(e).has(r)}}function df(){return new $r(bt.comparator)}function M_(){return new $r(bt.comparator)}const UD={asc:"ASCENDING",desc:"DESCENDING"},zD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HD={and:"AND",or:"OR"};class WD{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function my(t,e){return t.useProto3Json||T0(e)?e:{value:e}}function ep(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qD(t,e){return ep(t,e.toTimestamp())}function Vi(t){return Zt(!!t),It.fromTimestamp((function(r){const n=Oo(r);return new gr(n.seconds,n.nanos)})(t))}function k1(t,e){return gy(t,e).canonicalString()}function gy(t,e){const r=(function(i){return new wr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function ON(t){const e=wr.fromString(t);return Zt(BN(e)),e}function tp(t,e){return k1(t.databaseId,e.path)}function Dd(t,e){const r=ON(e);if(r.get(1)!==t.databaseId.projectId)throw new rt(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new rt(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new bt(LN(r))}function FN(t,e){return k1(t.databaseId,e)}function GD(t){const e=ON(t);return e.length===4?wr.emptyPath():LN(e)}function xy(t){return new wr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LN(t){return Zt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $_(t,e,r){return{name:tp(t,e),fields:r.value.mapValue.fields}}function KD(t,e){return"found"in e?(function(n,i){Zt(!!i.found),i.found.name,i.found.updateTime;const s=Dd(n,i.found.name),l=Vi(i.found.updateTime),u=i.found.createTime?Vi(i.found.createTime):It.min(),d=new ii({mapValue:{fields:i.found.fields}});return vn.newFoundDocument(s,l,u,d)})(t,e):"missing"in e?(function(n,i){Zt(!!i.missing),Zt(!!i.readTime);const s=Dd(n,i.missing),l=Vi(i.readTime);return vn.newNoDocument(s,l)})(t,e):kt()}function XD(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:kt()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(Zt(p===void 0||typeof p=="string"),Mn.fromBase64String(p||"")):(Zt(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Mn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(h){const p=h.code===void 0?je.UNKNOWN:jN(h.code);return new rt(p,h.message||"")})(l);r=new RN(n,i,s,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Dd(t,n.document.name),s=Vi(n.document.updateTime),l=n.document.createTime?Vi(n.document.createTime):It.min(),u=new ii({mapValue:{fields:n.document.fields}}),d=vn.newFoundDocument(i,s,l,u),h=n.targetIds||[],p=n.removedTargetIds||[];r=new Df(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Dd(t,n.document),s=n.readTime?Vi(n.readTime):It.min(),l=vn.newNoDocument(i,s),u=n.removedTargetIds||[];r=new Df([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Dd(t,n.document),s=n.removedTargetIds||[];r=new Df([],s,i,null)}else{if(!("filter"in e))return kt();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,l=new $D(i,s),u=n.targetId;r=new PN(u,l)}}return r}function MN(t,e){let r;if(e instanceof k0)r={update:$_(t,e.key,e.value)};else if(e instanceof am)r={delete:tp(t,e.key)};else if(e instanceof Xo)r={update:$_(t,e.key,e.data),updateMask:i9(e.fieldMask)};else{if(!(e instanceof CN))return kt();r={verify:tp(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(s,l){const u=l.transform;if(u instanceof e0)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof t0)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof r0)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof n0)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw kt()})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:qD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:kt()})(t,e.precondition)),r}function YD(t,e){return t&&t.length>0?(Zt(e!==void 0),t.map((r=>(function(i,s){let l=i.updateTime?Vi(i.updateTime):Vi(s);return l.isEqual(It.min())&&(l=Vi(s)),new DD(l,i.transformResults||[])})(r,e)))):[]}function QD(t,e){return{documents:[FN(t,e.path)]}}function JD(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=FN(t,i);const s=(function(h){if(h.length!==0)return VN(Ps.create(h,"and"))})(e.filters);s&&(r.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((p=>(function(y){return{field:Uc(y.field),direction:t9(y.dir)}})(p)))})(e.orderBy);l&&(r.structuredQuery.orderBy=l);const u=my(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ht:r,parent:i}}function ZD(t){let e=GD(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Zt(n===1);const p=r.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];r.where&&(s=(function(g){const y=$N(g);return y instanceof Ps&&uN(y)?y.getFilters():[y]})(r.where));let l=[];r.orderBy&&(l=(function(g){return g.map((y=>(function(k){return new Zd(zc(k.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(y)))})(r.orderBy));let u=null;r.limit&&(u=(function(g){let y;return y=typeof g=="object"?g.value:g,T0(y)?null:y})(r.limit));let d=null;r.startAt&&(d=(function(g){const y=!!g.before,v=g.values||[];return new Jf(v,y)})(r.startAt));let h=null;return r.endAt&&(h=(function(g){const y=!g.before,v=g.values||[];return new Jf(v,y)})(r.endAt)),_D(e,i,l,s,u,"F",d,h)}function e9(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return kt()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function $N(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=zc(r.unaryFilter.field);return an.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=zc(r.unaryFilter.field);return an.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=zc(r.unaryFilter.field);return an.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=zc(r.unaryFilter.field);return an.create(l,"!=",{nullValue:"NULL_VALUE"});default:return kt()}})(t):t.fieldFilter!==void 0?(function(r){return an.create(zc(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return kt()}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Ps.create(r.compositeFilter.filters.map((n=>$N(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return kt()}})(r.compositeFilter.op))})(t):kt()}function t9(t){return UD[t]}function r9(t){return zD[t]}function n9(t){return HD[t]}function Uc(t){return{fieldPath:t.canonicalString()}}function zc(t){return Pn.fromServerFormat(t.fieldPath)}function VN(t){return t instanceof an?(function(r){if(r.op==="=="){if(N_(r.value))return{unaryFilter:{field:Uc(r.field),op:"IS_NAN"}};if(k_(r.value))return{unaryFilter:{field:Uc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(N_(r.value))return{unaryFilter:{field:Uc(r.field),op:"IS_NOT_NAN"}};if(k_(r.value))return{unaryFilter:{field:Uc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uc(r.field),op:r9(r.op),value:r.value}}})(t):t instanceof Ps?(function(r){const n=r.getFilters().map((i=>VN(i)));return n.length===1?n[0]:{compositeFilter:{op:n9(r.op),filters:n}}})(t):kt()}function i9(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function BN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,r,n,i,s=It.min(),l=It.min(),u=Mn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new To(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.Tt=e}}function a9(t){const e=ZD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(){this.Tn=new l9}addToCollectionParentIndex(e,r){return this.Tn.add(r),Pe.resolve()}getCollectionParents(e,r){return Pe.resolve(this.Tn.getEntries(r))}addFieldIndex(e,r){return Pe.resolve()}deleteFieldIndex(e,r){return Pe.resolve()}deleteAllFieldIndexes(e){return Pe.resolve()}createTargetIndexes(e,r){return Pe.resolve()}getDocumentsMatchingTarget(e,r){return Pe.resolve(null)}getIndexType(e,r){return Pe.resolve(0)}getFieldIndexes(e,r){return Pe.resolve([])}getNextCollectionGroupToUpdate(e){return Pe.resolve(null)}getMinOffset(e,r){return Pe.resolve(Do.min())}getMinOffsetFromCollectionGroup(e,r){return Pe.resolve(Do.min())}updateCollectionGroup(e,r,n){return Pe.resolve()}updateIndexEntries(e,r){return Pe.resolve()}}class l9{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new fn(wr.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new fn(wr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UN=41943040;class xi{static withCacheSize(e){return new xi(e,xi.DEFAULT_COLLECTION_PERCENTILE,xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi.DEFAULT_COLLECTION_PERCENTILE=10,xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xi.DEFAULT=new xi(UN,xi.DEFAULT_COLLECTION_PERCENTILE,xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xi.DISABLED=new xi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new du(0)}static Kn(){return new du(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="LruGarbageCollector",c9=1048576;function U_([t,e],[r,n]){const i=Bt(t,r);return i===0?Bt(e,n):i}class u9{constructor(e){this.Hn=e,this.buffer=new fn(U_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const r=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();U_(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class d9{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){at(B_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Nu(r)?at(B_,"Ignoring IndexedDB error during garbage collection: ",r):await ku(r)}await this.er(3e5)}))}}class h9{constructor(e,r){this.tr=e,this.params=r}calculateTargetCount(e,r){return this.tr.nr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return Pe.resolve(Zp.ae);const n=new u9(r);return this.tr.forEachTarget(e,(i=>n.Zn(i.sequenceNumber))).next((()=>this.tr.rr(e,(i=>n.Zn(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.tr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.tr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(V_)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V_):this.ir(e,r)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,r){let n,i,s,l,u,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(n=g,u=Date.now(),this.removeTargets(e,n,r)))).next((g=>(s=g,d=Date.now(),this.removeOrphanedDocuments(e,n)))).next((g=>(h=Date.now(),Vc()<=qt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),Pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function f9(t,e){return new h9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(){this.changes=new Hl((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Pe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&Rd(n.mutation,i,Mi.empty(),gr.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Gt()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Gt()){const i=_l();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((s=>{let l=Ed();return s.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,r){const n=_l();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Gt())))}populateOverlays(e,r,n){const i=[];return n.forEach((s=>{r.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,u)=>{r.set(l,u)}))}))}computeViews(e,r,n,i){let s=Ma();const l=Pd(),u=(function(){return Pd()})();return r.forEach(((d,h)=>{const p=n.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Xo)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Rd(p.mutation,h,p.mutation.getFieldMask(),gr.now())):l.set(h.key,Mi.empty())})),this.recalculateAndSaveOverlays(e,s).next((d=>(d.forEach(((h,p)=>l.set(h,p))),r.forEach(((h,p)=>{var g;return u.set(h,new m9(p,(g=l.get(h))!==null&&g!==void 0?g:null))})),u)))}recalculateAndSaveOverlays(e,r){const n=Pd();let i=new $r(((l,u)=>l-u)),s=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((l=>{for(const u of l)u.keys().forEach((d=>{const h=r.get(d);if(h===null)return;let p=n.get(d)||Mi.empty();p=u.applyToLocalView(h,p),n.set(d,p);const g=(i.get(u.batchId)||Gt()).add(d);i=i.insert(u.batchId,g)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,p=d.value,g=vN();p.forEach((y=>{if(!s.has(y)){const v=SN(r.get(y),n.get(y));v!==null&&g.set(y,v),s=s.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Pe.waitFor(l)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(l){return bt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):pN(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):Pe.resolve(_l());let u=Xd,d=s;return l.next((h=>Pe.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(p)?Pe.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{d=d.insert(p,y)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,d,h,Gt()))).next((p=>({batchId:u,changes:yN(p)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new bt(r)).next((n=>{let i=Ed();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let l=Ed();return this.indexManager.getCollectionParents(e,s).next((u=>Pe.forEach(u,(d=>{const h=(function(g,y){return new Su(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(r,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,n,i).next((p=>{p.forEach(((g,y)=>{l=l.insert(g,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i)))).next((l=>{s.forEach(((d,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,vn.newInvalidDocument(p)))}));let u=Ed();return l.forEach(((d,h)=>{const p=s.get(d);p!==void 0&&Rd(p.mutation,h,Mi.empty(),gr.now()),nm(r,h)&&(u=u.insert(d,h))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,r){return Pe.resolve(this.dr.get(r))}saveBundleMetadata(e,r){return this.dr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:Vi(i.createTime)}})(r)),Pe.resolve()}getNamedQuery(e,r){return Pe.resolve(this.Ar.get(r))}saveNamedQuery(e,r){return this.Ar.set(r.name,(function(i){return{name:i.name,query:a9(i.bundledQuery),readTime:Vi(i.readTime)}})(r)),Pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(){this.overlays=new $r(bt.comparator),this.Rr=new Map}getOverlay(e,r){return Pe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=_l();return Pe.forEach(r,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,s)=>{this.Et(e,r,s)})),Pe.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Rr.get(n);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Rr.delete(n)),Pe.resolve()}getOverlaysForCollection(e,r,n){const i=_l(),s=r.length+1,l=new bt(r.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>n&&i.set(d.getKey(),d)}return Pe.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new $r(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let p=s.get(h.largestBatchId);p===null&&(p=_l(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=_l(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=i)););return Pe.resolve(u)}Et(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(n.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new MD(r,n));let s=this.Rr.get(r);s===void 0&&(s=Gt(),this.Rr.set(r,s)),this.Rr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return Pe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.Vr=new fn(yn.mr),this.gr=new fn(yn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,r){const n=new yn(e,r);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.wr(new yn(e,r))}Sr(e,r){e.forEach((n=>this.removeReference(n,r)))}br(e){const r=new bt(new wr([])),n=new yn(r,e),i=new yn(r,e+1),s=[];return this.gr.forEachInRange([n,i],(l=>{this.wr(l),s.push(l.key)})),s}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const r=new bt(new wr([])),n=new yn(r,e),i=new yn(r,e+1);let s=Gt();return this.gr.forEachInRange([n,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const r=new yn(e,0),n=this.Vr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class yn{constructor(e,r){this.key=e,this.Cr=r}static mr(e,r){return bt.comparator(e.key,r.key)||Bt(e.Cr,r.Cr)}static pr(e,r){return Bt(e.Cr,r.Cr)||bt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new fn(yn.mr)}checkEmpty(e){return Pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new LD(s,r,n,i);this.mutationQueue.push(l);for(const u of i)this.Mr=this.Mr.add(new yn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Pe.resolve(l)}lookupMutationBatch(e,r){return Pe.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Nr(n),s=i<0?0:i;return Pe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(this.mutationQueue.length===0?x1:this.Fr-1)}getAllMutationBatches(e){return Pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new yn(r,0),i=new yn(r,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([n,i],(l=>{const u=this.Or(l.Cr);s.push(u)})),Pe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new fn(Bt);return r.forEach((i=>{const s=new yn(i,0),l=new yn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,l],(u=>{n=n.add(u.Cr)}))})),Pe.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;bt.isDocumentKey(s)||(s=s.child(""));const l=new yn(new bt(s),0);let u=new fn(Bt);return this.Mr.forEachWhile((d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.Cr)),!0)}),l),Pe.resolve(this.Br(u))}Br(e){const r=[];return e.forEach((n=>{const i=this.Or(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){Zt(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return Pe.forEach(r.mutations,(i=>{const s=new yn(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,r){const n=new yn(r,0),i=this.Mr.firstAfterOrEqual(n);return Pe.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Pe.resolve()}Lr(e,r){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const r=this.Nr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.kr=e,this.docs=(function(){return new $r(bt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,l=this.kr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Pe.resolve(n?n.document.mutableCopy():vn.newInvalidDocument(r))}getEntries(e,r){let n=Ma();return r.forEach((i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():vn.newInvalidDocument(i))})),Pe.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=Ma();const l=r.path,u=new bt(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||eD(Z8(p),n)<=0||(i.has(p.key)||nm(r,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Pe.resolve(s)}getAllFromCollectionGroup(e,r,n,i){kt()}qr(e,r){return Pe.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new _9(this)}getSize(e){return Pe.resolve(this.size)}}class _9 extends p9{constructor(e){super(),this.Ir=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(n)})),Pe.waitFor(r)}getFromCache(e,r){return this.Ir.getEntry(e,r)}getAllFromCache(e,r){return this.Ir.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e){this.persistence=e,this.Qr=new Hl((r=>b1(r)),w1),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.$r=0,this.Ur=new N1,this.targetCount=0,this.Kr=du.Un()}forEachTarget(e,r){return this.Qr.forEach(((n,i)=>r(i))),Pe.resolve()}getLastRemoteSnapshotVersion(e){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pe.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.$r&&(this.$r=r),Pe.resolve()}zn(e){this.Qr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Kr=new du(r),this.highestTargetId=r),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,r){return this.zn(r),this.targetCount+=1,Pe.resolve()}updateTargetData(e,r){return this.zn(r),Pe.resolve()}removeTargetData(e,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Qr.forEach(((l,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.Qr.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Pe.waitFor(s).next((()=>i))}getTargetCount(e){return Pe.resolve(this.targetCount)}getTargetData(e,r){const n=this.Qr.get(r)||null;return Pe.resolve(n)}addMatchingKeys(e,r,n){return this.Ur.yr(r,n),Pe.resolve()}removeMatchingKeys(e,r,n){this.Ur.Sr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),Pe.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Ur.br(r),Pe.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Ur.vr(r);return Pe.resolve(n)}containsKey(e,r){return Pe.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,r){this.Wr={},this.overlays={},this.Gr=new Zp(0),this.zr=!1,this.zr=!0,this.jr=new v9,this.referenceDelegate=e(this),this.Hr=new E9(this),this.indexManager=new o9,this.remoteDocumentCache=(function(i){return new w9(i)})((n=>this.referenceDelegate.Jr(n))),this.serializer=new s9(r),this.Yr=new x9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new y9,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.Wr[e.toKey()];return n||(n=new b9(r,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,r,n){at("MemoryPersistence","Starting transaction:",e);const i=new T9(this.Gr.next());return this.referenceDelegate.Zr(),n(i).next((s=>this.referenceDelegate.Xr(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}ei(e,r){return Pe.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,r))))}}class T9 extends rD{constructor(e){super(),this.currentSequenceNumber=e}}class S1{constructor(e){this.persistence=e,this.ti=new N1,this.ni=null}static ri(e){return new S1(e)}get ii(){if(this.ni)return this.ni;throw kt()}addReference(e,r,n){return this.ti.addReference(n,r),this.ii.delete(n.toString()),Pe.resolve()}removeReference(e,r,n){return this.ti.removeReference(n,r),this.ii.add(n.toString()),Pe.resolve()}markPotentiallyOrphaned(e,r){return this.ii.add(r.toString()),Pe.resolve()}removeTarget(e,r){this.ti.br(r.targetId).forEach((i=>this.ii.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((s=>this.ii.add(s.toString())))})).next((()=>n.removeTargetData(e,r)))}Zr(){this.ni=new Set}Xr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.ii,(n=>{const i=bt.fromPath(n);return this.si(e,i).next((s=>{s||r.removeEntry(i,It.min())}))})).next((()=>(this.ni=null,r.apply(e))))}updateLimboDocument(e,r){return this.si(e,r).next((n=>{n?this.ii.delete(r.toString()):this.ii.add(r.toString())}))}Jr(e){return 0}si(e,r){return Pe.or([()=>Pe.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.ei(e,r)])}}class rp{constructor(e,r){this.persistence=e,this.oi=new Hl((n=>sD(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=f9(this,r)}static ri(e,r){return new rp(e,r)}Zr(){}Xr(e){return Pe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}nr(e){const r=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}sr(e){let r=0;return this.rr(e,(n=>{r++})).next((()=>r))}rr(e,r){return Pe.forEach(this.oi,((n,i)=>this.ar(e,n,i).next((s=>s?Pe.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,(l=>this.ar(e,l,r).next((u=>{u||(n++,s.removeEntry(l,It.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.oi.set(r,e.currentSequenceNumber),Pe.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),Pe.resolve()}removeReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),Pe.resolve()}updateLimboDocument(e,r){return this.oi.set(r,e.currentSequenceNumber),Pe.resolve()}Jr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=jf(e.data.value)),r}ar(e,r,n){return Pe.or([()=>this.persistence.ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.oi.get(r);return Pe.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Hi=n,this.Ji=i}static Yi(e,r){let n=Gt(),i=Gt();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new A1(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=(function(){return rP()?8:nD(Qn())>0?6:4})()}initialize(e,r){this.ns=e,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.rs(e,r).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ss(e,r,i,n).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new k9;return this._s(e,r,l).next((u=>{if(s.result=u,this.Xi)return this.us(e,r,l,u.size)}))})).next((()=>s.result))}us(e,r,n,i){return n.documentReadCount<this.es?(Vc()<=qt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Bc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Pe.resolve()):(Vc()<=qt.DEBUG&&at("QueryEngine","Query:",Bc(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ts*i?(Vc()<=qt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Bc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Js(r))):Pe.resolve())}rs(e,r){if(I_(r))return Pe.resolve(null);let n=Js(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=Zf(r,null,"F"),n=Js(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const l=Gt(...s);return this.ns.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,n).next((d=>{const h=this.cs(r,u);return this.ls(r,h,l,d.readTime)?this.rs(e,Zf(r,null,"F")):this.hs(e,h,r,d)}))))})))))}ss(e,r,n,i){return I_(r)||i.isEqual(It.min())?Pe.resolve(null):this.ns.getDocuments(e,n).next((s=>{const l=this.cs(r,s);return this.ls(r,l,n,i)?Pe.resolve(null):(Vc()<=qt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bc(r)),this.hs(e,l,r,J8(i,Xd)).next((u=>u)))}))}cs(e,r){let n=new fn(gN(e));return r.forEach(((i,s)=>{nm(e,s)&&(n=n.add(s))})),n}ls(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,r,n){return Vc()<=qt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Bc(r)),this.ns.getDocumentsMatchingQuery(e,r,Do.min(),n)}hs(e,r,n,i){return this.ns.getDocumentsMatchingQuery(e,n,i).next((s=>(r.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="LocalStore",S9=3e8;class A9{constructor(e,r,n,i){this.persistence=e,this.Ps=r,this.serializer=i,this.Ts=new $r(Bt),this.Is=new Hl((s=>b1(s)),w1),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g9(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ts)))}}function C9(t,e,r,n){return new A9(t,e,r,n)}async function HN(t,e){const r=Ot(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((s=>(i=s,r.As(e),r.mutationQueue.getAllMutationBatches(n)))).next((s=>{const l=[],u=[];let d=Gt();for(const h of i){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of s){u.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return r.localDocuments.getDocuments(n,d).next((h=>({Rs:h,removedBatchIds:l,addedBatchIds:u})))}))}))}function I9(t,e){const r=Ot(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),s=r.ds.newChangeBuffer({trackRemovals:!0});return(function(u,d,h,p){const g=h.batch,y=g.keys();let v=Pe.resolve();return y.forEach((k=>{v=v.next((()=>p.getEntry(d,k))).next((w=>{const E=h.docVersions.get(k);Zt(E!==null),w.version.compareTo(E)<0&&(g.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),p.addEntry(w)))}))})),v.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(r,n,e,s).next((()=>s.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(u){let d=Gt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function WN(t){const e=Ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Hr.getLastRemoteSnapshotVersion(r)))}function j9(t,e){const r=Ot(t),n=e.snapshotVersion;let i=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=r.ds.newChangeBuffer({trackRemovals:!0});i=r.Ts;const u=[];e.targetChanges.forEach(((p,g)=>{const y=i.get(g);if(!y)return;u.push(r.Hr.removeMatchingKeys(s,p.removedDocuments,g).next((()=>r.Hr.addMatchingKeys(s,p.addedDocuments,g))));let v=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(Mn.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,n)),i=i.insert(g,v),(function(w,E,O){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=S9?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(y,v,p)&&u.push(r.Hr.updateTargetData(s,v))}));let d=Ma(),h=Gt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(s,p))})),u.push(P9(s,l,e.documentUpdates).next((p=>{d=p.Vs,h=p.fs}))),!n.isEqual(It.min())){const p=r.Hr.getLastRemoteSnapshotVersion(s).next((g=>r.Hr.setTargetsMetadata(s,s.currentSequenceNumber,n)));u.push(p)}return Pe.waitFor(u).next((()=>l.apply(s))).next((()=>r.localDocuments.getLocalViewOfDocuments(s,d,h))).next((()=>d))})).then((s=>(r.Ts=i,s)))}function P9(t,e,r){let n=Gt(),i=Gt();return r.forEach((s=>n=n.add(s))),e.getEntries(t,n).next((s=>{let l=Ma();return r.forEach(((u,d)=>{const h=s.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(It.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):at(C1,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)})),{Vs:l,fs:i}}))}function R9(t,e){const r=Ot(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=x1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function D9(t,e){const r=Ot(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Hr.getTargetData(n,e).next((s=>s?(i=s,Pe.resolve(i)):r.Hr.allocateTargetId(n).next((l=>(i=new To(e,l,"TargetPurposeListen",n.currentSequenceNumber),r.Hr.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Ts.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(n.targetId,n),r.Is.set(e,n.targetId)),n}))}async function yy(t,e,r){const n=Ot(t),i=n.Ts.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,(l=>n.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Nu(l))throw l;at(C1,`Failed to update sequence numbers for target ${e}: ${l}`)}n.Ts=n.Ts.remove(e),n.Is.delete(i.target)}function z_(t,e,r){const n=Ot(t);let i=It.min(),s=Gt();return n.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,h,p){const g=Ot(d),y=g.Is.get(p);return y!==void 0?Pe.resolve(g.Ts.get(y)):g.Hr.getTargetData(h,p)})(n,l,Js(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(l,u.targetId).next((d=>{s=d}))})).next((()=>n.Ps.getDocumentsMatchingQuery(l,e,r?i:It.min(),r?s:Gt()))).next((u=>(O9(n,TD(e),u),{documents:u,gs:s})))))}function O9(t,e,r){let n=t.Es.get(e)||It.min();r.forEach(((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),t.Es.set(e,n)}class H_{constructor(){this.activeTargetIds=ID()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class F9{constructor(){this.ho=new H_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,r,n){this.Po[e]=r}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new H_,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="ConnectivityMonitor";class q_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){at(W_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){at(W_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf=null;function vy(){return hf===null?hf=(function(){return 268435456+Math.round(2147483648*Math.random())})():hf++,"0x"+hf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="RestConnection",M9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $9{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=r+"://"+e.host,this.yo=`projects/${n}/databases/${i}`,this.wo=this.databaseId.database===Yf?`project_id=${n}`:`project_id=${n}&database_id=${i}`}So(e,r,n,i,s){const l=vy(),u=this.bo(e,r.toUriEncodedString());at(Tx,`Sending RPC '${e}' ${l}:`,u,n);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,s),this.vo(e,u,d,n).then((h=>(at(Tx,`Received RPC '${e}' ${l}: `,h),h)),(h=>{throw ou(Tx,`RPC '${e}' ${l} failed with error: `,h,"url: ",u,"request:",n),h}))}Co(e,r,n,i,s,l){return this.So(e,r,n,i,s)}Do(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,s)=>e[s]=i)),n&&n.headers.forEach(((i,s)=>e[s]=i))}bo(e,r){const n=M9[e];return`${this.po}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="WebChannelConnection";class B9 extends $9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,r,n,i){const s=vy();return new Promise(((l,u)=>{const d=new Hk;d.setWithCredentials(!0),d.listenOnce(Wk.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case If.NO_ERROR:const p=d.getResponseJson();at(Hn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),l(p);break;case If.TIMEOUT:at(Hn,`RPC '${e}' ${s} timed out`),u(new rt(je.DEADLINE_EXCEEDED,"Request time out"));break;case If.HTTP_ERROR:const g=d.getStatus();if(at(Hn,`RPC '${e}' ${s} failed with status:`,g,"response text:",d.getResponseText()),g>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const v=y?.error;if(v&&v.status&&v.message){const k=(function(E){const O=E.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(O)>=0?O:je.UNKNOWN})(v.status);u(new rt(k,v.message))}else u(new rt(je.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new rt(je.UNAVAILABLE,"Connection failed."));break;default:kt()}}finally{at(Hn,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);at(Hn,`RPC '${e}' ${s} sending request:`,i),d.send(r,"POST",h,n,15)}))}Wo(e,r,n){const i=vy(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Kk(),u=Gk(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const p=s.join("");at(Hn,`Creating RPC '${e}' stream ${i}: ${p}`,d);const g=l.createWebChannel(p,d);let y=!1,v=!1;const k=new V9({Fo:E=>{v?at(Hn,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(y||(at(Hn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),at(Hn,`RPC '${e}' stream ${i} sending:`,E),g.send(E))},Mo:()=>g.close()}),w=(E,O,M)=>{E.listen(O,(V=>{try{M(V)}catch(j){setTimeout((()=>{throw j}),0)}}))};return w(g,_d.EventType.OPEN,(()=>{v||(at(Hn,`RPC '${e}' stream ${i} transport opened.`),k.Qo())})),w(g,_d.EventType.CLOSE,(()=>{v||(v=!0,at(Hn,`RPC '${e}' stream ${i} transport closed`),k.Uo())})),w(g,_d.EventType.ERROR,(E=>{v||(v=!0,ou(Hn,`RPC '${e}' stream ${i} transport errored:`,E),k.Uo(new rt(je.UNAVAILABLE,"The operation could not be completed")))})),w(g,_d.EventType.MESSAGE,(E=>{var O;if(!v){const M=E.data[0];Zt(!!M);const V=M,j=V?.error||((O=V[0])===null||O===void 0?void 0:O.error);if(j){at(Hn,`RPC '${e}' stream ${i} received error:`,j);const X=j.status;let U=(function(C){const P=sn[C];if(P!==void 0)return jN(P)})(X),A=j.message;U===void 0&&(U=je.INTERNAL,A="Unknown error status: "+X+" with message "+j.message),v=!0,k.Uo(new rt(U,A)),g.close()}else at(Hn,`RPC '${e}' stream ${i} received:`,M),k.Ko(M)}})),w(u,qk.STAT_EVENT,(E=>{E.stat===ly.PROXY?at(Hn,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===ly.NOPROXY&&at(Hn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{k.$o()}),0),k}}function kx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(t){return new WD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=r,this.Go=n,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const r=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),i=Math.max(0,r-n);i>0&&at("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="PersistentStream";class qN{constructor(e,r,n,i,s,l,u,d){this.Ti=e,this.n_=n,this.r_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new I1(e,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():r&&r.code===je.RESOURCE_EXHAUSTED?(La(r.toString()),La("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===je.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.i_===r&&this.V_(n,i)}),(n=>{e((()=>{const i=new rt(je.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(i)}))}))}V_(e,r){const n=this.R_(this.i_);this.stream=this.f_(e,r),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((i=>{n((()=>this.m_(i)))})),this.stream.onMessage((i=>{n((()=>++this.__==1?this.g_(i):this.onNext(i)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return at(G_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return r=>{this.Ti.enqueueAndForget((()=>this.i_===e?r():(at(G_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class U9 extends qN{constructor(e,r,n,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,l),this.serializer=s}f_(e,r){return this.connection.Wo("Listen",e,r)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const r=XD(this.serializer,e),n=(function(s){if(!("targetChange"in s))return It.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?It.min():l.readTime?Vi(l.readTime):It.min()})(e);return this.listener.p_(r,n)}y_(e){const r={};r.database=xy(this.serializer),r.addTarget=(function(s,l){let u;const d=l.target;if(u=fy(d)?{documents:QD(s,d)}:{query:JD(s,d).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=DN(s,l.resumeToken);const h=my(s,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(It.min())>0){u.readTime=ep(s,l.snapshotVersion.toTimestamp());const h=my(s,l.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const n=e9(this.serializer,e);n&&(r.labels=n),this.I_(r)}w_(e){const r={};r.database=xy(this.serializer),r.removeTarget=e,this.I_(r)}}class z9 extends qN{constructor(e,r,n,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,l),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,r){return this.connection.Wo("Write",e,r)}g_(e){return Zt(!!e.streamToken),this.lastStreamToken=e.streamToken,Zt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Zt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const r=YD(e.writeResults,e.commitTime),n=Vi(e.commitTime);return this.listener.v_(n,r)}C_(){const e={};e.database=xy(this.serializer),this.I_(e)}b_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>MN(this.serializer,n)))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{}class W9 extends H9{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new rt(je.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,n,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.So(e,gy(r,n),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new rt(je.UNKNOWN,s.toString())}))}Co(e,r,n,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Co(e,gy(r,n),i,l,u,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new rt(je.UNKNOWN,l.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class q9{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(La(r),this.N_=!1):at("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl="RemoteStore";class G9{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To((l=>{n.enqueueAndForget((async()=>{Wl(this)&&(at(jl,"Restarting streams for network reachability change."),await(async function(d){const h=Ot(d);h.W_.add(4),await S0(h),h.j_.set("Unknown"),h.W_.delete(4),await cm(h)})(this))}))})),this.j_=new q9(n,i)}}async function cm(t){if(Wl(t))for(const e of t.G_)await e(!0)}async function S0(t){for(const e of t.G_)await e(!1)}function GN(t,e){const r=Ot(t);r.K_.has(e.targetId)||(r.K_.set(e.targetId,e),D1(r)?R1(r):Au(r).c_()&&P1(r,e))}function j1(t,e){const r=Ot(t),n=Au(r);r.K_.delete(e),n.c_()&&KN(r,e),r.K_.size===0&&(n.c_()?n.P_():Wl(r)&&r.j_.set("Unknown"))}function P1(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Au(t).y_(e)}function KN(t,e){t.H_.Ne(e),Au(t).w_(e)}function R1(t){t.H_=new BD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Au(t).start(),t.j_.B_()}function D1(t){return Wl(t)&&!Au(t).u_()&&t.K_.size>0}function Wl(t){return Ot(t).W_.size===0}function XN(t){t.H_=void 0}async function K9(t){t.j_.set("Online")}async function X9(t){t.K_.forEach(((e,r)=>{P1(t,e)}))}async function Y9(t,e){XN(t),D1(t)?(t.j_.q_(e),R1(t)):t.j_.set("Unknown")}async function Q9(t,e,r){if(t.j_.set("Online"),e instanceof RN&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const u of s.targetIds)i.K_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.K_.delete(u),i.H_.removeTarget(u))})(t,e)}catch(n){at(jl,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await np(t,n)}else if(e instanceof Df?t.H_.We(e):e instanceof PN?t.H_.Ze(e):t.H_.je(e),!r.isEqual(It.min()))try{const n=await WN(t.localStore);r.compareTo(n)>=0&&await(function(s,l){const u=s.H_.ot(l);return u.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=s.K_.get(h);p&&s.K_.set(h,p.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,h)=>{const p=s.K_.get(d);if(!p)return;s.K_.set(d,p.withResumeToken(Mn.EMPTY_BYTE_STRING,p.snapshotVersion)),KN(s,d);const g=new To(p.target,d,h,p.sequenceNumber);P1(s,g)})),s.remoteSyncer.applyRemoteEvent(u)})(t,r)}catch(n){at(jl,"Failed to raise snapshot:",n),await np(t,n)}}async function np(t,e,r){if(!Nu(e))throw e;t.W_.add(1),await S0(t),t.j_.set("Offline"),r||(r=()=>WN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{at(jl,"Retrying IndexedDB access"),await r(),t.W_.delete(1),await cm(t)}))}function YN(t,e){return e().catch((r=>np(t,r,e)))}async function um(t){const e=Ot(t),r=Mo(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:x1;for(;J9(e);)try{const i=await R9(e.localStore,n);if(i===null){e.U_.length===0&&r.P_();break}n=i.batchId,Z9(e,i)}catch(i){await np(e,i)}QN(e)&&JN(e)}function J9(t){return Wl(t)&&t.U_.length<10}function Z9(t,e){t.U_.push(e);const r=Mo(t);r.c_()&&r.S_&&r.b_(e.mutations)}function QN(t){return Wl(t)&&!Mo(t).u_()&&t.U_.length>0}function JN(t){Mo(t).start()}async function e7(t){Mo(t).C_()}async function t7(t){const e=Mo(t);for(const r of t.U_)e.b_(r.mutations)}async function r7(t,e,r){const n=t.U_.shift(),i=E1.from(n,e,r);await YN(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await um(t)}async function n7(t,e){e&&Mo(t).S_&&await(async function(n,i){if((function(l){return IN(l)&&l!==je.ABORTED})(i.code)){const s=n.U_.shift();Mo(n).h_(),await YN(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i))),await um(n)}})(t,e),QN(t)&&JN(t)}async function K_(t,e){const r=Ot(t);r.asyncQueue.verifyOperationInProgress(),at(jl,"RemoteStore received new credentials");const n=Wl(r);r.W_.add(3),await S0(r),n&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.W_.delete(3),await cm(r)}async function i7(t,e){const r=Ot(t);e?(r.W_.delete(2),await cm(r)):e||(r.W_.add(2),await S0(r),r.j_.set("Unknown"))}function Au(t){return t.J_||(t.J_=(function(r,n,i){const s=Ot(r);return s.M_(),new U9(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{xo:K9.bind(null,t),No:X9.bind(null,t),Lo:Y9.bind(null,t),p_:Q9.bind(null,t)}),t.G_.push((async e=>{e?(t.J_.h_(),D1(t)?R1(t):t.j_.set("Unknown")):(await t.J_.stop(),XN(t))}))),t.J_}function Mo(t){return t.Y_||(t.Y_=(function(r,n,i){const s=Ot(r);return s.M_(),new z9(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:e7.bind(null,t),Lo:n7.bind(null,t),D_:t7.bind(null,t),v_:r7.bind(null,t)}),t.G_.push((async e=>{e?(t.Y_.h_(),await um(t)):(await t.Y_.stop(),t.U_.length>0&&(at(jl,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))}))),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const l=Date.now()+n,u=new O1(e,r,l,i,s);return u.start(n),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function F1(t,e){if(La("AsyncQueue",`${e}: ${t}`),Nu(t))return new rt(je.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{static emptySet(e){return new Zc(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||bt.comparator(r.key,n.key):(r,n)=>bt.comparator(r.key,n.key),this.keyedMap=Ed(),this.sortedSet=new $r(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Zc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Zc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.Z_=new $r(bt.comparator)}track(e){const r=e.doc.key,n=this.Z_.get(r);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(r,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(r):e.type===1&&n.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):kt():this.Z_=this.Z_.insert(r,e)}X_(){const e=[];return this.Z_.inorderTraversal(((r,n)=>{e.push(n)})),e}}class hu{constructor(e,r,n,i,s,l,u,d,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,i,s){const l=[];return r.forEach((u=>{l.push({type:0,doc:u})})),new hu(e,r,Zc.emptySet(r),l,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class a7{constructor(){this.queries=Y_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,n){const i=Ot(r),s=i.queries;i.queries=Y_(),s.forEach(((l,u)=>{for(const d of u.ta)d.onError(n)}))})(this,new rt(je.ABORTED,"Firestore shutting down"))}}function Y_(){return new Hl((t=>mN(t)),rm)}async function L1(t,e){const r=Ot(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.na()&&e.ra()&&(n=2):(s=new s7,n=e.ra()?0:1);try{switch(n){case 0:s.ea=await r.onListen(i,!0);break;case 1:s.ea=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(l){const u=F1(l,`Initialization of query '${Bc(e.query)}' failed`);return void e.onError(u)}r.queries.set(i,s),s.ta.push(e),e.sa(r.onlineState),s.ea&&e.oa(s.ea)&&$1(r)}async function M1(t,e){const r=Ot(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const l=s.ta.indexOf(e);l>=0&&(s.ta.splice(l,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function o7(t,e){const r=Ot(t);let n=!1;for(const i of e){const s=i.query,l=r.queries.get(s);if(l){for(const u of l.ta)u.oa(i)&&(n=!0);l.ea=i}}n&&$1(r)}function l7(t,e,r){const n=Ot(t),i=n.queries.get(e);if(i)for(const s of i.ta)s.onError(r);n.queries.delete(e)}function $1(t){t.ia.forEach((e=>{e.next()}))}var by,Q_;(Q_=by||(by={}))._a="default",Q_.Cache="cache";class V1{constructor(e,r,n){this.query=e,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new hu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ua?this.la(e)&&(this.aa.next(e),r=!0):this.ha(e,this.onlineState)&&(this.Pa(e),r=!0),this.ca=e,r}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),r=!0),r}ha(e,r){if(!e.fromCache||!this.ra())return!0;const n=r!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}la(e){if(e.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==by.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.key=e}}class e3{constructor(e){this.key=e}}class c7{constructor(e,r){this.query=e,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Gt(),this.mutatedKeys=Gt(),this.ya=gN(e),this.wa=new Zc(this.ya)}get Sa(){return this.fa}ba(e,r){const n=r?r.Da:new X_,i=r?r.wa:this.wa;let s=r?r.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const y=i.get(p),v=nm(this.query,g)?g:null,k=!!y&&this.mutatedKeys.has(y.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;y&&v?y.data.isEqual(v.data)?k!==w&&(n.track({type:3,doc:v}),E=!0):this.va(y,v)||(n.track({type:2,doc:v}),E=!0,(d&&this.ya(v,d)>0||h&&this.ya(v,h)<0)&&(u=!0)):!y&&v?(n.track({type:0,doc:v}),E=!0):y&&!v&&(n.track({type:1,doc:y}),E=!0,(d||h)&&(u=!0)),E&&(v?(l=l.add(v),s=w?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),n.track({type:1,doc:p})}return{wa:l,Da:n,ls:u,mutatedKeys:s}}va(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort(((p,g)=>(function(v,k){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kt()}};return w(v)-w(k)})(p.type,g.type)||this.ya(p.doc,g.doc))),this.Ca(n),i=i!=null&&i;const u=r&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,h=d!==this.ga;return this.ga=d,l.length!==0||h?{snapshot:new hu(this.query,e.wa,s,l,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new X_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((r=>this.fa=this.fa.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.fa=this.fa.delete(r))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Gt(),this.wa.forEach((n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))}));const r=[];return e.forEach((n=>{this.pa.has(n)||r.push(new e3(n))})),this.pa.forEach((n=>{e.has(n)||r.push(new ZN(n))})),r}Oa(e){this.fa=e.gs,this.pa=Gt();const r=this.ba(e.documents);return this.applyChanges(r,!0)}Na(){return hu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const B1="SyncEngine";class u7{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class d7{constructor(e){this.key=e,this.Ba=!1}}class h7{constructor(e,r,n,i,s,l){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Hl((u=>mN(u)),rm),this.qa=new Map,this.Qa=new Set,this.$a=new $r(bt.comparator),this.Ua=new Map,this.Ka=new N1,this.Wa={},this.Ga=new Map,this.za=du.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function f7(t,e,r=!0){const n=a3(t);let i;const s=n.ka.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await t3(n,e,r,!0),i}async function p7(t,e){const r=a3(t);await t3(r,e,!0,!1)}async function t3(t,e,r,n){const i=await D9(t.localStore,Js(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,r);let u;return n&&(u=await m7(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&r&&GN(t.remoteStore,i),u}async function m7(t,e,r,n,i){t.Ha=(g,y,v)=>(async function(w,E,O,M){let V=E.view.ba(O);V.ls&&(V=await z_(w.localStore,E.query,!1).then((({documents:A})=>E.view.ba(A,V))));const j=M&&M.targetChanges.get(E.targetId),X=M&&M.targetMismatches.get(E.targetId)!=null,U=E.view.applyChanges(V,w.isPrimaryClient,j,X);return Z_(w,E.targetId,U.Ma),U.snapshot})(t,g,y,v);const s=await z_(t.localStore,e,!0),l=new c7(e,s.gs),u=l.ba(s.documents),d=N0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),h=l.applyChanges(u,t.isPrimaryClient,d);Z_(t,r,h.Ma);const p=new u7(e,r,l);return t.ka.set(e,p),t.qa.has(r)?t.qa.get(r).push(e):t.qa.set(r,[e]),h.snapshot}async function g7(t,e,r){const n=Ot(t),i=n.ka.get(e),s=n.qa.get(i.targetId);if(s.length>1)return n.qa.set(i.targetId,s.filter((l=>!rm(l,e)))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await yy(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&j1(n.remoteStore,i.targetId),wy(n,i.targetId)})).catch(ku)):(wy(n,i.targetId),await yy(n.localStore,i.targetId,!0))}async function x7(t,e){const r=Ot(t),n=r.ka.get(e),i=r.qa.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),j1(r.remoteStore,n.targetId))}async function y7(t,e,r){const n=k7(t);try{const i=await(function(l,u){const d=Ot(l),h=gr.now(),p=u.reduce(((v,k)=>v.add(k.key)),Gt());let g,y;return d.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let k=Ma(),w=Gt();return d.ds.getEntries(v,p).next((E=>{k=E,k.forEach(((O,M)=>{M.isValidDocument()||(w=w.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(v,k))).next((E=>{g=E;const O=[];for(const M of u){const V=FD(M,g.get(M.key).overlayedDocument);V!=null&&O.push(new Xo(M.key,V,oN(V.value.mapValue),Rn.exists(!0)))}return d.mutationQueue.addMutationBatch(v,h,O,u)})).next((E=>{y=E;const O=E.applyToLocalDocumentSet(g,w);return d.documentOverlayCache.saveOverlays(v,E.batchId,O)}))})).then((()=>({batchId:y.batchId,changes:yN(g)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(l,u,d){let h=l.Wa[l.currentUser.toKey()];h||(h=new $r(Bt)),h=h.insert(u,d),l.Wa[l.currentUser.toKey()]=h})(n,i.batchId,r),await A0(n,i.changes),await um(n.remoteStore)}catch(i){const s=F1(i,"Failed to persist write");r.reject(s)}}async function r3(t,e){const r=Ot(t);try{const n=await j9(r.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=r.Ua.get(s);l&&(Zt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Zt(l.Ba):i.removedDocuments.size>0&&(Zt(l.Ba),l.Ba=!1))})),await A0(r,n,e)}catch(n){await ku(n)}}function J_(t,e,r){const n=Ot(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.ka.forEach(((s,l)=>{const u=l.view.sa(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const d=Ot(l);d.onlineState=u;let h=!1;d.queries.forEach(((p,g)=>{for(const y of g.ta)y.sa(u)&&(h=!0)})),h&&$1(d)})(n.eventManager,e),i.length&&n.La.p_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function v7(t,e,r){const n=Ot(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Ua.get(e),s=i&&i.key;if(s){let l=new $r(bt.comparator);l=l.insert(s,vn.newNoDocument(s,It.min()));const u=Gt().add(s),d=new om(It.min(),new Map,new $r(Bt),l,u);await r3(n,d),n.$a=n.$a.remove(s),n.Ua.delete(e),U1(n)}else await yy(n.localStore,e,!1).then((()=>wy(n,e,r))).catch(ku)}async function b7(t,e){const r=Ot(t),n=e.batch.batchId;try{const i=await I9(r.localStore,e);i3(r,n,null),n3(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await A0(r,i)}catch(i){await ku(i)}}async function w7(t,e,r){const n=Ot(t);try{const i=await(function(l,u){const d=Ot(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return d.mutationQueue.lookupMutationBatch(h,u).next((g=>(Zt(g!==null),p=g.keys(),d.mutationQueue.removeMutationBatch(h,g)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>d.localDocuments.getDocuments(h,p)))}))})(n.localStore,e);i3(n,e,r),n3(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await A0(n,i)}catch(i){await ku(i)}}function n3(t,e){(t.Ga.get(e)||[]).forEach((r=>{r.resolve()})),t.Ga.delete(e)}function i3(t,e,r){const n=Ot(t);let i=n.Wa[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Wa[n.currentUser.toKey()]=i}}function wy(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.qa.get(e))t.ka.delete(n),r&&t.La.Ja(n,r);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach((n=>{t.Ka.containsKey(n)||s3(t,n)}))}function s3(t,e){t.Qa.delete(e.path.canonicalString());const r=t.$a.get(e);r!==null&&(j1(t.remoteStore,r),t.$a=t.$a.remove(e),t.Ua.delete(r),U1(t))}function Z_(t,e,r){for(const n of r)n instanceof ZN?(t.Ka.addReference(n.key,e),_7(t,n)):n instanceof e3?(at(B1,"Document no longer in limbo: "+n.key),t.Ka.removeReference(n.key,e),t.Ka.containsKey(n.key)||s3(t,n.key)):kt()}function _7(t,e){const r=e.key,n=r.path.canonicalString();t.$a.get(r)||t.Qa.has(n)||(at(B1,"New document in limbo: "+r),t.Qa.add(n),U1(t))}function U1(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const r=new bt(wr.fromString(e)),n=t.za.next();t.Ua.set(n,new d7(r)),t.$a=t.$a.insert(r,n),GN(t.remoteStore,new To(Js(tm(r.path)),n,"TargetPurposeLimboResolution",Zp.ae))}}async function A0(t,e,r){const n=Ot(t),i=[],s=[],l=[];n.ka.isEmpty()||(n.ka.forEach(((u,d)=>{l.push(n.Ha(d,e,r).then((h=>{var p;if((h||r)&&n.isPrimaryClient){const g=h?!h.fromCache:(p=r?.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){i.push(h);const g=A1.Yi(d.targetId,h);s.push(g)}})))})),await Promise.all(l),n.La.p_(i),await(async function(d,h){const p=Ot(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Pe.forEach(h,(y=>Pe.forEach(y.Hi,(v=>p.persistence.referenceDelegate.addReference(g,y.targetId,v))).next((()=>Pe.forEach(y.Ji,(v=>p.persistence.referenceDelegate.removeReference(g,y.targetId,v)))))))))}catch(g){if(!Nu(g))throw g;at(C1,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const v=p.Ts.get(y),k=v.snapshotVersion,w=v.withLastLimboFreeSnapshotVersion(k);p.Ts=p.Ts.insert(y,w)}}})(n.localStore,s))}async function E7(t,e){const r=Ot(t);if(!r.currentUser.isEqual(e)){at(B1,"User change. New user:",e.toKey());const n=await HN(r.localStore,e);r.currentUser=e,(function(s,l){s.Ga.forEach((u=>{u.forEach((d=>{d.reject(new rt(je.CANCELLED,l))}))})),s.Ga.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await A0(r,n.Rs)}}function T7(t,e){const r=Ot(t),n=r.Ua.get(e);if(n&&n.Ba)return Gt().add(n.key);{let i=Gt();const s=r.qa.get(e);if(!s)return i;for(const l of s){const u=r.ka.get(l);i=i.unionWith(u.view.Sa)}return i}}function a3(t){const e=Ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=r3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v7.bind(null,e),e.La.p_=o7.bind(null,e.eventManager),e.La.Ja=l7.bind(null,e.eventManager),e}function k7(t){const e=Ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w7.bind(null,e),e}class ip{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,r){return null}nu(e,r){return null}eu(e){return C9(this.persistence,new N9,e.initialUser,this.serializer)}Xa(e){return new zN(S1.ri,this.serializer)}Za(e){return new F9}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ip.provider={build:()=>new ip};class N7 extends ip{constructor(e){super(),this.cacheSizeBytes=e}tu(e,r){Zt(this.persistence.referenceDelegate instanceof rp);const n=this.persistence.referenceDelegate.garbageCollector;return new d9(n,e.asyncQueue,r)}Xa(e){const r=this.cacheSizeBytes!==void 0?xi.withCacheSize(this.cacheSizeBytes):xi.DEFAULT;return new zN((n=>rp.ri(n,r)),this.serializer)}}class _y{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>J_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=E7.bind(null,this.syncEngine),await i7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new a7})()}createDatastore(e){const r=lm(e.databaseInfo.databaseId),n=(function(s){return new B9(s)})(e.databaseInfo);return(function(s,l,u,d){return new W9(s,l,u,d)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,s,l,u){return new G9(n,i,s,l,u)})(this.localStore,this.datastore,e.asyncQueue,(r=>J_(this.syncEngine,r,0)),(function(){return q_.D()?new q_:new L9})())}createSyncEngine(e,r){return(function(i,s,l,u,d,h,p){const g=new h7(i,s,l,u,d,h);return p&&(g.ja=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const s=Ot(i);at(jl,"RemoteStore shutting down."),s.W_.add(5),await S0(s),s.z_.shutdown(),s.j_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}_y.provider={build:()=>new _y};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):La("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new rt(je.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await(async function(i,s){const l=Ot(i),u={documents:s.map((g=>tp(l.serializer,g)))},d=await l.Co("BatchGetDocuments",l.serializer.databaseId,wr.emptyPath(),u,s.length),h=new Map;d.forEach((g=>{const y=KD(l.serializer,g);h.set(y.key.toString(),y)}));const p=[];return s.forEach((g=>{const y=h.get(g.toString());Zt(!!y),p.push(y)})),p})(this.datastore,e);return r.forEach((n=>this.recordVersion(n))),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new am(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((r=>{e.delete(r.key.toString())})),e.forEach(((r,n)=>{const i=bt.fromPath(n);this.mutations.push(new CN(i,this.precondition(i)))})),await(async function(n,i){const s=Ot(n),l={writes:i.map((u=>MN(s.serializer,u)))};await s.So("Commit",s.serializer.databaseId,wr.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw kt();r=It.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new rt(je.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(It.min())?Rn.exists(!1):Rn.updateTime(r):Rn.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(It.min()))throw new rt(je.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rn.updateTime(r)}return Rn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e,r,n,i,s){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=i,this.deferred=s,this.Tu=n.maxAttempts,this.a_=new I1(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo((async()=>{const e=new S7(this.datastore),r=this.du(e);r&&r.then((n=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(n)})).catch((i=>{this.Au(i)}))))})).catch((n=>{this.Au(n)}))}))}du(e){try{const r=this.updateFunction(e);return!T0(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Eu(),Promise.resolve())))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!IN(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="FirestoreClient";class C7{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=qn.UNAUTHENTICATED,this.clientId=Qk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async l=>{at($o,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(n,(l=>(at($o,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=F1(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Nx(t,e){t.asyncQueue.verifyOperationInProgress(),at($o,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await HN(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function e4(t,e){t.asyncQueue.verifyOperationInProgress();const r=await I7(t);at($o,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>K_(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>K_(e.remoteStore,i))),t._onlineComponents=e}async function I7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){at($o,"Using user provided OfflineComponentProvider");try{await Nx(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===je.FAILED_PRECONDITION||i.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;ou("Error using user provided cache. Falling back to memory cache: "+r),await Nx(t,new ip)}}else at($o,"Using default OfflineComponentProvider"),await Nx(t,new N7(void 0));return t._offlineComponents}async function H1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(at($o,"Using user provided OnlineComponentProvider"),await e4(t,t._uninitializedComponentsProvider._online)):(at($o,"Using default OnlineComponentProvider"),await e4(t,new _y))),t._onlineComponents}function j7(t){return H1(t).then((e=>e.syncEngine))}function P7(t){return H1(t).then((e=>e.datastore))}async function sp(t){const e=await H1(t),r=e.eventManager;return r.onListen=f7.bind(null,e.syncEngine),r.onUnlisten=g7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=p7.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=x7.bind(null,e.syncEngine),r}function R7(t,e,r={}){const n=new Qs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,h){const p=new z1({next:y=>{p.su(),l.enqueueAndForget((()=>M1(s,g)));const v=y.docs.has(u);!v&&y.fromCache?h.reject(new rt(je.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&d&&d.source==="server"?h.reject(new rt(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new V1(tm(u.path),p,{includeMetadataChanges:!0,Ta:!0});return L1(s,g)})(await sp(t),t.asyncQueue,e,r,n))),n.promise}function D7(t,e,r={}){const n=new Qs;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,u,d,h){const p=new z1({next:y=>{p.su(),l.enqueueAndForget((()=>M1(s,g))),y.fromCache&&d.source==="server"?h.reject(new rt(je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new V1(u,p,{includeMetadataChanges:!0,Ta:!0});return L1(s,g)})(await sp(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(t,e,r){if(!r)throw new rt(je.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O7(t,e,r,n){if(e===!0&&n===!0)throw new rt(je.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function r4(t){if(!bt.isDocumentKey(t))throw new rt(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function n4(t){if(bt.isDocumentKey(t))throw new rt(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":kt()}function ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new rt(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=dm(t);throw new rt(je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function F7(t,e){if(e<=0)throw new rt(je.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="firestore.googleapis.com",i4=!0;class s4{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new rt(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=c3,this.ssl=i4}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:i4;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c9)throw new rt(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o3((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt(je.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt(je.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt(je.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hm{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new z8;switch(n.type){case"firstParty":return new G8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new rt(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=t4.get(r);n&&(at("ComponentProvider","Removing Datastore"),t4.delete(r),n.terminate())})(this),Promise.resolve()}}function L7(t,e,r,n={}){var i;const s=(t=ai(t,hm))._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${r}`;s.host!==c3&&s.host!==u&&ou("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},s),{host:u,ssl:!1,emulatorOptions:n});if(!Ro(d,l)&&(t._setSettings(d),n.mockUserToken)){let h,p;if(typeof n.mockUserToken=="string")h=n.mockUserToken,p=qn.MOCK_USER;else{h=dk(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const g=n.mockUserToken.sub||n.mockUserToken.user_id;if(!g)throw new rt(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new qn(g)}t._authCredentials=new H8(new Xk(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ha(this.firestore,e,this._query)}}class Fn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fn(this.firestore,e,this._key)}}class jo extends Ha{constructor(e,r,n){super(e,r,tm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fn(this.firestore,null,new bt(e))}withConverter(e){return new jo(this.firestore,e,this._path)}}function Lt(t,e,...r){if(t=Tr(t),l3("collection","path",e),t instanceof hm){const n=wr.fromString(e,...r);return n4(n),new jo(t,null,n)}{if(!(t instanceof Fn||t instanceof jo))throw new rt(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wr.fromString(e,...r));return n4(n),new jo(t.firestore,null,n)}}function _t(t,e,...r){if(t=Tr(t),arguments.length===1&&(e=Qk.newId()),l3("doc","path",e),t instanceof hm){const n=wr.fromString(e,...r);return r4(n),new Fn(t,null,new bt(n))}{if(!(t instanceof Fn||t instanceof jo))throw new rt(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wr.fromString(e,...r));return r4(n),new Fn(t.firestore,t instanceof jo?t.converter:null,new bt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="AsyncQueue";class o4{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new I1(this,"async_queue_retry"),this.Su=()=>{const n=kx();n&&at(a4,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const r=kx();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const r=kx();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const r=new Qs;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Nu(e))throw e;at(a4,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const r=this.bu.then((()=>(this.pu=!0,e().catch((n=>{this.gu=n,this.pu=!1;const i=(function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u})(n);throw La("INTERNAL UNHANDLED ERROR: ",i),n})).then((n=>(this.pu=!1,n))))));return this.bu=r,r}enqueueAfterDelay(e,r,n){this.Du(),this.wu.indexOf(e)>-1&&(r=0);const i=O1.createAndSchedule(this,e,r,n,(s=>this.Fu(s)));return this.fu.push(i),i}Du(){this.gu&&kt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const r of this.fu)if(r.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.fu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const r=this.fu.indexOf(e);this.fu.splice(r,1)}}function l4(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class sa extends hm{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new o4,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new o4(e),this._firestoreClient=void 0,await e}}}function M7(t,e){const r=typeof t=="object"?t:Yp(),n=typeof t=="string"?t:Yf,i=Go(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=lk("firestore");s&&L7(i,...s)}return i}function C0(t){if(t._terminated)throw new rt(je.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$7(t),t._firestoreClient}function $7(t){var e,r,n;const i=t._freezeSettings(),s=(function(u,d,h,p){return new lD(u,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,o3(p.experimentalLongPollingOptions),p.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new C7(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&(function(u){const d=u?._online.build();return{_offline:u?._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pl(Mn.fromBase64String(e))}catch(r){throw new rt(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Pl(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new rt(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new rt(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new rt(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7=/^__.*__$/;class B7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Xo(e,this.data,this.fieldMask,r,this.fieldTransforms):new k0(e,this.data,r,this.fieldTransforms)}}class u3{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Xo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function d3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kt()}}class G1{constructor(e,r,n,i,s,l){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new G1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ku({path:n,Qu:!1});return i.$u(e),i}Uu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.ku({path:n,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ap(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(d3(this.Lu)&&V7.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class U7{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||lm(e)}ju(e,r,n,i=!1){return new G1({Lu:e,methodName:r,zu:n,path:Pn.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function P0(t){const e=t._freezeSettings(),r=lm(t._databaseId);return new U7(t._databaseId,!!e.ignoreUndefinedProperties,r)}function K1(t,e,r,n,i,s={}){const l=t.ju(s.merge||s.mergeFields?2:0,e,r,i);Q1("Data must be an object, but it was:",l,n);const u=p3(n,l);let d,h;if(s.merge)d=new Mi(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const y=Ey(e,g,r);if(!l.contains(y))throw new rt(je.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);g3(p,y)||p.push(y)}d=new Mi(p),h=l.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,h=l.fieldTransforms;return new B7(new ii(u),d,h)}class fm extends j0{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fm}}class X1 extends j0{_toFieldTransform(e){return new NN(e.path,new e0)}isEqual(e){return e instanceof X1}}class Y1 extends j0{constructor(e,r){super(e),this.Ju=r}_toFieldTransform(e){const r=new n0(e.serializer,wN(e.serializer,this.Ju));return new NN(e.path,r)}isEqual(e){return e instanceof Y1&&this.Ju===e.Ju}}function h3(t,e,r,n){const i=t.ju(1,e,r);Q1("Data must be an object, but it was:",i,n);const s=[],l=ii.empty();Ko(n,((d,h)=>{const p=J1(e,d,r);h=Tr(h);const g=i.Uu(p);if(h instanceof fm)s.push(p);else{const y=R0(h,g);y!=null&&(s.push(p),l.set(p,y))}}));const u=new Mi(s);return new u3(l,u,i.fieldTransforms)}function f3(t,e,r,n,i,s){const l=t.ju(1,e,r),u=[Ey(e,n,r)],d=[i];if(s.length%2!=0)throw new rt(je.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)u.push(Ey(e,s[y])),d.push(s[y+1]);const h=[],p=ii.empty();for(let y=u.length-1;y>=0;--y)if(!g3(h,u[y])){const v=u[y];let k=d[y];k=Tr(k);const w=l.Uu(v);if(k instanceof fm)h.push(v);else{const E=R0(k,w);E!=null&&(h.push(v),p.set(v,E))}}const g=new Mi(h);return new u3(p,g,l.fieldTransforms)}function z7(t,e,r,n=!1){return R0(r,t.ju(n?4:3,e))}function R0(t,e){if(m3(t=Tr(t)))return Q1("Unsupported field value:",e,t),p3(t,e);if(t instanceof j0)return(function(n,i){if(!d3(i.Lu))throw i.Wu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return(function(n,i){const s=[];let l=0;for(const u of n){let d=R0(u,i.Ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}})(t,e)}return(function(n,i){if((n=Tr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return wN(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=gr.fromDate(n);return{timestampValue:ep(i.serializer,s)}}if(n instanceof gr){const s=new gr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ep(i.serializer,s)}}if(n instanceof W1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Pl)return{bytesValue:DN(i.serializer,n._byteString)};if(n instanceof Fn){const s=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(s))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:k1(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof q1)return(function(l,u){return{mapValue:{fields:{[sN]:{stringValue:aN},[Qf]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return _1(u.serializer,h)}))}}}}}})(n,i);throw i.Wu(`Unsupported field value: ${dm(n)}`)})(t,e)}function p3(t,e){const r={};return Zk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ko(t,((n,i)=>{const s=R0(i,e.qu(n));s!=null&&(r[n]=s)})),{mapValue:{fields:r}}}function m3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gr||t instanceof W1||t instanceof Pl||t instanceof Fn||t instanceof j0||t instanceof q1)}function Q1(t,e,r){if(!m3(r)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(r)){const n=dm(r);throw n==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+n)}}function Ey(t,e,r){if((e=Tr(e))instanceof I0)return e._internalPath;if(typeof e=="string")return J1(t,e);throw ap("Field path arguments must be of type string or ",t,!1,void 0,r)}const H7=new RegExp("[~\\*/\\[\\]]");function J1(t,e,r){if(e.search(H7)>=0)throw ap(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new I0(...e.split("."))._internalPath}catch{throw ap(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function ap(t,e,r,n,i){const s=n&&!n.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${n}`),l&&(d+=` in document ${i}`),d+=")"),new rt(je.INVALID_ARGUMENT,u+t+d)}function g3(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(pm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class W7 extends op{data(){return super.data()}}function pm(t,e){return typeof e=="string"?J1(t,e):e instanceof I0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new rt(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Z1{}class ev extends Z1{}function Er(t,e,...r){let n=[];e instanceof Z1&&n.push(e),n=n.concat(r),(function(s){const l=s.filter((d=>d instanceof tv)).length,u=s.filter((d=>d instanceof mm)).length;if(l>1||l>0&&u>0)throw new rt(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class mm extends ev{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new mm(e,r,n)}_apply(e){const r=this._parse(e);return y3(e._query,r),new Ha(e.firestore,e.converter,py(e._query,r))}_parse(e){const r=P0(e.firestore);return(function(s,l,u,d,h,p,g){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new rt(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){u4(g,p);const k=[];for(const w of g)k.push(c4(d,s,w));y={arrayValue:{values:k}}}else y=c4(d,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||u4(g,p),y=z7(u,l,g,p==="in"||p==="not-in");return an.create(h,p,y)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Or(t,e,r){const n=e,i=pm("where",t);return mm._create(i,n,r)}class tv extends Z1{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new tv(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Ps.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,s){let l=i;const u=s.getFlattenedFilters();for(const d of u)y3(l,d),l=py(l,d)})(e._query,r),new Ha(e.firestore,e.converter,py(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rv extends ev{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new rv(e,r)}_apply(e){const r=(function(i,s,l){if(i.startAt!==null)throw new rt(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new rt(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zd(s,l)})(e._query,this._field,this._direction);return new Ha(e.firestore,e.converter,(function(i,s){const l=i.explicitOrderBy.concat([s]);return new Su(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function nv(t,e="asc"){const r=e,n=pm("orderBy",t);return rv._create(n,r)}class iv extends ev{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new iv(e,r,n)}_apply(e){return new Ha(e.firestore,e.converter,Zf(e._query,this._limit,this._limitType))}}function q7(t){return F7("limit",t),iv._create("limit",t,"F")}function c4(t,e,r){if(typeof(r=Tr(r))=="string"){if(r==="")throw new rt(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pN(e)&&r.indexOf("/")!==-1)throw new rt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(wr.fromString(r));if(!bt.isDocumentKey(n))throw new rt(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return T_(t,new bt(n))}if(r instanceof Fn)return T_(t,r._key);throw new rt(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dm(r)}.`)}function u4(t,e){if(!Array.isArray(t)||t.length===0)throw new rt(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function y3(t,e){const r=(function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new rt(je.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(je.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class v3{convertValue(e,r="none"){switch(Lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw kt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Ko(e,((i,s)=>{n[i]=this.convertValue(s,r)})),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[Qf].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((l=>Zr(l.doubleValue)));return new q1(s)}convertGeoPoint(e){return new W1(Zr(e.latitude),Zr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=em(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Yd(e));default:return null}}convertTimestamp(e){const r=Oo(e);return new gr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=wr.fromString(e);Zt(BN(n));const i=new Qd(n.get(1),n.get(3)),s=new bt(n.popFirst(5));return i.isEqual(r)||La(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class G7 extends v3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class av extends op{constructor(e,r,n,i,s,l){super(e,r,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(pm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Of extends av{data(e={}){return super.data(e)}}class b3{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Wc(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new Of(this._firestore,this._userDataWriter,n.key,n,new Wc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new rt(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const d=new Of(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Wc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const d=new Of(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Wc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:K7(u.type),doc:d,oldIndex:h,newIndex:p}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function K7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t){t=ai(t,Fn);const e=ai(t.firestore,sa);return R7(C0(e),t._key).then((r=>w3(e,t,r)))}class gm extends v3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,r)}}function Gn(t){t=ai(t,Ha);const e=ai(t.firestore,sa),r=C0(e),n=new gm(e);return x3(t._query),D7(r,t._query).then((i=>new b3(e,n,t,i)))}function aa(t,e,r){t=ai(t,Fn);const n=ai(t.firestore,sa),i=sv(t.converter,e,r);return xm(n,[K1(P0(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Rn.none())])}function qr(t,e,r,...n){t=ai(t,Fn);const i=ai(t.firestore,sa),s=P0(i);let l;return l=typeof(e=Tr(e))=="string"||e instanceof I0?f3(s,"updateDoc",t._key,e,r,n):h3(s,"updateDoc",t._key,e),xm(i,[l.toMutation(t._key,Rn.exists(!0))])}function ko(t){return xm(ai(t.firestore,sa),[new am(t._key,Rn.none())])}function Po(t,e){const r=ai(t.firestore,sa),n=_t(t),i=sv(t.converter,e);return xm(r,[K1(P0(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Rn.exists(!1))]).then((()=>n))}function br(t,...e){var r,n,i;t=Tr(t);let s={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||l4(e[l])||(s=e[l],l++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(l4(e[l])){const g=e[l];e[l]=(r=g.next)===null||r===void 0?void 0:r.bind(g),e[l+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),e[l+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let d,h,p;if(t instanceof Fn)h=ai(t.firestore,sa),p=tm(t._key.path),d={next:g=>{e[l]&&e[l](w3(h,t,g))},error:e[l+1],complete:e[l+2]};else{const g=ai(t,Ha);h=ai(g.firestore,sa),p=g._query;const y=new gm(h);d={next:v=>{e[l]&&e[l](new b3(h,y,g,v))},error:e[l+1],complete:e[l+2]},x3(t._query)}return(function(y,v,k,w){const E=new z1(w),O=new V1(v,E,k);return y.asyncQueue.enqueueAndForget((async()=>L1(await sp(y),O))),()=>{E.su(),y.asyncQueue.enqueueAndForget((async()=>M1(await sp(y),O)))}})(C0(h),p,u,d)}function xm(t,e){return(function(n,i){const s=new Qs;return n.asyncQueue.enqueueAndForget((async()=>y7(await j7(n),i,s))),s.promise})(C0(t),e)}function w3(t,e,r){const n=r.docs.get(e._key),i=new gm(t);return new av(t,i,e._key,n,new Wc(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7={maxAttempts:5};function kd(t,e){if((t=Tr(t)).firestore!==e)throw new rt(je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=P0(e)}get(e){const r=kd(e,this._firestore),n=new G7(this._firestore);return this._transaction.lookup([r._key]).then((i=>{if(!i||i.length!==1)return kt();const s=i[0];if(s.isFoundDocument())return new op(this._firestore,n,s.key,s,r.converter);if(s.isNoDocument())return new op(this._firestore,n,r._key,null,r.converter);throw kt()}))}set(e,r,n){const i=kd(e,this._firestore),s=sv(i.converter,r,n),l=K1(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,n);return this._transaction.set(i._key,l),this}update(e,r,n,...i){const s=kd(e,this._firestore);let l;return l=typeof(r=Tr(r))=="string"||r instanceof I0?f3(this._dataReader,"Transaction.update",s._key,r,n,i):h3(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,l),this}delete(e){const r=kd(e,this._firestore);return this._transaction.delete(r._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7 extends Y7{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=kd(e,this._firestore),n=new gm(this._firestore);return super.get(e).then((i=>new av(this._firestore,n,r._key,i._document,new Wc(!1,!1),r.converter)))}}function $J(t,e,r){t=ai(t,sa);const n=Object.assign(Object.assign({},X7),r);return(function(s){if(s.maxAttempts<1)throw new rt(je.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n),(function(s,l,u){const d=new Qs;return s.asyncQueue.enqueueAndForget((async()=>{const h=await P7(s);new A7(s.asyncQueue,h,u,l,d).Iu()})),d.promise})(C0(t),(i=>e(new Q7(t,i))),n)}function Fr(){return new X1("serverTimestamp")}function J7(t){return new Y1("increment",t)}(function(e,r=!0){(function(i){Tu=i})(zl),js(new as("firestore",((n,{instanceIdentifier:i,options:s})=>{const l=n.getProvider("app").getImmediate(),u=new sa(new W8(n.getProvider("auth-internal")),new K8(l,n.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new rt(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qd(h.options.projectId,p)})(l,i),l);return s=Object.assign({useFetchStreams:r},s),u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),bi(h_,f_,e),bi(h_,f_,"esm2017")})();function ov(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function _3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z7=_3,E3=new Ul("auth","Firebase",_3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=new Xp("@firebase/auth");function eO(t,...e){lp.logLevel<=qt.WARN&&lp.warn(`Auth (${zl}): ${t}`,...e)}function Ff(t,...e){lp.logLevel<=qt.ERROR&&lp.error(`Auth (${zl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,...e){throw lv(t,...e)}function Zs(t,...e){return lv(t,...e)}function T3(t,e,r){const n=Object.assign(Object.assign({},Z7()),{[e]:r});return new Ul("auth","Firebase",n).create(e,{appName:t.name})}function Aa(t){return T3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lv(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return E3.create(t,...e)}function jt(t,e,...r){if(!t)throw lv(e,...r)}function ka(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ff(e),new Error(e)}function $a(t,e){t||ka(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tO(){return d4()==="http:"||d4()==="https:"}function d4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tO()||hk()||"connection"in navigator)?navigator.onLine:!0}function nO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,r){this.shortDelay=e,this.longDelay=r,$a(r>e,"Short delay should be less than long delay!"),this.isMobile=Qj()||eP()}get(){return rO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t,e){$a(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ka("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ka("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ka("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aO=new D0(3e4,6e4);function Wa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fs(t,e,r,n,i={}){return N3(t,i,async()=>{let s={},l={};n&&(e==="GET"?l=n:s={body:JSON.stringify(n)});const u=E0(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},s);return Zj()||(h.referrerPolicy="no-referrer"),k3.fetch()(await S3(t,t.config.apiHost,r,u),h)})}async function N3(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},iO),e);try{const i=new lO(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw ff(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw ff(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw ff(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw ff(t,"user-disabled",l);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw T3(t,p,h);Rs(t,p)}}catch(i){if(i instanceof os)throw i;Rs(t,"network-request-failed",{message:String(i)})}}async function O0(t,e,r,n,i={}){const s=await Fs(t,e,r,n,i);return"mfaPendingCredential"in s&&Rs(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function S3(t,e,r,n){const i=`${e}${r}?${n}`,s=t,l=s.config.emulator?cv(t.config,i):`${t.config.apiScheme}://${i}`;return sO.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}function oO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Zs(this.auth,"network-request-failed")),aO.get())})}}function ff(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Zs(t,e,n);return i.customData._tokenResponse=r,i}function h4(t){return t!==void 0&&t.enterprise!==void 0}class cO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return oO(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uO(t,e){return Fs(t,"GET","/v2/recaptchaConfig",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(t,e){return Fs(t,"POST","/v1/accounts:delete",e)}async function cp(t,e){return Fs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hO(t,e=!1){const r=Tr(t),n=await r.getIdToken(e),i=uv(n);jt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:n,authTime:Od(Sx(i.auth_time)),issuedAtTime:Od(Sx(i.iat)),expirationTime:Od(Sx(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Sx(t){return Number(t)*1e3}function uv(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Ff("JWT malformed, contained fewer than 3 sections"),null;try{const i=ak(r);return i?JSON.parse(i):(Ff("Failed to decode base64 JWT payload"),null)}catch(i){return Ff("Caught error parsing JWT payload as JSON",i?.toString()),null}}function f4(t){const e=uv(t);return jt(e,"internal-error"),jt(typeof e.exp<"u","internal-error"),jt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof os&&fO(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function fO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Od(this.lastLoginAt),this.creationTime=Od(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function up(t){var e;const r=t.auth,n=await t.getIdToken(),i=await Rl(t,cp(r,{idToken:n}));jt(i?.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?A3(s.providerUserInfo):[],u=gO(t.providerData,l),d=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!u?.length,p=d?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new ky(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function mO(t){const e=Tr(t);await up(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gO(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function A3(t){return t.map(e=>{var{providerId:r}=e,n=ov(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(t,e){const r=await N3(t,{},async()=>{const n=E0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await S3(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",k3.fetch()(l,{method:"POST",headers:u,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function yO(t,e){return Fs(t,"POST","/v2/accounts:revokeToken",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){jt(e.idToken,"internal-error"),jt(typeof e.idToken<"u","internal-error"),jt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){jt(e.length!==0,"internal-error");const r=f4(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(jt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await xO(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,l=new eu;return n&&(jt(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(jt(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(jt(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eu,this.toJSON())}_performRefresh(){return ka("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(t,e){jt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ks{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=ov(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ky(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await Rl(this,this.stsTokenManager.getToken(this.auth,e));return jt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return hO(this,e)}reload(){return mO(this)}_assign(e){this!==e&&(jt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ks(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await up(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Li(this.auth.app))return Promise.reject(Aa(this.auth));const e=await this.getIdToken();return await Rl(this,dO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,l,u,d,h,p;const g=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(i=r.email)!==null&&i!==void 0?i:void 0,v=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,k=(l=r.photoURL)!==null&&l!==void 0?l:void 0,w=(u=r.tenantId)!==null&&u!==void 0?u:void 0,E=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,O=(h=r.createdAt)!==null&&h!==void 0?h:void 0,M=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:V,emailVerified:j,isAnonymous:X,providerData:U,stsTokenManager:A}=r;jt(V&&A,e,"internal-error");const S=eu.fromJSON(this.name,A);jt(typeof V=="string",e,"internal-error"),xo(g,e.name),xo(y,e.name),jt(typeof j=="boolean",e,"internal-error"),jt(typeof X=="boolean",e,"internal-error"),xo(v,e.name),xo(k,e.name),xo(w,e.name),xo(E,e.name),xo(O,e.name),xo(M,e.name);const C=new ks({uid:V,auth:e,email:y,emailVerified:j,displayName:g,isAnonymous:X,photoURL:k,phoneNumber:v,tenantId:w,stsTokenManager:S,createdAt:O,lastLoginAt:M});return U&&Array.isArray(U)&&(C.providerData=U.map(P=>Object.assign({},P))),E&&(C._redirectEventId=E),C}static async _fromIdTokenResponse(e,r,n=!1){const i=new eu;i.updateFromServerResponse(r);const s=new ks({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await up(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];jt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?A3(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!s?.length,u=new eu;u.updateFromIdToken(n);const d=new ks({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ky(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=new Map;function Na(t){$a(t instanceof Function,"Expected a class definition");let e=p4.get(t);return e?($a(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,p4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}C3.type="NONE";const m4=C3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t,e,r){return`firebase:${t}:${e}:${r}`}class tu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Lf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Lf("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await cp(this.auth,{idToken:e}).catch(()=>{});return r?ks._fromGetAccountInfoResponse(this.auth,r,e):null}return ks._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new tu(Na(m4),e,n);const i=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Na(m4);const l=Lf(n,e.config.apiKey,e.name);let u=null;for(const h of r)try{const p=await h._get(l);if(p){let g;if(typeof p=="string"){const y=await cp(e,{idToken:p}).catch(()=>{});if(!y)break;g=await ks._fromGetAccountInfoResponse(e,y,p)}else g=ks._fromJSON(e,p);h!==s&&(u=g),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new tu(s,e,n):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(r.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new tu(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(I3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O3(e))return"Blackberry";if(F3(e))return"Webos";if(j3(e))return"Safari";if((e.includes("chrome/")||P3(e))&&!e.includes("edge/"))return"Chrome";if(D3(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function I3(t=Qn()){return/firefox\//i.test(t)}function j3(t=Qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P3(t=Qn()){return/crios\//i.test(t)}function R3(t=Qn()){return/iemobile/i.test(t)}function D3(t=Qn()){return/android/i.test(t)}function O3(t=Qn()){return/blackberry/i.test(t)}function F3(t=Qn()){return/webos/i.test(t)}function dv(t=Qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vO(t=Qn()){var e;return dv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bO(){return tP()&&document.documentMode===10}function L3(t=Qn()){return dv(t)||D3(t)||F3(t)||O3(t)||/windows phone/i.test(t)||R3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(t,e=[]){let r;switch(t){case"Browser":r=g4(Qn());break;case"Worker":r=`${g4(Qn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${zl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t,e={}){return Fs(t,"GET","/v2/passwordPolicy",Wa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=6;class TO{constructor(e){var r,n,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=l.minPasswordLength)!==null&&r!==void 0?r:EO,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x4(this),this.idTokenSubscription=new x4(this),this.beforeStateQueue=new wO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Na(r)),this._initializationPromise=this.queue(async()=>{var n,i,s;if(!this._deleted&&(this.persistenceManager=await tu.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await cp(this,{idToken:e}),n=await ks._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Li(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await up(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Li(this.app))return Promise.reject(Aa(this));const r=e?Tr(e):null;return r&&jt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&jt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Li(this.app)?Promise.reject(Aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Li(this.app)?Promise.reject(Aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Na(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _O(this),r=new TO(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ul("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await yO(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Na(e)||this._popupRedirectResolver;jt(r,this,"argument-error"),this.redirectPersistenceManager=await tu.create(this,[Na(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(jt(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,i);return()=>{l=!0,d()}}else{const d=e.addObserver(r);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(Li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&eO(`Error while retrieving App Check token: ${r.error}`),r?.token}}function Yo(t){return Tr(t)}class x4{constructor(e){this.auth=e,this.observer=null,this.addObserver=lP(r=>this.observer=r)}get next(){return jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NO(t){ym=t}function $3(t){return ym.loadJS(t)}function SO(){return ym.recaptchaEnterpriseScript}function AO(){return ym.gapiScript}function CO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class IO{constructor(){this.enterprise=new jO}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class jO{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const PO="recaptcha-enterprise",V3="NO_RECAPTCHA";class RO{constructor(e){this.type=PO,this.auth=Yo(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{uO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new cO(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function i(s,l,u){const d=window.grecaptcha;h4(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(V3)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IO().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{n(this.auth).then(u=>{if(!r&&h4(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=SO();d.length!==0&&(d+=u),$3(d).then(()=>{i(u,s,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function y4(t,e,r,n=!1,i=!1){const s=new RO(t);let l;if(i)l=V3;else try{l=await s.verify(r)}catch{l=await s.verify(r,!0)}const u=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return n?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function dp(t,e,r,n,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await y4(t,e,r,r==="getOobCode");return n(t,l)}else return n(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await y4(t,e,r,r==="getOobCode");return n(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t,e){const r=Go(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Ro(s,e??{}))return i;Rs(i,"already-initialized")}return r.initialize({options:e})}function OO(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Na);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function FO(t,e,r){const n=Yo(t);jt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=B3(e),{host:l,port:u}=LO(e),d=u===null?"":`:${u}`,h={url:`${s}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){jt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),jt(Ro(h,n.config.emulator)&&Ro(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,MO()}function B3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LO(t){const e=B3(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:v4(n.substr(s.length+1))}}else{const[s,l]=n.split(":");return{host:s,port:v4(l)}}}function v4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function MO(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ka("not implemented")}_getIdTokenResponse(e){return ka("not implemented")}_linkToIdToken(e,r){return ka("not implemented")}_getReauthenticationResolver(e){return ka("not implemented")}}async function $O(t,e){return Fs(t,"POST","/v1/accounts:update",e)}async function VO(t,e){return Fs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(t,e){return O0(t,"POST","/v1/accounts:signInWithPassword",Wa(t,e))}async function UO(t,e){return Fs(t,"POST","/v1/accounts:sendOobCode",Wa(t,e))}async function zO(t,e){return UO(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(t,e){return O0(t,"POST","/v1/accounts:signInWithEmailLink",Wa(t,e))}async function WO(t,e){return O0(t,"POST","/v1/accounts:signInWithEmailLink",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0 extends hv{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new i0(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new i0(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dp(e,r,"signInWithPassword",BO);case"emailLink":return HO(e,{email:this._email,oobCode:this._password});default:Rs(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dp(e,n,"signUpPassword",VO);case"emailLink":return WO(e,{idToken:r,email:this._email,oobCode:this._password});default:Rs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(t,e){return O0(t,"POST","/v1/accounts:signInWithIdp",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="http://localhost";class Dl extends hv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Dl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Rs("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=ov(r,["providerId","signInMethod"]);if(!n||!i)return null;const l=new Dl(n,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const r=this.buildRequest();return ru(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,ru(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,ru(e,r)}buildRequest(){const e={requestUri:qO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=E0(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KO(t){const e=bd(wd(t)).link,r=e?bd(wd(e)).deep_link_id:null,n=bd(wd(t)).deep_link_id;return(n?bd(wd(n)).link:null)||n||r||e||t}class fv{constructor(e){var r,n,i,s,l,u;const d=bd(wd(e)),h=(r=d.apiKey)!==null&&r!==void 0?r:null,p=(n=d.oobCode)!==null&&n!==void 0?n:null,g=GO((i=d.mode)!==null&&i!==void 0?i:null);jt(h&&p&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=p,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=KO(e);try{return new fv(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(){this.providerId=Cu.PROVIDER_ID}static credential(e,r){return i0._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=fv.parseLink(r);return jt(n,"argument-error"),i0._fromEmailAndCode(e,n.code,n.tenantId)}}Cu.PROVIDER_ID="password";Cu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0 extends U3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends F0{constructor(){super("facebook.com")}static credential(e){return Dl._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bo.credential(e.oauthAccessToken)}catch{return null}}}bo.FACEBOOK_SIGN_IN_METHOD="facebook.com";bo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends F0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Dl._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return wo.credential(r,n)}catch{return null}}}wo.GOOGLE_SIGN_IN_METHOD="google.com";wo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends F0{constructor(){super("github.com")}static credential(e){return Dl._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _o.credential(e.oauthAccessToken)}catch{return null}}}_o.GITHUB_SIGN_IN_METHOD="github.com";_o.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends F0{constructor(){super("twitter.com")}static credential(e,r){return Dl._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Eo.credential(r,n)}catch{return null}}}Eo.TWITTER_SIGN_IN_METHOD="twitter.com";Eo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(t,e){return O0(t,"POST","/v1/accounts:signUp",Wa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await ks._fromIdTokenResponse(e,n,i),l=b4(n);return new Ol({user:s,providerId:l,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=b4(n);return new Ol({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function b4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends os{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,hp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new hp(e,r,n,i)}}function z3(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hp._fromErrorAndOperation(t,s,e,n):s})}async function YO(t,e,r=!1){const n=await Rl(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ol._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(t,e,r=!1){const{auth:n}=t;if(Li(n.app))return Promise.reject(Aa(n));const i="reauthenticate";try{const s=await Rl(t,z3(n,i,e,t),r);jt(s.idToken,n,"internal-error");const l=uv(s.idToken);jt(l,n,"internal-error");const{sub:u}=l;return jt(t.uid===u,n,"user-mismatch"),Ol._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Rs(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(t,e,r=!1){if(Li(t.app))return Promise.reject(Aa(t));const n="signIn",i=await z3(t,n,e),s=await Ol._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function JO(t,e){return H3(Yo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W3(t){const e=Yo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZO(t,e,r){const n=Yo(t);await dp(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",zO)}async function eF(t,e,r){if(Li(t.app))return Promise.reject(Aa(t));const n=Yo(t),l=await dp(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XO).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&W3(t),d}),u=await Ol._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(u.user),u}function tF(t,e,r){return Li(t.app)?Promise.reject(Aa(t)):JO(Tr(t),Cu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&W3(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(t,e){return Fs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Tr(t),s={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},l=await Rl(n,rF(n.auth,s));n.displayName=l.displayName||null,n.photoURL=l.photoUrl||null;const u=n.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=n.displayName,u.photoURL=n.photoURL),await n._updateTokensIfNecessary(l)}function pv(t,e){return iF(Tr(t),null,e)}async function iF(t,e,r){const{auth:n}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(s.password=r);const l=await Rl(t,$O(n,s));await t._updateTokensIfNecessary(l,!0)}function sF(t,e,r,n){return Tr(t).onIdTokenChanged(e,r,n)}function aF(t,e,r){return Tr(t).beforeAuthStateChanged(e,r)}function ql(t,e,r,n){return Tr(t).onAuthStateChanged(e,r,n)}function L0(t){return Tr(t).signOut()}const fp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(fp,"1"),this.storage.removeItem(fp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=1e3,lF=10;class G3 extends q3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=L3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!r&&this.localCache[n]===l||this.notifyListeners(n,l)},s=this.storage.getItem(n);bO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,lF):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},oF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}G3.type="LOCAL";const cF=G3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3 extends q3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}K3.type="SESSION";const X3=K3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new vm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,l=this.handlersMap[i];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(l).map(async h=>h(r.origin,s)),d=await uF(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const h=mv("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(y.data.response);break;default:clearTimeout(p),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(){return window}function hF(t){ea().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(){return typeof ea().WorkerGlobalScope<"u"&&typeof ea().importScripts=="function"}async function fF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mF(){return Y3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="firebaseLocalStorageDb",gF=1,pp="firebaseLocalStorage",J3="fbase_key";class M0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function bm(t,e){return t.transaction([pp],e?"readwrite":"readonly").objectStore(pp)}function xF(){const t=indexedDB.deleteDatabase(Q3);return new M0(t).toPromise()}function Ny(){const t=indexedDB.open(Q3,gF);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(pp,{keyPath:J3})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(pp)?e(n):(n.close(),await xF(),e(await Ny()))})})}async function w4(t,e,r){const n=bm(t,!0).put({[J3]:e,value:r});return new M0(n).toPromise()}async function yF(t,e){const r=bm(t,!1).get(e),n=await new M0(r).toPromise();return n===void 0?null:n.value}function _4(t,e){const r=bm(t,!0).delete(e);return new M0(r).toPromise()}const vF=800,bF=3;class Z3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ny(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>bF)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vm._getInstance(mF()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await fF(),!this.activeServiceWorker)return;this.sender=new dF(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ny();return await w4(e,fp,"1"),await _4(e,fp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>w4(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>yF(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>_4(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=bm(i,!1).getAll();return new M0(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z3.type="LOCAL";const wF=Z3;new D0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t,e){return e?Na(e):(jt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends hv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ru(e,this._buildIdpRequest())}_linkToIdToken(e,r){return ru(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return ru(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function EF(t){return H3(t.auth,new gv(t),t.bypassAuthState)}function TF(t){const{auth:e,user:r}=t;return jt(r,e,"internal-error"),QO(r,new gv(t),t.bypassAuthState)}async function kF(t){const{auth:e,user:r}=t;return jt(r,e,"internal-error"),YO(r,new gv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EF;case"linkViaPopup":case"linkViaRedirect":return kF;case"reauthViaPopup":case"reauthViaRedirect":return TF;default:Rs(this.auth,"internal-error")}}resolve(e){$a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=new D0(2e3,1e4);class qc extends eS{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,qc.currentPopupAction&&qc.currentPopupAction.cancel(),qc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return jt(e,this.auth,"internal-error"),e}async onExecution(){$a(this.filter.length===1,"Popup operations only handle one event");const e=mv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Zs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NF.get())};e()}}qc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF="pendingRedirect",Mf=new Map;class AF extends eS{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Mf.get(this.auth._key());if(!e){try{const n=await CF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Mf.set(this.auth._key(),e)}return this.bypassAuthState||Mf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CF(t,e){const r=PF(e),n=jF(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function IF(t,e){Mf.set(t._key(),e)}function jF(t){return Na(t._redirectPersistence)}function PF(t){return Lf(SF,t.config.apiKey,t.name)}async function RF(t,e,r=!1){if(Li(t.app))return Promise.reject(Aa(t));const n=Yo(t),i=_F(n,e),l=await new AF(n,i,r).execute();return l&&!r&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF=600*1e3;class OF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FF(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!tS(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Zs(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DF&&this.cachedEventUids.clear(),this.cachedEventUids.has(E4(e))}saveEventToCache(e){this.cachedEventUids.add(E4(e)),this.lastProcessedEventTime=Date.now()}}function E4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function FF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LF(t,e={}){return Fs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$F=/^https?/;async function VF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LF(t);for(const r of e)try{if(BF(r))return}catch{}Rs(t,"unauthorized-domain")}function BF(t){const e=Ty(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&l.hostname===n}if(!$F.test(r))return!1;if(MF.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=new D0(3e4,6e4);function T4(){const t=ea().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function zF(t){return new Promise((e,r)=>{var n,i,s;function l(){T4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T4(),r(Zs(t,"network-request-failed"))},timeout:UF.get()})}if(!((i=(n=ea().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ea().gapi)===null||s===void 0)&&s.load)l();else{const u=CO("iframefcb");return ea()[u]=()=>{gapi.load?l():r(Zs(t,"network-request-failed"))},$3(`${AO()}?onload=${u}`).catch(d=>r(d))}}).catch(e=>{throw $f=null,e})}let $f=null;function HF(t){return $f=$f||zF(t),$f}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=new D0(5e3,15e3),qF="__/auth/iframe",GF="emulator/auth/iframe",KF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YF(t){const e=t.config;jt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?cv(e,GF):`https://${t.config.authDomain}/${qF}`,n={apiKey:e.apiKey,appName:t.name,v:zl},i=XF.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${E0(n).slice(1)}`}async function QF(t){const e=await HF(t),r=ea().gapi;return jt(r,t,"internal-error"),e.open({where:document.body,url:YF(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KF,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const l=Zs(t,"network-request-failed"),u=ea().setTimeout(()=>{s(l)},WF.get());function d(){ea().clearTimeout(u),i(n)}n.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZF=500,eL=600,tL="_blank",rL="http://localhost";class k4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nL(t,e,r,n=ZF,i=eL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const d=Object.assign(Object.assign({},JF),{width:n.toString(),height:i.toString(),top:s,left:l}),h=Qn().toLowerCase();r&&(u=P3(h)?tL:r),I3(h)&&(e=e||rL,d.scrollbars="yes");const p=Object.entries(d).reduce((y,[v,k])=>`${y}${v}=${k},`,"");if(vO(h)&&u!=="_self")return iL(e||"",u),new k4(null);const g=window.open(e||"",u,p);jt(g,t,"popup-blocked");try{g.focus()}catch{}return new k4(g)}function iL(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="__/auth/handler",aL="emulator/auth/handler",oL=encodeURIComponent("fac");async function N4(t,e,r,n,i,s){jt(t.config.authDomain,t,"auth-domain-config-required"),jt(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:zl,eventId:i};if(e instanceof U3){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",oP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof F0){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),h=d?`#${oL}=${encodeURIComponent(d)}`:"";return`${lL(t)}?${E0(u).slice(1)}${h}`}function lL({config:t}){return t.emulator?cv(t,aL):`https://${t.authDomain}/${sL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="webStorageSupport";class cL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=X3,this._completeRedirectFn=RF,this._overrideRedirectResult=IF}async _openPopup(e,r,n,i){var s;$a((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await N4(e,r,n,Ty(),i);return nL(e,l,mv())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await N4(e,r,n,Ty(),i);return hF(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):($a(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await QF(e),n=new OF(e);return r.register("authEvent",i=>(jt(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Ax,{type:Ax},i=>{var s;const l=(s=i?.[0])===null||s===void 0?void 0:s[Ax];l!==void 0&&r(!!l),Rs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=VF(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return L3()||j3()||dv()}}const uL=cL;var S4="@firebase/auth",A4="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fL(t){js(new as("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=n.options;jt(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M3(t)},h=new kO(n,i,s,d);return OO(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),js(new as("auth-internal",e=>{const r=Yo(e.getProvider("auth").getImmediate());return(n=>new dL(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(S4,A4,hL(t)),bi(S4,A4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=300,mL=uk("authIdTokenMaxAge")||pL;let C4=null;const gL=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>mL)return;const i=r?.token;C4!==i&&(C4=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xv(t=Yp()){const e=Go(t,"auth");if(e.isInitialized())return e.getImmediate();const r=DO(t,{popupRedirectResolver:uL,persistence:[wF,cF,X3]}),n=uk("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const l=gL(s.toString());aF(r,l,()=>l(r.currentUser)),sF(r,u=>l(u))}}const i=ok("auth");return i&&FO(r,`http://${i}`),r}function xL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NO({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=Zs("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",xL().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fL("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="firebasestorage.googleapis.com",yL="storageBucket",vL=120*1e3,bL=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua extends os{constructor(e,r,n=0){super(Cx(e),`Firebase Storage: ${r} (${Cx(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ua.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var oa;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(oa||(oa={}));function Cx(t){return"storage/"+t}function wL(){const t="An unknown error occurred, please check the error payload for server response.";return new ua(oa.UNKNOWN,t)}function _L(){return new ua(oa.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EL(){return new ua(oa.CANCELED,"User canceled the upload/download.")}function TL(t){return new ua(oa.INVALID_URL,"Invalid URL '"+t+"'.")}function kL(t){return new ua(oa.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function I4(t){return new ua(oa.INVALID_ARGUMENT,t)}function nS(){return new ua(oa.APP_DELETED,"The Firebase app was deleted.")}function NL(t){return new ua(oa.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Ns.makeFromUrl(e,r)}catch{return new Ns(e,"")}if(n.path==="")return n;throw kL(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function h(j){j.path_=decodeURIComponent(j.path)}const p="v[A-Za-z0-9_]+",g=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",v=new RegExp(`^https?://${g}/${p}/b/${i}/o${y}`,"i"),k={bucket:1,path:3},w=r===rS?"(?:storage.googleapis.com|storage.cloud.google.com)":r,E="([^?#]*)",O=new RegExp(`^https?://${w}/${i}/${E}`,"i"),V=[{regex:u,indices:d,postModify:s},{regex:v,indices:k,postModify:h},{regex:O,indices:{bucket:1,path:2},postModify:h}];for(let j=0;j<V.length;j++){const X=V[j],U=X.regex.exec(e);if(U){const A=U[X.indices.bucket];let S=U[X.indices.path];S||(S=""),n=new Ns(A,S),X.postModify(n);break}}if(n==null)throw TL(e);return n}}class SL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t,e,r){let n=1,i=null,s=null,l=!1,u=0;function d(){return u===2}let h=!1;function p(...E){h||(h=!0,e.apply(null,E))}function g(E){i=setTimeout(()=>{i=null,t(v,d())},E)}function y(){s&&clearTimeout(s)}function v(E,...O){if(h){y();return}if(E){y(),p.call(null,E,...O);return}if(d()||l){y(),p.call(null,E,...O);return}n<64&&(n*=2);let V;u===1?(u=2,V=0):V=(n+Math.random())*1e3,g(V)}let k=!1;function w(E){k||(k=!0,y(),!h&&(i!==null?(E||(u=2),clearTimeout(i),g(0)):E||(u=1)))}return g(0),s=setTimeout(()=>{l=!0,w(!0)},r),w}function CL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t){return t!==void 0}function j4(t,e,r,n){if(n<e)throw I4(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw I4(`Invalid value for '${t}'. Expected ${r} or less.`)}function jL(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var mp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mp||(mp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return r||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,r,n,i,s,l,u,d,h,p,g,y=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,k)=>{this.resolve_=v,this.reject_=k,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new pf(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const l=u=>{const d=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const u=s.getErrorCode()===mp.NO_ERROR,d=s.getStatus();if(!u||PL(d,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===mp.ABORT;n(!1,new pf(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;n(!0,new pf(h,s))})},r=(n,i)=>{const s=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());IL(d)?s(d):s()}catch(d){l(d)}else if(u!==null){const d=wL();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(i.canceled){const d=this.appDelete_?nS():EL();l(d)}else{const d=_L();l(d)}};this.canceled_?r(!1,new pf(!1,null,!0)):this.backoffId_=AL(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&CL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pf{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function DL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function OL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function FL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function LL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ML(t,e,r,n,i,s,l=!0){const u=jL(t.urlParams),d=t.url+u,h=Object.assign({},t.headers);return FL(h,e),DL(h,r),OL(h,s),LL(h,n),new RL(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function VL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,r){this._service=e,r instanceof Ns?this._location=r:this._location=Ns.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new gp(e,r)}get root(){const e=new Ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VL(this._location.path)}get storage(){return this._service}get parent(){const e=$L(this._location.path);if(e===null)return null;const r=new Ns(this._location.bucket,e);return new gp(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw NL(e)}}function P4(t,e){const r=e?.[yL];return r==null?null:Ns.makeFromBucketSpec(r,t)}function BL(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:dk(i,t.app.options.projectId))}class UL{constructor(e,r,n,i,s){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=rS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vL,this._maxUploadRetryTime=bL,this._requests=new Set,i!=null?this._bucket=Ns.makeFromBucketSpec(i,this._host):this._bucket=P4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ns.makeFromBucketSpec(this._url,e):this._bucket=P4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){j4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){j4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gp(this,e)}_makeRequest(e,r,n,i,s=!0){if(this._deleted)return new SL(nS());{const l=ML(e,this._appId,n,i,r,this._firebaseVersion,s);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const R4="@firebase/storage",D4="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="storage";function zL(t=Yp(),e){t=Tr(t);const n=Go(t,iS).getImmediate({identifier:e}),i=lk("storage");return i&&HL(n,...i),n}function HL(t,e,r,n={}){BL(t,e,r,n)}function WL(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new UL(r,n,i,e,zl)}function qL(){js(new as(iS,WL,"PUBLIC").setMultipleInstances(!0)),bi(R4,D4,""),bi(R4,D4,"esm2017")}qL();const GL={apiKey:"AIzaSyDYacL_WIzZUSP-Tjl3794P_jHocMDqN9g",authDomain:"blackkstreaming-55f0e.firebaseapp.com",projectId:"blackkstreaming-55f0e",storageBucket:"blackkstreaming-55f0e.firebasestorage.app",messagingSenderId:"998157647233",appId:"1:998157647233:web:3e5b8128a0275ae4553c80",measurementId:"G-GFM50WNMSP"},$0=yk(GL);$8($0);const qe=M7($0);zL($0);const en=xv($0),yv=N.createContext({});function vv(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const bv=typeof window<"u",sS=bv?N.useLayoutEffect:N.useEffect,wm=N.createContext(null);function wv(t,e){t.indexOf(e)===-1&&t.push(e)}function _v(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Va=(t,e,r)=>r>e?e:r<t?t:r;let Ev=()=>{};const Ba={},aS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function oS(t){return typeof t=="object"&&t!==null}const lS=t=>/^0[^.\s]+$/u.test(t);function Tv(t){let e;return()=>(e===void 0&&(e=t()),e)}const ns=t=>t,KL=(t,e)=>r=>e(t(r)),V0=(...t)=>t.reduce(KL),s0=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class kv{constructor(){this.subscriptions=[]}add(e){return wv(this.subscriptions,e),()=>_v(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const l=this.subscriptions[s];l&&l(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ta=t=>t*1e3,ra=t=>t/1e3;function cS(t,e){return e?t*(1e3/e):0}const uS=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,XL=1e-7,YL=12;function QL(t,e,r,n,i){let s,l,u=0;do l=e+(r-e)/2,s=uS(l,n,i)-t,s>0?r=l:e=l;while(Math.abs(s)>XL&&++u<YL);return l}function B0(t,e,r,n){if(t===e&&r===n)return ns;const i=s=>QL(s,0,1,t,r);return s=>s===0||s===1?s:uS(i(s),e,n)}const dS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hS=t=>e=>1-t(1-e),fS=B0(.33,1.53,.69,.99),Nv=hS(fS),pS=dS(Nv),mS=t=>(t*=2)<1?.5*Nv(t):.5*(2-Math.pow(2,-10*(t-1))),Sv=t=>1-Math.sin(Math.acos(t)),gS=hS(Sv),xS=dS(Sv),JL=B0(.42,0,1,1),ZL=B0(0,0,.58,1),yS=B0(.42,0,.58,1),eM=t=>Array.isArray(t)&&typeof t[0]!="number",vS=t=>Array.isArray(t)&&typeof t[0]=="number",tM={linear:ns,easeIn:JL,easeInOut:yS,easeOut:ZL,circIn:Sv,circInOut:xS,circOut:gS,backIn:Nv,backInOut:pS,backOut:fS,anticipate:mS},rM=t=>typeof t=="string",O4=t=>{if(vS(t)){Ev(t.length===4);const[e,r,n,i]=t;return B0(e,r,n,i)}else if(rM(t))return tM[t];return t},mf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],F4={value:null};function nM(t,e){let r=new Set,n=new Set,i=!1,s=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},d=0;function h(g){l.has(g)&&(p.schedule(g),t()),d++,g(u)}const p={schedule:(g,y=!1,v=!1)=>{const w=v&&i?r:n;return y&&l.add(g),w.has(g)||w.add(g),g},cancel:g=>{n.delete(g),l.delete(g)},process:g=>{if(u=g,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(h),e&&F4.value&&F4.value.frameloop[e].push(d),d=0,r.clear(),i=!1,s&&(s=!1,p.process(g))}};return p}const iM=40;function bS(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,l=mf.reduce((V,j)=>(V[j]=nM(s,e?j:void 0),V),{}),{setup:u,read:d,resolveKeyframes:h,preUpdate:p,update:g,preRender:y,render:v,postRender:k}=l,w=()=>{const V=Ba.useManualTiming?i.timestamp:performance.now();r=!1,Ba.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(V-i.timestamp,iM),1)),i.timestamp=V,i.isProcessing=!0,u.process(i),d.process(i),h.process(i),p.process(i),g.process(i),y.process(i),v.process(i),k.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(w))},E=()=>{r=!0,n=!0,i.isProcessing||t(w)};return{schedule:mf.reduce((V,j)=>{const X=l[j];return V[j]=(U,A=!1,S=!1)=>(r||E(),X.schedule(U,A,S)),V},{}),cancel:V=>{for(let j=0;j<mf.length;j++)l[mf[j]].cancel(V)},state:i,steps:l}}const{schedule:Mr,cancel:Bo,state:Cn,steps:Ix}=bS(typeof requestAnimationFrame<"u"?requestAnimationFrame:ns,!0);let Vf;function sM(){Vf=void 0}const vi={now:()=>(Vf===void 0&&vi.set(Cn.isProcessing||Ba.useManualTiming?Cn.timestamp:performance.now()),Vf),set:t=>{Vf=t,queueMicrotask(sM)}},wS=t=>e=>typeof e=="string"&&e.startsWith(t),Av=wS("--"),aM=wS("var(--"),Cv=t=>aM(t)?oM.test(t.split("/*")[0].trim()):!1,oM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Iu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},a0={...Iu,transform:t=>Va(0,1,t)},gf={...Iu,default:1},Fd=t=>Math.round(t*1e5)/1e5,Iv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lM(t){return t==null}const cM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jv=(t,e)=>r=>!!(typeof r=="string"&&cM.test(r)&&r.startsWith(t)||e&&!lM(r)&&Object.prototype.hasOwnProperty.call(r,e)),_S=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,l,u]=n.match(Iv);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},uM=t=>Va(0,255,t),jx={...Iu,transform:t=>Math.round(uM(t))},El={test:jv("rgb","red"),parse:_S("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+jx.transform(t)+", "+jx.transform(e)+", "+jx.transform(r)+", "+Fd(a0.transform(n))+")"};function dM(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Sy={test:jv("#"),parse:dM,transform:El.transform},U0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vo=U0("deg"),na=U0("%"),Pt=U0("px"),hM=U0("vh"),fM=U0("vw"),L4={...na,parse:t=>na.parse(t)/100,transform:t=>na.transform(t*100)},Gc={test:jv("hsl","hue"),parse:_S("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+na.transform(Fd(e))+", "+na.transform(Fd(r))+", "+Fd(a0.transform(n))+")"},Wn={test:t=>El.test(t)||Sy.test(t)||Gc.test(t),parse:t=>El.test(t)?El.parse(t):Gc.test(t)?Gc.parse(t):Sy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?El.transform(t):Gc.transform(t)},pM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mM(t){return isNaN(t)&&typeof t=="string"&&(t.match(Iv)?.length||0)+(t.match(pM)?.length||0)>0}const ES="number",TS="color",gM="var",xM="var(",M4="${}",yM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function o0(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const u=e.replace(yM,d=>(Wn.test(d)?(n.color.push(s),i.push(TS),r.push(Wn.parse(d))):d.startsWith(xM)?(n.var.push(s),i.push(gM),r.push(d)):(n.number.push(s),i.push(ES),r.push(parseFloat(d))),++s,M4)).split(M4);return{values:r,split:u,indexes:n,types:i}}function kS(t){return o0(t).values}function NS(t){const{split:e,types:r}=o0(t),n=e.length;return i=>{let s="";for(let l=0;l<n;l++)if(s+=e[l],i[l]!==void 0){const u=r[l];u===ES?s+=Fd(i[l]):u===TS?s+=Wn.transform(i[l]):s+=i[l]}return s}}const vM=t=>typeof t=="number"?0:t;function bM(t){const e=kS(t);return NS(t)(e.map(vM))}const Uo={test:mM,parse:kS,createTransformer:NS,getAnimatableNone:bM};function Px(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function wM({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,l=0;if(!e)i=s=l=r;else{const u=r<.5?r*(1+e):r+e-r*e,d=2*r-u;i=Px(d,u,t+1/3),s=Px(d,u,t),l=Px(d,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(l*255),alpha:n}}function xp(t,e){return r=>r>0?e:t}const Lr=(t,e,r)=>t+(e-t)*r,Rx=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},_M=[Sy,El,Gc],EM=t=>_M.find(e=>e.test(t));function $4(t){const e=EM(t);if(!e)return!1;let r=e.parse(t);return e===Gc&&(r=wM(r)),r}const V4=(t,e)=>{const r=$4(t),n=$4(e);if(!r||!n)return xp(t,e);const i={...r};return s=>(i.red=Rx(r.red,n.red,s),i.green=Rx(r.green,n.green,s),i.blue=Rx(r.blue,n.blue,s),i.alpha=Lr(r.alpha,n.alpha,s),El.transform(i))},Ay=new Set(["none","hidden"]);function TM(t,e){return Ay.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function kM(t,e){return r=>Lr(t,e,r)}function Pv(t){return typeof t=="number"?kM:typeof t=="string"?Cv(t)?xp:Wn.test(t)?V4:AM:Array.isArray(t)?SS:typeof t=="object"?Wn.test(t)?V4:NM:xp}function SS(t,e){const r=[...t],n=r.length,i=t.map((s,l)=>Pv(s)(s,e[l]));return s=>{for(let l=0;l<n;l++)r[l]=i[l](s);return r}}function NM(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=Pv(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function SM(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],l=t.indexes[s][n[s]],u=t.values[l]??0;r[i]=u,n[s]++}return r}const AM=(t,e)=>{const r=Uo.createTransformer(e),n=o0(t),i=o0(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Ay.has(t)&&!i.values.length||Ay.has(e)&&!n.values.length?TM(t,e):V0(SS(SM(n,i),i.values),r):xp(t,e)};function AS(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Lr(t,e,r):Pv(t)(t,e)}const CM=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Mr.update(e,r),stop:()=>Bo(e),now:()=>Cn.isProcessing?Cn.timestamp:vi.now()}},CS=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=t(s/(i-1))+", ";return`linear(${n.substring(0,n.length-2)})`},yp=2e4;function Rv(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<yp;)e+=r,n=t.next(e);return e>=yp?1/0:e}function IM(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(Rv(n),yp);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:ra(i)}}const jM=5;function IS(t,e,r){const n=Math.max(e-jM,0);return cS(r-t(n),e-n)}const zr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dx=.001;function PM({duration:t=zr.duration,bounce:e=zr.bounce,velocity:r=zr.velocity,mass:n=zr.mass}){let i,s,l=1-e;l=Va(zr.minDamping,zr.maxDamping,l),t=Va(zr.minDuration,zr.maxDuration,ra(t)),l<1?(i=h=>{const p=h*l,g=p*t,y=p-r,v=Cy(h,l),k=Math.exp(-g);return Dx-y/v*k},s=h=>{const g=h*l*t,y=g*r+r,v=Math.pow(l,2)*Math.pow(h,2)*t,k=Math.exp(-g),w=Cy(Math.pow(h,2),l);return(-i(h)+Dx>0?-1:1)*((y-v)*k)/w}):(i=h=>{const p=Math.exp(-h*t),g=(h-r)*t+1;return-Dx+p*g},s=h=>{const p=Math.exp(-h*t),g=(r-h)*(t*t);return p*g});const u=5/t,d=DM(i,s,u);if(t=ta(t),isNaN(d))return{stiffness:zr.stiffness,damping:zr.damping,duration:t};{const h=Math.pow(d,2)*n;return{stiffness:h,damping:l*2*Math.sqrt(n*h),duration:t}}}const RM=12;function DM(t,e,r){let n=r;for(let i=1;i<RM;i++)n=n-t(n)/e(n);return n}function Cy(t,e){return t*Math.sqrt(1-e*e)}const OM=["duration","bounce"],FM=["stiffness","damping","mass"];function B4(t,e){return e.some(r=>t[r]!==void 0)}function LM(t){let e={velocity:zr.velocity,stiffness:zr.stiffness,damping:zr.damping,mass:zr.mass,isResolvedFromDuration:!1,...t};if(!B4(t,FM)&&B4(t,OM))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Va(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:zr.mass,stiffness:i,damping:s}}else{const r=PM(t);e={...e,...r,mass:zr.mass},e.isResolvedFromDuration=!0}return e}function vp(t=zr.visualDuration,e=zr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],l=r.keyframes[r.keyframes.length-1],u={done:!1,value:s},{stiffness:d,damping:h,mass:p,duration:g,velocity:y,isResolvedFromDuration:v}=LM({...r,velocity:-ra(r.velocity||0)}),k=y||0,w=h/(2*Math.sqrt(d*p)),E=l-s,O=ra(Math.sqrt(d/p)),M=Math.abs(E)<5;n||(n=M?zr.restSpeed.granular:zr.restSpeed.default),i||(i=M?zr.restDelta.granular:zr.restDelta.default);let V;if(w<1){const X=Cy(O,w);V=U=>{const A=Math.exp(-w*O*U);return l-A*((k+w*O*E)/X*Math.sin(X*U)+E*Math.cos(X*U))}}else if(w===1)V=X=>l-Math.exp(-O*X)*(E+(k+O*E)*X);else{const X=O*Math.sqrt(w*w-1);V=U=>{const A=Math.exp(-w*O*U),S=Math.min(X*U,300);return l-A*((k+w*O*E)*Math.sinh(S)+X*E*Math.cosh(S))/X}}const j={calculatedDuration:v&&g||null,next:X=>{const U=V(X);if(v)u.done=X>=g;else{let A=X===0?k:0;w<1&&(A=X===0?ta(k):IS(V,X,U));const S=Math.abs(A)<=n,C=Math.abs(l-U)<=i;u.done=S&&C}return u.value=u.done?l:U,u},toString:()=>{const X=Math.min(Rv(j),yp),U=CS(A=>j.next(X*A).value,X,30);return X+"ms "+U},toTransition:()=>{}};return j}vp.applyToOptions=t=>{const e=IM(t,100,vp);return t.ease=e.ease,t.duration=ta(e.duration),t.type="keyframes",t};function Iy({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:l,min:u,max:d,restDelta:h=.5,restSpeed:p}){const g=t[0],y={done:!1,value:g},v=S=>u!==void 0&&S<u||d!==void 0&&S>d,k=S=>u===void 0?d:d===void 0||Math.abs(u-S)<Math.abs(d-S)?u:d;let w=r*e;const E=g+w,O=l===void 0?E:l(E);O!==E&&(w=O-g);const M=S=>-w*Math.exp(-S/n),V=S=>O+M(S),j=S=>{const C=M(S),P=V(S);y.done=Math.abs(C)<=h,y.value=y.done?O:P};let X,U;const A=S=>{v(y.value)&&(X=S,U=vp({keyframes:[y.value,k(y.value)],velocity:IS(V,S,y.value),damping:i,stiffness:s,restDelta:h,restSpeed:p}))};return A(0),{calculatedDuration:null,next:S=>{let C=!1;return!U&&X===void 0&&(C=!0,j(S),A(S)),X!==void 0&&S>=X?U.next(S-X):(!C&&j(S),y)}}}function MM(t,e,r){const n=[],i=r||Ba.mix||AS,s=t.length-1;for(let l=0;l<s;l++){let u=i(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||ns:e;u=V0(d,u)}n.push(u)}return n}function $M(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(Ev(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=MM(e,n,i),d=u.length,h=p=>{if(l&&p<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const y=s0(t[g],t[g+1],p);return u[g](y)};return r?p=>h(Va(t[0],t[s-1],p)):h}function VM(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=s0(0,e,n);t.push(Lr(r,1,i))}}function BM(t){const e=[0];return VM(e,t.length-1),e}function UM(t,e){return t.map(r=>r*e)}function zM(t,e){return t.map(()=>e||yS).splice(0,t.length-1)}function Ld({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=eM(n)?n.map(O4):O4(n),s={done:!1,value:e[0]},l=UM(r&&r.length===e.length?r:BM(e),t),u=$M(l,e,{ease:Array.isArray(i)?i:zM(e,i)});return{calculatedDuration:t,next:d=>(s.value=u(d),s.done=d>=t,s)}}const HM=t=>t!==null;function Dv(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(HM),u=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!u||n===void 0?s[u]:n}const WM={decay:Iy,inertia:Iy,tween:Ld,keyframes:Ld,spring:vp};function jS(t){typeof t.type=="string"&&(t.type=WM[t.type])}class Ov{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const qM=t=>t/100;class Fv extends Ov{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{if(r){const{motionValue:n}=this.options;n&&n.updatedAt!==vi.now()&&this.tick(vi.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;jS(e);const{type:r=Ld,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:l=0}=e;let{keyframes:u}=e;const d=r||Ld;d!==Ld&&typeof u[0]!="number"&&(this.mixKeyframes=V0(qM,AS(u[0],u[1])),u=[0,100]);const h=d({...e,keyframes:u});s==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=Rv(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=h}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:y,repeatDelay:v,type:k,onUpdate:w,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const O=this.currentTime-h*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?O<0:O>i;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let V=this.currentTime,j=n;if(g){const S=Math.min(this.currentTime,i)/u;let C=Math.floor(S),P=S%1;!P&&S>=1&&(P=1),P===1&&C--,C=Math.min(C,g+1),!!(C%2)&&(y==="reverse"?(P=1-P,v&&(P-=v/u)):y==="mirror"&&(j=l)),V=Va(0,1,P)*u}const X=M?{done:!1,value:p[0]}:j.next(V);s&&(X.value=s(X.value));let{done:U}=X;!M&&d!==null&&(U=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return A&&k!==Iy&&(X.value=Dv(p,this.options,E,this.speed)),w&&w(X.value),A&&this.finish(),X}then(e,r){return this.finished.then(e,r)}get duration(){return ra(this.calculatedDuration)}get time(){return ra(this.currentTime)}set time(e){e=ta(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(vi.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=ra(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=CM,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function GM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Tl=t=>t*180/Math.PI,jy=t=>{const e=Tl(Math.atan2(t[1],t[0]));return Py(e)},KM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:jy,rotateZ:jy,skewX:t=>Tl(Math.atan(t[1])),skewY:t=>Tl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Py=t=>(t=t%360,t<0&&(t+=360),t),U4=jy,z4=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),H4=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),XM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:z4,scaleY:H4,scale:t=>(z4(t)+H4(t))/2,rotateX:t=>Py(Tl(Math.atan2(t[6],t[5]))),rotateY:t=>Py(Tl(Math.atan2(-t[2],t[0]))),rotateZ:U4,rotate:U4,skewX:t=>Tl(Math.atan(t[4])),skewY:t=>Tl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ry(t){return t.includes("scale")?1:0}function Dy(t,e){if(!t||t==="none")return Ry(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=XM,i=r;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=KM,i=u}if(!i)return Ry(e);const s=n[e],l=i[1].split(",").map(QM);return typeof s=="function"?s(l):l[s]}const YM=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Dy(r,e)};function QM(t){return parseFloat(t.trim())}const ju=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pu=new Set(ju),W4=t=>t===Iu||t===Pt,JM=new Set(["x","y","z"]),ZM=ju.filter(t=>!JM.has(t));function e$(t){const e=[];return ZM.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const kl={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Dy(e,"x"),y:(t,{transform:e})=>Dy(e,"y")};kl.translateX=kl.x;kl.translateY=kl.y;const Nl=new Set;let Oy=!1,Fy=!1,Ly=!1;function PS(){if(Fy){const t=Array.from(Nl).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=e$(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,l])=>{n.getValue(s)?.set(l)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Fy=!1,Oy=!1,Nl.forEach(t=>t.complete(Ly)),Nl.clear()}function RS(){Nl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fy=!0)})}function t$(){Ly=!0,RS(),PS(),Ly=!1}class Lv{constructor(e,r,n,i,s,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Nl.add(this),Oy||(Oy=!0,Mr.read(RS),Mr.resolveKeyframes(PS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i?.get(),l=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const u=n.readValue(r,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),i&&s===void 0&&i.set(e[0])}GM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Nl.delete(this)}cancel(){this.state==="scheduled"&&(Nl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const r$=t=>t.startsWith("--");function n$(t,e,r){r$(e)?t.style.setProperty(e,r):t.style[e]=r}const i$=Tv(()=>window.ScrollTimeline!==void 0),s$={};function a$(t,e){const r=Tv(t);return()=>s$[e]??r()}const DS=a$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nd=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,q4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nd([0,.65,.55,1]),circOut:Nd([.55,0,1,.45]),backIn:Nd([.31,.01,.66,-.59]),backOut:Nd([.33,1.53,.69,.99])};function OS(t,e){if(t)return typeof t=="function"?DS()?CS(t,e):"ease-out":vS(t)?Nd(t):Array.isArray(t)?t.map(r=>OS(r,e)||q4.easeOut):q4[t]}function o$(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:l="loop",ease:u="easeOut",times:d}={},h=void 0){const p={[e]:r};d&&(p.offset=d);const g=OS(u,i);Array.isArray(g)&&(p.easing=g);const y={delay:n,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:s+1,direction:l==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),t.animate(p,y)}function FS(t){return typeof t=="function"&&"applyToOptions"in t}function l$({type:t,...e}){return FS(t)&&DS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class c$ extends Ov{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:l=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!s,this.allowFlatten=l,this.options=e,Ev(typeof e.type!="string");const h=l$(e);this.animation=o$(r,n,i,h,s),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const p=Dv(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):n$(r,n,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ra(Number(e))}get time(){return ra(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ta(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&i$()?(this.animation.timeline=e,ns):r(this)}}const LS={anticipate:mS,backInOut:pS,circInOut:xS};function u$(t){return t in LS}function d$(t){typeof t.ease=="string"&&u$(t.ease)&&(t.ease=LS[t.ease])}const G4=10;class h$ extends c${constructor(e){d$(e),jS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...l}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const u=new Fv({...l,autoplay:!1}),d=ta(this.finishedTime??this.time);r.setWithVelocity(u.sample(d-G4).value,u.sample(d).value,G4),u.stop()}}const K4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Uo.test(t)||t==="0")&&!t.startsWith("url("));function f$(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function p$(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],l=K4(i,e),u=K4(s,e);return!l||!u?!1:f$(t)||(r==="spring"||FS(r))&&n}function Mv(t){return oS(t)&&"offsetHeight"in t}const m$=new Set(["opacity","clipPath","filter","transform"]),g$=Tv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function x$(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:l}=t;if(!Mv(e?.owner?.current))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return g$()&&r&&m$.has(r)&&(r!=="transform"||!d)&&!u&&!n&&i!=="mirror"&&s!==0&&l!=="inertia"}const y$=40;class v$ extends Ov{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:l="loop",keyframes:u,name:d,motionValue:h,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vi.now();const y={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:l,name:d,motionValue:h,element:p,...g},v=p?.KeyframeResolver||Lv;this.keyframeResolver=new v(u,(k,w,E)=>this.onKeyframesResolved(k,w,y,!E),d,h,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:l,velocity:u,delay:d,isHandoff:h,onUpdate:p}=n;this.resolvedAt=vi.now(),p$(e,s,l,u)||((Ba.instantAnimations||!d)&&p?.(Dv(e,n,r)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const y={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>y$?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},v=!h&&x$(y)?new h$({...y,element:y.motionValue.owner.current}):new Fv(y);v.finished.then(()=>this.notifyFinished()).catch(ns),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),t$()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const b$=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function w$(t){const e=b$.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function MS(t,e,r=1){const[n,i]=w$(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const l=s.trim();return aS(l)?parseFloat(l):l}return Cv(i)?MS(i,e,r+1):i}function $v(t,e){return t?.[e]??t?.default??t}const $S=new Set(["width","height","top","left","right","bottom",...ju]),_$={test:t=>t==="auto",parse:t=>t},VS=t=>e=>e.test(t),BS=[Iu,Pt,na,vo,fM,hM,_$],X4=t=>BS.find(VS(t));function E$(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||lS(t):!0}const T$=new Set(["brightness","contrast","saturate","opacity"]);function k$(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(Iv)||[];if(!n)return t;const i=r.replace(n,"");let s=T$.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const N$=/\b([a-z-]*)\(.*?\)/gu,My={...Uo,getAnimatableNone:t=>{const e=t.match(N$);return e?e.map(k$).join(" "):t}},Y4={...Iu,transform:Math.round},S$={rotate:vo,rotateX:vo,rotateY:vo,rotateZ:vo,scale:gf,scaleX:gf,scaleY:gf,scaleZ:gf,skew:vo,skewX:vo,skewY:vo,distance:Pt,translateX:Pt,translateY:Pt,translateZ:Pt,x:Pt,y:Pt,z:Pt,perspective:Pt,transformPerspective:Pt,opacity:a0,originX:L4,originY:L4,originZ:Pt},Vv={borderWidth:Pt,borderTopWidth:Pt,borderRightWidth:Pt,borderBottomWidth:Pt,borderLeftWidth:Pt,borderRadius:Pt,radius:Pt,borderTopLeftRadius:Pt,borderTopRightRadius:Pt,borderBottomRightRadius:Pt,borderBottomLeftRadius:Pt,width:Pt,maxWidth:Pt,height:Pt,maxHeight:Pt,top:Pt,right:Pt,bottom:Pt,left:Pt,padding:Pt,paddingTop:Pt,paddingRight:Pt,paddingBottom:Pt,paddingLeft:Pt,margin:Pt,marginTop:Pt,marginRight:Pt,marginBottom:Pt,marginLeft:Pt,backgroundPositionX:Pt,backgroundPositionY:Pt,...S$,zIndex:Y4,fillOpacity:a0,strokeOpacity:a0,numOctaves:Y4},A$={...Vv,color:Wn,backgroundColor:Wn,outlineColor:Wn,fill:Wn,stroke:Wn,borderColor:Wn,borderTopColor:Wn,borderRightColor:Wn,borderBottomColor:Wn,borderLeftColor:Wn,filter:My,WebkitFilter:My},US=t=>A$[t];function zS(t,e){let r=US(t);return r!==My&&(r=Uo),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const C$=new Set(["auto","none","0"]);function I$(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!C$.has(s)&&o0(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=zS(r,i)}class j$ extends Lv{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),Cv(h))){const p=MS(h,r.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!$S.has(n)||e.length!==2)return;const[i,s]=e,l=X4(i),u=X4(s);if(l!==u)if(W4(l)&&W4(u))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else kl[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||E$(e[i]))&&n.push(i);n.length&&I$(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,l=n[s];n[s]=kl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function P$(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=r?.[t]??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Q4=30,R$=t=>!isNaN(parseFloat(t));class D${constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const s=vi.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=vi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=R$(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new kv);const n=this.events[e].add(r);return e==="change"?()=>{n(),Mr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Q4)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Q4);return cS(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fu(t,e){return new D$(t,e)}const HS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:Bv}=bS(queueMicrotask,!1),Es={x:!1,y:!1};function WS(){return Es.x||Es.y}function O$(t){return t==="x"||t==="y"?Es[t]?null:(Es[t]=!0,()=>{Es[t]=!1}):Es.x||Es.y?null:(Es.x=Es.y=!0,()=>{Es.x=Es.y=!1})}function qS(t,e){const r=P$(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function J4(t){return!(t.pointerType==="touch"||WS())}function F$(t,e,r={}){const[n,i,s]=qS(t,r),l=u=>{if(!J4(u))return;const{target:d}=u,h=e(d,u);if(typeof h!="function"||!d)return;const p=g=>{J4(g)&&(h(g),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,i)};return n.forEach(u=>{u.addEventListener("pointerenter",l,i)}),s}const GS=(t,e)=>e?t===e?!0:GS(t,e.parentElement):!1,Uv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,L$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function M$(t){return L$.has(t.tagName)||t.tabIndex!==-1}const Bf=new WeakSet;function Z4(t){return e=>{e.key==="Enter"&&t(e)}}function Ox(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const $$=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=Z4(()=>{if(Bf.has(r))return;Ox(r,"down");const i=Z4(()=>{Ox(r,"up")}),s=()=>Ox(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function eE(t){return Uv(t)&&!WS()}function V$(t,e,r={}){const[n,i,s]=qS(t,r),l=u=>{const d=u.currentTarget;if(!eE(u))return;Bf.add(d);const h=e(d,u),p=(v,k)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),Bf.has(d)&&Bf.delete(d),eE(v)&&typeof h=="function"&&h(v,{success:k})},g=v=>{p(v,d===window||d===document||r.useGlobalTarget||GS(d,v.target))},y=v=>{p(v,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",y,i)};return n.forEach(u=>{(r.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),Mv(u)&&(u.addEventListener("focus",h=>$$(h,i)),!M$(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),s}function KS(t){return oS(t)&&"ownerSVGElement"in t}function B$(t){return KS(t)&&t.tagName==="svg"}const Kn=t=>!!(t&&t.getVelocity),U$=[...BS,Wn,Uo],z$=t=>U$.find(VS(t)),zv=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class H$ extends N.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=Mv(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function W$({children:t,isPresent:e,anchorX:r}){const n=N.useId(),i=N.useRef(null),s=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=N.useContext(zv);return N.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:p,right:g}=s.current;if(e||!i.current||!u||!d)return;const y=r==="left"?`left: ${p}`:`right: ${g}`;i.current.dataset.motionPopId=n;const v=document.createElement("style");return l&&(v.nonce=l),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.contains(v)&&document.head.removeChild(v)}},[e]),a.jsx(H$,{isPresent:e,childRef:i,sizeRef:s,children:N.cloneElement(t,{ref:i})})}const q$=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:l,anchorX:u})=>{const d=vv(G$),h=N.useId();let p=!0,g=N.useMemo(()=>(p=!1,{id:h,initial:e,isPresent:r,custom:i,onExitComplete:y=>{d.set(y,!0);for(const v of d.values())if(!v)return;n&&n()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[r,d,n]);return s&&p&&(g={...g}),N.useMemo(()=>{d.forEach((y,v)=>d.set(v,!1))},[r]),N.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),l==="popLayout"&&(t=a.jsx(W$,{isPresent:r,anchorX:u,children:t})),a.jsx(wm.Provider,{value:g,children:t})};function G$(){return new Map}function XS(t=!0){const e=N.useContext(wm);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=N.useId();N.useEffect(()=>{if(t)return i(s)},[t]);const l=N.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,l]:[!0]}const xf=t=>t.key||"";function tE(t){const e=[];return N.Children.forEach(t,r=>{N.isValidElement(r)&&e.push(r)}),e}const Ht=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:l=!1,anchorX:u="left"})=>{const[d,h]=XS(l),p=N.useMemo(()=>tE(t),[t]),g=l&&!d?[]:p.map(xf),y=N.useRef(!0),v=N.useRef(p),k=vv(()=>new Map),[w,E]=N.useState(p),[O,M]=N.useState(p);sS(()=>{y.current=!1,v.current=p;for(let X=0;X<O.length;X++){const U=xf(O[X]);g.includes(U)?k.delete(U):k.get(U)!==!0&&k.set(U,!1)}},[O,g.length,g.join("-")]);const V=[];if(p!==w){let X=[...p];for(let U=0;U<O.length;U++){const A=O[U],S=xf(A);g.includes(S)||(X.splice(U,0,A),V.push(A))}return s==="wait"&&V.length&&(X=V),M(tE(X)),E(p),null}const{forceRender:j}=N.useContext(yv);return a.jsx(a.Fragment,{children:O.map(X=>{const U=xf(X),A=l&&!d?!1:p===O||g.includes(U),S=()=>{if(k.has(U))k.set(U,!0);else return;let C=!0;k.forEach(P=>{P||(C=!1)}),C&&(j?.(),M(v.current),l&&h?.(),n&&n())};return a.jsx(q$,{isPresent:A,initial:!y.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:A?void 0:S,anchorX:u,children:X},U)})})},YS=N.createContext({strict:!1}),rE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pu={};for(const t in rE)pu[t]={isEnabled:e=>rE[t].some(r=>!!e[r])};function K$(t){for(const e in t)pu[e]={...pu[e],...t[e]}}const X$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||X$.has(t)}let QS=t=>!bp(t);function Y$(t){t&&(QS=e=>e.startsWith("on")?!bp(e):t(e))}try{Y$(require("@emotion/is-prop-valid").default)}catch{}function Q$(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(QS(i)||r===!0&&bp(i)||!e&&!bp(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function J$(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const _m=N.createContext({});function Em(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function l0(t){return typeof t=="string"||Array.isArray(t)}const Hv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wv=["initial",...Hv];function Tm(t){return Em(t.animate)||Wv.some(e=>l0(t[e]))}function JS(t){return!!(Tm(t)||t.variants)}function Z$(t,e){if(Tm(t)){const{initial:r,animate:n}=t;return{initial:r===!1||l0(r)?r:void 0,animate:l0(n)?n:void 0}}return t.inherit!==!1?e:{}}function eV(t){const{initial:e,animate:r}=Z$(t,N.useContext(_m));return N.useMemo(()=>({initial:e,animate:r}),[nE(e),nE(r)])}function nE(t){return Array.isArray(t)?t.join(" "):t}const tV=Symbol.for("motionComponentSymbol");function Kc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function rV(t,e,r){return N.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Kc(r)&&(r.current=n))},[e])}const qv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nV="framerAppearId",ZS="data-"+qv(nV),e5=N.createContext({});function iV(t,e,r,n,i){const{visualElement:s}=N.useContext(_m),l=N.useContext(YS),u=N.useContext(wm),d=N.useContext(zv).reducedMotion,h=N.useRef(null);n=n||l.renderer,!h.current&&n&&(h.current=n(t,{visualState:e,parent:s,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,g=N.useContext(e5);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&sV(h.current,r,i,g);const y=N.useRef(!1);N.useInsertionEffect(()=>{p&&y.current&&p.update(r,u)});const v=r[ZS],k=N.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return sS(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Bv.render(p.render),k.current&&p.animationState&&p.animationState.animateChanges())}),N.useEffect(()=>{p&&(!k.current&&p.animationState&&p.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),k.current=!1))}),p}function sV(t,e,r,n){const{layoutId:i,layout:s,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:t5(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!l||u&&Kc(u),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:d,layoutRoot:h})}function t5(t){if(t)return t.options.allowProjection!==!1?t.projection:t5(t.parent)}function aV({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&K$(t);function s(u,d){let h;const p={...N.useContext(zv),...u,layoutId:oV(u)},{isStatic:g}=p,y=eV(u),v=n(u,g);if(!g&&bv){lV();const k=cV(p);h=k.MeasureLayout,y.visualElement=iV(i,v,p,e,k.ProjectionNode)}return a.jsxs(_m.Provider,{value:y,children:[h&&y.visualElement?a.jsx(h,{visualElement:y.visualElement,...p}):null,r(i,u,rV(v,y.visualElement,d),v,g,y.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=N.forwardRef(s);return l[tV]=i,l}function oV({layoutId:t}){const e=N.useContext(yv).id;return e&&t!==void 0?e+"-"+t:t}function lV(t,e){N.useContext(YS).strict}function cV(t){const{drag:e,layout:r}=pu;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const c0={};function uV(t){for(const e in t)c0[e]=t[e],Av(e)&&(c0[e].isCSSVariable=!0)}function r5(t,{layout:e,layoutId:r}){return Pu.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!c0[t]||t==="opacity")}const dV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hV=ju.length;function fV(t,e,r){let n="",i=!0;for(let s=0;s<hV;s++){const l=ju[s],u=t[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||r){const h=HS(u,Vv[l]);if(!d){i=!1;const p=dV[l]||l;n+=`${p}(${h}) `}r&&(e[l]=h)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function Gv(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let l=!1,u=!1;for(const d in e){const h=e[d];if(Pu.has(d)){l=!0;continue}else if(Av(d)){i[d]=h;continue}else{const p=HS(h,Vv[d]);d.startsWith("origin")?(u=!0,s[d]=p):n[d]=p}}if(e.transform||(l||r?n.transform=fV(e,t.transform,r):n.transform&&(n.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:p=0}=s;n.transformOrigin=`${d} ${h} ${p}`}}const Kv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function n5(t,e,r){for(const n in e)!Kn(e[n])&&!r5(n,r)&&(t[n]=e[n])}function pV({transformTemplate:t},e){return N.useMemo(()=>{const r=Kv();return Gv(r,e,t),Object.assign({},r.vars,r.style)},[e])}function mV(t,e){const r=t.style||{},n={};return n5(n,r,t),Object.assign(n,pV(t,e)),n}function gV(t,e){const r={},n=mV(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const xV={offset:"stroke-dashoffset",array:"stroke-dasharray"},yV={offset:"strokeDashoffset",array:"strokeDasharray"};function vV(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?xV:yV;t[s.offset]=Pt.transform(-n);const l=Pt.transform(e),u=Pt.transform(r);t[s.array]=`${l} ${u}`}function i5(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:l=0,...u},d,h,p){if(Gv(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),i!==void 0&&vV(g,i,s,l,!1)}const s5=()=>({...Kv(),attrs:{}}),a5=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bV(t,e,r,n){const i=N.useMemo(()=>{const s=s5();return i5(s,e,a5(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};n5(s,t.style,t),i.style={...s,...i.style}}return i}const wV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xv(t){return typeof t!="string"||t.includes("-")?!1:!!(wV.indexOf(t)>-1||/[A-Z]/u.test(t))}function _V(t=!1){return(r,n,i,{latestValues:s},l)=>{const d=(Xv(r)?bV:gV)(n,s,l,r),h=Q$(n,typeof r=="string",t),p=r!==N.Fragment?{...h,...d,ref:i}:{},{children:g}=n,y=N.useMemo(()=>Kn(g)?g.get():g,[g]);return N.createElement(r,{...p,children:y})}}function iE(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Yv(t,e,r,n){if(typeof e=="function"){const[i,s]=iE(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=iE(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function Uf(t){return Kn(t)?t.get():t}function EV({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:TV(r,n,i,t),renderState:e()}}const o5=t=>(e,r)=>{const n=N.useContext(_m),i=N.useContext(wm),s=()=>EV(t,e,n,i);return r?s():vv(s)};function TV(t,e,r,n){const i={},s=n(t,{});for(const y in s)i[y]=Uf(s[y]);let{initial:l,animate:u}=t;const d=Tm(t),h=JS(t);e&&h&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let p=r?r.initial===!1:!1;p=p||l===!1;const g=p?u:l;if(g&&typeof g!="boolean"&&!Em(g)){const y=Array.isArray(g)?g:[g];for(let v=0;v<y.length;v++){const k=Yv(t,y[v]);if(k){const{transitionEnd:w,transition:E,...O}=k;for(const M in O){let V=O[M];if(Array.isArray(V)){const j=p?V.length-1:0;V=V[j]}V!==null&&(i[M]=V)}for(const M in w)i[M]=w[M]}}}return i}function Qv(t,e,r){const{style:n}=t,i={};for(const s in n)(Kn(n[s])||e.style&&Kn(e.style[s])||r5(s,t)||r?.getValue(s)?.liveStyle!==void 0)&&(i[s]=n[s]);return i}const kV={useVisualState:o5({scrapeMotionValuesFromProps:Qv,createRenderState:Kv})};function l5(t,e,r){const n=Qv(t,e,r);for(const i in t)if(Kn(t[i])||Kn(e[i])){const s=ju.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}const NV={useVisualState:o5({scrapeMotionValuesFromProps:l5,createRenderState:s5})};function SV(t,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...Xv(n)?NV:kV,preloadedFeatures:t,useRender:_V(i),createVisualElement:e,Component:n};return aV(l)}}function u0(t,e,r){const n=t.getProps();return Yv(n,e,r!==void 0?r:n.custom,t)}const $y=t=>Array.isArray(t);function AV(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,fu(r))}function CV(t){return $y(t)?t[t.length-1]||0:t}function IV(t,e){const r=u0(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const l in s){const u=CV(s[l]);AV(t,l,u)}}function jV(t){return!!(Kn(t)&&t.add)}function Vy(t,e){const r=t.getValue("willChange");if(jV(r))return r.add(e);if(!r&&Ba.WillChange){const n=new Ba.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function c5(t){return t.props[ZS]}const PV=t=>t!==null;function RV(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(PV),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}const DV={type:"spring",stiffness:500,damping:25,restSpeed:10},OV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),FV={type:"keyframes",duration:.8},LV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},MV=(t,{keyframes:e})=>e.length>2?FV:Pu.has(t)?t.startsWith("scale")?OV(e[1]):DV:LV;function $V({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:l,repeatDelay:u,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const Jv=(t,e,r,n={},i,s)=>l=>{const u=$v(n,t)||{},d=u.delay||n.delay||0;let{elapsed:h=0}=n;h=h-ta(d);const p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:s?void 0:i};$V(u)||Object.assign(p,MV(t,p)),p.duration&&(p.duration=ta(p.duration)),p.repeatDelay&&(p.repeatDelay=ta(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),(Ba.instantAnimations||Ba.skipAnimations)&&(g=!0,p.duration=0,p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!s&&e.get()!==void 0){const y=RV(p.keyframes,u);if(y!==void 0){Mr.update(()=>{p.onUpdate(y),p.onComplete()});return}}return u.isSync?new Fv(p):new v$(p)};function VV({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function u5(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:l,...u}=e;n&&(s=n);const d=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const p in u){const g=t.getValue(p,t.latestValues[p]??null),y=u[p];if(y===void 0||h&&VV(h,p))continue;const v={delay:r,...$v(s||{},p)},k=g.get();if(k!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===k&&!v.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const O=c5(t);if(O){const M=window.MotionHandoffAnimation(O,p,Mr);M!==null&&(v.startTime=M,w=!0)}}Vy(t,p),g.start(Jv(p,g,y,t.shouldReduceMotion&&$S.has(p)?{type:!1}:v,t,w));const E=g.animation;E&&d.push(E)}return l&&Promise.all(d).then(()=>{Mr.update(()=>{l&&IV(t,l)})}),d}function By(t,e,r={}){const n=u0(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(u5(t,n,r)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=i;return BV(t,e,h+d,p,g,r)}:()=>Promise.resolve(),{when:u}=i;if(u){const[d,h]=u==="beforeChildren"?[s,l]:[l,s];return d().then(()=>h())}else return Promise.all([s(),l(r.delay)])}function BV(t,e,r=0,n=0,i=1,s){const l=[],u=(t.variantChildren.size-1)*n,d=i===1?(h=0)=>h*n:(h=0)=>u-h*n;return Array.from(t.variantChildren).sort(UV).forEach((h,p)=>{h.notify("AnimationStart",e),l.push(By(h,e,{...s,delay:r+d(p)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function UV(t,e){return t.sortNodePosition(e)}function zV(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>By(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=By(t,e,r);else{const i=typeof e=="function"?u0(t,e,r.custom):e;n=Promise.all(u5(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function d5(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const HV=Wv.length;function h5(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?h5(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<HV;r++){const n=Wv[r],i=t.props[n];(l0(i)||i===!1)&&(e[n]=i)}return e}const WV=[...Hv].reverse(),qV=Hv.length;function GV(t){return e=>Promise.all(e.map(({animation:r,options:n})=>zV(t,r,n)))}function KV(t){let e=GV(t),r=sE(),n=!0;const i=d=>(h,p)=>{const g=u0(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:v,...k}=g;h={...h,...k,...v}}return h};function s(d){e=d(t)}function l(d){const{props:h}=t,p=h5(t.parent)||{},g=[],y=new Set;let v={},k=1/0;for(let E=0;E<qV;E++){const O=WV[E],M=r[O],V=h[O]!==void 0?h[O]:p[O],j=l0(V),X=O===d?M.isActive:null;X===!1&&(k=E);let U=V===p[O]&&V!==h[O]&&j;if(U&&n&&t.manuallyAnimateOnMount&&(U=!1),M.protectedKeys={...v},!M.isActive&&X===null||!V&&!M.prevProp||Em(V)||typeof V=="boolean")continue;const A=XV(M.prevProp,V);let S=A||O===d&&M.isActive&&!U&&j||E>k&&j,C=!1;const P=Array.isArray(V)?V:[V];let D=P.reduce(i(O),{});X===!1&&(D={});const{prevResolvedValues:z={}}=M,B={...z,...D},Ee=Fe=>{S=!0,y.has(Fe)&&(C=!0,y.delete(Fe)),M.needsAnimating[Fe]=!0;const ve=t.getValue(Fe);ve&&(ve.liveStyle=!1)};for(const Fe in B){const ve=D[Fe],ie=z[Fe];if(v.hasOwnProperty(Fe))continue;let me=!1;$y(ve)&&$y(ie)?me=!d5(ve,ie):me=ve!==ie,me?ve!=null?Ee(Fe):y.add(Fe):ve!==void 0&&y.has(Fe)?Ee(Fe):M.protectedKeys[Fe]=!0}M.prevProp=V,M.prevResolvedValues=D,M.isActive&&(v={...v,...D}),n&&t.blockInitialAnimation&&(S=!1),S&&(!(U&&A)||C)&&g.push(...P.map(Fe=>({animation:Fe,options:{type:O}})))}if(y.size){const E={};if(typeof h.initial!="boolean"){const O=u0(t,Array.isArray(h.initial)?h.initial[0]:h.initial);O&&O.transition&&(E.transition=O.transition)}y.forEach(O=>{const M=t.getBaseTarget(O),V=t.getValue(O);V&&(V.liveStyle=!0),E[O]=M??null}),g.push({animation:E})}let w=!!g.length;return n&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(g):Promise.resolve()}function u(d,h){if(r[d].isActive===h)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(d,h)),r[d].isActive=h;const p=l(d);for(const g in r)r[g].protectedKeys={};return p}return{animateChanges:l,setActive:u,setAnimateFunction:s,getState:()=>r,reset:()=>{r=sE(),n=!0}}}function XV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!d5(e,t):!1}function xl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sE(){return{animate:xl(!0),whileInView:xl(),whileHover:xl(),whileTap:xl(),whileDrag:xl(),whileFocus:xl(),exit:xl()}}class Qo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class YV extends Qo{constructor(e){super(e),e.animationState||(e.animationState=KV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Em(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let QV=0;class JV extends Qo{constructor(){super(...arguments),this.id=QV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ZV={animation:{Feature:YV},exit:{Feature:JV}};function d0(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function z0(t){return{point:{x:t.pageX,y:t.pageY}}}const eB=t=>e=>Uv(e)&&t(e,z0(e));function Md(t,e,r,n){return d0(t,e,eB(r),n)}function f5({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function tB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function rB(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const p5=1e-4,nB=1-p5,iB=1+p5,m5=.01,sB=0-m5,aB=0+m5;function si(t){return t.max-t.min}function oB(t,e,r){return Math.abs(t-e)<=r}function aE(t,e,r,n=.5){t.origin=n,t.originPoint=Lr(e.min,e.max,t.origin),t.scale=si(r)/si(e),t.translate=Lr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=nB&&t.scale<=iB||isNaN(t.scale))&&(t.scale=1),(t.translate>=sB&&t.translate<=aB||isNaN(t.translate))&&(t.translate=0)}function $d(t,e,r,n){aE(t.x,e.x,r.x,n?n.originX:void 0),aE(t.y,e.y,r.y,n?n.originY:void 0)}function oE(t,e,r){t.min=r.min+e.min,t.max=t.min+si(e)}function lB(t,e,r){oE(t.x,e.x,r.x),oE(t.y,e.y,r.y)}function lE(t,e,r){t.min=e.min-r.min,t.max=t.min+si(e)}function Vd(t,e,r){lE(t.x,e.x,r.x),lE(t.y,e.y,r.y)}const cE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Xc=()=>({x:cE(),y:cE()}),uE=()=>({min:0,max:0}),Jr=()=>({x:uE(),y:uE()});function ts(t){return[t("x"),t("y")]}function Fx(t){return t===void 0||t===1}function Uy({scale:t,scaleX:e,scaleY:r}){return!Fx(t)||!Fx(e)||!Fx(r)}function vl(t){return Uy(t)||g5(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function g5(t){return dE(t.x)||dE(t.y)}function dE(t){return t&&t!=="0%"}function wp(t,e,r){const n=t-r,i=e*n;return r+i}function hE(t,e,r,n,i){return i!==void 0&&(t=wp(t,i,n)),wp(t,r,n)+e}function zy(t,e=0,r=1,n,i){t.min=hE(t.min,e,r,n,i),t.max=hE(t.max,e,r,n,i)}function x5(t,{x:e,y:r}){zy(t.x,e.translate,e.scale,e.originPoint),zy(t.y,r.translate,r.scale,r.originPoint)}const fE=.999999999999,pE=1.0000000000001;function cB(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,l;for(let u=0;u<i;u++){s=r[u],l=s.projectionDelta;const{visualElement:d}=s.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Qc(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,x5(t,l)),n&&vl(s.latestValues)&&Qc(t,s.latestValues))}e.x<pE&&e.x>fE&&(e.x=1),e.y<pE&&e.y>fE&&(e.y=1)}function Yc(t,e){t.min=t.min+e,t.max=t.max+e}function mE(t,e,r,n,i=.5){const s=Lr(t.min,t.max,i);zy(t,e,r,s,n)}function Qc(t,e){mE(t.x,e.x,e.scaleX,e.scale,e.originX),mE(t.y,e.y,e.scaleY,e.scale,e.originY)}function y5(t,e){return f5(rB(t.getBoundingClientRect(),e))}function uB(t,e,r){const n=y5(t,r),{scroll:i}=e;return i&&(Yc(n.x,i.offset.x),Yc(n.y,i.offset.y)),n}const v5=({current:t})=>t?t.ownerDocument.defaultView:null,gE=(t,e)=>Math.abs(t-e);function dB(t,e){const r=gE(t.x,e.x),n=gE(t.y,e.y);return Math.sqrt(r**2+n**2)}class b5{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Mx(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=dB(g.offset,{x:0,y:0})>=3;if(!y&&!v)return;const{point:k}=g,{timestamp:w}=Cn;this.history.push({...k,timestamp:w});const{onStart:E,onMove:O}=this.handlers;y||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Lx(y,this.transformPagePoint),Mr.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:v,onSessionEnd:k,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Mx(g.type==="pointercancel"?this.lastMoveEventInfo:Lx(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,E),k&&k(g,E)},!Uv(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const l=z0(e),u=Lx(l,this.transformPagePoint),{point:d}=u,{timestamp:h}=Cn;this.history=[{...d,timestamp:h}];const{onSessionStart:p}=r;p&&p(e,Mx(u,this.history)),this.removeListeners=V0(Md(this.contextWindow,"pointermove",this.handlePointerMove),Md(this.contextWindow,"pointerup",this.handlePointerUp),Md(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Bo(this.updatePoint)}}function Lx(t,e){return e?{point:e(t.point)}:t}function xE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Mx({point:t},e){return{point:t,delta:xE(t,w5(e)),offset:xE(t,hB(e)),velocity:fB(e,.1)}}function hB(t){return t[0]}function w5(t){return t[t.length-1]}function fB(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=w5(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>ta(e)));)r--;if(!n)return{x:0,y:0};const s=ra(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const l={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function pB(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Lr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Lr(r,t,n.max):Math.min(t,r)),t}function yE(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function mB(t,{top:e,left:r,bottom:n,right:i}){return{x:yE(t.x,r,i),y:yE(t.y,e,n)}}function vE(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function gB(t,e){return{x:vE(t.x,e.x),y:vE(t.y,e.y)}}function xB(t,e){let r=.5;const n=si(t),i=si(e);return i>n?r=s0(e.min,e.max-n,t.min):n>i&&(r=s0(t.min,t.max-i,e.min)),Va(0,1,r)}function yB(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Hy=.35;function vB(t=Hy){return t===!1?t=0:t===!0&&(t=Hy),{x:bE(t,"left","right"),y:bE(t,"top","bottom")}}function bE(t,e,r){return{min:wE(t,e),max:wE(t,r)}}function wE(t,e){return typeof t=="number"?t:t[e]||0}const bB=new WeakMap;class wB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Jr(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(z0(p).point)},s=(p,g)=>{const{drag:y,dragPropagation:v,onDragStart:k}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=O$(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ts(E=>{let O=this.getAxisMotionValue(E).get()||0;if(na.test(O)){const{projection:M}=this.visualElement;if(M&&M.layout){const V=M.layout.layoutBox[E];V&&(O=si(V)*(parseFloat(O)/100))}}this.originPoint[E]=O}),k&&Mr.postRender(()=>k(p,g)),Vy(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(p,g)=>{const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:k,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:E}=g;if(v&&this.currentDirection===null){this.currentDirection=_B(E),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",g.point,E),this.updateAxis("y",g.point,E),this.visualElement.render(),w&&w(p,g)},u=(p,g)=>this.stop(p,g),d=()=>ts(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new b5(e,{onSessionStart:i,onStart:s,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:v5(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Mr.postRender(()=>s(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!yf(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let l=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(l=pB(l,this.constraints[e],this.elastic[e])),s.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Kc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=mB(n.layoutBox,e):this.constraints=!1,this.elastic=vB(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ts(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=yB(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Kc(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=uB(n,i.root,this.visualElement.getTransformPagePoint());let l=gB(i.layout.layoutBox,s);if(r){const u=r(tB(l));this.hasMutatedConstraints=!!u,u&&(l=f5(u))}return l}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=ts(p=>{if(!yf(p,r,this.currentDirection))return;let g=d&&d[p]||{};l&&(g={min:0,max:0});const y=i?200:1e6,v=i?40:1e7,k={type:"inertia",velocity:n?e[p]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(p,k)});return Promise.all(h).then(u)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Vy(this.visualElement,e),n.start(Jv(e,n,0,r,this.visualElement,!1))}stopAnimation(){ts(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ts(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ts(r=>{const{drag:n}=this.getProps();if(!yf(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[r];s.set(e[r]-Lr(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Kc(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ts(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();i[l]=xB({min:d,max:d},this.constraints[l])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ts(l=>{if(!yf(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];u.set(Lr(d,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;bB.set(this.visualElement,this);const e=this.visualElement.current,r=Md(e,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();Kc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Mr.read(n);const l=d0(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(ts(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=d[p].translate,g.set(g.get()+d[p].translate))}),this.visualElement.render())}));return()=>{l(),r(),s(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:l=Hy,dragMomentum:u=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:l,dragMomentum:u}}}function yf(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function _B(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class EB extends Qo{constructor(e){super(e),this.removeGroupControls=ns,this.removeListeners=ns,this.controls=new wB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ns}unmount(){this.removeGroupControls(),this.removeListeners()}}const _E=t=>(e,r)=>{t&&Mr.postRender(()=>t(e,r))};class TB extends Qo{constructor(){super(...arguments),this.removePointerDownListener=ns}onPointerDown(e){this.session=new b5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:v5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:_E(e),onStart:_E(r),onMove:n,onEnd:(s,l)=>{delete this.session,i&&Mr.postRender(()=>i(s,l))}}}mount(){this.removePointerDownListener=Md(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function EE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pt.test(t))t=parseFloat(t);else return t;const r=EE(t,e.target.x),n=EE(t,e.target.y);return`${r}% ${n}%`}},kB={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Uo.parse(t);if(i.length>5)return n;const s=Uo.createTransformer(t),l=typeof i[0]!="number"?1:0,u=r.x.scale*e.x,d=r.y.scale*e.y;i[0+l]/=u,i[1+l]/=d;const h=Lr(u,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),s(i)}};class NB extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;uV(SB),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),zf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:l}=n;return l&&(l.isPresent=s,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?l.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?l.promote():l.relegate()||Mr.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Bv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _5(t){const[e,r]=XS(),n=N.useContext(yv);return a.jsx(NB,{...t,layoutGroup:n,switchLayoutGroup:N.useContext(e5),isPresent:e,safeToRemove:r})}const SB={borderRadius:{...xd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xd,borderTopRightRadius:xd,borderBottomLeftRadius:xd,borderBottomRightRadius:xd,boxShadow:kB};function AB(t,e,r){const n=Kn(t)?t:fu(t);return n.start(Jv("",n,e,r)),n.animation}const CB=(t,e)=>t.depth-e.depth;class IB{constructor(){this.children=[],this.isDirty=!1}add(e){wv(this.children,e),this.isDirty=!0}remove(e){_v(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(CB),this.isDirty=!1,this.children.forEach(e)}}function jB(t,e){const r=vi.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Bo(n),t(s-e))};return Mr.setup(n,!0),()=>Bo(n)}const E5=["TopLeft","TopRight","BottomLeft","BottomRight"],PB=E5.length,TE=t=>typeof t=="string"?parseFloat(t):t,kE=t=>typeof t=="number"||Pt.test(t);function RB(t,e,r,n,i,s){i?(t.opacity=Lr(0,r.opacity??1,DB(n)),t.opacityExit=Lr(e.opacity??1,0,OB(n))):s&&(t.opacity=Lr(e.opacity??1,r.opacity??1,n));for(let l=0;l<PB;l++){const u=`border${E5[l]}Radius`;let d=NE(e,u),h=NE(r,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||kE(d)===kE(h)?(t[u]=Math.max(Lr(TE(d),TE(h),n),0),(na.test(h)||na.test(d))&&(t[u]+="%")):t[u]=h}(e.rotate||r.rotate)&&(t.rotate=Lr(e.rotate||0,r.rotate||0,n))}function NE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const DB=T5(0,.5,gS),OB=T5(.5,.95,ns);function T5(t,e,r){return n=>n<t?0:n>e?1:r(s0(t,e,n))}function SE(t,e){t.min=e.min,t.max=e.max}function Zi(t,e){SE(t.x,e.x),SE(t.y,e.y)}function AE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function CE(t,e,r,n,i){return t-=e,t=wp(t,1/r,n),i!==void 0&&(t=wp(t,1/i,n)),t}function FB(t,e=0,r=1,n=.5,i,s=t,l=t){if(na.test(e)&&(e=parseFloat(e),e=Lr(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=Lr(s.min,s.max,n);t===s&&(u-=e),t.min=CE(t.min,e,r,u,i),t.max=CE(t.max,e,r,u,i)}function IE(t,e,[r,n,i],s,l){FB(t,e[r],e[n],e[i],e.scale,s,l)}const LB=["x","scaleX","originX"],MB=["y","scaleY","originY"];function jE(t,e,r,n){IE(t.x,e,LB,r?r.x:void 0,n?n.x:void 0),IE(t.y,e,MB,r?r.y:void 0,n?n.y:void 0)}function PE(t){return t.translate===0&&t.scale===1}function k5(t){return PE(t.x)&&PE(t.y)}function RE(t,e){return t.min===e.min&&t.max===e.max}function $B(t,e){return RE(t.x,e.x)&&RE(t.y,e.y)}function DE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function N5(t,e){return DE(t.x,e.x)&&DE(t.y,e.y)}function OE(t){return si(t.x)/si(t.y)}function FE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class VB{constructor(){this.members=[]}add(e){wv(this.members,e),e.scheduleRender()}remove(e){if(_v(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BB(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,l=r?.z||0;if((i||s||l)&&(n=`translate3d(${i}px, ${s}px, ${l}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:y,skewX:v,skewY:k}=r;h&&(n=`perspective(${h}px) ${n}`),p&&(n+=`rotate(${p}deg) `),g&&(n+=`rotateX(${g}deg) `),y&&(n+=`rotateY(${y}deg) `),v&&(n+=`skewX(${v}deg) `),k&&(n+=`skewY(${k}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(n+=`scale(${u}, ${d})`),n||"none"}const $x=["","X","Y","Z"],UB={visibility:"hidden"},zB=1e3;let HB=0;function Vx(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function S5(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=c5(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Mr,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&S5(n)}function A5({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(l={},u=e?.()){this.id=HB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(GB),this.nodes.forEach(JB),this.nodes.forEach(ZB),this.nodes.forEach(KB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new IB)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new kv),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=KS(l)&&!B$(l),this.instance=l;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let p;const g=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=jB(g,250),zf.hasAnimatedSinceResize&&(zf.hasAnimatedSinceResize=!1,this.nodes.forEach(ME))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||h.getDefaultTransition()||iU,{onLayoutAnimationStart:w,onLayoutAnimationComplete:E}=h.getProps(),O=!this.targetLayout||!N5(this.targetLayout,v),M=!g&&y;if(this.options.layoutRoot||this.resumeFrom||M||g&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,M);const V={...$v(k,"layout"),onPlay:w,onComplete:E};(h.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V)}else g||ME(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Bo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eU),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&S5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LE);return}this.isUpdating||this.nodes.forEach(YB),this.isUpdating=!1,this.nodes.forEach(QB),this.nodes.forEach(WB),this.nodes.forEach(qB),this.clearAllSnapshots();const u=vi.now();Cn.delta=Va(0,1e3/60,u-Cn.timestamp),Cn.timestamp=u,Cn.isProcessing=!0,Ix.update.process(Cn),Ix.preRender.process(Cn),Ix.render.process(Cn),Cn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(XB),this.sharedNodes.forEach(tU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!si(this.snapshot.measuredBox.x)&&!si(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Jr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!k5(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&this.instance&&(u||vl(this.latestValues)||p)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),sU(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Jr();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(aU))){const{scroll:h}=this.root;h&&(Yc(u.x,h.offset.x),Yc(u.y,h.offset.y))}return u}removeElementScroll(l){const u=Jr();if(Zi(u,l),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Zi(u,l),Yc(u.x,p.offset.x),Yc(u.y,p.offset.y))}return u}applyTransform(l,u=!1){const d=Jr();Zi(d,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Qc(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),vl(p.latestValues)&&Qc(d,p.latestValues)}return vl(this.latestValues)&&Qc(d,this.latestValues),d}removeTransform(l){const u=Jr();Zi(u,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!vl(h.latestValues))continue;Uy(h.latestValues)&&h.updateSnapshot();const p=Jr(),g=h.measurePageBox();Zi(p,g),jE(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return vl(this.latestValues)&&jE(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Cn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Cn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jr(),this.relativeTargetOrigin=Jr(),Vd(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Zi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Jr(),this.targetWithTransforms=Jr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zi(this.target,this.layout.layoutBox),x5(this.target,this.targetDelta)):Zi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Jr(),this.relativeTargetOrigin=Jr(),Vd(this.relativeTargetOrigin,this.target,y.target),Zi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Uy(this.parent.latestValues)||g5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Cn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Zi(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;cB(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Jr());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(AE(this.prevProjectionDelta.x,this.projectionDelta.x),AE(this.prevProjectionDelta.y,this.projectionDelta.y)),$d(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!FE(this.projectionDelta.x,this.prevProjectionDelta.x)||!FE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Xc(),this.projectionDelta=Xc(),this.projectionDeltaWithTransform=Xc()}setAnimationOrigin(l,u=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},g=Xc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=Jr(),v=d?d.source:void 0,k=this.layout?this.layout.source:void 0,w=v!==k,E=this.getStack(),O=!E||E.members.length<=1,M=!!(w&&!O&&this.options.crossfade===!0&&!this.path.some(nU));this.animationProgress=0;let V;this.mixTargetDelta=j=>{const X=j/1e3;$E(g.x,l.x,X),$E(g.y,l.y,X),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vd(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rU(this.relativeTarget,this.relativeTargetOrigin,y,X),V&&$B(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=Jr()),Zi(V,this.relativeTarget)),w&&(this.animationValues=p,RB(p,h,this.latestValues,X,M,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(!1),this.resumingFrom?.currentAnimation?.stop(!1),this.pendingAnimation&&(Bo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mr.update(()=>{zf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fu(0)),this.currentAnimation=AB(this.motionValue,[0,1e3],{...l,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zB),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:p}=l;if(!(!u||!d||!h)){if(this!==l&&this.layout&&h&&C5(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Jr();const g=si(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const y=si(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+y}Zi(u,d),Qc(u,p),$d(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new VB),this.sharedNodes.get(l).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&Vx("z",l,h,this.animationValues);for(let p=0;p<$x.length;p++)Vx(`rotate${$x[p]}`,l,h,this.animationValues),Vx(`skew${$x[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return UB;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Uf(l?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Uf(l?.pointerEvents)||""),this.hasProjected&&!vl(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=BB(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:g,y}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in c0){if(p[v]===void 0)continue;const{correct:k,applyTo:w,isCSSVariable:E}=c0[v],O=u.transform==="none"?p[v]:k(p[v],h);if(w){const M=w.length;for(let V=0;V<M;V++)u[w[V]]=O}else E?this.options.visualElement.renderState.vars[v]=O:u[v]=O}return this.options.layoutId&&(u.pointerEvents=h===this?Uf(l?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop(!1)),this.root.nodes.forEach(LE),this.root.sharedNodes.clear()}}}function WB(t){t.updateLayout()}function qB(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?ts(p=>{const g=s?e.measuredBox[p]:e.layoutBox[p],y=si(g);g.min=r[p].min,g.max=g.min+y}):C5(i,e.layoutBox,r)&&ts(p=>{const g=s?e.measuredBox[p]:e.layoutBox[p],y=si(r[p]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const l=Xc();$d(l,r,e.layoutBox);const u=Xc();s?$d(u,t.applyTransform(n,!0),e.measuredBox):$d(u,r,e.layoutBox);const d=!k5(l);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:y}=p;if(g&&y){const v=Jr();Vd(v,e.layoutBox,g.layoutBox);const k=Jr();Vd(k,r,y.layoutBox),N5(v,k)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=v,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function GB(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function KB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function XB(t){t.clearSnapshot()}function LE(t){t.clearMeasurements()}function YB(t){t.isLayoutDirty=!1}function QB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ME(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function JB(t){t.resolveTargetDelta()}function ZB(t){t.calcProjection()}function eU(t){t.resetSkewAndRotation()}function tU(t){t.removeLeadSnapshot()}function $E(t,e,r){t.translate=Lr(e.translate,0,r),t.scale=Lr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function VE(t,e,r,n){t.min=Lr(e.min,r.min,n),t.max=Lr(e.max,r.max,n)}function rU(t,e,r,n){VE(t.x,e.x,r.x,n),VE(t.y,e.y,r.y,n)}function nU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const iU={duration:.45,ease:[.4,0,.1,1]},BE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),UE=BE("applewebkit/")&&!BE("chrome/")?Math.round:ns;function zE(t){t.min=UE(t.min),t.max=UE(t.max)}function sU(t){zE(t.x),zE(t.y)}function C5(t,e,r){return t==="position"||t==="preserve-aspect"&&!oB(OE(e),OE(r),.2)}function aU(t){return t!==t.root&&t.scroll?.wasRoot}const oU=A5({attachResizeListener:(t,e)=>d0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bx={current:void 0},I5=A5({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bx.current){const t=new oU({});t.mount(window),t.setOptions({layoutScroll:!0}),Bx.current=t}return Bx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),lU={pan:{Feature:TB},drag:{Feature:EB,ProjectionNode:I5,MeasureLayout:_5}};function HE(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&Mr.postRender(()=>s(e,z0(e)))}class cU extends Qo{mount(){const{current:e}=this.node;e&&(this.unmount=F$(e,(r,n)=>(HE(this.node,n,"Start"),i=>HE(this.node,i,"End"))))}unmount(){}}class uU extends Qo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=V0(d0(this.node.current,"focus",()=>this.onFocus()),d0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function WE(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&Mr.postRender(()=>s(e,z0(e)))}class dU extends Qo{mount(){const{current:e}=this.node;e&&(this.unmount=V$(e,(r,n)=>(WE(this.node,n,"Start"),(i,{success:s})=>WE(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wy=new WeakMap,Ux=new WeakMap,hU=t=>{const e=Wy.get(t.target);e&&e(t)},fU=t=>{t.forEach(hU)};function pU({root:t,...e}){const r=t||document;Ux.has(r)||Ux.set(r,{});const n=Ux.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(fU,{root:t,...e})),n[i]}function mU(t,e,r){const n=pU(e);return Wy.set(t,r),n.observe(t),()=>{Wy.delete(t),n.unobserve(t)}}const gU={some:0,all:1};class xU extends Qo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,l={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:gU[i]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=h?p:g;y&&y(d)};return mU(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(yU(e,r))&&this.startObserver()}unmount(){}}function yU({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const vU={inView:{Feature:xU},tap:{Feature:dU},focus:{Feature:uU},hover:{Feature:cU}},bU={layout:{ProjectionNode:I5,MeasureLayout:_5}},qy={current:null},j5={current:!1};function wU(){if(j5.current=!0,!!bv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qy.current=t.matches;t.addListener(e),e()}else qy.current=!1}const _U=new WeakMap;function EU(t,e,r){for(const n in e){const i=e[n],s=r[n];if(Kn(i))t.addValue(n,i);else if(Kn(s))t.addValue(n,fu(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const l=t.getValue(n);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(n);t.addValue(n,fu(l!==void 0?l:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const qE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class TU{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Lv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=vi.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Mr.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!s,this.isControllingVariants=Tm(r),this.isVariantNode=JS(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const y in g){const v=g[y];d[y]!==void 0&&Kn(v)&&v.set(d[y],!1)}}mount(e){this.current=e,_U.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),j5.current||wU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Bo(this.notifyUpdate),Bo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Pu.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Mr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s(),l&&l(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pu){const r=pu[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Jr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<qE.length;n++){const i=qE[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,l=e[s];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=EU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=fu(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(aS(n)||lS(n))?n=parseFloat(n):!z$(n)&&Uo.test(r)&&(n=zS(e,r)),this.setBaseTarget(e,Kn(n)?n.get():n)),Kn(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=Yv(this.props,r,this.presenceContext?.custom);s&&(n=s[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Kn(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new kv),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class P5 extends TU{constructor(){super(...arguments),this.KeyframeResolver=j$}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function R5(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const s in r)t.style.setProperty(s,r[s])}function kU(t){return window.getComputedStyle(t)}class NU extends P5{constructor(){super(...arguments),this.type="html",this.renderInstance=R5}readValueFromInstance(e,r){if(Pu.has(r))return this.projection?.isProjecting?Ry(r):YM(e,r);{const n=kU(e),i=(Av(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return y5(e,r)}build(e,r,n){Gv(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Qv(e,r,n)}}const D5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function SU(t,e,r,n){R5(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(D5.has(i)?i:qv(i),e.attrs[i])}class AU extends P5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Jr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Pu.has(r)){const n=US(r);return n&&n.default||0}return r=D5.has(r)?r:qv(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return l5(e,r,n)}build(e,r,n){i5(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){SU(e,r,n,i)}mount(e){this.isSVGTag=a5(e.tagName),super.mount(e)}}const CU=(t,e)=>Xv(t)?new AU(e):new NU(e,{allowProjection:t!==N.Fragment}),IU=SV({...ZV,...vU,...lU,...bU},CU),ne=J$(IU),GE=(t,e,r,n)=>{t.style.transition=`${e} ${r}ms ${n}`},Ta=(t,e,r)=>Math.min(Math.max(t,e),r);class jU{constructor(e,r){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=l=>{const{width:u,height:d}=l,h=Math.sqrt(u**2+d**2);return{width:h,height:h}},this.setSize=l=>{const u=this.calculateGlareSize(l);this.glareEl.style.width=`${u.width}px`,this.glareEl.style.height=`${u.height}px`},this.update=(l,u,d,h)=>{this.updateAngle(l,u.glareReverse),this.updateOpacity(l,u,d,h)},this.updateAngle=(l,u)=>{const{xPercentage:d,yPercentage:h}=l,p=180/Math.PI,g=d?Math.atan2(h,-d)*p:0;this.glareAngle=g-(u?180:0)},this.updateOpacity=(l,u,d,h)=>{const{xPercentage:p,yPercentage:g}=l,{glarePosition:y,glareReverse:v,glareMaxOpacity:k}=u,w=d?-1:1,E=h?-1:1,O=v?-1:1;let M=0;switch(y){case"top":M=-p*w*O;break;case"right":M=g*E*O;break;case"bottom":case void 0:M=p*w*O;break;case"left":M=-g*E*O;break;case"all":M=Math.hypot(p,g)}const V=Ta(M,0,100);this.glareOpacity=V*k/100},this.render=l=>{const{glareColor:u}=l;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${u} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const n={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:r,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},i=this.calculateGlareSize(e),s={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${i.width}px`,height:`${i.height}px`};Object.assign(this.glareWrapperEl.style,n),Object.assign(this.glareEl.style,s)}}class PU{constructor(){this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,r)=>{this.updateTilt(e,r),this.updateTiltManualInput(e,r),this.updateTiltReverse(r),this.updateTiltLimits(r)},this.updateTilt=(e,r)=>{const{xPercentage:n,yPercentage:i}=e,{tiltMaxAngleX:s,tiltMaxAngleY:l}=r;this.tiltAngleX=n*s/100,this.tiltAngleY=i*l/100*-1},this.updateTiltManualInput=(e,r)=>{const{tiltAngleXManual:n,tiltAngleYManual:i,tiltMaxAngleX:s,tiltMaxAngleY:l}=r;(n!==null||i!==null)&&(this.tiltAngleX=n!==null?n:0,this.tiltAngleY=i!==null?i:0,e.xPercentage=100*this.tiltAngleX/s,e.yPercentage=100*this.tiltAngleY/l)},this.updateTiltReverse=e=>{const r=e.tiltReverse?-1:1;this.tiltAngleX=r*this.tiltAngleX,this.tiltAngleY=r*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:r}=e;this.tiltAngleX=Ta(this.tiltAngleX,-90,90),this.tiltAngleY=Ta(this.tiltAngleY,-90,90),r&&(this.tiltAngleX=r==="x"?this.tiltAngleX:0,this.tiltAngleY=r==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:r,tiltMaxAngleY:n}=e;this.tiltAngleXPercentage=this.tiltAngleX/r*100,this.tiltAngleYPercentage=this.tiltAngleY/n*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const RU={scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1,tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null,glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"};class O5 extends N.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=async()=>{if(!window.DeviceOrientationEvent)return;const e=DeviceOrientationEvent.requestPermission;typeof e=="function"?await e()==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)},this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:r}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),r&&r({event:e})},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:r}=this.props;if(this.setTransitions(),r&&r({event:e}),this.props.reset){const n=new CustomEvent("autoreset");this.onMove(n)}},this.processInput=e=>{const{scale:r}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=r;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=r;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=r;break;case"autoreset":{const{tiltAngleXInitial:n,tiltAngleYInitial:i,tiltMaxAngleX:s,tiltMaxAngleY:l}=this.props,u=i/l*100;this.wrapperEl.clientPosition.xPercentage=Ta(n/s*100,-100,100),this.wrapperEl.clientPosition.yPercentage=Ta(u,-100,100),this.wrapperEl.scale=1;break}}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:r,tiltMaxAngleY:n}=this.props,i=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/r*100,this.wrapperEl.clientPosition.yPercentage=i/n*100,this.wrapperEl.clientPosition.xPercentage=Ta(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=Ta(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:r,flipVertically:n,flipHorizontally:i}=this.props;e!=="autoreset"&&e!=="deviceorientation"&&e!=="propChange"&&this.updateClientInput(),r&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,n,i)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let r,n;if(e){const{x:i,y:s}=this.wrapperEl.clientPosition;r=s/window.innerHeight*200-100,n=i/window.innerWidth*200-100}else{const{size:{width:i,height:s,left:l,top:u},clientPosition:{x:d,y:h}}=this.wrapperEl;r=(h-u)/s*200-100,n=(d-l)/i*200-100}this.wrapperEl.clientPosition.xPercentage=Ta(r,-100,100),this.wrapperEl.clientPosition.yPercentage=Ta(n,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:r}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),r&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new PU,this.initGlare(),this.setSize(),this.addEventListeners(),typeof CustomEvent>"u")return;const e=new CustomEvent("autoreset");this.mainLoop(e);const r=new CustomEvent("initial");this.emitOnMove(r)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:r}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),r&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:r}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),r&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:r}=this.props;e&&(this.glare=new jU(this.wrapperEl.size,r),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:r}=this.props;if(!r)return;let n=0,i=0;this.glare&&(n=this.glare.glareAngle,i=this.glare.glareOpacity),r({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:n,glareOpacity:i,event:e})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:r}=this.props;GE(this.wrapperEl.node,"all",e,r),this.glare&&GE(this.glare.glareEl,"opacity",e,r)}render(){const{children:e,className:r,style:n}=this.props;return a.jsx("div",{ref:i=>{this.wrapperEl.node=i},onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:r,style:n,children:e})}}O5.defaultProps=RU;var zx={exports:{}},Hx,KE;function DU(){if(KE)return Hx;KE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Hx=t,Hx}var Wx,XE;function OU(){if(XE)return Wx;XE=1;var t=DU();function e(){}function r(){}return r.resetWarningCache=e,Wx=function(){function n(l,u,d,h,p,g){if(g!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},Wx}var YE;function FU(){return YE||(YE=1,zx.exports=OU()()),zx.exports}var LU=FU();const q=t1(LU);var F5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},QE=As.createContext&&As.createContext(F5),MU=["attr","size","title"];function $U(t,e){if(t==null)return{};var r=VU(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_p.apply(this,arguments)}function JE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ep(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JE(Object(r),!0).forEach(function(n){BU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BU(t,e,r){return e=UU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UU(t){var e=zU(t,"string");return typeof e=="symbol"?e:e+""}function zU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L5(t){return t&&t.map((e,r)=>As.createElement(e.tag,Ep({key:r},e.attr),L5(e.child)))}function Ue(t){return e=>As.createElement(HU,_p({attr:Ep({},t.attr)},e),L5(t.child))}function HU(t){var e=r=>{var{attr:n,size:i,title:s}=t,l=$U(t,MU),u=i||r.size||"1em",d;return r.className&&(d=r.className),t.className&&(d=(d?d+" ":"")+t.className),As.createElement("svg",_p({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,l,{className:d,style:Ep(Ep({color:t.color||r.color},r.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&As.createElement("title",null,s),t.children)};return QE!==void 0?As.createElement(QE.Consumer,null,r=>e(r)):e(F5)}function Gl(t){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function Kl(t){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Xl(t){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function km(t){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(t)}function WU(t){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(t)}function Nm(t){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function Fl(t){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function qU(t){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(t)}function GU(t){return Ue({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},child:[]}]})(t)}function Sd(t){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function KU(t){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function XU(t){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function YU(t){return Ue({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function QU(t){return Ue({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function JU(t){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function Ca(t){return Ue({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(t)}function ZE(t){return Ue({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function h0(t){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Ll(t){return Ue({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function M5(t){return Ue({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function $5(t){return Ue({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function Zv(t){return Ue({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function e2(t){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function Yl(t){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function ZU(t){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function ez(t){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(t)}function tz(t){return Ue({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"},child:[]}]})(t)}function mu(t){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Gy(t){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(t)}function gu(t){return Ue({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function Ky(t){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(t)}function xu(t){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Ql(t){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function Ui(t){return Ue({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function t2(t){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function rz(t){return Ue({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Tp(t){return Ue({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function Xy(t){return Ue({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function yu(t){return Ue({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function kp(t){return Ue({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}const Jl="/assets/logo-BfhC8Xaa.png",nz="/assets/brooklyn99-DYJUH8Km.png",iz="/assets/stranger-things-DRcF_wqM.png",sz="/assets/breaking-bad-D1E4kgVP.png",az="/assets/naruto-DUa7in8u.png",oz="/assets/alice-CeDQ0_3e.png",lz="/assets/netflix-DaHLFMJQ.png",cz="/assets/spotify-bWcpnvLH.png",uz="/assets/disney-CWU7DV5v.png",dz="/assets/max-BIVycyRg.png",hz="/assets/prime-video-DdoTjLXc.png",fz="/assets/vix-DijISFtY.png",pz="/assets/Canva-BX7ku0VE.png",mz="/assets/ChatGPT-B_s2moDj.png",gz="/assets/crunchyroll-CCcWGZHz.png",xz="/assets/redessociales-C9h9bjwL.png",yz="/assets/dgo-BPXOpsxd.png",vz="/assets/ligamax-DG6Hz7Oj.png",bz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAB4CAYAAADblO/uAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACnFJREFUeNrsnd912zYbh+Gc3FedoPQEVSYINUHUm+bS0gS2JlA8ga0JrF7qyvYElieIMkHYCapvAn+EQEb2sUgR1AsSIJ/nHKU9jkOKIH54/+AFcPby8qIAoNucIXQAhA4ACB0AEDoAIHQAQOgAgNABAKEDAEIHQOgAgNABAKEDAEIHAIQOAAgdABA6ACB0AIQOAAgdABA6AHRX6GdnZ7RiVVZJlP45Tj+D9PM5++k2/fxIPxv1NXqgkeA1UoYYoTcj8En652X6GR75TS36Rfq5TUW/peEAoYchcG29b9JPZPkvk/QzTcW+phEROkL3V+DaNb/L3PRT0GJf0qAIHaH7KfKnCm46YgeEjsjf8CkV+4YGRugIvbsiz2P2TyToEHpdPtCUYtw4ErkmSj9XNDGEadHNvLL+xK9+qq3WJqiMs8mu3zdwp/O0XRK6LRbdf6EbF1dbpwt1fNpJF5AsvBa9eZ6fyhTBuGaZtsWU7o/Q/Rb6KvmmTOGIrSi04KdexqjmmeYN3vF3YnWE7qfQZRJV2mX9y6vsc7PWPGeWtsEtEkDofgl9lQwzkUuIQVuykTdiXyU6BLlp+K5J+vznne7dxks6FLYkCN1HobuxeP6IfZX8VPblrRJ0e159lRzqlKM+lgRLCf2j4+/5pOTdWhMGrJJ2xW4WqkQt3V0nMjeOnitWb2dB6rDeDcgU+XjDR4dCcDmvrMV+n96jzSKSixbf23gXq7tBi/zU5OI86wPbTPSPlPG2ywdHItedxXWBR6SambsuyjvELb63KKtB8J1BNijdpd/3v8wLgs4IvbnpprggceOaSw/e3TiwvjbIBH+f5W4gaKHLxHh2g4qxsE1Z84EnIvscaJ9rqooQHMfo8xaeQ6/9/tTQvSaq2Xnzsli6Scqz3vty5igbhMYl7WQ8sa/RNyQYokVvL3YdZsm/vrjtxhX2KU7Xc9x6INBJN1Omq+f6b0vbERc+WNe9zUz0VRY2uHTbY9XelNrhAc5X9GzI10jPDExLYnZW5AUq9EnLz+Paql949v6G3vcwM61WtLvtFyQYmtCNtRu03vFdZeGNmznx7P2FkpC7LnlfuO+BWXRfRmdXWfiJh+8vDJGYCrkkWK+kA0hm3WOPnku78CPha156+P5CEokWetToYPU2ZzPI2stsbJJ/p54slPko1KADzzpdvKvCkiq79C8J9/q7RYF01ucCYzAsieFt39GX7HrDygNI3TLdw/UiSe0+V3Q9vWrPI4vuo2W5SRvvQagWXjoJpzvWIvtvXoAzr2ndohK3uE9okdTJ4uftP077i34Hs4pHY8Xqfc3I+gRhSl/PSYwee/ji80MUTreYsvG57kijXWcyU1BJtpHEuXK1Ig1sBs37lsqqnSIldF+zv2OBhRSSIp8W7g5jPI86K9LiQPpaUR/xcXCbZxt+EqMfGAl9Rbvwm1pro401nwuKvNwN05Vlq2QdkHhtPaxDSC4zXqv96bTbkkEkP812XNJ373bvoiP78/VB6KdsVCG1+GJpkaR57JzQy5O1Mhbdvm7+YedBFW8Hlsfuyy68gg8CLzGETpmLfVy5Y66SOyWTZEwsXfIuxulXhW3TtsU0oVTR++lM5V6fTmrJd6W5K63GMgPXk2Bsfm3ZmW07vt/VcaatL0usavsYsScH/qYzxTwSrntojTHZffTUm5nbzS1orPbzsHIxo+28qg4vVkmXXPayfQP/8ejbPhzwPCKE/tZShshYud9A4lr1kf3mHDcl/WPt2eaR/3b5lXxU4IpNx7YnvqiQj/kt84iO/Z4OT6bevS+EDjVYdOx5JoLXmnJYZH+Ens9z+lYnL/NsbG9cbMmrlZhKhxPHvIwhQpdHi2D2KxttXsJ9wPH+oeer2yG72uHevnO3otb5gc8VwwgsuiOSd0f/moowvaz0qSNiP8Vtt31+n2PLtTIFQA+NuOqm3FlXMkZIu32hHxaBmVbShQt3gbfppuH4838N3WdmMag0u87bZPlvlJ+bg/RW6MWdRce1q0TPZYe8oODUJJyvHo3Pswh3Fn1mXdLuQ4Qux7EYbZbFVaG68KcmmobC7dltjLs+LjEqi2yQ2hy5TpyFjghdKEYs75ja5VslC9XOQRCni7z52u2+r2GfFxqMoiXBPUSi1t22Y0dHf8OsREoCbM9HgWv8SbesbM2HBf1picjlhe5KkLMA21NiftguZOlW9Z0tRS77NdKWFrp9djWueF0tmnVQIpdx222EvqULi/RJKaLuCt1gI0gb1zQkq/4odB2bZBx7zPlF54WeOOnIJlO67JHb7kvYBPXzBlGXhf7DatSza4xZAC7qpqWdUn70XFbbArGNG3nnh5l0Wei2LmRc+TeNgHxfCdbWBgp9d92LQsY6U7ORUNtfWq9XMAPTF/+Fbp/5/WJ5/W+eu6ltuO3bnmfcy85004c33h/1HM3egHq3oe/KtvTaJPwOiT3fn/Bb4ZZl5r7jbFuzn8os6HJalSdZGbe2sNRxjevPlNyurNJueyIq4GqZ9wcFmusCkeanrzxkIc7m1yBgNsiIBcS1KLj3IPMq5rutxt+GGNWPi/LQdbd1IwfWu8f6O90m/Z0eKg4GzBWbfrE88g7y467us4/+/ysRC3r83rmw41efVkq7JYX+7NR931v1rsfni0rtwA4tr/lLIF+xqeklSdx7qxznW+SEbr9ryLjGPXybbkvENzg01yvbT23K7jXv2kznKz5lXs62hsCn2b9/rnVvc0T3bc3BRb9rfe7eo8smkl69ZhOnR7vspL1QZtkg4cPqtoWjjquX62qLfaH22WCzEsu9JS9yR5vM8I9q3V8nbVeJFtxEmR1mDrnKufV8VO93ol3Wes783DyzGOv1vd8bBnP953f3drzF99nLy8tpFzg7U6++bNHxNmUuqP1IaH8fF2x3I3FHzuaCljEnuL47Nvnl7z9GvsXoqkaMU+/ccTM4tD2HvEDkEAqyQi+eWyxiWHo8Ujlt7gu+rRmTARTxRzhCN9hmoeuVK5r4pq0pphnWHISJQhO6rfte/5BAUzHXdOHIkqw3NCT0xF+h27vv8Yl3nDYYr29UmBtigM+YUt1DQv/XX6EbbKadTnNZ9vOY6wZEPsJlBwdMCn4u1qdlp9f2I5ROsOli/aqJtpHIAo1Voqfcrhy8iNv0+2HJwYU11yWy3w/8jS4C+v1Ufbq16MbqNR/HGjGOBGObdTYIIXKQFvggmzt/EvCKW7Lo+7jje0Wrfi5e8WX2+76okQPQg5RO8P3T+2WgUNerzBfMHCqprXK09K9iLCmL7k7o5qGrVLDpevFzx4kO3ah/quIVS89Z467Fa9ehj0I/JXzcZl7krh+GIXTz4E9HRi822ocuCV2743MJkUsK/UMDj66X8RUJ+RaRQ8eoG4IuM3fdiUfp3qK/d6GjX3Ewa6qhexZd9+/LLEyMVPH08UbtV7IVngngjesOAP6D0AEQOgAgdABA6ACA0AEAoQMAQgcAhA4ACB0AoQMAQgcAhA4ACB0AEDoAIHQAQOgAgNABEDoAIHQAQOgAgNABAKEDAEIHAIQOAAgdAKEjdIDu838BBgAP9Pzi++BqOAAAAABJRU5ErkJggg==",wz="/assets/youtube-CpBI5AmY.png",_z="/assets/deezer-Dzzytvkp.png",Ez="/assets/tidal-Dvc8GFJF.png",Tz="/assets/vpn-DwO8ctKm.png",kz="/assets/wintv-DVRyyyXO.png",Nz="/assets/applemusic-oPM8BG1t.png",Sz="/assets/appletv-CnHYjknK.png",Az="/assets/iptv-DuZZIyup.png",Cz="/assets/flujotv-BuBDxOy2.png",Iz="/assets/vikirakuten-N9-l2Szt.png",jz="/assets/pornhub-CExwxEGA.png",Pz="/assets/paramount-BdllqDdm.png",Rz="/assets/licencias-BVJh6MhK.png",Dz="/assets/capcut-CQ2qY_pe.png",Oz="/assets/duolingo-5bYI8P47.png",Fz="/assets/buscapersonas-lxj-Iky8.png",yd=[{src:nz,title:"Brooklyn Nine-Nine",description:"Comedia policial hilarante"},{src:iz,title:"Stranger Things",description:"Misterio y nostalgia ochentera"},{src:sz,title:"Breaking Bad",description:"Un descenso al mundo del crimen"},{src:az,title:"Naruto",description:"Aventuras ninja picas"},{src:oz,title:"Alice in Borderland",description:"Juego de supervivencia intenso"}],eT=[{name:"Netflix",logo:lz,route:"/netflix",color:"#E50914"},{name:"Spotify",logo:cz,route:"/spotify",color:"#1DB954"},{name:"Disney+",logo:uz,route:"/disney",color:"#113CCF"},{name:"Max",logo:dz,route:"/max",color:"#002BE7"},{name:"Prime Video",logo:hz,route:"/primevideo",color:"#00A8E1"},{name:"Vix",logo:fz,route:"/vix",color:"#FF2E63"},{name:"Canva",logo:pz,route:"/canva",color:"#00C4B4"},{name:"ChatGPT",logo:mz,route:"/chatgpt",color:"#10A37F"},{name:"Crunchyroll",logo:gz,route:"/crunchyroll",color:"#F47521"},{name:"Redes Sociales",logo:xz,route:"/redessociales",color:"#3B5998"},{name:"Dgo",logo:yz,route:"/dgo",color:"#00A1D6"},{name:"Liga Max",logo:vz,route:"/ligamax",color:"#FFD700"},{name:"Movistar Play",logo:bz,route:"/movistarplay",color:"#005566"},{name:"Youtube",logo:wz,route:"/youtube",color:"#FF0000"},{name:"Deezer",logo:_z,route:"/deezer",color:"#FEAA2D"},{name:"Tidal",logo:Ez,route:"/tidal",color:"#000000"},{name:"Vpn",logo:Tz,route:"/vpn",color:"#4CAF50"},{name:"Win Tv",logo:kz,route:"/wintv",color:"#9C27B0"},{name:"Apple Music",logo:Nz,route:"/applemusic",color:"#FA57C1"},{name:"Apple Tv",logo:Sz,route:"/appletv",color:"#000000"},{name:"Iptv",logo:Az,route:"/iptv",color:"#607D8B"},{name:"Flujo Tv",logo:Cz,route:"/flujotv",color:"#FF5722"},{name:"Viki Rakuten",logo:Iz,route:"/vikirakuten",color:"#D81B60"},{name:"Pornhub",logo:jz,route:"/pornhub",color:"#FF9000"},{name:"Paramount",logo:Pz,route:"/paramount",color:"#0064D2"},{name:"Licencias",logo:Rz,route:"/licencias",color:"#795548"},{name:"Cap cut",logo:Dz,route:"/capcut",color:"#00C4B4"},{name:"Duolingo",logo:Oz,route:"/duolingo",color:"#58CC02"},{name:"Busca Personas",logo:Fz,route:"/buscapersonas",color:"#3F51B5"}],Lz=(t,e=5e3)=>{const[r,n]=N.useState(0),[i,s]=N.useState(0),[l,u]=N.useState(!1);N.useEffect(()=>{if(l)return;const g=setInterval(()=>{s(v=>v>=100?0:v+100/(e/100))},100),y=setInterval(()=>{n(v=>(v+1)%t.length),s(0)},e);return()=>{clearInterval(g),clearInterval(y)}},[l,t.length,e]);const d=N.useCallback(g=>{n(g),s(0)},[]),h=N.useCallback(()=>{n(g=>(g-1+t.length)%t.length),s(0)},[t.length]),p=N.useCallback(()=>{n(g=>(g+1)%t.length),s(0)},[t.length]);return{currentIndex:r,progress:i,isPaused:l,setIsPaused:u,goToSlide:d,prevSlide:h,nextSlide:p}},V5=N.memo(({platform:t,theme:e})=>a.jsx(O5,{tiltMaxAngleX:8,tiltMaxAngleY:8,scale:1.03,transitionSpeed:300,children:a.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:`${e==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-xl overflow-hidden shadow-md cursor-pointer hover:shadow-xl hover:border-blue-500/50 transition-all duration-300 relative`,children:a.jsxs(yi,{to:t.route,title:t.name,className:"block",children:[a.jsx("img",{src:t.logo,alt:t.name,className:`w-full h-24 sm:h-28 lg:h-32 object-contain p-4 ${e==="dark"?"bg-white/95":"bg-gray-50/95"} transition-transform duration-300 hover:scale-105`,loading:"lazy"}),a.jsx("div",{className:"p-3 text-center",style:{background:`linear-gradient(180deg, ${t.color}20, ${t.color}50)`},children:a.jsx("h3",{className:`font-semibold text-sm sm:text-base ${e==="dark"?"text-gray-100":"text-gray-900"} tracking-tight`,children:t.name})})]})})}));V5.propTypes={platform:q.shape({name:q.string.isRequired,logo:q.string.isRequired,route:q.string.isRequired,color:q.string.isRequired}).isRequired,theme:q.string.isRequired};const B5=N.memo(({show:t,onClose:e,notifications:r,theme:n})=>{const i=n==="dark",s={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}},l=u=>u.toLocaleString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});return a.jsx(Ht,{children:t&&a.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"notifications-title",children:a.jsxs(ne.div,{variants:s,initial:"hidden",animate:"visible",exit:"hidden",className:`w-full max-w-md mx-4 ${i?"bg-gray-900/95 border-gray-700/50":"bg-white/95 border-gray-200/50"} rounded-2xl shadow-2xl p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md`,onClick:u=>u.stopPropagation(),children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar notificaciones",children:a.jsx(Ui,{size:20})}),a.jsx("h2",{id:"notifications-title",className:`text-2xl font-bold mb-6 ${i?"text-white":"text-gray-900"} bg-clip-text text-transparent bg-gradient-to-r ${i?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Notificaciones"}),r.length>0?r.map(u=>a.jsxs(ne.div,{variants:s,initial:"hidden",animate:"visible",whileHover:"hover",className:`border-b py-3 last:border-0 rounded-xl px-2 transition-all duration-300 ${i?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,children:[a.jsx("p",{className:`${i?"text-gray-300":"text-gray-700"}`,children:u.message}),a.jsx("p",{className:`text-xs mt-1 ${i?"text-gray-400":"text-gray-500"}`,children:l(u.updatedAt?.toDate?.()||new Date)})]},u.id)):a.jsx("p",{className:`py-2 ${i?"text-gray-400":"text-gray-500"}`,children:"No hay notificaciones"})]})})})});B5.propTypes={show:q.bool.isRequired,onClose:q.func.isRequired,notifications:q.arrayOf(q.shape({id:q.string.isRequired,message:q.string.isRequired,updatedAt:q.object})).isRequired,theme:q.string.isRequired};const U5=()=>{const{currentIndex:t,progress:e,setIsPaused:r,goToSlide:n,prevSlide:i,nextSlide:s}=Lz(yd,5e3),[l,u]=N.useState(""),[d,h]=N.useState(eT),[p,g]=N.useState(null),[y,v]=N.useState(0),[k,w]=N.useState(null),[E,O]=N.useState(!1),[M,V]=N.useState(!1),[j,X]=N.useState("dark"),[U,A]=N.useState(!1),[S,C]=N.useState(!1),[P,D]=N.useState([]),z=Os(),B=N.useRef(null);N.useEffect(()=>{const K=ql(en,Q=>{g(Q),Q?(Ee(Q.uid),Re(Q.uid)):(v(0),w(null),D([]))});return()=>K()},[]);const Ee=async K=>{try{const Q=await Vo(_t(qe,"users",K));if(Q.exists()){v(Q.data().balance||0),w(Q.data().role);const ee=Q.data().username||"Usuario";g(se=>({...se,username:ee}))}}catch(Q){console.error("Error fetching user data:",Q)}},Re=async K=>{try{const Q=Er(Lt(qe,"users",K,"notifications"),nv("updatedAt","desc")),se=(await Gn(Q)).docs.map(Ce=>({id:Ce.id,message:Ce.data().message||"Sin mensaje",updatedAt:Ce.data().updatedAt}));D(se)}catch(Q){console.error("Error fetching notifications:",Q)}};N.useEffect(()=>{const K=eT.filter(Q=>Q.name.toLowerCase().includes(l.toLowerCase()));h(K)},[l]),N.useEffect(()=>{const K=()=>{V(window.scrollY>300)};return window.addEventListener("scroll",K),()=>window.removeEventListener("scroll",K)},[]),N.useEffect(()=>{const K=B.current;let Q=0;const ee=Ce=>{Q=Ce.touches[0].clientX,r(!0)},se=Ce=>{const De=Ce.changedTouches[0].clientX;Q-De>50&&s(),De-Q>50&&i(),setTimeout(()=>r(!1),500)};return K?.addEventListener("touchstart",ee),K?.addEventListener("touchend",se),()=>{K?.removeEventListener("touchstart",ee),K?.removeEventListener("touchend",se)}},[i,s,r]);const Be=N.useCallback(K=>{K.preventDefault(),l.trim()&&z(`/search?q=${encodeURIComponent(l)}`)},[l,z]),Fe=N.useCallback(async()=>{try{await L0(en),z("/")}catch(K){console.error("Error signing out:",K)}},[z]),ve=N.useCallback(()=>{X(K=>K==="dark"?"light":"dark")},[]),ie=N.useCallback(K=>K?K.split(" ").map(ee=>ee[0]).join("").slice(0,2).toUpperCase():"U",[]),me=N.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),re=N.useCallback(()=>{switch(k){case"admin":return"/dashboard/admin";case"provider":return"/dashboard/provider";default:return"/dashboard/user"}},[k]),R=N.useCallback(K=>{if(!k){K.preventDefault();const Q={id:Date.now().toString(),message:"Usuario no activado",updatedAt:new Date};return D(ee=>[...ee,Q]),C(!0),!1}return!0},[k]);return a.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${j==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col font-inter relative overflow-hidden`,children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${j==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),a.jsx("div",{className:"particles",children:[...Array(25)].map((K,Q)=>a.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Q))})]}),a.jsxs("header",{className:`${j==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-4 px-4 sm:px-6 flex items-center justify-between shadow-lg fixed top-0 left-0 right-0 z-50 transition-all duration-300`,children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ne.img,{src:Jl,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${j==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),a.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),a.jsx("div",{className:"flex-1 mx-4 max-w-md hidden lg:block",children:a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:"text",placeholder:"Buscar plataformas...",value:l,onChange:K=>u(K.target.value),className:`w-full py-2.5 px-5 ${j==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-lg group-hover:${j==="dark"?"bg-gray-800/50":"bg-gray-100/90"}`,"aria-label":"Buscar plataformas",onKeyDown:K=>K.key==="Enter"&&Be(K)}),a.jsx("button",{onClick:Be,className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${j==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Buscar",children:a.jsx(mu,{size:18})})]})}),a.jsxs("nav",{className:"flex items-center space-x-3 relative",children:[a.jsx("button",{onClick:ve,className:`p-2 rounded-full ${j==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${j==="dark"?"claro":"oscuro"}`,children:j==="dark"?a.jsx(Ql,{size:20}):a.jsx(Yl,{size:20})}),p&&a.jsxs("button",{onClick:()=>C(!0),className:`p-2 rounded-full relative ${j==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Notificaciones (${P.length} nuevas)`,children:[a.jsx(Fl,{size:20}),P.length>0&&a.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:P.length})]}),a.jsx("button",{className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition duration-300",onClick:()=>A(!U),"aria-label":"Abrir men mvil","aria-expanded":U,children:a.jsx(Nm,{size:20,className:j==="dark"?"text-gray-300":"text-gray-600"})}),a.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:p?a.jsxs("div",{className:"relative flex items-center space-x-4",children:[a.jsx(ne.div,{className:`flex items-center space-x-2 ${j==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-lg transition-all duration-300`,whileHover:{scale:1.05},children:a.jsxs("span",{className:"text-sm font-semibold",children:["S/. ",y.toFixed(2)]})}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>O(!E),className:`flex items-center space-x-2 ${j==="dark"?"bg-gray-800/30 border-gray-600/30":"bg-gray-100/80 border-gray-200/30"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-lg transition-all duration-300`,"aria-label":"Men de usuario","aria-haspopup":"true","aria-expanded":E,children:[a.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:p.photoURL?a.jsx("img",{src:p.photoURL,alt:"Avatar de usuario",className:"h-full w-full rounded-full",loading:"lazy"}):ie(p.username||p.email)}),a.jsx("span",{className:`text-sm font-semibold ${j==="dark"?"text-gray-200":"text-gray-800"} truncate max-w-[120px]`,children:p.username||"Usuario"}),a.jsx(GU,{className:`ml-1 ${j==="dark"?"text-gray-400":"text-gray-600"}`,size:14})]}),a.jsx(Ht,{children:E&&a.jsxs(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:`absolute right-0 mt-2 w-56 ${j==="dark"?"bg-gray-900/95 border-gray-600/30":"bg-white/95 border-gray-200/30"} backdrop-blur-xl rounded-lg shadow-xl py-3 z-50`,role:"menu",children:[a.jsxs(yi,{to:re(),className:`w-full text-left px-4 py-2 text-sm hover:${j==="dark"?"bg-gray-800/80":"bg-gray-200/80"} flex items-center ${j==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,onClick:K=>{R(K),O(!1)},role:"menuitem","aria-label":"Ir al dashboard",children:[a.jsx(Tp,{className:"mr-2"})," Dashboard"]}),a.jsxs("button",{onClick:Fe,className:`w-full text-left px-4 py-2 text-sm hover:${j==="dark"?"bg-gray-800/80":"bg-gray-200/80"} flex items-center ${j==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Cerrar sesin",children:[a.jsx(xu,{className:"mr-2"})," Cerrar Sesin"]})]})})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs(yi,{to:"/login",className:`bg-blue-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-blue-700/95 text-sm border ${j==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,"aria-label":"Iniciar sesin",children:[a.jsx(Ky,{className:"mr-2"})," Ingresar"]}),a.jsxs(yi,{to:"/register",className:`bg-green-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-green-700/95 text-sm border ${j==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,"aria-label":"Registrarse",children:[a.jsx(Xy,{className:"mr-2"})," Registrarse"]})]})})]}),a.jsx(Ht,{children:U&&a.jsx(ne.nav,{initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},className:`lg:hidden absolute top-full left-0 right-0 ${j==="dark"?"bg-gray-900/95":"bg-white/95"} backdrop-blur-xl shadow-lg z-40 p-6`,role:"menu","aria-label":"Men mvil",children:a.jsxs("div",{className:"flex flex-col space-y-4",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:"text",placeholder:"Buscar plataformas...",value:l,onChange:K=>u(K.target.value),className:`w-full py-2.5 px-5 ${j==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-lg group-hover:${j==="dark"?"bg-gray-800/50":"bg-gray-100/90"}`,"aria-label":"Buscar plataformas",onKeyDown:K=>K.key==="Enter"&&Be(K)}),a.jsx("button",{onClick:Be,className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${j==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Buscar",children:a.jsx(mu,{size:18})})]}),p&&a.jsxs("button",{onClick:()=>{C(!0),A(!1)},className:`text-sm flex items-center ${j==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Ver notificaciones",children:[a.jsx(Fl,{className:"mr-2"})," Notificaciones"]}),p?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:`text-sm ${j==="dark"?"text-gray-300":"text-gray-700"} font-medium`,children:["Saldo: S/. ",y.toFixed(2)]}),a.jsxs(yi,{to:re(),className:`text-sm flex items-center ${j==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,onClick:K=>{R(K)&&A(!1)},role:"menuitem","aria-label":"Ir al dashboard",children:[a.jsx(Tp,{className:"mr-2"})," Dashboard"]}),a.jsxs("button",{onClick:()=>{Fe(),A(!1)},className:`text-sm flex items-center ${j==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Cerrar sesin",children:[a.jsx(xu,{className:"mr-2"})," Cerrar Sesin"]})]}):a.jsxs(a.Fragment,{children:[a.jsxs(yi,{to:"/login",className:`bg-blue-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-blue-700/95 text-sm border ${j==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,onClick:()=>A(!1),role:"menuitem","aria-label":"Iniciar sesin",children:[a.jsx(Ky,{className:"mr-2"})," Ingresar"]}),a.jsxs(yi,{to:"/register",className:`bg-green-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-green-700/95 text-sm border ${j==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,onClick:()=>A(!1),role:"menuitem","aria-label":"Registrarse",children:[a.jsx(Xy,{className:"mr-2"})," Registrarse"]})]})]})})})]}),a.jsx(B5,{show:S&&!!p,onClose:()=>C(!1),notifications:P,theme:j}),a.jsxs("main",{className:"flex-1 px-4 sm:px-6 lg:px-8 py-10 pt-24 relative z-10",children:[a.jsxs("section",{ref:B,className:"relative h-64 sm:h-80 md:h-96 lg:h-[600px] mb-12 overflow-hidden rounded-2xl shadow-2xl",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),role:"region","aria-label":"Carrusel de contenido destacado",children:[a.jsx(Ht,{initial:!1,children:a.jsx(ne.div,{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${yd[t].src})`},initial:{opacity:0,x:300,scale:1.1},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:-300,scale:1.1},transition:{duration:.8,ease:"easeInOut"},children:a.jsxs("div",{className:`absolute inset-0 bg-gradient-to-t ${j==="dark"?"from-black/90 via-black/60 to-transparent":"from-white/90 via-white/60 to-transparent"} flex flex-col justify-end p-6 sm:p-8 md:p-10 lg:p-12`,children:[a.jsx(ne.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.5},className:`text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-extrabold mb-2 bg-clip-text text-transparent bg-gradient-to-r ${j==="dark"?"from-white to-gray-200":"from-gray-900 to-gray-700"} tracking-tight drop-shadow-md`,children:yd[t].title}),a.jsx(ne.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.5},className:`text-sm sm:text-base md:text-lg lg:text-xl max-w-md ${j==="dark"?"text-gray-300":"text-gray-700"} font-medium drop-shadow-sm`,children:yd[t].description})]})},t)}),a.jsx("button",{onClick:i,className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${j==="dark"?"bg-black/50 hover:bg-black/70":"bg-white/50 hover:bg-white/70"} backdrop-blur-lg p-3 rounded-full transition-all duration-300 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Diapositiva anterior",children:a.jsx(YU,{size:20})}),a.jsx("button",{onClick:s,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${j==="dark"?"bg-black/50 hover:bg-black/70":"bg-white/50 hover:bg-white/70"} backdrop-blur-lg p-3 rounded-full transition-all duration-300 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Diapositiva siguiente",children:a.jsx(QU,{size:20})}),a.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",role:"tablist",children:yd.map((K,Q)=>a.jsx("button",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full transition-all duration-300 ${t===Q?"bg-blue-500 scale-125":j==="dark"?"bg-gray-500/50":"bg-gray-400/50"} focus:outline-none focus:ring-2 focus:ring-blue-500`,onClick:()=>n(Q),role:"tab","aria-selected":t===Q,"aria-label":`Ir a diapositiva ${Q+1}`},Q))}),a.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 ${j==="dark"?"bg-gray-800/50":"bg-gray-200/50"}`,children:a.jsx(ne.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600",style:{width:`${e}%`},initial:{width:0},animate:{width:`${e}%`},transition:{duration:.1}})})]}),a.jsxs("section",{className:"relative",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold mb-10 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600 tracking-tight",children:"Categoras de Plataformas"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4 sm:gap-6 lg:gap-8",children:d.length>0?d.map((K,Q)=>a.jsx(V5,{platform:K,theme:j},Q)):a.jsx("p",{className:`col-span-full text-center text-lg ${j==="dark"?"text-gray-400":"text-gray-600"} font-medium`,children:"No se encontraron plataformas."})})]})]}),a.jsx("footer",{className:`${j==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10`,children:a.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[a.jsxs("p",{className:`${j==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",a.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),a.jsxs("div",{className:"flex justify-center space-x-8",children:[a.jsx("a",{href:"https://twitter.com",className:`${j==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:a.jsx(Xl,{size:24})}),a.jsx("a",{href:"https://instagram.com",className:`${j==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:a.jsx(Kl,{size:24})}),a.jsx("a",{href:"https://facebook.com",className:`${j==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:a.jsx(Gl,{size:24})})]})]})}),a.jsx(Ht,{children:M&&a.jsx(ne.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:me,className:`fixed bottom-6 left-6 bg-blue-600/90 backdrop-blur-lg p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 ${j==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Volver al inicio de la pgina",children:a.jsx(km,{size:20})})})]})};U5.propTypes={};const Mz=()=>{const[t,e]=N.useState(""),[r,n]=N.useState(""),[i,s]=N.useState(!1),[l,u]=N.useState(""),[d,h]=N.useState(!1),[p,g]=N.useState(()=>localStorage.getItem("theme")||"dark"),y=Os(),v=N.useRef(null);N.useEffect(()=>{localStorage.setItem("theme",p),document.documentElement.classList.toggle("dark",p==="dark")},[p]),N.useEffect(()=>{const V=en.onAuthStateChanged(j=>{j&&y("/")});return()=>V()},[y]),N.useEffect(()=>{v.current?.focus()},[]);const k=N.useCallback(()=>t?r?r.length<6?"La contrasea debe tener al menos 6 caracteres":"":"Por favor, ingresa tu contrasea":"Por favor, ingresa tu nombre de usuario o correo electrnico",[t,r]),w=async V=>{try{const j=Lt(qe,"users"),X=Er(j,Or("username","==",V)),U=await Gn(X);if(!U.empty){const A=U.docs[0].data();return{email:A.email,status:A.status||"active"}}return null}catch(j){return console.error("Error fetching username:",j),null}},E=N.useCallback(async V=>{V.preventDefault();const j=k();if(j){u(j);return}u(""),h(!0);try{let X=t,U="active";if(t.includes("@")){const A=Lt(qe,"users"),S=Er(A,Or("email","==",t)),C=await Gn(S);C.empty||(U=C.docs[0].data().status||"active")}else{const A=await w(t);if(!A){u("Nombre de usuario no encontrado"),h(!1);return}X=A.email,U=A.status}if(U==="suspended"){u("Esta cuenta est suspendida y no se puede ingresar"),h(!1);return}await tF(en,X,r),e(""),n(""),y("/")}catch(X){u(X.code==="auth/wrong-password"?"Contrasea incorrecta":X.code==="auth/user-not-found"?"Usuario o correo electrnico no encontrado":X.code==="auth/too-many-requests"?"Demasiados intentos fallidos. Intenta de nuevo ms tarde.":"Error al iniciar sesin. Por favor, intenta de nuevo.")}finally{h(!1)}},[t,r,y,k]),O=N.useCallback(()=>{g(V=>V==="dark"?"light":"dark")},[]),M=N.useCallback(()=>{s(V=>!V)},[]);return a.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${p==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${p==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),a.jsx("div",{className:"particles",children:[...Array(25)].map((V,j)=>a.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},j))})]}),a.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:a.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${p==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"login-title",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ne.img,{src:Jl,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${p==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),a.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),a.jsx("button",{onClick:O,className:`p-2 rounded-full ${p==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${p==="dark"?"claro":"oscuro"}`,children:p==="dark"?a.jsx(Ql,{size:20}):a.jsx(Yl,{size:20})})]}),a.jsx("h2",{id:"login-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Iniciar Sesin"}),a.jsx(Ht,{children:l&&a.jsx(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${p==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:l})}),a.jsxs("form",{onSubmit:E,className:"space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(yu,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400":"text-gray-600"}`}),a.jsx(ne.input,{ref:v,type:"text",placeholder:"Nombre de usuario o correo electrnico",value:t,onChange:V=>e(V.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${p==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Nombre de usuario o correo electrnico",required:!0,whileFocus:{scale:1.02}})]}),a.jsxs("div",{className:"relative",children:[a.jsx(e2,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400":"text-gray-600"}`}),a.jsx(ne.input,{type:i?"text":"password",placeholder:"Contrasea",value:r,onChange:V=>n(V.target.value),className:`w-full pl-12 pr-12 py-3 rounded-full ${p==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Contrasea",required:!0,whileFocus:{scale:1.02}}),a.jsx("button",{type:"button",onClick:M,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-800"} transition duration-200`,"aria-label":i?"Ocultar contrasea":"Mostrar contrasea",children:i?a.jsx(M5,{size:18}):a.jsx($5,{size:18})})]}),a.jsxs(ne.button,{type:"submit",disabled:d,className:`w-full bg-blue-600/90 backdrop-blur-xl py-3 rounded-full ${d?"opacity-50 cursor-not-allowed":"hover:bg-blue-700/95"} text-sm border ${p==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Iniciar sesin",whileHover:{scale:d?1:1.05},whileTap:{scale:d?1:.95},children:[d?a.jsxs(ne.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}):a.jsx(Ky,{className:"mr-2"}),d?"Cargando...":"Iniciar Sesin"]})]}),a.jsxs("div",{className:"text-center text-sm mt-6 space-y-3",children:[a.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"}`,children:["No tienes una cuenta?"," ",a.jsx(yi,{to:"/register",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a registrarse",children:"Regstrate aqu"})]}),a.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"}`,children:["Olvidaste tu contrasea?"," ",a.jsx(yi,{to:"/forgot-password",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Recuperar contrasea",children:"Recuprala aqu"})]})]})]})}),a.jsx("footer",{className:`${p==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:a.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[a.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",a.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),a.jsxs("div",{className:"flex justify-center space-x-8",children:[a.jsx("a",{href:"https://twitter.com",className:`${p==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:a.jsx(Xl,{size:24})}),a.jsx("a",{href:"https://instagram.com",className:`${p==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:a.jsx(Kl,{size:24})}),a.jsx("a",{href:"https://facebook.com",className:`${p==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:a.jsx(Gl,{size:24})})]})]})})]})},$z=()=>{const t=[{name:"Per",code:"+51",flag:"",pattern:/^\d{9}$/,length:9},{name:"Estados Unidos",code:"+1",flag:"",pattern:/^\d{10}$/,length:10},{name:"Mxico",code:"+52",flag:"",pattern:/^\d{10}$/,length:10},{name:"Argentina",code:"+54",flag:"",pattern:/^\d{10}$/,length:10},{name:"Chile",code:"+56",flag:"",pattern:/^\d{9}$/,length:9},{name:"Colombia",code:"+57",flag:"",pattern:/^\d{10}$/,length:10}],[e,r]=N.useState(""),[n,i]=N.useState(""),[s,l]=N.useState(""),[u,d]=N.useState(""),[h,p]=N.useState(""),[g,y]=N.useState(t[0]),[v,k]=N.useState(!1),[w,E]=N.useState(""),[O,M]=N.useState(!1),[V,j]=N.useState(!1),[X,U]=N.useState(()=>localStorage.getItem("theme")||"dark"),A=Os(),S=N.useRef(null);N.useEffect(()=>{localStorage.setItem("theme",X),document.documentElement.classList.toggle("dark",X==="dark")},[X]),N.useEffect(()=>{const Ee=en.onAuthStateChanged(Re=>{Re&&!V&&A("/")});return()=>Ee()},[A,V]),N.useEffect(()=>{S.current?.focus()},[]);const C=N.useCallback(async()=>e?/^[a-zA-Z0-9_]{3,20}$/.test(e)?(await Vo(_t(qe,"usernames",e.toLowerCase()))).exists()?"El nombre de usuario ya est en uso":n?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?s?g.pattern.test(s)?u?u.length<6?"La contrasea debe tener al menos 6 caracteres":"":"Por favor, ingresa una contrasea":`El nmero de telfono debe tener exactamente ${g.length} dgitos`:"Por favor, ingresa tu nmero de telfono":"Correo electrnico invlido":"Por favor, ingresa tu correo electrnico":"El nombre de usuario debe tener entre 3 y 20 caracteres alfanumricos":"Por favor, ingresa un nombre de usuario",[e,n,s,u,g]),P=N.useCallback(async Ee=>{Ee.preventDefault();const Re=await C();if(Re){E(Re);return}E(""),M(!0),j(!0);try{const Fe=(await eF(en,n,u)).user;await nF(Fe,{displayName:e}),await aa(_t(qe,"users",Fe.uid),{username:e.toLowerCase(),email:n.toLowerCase(),phoneNumber:`${g.code}${s}`,phoneCountryCode:g.code,phoneCountryName:g.name,phoneDigits:s,referralCode:h||null,balance:0,createdAt:new Date}),await aa(_t(qe,"usernames",e.toLowerCase()),{email:n.toLowerCase(),uid:Fe.uid}),r(""),i(""),l(""),d(""),p(""),A("/")}catch(Be){E(Be.code==="auth/email-already-in-use"?"El correo electrnico ya est registrado":Be.code==="auth/invalid-email"?"Correo electrnico invlido":Be.code==="auth/weak-password"?"La contrasea es demasiado dbil":"Error al registrarse. Por favor, intenta de nuevo.")}finally{M(!1),j(!1)}},[e,n,s,u,h,g,A,C]),D=N.useCallback(()=>{U(Ee=>Ee==="dark"?"light":"dark")},[]),z=N.useCallback(()=>{k(Ee=>!Ee)},[]),B=N.useCallback(Ee=>{const Re=Ee.target.value,Be=t.find(Fe=>Fe.code===Re)||g;y(Be),s.length>Be.length&&l(s.slice(0,Be.length))},[g,s]);return a.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${X==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${X==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),a.jsx("div",{className:"particles",children:[...Array(25)].map((Ee,Re)=>a.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Re))})]}),a.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:a.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${X==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"register-title",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ne.img,{src:Jl,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${X==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),a.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),a.jsx("button",{onClick:D,className:`p-2 rounded-full ${X==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${X==="dark"?"claro":"oscuro"}`,children:X==="dark"?a.jsx(Ql,{size:20}):a.jsx(Yl,{size:20})})]}),a.jsx(Ht,{children:a.jsx(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:`${X==="dark"?"bg-green-900/30 border-green-600/30 text-green-200":"bg-green-100/50 border-green-300/30 text-green-800"} rounded-lg p-3 mb-6 text-center text-sm border-l-4 font-semibold`,role:"banner",children:"Regstrate gratis ahora!"})}),a.jsx("h2",{id:"register-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Registrarse"}),a.jsx(Ht,{children:w&&a.jsx(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${X==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:w})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(yu,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),a.jsx(ne.input,{ref:S,type:"text",placeholder:"Elige un nombre de usuario",value:e,onChange:Ee=>r(Ee.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Nombre de usuario",required:!0,whileFocus:{scale:1.02}})]}),a.jsxs("div",{className:"relative",children:[a.jsx(h0,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),a.jsx(ne.input,{type:"email",placeholder:"Tu correo electrnico",value:n,onChange:Ee=>i(Ee.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Correo electrnico",required:!0,whileFocus:{scale:1.02}})]}),a.jsxs("div",{className:"relative flex items-center",children:[a.jsx(ZU,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),a.jsxs("div",{className:"flex w-full",children:[a.jsx("select",{value:g.code,onChange:B,className:`flex items-center pl-3 pr-3 py-3 rounded-l-full text-sm font-medium cursor-pointer appearance-none bg-transparent border border-r-0 focus:outline-none focus:ring-2 focus:ring-blue-500/50 backdrop-blur-xl transition-all duration-300 hover:shadow-lg ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"}`,children:t.map(Ee=>a.jsxs("option",{value:Ee.code,children:[Ee.flag," ",Ee.name," (",Ee.code,")"]},Ee.code))}),a.jsx(ne.input,{type:"tel",placeholder:`Nmero de telfono (${g.name})`,value:s,onChange:Ee=>l(Ee.target.value.replace(/\D/g,"")),className:`flex-1 pl-4 pr-4 py-3 rounded-r-full border border-l-0 focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"}`,"aria-label":"Nmero de telfono",required:!0,maxLength:g.length,whileFocus:{scale:1.02}})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(e2,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),a.jsx(ne.input,{type:v?"text":"password",placeholder:"Elige una contrasea",value:u,onChange:Ee=>d(Ee.target.value),className:`w-full pl-12 pr-12 py-3 rounded-full ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Contrasea",required:!0,whileFocus:{scale:1.02}}),a.jsx("button",{onClick:z,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-800"} transition duration-200`,"aria-label":v?"Ocultar contrasea":"Mostrar contrasea",children:v?a.jsx(M5,{size:18}):a.jsx($5,{size:18})})]}),a.jsxs("div",{className:"relative",children:[a.jsx(yu,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),a.jsx(ne.input,{type:"text",placeholder:"Ingresa un cdigo de referido",value:h,onChange:Ee=>p(Ee.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Cdigo de referido",whileFocus:{scale:1.02}}),a.jsx("span",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-xs italic text-gray-500",children:"opcional"})]}),a.jsxs(ne.button,{onClick:P,disabled:O,className:`w-full bg-green-600/90 backdrop-blur-xl py-3 rounded-full ${O?"opacity-50 cursor-not-allowed":"hover:bg-green-700/95"} text-sm border ${X==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Registrarse",whileHover:{scale:O?1:1.05},whileTap:{scale:O?1:.95},children:[O?a.jsxs(ne.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}):a.jsx(Xy,{className:"mr-2"}),O?"Cargando...":"Registrarse"]})]}),a.jsxs("p",{className:`text-center text-sm mt-6 ${X==="dark"?"text-gray-300":"text-gray-700"}`,children:["Ya tienes una cuenta?"," ",a.jsx(yi,{to:"/login",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a iniciar sesin",children:"Inicia sesin aqu"})]})]})}),a.jsx("footer",{className:`${X==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:a.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[a.jsxs("p",{className:`${X==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",a.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),a.jsxs("div",{className:"flex justify-center space-x-8",children:[a.jsx("a",{href:"https://twitter.com",className:`${X==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:a.jsx(Xl,{size:24})}),a.jsx("a",{href:"https://instagram.com",className:`${X==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:a.jsx(Kl,{size:24})}),a.jsx("a",{href:"https://facebook.com",className:`${X==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:a.jsx(Gl,{size:24})})]})]})})]})},Vz=()=>{const[t,e]=N.useState(""),[r,n]=N.useState(""),[i,s]=N.useState(""),[l,u]=N.useState(!1),[d,h]=N.useState(()=>localStorage.getItem("theme")||"dark"),p=Os(),g=N.useRef(null);N.useEffect(()=>{localStorage.setItem("theme",d),document.documentElement.classList.toggle("dark",d==="dark")},[d]),N.useEffect(()=>{const w=en.onAuthStateChanged(E=>{E&&p("/")});return()=>w()},[p]),N.useEffect(()=>{g.current?.focus()},[]);const y=N.useCallback(()=>t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"":"Correo electrnico invlido":"Por favor, ingresa tu correo electrnico",[t]),v=N.useCallback(async w=>{w.preventDefault();const E=y();if(E){n(E),s("");return}n(""),s(""),u(!0);try{await ZO(en,t),s("Se ha enviado un enlace de restablecimiento de contrasea a tu correo electrnico."),e("")}catch(O){n(O.code==="auth/user-not-found"?"No se encontr un usuario con este correo electrnico":O.code==="auth/invalid-email"?"Correo electrnico invlido":O.code==="auth/too-many-requests"?"Demasiados intentos. Intenta de nuevo ms tarde.":"Error al enviar el enlace de restablecimiento. Por favor, intenta de nuevo.")}finally{u(!1)}},[t,y]),k=N.useCallback(()=>{h(w=>w==="dark"?"light":"dark")},[]);return a.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${d==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${d==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),a.jsx("div",{className:"particles",children:[...Array(25)].map((w,E)=>a.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},E))})]}),a.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:a.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${d==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"forgot-password-title",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ne.img,{src:Jl,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${d==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),a.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),a.jsx("button",{onClick:k,className:`p-2 rounded-full ${d==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${d==="dark"?"claro":"oscuro"}`,children:d==="dark"?a.jsx(Ql,{size:20}):a.jsx(Yl,{size:20})})]}),a.jsx("h2",{id:"forgot-password-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Recuperar Contrasea"}),a.jsxs(Ht,{children:[r&&a.jsx(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${d==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:r}),i&&a.jsx(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${d==="dark"?"bg-green-900/50 border-green-600/50":"bg-green-100/50 border-green-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-green-600 border-l-4`,role:"alert",children:i})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(h0,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${d==="dark"?"text-gray-400":"text-gray-600"}`}),a.jsx(ne.input,{ref:g,type:"email",placeholder:"Tu correo electrnico",value:t,onChange:w=>e(w.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${d==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Correo electrnico",required:!0,whileFocus:{scale:1.02}})]}),a.jsxs(ne.button,{onClick:v,disabled:l,className:`w-full bg-blue-600/90 backdrop-blur-xl py-3 rounded-full ${l?"opacity-50 cursor-not-allowed":"hover:bg-blue-700/95"} text-sm border ${d==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Enviar enlace de restablecimiento",whileHover:{scale:l?1:1.05},whileTap:{scale:l?1:.95},children:[l?a.jsxs(ne.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}):a.jsx(h0,{className:"mr-2"}),l?"Cargando...":"Enviar Enlace de Restablecimiento"]})]}),a.jsxs("div",{className:"text-center text-sm mt-6 space-y-3",children:[a.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"}`,children:["Ya tienes una cuenta?"," ",a.jsx(yi,{to:"/login",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a iniciar sesin",children:"Inicia sesin aqu"})]}),a.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"}`,children:["No tienes una cuenta?"," ",a.jsx(yi,{to:"/register",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a registrarse",children:"Regstrate aqu"})]})]})]})}),a.jsx("footer",{className:`${d==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:a.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[a.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",a.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),a.jsxs("div",{className:"flex justify-center space-x-8",children:[a.jsx("a",{href:"https://twitter.com",className:`${d==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:a.jsx(Xl,{size:24})}),a.jsx("a",{href:"https://instagram.com",className:`${d==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:a.jsx(Kl,{size:24})}),a.jsx("a",{href:"https://facebook.com",className:`${d==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:a.jsx(Gl,{size:24})})]})]})})]})};function BJ(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(t)}function is(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function f0(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function UJ(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function r2(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function vu(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function Bz(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function Sm(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Am(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function Ru(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function Uz(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(t)}function tT(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(t)}function Ys(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function Cm(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function z5(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function zz(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function Hz(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function H5(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function zJ(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"},child:[]},{tag:"line",attr:{x1:"7",y1:"2",x2:"7",y2:"22"},child:[]},{tag:"line",attr:{x1:"17",y1:"2",x2:"17",y2:"22"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"2",y1:"7",x2:"7",y2:"7"},child:[]},{tag:"line",attr:{x1:"2",y1:"17",x2:"7",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"17",x2:"22",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"7",x2:"22",y2:"7"},child:[]}]})(t)}function HJ(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function Ia(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function Wz(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function W5(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function WJ(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function qz(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(t)}function q5(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(t)}function qJ(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(t)}function Np(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function Sp(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function n2(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function Gz(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function Wr(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(t)}function GJ(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function KJ(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 18V5l12-2v13"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"16",r:"3"},child:[]}]})(t)}function Kz(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function XJ(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"},child:[]},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"},child:[]},{tag:"path",attr:{d:"M2 2l7.586 7.586"},child:[]},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"},child:[]}]})(t)}function Ap(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function YJ(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"10 8 16 12 10 16 10 8"},child:[]}]})(t)}function rT(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function G5(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function K5(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 1 21 5 17 9"},child:[]},{tag:"path",attr:{d:"M3 11V9a4 4 0 0 1 4-4h14"},child:[]},{tag:"polyline",attr:{points:"7 23 3 19 7 15"},child:[]},{tag:"path",attr:{d:"M21 13v2a4 4 0 0 1-4 4H3"},child:[]}]})(t)}function ja(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function X5(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function Ml(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function Yy(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(t)}function Y5(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}function QJ(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(t)}function Q5(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function nT(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function JJ(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"},child:[]},{tag:"polyline",attr:{points:"17 2 12 7 7 2"},child:[]}]})(t)}function Cp(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function ZJ(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function Bi(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function Ip(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function eZ(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"},child:[]},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"},child:[]}]})(t)}function Xz(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(t)}function zi(t){return Ue({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const Yz=({isOpen:t,message:e,title:r,onClose:n})=>t?a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:r}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:a.jsx(zi,{size:20})})]}),a.jsx("p",{className:"text-gray-300 mb-6",children:e}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,J5=({isOpen:t,user:e,onClose:r,onSave:n,theme:i="dark"})=>{const s=i==="dark",[l,u]=N.useState(e?.username||""),[d,h]=N.useState(""),p={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.95,transition:{duration:.2}}},g={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},y=v=>{if(v.preventDefault(),h(""),!l.trim()){h("El nombre de usuario no puede estar vaco.");return}n(e.id,l.trim())};return t?a.jsx(ne.div,{className:`fixed inset-0 ${s?"bg-black/70":"bg-black/50"} flex items-center justify-center z-50 p-4`,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},role:"dialog","aria-modal":"true","aria-labelledby":"edit-profile-title",children:a.jsx(ne.div,{className:`rounded-2xl shadow-md w-full max-w-md border ${s?"bg-gray-900/90 border-gray-700/50":"bg-white border-gray-300"}`,variants:p,initial:"hidden",animate:"visible",exit:"exit",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{id:"edit-profile-title",className:"text-xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Editar Perfil"}),a.jsx(ne.button,{onClick:r,className:`${s?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,variants:g,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar modal",children:a.jsx(zi,{size:20})})]}),a.jsxs("form",{onSubmit:y,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:`block mb-2 font-semibold ${s?"text-gray-300":"text-gray-700"}`,children:"Nombre de usuario"}),a.jsx("input",{type:"text",value:l,onChange:v=>u(v.target.value),className:`w-full px-4 py-2 rounded-xl ${s?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300`,required:!0,"aria-label":"Nombre de usuario"}),d&&a.jsx("p",{className:`text-sm mt-2 ${s?"text-red-400":"text-red-600"}`,children:d})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(ne.button,{type:"button",onClick:r,className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${s?"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-400":"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:g,whileHover:"hover",whileTap:"tap","aria-label":"Cancelar edicin",children:"Cancelar"}),a.jsx(ne.button,{type:"submit",className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${s?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:g,whileHover:"hover",whileTap:"tap","aria-label":"Guardar perfil",children:"Guardar"})]})]})]})})}):null};J5.propTypes={isOpen:q.bool.isRequired,user:q.shape({id:q.string.isRequired,username:q.string.isRequired}).isRequired,onClose:q.func.isRequired,onSave:q.func.isRequired,theme:q.oneOf(["light","dark"]).isRequired};const Z5=({isOpen:t,provider:e,onClose:r,onRate:n,theme:i="dark"})=>{const s=i==="dark",[l,u]=N.useState(0),[d,h]=N.useState(""),p={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}}},g={hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.2}}},y={hover:{scale:1.2,y:-5,transition:{duration:.2,type:"spring"}},tap:{scale:.95}},v={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},k=E=>{if(E.preventDefault(),h(""),l<1||l>5){h("Por favor, selecciona una calificacin entre 1 y 5 estrellas.");return}n(e.id,l),u(0)},w=E=>{u(E),h("")};return t?a.jsx(Ht,{children:a.jsx(ne.div,{className:`fixed inset-0 ${s?"bg-black/70 backdrop-blur-sm":"bg-black/50 backdrop-blur-sm"} flex items-center justify-center z-50 p-4`,variants:p,initial:"hidden",animate:"visible",exit:"exit",onClick:r,role:"dialog","aria-modal":"true","aria-labelledby":"rate-provider-title",children:a.jsx(ne.div,{className:`rounded-3xl shadow-2xl w-full max-w-md border ${s?"bg-gradient-to-br from-gray-900/95 to-gray-800/95 border-gray-700/50":"bg-gradient-to-br from-white to-gray-50 border-gray-200/50"}`,variants:g,initial:"hidden",animate:"visible",exit:"exit",onClick:E=>E.stopPropagation(),children:a.jsxs("div",{className:"p-6 sm:p-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx(ne.h2,{id:"rate-provider-title",className:`text-xl sm:text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${s?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{x:-10},animate:{x:0},transition:{duration:.5},children:"Calificar Proveedor"}),a.jsx(ne.button,{onClick:r,className:`p-2 rounded-2xl ${s?"text-gray-400 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200 hover:text-gray-900"} transition-all duration-300`,variants:v,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar modal",children:a.jsx(zi,{size:20})})]}),a.jsxs("form",{onSubmit:k,className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`inline-flex items-center gap-2 p-3 rounded-2xl mb-4 ${s?"bg-gray-800/50":"bg-gray-100"}`,children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:a.jsx(Bi,{className:"text-white text-sm"})}),a.jsx("span",{className:`font-semibold ${s?"text-white":"text-gray-900"}`,children:e.name})]}),a.jsx("div",{className:"flex justify-center space-x-1 mb-4",children:[1,2,3,4,5].map(E=>a.jsx(ne.button,{type:"button",onClick:()=>w(E),className:`p-1 focus:outline-none focus:ring-2 focus:ring-yellow-500/50 rounded-full transition-all duration-200 ${E<=l?s?"text-yellow-400 hover:text-yellow-300":"text-yellow-600 hover:text-yellow-500":s?"text-gray-500 hover:text-gray-400":"text-gray-400 hover:text-gray-500"}`,variants:y,whileHover:"hover",whileTap:"tap","aria-label":`Seleccionar ${E} estrella${E>1?"s":""}`,children:a.jsx(Yy,{size:28})},E))}),a.jsx("p",{className:`text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:l>0?`Calificacin seleccionada: ${l} estrella${l>1?"s":""}`:"Selecciona una calificacin"})]}),d&&a.jsx(ne.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`p-3 rounded-xl ${s?"bg-red-900/50 border border-red-500/30 text-red-300":"bg-red-50 border border-red-200 text-red-700"}`,children:d}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200/50 dark:border-gray-700/50",children:[a.jsx(ne.button,{type:"button",onClick:r,className:`px-6 py-3 rounded-2xl font-semibold transition-all duration-300 ${s?"bg-gray-600/70 hover:bg-gray-700/80 text-white focus:ring-gray-500/50":"bg-gray-400/70 hover:bg-gray-500/80 text-white focus:ring-gray-500/50"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:v,whileHover:"hover",whileTap:"tap","aria-label":"Cancelar calificacin",children:"Cancelar"}),a.jsxs(ne.button,{type:"submit",disabled:l===0,className:`px-6 py-3 rounded-2xl font-semibold flex items-center gap-2 transition-all duration-300 ${l>0?s?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-400":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-500":s?"bg-gray-600/70 text-gray-400 cursor-not-allowed":"bg-gray-400/70 text-gray-500 cursor-not-allowed"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:v,whileHover:l>0?"hover":{},whileTap:l>0?"tap":{},"aria-label":"Enviar calificacin",children:[a.jsx(Yy,{size:18,className:"text-yellow-400"}),a.jsx("span",{children:"Enviar Calificacin"})]})]})]})]})})})}):null};Z5.propTypes={isOpen:q.bool.isRequired,provider:q.shape({id:q.string.isRequired,name:q.string.isRequired}).isRequired,onClose:q.func.isRequired,onRate:q.func.isRequired,theme:q.oneOf(["light","dark"]).isRequired};const Qz=({userName:t,email:e,balance:r,orders:n,notifications:i,setActivePage:s,formatDate:l,theme:u="dark"})=>{const d=u==="dark",h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return a.jsxs(ne.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${d?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",children:[a.jsxs(ne.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r ${d?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Bienvenido, ",a.jsx("span",{className:"text-red-400",children:t.username})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-blue-400":"text-blue-600"}`,children:[a.jsx(Bi,{size:20}),"Informacin de cuenta"]}),a.jsxs("div",{className:`space-y-4 ${d?"text-gray-300":"text-gray-700"}`,children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[a.jsx(Bi,{className:"text-blue-400 flex-shrink-0",size:20}),a.jsx("span",{className:"font-medium",children:t.username})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[a.jsx(Wr,{className:"text-blue-400 flex-shrink-0",size:20}),a.jsx("span",{className:"font-medium",children:e})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[a.jsx(Ap,{className:"text-blue-400 flex-shrink-0",size:20}),a.jsx("span",{className:"font-medium",children:t.phone||"No especificado"})]})]})]}),a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-green-400":"text-green-600"}`,children:[a.jsx(Ap,{size:20}),"Saldo disponible"]}),a.jsxs("p",{className:`text-4xl font-bold ${d?"text-white":"text-gray-900"}`,children:["S/ ",r.toFixed(2)]}),a.jsx(ne.button,{onClick:()=>s("recargar"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 ${d?"from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Recargar Saldo"})]}),a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-purple-400":"text-purple-600"}`,children:[a.jsx(Wr,{size:20}),"Pedidos activos"]}),a.jsx("p",{className:`text-4xl font-bold ${d?"text-white":"text-gray-900"}`,children:n.filter(g=>new Date(g.endDate)>new Date&&(g.status==="completed"||g.status==="active")).length}),a.jsx(ne.button,{onClick:()=>s("pedidos"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${d?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver Pedidos"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(ne.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-white":"text-gray-900"}`,children:[a.jsx(Wr,{size:20}),"Pedidos recientes"]}),a.jsx(Ht,{children:n.length>0?n.slice(0,3).map((g,y)=>{const v=new Date(g.endDate)>new Date&&(g.status==="completed"||g.status==="active"),k=g.status==="pending";return a.jsxs(ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:y*.1},className:`mb-4 p-4 rounded-xl transition-all duration-300 border ${d?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,whileHover:{scale:1.02},children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:`font-semibold ${d?"text-white":"text-gray-900"}`,children:g.productName||"Producto sin nombre"}),a.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${g.status==="pending"?d?"bg-yellow-900/80 text-yellow-300 border border-yellow-500/30":"bg-yellow-100 text-yellow-800 border border-yellow-300":v?d?"bg-green-900/80 text-green-300 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300":d?"bg-red-900/80 text-red-300 border border-red-500/30":"bg-red-100 text-red-800 border border-red-300"}`,children:k?"A pedido":v?"Activo":"Expirado"})]}),a.jsxs("p",{className:`text-sm ${d?"text-gray-400":"text-gray-600"}`,children:["Vence: ",l(g.endDate)]})]},g.id)}):a.jsx(ne.p,{initial:{opacity:0},animate:{opacity:1},className:`py-8 text-center ${d?"text-gray-400":"text-gray-500"}`,children:"No tienes pedidos recientes"})}),n.length>3&&a.jsx(ne.button,{onClick:()=>s("pedidos"),className:`w-full mt-4 px-6 py-3 text-center text-sm transition-all duration-300 rounded-xl border-2 font-medium ${d?"border-blue-500/50 text-blue-400 hover:bg-blue-500/10":"border-blue-500/50 text-blue-600 hover:bg-blue-500/10"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver todos los pedidos"})]}),a.jsxs(ne.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-white":"text-gray-900"}`,children:[a.jsx(is,{size:20}),"Notificaciones"]}),a.jsx(Ht,{children:i.length>0?i.map((g,y)=>a.jsxs(ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,delay:y*.1},className:`mb-4 p-4 rounded-xl transition-all duration-300 border ${d?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,whileHover:{scale:1.02},children:[a.jsx("p",{className:`font-medium ${d?"text-gray-300":"text-gray-700"}`,children:g.message}),a.jsx("p",{className:`text-xs mt-2 ${d?"text-gray-400":"text-gray-500"}`,children:l(g.updatedAt?.toDate?.()||new Date)})]},g.id)):a.jsx(ne.p,{initial:{opacity:0},animate:{opacity:1},className:`py-8 text-center ${d?"text-gray-400":"text-gray-500"}`,children:"No hay notificaciones"})})]})]}),a.jsxs(ne.div,{className:`rounded-3xl p-6 shadow-2xl border backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[a.jsxs("h3",{className:`text-xl font-bold mb-6 flex items-center gap-2 ${d?"text-white":"text-gray-900"}`,children:[a.jsx(Wr,{size:24}),"nete a nuestros grupos"]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{href:"https://chat.whatsapp.com/IG8v1E00lAD6RIOo7ZB5Kv",icon:Wr,title:"Avisos",subtitle:"Grupo de WhatsApp",color:"from-green-500 to-emerald-600"},{href:"https://chat.whatsapp.com/Gs6kTW4DBTi7dEMhnZV1yb",icon:Wr,title:"General",subtitle:"Grupo de WhatsApp",color:"from-blue-500 to-cyan-600"},{href:"https://chat.whatsapp.com/BqCOR6w8002695hbYXf5KA",icon:Wr,title:"Publicidad",subtitle:"Grupo de WhatsApp",color:"from-purple-500 to-pink-600"}].map((g,y)=>a.jsxs(ne.a,{href:g.href,target:"_blank",rel:"noopener noreferrer",className:`flex items-center p-4 rounded-2xl transition-all duration-300 border group ${d?"bg-gray-700/50 hover:bg-gray-600/70 border-gray-600/50":"bg-gray-200/50 hover:bg-gray-300/70 border-gray-300/50"}`,whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:[a.jsx(ne.div,{className:`flex-shrink-0 p-3 rounded-xl mr-4 bg-gradient-to-br ${g.color} text-white shadow-lg`,whileHover:{scale:1.1},children:a.jsx(g.icon,{size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:`font-semibold ${d?"text-white":"text-gray-900"} group-hover:text-blue-500 transition-colors`,children:g.title}),a.jsx("p",{className:`text-sm ${d?"text-gray-300":"text-gray-600"}`,children:g.subtitle})]})]},y))})]})]})},eA=({notifications:t,formatDate:e,theme:r="dark"})=>{const n=r==="dark",i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},s={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return a.jsxs(ne.div,{className:`p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${n?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:i,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"notifications-title",children:[a.jsxs(ne.h3,{id:"notifications-title",className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${n?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Notificaciones",a.jsx("span",{className:`ml-2 bg-gradient-to-r ${n?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:t.length})]}),a.jsx(Ht,{children:t.length>0?a.jsx(ne.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.map((l,u)=>a.jsx(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm transition-all duration-300 ${n?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:s,whileHover:"hover",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:u*.1},"aria-labelledby":`notification-${l.id}-title`,children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex-shrink-0 pt-1",children:a.jsx(f0,{className:`text-xl ${n?"text-blue-400":"text-blue-600"}`})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{id:`notification-${l.id}-title`,className:`font-semibold text-base ${n?"text-white":"text-gray-900"} mb-2`,children:l.message}),a.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:e(l.updatedAt?.toDate?.()||new Date)})]})]})},l.id))}):a.jsxs(ne.div,{className:"text-center py-16",variants:s,initial:"hidden",animate:"visible",children:[a.jsx(ne.div,{className:`mx-auto w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center mb-6 shadow-lg ${n?"bg-gray-700/50":"bg-gray-200/50"}`,animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:a.jsx(f0,{className:"text-white",size:32})}),a.jsx("h4",{className:`text-xl font-semibold mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"No hay notificaciones"}),a.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"No tienes mensajes nuevos. Vuelve pronto para ver actualizaciones!"})]})})]})};eA.propTypes={notifications:q.arrayOf(q.shape({id:q.string.isRequired,message:q.string.isRequired,updatedAt:q.oneOfType([q.instanceOf(Date),q.shape({toDate:q.func})])})).isRequired,formatDate:q.func.isRequired,theme:q.oneOf(["light","dark"]).isRequired};const Jz="/assets/yape-sz-D-gX92Ca.png",Zz="/assets/binance-sz-CGisVpHF.png",tA=({amount:t,setAmount:e,topUps:r,actionLoading:n,handleTopUpRequest:i,formatDate:s,theme:l="dark"})=>{const u=l==="dark",[d,h]=N.useState("PEN"),[p,g]=N.useState(3.75),[y,v]=N.useState(!1),[k,w]=N.useState(!1),[E,O]=N.useState(""),[M,V]=N.useState(5),j={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}}};N.useEffect(()=>{(async()=>{v(!0),w(!1);try{const z=await fetch("https://api.exchangerate-api.com/v4/latest/USD");if(!z.ok)throw new Error("API request failed");const Ee=(await z.json()).rates.PEN||3.75;g(Ee*1.1)}catch(z){console.error("Error fetching exchange rate:",z),w(!0)}finally{v(!1)}})()},[]),N.useEffect(()=>{const D=Math.ceil(M/(p/1.1));V(d==="PEN"?5:D)},[d,p]),N.useEffect(()=>{const D=parseFloat(E);if(isNaN(D))e("");else{const z=d==="USD"?D*p:D;e(z.toFixed(2))}},[E,d,p,e]);const X=D=>{const z=D.target.value;(/^\d*\.?\d{0,2}$/.test(z)||z==="")&&O(z)},U=parseFloat(E),A=d==="USD"?U*p:U,S=isNaN(A)?"0.00":A.toFixed(2),C=!isNaN(U)&&U>=M,P=`Hola , he realizado una recarga a travs de ${d==="PEN"?"Yape":"Binance"} por ${d==="PEN"?`S/ ${S}`:`$ ${U?.toFixed(2)||"0.00"} (equivalente a S/ ${S})`}. Por favor, confirma mi pago.`;return a.jsxs(ne.div,{className:"space-y-8 max-w-6xl mx-auto px-4 sm:px-0",variants:j,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"topup-title",children:[a.jsxs("div",{className:`p-6 sm:p-8 rounded-3xl shadow-md border ${u?"bg-gray-900/80 border-gray-700/30":"bg-white border-gray-300"}`,children:[a.jsx("h3",{id:"topup-title",className:"text-2xl sm:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-6 text-center",children:"Recargar saldo"}),a.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Moneda"}),a.jsxs("select",{value:d,onChange:D=>{h(D.target.value),O(""),e("")},className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300`,"aria-label":"Seleccionar moneda",children:[a.jsx("option",{value:"PEN",children:"S/ (PEN)"}),a.jsx("option",{value:"USD",children:"$ (USD)"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:["Monto a recargar (",d==="PEN"?"S/":"$",")"]}),a.jsx("input",{type:"number",value:E,onChange:X,className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 ${!C&&E?"border-red-500 focus:ring-red-400":""}`,placeholder:`Mnimo ${d==="PEN"?"S/ 5.00":`$${M.toFixed(2)}`}`,min:M,step:"0.01","aria-label":`Monto a recargar en ${d}`,"aria-invalid":!C&&E}),d==="USD"&&!isNaN(U)&&a.jsxs("p",{className:`text-sm mt-2 ${k?"text-red-400":u?"text-gray-400":"text-gray-600"}`,children:[k?"Error al cargar tasa. Usando tasa por defecto.":`Equivalente: S/ ${S} (Tasa: 1 USD  ${p.toFixed(2)} PEN)`,y&&" (Cargando tasa...)"]}),!C&&E&&a.jsxs("p",{className:"text-sm text-red-400 mt-1",children:["Monto mnimo: ",d==="PEN"?"S/ 5.00":`$${M.toFixed(2)}`]})]}),a.jsx(ne.button,{onClick:i,disabled:n.topUp||!C,className:`w-full py-3 px-4 rounded-xl font-medium text-lg transition-all duration-300 ${C&&!n.topUp?u?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500":"bg-gray-300 text-gray-500 cursor-not-allowed"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,whileHover:{scale:C&&!n.topUp?1.05:1},whileTap:{scale:C&&!n.topUp?.95:1},"aria-label":"Solicitar recarga",children:n.topUp?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin h-6 w-6 border-3 border-white rounded-full border-t-transparent mr-2"}),"Procesando..."]}):"Solicitar recarga"})]}),a.jsx("div",{className:`mt-8 p-6 rounded-2xl border ${u?"bg-gray-800/50 border-gray-700/30":"bg-gray-100 border-gray-300"} max-w-lg mx-auto`,children:a.jsxs(ne.div,{className:"animate-fade-in",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[a.jsxs("h4",{className:`text-lg font-semibold ${u?"text-blue-400":"text-blue-600"} mb-4 flex items-center`,children:[a.jsx(Ys,{className:"mr-2"})," Pago con ",d==="PEN"?"Yape":"Binance"]}),a.jsxs("p",{className:`mb-3 ${u?"text-gray-300":"text-gray-700"}`,children:["Escanea el cdigo QR",d==="PEN"?" o usa Yape con el nmero:":"."]}),d==="PEN"&&a.jsx("p",{className:`text-xl font-bold ${u?"text-white":"text-gray-900"} mb-3 text-center`,children:" 940505969"}),a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:`p-4 rounded-xl shadow-md ${u?"bg-white border-4 border-blue-600":"bg-white border border-gray-300"}`,children:a.jsx("img",{src:d==="PEN"?Jz:Zz,alt:`${d==="PEN"?"Yape":"Binance"} QR Code`,className:"w-48 h-48 object-contain",loading:"lazy"})})}),a.jsxs("p",{className:`mb-4 ${u?"text-gray-300":"text-gray-700"} text-center`,children:["Realiza el pago de ",d==="PEN"?`S/ ${S}`:`$ ${U?.toFixed(2)||"0.00"} (S/ ${S})`,". Confirma tu recarga va WhatsApp."]}),a.jsxs(ne.a,{href:`https://wa.me/51940505969?text=${encodeURIComponent(P)}`,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center justify-center w-full px-6 py-3 rounded-xl font-medium transition-all duration-300 ${u?"bg-green-500 hover:bg-green-600 text-white focus:ring-green-400":"bg-green-500 hover:bg-green-600 text-white focus:ring-green-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Confirmar pago por WhatsApp con ${d==="PEN"?"Yape":"Binance"}`,children:[a.jsx(Wr,{className:"mr-2"})," Confirmar por WhatsApp"]})]})})]}),a.jsxs("div",{className:`p-6 sm:p-8 rounded-3xl shadow-md border ${u?"bg-gray-900/80 border-gray-700/30":"bg-white border-gray-300"}`,children:[a.jsx("h3",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-6 text-center",children:"Historial de recargas"}),r.length>0?a.jsx("div",{className:"overflow-x-auto rounded-xl border",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[a.jsx("thead",{className:`${u?"bg-gray-800/50":"bg-gray-100"}`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Monto"}),a.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),a.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"})]})}),a.jsx("tbody",{className:`${u?"bg-gray-800/50":"bg-white"} divide-y ${u?"divide-gray-600/50":"divide-gray-200"}`,children:r.map(D=>{const z=D.status==="aprobado"?"Aprobado":D.status==="pendiente"?"Pendiente":"Rechazado",B=D.status==="aprobado"?"green":D.status==="pendiente"?"yellow":"red";return a.jsxs("tr",{className:`${u?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,children:[a.jsxs("td",{className:`px-4 py-4 whitespace-nowrap font-medium ${u?"text-white":"text-gray-900"}`,children:["S/ ",D.amount.toFixed(2)]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full capitalize ${u?`bg-${B}-900/80 text-${B}-400`:`bg-${B}-500/20 text-${B}-600`}`,children:z})}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${u?"text-gray-400":"text-gray-600"}`,children:s(D.date)})]},D.id)})})]})}):a.jsxs(ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-12",children:[a.jsx(Ys,{className:`mx-auto text-4xl ${u?"text-gray-400":"text-gray-500"} mb-4`}),a.jsx("p",{className:`text-lg ${u?"text-gray-400":"text-gray-600"}`,children:"No hay recargas registradas"})]})]})]})};tA.propTypes={amount:q.oneOfType([q.string,q.number]).isRequired,setAmount:q.func.isRequired,topUps:q.arrayOf(q.shape({id:q.string.isRequired,amount:q.oneOfType([q.string,q.number]).isRequired,status:q.string.isRequired,date:q.oneOfType([q.instanceOf(Date),q.string]).isRequired})).isRequired,actionLoading:q.shape({topUp:q.bool}).isRequired,handleTopUpRequest:q.func.isRequired,formatDate:q.func.isRequired,theme:q.oneOf(["light","dark"]).isRequired};const rA=({providers:t,openRateProviderModal:e,theme:r="dark"})=>{const n=r==="dark",i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},s={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return a.jsxs(ne.div,{className:`p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${n?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:i,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"providers-title",children:[a.jsxs(ne.h3,{id:"providers-title",className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${n?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Proveedores",a.jsx("span",{className:`ml-2 bg-gradient-to-r ${n?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:t.length})]}),a.jsx(Ht,{children:t.length>0?a.jsx(ne.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.map((l,u)=>a.jsx(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm transition-all duration-300 ${n?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:s,whileHover:"hover","aria-labelledby":`provider-${l.id}-title`,children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:a.jsx(Bi,{className:"text-white",size:24})})}),a.jsxs("div",{children:[a.jsx("h4",{id:`provider-${l.id}-title`,className:`font-bold text-lg ${n?"text-white":"text-gray-900"}`,children:l.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(Ap,{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`}),a.jsx("span",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:l.phone})]})]})]}),a.jsxs(ne.button,{onClick:()=>e(l),className:`px-6 py-3 rounded-xl font-semibold transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${n?"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white focus:ring-purple-400":"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white focus:ring-purple-500"}`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Calificar al proveedor ${l.name}`,children:[a.jsx(Yy,{size:18}),a.jsx("span",{children:"Calificar"})]})]})},l.id))}):a.jsxs(ne.div,{className:"text-center py-16",variants:s,initial:"hidden",animate:"visible",children:[a.jsx(ne.div,{className:`mx-auto w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center mb-6 shadow-lg ${n?"bg-gray-700/50":"bg-gray-200/50"}`,animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:a.jsx(Bi,{className:"text-white",size:32})}),a.jsx("h4",{className:`text-xl font-semibold mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"No hay proveedores"}),a.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"No has realizado compras con proveedores an. Tu primer pedido desbloquear esta seccin!"})]})})]})};rA.propTypes={providers:q.arrayOf(q.shape({id:q.string.isRequired,name:q.string.isRequired,phone:q.string.isRequired})).isRequired,openRateProviderModal:q.func.isRequired,theme:q.oneOf(["light","dark"]).isRequired};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var jp={};jp.version="0.18.5";var nA=1252,eH=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],iA=function(t){eH.indexOf(t)!=-1&&(nA=t)};function tH(){iA(1252)}var p0=function(t){iA(t)};function rH(){p0(1200),tH()}var vf=function(e){return String.fromCharCode(e)},iT=function(e){return String.fromCharCode(e)},Pp,No="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function m0(t){for(var e="",r=0,n=0,i=0,s=0,l=0,u=0,d=0,h=0;h<t.length;)r=t.charCodeAt(h++),s=r>>2,n=t.charCodeAt(h++),l=(r&3)<<4|n>>4,i=t.charCodeAt(h++),u=(n&15)<<2|i>>6,d=i&63,isNaN(n)?u=d=64:isNaN(i)&&(d=64),e+=No.charAt(s)+No.charAt(l)+No.charAt(u)+No.charAt(d);return e}function Ua(t){var e="",r=0,n=0,i=0,s=0,l=0,u=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<t.length;)s=No.indexOf(t.charAt(h++)),l=No.indexOf(t.charAt(h++)),r=s<<2|l>>4,e+=String.fromCharCode(r),u=No.indexOf(t.charAt(h++)),n=(l&15)<<4|u>>2,u!==64&&(e+=String.fromCharCode(n)),d=No.indexOf(t.charAt(h++)),i=(u&3)<<6|d,d!==64&&(e+=String.fromCharCode(i));return e}var sr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),qa=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function $l(t){return sr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function sT(t){return sr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Ts=function(e){return sr?qa(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Im(t){if(typeof ArrayBuffer>"u")return Ts(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function H0(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function nH(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Dn=sr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:qa(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function iH(t){for(var e=[],r=0,n=t.length+250,i=$l(t.length+255),s=0;s<t.length;++s){var l=t.charCodeAt(s);if(l<128)i[r++]=l;else if(l<2048)i[r++]=192|l>>6&31,i[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var u=t.charCodeAt(++s)&1023;i[r++]=240|l>>8&7,i[r++]=128|l>>2&63,i[r++]=128|u>>6&15|(l&3)<<4,i[r++]=128|u&63}else i[r++]=224|l>>12&15,i[r++]=128|l>>6&63,i[r++]=128|l&63;r>n&&(e.push(i.slice(0,r)),r=0,i=$l(65535),n=65530)}return e.push(i.slice(0,r)),Dn(e)}var Bd=/\u0000/g,bf=/[\u0001-\u0006]/g;function nu(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Ss(t,e){var r=""+t;return r.length>=e?r:Hr("0",e-r.length)+r}function i2(t,e){var r=""+t;return r.length>=e?r:Hr(" ",e-r.length)+r}function Rp(t,e){var r=""+t;return r.length>=e?r:r+Hr(" ",e-r.length)}function sH(t,e){var r=""+Math.round(t);return r.length>=e?r:Hr("0",e-r.length)+r}function aH(t,e){var r=""+t;return r.length>=e?r:Hr("0",e-r.length)+r}var aT=Math.pow(2,32);function Lc(t,e){if(t>aT||t<-aT)return sH(t,e);var r=Math.round(t);return aH(r,e)}function Dp(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var oT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],qx=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function oH(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Gr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},lT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},lH={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Op(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,l=1,u=0,d=1,h=0,p=0,g=Math.floor(i);h<e&&(g=Math.floor(i),u=g*l+s,p=g*h+d,!(i-g<5e-8));)i=1/(i-g),s=l,l=u,d=h,h=p;if(p>e&&(h>e?(p=d,u=s):(p=h,u=l)),!r)return[0,n*u,p];var y=Math.floor(n*u/p);return[y,n*u-y*p,p]}function wf(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,l=[],u={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),e&&e.date1904&&(n+=1462),u.u>.9999&&(u.u=0,++i==86400&&(u.T=i=0,++n,++u.D)),n===60)l=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),l=[d.getFullYear(),d.getMonth()+1,d.getDate()],s=d.getDay(),n<60&&(s=(s+6)%7),r&&(s=mH(d,l))}return u.y=l[0],u.m=l[1],u.d=l[2],u.S=i%60,i=Math.floor(i/60),u.M=i%60,i=Math.floor(i/60),u.H=i,u.q=s,u}var sA=new Date(1899,11,31,0,0,0),cH=sA.getTime(),uH=new Date(1900,2,1,0,0,0);function aA(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=uH&&(r+=1440*60*1e3),(r-(cH+(t.getTimezoneOffset()-sA.getTimezoneOffset())*6e4))/(1440*60*1e3)}function s2(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function dH(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function hH(t){var e=t<0?12:11,r=s2(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function fH(t){var e=s2(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function pH(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=hH(t):e===10?r=t.toFixed(10).substr(0,12):r=fH(t),s2(dH(r.toUpperCase()))}function Qy(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):pH(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return zo(14,aA(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function mH(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function gH(t,e,r,n){var i="",s=0,l=0,u=r.y,d,h=0;switch(t){case 98:u=r.y+543;case 121:switch(e.length){case 1:case 2:d=u%100,h=2;break;default:d=u%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:d=r.m,h=e.length;break;case 3:return qx[r.m-1][1];case 5:return qx[r.m-1][0];default:return qx[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=r.d,h=e.length;break;case 3:return oT[r.q][0];default:return oT[r.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(r.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=r.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=r.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Ss(r.S,e.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,s=Math.round(l*(r.S+r.u)),s>=60*l&&(s=0),e==="s"?s===0?"0":""+s/l:(i=Ss(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:d=u,h=1;break}var p=h>0?Ss(d,h):"";return p}function So(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var oA=/%/g;function xH(t,e,r){var n=e.replace(oA,""),i=e.length-n.length;return Pa(t,n,r*Math.pow(10,2*i))+Hr("%",i)}function yH(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Pa(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function lA(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+lA(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+s):r+="E+"+(l-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,h,p){return d+h+p.substr(0,(i+s)%i)+"."+p.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var cA=/# (\?+)( ?)\/( ?)(\d+)/;function vH(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),l=i-s*n,u=n;return r+(s===0?"":""+s)+" "+(l===0?Hr(" ",t[1].length+1+t[4].length):i2(l,t[1].length)+t[2]+"/"+t[3]+Ss(u,t[4].length))}function bH(t,e,r){return r+(e===0?"":""+e)+Hr(" ",t[1].length+2+t[4].length)}var uA=/^#*0*\.([0#]+)/,dA=/\).*[0#]/,hA=/\(###\) ###\\?-####/;function ri(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function cT(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function uT(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function wH(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function _H(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function es(t,e,r){if(t.charCodeAt(0)===40&&!e.match(dA)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?es("n",n,r):"("+es("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return yH(t,e,r);if(e.indexOf("%")!==-1)return xH(t,e,r);if(e.indexOf("E")!==-1)return lA(e,r);if(e.charCodeAt(0)===36)return"$"+es(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,l,u,d=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+Lc(d,e.length);if(e.match(/^[#?]+$/))return i=Lc(r,0),i==="0"&&(i=""),i.length>e.length?i:ri(e.substr(0,e.length-i.length))+i;if(s=e.match(cA))return vH(s,d,h);if(e.match(/^#+0+$/))return h+Lc(d,e.length-e.indexOf("0"));if(s=e.match(uA))return i=cT(r,s[1].length).replace(/^([^\.]+)$/,"$1."+ri(s[1])).replace(/\.$/,"."+ri(s[1])).replace(/\.(\d*)$/,function(k,w){return"."+w+Hr("0",ri(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return h+cT(d,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return h+So(Lc(d,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+es(t,e,-r):So(""+(Math.floor(r)+wH(r,s[1].length)))+"."+Ss(uT(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return es(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=nu(es(t,e.replace(/[\\-]/g,""),r)),l=0,nu(nu(e.replace(/\\/g,"")).replace(/[0#]/g,function(k){return l<i.length?i.charAt(l++):k==="0"?"0":""}));if(e.match(hA))return i=es(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),u=Op(d,Math.pow(10,l)-1,!1),i=""+h,p=Pa("n",s[1],u[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+s[2]+"/"+s[3],p=Rp(u[2],l),p.length<s[4].length&&(p=ri(s[4].substr(s[4].length-p.length))+p),i+=p,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),u=Op(d,Math.pow(10,l)-1,!0),h+(u[0]||(u[1]?"":"0"))+" "+(u[1]?i2(u[1],l)+s[2]+"/"+s[3]+Rp(u[2],l):Hr(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Lc(r,0),e.length<=i.length?i:ri(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var g=e.indexOf(".")-l,y=e.length-i.length-g;return ri(e.substr(0,g)+i+e.substr(e.length-y))}if(s=e.match(/^00,000\.([#0]*0)$/))return l=uT(r,s[1].length),r<0?"-"+es(t,e,-r):So(_H(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(k){return"00,"+(k.length<3?Ss(0,3-k.length):"")+k})+"."+Ss(l,s[1].length);switch(e){case"###,##0.00":return es(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var v=So(Lc(d,0));return v!=="0"?h+v:"";case"###,###.00":return es(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return es(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function EH(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Pa(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function TH(t,e,r){var n=e.replace(oA,""),i=e.length-n.length;return Pa(t,n,r*Math.pow(10,2*i))+Hr("%",i)}function fA(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+fA(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+s):r+="E+"+(l-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,h,p){return d+h+p.substr(0,(i+s)%i)+"."+p.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Gs(t,e,r){if(t.charCodeAt(0)===40&&!e.match(dA)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Gs("n",n,r):"("+Gs("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return EH(t,e,r);if(e.indexOf("%")!==-1)return TH(t,e,r);if(e.indexOf("E")!==-1)return fA(e,r);if(e.charCodeAt(0)===36)return"$"+Gs(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,l,u,d=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+Ss(d,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:ri(e.substr(0,e.length-i.length))+i;if(s=e.match(cA))return bH(s,d,h);if(e.match(/^#+0+$/))return h+Ss(d,e.length-e.indexOf("0"));if(s=e.match(uA))return i=(""+r).replace(/^([^\.]+)$/,"$1."+ri(s[1])).replace(/\.$/,"."+ri(s[1])),i=i.replace(/\.(\d*)$/,function(k,w){return"."+w+Hr("0",ri(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return h+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return h+So(""+d);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Gs(t,e,-r):So(""+r)+"."+Hr("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Gs(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=nu(Gs(t,e.replace(/[\\-]/g,""),r)),l=0,nu(nu(e.replace(/\\/g,"")).replace(/[0#]/g,function(k){return l<i.length?i.charAt(l++):k==="0"?"0":""}));if(e.match(hA))return i=Gs(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var p="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),u=Op(d,Math.pow(10,l)-1,!1),i=""+h,p=Pa("n",s[1],u[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),i+=p+s[2]+"/"+s[3],p=Rp(u[2],l),p.length<s[4].length&&(p=ri(s[4].substr(s[4].length-p.length))+p),i+=p,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),u=Op(d,Math.pow(10,l)-1,!0),h+(u[0]||(u[1]?"":"0"))+" "+(u[1]?i2(u[1],l)+s[2]+"/"+s[3]+Rp(u[2],l):Hr(" ",2*l+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:ri(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var g=e.indexOf(".")-l,y=e.length-i.length-g;return ri(e.substr(0,g)+i+e.substr(e.length-y))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Gs(t,e,-r):So(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(k){return"00,"+(k.length<3?Ss(0,3-k.length):"")+k})+"."+Ss(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var v=So(""+d);return v!=="0"?h+v:"";default:if(e.match(/\.[0#?]*$/))return Gs(t,e.slice(0,e.lastIndexOf(".")),r)+ri(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Pa(t,e,r){return(r|0)===r?Gs(t,e,r):es(t,e,r)}function kH(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var pA=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function mA(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":Dp(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(pA))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function NH(t,e,r,n){for(var i=[],s="",l=0,u="",d="t",h,p,g,y="H";l<t.length;)switch(u=t.charAt(l)){case"G":if(!Dp(t,l))throw new Error("unrecognized character "+u+" in "+t);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(s="";(g=t.charCodeAt(++l))!==34&&l<t.length;)s+=String.fromCharCode(g);i[i.length]={t:"t",v:s},++l;break;case"\\":var v=t.charAt(++l),k=v==="("||v===")"?v:"t";i[i.length]={t:k,v},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:e},++l;break;case"B":case"b":if(t.charAt(l+1)==="1"||t.charAt(l+1)==="2"){if(h==null&&(h=wf(e,r,t.charAt(l+1)==="2"),h==null))return"";i[i.length]={t:"X",v:t.substr(l,2)},d=u,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=wf(e,r),h==null))return"";for(s=u;++l<t.length&&t.charAt(l).toLowerCase()===u;)s+=u;u==="m"&&d.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=y),i[i.length]={t:u,v:s},d=u;break;case"A":case"a":case"":var w={t:u,v:u};if(h==null&&(h=wf(e,r)),t.substr(l,3).toUpperCase()==="A/P"?(h!=null&&(w.v=h.H>=12?"P":"A"),w.t="T",y="h",l+=3):t.substr(l,5).toUpperCase()==="AM/PM"?(h!=null&&(w.v=h.H>=12?"PM":"AM"),w.t="T",l+=5,y="h"):t.substr(l,5).toUpperCase()==="/"?(h!=null&&(w.v=h.H>=12?"":""),w.t="T",l+=5,y="h"):(w.t="t",++l),h==null&&w.t==="T")return"";i[i.length]=w,d=u;break;case"[":for(s=u;t.charAt(l++)!=="]"&&l<t.length;)s+=t.charAt(l);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(pA)){if(h==null&&(h=wf(e,r),h==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},d=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",mA(t)||(i[i.length]={t:"t",v:s}));break;case".":if(h!=null){for(s=u;++l<t.length&&(u=t.charAt(l))==="0";)s+=u;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=u;++l<t.length&&"0#?.,E+-%".indexOf(u=t.charAt(l))>-1;)s+=u;i[i.length]={t:"n",v:s};break;case"?":for(s=u;t.charAt(++l)===u;)s+=u;i[i.length]={t:u,v:s},d=u;break;case"*":++l,(t.charAt(l)==" "||t.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:n===1?"t":u,v:u},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=u;l<t.length&&"0123456789".indexOf(t.charAt(++l))>-1;)s+=t.charAt(l);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:u,v:u},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+t);i[i.length]={t:"t",v:u},++l;break}var E=0,O=0,M;for(l=i.length-1,d="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=y,d="h",E<1&&(E=1);break;case"s":(M=i[l].v.match(/\.0+$/))&&(O=Math.max(O,M[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":d=i[l].t;break;case"m":d==="s"&&(i[l].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&i[l].v.match(/[Hh]/)&&(E=1),E<2&&i[l].v.match(/[Mm]/)&&(E=2),E<3&&i[l].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var V="",j;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=gH(i[l].t.charCodeAt(0),i[l].v,h,O),i[l].t="t";break;case"n":case"?":for(j=l+1;i[j]!=null&&((u=i[j].t)==="?"||u==="D"||(u===" "||u==="t")&&i[j+1]!=null&&(i[j+1].t==="?"||i[j+1].t==="t"&&i[j+1].v==="/")||i[l].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(i[j].v==="/"||i[j].v===" "&&i[j+1]!=null&&i[j+1].t=="?"));)i[l].v+=i[j].v,i[j]={v:"",t:";"},++j;V+=i[l].v,l=j-1;break;case"G":i[l].t="t",i[l].v=Qy(e,r);break}var X="",U,A;if(V.length>0){V.charCodeAt(0)==40?(U=e<0&&V.charCodeAt(0)===45?-e:e,A=Pa("n",V,U)):(U=e<0&&n>1?-e:e,A=Pa("n",V,U),U<0&&i[0]&&i[0].t=="t"&&(A=A.substr(1),i[0].v="-"+i[0].v)),j=A.length-1;var S=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){S=l;break}var C=i.length;if(S===i.length&&A.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(j>=i[l].v.length-1?(j-=i[l].v.length,i[l].v=A.substr(j+1,i[l].v.length)):j<0?i[l].v="":(i[l].v=A.substr(0,j+1),j=-1),i[l].t="t",C=l);j>=0&&C<i.length&&(i[C].v=A.substr(0,j+1)+i[C].v)}else if(S!==i.length&&A.indexOf("E")===-1){for(j=A.indexOf(".")-1,l=S;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(p=i[l].v.indexOf(".")>-1&&l===S?i[l].v.indexOf(".")-1:i[l].v.length-1,X=i[l].v.substr(p+1);p>=0;--p)j>=0&&(i[l].v.charAt(p)==="0"||i[l].v.charAt(p)==="#")&&(X=A.charAt(j--)+X);i[l].v=X,i[l].t="t",C=l}for(j>=0&&C<i.length&&(i[C].v=A.substr(0,j+1)+i[C].v),j=A.indexOf(".")+1,l=S;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==S)){for(p=i[l].v.indexOf(".")>-1&&l===S?i[l].v.indexOf(".")+1:0,X=i[l].v.substr(0,p);p<i[l].v.length;++p)j<A.length&&(X+=A.charAt(j++));i[l].v=X,i[l].t="t",C=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(U=n>1&&e<0&&l>0&&i[l-1].v==="-"?-e:e,i[l].v=Pa(i[l].t,i[l].v,U),i[l].t="t");var P="";for(l=0;l!==i.length;++l)i[l]!=null&&(P+=i[l].v);return P}var dT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function hT(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function SH(t,e){var r=kH(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(dT),u=r[1].match(dT);return hT(e,l)?[n,r[0]]:hT(e,u)?[n,r[1]]:[n,r[l!=null&&u!=null?2:1]]}return[n,s]}function zo(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Gr)[t],n==null&&(n=r.table&&r.table[lT[t]]||Gr[lT[t]]),n==null&&(n=lH[t]||"General");break}if(Dp(n,0))return Qy(e,r);e instanceof Date&&(e=aA(e,r.date1904));var i=SH(n,e);if(Dp(i[1]))return Qy(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return NH(i[1],e,r,i[0])}function gA(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Gr[r]==null){e<0&&(e=r);continue}if(Gr[r]==t){e=r;break}}e<0&&(e=391)}return Gr[e]=t,e}function jm(t){for(var e=0;e!=392;++e)t[e]!==void 0&&gA(t[e],e)}function Pm(){Gr=oH()}var xA=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function AH(t){var e=typeof t=="number"?Gr[t]:t;return e=e.replace(xA,"(\\d+)"),new RegExp("^"+e+"$")}function CH(t,e,r){var n=-1,i=-1,s=-1,l=-1,u=-1,d=-1;(e.match(xA)||[]).forEach(function(g,y){var v=parseInt(r[y+1],10);switch(g.toLowerCase().charAt(0)){case"y":n=v;break;case"d":s=v;break;case"h":l=v;break;case"s":d=v;break;case"m":l>=0?u=v:i=v;break}}),d>=0&&u==-1&&i>=0&&(u=i,i=-1);var h=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var p=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return l==-1&&u==-1&&d==-1?h:n==-1&&i==-1&&s==-1?p:h+"T"+p}var IH=(function(){var t={};t.version="1.2.0";function e(){for(var A=0,S=new Array(256),C=0;C!=256;++C)A=C,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,S[C]=A;return typeof Int32Array<"u"?new Int32Array(S):S}var r=e();function n(A){var S=0,C=0,P=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)D[P]=A[P];for(P=0;P!=256;++P)for(C=A[P],S=256+P;S<4096;S+=256)C=D[S]=C>>>8^A[C&255];var z=[];for(P=1;P!=16;++P)z[P-1]=typeof Int32Array<"u"?D.subarray(P*256,P*256+256):D.slice(P*256,P*256+256);return z}var i=n(r),s=i[0],l=i[1],u=i[2],d=i[3],h=i[4],p=i[5],g=i[6],y=i[7],v=i[8],k=i[9],w=i[10],E=i[11],O=i[12],M=i[13],V=i[14];function j(A,S){for(var C=S^-1,P=0,D=A.length;P<D;)C=C>>>8^r[(C^A.charCodeAt(P++))&255];return~C}function X(A,S){for(var C=S^-1,P=A.length-15,D=0;D<P;)C=V[A[D++]^C&255]^M[A[D++]^C>>8&255]^O[A[D++]^C>>16&255]^E[A[D++]^C>>>24]^w[A[D++]]^k[A[D++]]^v[A[D++]]^y[A[D++]]^g[A[D++]]^p[A[D++]]^h[A[D++]]^d[A[D++]]^u[A[D++]]^l[A[D++]]^s[A[D++]]^r[A[D++]];for(P+=15;D<P;)C=C>>>8^r[(C^A[D++])&255];return~C}function U(A,S){for(var C=S^-1,P=0,D=A.length,z=0,B=0;P<D;)z=A.charCodeAt(P++),z<128?C=C>>>8^r[(C^z)&255]:z<2048?(C=C>>>8^r[(C^(192|z>>6&31))&255],C=C>>>8^r[(C^(128|z&63))&255]):z>=55296&&z<57344?(z=(z&1023)+64,B=A.charCodeAt(P++)&1023,C=C>>>8^r[(C^(240|z>>8&7))&255],C=C>>>8^r[(C^(128|z>>2&63))&255],C=C>>>8^r[(C^(128|B>>6&15|(z&3)<<4))&255],C=C>>>8^r[(C^(128|B&63))&255]):(C=C>>>8^r[(C^(224|z>>12&15))&255],C=C>>>8^r[(C^(128|z>>6&63))&255],C=C>>>8^r[(C^(128|z&63))&255]);return~C}return t.table=r,t.bstr=j,t.buf=X,t.str=U,t})(),mr=(function(){var e={};e.version="1.2.1";function r(F,Y){for(var H=F.split("/"),G=Y.split("/"),J=0,Z=0,ce=Math.min(H.length,G.length);J<ce;++J){if(Z=H[J].length-G[J].length)return Z;if(H[J]!=G[J])return H[J]<G[J]?-1:1}return H.length-G.length}function n(F){if(F.charAt(F.length-1)=="/")return F.slice(0,-1).indexOf("/")===-1?F:n(F.slice(0,-1));var Y=F.lastIndexOf("/");return Y===-1?F:F.slice(0,Y+1)}function i(F){if(F.charAt(F.length-1)=="/")return i(F.slice(0,-1));var Y=F.lastIndexOf("/");return Y===-1?F:F.slice(Y+1)}function s(F,Y){typeof Y=="string"&&(Y=new Date(Y));var H=Y.getHours();H=H<<6|Y.getMinutes(),H=H<<5|Y.getSeconds()>>>1,F.write_shift(2,H);var G=Y.getFullYear()-1980;G=G<<4|Y.getMonth()+1,G=G<<5|Y.getDate(),F.write_shift(2,G)}function l(F){var Y=F.read_shift(2)&65535,H=F.read_shift(2)&65535,G=new Date,J=H&31;H>>>=5;var Z=H&15;H>>>=4,G.setMilliseconds(0),G.setFullYear(H+1980),G.setMonth(Z-1),G.setDate(J);var ce=Y&31;Y>>>=5;var be=Y&63;return Y>>>=6,G.setHours(Y),G.setMinutes(be),G.setSeconds(ce<<1),G}function u(F){Di(F,0);for(var Y={},H=0;F.l<=F.length-4;){var G=F.read_shift(2),J=F.read_shift(2),Z=F.l+J,ce={};switch(G){case 21589:H=F.read_shift(1),H&1&&(ce.mtime=F.read_shift(4)),J>5&&(H&2&&(ce.atime=F.read_shift(4)),H&4&&(ce.ctime=F.read_shift(4))),ce.mtime&&(ce.mt=new Date(ce.mtime*1e3));break}F.l=Z,Y[G]=ce}return Y}var d;function h(){return d||(d={})}function p(F,Y){if(F[0]==80&&F[1]==75)return Rt(F,Y);if((F[0]|32)==109&&(F[1]|32)==105)return _e(F,Y);if(F.length<512)throw new Error("CFB file size "+F.length+" < 512");var H=3,G=512,J=0,Z=0,ce=0,be=0,fe=0,pe=[],xe=F.slice(0,512);Di(xe,0);var Me=g(xe);switch(H=Me[0],H){case 3:G=512;break;case 4:G=4096;break;case 0:if(Me[1]==0)return Rt(F,Y);default:throw new Error("Major Version: Expected 3 or 4 saw "+H)}G!==512&&(xe=F.slice(0,G),Di(xe,28));var Ye=F.slice(0,G);y(xe,H);var tt=xe.read_shift(4,"i");if(H===3&&tt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+tt);xe.l+=4,ce=xe.read_shift(4,"i"),xe.l+=4,xe.chk("00100000","Mini Stream Cutoff Size: "),be=xe.read_shift(4,"i"),J=xe.read_shift(4,"i"),fe=xe.read_shift(4,"i"),Z=xe.read_shift(4,"i");for(var We=-1,Ve=0;Ve<109&&(We=xe.read_shift(4,"i"),!(We<0));++Ve)pe[Ve]=We;var At=v(F,G);E(fe,Z,At,G,pe);var tr=M(At,ce,pe,G);tr[ce].name="!Directory",J>0&&be!==B&&(tr[be].name="!MiniFAT"),tr[pe[0]].name="!FAT",tr.fat_addrs=pe,tr.ssz=G;var Yt={},lr=[],cs=[],Ls=[];V(ce,tr,At,lr,J,Yt,cs,be),k(cs,Ls,lr),lr.shift();var Ni={FileIndex:cs,FullPaths:Ls};return Y&&Y.raw&&(Ni.raw={header:Ye,sectors:At}),Ni}function g(F){if(F[F.l]==80&&F[F.l+1]==75)return[0,0];F.chk(Ee,"Header Signature: "),F.l+=16;var Y=F.read_shift(2,"u");return[F.read_shift(2,"u"),Y]}function y(F,Y){var H=9;switch(F.l+=2,H=F.read_shift(2)){case 9:if(Y!=3)throw new Error("Sector Shift: Expected 9 saw "+H);break;case 12:if(Y!=4)throw new Error("Sector Shift: Expected 12 saw "+H);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+H)}F.chk("0600","Mini Sector Shift: "),F.chk("000000000000","Reserved: ")}function v(F,Y){for(var H=Math.ceil(F.length/Y)-1,G=[],J=1;J<H;++J)G[J-1]=F.slice(J*Y,(J+1)*Y);return G[H-1]=F.slice(H*Y),G}function k(F,Y,H){for(var G=0,J=0,Z=0,ce=0,be=0,fe=H.length,pe=[],xe=[];G<fe;++G)pe[G]=xe[G]=G,Y[G]=H[G];for(;be<xe.length;++be)G=xe[be],J=F[G].L,Z=F[G].R,ce=F[G].C,pe[G]===G&&(J!==-1&&pe[J]!==J&&(pe[G]=pe[J]),Z!==-1&&pe[Z]!==Z&&(pe[G]=pe[Z])),ce!==-1&&(pe[ce]=G),J!==-1&&G!=pe[G]&&(pe[J]=pe[G],xe.lastIndexOf(J)<be&&xe.push(J)),Z!==-1&&G!=pe[G]&&(pe[Z]=pe[G],xe.lastIndexOf(Z)<be&&xe.push(Z));for(G=1;G<fe;++G)pe[G]===G&&(Z!==-1&&pe[Z]!==Z?pe[G]=pe[Z]:J!==-1&&pe[J]!==J&&(pe[G]=pe[J]));for(G=1;G<fe;++G)if(F[G].type!==0){if(be=G,be!=pe[be])do be=pe[be],Y[G]=Y[be]+"/"+Y[G];while(be!==0&&pe[be]!==-1&&be!=pe[be]);pe[G]=-1}for(Y[0]+="/",G=1;G<fe;++G)F[G].type!==2&&(Y[G]+="/")}function w(F,Y,H){for(var G=F.start,J=F.size,Z=[],ce=G;H&&J>0&&ce>=0;)Z.push(Y.slice(ce*z,ce*z+z)),J-=z,ce=bl(H,ce*4);return Z.length===0?ke(0):Dn(Z).slice(0,F.size)}function E(F,Y,H,G,J){var Z=B;if(F===B){if(Y!==0)throw new Error("DIFAT chain shorter than expected")}else if(F!==-1){var ce=H[F],be=(G>>>2)-1;if(!ce)return;for(var fe=0;fe<be&&(Z=bl(ce,fe*4))!==B;++fe)J.push(Z);E(bl(ce,G-4),Y-1,H,G,J)}}function O(F,Y,H,G,J){var Z=[],ce=[];J||(J=[]);var be=G-1,fe=0,pe=0;for(fe=Y;fe>=0;){J[fe]=!0,Z[Z.length]=fe,ce.push(F[fe]);var xe=H[Math.floor(fe*4/G)];if(pe=fe*4&be,G<4+pe)throw new Error("FAT boundary crossed: "+fe+" 4 "+G);if(!F[xe])break;fe=bl(F[xe],pe)}return{nodes:Z,data:bT([ce])}}function M(F,Y,H,G){var J=F.length,Z=[],ce=[],be=[],fe=[],pe=G-1,xe=0,Me=0,Ye=0,tt=0;for(xe=0;xe<J;++xe)if(be=[],Ye=xe+Y,Ye>=J&&(Ye-=J),!ce[Ye]){fe=[];var We=[];for(Me=Ye;Me>=0;){We[Me]=!0,ce[Me]=!0,be[be.length]=Me,fe.push(F[Me]);var Ve=H[Math.floor(Me*4/G)];if(tt=Me*4&pe,G<4+tt)throw new Error("FAT boundary crossed: "+Me+" 4 "+G);if(!F[Ve]||(Me=bl(F[Ve],tt),We[Me]))break}Z[Ye]={nodes:be,data:bT([fe])}}return Z}function V(F,Y,H,G,J,Z,ce,be){for(var fe=0,pe=G.length?2:0,xe=Y[F].data,Me=0,Ye=0,tt;Me<xe.length;Me+=128){var We=xe.slice(Me,Me+128);Di(We,64),Ye=We.read_shift(2),tt=u2(We,0,Ye-pe),G.push(tt);var Ve={name:tt,type:We.read_shift(1),color:We.read_shift(1),L:We.read_shift(4,"i"),R:We.read_shift(4,"i"),C:We.read_shift(4,"i"),clsid:We.read_shift(16),state:We.read_shift(4,"i"),start:0,size:0},At=We.read_shift(2)+We.read_shift(2)+We.read_shift(2)+We.read_shift(2);At!==0&&(Ve.ct=j(We,We.l-8));var tr=We.read_shift(2)+We.read_shift(2)+We.read_shift(2)+We.read_shift(2);tr!==0&&(Ve.mt=j(We,We.l-8)),Ve.start=We.read_shift(4,"i"),Ve.size=We.read_shift(4,"i"),Ve.size<0&&Ve.start<0&&(Ve.size=Ve.type=0,Ve.start=B,Ve.name=""),Ve.type===5?(fe=Ve.start,J>0&&fe!==B&&(Y[fe].name="!StreamData")):Ve.size>=4096?(Ve.storage="fat",Y[Ve.start]===void 0&&(Y[Ve.start]=O(H,Ve.start,Y.fat_addrs,Y.ssz)),Y[Ve.start].name=Ve.name,Ve.content=Y[Ve.start].data.slice(0,Ve.size)):(Ve.storage="minifat",Ve.size<0?Ve.size=0:fe!==B&&Ve.start!==B&&Y[fe]&&(Ve.content=w(Ve,Y[fe].data,(Y[be]||{}).data))),Ve.content&&Di(Ve.content,0),Z[tt]=Ve,ce.push(Ve)}}function j(F,Y){return new Date((Fi(F,Y+4)/1e7*Math.pow(2,32)+Fi(F,Y)/1e7-11644473600)*1e3)}function X(F,Y){return h(),p(d.readFileSync(F),Y)}function U(F,Y){var H=Y&&Y.type;switch(H||sr&&Buffer.isBuffer(F)&&(H="buffer"),H||"base64"){case"file":return X(F,Y);case"base64":return p(Ts(Ua(F)),Y);case"binary":return p(Ts(F),Y)}return p(F,Y)}function A(F,Y){var H=Y||{},G=H.root||"Root Entry";if(F.FullPaths||(F.FullPaths=[]),F.FileIndex||(F.FileIndex=[]),F.FullPaths.length!==F.FileIndex.length)throw new Error("inconsistent CFB structure");F.FullPaths.length===0&&(F.FullPaths[0]=G+"/",F.FileIndex[0]={name:G,type:5}),H.CLSID&&(F.FileIndex[0].clsid=H.CLSID),S(F)}function S(F){var Y="Sh33tJ5";if(!mr.find(F,"/"+Y)){var H=ke(4);H[0]=55,H[1]=H[3]=50,H[2]=54,F.FileIndex.push({name:Y,type:2,content:H,size:4,L:69,R:69,C:69}),F.FullPaths.push(F.FullPaths[0]+Y),C(F)}}function C(F,Y){A(F);for(var H=!1,G=!1,J=F.FullPaths.length-1;J>=0;--J){var Z=F.FileIndex[J];switch(Z.type){case 0:G?H=!0:(F.FileIndex.pop(),F.FullPaths.pop());break;case 1:case 2:case 5:G=!0,isNaN(Z.R*Z.L*Z.C)&&(H=!0),Z.R>-1&&Z.L>-1&&Z.R==Z.L&&(H=!0);break;default:H=!0;break}}if(!(!H&&!Y)){var ce=new Date(1987,1,19),be=0,fe=Object.create?Object.create(null):{},pe=[];for(J=0;J<F.FullPaths.length;++J)fe[F.FullPaths[J]]=!0,F.FileIndex[J].type!==0&&pe.push([F.FullPaths[J],F.FileIndex[J]]);for(J=0;J<pe.length;++J){var xe=n(pe[J][0]);G=fe[xe],G||(pe.push([xe,{name:i(xe).replace("/",""),type:1,clsid:Be,ct:ce,mt:ce,content:null}]),fe[xe]=!0)}for(pe.sort(function(tt,We){return r(tt[0],We[0])}),F.FullPaths=[],F.FileIndex=[],J=0;J<pe.length;++J)F.FullPaths[J]=pe[J][0],F.FileIndex[J]=pe[J][1];for(J=0;J<pe.length;++J){var Me=F.FileIndex[J],Ye=F.FullPaths[J];if(Me.name=i(Ye).replace("/",""),Me.L=Me.R=Me.C=-(Me.color=1),Me.size=Me.content?Me.content.length:0,Me.start=0,Me.clsid=Me.clsid||Be,J===0)Me.C=pe.length>1?1:-1,Me.size=0,Me.type=5;else if(Ye.slice(-1)=="/"){for(be=J+1;be<pe.length&&n(F.FullPaths[be])!=Ye;++be);for(Me.C=be>=pe.length?-1:be,be=J+1;be<pe.length&&n(F.FullPaths[be])!=n(Ye);++be);Me.R=be>=pe.length?-1:be,Me.type=1}else n(F.FullPaths[J+1]||"")==n(Ye)&&(Me.R=J+1),Me.type=2}}}function P(F,Y){var H=Y||{};if(H.fileType=="mad")return Ne(F,H);switch(C(F),H.fileType){case"zip":return Ft(F,H)}var G=(function(tt){for(var We=0,Ve=0,At=0;At<tt.FileIndex.length;++At){var tr=tt.FileIndex[At];if(tr.content){var Yt=tr.content.length;Yt>0&&(Yt<4096?We+=Yt+63>>6:Ve+=Yt+511>>9)}}for(var lr=tt.FullPaths.length+3>>2,cs=We+7>>3,Ls=We+127>>7,Ni=cs+Ve+lr+Ls,Yr=Ni+127>>7,Ga=Yr<=109?0:Math.ceil((Yr-109)/127);Ni+Yr+Ga+127>>7>Yr;)Ga=++Yr<=109?0:Math.ceil((Yr-109)/127);var kr=[1,Ga,Yr,Ls,lr,Ve,We,0];return tt.FileIndex[0].size=We<<6,kr[7]=(tt.FileIndex[0].start=kr[0]+kr[1]+kr[2]+kr[3]+kr[4]+kr[5])+(kr[6]+7>>3),kr})(F),J=ke(G[7]<<9),Z=0,ce=0;{for(Z=0;Z<8;++Z)J.write_shift(1,Re[Z]);for(Z=0;Z<8;++Z)J.write_shift(2,0);for(J.write_shift(2,62),J.write_shift(2,3),J.write_shift(2,65534),J.write_shift(2,9),J.write_shift(2,6),Z=0;Z<3;++Z)J.write_shift(2,0);for(J.write_shift(4,0),J.write_shift(4,G[2]),J.write_shift(4,G[0]+G[1]+G[2]+G[3]-1),J.write_shift(4,0),J.write_shift(4,4096),J.write_shift(4,G[3]?G[0]+G[1]+G[2]-1:B),J.write_shift(4,G[3]),J.write_shift(-4,G[1]?G[0]-1:B),J.write_shift(4,G[1]),Z=0;Z<109;++Z)J.write_shift(-4,Z<G[2]?G[1]+Z:-1)}if(G[1])for(ce=0;ce<G[1];++ce){for(;Z<236+ce*127;++Z)J.write_shift(-4,Z<G[2]?G[1]+Z:-1);J.write_shift(-4,ce===G[1]-1?B:ce+1)}var be=function(tt){for(ce+=tt;Z<ce-1;++Z)J.write_shift(-4,Z+1);tt&&(++Z,J.write_shift(-4,B))};for(ce=Z=0,ce+=G[1];Z<ce;++Z)J.write_shift(-4,Fe.DIFSECT);for(ce+=G[2];Z<ce;++Z)J.write_shift(-4,Fe.FATSECT);be(G[3]),be(G[4]);for(var fe=0,pe=0,xe=F.FileIndex[0];fe<F.FileIndex.length;++fe)xe=F.FileIndex[fe],xe.content&&(pe=xe.content.length,!(pe<4096)&&(xe.start=ce,be(pe+511>>9)));for(be(G[6]+7>>3);J.l&511;)J.write_shift(-4,Fe.ENDOFCHAIN);for(ce=Z=0,fe=0;fe<F.FileIndex.length;++fe)xe=F.FileIndex[fe],xe.content&&(pe=xe.content.length,!(!pe||pe>=4096)&&(xe.start=ce,be(pe+63>>6)));for(;J.l&511;)J.write_shift(-4,Fe.ENDOFCHAIN);for(Z=0;Z<G[4]<<2;++Z){var Me=F.FullPaths[Z];if(!Me||Me.length===0){for(fe=0;fe<17;++fe)J.write_shift(4,0);for(fe=0;fe<3;++fe)J.write_shift(4,-1);for(fe=0;fe<12;++fe)J.write_shift(4,0);continue}xe=F.FileIndex[Z],Z===0&&(xe.start=xe.size?xe.start-1:B);var Ye=Z===0&&H.root||xe.name;if(pe=2*(Ye.length+1),J.write_shift(64,Ye,"utf16le"),J.write_shift(2,pe),J.write_shift(1,xe.type),J.write_shift(1,xe.color),J.write_shift(-4,xe.L),J.write_shift(-4,xe.R),J.write_shift(-4,xe.C),xe.clsid)J.write_shift(16,xe.clsid,"hex");else for(fe=0;fe<4;++fe)J.write_shift(4,0);J.write_shift(4,xe.state||0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,xe.start),J.write_shift(4,xe.size),J.write_shift(4,0)}for(Z=1;Z<F.FileIndex.length;++Z)if(xe=F.FileIndex[Z],xe.size>=4096)if(J.l=xe.start+1<<9,sr&&Buffer.isBuffer(xe.content))xe.content.copy(J,J.l,0,xe.size),J.l+=xe.size+511&-512;else{for(fe=0;fe<xe.size;++fe)J.write_shift(1,xe.content[fe]);for(;fe&511;++fe)J.write_shift(1,0)}for(Z=1;Z<F.FileIndex.length;++Z)if(xe=F.FileIndex[Z],xe.size>0&&xe.size<4096)if(sr&&Buffer.isBuffer(xe.content))xe.content.copy(J,J.l,0,xe.size),J.l+=xe.size+63&-64;else{for(fe=0;fe<xe.size;++fe)J.write_shift(1,xe.content[fe]);for(;fe&63;++fe)J.write_shift(1,0)}if(sr)J.l=J.length;else for(;J.l<J.length;)J.write_shift(1,0);return J}function D(F,Y){var H=F.FullPaths.map(function(fe){return fe.toUpperCase()}),G=H.map(function(fe){var pe=fe.split("/");return pe[pe.length-(fe.slice(-1)=="/"?2:1)]}),J=!1;Y.charCodeAt(0)===47?(J=!0,Y=H[0].slice(0,-1)+Y):J=Y.indexOf("/")!==-1;var Z=Y.toUpperCase(),ce=J===!0?H.indexOf(Z):G.indexOf(Z);if(ce!==-1)return F.FileIndex[ce];var be=!Z.match(bf);for(Z=Z.replace(Bd,""),be&&(Z=Z.replace(bf,"!")),ce=0;ce<H.length;++ce)if((be?H[ce].replace(bf,"!"):H[ce]).replace(Bd,"")==Z||(be?G[ce].replace(bf,"!"):G[ce]).replace(Bd,"")==Z)return F.FileIndex[ce];return null}var z=64,B=-2,Ee="d0cf11e0a1b11ae1",Re=[208,207,17,224,161,177,26,225],Be="00000000000000000000000000000000",Fe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:Ee,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Be,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ve(F,Y,H){h();var G=P(F,H);d.writeFileSync(Y,G)}function ie(F){for(var Y=new Array(F.length),H=0;H<F.length;++H)Y[H]=String.fromCharCode(F[H]);return Y.join("")}function me(F,Y){var H=P(F,Y);switch(Y&&Y.type||"buffer"){case"file":return h(),d.writeFileSync(Y.filename,H),H;case"binary":return typeof H=="string"?H:ie(H);case"base64":return m0(typeof H=="string"?H:ie(H));case"buffer":if(sr)return Buffer.isBuffer(H)?H:qa(H);case"array":return typeof H=="string"?Ts(H):H}return H}var re;function R(F){try{var Y=F.InflateRaw,H=new Y;if(H._processChunk(new Uint8Array([3,0]),H._finishFlushFlag),H.bytesRead)re=F;else throw new Error("zlib does not expose bytesRead")}catch(G){console.error("cannot use native zlib: "+(G.message||G))}}function K(F,Y){if(!re)return xr(F,Y);var H=re.InflateRaw,G=new H,J=G._processChunk(F.slice(F.l),G._finishFlushFlag);return F.l+=G.bytesRead,J}function Q(F){return re?re.deflateRawSync(F):Ae(F)}var ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ce=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function De(F){var Y=(F<<1|F<<11)&139536|(F<<5|F<<15)&558144;return(Y>>16|Y>>8|Y)&255}for(var Se=typeof Uint8Array<"u",ue=Se?new Uint8Array(256):[],nt=0;nt<256;++nt)ue[nt]=De(nt);function ht(F,Y){var H=ue[F&255];return Y<=8?H>>>8-Y:(H=H<<8|ue[F>>8&255],Y<=16?H>>>16-Y:(H=H<<8|ue[F>>16&255],H>>>24-Y))}function yt(F,Y){var H=Y&7,G=Y>>>3;return(F[G]|(H<=6?0:F[G+1]<<8))>>>H&3}function wt(F,Y){var H=Y&7,G=Y>>>3;return(F[G]|(H<=5?0:F[G+1]<<8))>>>H&7}function pr(F,Y){var H=Y&7,G=Y>>>3;return(F[G]|(H<=4?0:F[G+1]<<8))>>>H&15}function Nt(F,Y){var H=Y&7,G=Y>>>3;return(F[G]|(H<=3?0:F[G+1]<<8))>>>H&31}function Ge(F,Y){var H=Y&7,G=Y>>>3;return(F[G]|(H<=1?0:F[G+1]<<8))>>>H&127}function Xt(F,Y,H){var G=Y&7,J=Y>>>3,Z=(1<<H)-1,ce=F[J]>>>G;return H<8-G||(ce|=F[J+1]<<8-G,H<16-G)||(ce|=F[J+2]<<16-G,H<24-G)||(ce|=F[J+3]<<24-G),ce&Z}function Ct(F,Y,H){var G=Y&7,J=Y>>>3;return G<=5?F[J]|=(H&7)<<G:(F[J]|=H<<G&255,F[J+1]=(H&7)>>8-G),Y+3}function er(F,Y,H){var G=Y&7,J=Y>>>3;return H=(H&1)<<G,F[J]|=H,Y+1}function le(F,Y,H){var G=Y&7,J=Y>>>3;return H<<=G,F[J]|=H&255,H>>>=8,F[J+1]=H,Y+8}function et(F,Y,H){var G=Y&7,J=Y>>>3;return H<<=G,F[J]|=H&255,H>>>=8,F[J+1]=H&255,F[J+2]=H>>>8,Y+16}function Xe(F,Y){var H=F.length,G=2*H>Y?2*H:Y+5,J=0;if(H>=Y)return F;if(sr){var Z=sT(G);if(F.copy)F.copy(Z);else for(;J<F.length;++J)Z[J]=F[J];return Z}else if(Se){var ce=new Uint8Array(G);if(ce.set)ce.set(F);else for(;J<H;++J)ce[J]=F[J];return ce}return F.length=G,F}function lt(F){for(var Y=new Array(F),H=0;H<F;++H)Y[H]=0;return Y}function mt(F,Y,H){var G=1,J=0,Z=0,ce=0,be=0,fe=F.length,pe=Se?new Uint16Array(32):lt(32);for(Z=0;Z<32;++Z)pe[Z]=0;for(Z=fe;Z<H;++Z)F[Z]=0;fe=F.length;var xe=Se?new Uint16Array(fe):lt(fe);for(Z=0;Z<fe;++Z)pe[J=F[Z]]++,G<J&&(G=J),xe[Z]=0;for(pe[0]=0,Z=1;Z<=G;++Z)pe[Z+16]=be=be+pe[Z-1]<<1;for(Z=0;Z<fe;++Z)be=F[Z],be!=0&&(xe[Z]=pe[be+16]++);var Me=0;for(Z=0;Z<fe;++Z)if(Me=F[Z],Me!=0)for(be=ht(xe[Z],G)>>G-Me,ce=(1<<G+4-Me)-1;ce>=0;--ce)Y[be|ce<<Me]=Me&15|Z<<4;return G}var ct=Se?new Uint16Array(512):lt(512),Te=Se?new Uint16Array(32):lt(32);if(!Se){for(var Ie=0;Ie<512;++Ie)ct[Ie]=0;for(Ie=0;Ie<32;++Ie)Te[Ie]=0}(function(){for(var F=[],Y=0;Y<32;Y++)F.push(5);mt(F,Te,32);var H=[];for(Y=0;Y<=143;Y++)H.push(8);for(;Y<=255;Y++)H.push(9);for(;Y<=279;Y++)H.push(7);for(;Y<=287;Y++)H.push(8);mt(H,ct,288)})();var ut=(function(){for(var Y=Se?new Uint8Array(32768):[],H=0,G=0;H<Ce.length-1;++H)for(;G<Ce[H+1];++G)Y[G]=H;for(;G<32768;++G)Y[G]=29;var J=Se?new Uint8Array(259):[];for(H=0,G=0;H<se.length-1;++H)for(;G<se[H+1];++G)J[G]=H;function Z(be,fe){for(var pe=0;pe<be.length;){var xe=Math.min(65535,be.length-pe),Me=pe+xe==be.length;for(fe.write_shift(1,+Me),fe.write_shift(2,xe),fe.write_shift(2,~xe&65535);xe-- >0;)fe[fe.l++]=be[pe++]}return fe.l}function ce(be,fe){for(var pe=0,xe=0,Me=Se?new Uint16Array(32768):[];xe<be.length;){var Ye=Math.min(65535,be.length-xe);if(Ye<10){for(pe=Ct(fe,pe,+(xe+Ye==be.length)),pe&7&&(pe+=8-(pe&7)),fe.l=pe/8|0,fe.write_shift(2,Ye),fe.write_shift(2,~Ye&65535);Ye-- >0;)fe[fe.l++]=be[xe++];pe=fe.l*8;continue}pe=Ct(fe,pe,+(xe+Ye==be.length)+2);for(var tt=0;Ye-- >0;){var We=be[xe];tt=(tt<<5^We)&32767;var Ve=-1,At=0;if((Ve=Me[tt])&&(Ve|=xe&-32768,Ve>xe&&(Ve-=32768),Ve<xe))for(;be[Ve+At]==be[xe+At]&&At<250;)++At;if(At>2){We=J[At],We<=22?pe=le(fe,pe,ue[We+1]>>1)-1:(le(fe,pe,3),pe+=5,le(fe,pe,ue[We-23]>>5),pe+=3);var tr=We<8?0:We-4>>2;tr>0&&(et(fe,pe,At-se[We]),pe+=tr),We=Y[xe-Ve],pe=le(fe,pe,ue[We]>>3),pe-=3;var Yt=We<4?0:We-2>>1;Yt>0&&(et(fe,pe,xe-Ve-Ce[We]),pe+=Yt);for(var lr=0;lr<At;++lr)Me[tt]=xe&32767,tt=(tt<<5^be[xe])&32767,++xe;Ye-=At-1}else We<=143?We=We+48:pe=er(fe,pe,1),pe=le(fe,pe,ue[We]),Me[tt]=xe&32767,++xe}pe=le(fe,pe,0)-1}return fe.l=(pe+7)/8|0,fe.l}return function(fe,pe){return fe.length<8?Z(fe,pe):ce(fe,pe)}})();function Ae(F){var Y=ke(50+Math.floor(F.length*1.1)),H=ut(F,Y);return Y.slice(0,H)}var ze=Se?new Uint16Array(32768):lt(32768),gt=Se?new Uint16Array(32768):lt(32768),St=Se?new Uint16Array(128):lt(128),Mt=1,vt=1;function Vr(F,Y){var H=Nt(F,Y)+257;Y+=5;var G=Nt(F,Y)+1;Y+=5;var J=pr(F,Y)+4;Y+=4;for(var Z=0,ce=Se?new Uint8Array(19):lt(19),be=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],fe=1,pe=Se?new Uint8Array(8):lt(8),xe=Se?new Uint8Array(8):lt(8),Me=ce.length,Ye=0;Ye<J;++Ye)ce[ee[Ye]]=Z=wt(F,Y),fe<Z&&(fe=Z),pe[Z]++,Y+=3;var tt=0;for(pe[0]=0,Ye=1;Ye<=fe;++Ye)xe[Ye]=tt=tt+pe[Ye-1]<<1;for(Ye=0;Ye<Me;++Ye)(tt=ce[Ye])!=0&&(be[Ye]=xe[tt]++);var We=0;for(Ye=0;Ye<Me;++Ye)if(We=ce[Ye],We!=0){tt=ue[be[Ye]]>>8-We;for(var Ve=(1<<7-We)-1;Ve>=0;--Ve)St[tt|Ve<<We]=We&7|Ye<<3}var At=[];for(fe=1;At.length<H+G;)switch(tt=St[Ge(F,Y)],Y+=tt&7,tt>>>=3){case 16:for(Z=3+yt(F,Y),Y+=2,tt=At[At.length-1];Z-- >0;)At.push(tt);break;case 17:for(Z=3+wt(F,Y),Y+=3;Z-- >0;)At.push(0);break;case 18:for(Z=11+Ge(F,Y),Y+=7;Z-- >0;)At.push(0);break;default:At.push(tt),fe<tt&&(fe=tt);break}var tr=At.slice(0,H),Yt=At.slice(H);for(Ye=H;Ye<286;++Ye)tr[Ye]=0;for(Ye=G;Ye<30;++Ye)Yt[Ye]=0;return Mt=mt(tr,ze,286),vt=mt(Yt,gt,30),Y}function ar(F,Y){if(F[0]==3&&!(F[1]&3))return[$l(Y),2];for(var H=0,G=0,J=sT(Y||1<<18),Z=0,ce=J.length>>>0,be=0,fe=0;(G&1)==0;){if(G=wt(F,H),H+=3,G>>>1)G>>1==1?(be=9,fe=5):(H=Vr(F,H),be=Mt,fe=vt);else{H&7&&(H+=8-(H&7));var pe=F[H>>>3]|F[(H>>>3)+1]<<8;if(H+=32,pe>0)for(!Y&&ce<Z+pe&&(J=Xe(J,Z+pe),ce=J.length);pe-- >0;)J[Z++]=F[H>>>3],H+=8;continue}for(;;){!Y&&ce<Z+32767&&(J=Xe(J,Z+32767),ce=J.length);var xe=Xt(F,H,be),Me=G>>>1==1?ct[xe]:ze[xe];if(H+=Me&15,Me>>>=4,(Me>>>8&255)===0)J[Z++]=Me;else{if(Me==256)break;Me-=257;var Ye=Me<8?0:Me-4>>2;Ye>5&&(Ye=0);var tt=Z+se[Me];Ye>0&&(tt+=Xt(F,H,Ye),H+=Ye),xe=Xt(F,H,fe),Me=G>>>1==1?Te[xe]:gt[xe],H+=Me&15,Me>>>=4;var We=Me<4?0:Me-2>>1,Ve=Ce[Me];for(We>0&&(Ve+=Xt(F,H,We),H+=We),!Y&&ce<tt&&(J=Xe(J,tt+100),ce=J.length);Z<tt;)J[Z]=J[Z-Ve],++Z}}}return Y?[J,H+7>>>3]:[J.slice(0,Z),H+7>>>3]}function xr(F,Y){var H=F.slice(F.l||0),G=ar(H,Y);return F.l+=G[1],G[0]}function Br(F,Y){if(F)typeof console<"u"&&console.error(Y);else throw new Error(Y)}function Rt(F,Y){var H=F;Di(H,0);var G=[],J=[],Z={FileIndex:G,FullPaths:J};A(Z,{root:Y.root});for(var ce=H.length-4;(H[ce]!=80||H[ce+1]!=75||H[ce+2]!=5||H[ce+3]!=6)&&ce>=0;)--ce;H.l=ce+4,H.l+=4;var be=H.read_shift(2);H.l+=6;var fe=H.read_shift(4);for(H.l=fe,ce=0;ce<be;++ce){H.l+=20;var pe=H.read_shift(4),xe=H.read_shift(4),Me=H.read_shift(2),Ye=H.read_shift(2),tt=H.read_shift(2);H.l+=8;var We=H.read_shift(4),Ve=u(H.slice(H.l+Me,H.l+Me+Ye));H.l+=Me+Ye+tt;var At=H.l;H.l=We+4,Wt(H,pe,xe,Z,Ve),H.l=At}return Z}function Wt(F,Y,H,G,J){F.l+=2;var Z=F.read_shift(2),ce=F.read_shift(2),be=l(F);if(Z&8257)throw new Error("Unsupported ZIP encryption");for(var fe=F.read_shift(4),pe=F.read_shift(4),xe=F.read_shift(4),Me=F.read_shift(2),Ye=F.read_shift(2),tt="",We=0;We<Me;++We)tt+=String.fromCharCode(F[F.l++]);if(Ye){var Ve=u(F.slice(F.l,F.l+Ye));(Ve[21589]||{}).mt&&(be=Ve[21589].mt),((J||{})[21589]||{}).mt&&(be=J[21589].mt)}F.l+=Ye;var At=F.slice(F.l,F.l+pe);switch(ce){case 8:At=K(F,xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ce)}var tr=!1;Z&8&&(fe=F.read_shift(4),fe==134695760&&(fe=F.read_shift(4),tr=!0),pe=F.read_shift(4),xe=F.read_shift(4)),pe!=Y&&Br(tr,"Bad compressed size: "+Y+" != "+pe),xe!=H&&Br(tr,"Bad uncompressed size: "+H+" != "+xe),it(G,tt,At,{unsafe:!0,mt:be})}function Ft(F,Y){var H=Y||{},G=[],J=[],Z=ke(1),ce=H.compression?8:0,be=0,fe=0,pe=0,xe=0,Me=0,Ye=F.FullPaths[0],tt=Ye,We=F.FileIndex[0],Ve=[],At=0;for(fe=1;fe<F.FullPaths.length;++fe)if(tt=F.FullPaths[fe].slice(Ye.length),We=F.FileIndex[fe],!(!We.size||!We.content||tt=="Sh33tJ5")){var tr=xe,Yt=ke(tt.length);for(pe=0;pe<tt.length;++pe)Yt.write_shift(1,tt.charCodeAt(pe)&127);Yt=Yt.slice(0,Yt.l),Ve[Me]=IH.buf(We.content,0);var lr=We.content;ce==8&&(lr=Q(lr)),Z=ke(30),Z.write_shift(4,67324752),Z.write_shift(2,20),Z.write_shift(2,be),Z.write_shift(2,ce),We.mt?s(Z,We.mt):Z.write_shift(4,0),Z.write_shift(-4,Ve[Me]),Z.write_shift(4,lr.length),Z.write_shift(4,We.content.length),Z.write_shift(2,Yt.length),Z.write_shift(2,0),xe+=Z.length,G.push(Z),xe+=Yt.length,G.push(Yt),xe+=lr.length,G.push(lr),Z=ke(46),Z.write_shift(4,33639248),Z.write_shift(2,0),Z.write_shift(2,20),Z.write_shift(2,be),Z.write_shift(2,ce),Z.write_shift(4,0),Z.write_shift(-4,Ve[Me]),Z.write_shift(4,lr.length),Z.write_shift(4,We.content.length),Z.write_shift(2,Yt.length),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(4,0),Z.write_shift(4,tr),At+=Z.l,J.push(Z),At+=Yt.length,J.push(Yt),++Me}return Z=ke(22),Z.write_shift(4,101010256),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,Me),Z.write_shift(2,Me),Z.write_shift(4,At),Z.write_shift(4,xe),Z.write_shift(2,0),Dn([Dn(G),Dn(J),Z])}var Pr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Kr(F,Y){if(F.ctype)return F.ctype;var H=F.name||"",G=H.match(/\.([^\.]+)$/);return G&&Pr[G[1]]||Y&&(G=(H=Y).match(/[\.\\]([^\.\\])+$/),G&&Pr[G[1]])?Pr[G[1]]:"application/octet-stream"}function li(F){for(var Y=m0(F),H=[],G=0;G<Y.length;G+=76)H.push(Y.slice(G,G+76));return H.join(`\r
`)+`\r
`}function En(F){var Y=F.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(pe){var xe=pe.charCodeAt(0).toString(16).toUpperCase();return"="+(xe.length==1?"0"+xe:xe)});Y=Y.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Y.charAt(0)==`
`&&(Y="=0D"+Y.slice(1)),Y=Y.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var H=[],G=Y.split(`\r
`),J=0;J<G.length;++J){var Z=G[J];if(Z.length==0){H.push("");continue}for(var ce=0;ce<Z.length;){var be=76,fe=Z.slice(ce,ce+be);fe.charAt(be-1)=="="?be--:fe.charAt(be-2)=="="?be-=2:fe.charAt(be-3)=="="&&(be-=3),fe=Z.slice(ce,ce+be),ce+=be,ce<Z.length&&(fe+="="),H.push(fe)}}return H.join(`\r
`)}function ki(F){for(var Y=[],H=0;H<F.length;++H){for(var G=F[H];H<=F.length&&G.charAt(G.length-1)=="=";)G=G.slice(0,G.length-1)+F[++H];Y.push(G)}for(var J=0;J<Y.length;++J)Y[J]=Y[J].replace(/[=][0-9A-Fa-f]{2}/g,function(Z){return String.fromCharCode(parseInt(Z.slice(1),16))});return Ts(Y.join(`\r
`))}function Jn(F,Y,H){for(var G="",J="",Z="",ce,be=0;be<10;++be){var fe=Y[be];if(!fe||fe.match(/^\s*$/))break;var pe=fe.match(/^(.*?):\s*([^\s].*)$/);if(pe)switch(pe[1].toLowerCase()){case"content-location":G=pe[2].trim();break;case"content-type":Z=pe[2].trim();break;case"content-transfer-encoding":J=pe[2].trim();break}}switch(++be,J.toLowerCase()){case"base64":ce=Ts(Ua(Y.slice(be).join("")));break;case"quoted-printable":ce=ki(Y.slice(be));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+J)}var xe=it(F,G.slice(H.length),ce,{unsafe:!0});Z&&(xe.ctype=Z)}function _e(F,Y){if(ie(F.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var H=Y&&Y.root||"",G=(sr&&Buffer.isBuffer(F)?F.toString("binary"):ie(F)).split(`\r
`),J=0,Z="";for(J=0;J<G.length;++J)if(Z=G[J],!!/^Content-Location:/i.test(Z)&&(Z=Z.slice(Z.indexOf("file")),H||(H=Z.slice(0,Z.lastIndexOf("/")+1)),Z.slice(0,H.length)!=H))for(;H.length>0&&(H=H.slice(0,H.length-1),H=H.slice(0,H.lastIndexOf("/")+1),Z.slice(0,H.length)!=H););var ce=(G[1]||"").match(/boundary="(.*?)"/);if(!ce)throw new Error("MAD cannot find boundary");var be="--"+(ce[1]||""),fe=[],pe=[],xe={FileIndex:fe,FullPaths:pe};A(xe);var Me,Ye=0;for(J=0;J<G.length;++J){var tt=G[J];tt!==be&&tt!==be+"--"||(Ye++&&Jn(xe,G.slice(Me,J),H),Me=J)}return xe}function Ne(F,Y){var H=Y||{},G=H.boundary||"SheetJS";G="------="+G;for(var J=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+G.slice(2)+'"',"","",""],Z=F.FullPaths[0],ce=Z,be=F.FileIndex[0],fe=1;fe<F.FullPaths.length;++fe)if(ce=F.FullPaths[fe].slice(Z.length),be=F.FileIndex[fe],!(!be.size||!be.content||ce=="Sh33tJ5")){ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(At){return"_x"+At.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(At){return"_u"+At.charCodeAt(0).toString(16)+"_"});for(var pe=be.content,xe=sr&&Buffer.isBuffer(pe)?pe.toString("binary"):ie(pe),Me=0,Ye=Math.min(1024,xe.length),tt=0,We=0;We<=Ye;++We)(tt=xe.charCodeAt(We))>=32&&tt<128&&++Me;var Ve=Me>=Ye*4/5;J.push(G),J.push("Content-Location: "+(H.root||"file:///C:/SheetJS/")+ce),J.push("Content-Transfer-Encoding: "+(Ve?"quoted-printable":"base64")),J.push("Content-Type: "+Kr(be,ce)),J.push(""),J.push(Ve?En(xe):li(xe))}return J.push(G+`--\r
`),J.join(`\r
`)}function xt(F){var Y={};return A(Y,F),Y}function it(F,Y,H,G){var J=G&&G.unsafe;J||A(F);var Z=!J&&mr.find(F,Y);if(!Z){var ce=F.FullPaths[0];Y.slice(0,ce.length)==ce?ce=Y:(ce.slice(-1)!="/"&&(ce+="/"),ce=(ce+Y).replace("//","/")),Z={name:i(Y),type:2},F.FileIndex.push(Z),F.FullPaths.push(ce),J||mr.utils.cfb_gc(F)}return Z.content=H,Z.size=H?H.length:0,G&&(G.CLSID&&(Z.clsid=G.CLSID),G.mt&&(Z.mt=G.mt),G.ct&&(Z.ct=G.ct)),Z}function Ut(F,Y){A(F);var H=mr.find(F,Y);if(H){for(var G=0;G<F.FileIndex.length;++G)if(F.FileIndex[G]==H)return F.FileIndex.splice(G,1),F.FullPaths.splice(G,1),!0}return!1}function yr(F,Y,H){A(F);var G=mr.find(F,Y);if(G){for(var J=0;J<F.FileIndex.length;++J)if(F.FileIndex[J]==G)return F.FileIndex[J].name=i(H),F.FullPaths[J]=H,!0}return!1}function Xr(F){C(F,!0)}return e.find=D,e.read=U,e.parse=p,e.write=me,e.writeFile=ve,e.utils={cfb_new:xt,cfb_add:it,cfb_del:Ut,cfb_mov:yr,cfb_gc:Xr,ReadShift:zd,CheckField:OA,prep_blob:Di,bconcat:Dn,use_zlib:R,_deflateRaw:Ae,_inflateRaw:xr,consts:Fe},e})();function jH(t){return typeof t=="string"?Im(t):Array.isArray(t)?nH(t):t}function W0(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Im(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?x0(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([jH(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=t,l.href=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(t);return u.open("w"),u.encoding="binary",Array.isArray(e)&&(e=H0(e)),u.write(e),u.close(),e}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+t)}function $n(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function fT(t,e){for(var r=[],n=$n(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function a2(t){for(var e=[],r=$n(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function Rm(t){for(var e=[],r=$n(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function PH(t){for(var e=[],r=$n(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var Fp=new Date(1899,11,30,0,0,0);function Ei(t,e){var r=t.getTime(),n=Fp.getTime()+(t.getTimezoneOffset()-Fp.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var yA=new Date,RH=Fp.getTime()+(yA.getTimezoneOffset()-Fp.getTimezoneOffset())*6e4,pT=yA.getTimezoneOffset();function vA(t){var e=new Date;return e.setTime(t*24*60*60*1e3+RH),e.getTimezoneOffset()!==pT&&e.setTime(e.getTime()+(e.getTimezoneOffset()-pT)*6e4),e}var mT=new Date("2017-02-19T19:06:09.000Z"),bA=isNaN(mT.getFullYear())?new Date("2/19/17"):mT,DH=bA.getFullYear()==2017;function oi(t,e){var r=new Date(t);if(DH)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(bA.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Dm(t,e){if(sr&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function Ti(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Ti(t[r]));return e}function Hr(t,e){for(var r="";r.length<e;)r+=t;return r}function Ra(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var OH=["january","february","march","april","may","june","july","august","september","october","november","december"];function g0(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var l=t.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&OH.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function $t(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return sr?n=qa(r):n=iH(r),mr.utils.cfb_add(t,e,n)}mr.utils.cfb_add(t,e,r)}else t.file(e,r)}function o2(){return mr.utils.cfb_new()}var ln=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,FH={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},l2=a2(FH),c2=/[&<>'"]/g,LH=/[\u0000-\u0008\u000b-\u001f]/g;function hr(t){var e=t+"";return e.replace(c2,function(r){return l2[r]}).replace(LH,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function gT(t){return hr(t).replace(/ /g,"_x0020_")}var wA=/[\u0000-\u001f]/g;function MH(t){var e=t+"";return e.replace(c2,function(r){return l2[r]}).replace(/\n/g,"<br/>").replace(wA,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function $H(t){var e=t+"";return e.replace(c2,function(r){return l2[r]}).replace(wA,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function VH(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function BH(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Gx(t){for(var e="",r=0,n=0,i=0,s=0,l=0,u=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=i&63,e+=String.fromCharCode(l);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}l=t.charCodeAt(r++),u=((n&7)<<18|(i&63)<<12|(s&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(u>>>10&1023)),e+=String.fromCharCode(56320+(u&1023))}return e}function xT(t){var e=$l(2*t.length),r,n,i=1,s=0,l=0,u;for(n=0;n<t.length;n+=i)i=1,(u=t.charCodeAt(n))<128?r=u:u<224?(r=(u&31)*64+(t.charCodeAt(n+1)&63),i=2):u<240?(r=(u&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(u&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(e[s++]=l&255,e[s++]=l>>>8,l=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function yT(t){return qa(t,"binary").toString("utf8")}var _f="foo bar baz",Ud=sr&&(yT(_f)==Gx(_f)&&yT||xT(_f)==Gx(_f)&&xT)||Gx,x0=sr?function(t){return qa(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},UH=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}})(),_A=/(^\s|\s$|\n)/;function On(t,e){return"<"+t+(e.match(_A)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function y0(t){return $n(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Qe(t,e,r){return"<"+t+(r!=null?y0(r):"")+(e!=null?(e.match(_A)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Jy(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function zH(t,e){switch(typeof t){case"string":var r=Qe("vt:lpwstr",hr(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Qe((t|0)==t?"vt:i4":"vt:r8",hr(String(t)));case"boolean":return Qe("vt:bool",t?"true":"false")}if(t instanceof Date)return Qe("vt:filetime",Jy(t));throw new Error("Unable to serialize "+t)}var bn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Du=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Oi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function HH(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function WH(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,l=n?-e:e;isFinite(l)?l==0?i=s=0:(i=Math.floor(Math.log(l)/Math.LN2),s=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var u=0;u<=5;++u,s/=256)t[r+u]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var vT=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},bT=sr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:qa(e)})):vT(t)}:vT,wT=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(Ad(t,i)));return n.join("").replace(Bd,"")},u2=sr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Bd,""):wT(t,e,r)}:wT,_T=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},EA=sr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):_T(t,e,r)}:_T,ET=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Hc(t,i)));return n.join("")},q0=sr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):ET(e,r,n)}:ET,TA=function(t,e){var r=Fi(t,e);return r>0?q0(t,e+4,e+4+r-1):""},kA=TA,NA=function(t,e){var r=Fi(t,e);return r>0?q0(t,e+4,e+4+r-1):""},SA=NA,AA=function(t,e){var r=2*Fi(t,e);return r>0?q0(t,e+4,e+4+r-1):""},CA=AA,IA=function(e,r){var n=Fi(e,r);return n>0?u2(e,r+4,r+4+n):""},jA=IA,PA=function(t,e){var r=Fi(t,e);return r>0?q0(t,e+4,e+4+r):""},RA=PA,DA=function(t,e){return HH(t,e)},Lp=DA,d2=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};sr&&(kA=function(e,r){if(!Buffer.isBuffer(e))return TA(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},SA=function(e,r){if(!Buffer.isBuffer(e))return NA(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},CA=function(e,r){if(!Buffer.isBuffer(e))return AA(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},jA=function(e,r){if(!Buffer.isBuffer(e))return IA(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},RA=function(e,r){if(!Buffer.isBuffer(e))return PA(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},Lp=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):DA(e,r)},d2=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Hc=function(t,e){return t[e]},Ad=function(t,e){return t[e+1]*256+t[e]},qH=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Fi=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},bl=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},GH=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function zd(t,e){var r="",n,i,s=[],l,u,d,h;switch(e){case"dbcs":if(h=this.l,sr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)r+=String.fromCharCode(Ad(this,h)),h+=2;t*=2;break;case"utf8":r=q0(this,this.l,this.l+t);break;case"utf16le":t*=2,r=u2(this,this.l,this.l+t);break;case"wstr":return zd.call(this,t,"dbcs");case"lpstr-ansi":r=kA(this,this.l),t=4+Fi(this,this.l);break;case"lpstr-cp":r=SA(this,this.l),t=4+Fi(this,this.l);break;case"lpwstr":r=CA(this,this.l),t=4+2*Fi(this,this.l);break;case"lpp4":t=4+Fi(this,this.l),r=jA(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Fi(this,this.l),r=RA(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(l=Hc(this,this.l+t++))!==0;)s.push(vf(l));r=s.join("");break;case"_wstr":for(t=0,r="";(l=Ad(this,this.l+t))!==0;)s.push(vf(l)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",h=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return l=Hc(this,h),this.l=h+1,u=zd.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(vf(Ad(this,h))),h+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",h=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return l=Hc(this,h),this.l=h+1,u=zd.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push(vf(Hc(this,h))),h+=1}r=s.join("");break;default:switch(t){case 1:return n=Hc(this,this.l),this.l++,n;case 2:return n=(e==="i"?qH:Ad)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?bl:GH)(this,this.l),this.l+=4,n):(i=Fi(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=Lp(this,this.l):i=Lp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=EA(this,this.l,t);break}}return this.l+=t,r}var KH=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},XH=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},YH=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function QH(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)YH(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var l=e.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,KH(this,e,this.l);break;case 8:if(n=8,r==="f"){WH(this,e,this.l);break}case 16:break;case-4:n=4,XH(this,e,this.l);break}return this.l+=n,this}function OA(t,e){var r=EA(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Di(t,e){t.l=e,t.read_shift=zd,t.chk=OA,t.write_shift=QH}function la(t,e){t.l+=e}function ke(t){var e=$l(t);return Di(e,0),e}function _i(){var t=[],e=sr?256:2048,r=function(h){var p=ke(h);return Di(p,0),p},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(h){return n&&h<n.length-n.l?n:(i(),n=r(Math.max(h+1,e)))},l=function(){return i(),Dn(t)},u=function(h){i(),n=h,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:u,end:l,_bufs:t}}function Oe(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=HY[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var l=t.next(s);i<=127?l.write_shift(1,i):(l.write_shift(1,(i&127)+128),l.write_shift(1,i>>7));for(var u=0;u!=4;++u)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&d2(r)&&t.push(r)}}function Hd(t,e,r){var n=Ti(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function TT(t,e,r){var n=Ti(t);return n.s=Hd(n.s,e.s,r),n.e=Hd(n.e,e.s,r),n}function Wd(t,e){if(t.cRel&&t.c<0)for(t=Ti(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Ti(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=fr(t);return!t.cRel&&t.cRel!=null&&(r=eW(r)),!t.rRel&&t.rRel!=null&&(r=JH(r)),r}function Kx(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Xn(t.s.c)+":"+(t.e.cRel?"":"$")+Xn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Ln(t.s.r)+":"+(t.e.rRel?"":"$")+Ln(t.e.r):Wd(t.s,e.biff)+":"+Wd(t.e,e.biff)}function h2(t){return parseInt(ZH(t),10)-1}function Ln(t){return""+(t+1)}function JH(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ZH(t){return t.replace(/\$(\d+)$/,"$1")}function f2(t){for(var e=tW(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Xn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function eW(t){return t.replace(/^([A-Z])/,"$$$1")}function tW(t){return t.replace(/^\$([A-Z])/,"$1")}function rW(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function wn(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function fr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Hi(t){var e=t.indexOf(":");return e==-1?{s:wn(t),e:wn(t)}:{s:wn(t.slice(0,e)),e:wn(t.slice(e+1))}}function on(t,e){return typeof e>"u"||typeof e=="number"?on(t.s,t.e):(typeof t!="string"&&(t=fr(t)),typeof e!="string"&&(e=fr(e)),t==e?t:t+":"+e)}function Ar(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function kT(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=zo(t.z,r?Ei(e):e)}catch{}try{return t.w=zo((t.XF||{}).numFmtId||(r?14:0),r?Ei(e):e)}catch{return""+e}}function za(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?G0[t.v]||t.v:e==null?kT(t,t.v):kT(t,e))}function Zl(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function FA(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),l=0,u=0;if(s&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var d=typeof n.origin=="string"?wn(n.origin):n.origin;l=d.r,u=d.c}s["!ref"]||(s["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var p=Ar(s["!ref"]);h.s.c=p.s.c,h.s.r=p.s.r,h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),l==-1&&(h.e.r=l=p.e.r+1)}for(var g=0;g!=e.length;++g)if(e[g]){if(!Array.isArray(e[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[g].length;++y)if(!(typeof e[g][y]>"u")){var v={v:e[g][y]},k=l+g,w=u+y;if(h.s.r>k&&(h.s.r=k),h.s.c>w&&(h.s.c=w),h.e.r<k&&(h.e.r=k),h.e.c<w&&(h.e.c=w),e[g][y]&&typeof e[g][y]=="object"&&!Array.isArray(e[g][y])&&!(e[g][y]instanceof Date))v=e[g][y];else if(Array.isArray(v.v)&&(v.f=e[g][y][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(n.nullError)v.t="e",v.v=0;else if(n.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=n.dateNF||Gr[14],n.cellDates?(v.t="d",v.w=zo(v.z,Ei(v.v))):(v.t="n",v.v=Ei(v.v),v.w=zo(v.z,v.v))):v.t="s";if(i)s[k]||(s[k]=[]),s[k][w]&&s[k][w].z&&(v.z=s[k][w].z),s[k][w]=v;else{var E=fr({c:w,r:k});s[E]&&s[E].z&&(v.z=s[E].z),s[E]=v}}}return h.s.c<1e7&&(s["!ref"]=on(h)),s}function Ou(t,e){return FA(null,t,e)}function nW(t){return t.read_shift(4,"i")}function Cs(t,e){return e||(e=ke(4)),e.write_shift(4,t),e}function Yn(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function _n(t,e){var r=!1;return e==null&&(r=!0,e=ke(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function iW(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function sW(t,e){return e||(e=ke(4)),e.write_shift(2,0),e.write_shift(2,0),e}function p2(t,e){var r=t.l,n=t.read_shift(1),i=Yn(t),s=[],l={t:i,h:i};if((n&1)!==0){for(var u=t.read_shift(4),d=0;d!=u;++d)s.push(iW(t));l.r=s}else l.r=[{ich:0,ifnt:0}];return t.l=r+e,l}function aW(t,e){var r=!1;return e==null&&(r=!0,e=ke(15+4*t.t.length)),e.write_shift(1,0),_n(t.t,e),r?e.slice(0,e.l):e}var oW=p2;function lW(t,e){var r=!1;return e==null&&(r=!0,e=ke(23+4*t.t.length)),e.write_shift(1,1),_n(t.t,e),e.write_shift(4,1),sW({},e),r?e.slice(0,e.l):e}function ls(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function ec(t,e){return e==null&&(e=ke(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function tc(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function rc(t,e){return e==null&&(e=ke(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var cW=Yn,LA=_n;function m2(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Mp(t,e){var r=!1;return e==null&&(r=!0,e=ke(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var uW=Yn,Zy=m2,g2=Mp;function MA(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?Lp([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):bl(e,0)>>2;return r?i/100:i}function $A(t,e){e==null&&(e=ke(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function VA(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function dW(t,e){return e||(e=ke(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var nc=VA,Fu=dW;function Lu(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Vl(t,e){return(e||ke(8)).write_shift(8,t,"f")}function hW(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),l=t.read_shift(1),u=t.read_shift(1),d=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var h=wW[i];h&&(e.rgb=FT(h));break;case 2:e.rgb=FT([l,u,d]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function $p(t,e){if(e||(e=ke(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function fW(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function pW(t,e){e||(e=ke(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var BA=2,Ri=3,Ef=11,Vp=19,Tf=64,mW=65,gW=71,xW=4108,yW=4126,In=80,NT={1:{n:"CodePage",t:BA},2:{n:"Category",t:In},3:{n:"PresentationFormat",t:In},4:{n:"ByteCount",t:Ri},5:{n:"LineCount",t:Ri},6:{n:"ParagraphCount",t:Ri},7:{n:"SlideCount",t:Ri},8:{n:"NoteCount",t:Ri},9:{n:"HiddenCount",t:Ri},10:{n:"MultimediaClipCount",t:Ri},11:{n:"ScaleCrop",t:Ef},12:{n:"HeadingPairs",t:xW},13:{n:"TitlesOfParts",t:yW},14:{n:"Manager",t:In},15:{n:"Company",t:In},16:{n:"LinksUpToDate",t:Ef},17:{n:"CharacterCount",t:Ri},19:{n:"SharedDoc",t:Ef},22:{n:"HyperlinksChanged",t:Ef},23:{n:"AppVersion",t:Ri,p:"version"},24:{n:"DigSig",t:mW},26:{n:"ContentType",t:In},27:{n:"ContentStatus",t:In},28:{n:"Language",t:In},29:{n:"Version",t:In},255:{},2147483648:{n:"Locale",t:Vp},2147483651:{n:"Behavior",t:Vp},1919054434:{}},ST={1:{n:"CodePage",t:BA},2:{n:"Title",t:In},3:{n:"Subject",t:In},4:{n:"Author",t:In},5:{n:"Keywords",t:In},6:{n:"Comments",t:In},7:{n:"Template",t:In},8:{n:"LastAuthor",t:In},9:{n:"RevNumber",t:In},10:{n:"EditTime",t:Tf},11:{n:"LastPrinted",t:Tf},12:{n:"CreatedDate",t:Tf},13:{n:"ModifiedDate",t:Tf},14:{n:"PageCount",t:Ri},15:{n:"WordCount",t:Ri},16:{n:"CharCount",t:Ri},17:{n:"Thumbnail",t:gW},18:{n:"Application",t:In},19:{n:"DocSecurity",t:Ri},255:{},2147483648:{n:"Locale",t:Vp},2147483651:{n:"Behavior",t:Vp},1919054434:{}};function vW(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var bW=vW([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),wW=Ti(bW),G0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},_W={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},kf={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function UA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function zA(t,e){var r=PH(_W),n=[],i;n[n.length]=ln,n[n.length]=Qe("Types",null,{xmlns:bn.CT,"xmlns:xsd":bn.xsd,"xmlns:xsi":bn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return Qe("Default",null,{Extension:d[0],ContentType:d[1]})}));var s=function(d){t[d]&&t[d].length>0&&(i=t[d][0],n[n.length]=Qe("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:kf[d][e.bookType]||kf[d].xlsx}))},l=function(d){(t[d]||[]).forEach(function(h){n[n.length]=Qe("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:kf[d][e.bookType]||kf[d].xlsx})})},u=function(d){(t[d]||[]).forEach(function(h){n[n.length]=Qe("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:r[d][0]})})};return s("workbooks"),l("sheets"),l("charts"),u("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),l("metadata"),u("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var ir={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function HA(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function iu(t){var e=[ln,Qe("Relationships",null,{xmlns:bn.RELS})];return $n(t["!id"]).forEach(function(r){e[e.length]=Qe("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function dr(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[ir.HLINK,ir.XPATH,ir.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function EW(t){var e=[ln];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function AT(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function TW(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function kW(t){var e=[ln];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(AT(t[r][0],t[r][1])),e.push(TW("",t[r][0]));return e.push(AT("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function WA(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+jp.version+"</meta:generator></office:meta></office:document-meta>"}var Sl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Xx(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=hr(e),n[n.length]=r?Qe(t,e,r):On(t,e))}function qA(t,e){var r=e||{},n=[ln,Qe("cp:coreProperties",null,{"xmlns:cp":bn.CORE_PROPS,"xmlns:dc":bn.dc,"xmlns:dcterms":bn.dcterms,"xmlns:dcmitype":bn.dcmitype,"xmlns:xsi":bn.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&Xx("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Jy(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&Xx("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Jy(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=Sl.length;++s){var l=Sl[s],u=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:t?t[l[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&Xx(l[0],u,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var su=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],GA=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function KA(t){var e=[],r=Qe;return t||(t={}),t.Application="SheetJS",e[e.length]=ln,e[e.length]=Qe("Properties",null,{xmlns:bn.EXT_PROPS,"xmlns:vt":bn.vt}),su.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=hr(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+hr(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function XA(t){var e=[ln,Qe("Properties",null,{xmlns:bn.CUST_PROPS,"xmlns:vt":bn.vt})];if(!t)return e.join("");var r=1;return $n(t).forEach(function(i){++r,e[e.length]=Qe("property",zH(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:hr(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var CT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function NW(t,e){var r=[];return $n(CT).map(function(n){for(var i=0;i<Sl.length;++i)if(Sl[i][1]==n)return Sl[i];for(i=0;i<su.length;++i)if(su[i][1]==n)return su[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(On(CT[n[1]]||n[1],i))}}),Qe("DocumentProperties",r.join(""),{xmlns:Oi.o})}function SW(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&$n(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var l=0;l<Sl.length;++l)if(s==Sl[l][1])return;for(l=0;l<su.length;++l)if(s==su[l][1])return;for(l=0;l<r.length;++l)if(s==r[l])return;var u=t[s],d="string";typeof u=="number"?(d="float",u=String(u)):u===!0||u===!1?(d="boolean",u=u?"1":"0"):u=String(u),i.push(Qe(gT(s),u,{"dt:dt":d}))}}),e&&$n(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var l=e[s],u="string";typeof l=="number"?(u="float",l=String(l)):l===!0||l===!1?(u="boolean",l=l?"1":"0"):l instanceof Date?(u="dateTime.tz",l=l.toISOString()):l=String(l),i.push(Qe(gT(s),l,{"dt:dt":u}))}}),"<"+n+' xmlns="'+Oi.o+'">'+i.join("")+"</"+n+">"}function AW(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var l=ke(8);return l.write_shift(4,n),l.write_shift(4,i),l}function IT(t,e){var r=ke(4),n=ke(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=ke(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=AW(e);break;case 31:case 80:for(n=ke(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Dn([r,n])}var YA=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function CW(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function jT(t,e,r){var n=ke(8),i=[],s=[],l=8,u=0,d=ke(8),h=ke(8);if(d.write_shift(4,2),d.write_shift(4,1200),h.write_shift(4,1),s.push(d),i.push(h),l+=8+d.length,!e){h=ke(8),h.write_shift(4,0),i.unshift(h);var p=[ke(4)];for(p[0].write_shift(4,t.length),u=0;u<t.length;++u){var g=t[u][0];for(d=ke(8+2*(g.length+1)+(g.length%2?0:2)),d.write_shift(4,u+2),d.write_shift(4,g.length+1),d.write_shift(0,g,"dbcs");d.l!=d.length;)d.write_shift(1,0);p.push(d)}d=Dn(p),s.unshift(d),l+=8+d.length}for(u=0;u<t.length;++u)if(!(e&&!e[t[u][0]])&&!(YA.indexOf(t[u][0])>-1||GA.indexOf(t[u][0])>-1)&&t[u][1]!=null){var y=t[u][1],v=0;if(e){v=+e[t[u][0]];var k=r[v];if(k.p=="version"&&typeof y=="string"){var w=y.split(".");y=(+w[0]<<16)+(+w[1]||0)}d=IT(k.t,y)}else{var E=CW(y);E==-1&&(E=31,y=String(y)),d=IT(E,y)}s.push(d),h=ke(8),h.write_shift(4,e?v:2+u),i.push(h),l+=8+d.length}var O=8*(s.length+1);for(u=0;u<s.length;++u)i[u].write_shift(4,O),O+=s[u].length;return n.write_shift(4,l),n.write_shift(4,s.length),Dn([n].concat(i).concat(s))}function PT(t,e,r,n,i,s){var l=ke(i?68:48),u=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,mr.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,i?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,i?68:48);var d=jT(t,r,n);if(u.push(d),i){var h=jT(i,null,null);l.write_shift(16,s,"hex"),l.write_shift(4,68+d.length),u.push(h)}return Dn(u)}function IW(t,e){e||(e=ke(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function jW(t,e){return t.read_shift(e)===1}function ni(t,e){return e||(e=ke(2)),e.write_shift(2,+!!t),e}function QA(t){return t.read_shift(2,"u")}function rs(t,e){return e||(e=ke(2)),e.write_shift(2,t),e}function JA(t,e,r){return r||(r=ke(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function ZA(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var l=n?t.read_shift(n,i):"";return l}function PW(t){var e=t.t||"",r=ke(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=ke(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return Dn(i)}function RW(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function DW(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):RW(t,n,r)}function OW(t,e,r){if(r.biff>5)return DW(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function e6(t,e,r){return r||(r=ke(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function RT(t,e){e||(e=ke(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function FW(t){var e=ke(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)e.write_shift(4,l[r]);if(s==28)n=n.slice(1),RT(n,e);else if(s&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)e.write_shift(1,parseInt(l[r],16));var u=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(u.length+1)),r=0;r<u.length;++r)e.write_shift(2,u.charCodeAt(r));e.write_shift(2,0),s&8&&RT(i>-1?n.slice(i+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)e.write_shift(1,parseInt(l[r],16));for(var d=0;n.slice(d*3,d*3+3)=="../"||n.slice(d*3,d*3+3)=="..\\";)++d;for(e.write_shift(2,d),e.write_shift(4,n.length-3*d+1),r=0;r<n.length-3*d;++r)e.write_shift(1,n.charCodeAt(r+3*d)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function Bl(t,e,r,n){return n||(n=ke(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function LW(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),l=t.read_shift(n,"i");return[i,s,l]}function MW(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function t6(t,e){return e||(e=ke(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function x2(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=ke(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function $W(t,e){var r=!e||e.biff==8,n=ke(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function VW(t,e){var r=!e||e.biff>=8?2:1,n=ke(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function BW(t,e){var r=ke(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=PW(t[i]);var s=Dn([r].concat(n));return s.parts=[r.length].concat(n.map(function(l){return l.length})),s}function UW(){var t=ke(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function zW(t){var e=ke(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function HW(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=ke(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function WW(t,e,r,n){var i=ke(10);return Bl(t,e,n,i),i.write_shift(4,r),i}function qW(t,e,r,n,i){var s=!i||i.biff==8,l=ke(8+ +s+(1+s)*r.length);return Bl(t,e,n,l),l.write_shift(2,r.length),s&&l.write_shift(1,1),l.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),l}function GW(t,e,r,n){var i=r&&r.biff==5;n||(n=ke(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function KW(t,e){var r=e.biff==8||!e.biff?4:2,n=ke(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function DT(t,e,r,n){var i=r&&r.biff==5;n||(n=ke(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function XW(t){var e=ke(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function YW(t,e,r,n,i,s){var l=ke(8);return Bl(t,e,n,l),JA(r,s,l),l}function QW(t,e,r,n){var i=ke(14);return Bl(t,e,n,i),Vl(r,i),i}function JW(t,e,r){if(r.biff<8)return ZW(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(LW(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function ZW(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=ZA(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function eq(t){var e=ke(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)t6(t[r],e);return e}function tq(t){var e=ke(24),r=wn(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return Dn([e,FW(t[1])])}function rq(t){var e=t[1].Tooltip,r=ke(10+2*(e.length+1));r.write_shift(2,2048);var n=wn(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function nq(t){return t||(t=ke(4)),t.write_shift(2,1),t.write_shift(2,1),t}function iq(t,e,r){if(!r.cellStyles)return la(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),l=t.read_shift(n),u=t.read_shift(n),d=t.read_shift(2);n==2&&(t.l+=2);var h={s:i,e:s,w:l,ixfe:u,flags:d};return(r.biff>=5||!r.biff)&&(h.level=d>>8&7),h}function sq(t,e){var r=ke(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function aq(t){for(var e=ke(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function oq(t,e,r){var n=ke(15);return X0(n,t,e),n.write_shift(8,r,"f"),n}function lq(t,e,r){var n=ke(9);return X0(n,t,e),n.write_shift(2,r),n}var cq=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=a2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(u,d){var h=[],p=$l(1);switch(d.type){case"base64":p=Ts(Ua(u));break;case"binary":p=Ts(u);break;case"buffer":case"array":p=u;break}Di(p,0);var g=p.read_shift(1),y=!!(g&136),v=!1,k=!1;switch(g){case 2:break;case 3:break;case 48:v=!0,y=!0;break;case 49:v=!0,y=!0;break;case 131:break;case 139:break;case 140:k=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var w=0,E=521;g==2&&(w=p.read_shift(2)),p.l+=3,g!=2&&(w=p.read_shift(4)),w>1048576&&(w=1e6),g!=2&&(E=p.read_shift(2));var O=p.read_shift(2),M=d.codepage||1252;g!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(M=t[p[p.l]]),p.l+=1,p.l+=2),k&&(p.l+=36);for(var V=[],j={},X=Math.min(p.length,g==2?521:E-10-(v?264:0)),U=k?32:11;p.l<X&&p[p.l]!=13;)switch(j={},j.name=Pp.utils.decode(M,p.slice(p.l,p.l+U)).replace(/[\u0000\r\n].*$/g,""),p.l+=U,j.type=String.fromCharCode(p.read_shift(1)),g!=2&&!k&&(j.offset=p.read_shift(4)),j.len=p.read_shift(1),g==2&&(j.offset=p.read_shift(2)),j.dec=p.read_shift(1),j.name.length&&V.push(j),g!=2&&(p.l+=k?13:14),j.type){case"B":(!v||j.len!=8)&&d.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(p[p.l]!==13&&(p.l=E-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=E;var A=0,S=0;for(h[0]=[],S=0;S!=V.length;++S)h[0][S]=V[S].name;for(;w-- >0;){if(p[p.l]===42){p.l+=O;continue}for(++p.l,h[++A]=[],S=0,S=0;S!=V.length;++S){var C=p.slice(p.l,p.l+V[S].len);p.l+=V[S].len,Di(C,0);var P=Pp.utils.decode(M,C);switch(V[S].type){case"C":P.trim().length&&(h[A][S]=P.replace(/\s+$/,""));break;case"D":P.length===8?h[A][S]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):h[A][S]=P;break;case"F":h[A][S]=parseFloat(P.trim());break;case"+":case"I":h[A][S]=k?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":h[A][S]=!0;break;case"N":case"F":h[A][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));h[A][S]="##MEMO##"+(k?parseInt(P.trim(),10):C.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(h[A][S]=+P||0);break;case"@":h[A][S]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":h[A][S]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":h[A][S]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[A][S]=-C.read_shift(-8,"f");break;case"B":if(v&&V[S].len==8){h[A][S]=C.read_shift(8,"f");break}case"G":case"P":C.l+=V[S].len;break;case"0":if(V[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+V[S].type)}}}if(g!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return d&&d.sheetRows&&(h=h.slice(0,d.sheetRows)),d.DBF=V,h}function n(u,d){var h=d||{};h.dateNF||(h.dateNF="yyyymmdd");var p=Ou(r(u,h),h);return p["!cols"]=h.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete h.DBF,p}function i(u,d){try{return Zl(n(u,d),d)}catch(h){if(d&&d.WTF)throw h}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function l(u,d){var h=d||{};if(+h.codepage>=0&&p0(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var p=_i(),g=Wp(u,{header:1,raw:!0,cellDates:!0}),y=g[0],v=g.slice(1),k=u["!cols"]||[],w=0,E=0,O=0,M=1;for(w=0;w<y.length;++w){if(((k[w]||{}).DBF||{}).name){y[w]=k[w].DBF.name,++O;continue}if(y[w]!=null){if(++O,typeof y[w]=="number"&&(y[w]=y[w].toString(10)),typeof y[w]!="string")throw new Error("DBF Invalid column name "+y[w]+" |"+typeof y[w]+"|");if(y.indexOf(y[w])!==w){for(E=0;E<1024;++E)if(y.indexOf(y[w]+"_"+E)==-1){y[w]+="_"+E;break}}}}var V=Ar(u["!ref"]),j=[],X=[],U=[];for(w=0;w<=V.e.c-V.s.c;++w){var A="",S="",C=0,P=[];for(E=0;E<v.length;++E)v[E][w]!=null&&P.push(v[E][w]);if(P.length==0||y[w]==null){j[w]="?";continue}for(E=0;E<P.length;++E){switch(typeof P[E]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=P[E]instanceof Date?"D":"C";break;default:S="C"}C=Math.max(C,String(P[E]).length),A=A&&A!=S?"C":S}C>250&&(C=250),S=((k[w]||{}).DBF||{}).type,S=="C"&&k[w].DBF.len>C&&(C=k[w].DBF.len),A=="B"&&S=="N"&&(A="N",U[w]=k[w].DBF.dec,C=k[w].DBF.len),X[w]=A=="C"||S=="N"?C:s[A]||0,M+=X[w],j[w]=A}var D=p.next(32);for(D.write_shift(4,318902576),D.write_shift(4,v.length),D.write_shift(2,296+32*O),D.write_shift(2,M),w=0;w<4;++w)D.write_shift(4,0);for(D.write_shift(4,0|(+e[nA]||3)<<8),w=0,E=0;w<y.length;++w)if(y[w]!=null){var z=p.next(32),B=(y[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);z.write_shift(1,B,"sbcs"),z.write_shift(1,j[w]=="?"?"C":j[w],"sbcs"),z.write_shift(4,E),z.write_shift(1,X[w]||s[j[w]]||0),z.write_shift(1,U[w]||0),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(1,0),z.write_shift(4,0),z.write_shift(4,0),E+=X[w]||s[j[w]]||0}var Ee=p.next(264);for(Ee.write_shift(4,13),w=0;w<65;++w)Ee.write_shift(4,0);for(w=0;w<v.length;++w){var Re=p.next(M);for(Re.write_shift(1,0),E=0;E<y.length;++E)if(y[E]!=null)switch(j[E]){case"L":Re.write_shift(1,v[w][E]==null?63:v[w][E]?84:70);break;case"B":Re.write_shift(8,v[w][E]||0,"f");break;case"N":var Be="0";for(typeof v[w][E]=="number"&&(Be=v[w][E].toFixed(U[E]||0)),O=0;O<X[E]-Be.length;++O)Re.write_shift(1,32);Re.write_shift(1,Be,"sbcs");break;case"D":v[w][E]?(Re.write_shift(4,("0000"+v[w][E].getFullYear()).slice(-4),"sbcs"),Re.write_shift(2,("00"+(v[w][E].getMonth()+1)).slice(-2),"sbcs"),Re.write_shift(2,("00"+v[w][E].getDate()).slice(-2),"sbcs")):Re.write_shift(8,"00000000","sbcs");break;case"C":var Fe=String(v[w][E]!=null?v[w][E]:"").slice(0,X[E]);for(Re.write_shift(1,Fe,"sbcs"),O=0;O<X[E]-Fe.length;++O)Re.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:i,to_sheet:n,from_sheet:l}})(),uq=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+$n(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(y,v){var k=t[v];return typeof k=="number"?iT(k):k},n=function(y,v,k){var w=v.charCodeAt(0)-32<<4|k.charCodeAt(0)-48;return w==59?y:iT(w)};t["|"]=254;function i(y,v){switch(v.type){case"base64":return s(Ua(y),v);case"binary":return s(y,v);case"buffer":return s(sr&&Buffer.isBuffer(y)?y.toString("binary"):H0(y),v);case"array":return s(Dm(y),v)}throw new Error("Unrecognized type "+v.type)}function s(y,v){var k=y.split(/[\n\r]+/),w=-1,E=-1,O=0,M=0,V=[],j=[],X=null,U={},A=[],S=[],C=[],P=0,D;for(+v.codepage>=0&&p0(+v.codepage);O!==k.length;++O){P=0;var z=k[O].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),B=z.replace(/;;/g,"\0").split(";").map(function(ee){return ee.replace(/\u0000/g,";")}),Ee=B[0],Re;if(z.length>0)switch(Ee){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":B[1].charAt(0)=="P"&&j.push(z.slice(3).replace(/;;/g,";"));break;case"C":var Be=!1,Fe=!1,ve=!1,ie=!1,me=-1,re=-1;for(M=1;M<B.length;++M)switch(B[M].charAt(0)){case"A":break;case"X":E=parseInt(B[M].slice(1))-1,Fe=!0;break;case"Y":for(w=parseInt(B[M].slice(1))-1,Fe||(E=0),D=V.length;D<=w;++D)V[D]=[];break;case"K":Re=B[M].slice(1),Re.charAt(0)==='"'?Re=Re.slice(1,Re.length-1):Re==="TRUE"?Re=!0:Re==="FALSE"?Re=!1:isNaN(Ra(Re))?isNaN(g0(Re).getDate())||(Re=oi(Re)):(Re=Ra(Re),X!==null&&mA(X)&&(Re=vA(Re))),Be=!0;break;case"E":ie=!0;var R=lG(B[M].slice(1),{r:w,c:E});V[w][E]=[V[w][E],R];break;case"S":ve=!0,V[w][E]=[V[w][E],"S5S"];break;case"G":break;case"R":me=parseInt(B[M].slice(1))-1;break;case"C":re=parseInt(B[M].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+z)}if(Be&&(V[w][E]&&V[w][E].length==2?V[w][E][0]=Re:V[w][E]=Re,X=null),ve){if(ie)throw new Error("SYLK shared formula cannot have own formula");var K=me>-1&&V[me][re];if(!K||!K[1])throw new Error("SYLK shared formula cannot find base");V[w][E][1]=cG(K[1],{r:w-me,c:E-re})}break;case"F":var Q=0;for(M=1;M<B.length;++M)switch(B[M].charAt(0)){case"X":E=parseInt(B[M].slice(1))-1,++Q;break;case"Y":for(w=parseInt(B[M].slice(1))-1,D=V.length;D<=w;++D)V[D]=[];break;case"M":P=parseInt(B[M].slice(1))/20;break;case"F":break;case"G":break;case"P":X=j[parseInt(B[M].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=B[M].slice(1).split(" "),D=parseInt(C[0],10);D<=parseInt(C[1],10);++D)P=parseInt(C[2],10),S[D-1]=P===0?{hidden:!0}:{wch:P},y2(S[D-1]);break;case"C":E=parseInt(B[M].slice(1))-1,S[E]||(S[E]={});break;case"R":w=parseInt(B[M].slice(1))-1,A[w]||(A[w]={}),P>0?(A[w].hpt=P,A[w].hpx=a6(P)):P===0&&(A[w].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+z)}Q<1&&(X=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+z)}}return A.length>0&&(U["!rows"]=A),S.length>0&&(U["!cols"]=S),v&&v.sheetRows&&(V=V.slice(0,v.sheetRows)),[V,U]}function l(y,v){var k=i(y,v),w=k[0],E=k[1],O=Ou(w,v);return $n(E).forEach(function(M){O[M]=E[M]}),O}function u(y,v){return Zl(l(y,v),v)}function d(y,v,k,w){var E="C;Y"+(k+1)+";X"+(w+1)+";K";switch(y.t){case"n":E+=y.v||0,y.f&&!y.F&&(E+=";E"+b2(y.f,{r:k,c:w}));break;case"b":E+=y.v?"TRUE":"FALSE";break;case"e":E+=y.w||y.v;break;case"d":E+='"'+(y.w||y.v)+'"';break;case"s":E+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function h(y,v){v.forEach(function(k,w){var E="F;W"+(w+1)+" "+(w+1)+" ";k.hidden?E+="0":(typeof k.width=="number"&&!k.wpx&&(k.wpx=Bp(k.width)),typeof k.wpx=="number"&&!k.wch&&(k.wch=Up(k.wpx)),typeof k.wch=="number"&&(E+=Math.round(k.wch))),E.charAt(E.length-1)!=" "&&y.push(E)})}function p(y,v){v.forEach(function(k,w){var E="F;";k.hidden?E+="M0;":k.hpt?E+="M"+20*k.hpt+";":k.hpx&&(E+="M"+20*zp(k.hpx)+";"),E.length>2&&y.push(E+"R"+(w+1))})}function g(y,v){var k=["ID;PWXL;N;E"],w=[],E=Ar(y["!ref"]),O,M=Array.isArray(y),V=`\r
`;k.push("P;PGeneral"),k.push("F;P0;DG0G8;M255"),y["!cols"]&&h(k,y["!cols"]),y["!rows"]&&p(k,y["!rows"]),k.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var j=E.s.r;j<=E.e.r;++j)for(var X=E.s.c;X<=E.e.c;++X){var U=fr({r:j,c:X});O=M?(y[j]||[])[X]:y[U],!(!O||O.v==null&&(!O.f||O.F))&&w.push(d(O,y,j,X))}return k.join(V)+V+w.join(V)+V+"E"+V}return{to_workbook:u,to_sheet:l,from_sheet:g}})(),dq=(function(){function t(s,l){switch(l.type){case"base64":return e(Ua(s),l);case"binary":return e(s,l);case"buffer":return e(sr&&Buffer.isBuffer(s)?s.toString("binary"):H0(s),l);case"array":return e(Dm(s),l)}throw new Error("Unrecognized type "+l.type)}function e(s,l){for(var u=s.split(`
`),d=-1,h=-1,p=0,g=[];p!==u.length;++p){if(u[p].trim()==="BOT"){g[++d]=[],h=0;continue}if(!(d<0)){var y=u[p].trim().split(","),v=y[0],k=y[1];++p;for(var w=u[p]||"";(w.match(/["]/g)||[]).length&1&&p<u.length-1;)w+=`
`+u[++p];switch(w=w.trim(),+v){case-1:if(w==="BOT"){g[++d]=[],h=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?g[d][h]=!0:w==="FALSE"?g[d][h]=!1:isNaN(Ra(k))?isNaN(g0(k).getDate())?g[d][h]=k:g[d][h]=oi(k):g[d][h]=Ra(k),++h;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),g[d][h++]=w!==""?w:null;break}if(w==="EOD")break}}return l&&l.sheetRows&&(g=g.slice(0,l.sheetRows)),g}function r(s,l){return Ou(t(s,l),l)}function n(s,l){return Zl(r(s,l),l)}var i=(function(){var s=function(d,h,p,g,y){d.push(h),d.push(p+","+g),d.push('"'+y.replace(/"/g,'""')+'"')},l=function(d,h,p,g){d.push(h+","+p),d.push(h==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(d){var h=[],p=Ar(d["!ref"]),g,y=Array.isArray(d);s(h,"TABLE",0,1,"sheetjs"),s(h,"VECTORS",0,p.e.r-p.s.r+1,""),s(h,"TUPLES",0,p.e.c-p.s.c+1,""),s(h,"DATA",0,0,"");for(var v=p.s.r;v<=p.e.r;++v){l(h,-1,0,"BOT");for(var k=p.s.c;k<=p.e.c;++k){var w=fr({r:v,c:k});if(g=y?(d[v]||[])[k]:d[w],!g){l(h,1,0,"");continue}switch(g.t){case"n":var E=g.w;!E&&g.v!=null&&(E=g.v),E==null?g.f&&!g.F?l(h,1,0,"="+g.f):l(h,1,0,""):l(h,0,E,"V");break;case"b":l(h,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":l(h,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=zo(g.z||Gr[14],Ei(oi(g.v)))),l(h,0,g.w,"V");break;default:l(h,1,0,"")}}}l(h,-1,0,"EOD");var O=`\r
`,M=h.join(O);return M}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),r6=(function(){function t(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(g,y){for(var v=g.split(`
`),k=-1,w=-1,E=0,O=[];E!==v.length;++E){var M=v[E].trim().split(":");if(M[0]==="cell"){var V=wn(M[1]);if(O.length<=V.r)for(k=O.length;k<=V.r;++k)O[k]||(O[k]=[]);switch(k=V.r,w=V.c,M[2]){case"t":O[k][w]=t(M[3]);break;case"v":O[k][w]=+M[3];break;case"vtf":var j=M[M.length-1];case"vtc":switch(M[3]){case"nl":O[k][w]=!!+M[4];break;default:O[k][w]=+M[4];break}M[2]=="vtf"&&(O[k][w]=[O[k][w],j])}}}return y&&y.sheetRows&&(O=O.slice(0,y.sheetRows)),O}function n(g,y){return Ou(r(g,y),y)}function i(g,y){return Zl(n(g,y),y)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function h(g){if(!g||!g["!ref"])return"";for(var y=[],v=[],k,w="",E=Hi(g["!ref"]),O=Array.isArray(g),M=E.s.r;M<=E.e.r;++M)for(var V=E.s.c;V<=E.e.c;++V)if(w=fr({r:M,c:V}),k=O?(g[M]||[])[V]:g[w],!(!k||k.v==null||k.t==="z")){switch(v=["cell",w,"t"],k.t){case"s":case"str":v.push(e(k.v));break;case"n":k.f?(v[2]="vtf",v[3]="n",v[4]=k.v,v[5]=e(k.f)):(v[2]="v",v[3]=k.v);break;case"b":v[2]="vt"+(k.f?"f":"c"),v[3]="nl",v[4]=k.v?"1":"0",v[5]=e(k.f||(k.v?"TRUE":"FALSE"));break;case"d":var j=Ei(oi(k.v));v[2]="vtc",v[3]="nd",v[4]=""+j,v[5]=k.w||zo(k.z||Gr[14],j);break;case"e":continue}y.push(v.join(":"))}return y.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function p(g){return[s,l,u,l,h(g),d].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:p}})(),hq=(function(){function t(p,g,y,v,k){k.raw?g[y][v]=p:p===""||(p==="TRUE"?g[y][v]=!0:p==="FALSE"?g[y][v]=!1:isNaN(Ra(p))?isNaN(g0(p).getDate())?g[y][v]=p:g[y][v]=oi(p):g[y][v]=Ra(p))}function e(p,g){var y=g||{},v=[];if(!p||p.length===0)return v;for(var k=p.split(/[\r\n]/),w=k.length-1;w>=0&&k[w].length===0;)--w;for(var E=10,O=0,M=0;M<=w;++M)O=k[M].indexOf(" "),O==-1?O=k[M].length:O++,E=Math.max(E,O);for(M=0;M<=w;++M){v[M]=[];var V=0;for(t(k[M].slice(0,E).trim(),v,M,V,y),V=1;V<=(k[M].length-E)/10+1;++V)t(k[M].slice(E+(V-1)*10,E+V*10).trim(),v,M,V,y)}return y.sheetRows&&(v=v.slice(0,y.sheetRows)),v}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(p){for(var g={},y=!1,v=0,k=0;v<p.length;++v)(k=p.charCodeAt(v))==34?y=!y:!y&&k in r&&(g[k]=(g[k]||0)+1);k=[];for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&k.push([g[v],v]);if(!k.length){g=n;for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&k.push([g[v],v])}return k.sort(function(w,E){return w[0]-E[0]||n[w[1]]-n[E[1]]}),r[k.pop()[1]]||44}function s(p,g){var y=g||{},v="",k=y.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(v=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(v=p.charAt(4),p=p.slice(6)):v=i(p.slice(0,1024)):y&&y.FS?v=y.FS:v=i(p.slice(0,1024));var E=0,O=0,M=0,V=0,j=0,X=v.charCodeAt(0),U=!1,A=0,S=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var C=y.dateNF!=null?AH(y.dateNF):null;function P(){var D=p.slice(V,j),z={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)z.t="z";else if(y.raw)z.t="s",z.v=D;else if(D.trim().length===0)z.t="s",z.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(z.t="s",z.v=D.slice(2,-1).replace(/""/g,'"')):uG(D)?(z.t="n",z.f=D.slice(1)):(z.t="s",z.v=D);else if(D=="TRUE")z.t="b",z.v=!0;else if(D=="FALSE")z.t="b",z.v=!1;else if(!isNaN(M=Ra(D)))z.t="n",y.cellText!==!1&&(z.w=D),z.v=M;else if(!isNaN(g0(D).getDate())||C&&D.match(C)){z.z=y.dateNF||Gr[14];var B=0;C&&D.match(C)&&(D=CH(D,y.dateNF,D.match(C)||[]),B=1),y.cellDates?(z.t="d",z.v=oi(D,B)):(z.t="n",z.v=Ei(oi(D,B))),y.cellText!==!1&&(z.w=zo(z.z,z.v instanceof Date?Ei(z.v):z.v)),y.cellNF||delete z.z}else z.t="s",z.v=D;if(z.t=="z"||(y.dense?(k[E]||(k[E]=[]),k[E][O]=z):k[fr({c:O,r:E})]=z),V=j+1,S=p.charCodeAt(V),w.e.c<O&&(w.e.c=O),w.e.r<E&&(w.e.r=E),A==X)++O;else if(O=0,++E,y.sheetRows&&y.sheetRows<=E)return!0}e:for(;j<p.length;++j)switch(A=p.charCodeAt(j)){case 34:S===34&&(U=!U);break;case X:case 10:case 13:if(!U&&P())break e;break}return j-V>0&&P(),k["!ref"]=on(w),k}function l(p,g){return!(g&&g.PRN)||g.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?s(p,g):Ou(e(p,g),g)}function u(p,g){var y="",v=g.type=="string"?[0,0,0,0]:TQ(p,g);switch(g.type){case"base64":y=Ua(p);break;case"binary":y=p;break;case"buffer":g.codepage==65001?y=p.toString("utf8"):g.codepage&&typeof Pp<"u"||(y=sr&&Buffer.isBuffer(p)?p.toString("binary"):H0(p));break;case"array":y=Dm(p);break;case"string":y=p;break;default:throw new Error("Unrecognized type "+g.type)}return v[0]==239&&v[1]==187&&v[2]==191?y=Ud(y.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?y=Ud(y):g.type=="binary"&&typeof Pp<"u",y.slice(0,19)=="socialcalc:version:"?r6.to_sheet(g.type=="string"?y:Ud(y),g):l(y,g)}function d(p,g){return Zl(u(p,g),g)}function h(p){for(var g=[],y=Ar(p["!ref"]),v,k=Array.isArray(p),w=y.s.r;w<=y.e.r;++w){for(var E=[],O=y.s.c;O<=y.e.c;++O){var M=fr({r:w,c:O});if(v=k?(p[w]||[])[O]:p[M],!v||v.v==null){E.push("          ");continue}for(var V=(v.w||(za(v),v.w)||"").slice(0,10);V.length<10;)V+=" ";E.push(V+(O===0?" ":""))}g.push(E.join(""))}return g.join(`
`)}return{to_workbook:d,to_sheet:u,from_sheet:h}})(),OT=(function(){function t(R,K,Q){if(R){Di(R,R.l||0);for(var ee=Q.Enum||me;R.l<R.length;){var se=R.read_shift(2),Ce=ee[se]||ee[65535],De=R.read_shift(2),Se=R.l+De,ue=Ce.f&&Ce.f(R,De,Q);if(R.l=Se,K(ue,Ce,se))return}}}function e(R,K){switch(K.type){case"base64":return r(Ts(Ua(R)),K);case"binary":return r(Ts(R),K);case"buffer":case"array":return r(R,K)}throw"Unsupported type "+K.type}function r(R,K){if(!R)return R;var Q=K||{},ee=Q.dense?[]:{},se="Sheet1",Ce="",De=0,Se={},ue=[],nt=[],ht={s:{r:0,c:0},e:{r:0,c:0}},yt=Q.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)Q.Enum=me,t(R,function(Ge,Xt,Ct){switch(Ct){case 0:Q.vers=Ge,Ge>=4096&&(Q.qpro=!0);break;case 6:ht=Ge;break;case 204:Ge&&(Ce=Ge);break;case 222:Ce=Ge;break;case 15:case 51:Q.qpro||(Ge[1].v=Ge[1].v.slice(1));case 13:case 14:case 16:Ct==14&&(Ge[2]&112)==112&&(Ge[2]&15)>1&&(Ge[2]&15)<15&&(Ge[1].z=Q.dateNF||Gr[14],Q.cellDates&&(Ge[1].t="d",Ge[1].v=vA(Ge[1].v))),Q.qpro&&Ge[3]>De&&(ee["!ref"]=on(ht),Se[se]=ee,ue.push(se),ee=Q.dense?[]:{},ht={s:{r:0,c:0},e:{r:0,c:0}},De=Ge[3],se=Ce||"Sheet"+(De+1),Ce="");var er=Q.dense?(ee[Ge[0].r]||[])[Ge[0].c]:ee[fr(Ge[0])];if(er){er.t=Ge[1].t,er.v=Ge[1].v,Ge[1].z!=null&&(er.z=Ge[1].z),Ge[1].f!=null&&(er.f=Ge[1].f);break}Q.dense?(ee[Ge[0].r]||(ee[Ge[0].r]=[]),ee[Ge[0].r][Ge[0].c]=Ge[1]):ee[fr(Ge[0])]=Ge[1];break}},Q);else if(R[2]==26||R[2]==14)Q.Enum=re,R[2]==14&&(Q.qpro=!0,R.l=0),t(R,function(Ge,Xt,Ct){switch(Ct){case 204:se=Ge;break;case 22:Ge[1].v=Ge[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ge[3]>De&&(ee["!ref"]=on(ht),Se[se]=ee,ue.push(se),ee=Q.dense?[]:{},ht={s:{r:0,c:0},e:{r:0,c:0}},De=Ge[3],se="Sheet"+(De+1)),yt>0&&Ge[0].r>=yt)break;Q.dense?(ee[Ge[0].r]||(ee[Ge[0].r]=[]),ee[Ge[0].r][Ge[0].c]=Ge[1]):ee[fr(Ge[0])]=Ge[1],ht.e.c<Ge[0].c&&(ht.e.c=Ge[0].c),ht.e.r<Ge[0].r&&(ht.e.r=Ge[0].r);break;case 27:Ge[14e3]&&(nt[Ge[14e3][0]]=Ge[14e3][1]);break;case 1537:nt[Ge[0]]=Ge[1],Ge[0]==De&&(se=Ge[1]);break}},Q);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(ee["!ref"]=on(ht),Se[Ce||se]=ee,ue.push(Ce||se),!nt.length)return{SheetNames:ue,Sheets:Se};for(var wt={},pr=[],Nt=0;Nt<nt.length;++Nt)Se[ue[Nt]]?(pr.push(nt[Nt]||ue[Nt]),wt[nt[Nt]]=Se[nt[Nt]]||Se[ue[Nt]]):(pr.push(nt[Nt]),wt[nt[Nt]]={"!ref":"A1"});return{SheetNames:pr,Sheets:wt}}function n(R,K){var Q=K||{};if(+Q.codepage>=0&&p0(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK1 to JS string");var ee=_i(),se=Ar(R["!ref"]),Ce=Array.isArray(R),De=[];Je(ee,0,s(1030)),Je(ee,6,d(se));for(var Se=Math.min(se.e.r,8191),ue=se.s.r;ue<=Se;++ue)for(var nt=Ln(ue),ht=se.s.c;ht<=se.e.c;++ht){ue===se.s.r&&(De[ht]=Xn(ht));var yt=De[ht]+nt,wt=Ce?(R[ue]||[])[ht]:R[yt];if(!(!wt||wt.t=="z"))if(wt.t=="n")(wt.v|0)==wt.v&&wt.v>=-32768&&wt.v<=32767?Je(ee,13,v(ue,ht,wt.v)):Je(ee,14,w(ue,ht,wt.v));else{var pr=za(wt);Je(ee,15,g(ue,ht,pr.slice(0,239)))}}return Je(ee,1),ee.end()}function i(R,K){var Q=K||{};if(+Q.codepage>=0&&p0(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK3 to JS string");var ee=_i();Je(ee,0,l(R));for(var se=0,Ce=0;se<R.SheetNames.length;++se)(R.Sheets[R.SheetNames[se]]||{})["!ref"]&&Je(ee,27,ie(R.SheetNames[se],Ce++));var De=0;for(se=0;se<R.SheetNames.length;++se){var Se=R.Sheets[R.SheetNames[se]];if(!(!Se||!Se["!ref"])){for(var ue=Ar(Se["!ref"]),nt=Array.isArray(Se),ht=[],yt=Math.min(ue.e.r,8191),wt=ue.s.r;wt<=yt;++wt)for(var pr=Ln(wt),Nt=ue.s.c;Nt<=ue.e.c;++Nt){wt===ue.s.r&&(ht[Nt]=Xn(Nt));var Ge=ht[Nt]+pr,Xt=nt?(Se[wt]||[])[Nt]:Se[Ge];if(!(!Xt||Xt.t=="z"))if(Xt.t=="n")Je(ee,23,P(wt,Nt,De,Xt.v));else{var Ct=za(Xt);Je(ee,22,A(wt,Nt,De,Ct.slice(0,239)))}}++De}}return Je(ee,1),ee.end()}function s(R){var K=ke(2);return K.write_shift(2,R),K}function l(R){var K=ke(26);K.write_shift(2,4096),K.write_shift(2,4),K.write_shift(4,0);for(var Q=0,ee=0,se=0,Ce=0;Ce<R.SheetNames.length;++Ce){var De=R.SheetNames[Ce],Se=R.Sheets[De];if(!(!Se||!Se["!ref"])){++se;var ue=Hi(Se["!ref"]);Q<ue.e.r&&(Q=ue.e.r),ee<ue.e.c&&(ee=ue.e.c)}}return Q>8191&&(Q=8191),K.write_shift(2,Q),K.write_shift(1,se),K.write_shift(1,ee),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(1,1),K.write_shift(1,2),K.write_shift(4,0),K.write_shift(4,0),K}function u(R,K,Q){var ee={s:{c:0,r:0},e:{c:0,r:0}};return K==8&&Q.qpro?(ee.s.c=R.read_shift(1),R.l++,ee.s.r=R.read_shift(2),ee.e.c=R.read_shift(1),R.l++,ee.e.r=R.read_shift(2),ee):(ee.s.c=R.read_shift(2),ee.s.r=R.read_shift(2),K==12&&Q.qpro&&(R.l+=2),ee.e.c=R.read_shift(2),ee.e.r=R.read_shift(2),K==12&&Q.qpro&&(R.l+=2),ee.s.c==65535&&(ee.s.c=ee.e.c=ee.s.r=ee.e.r=0),ee)}function d(R){var K=ke(8);return K.write_shift(2,R.s.c),K.write_shift(2,R.s.r),K.write_shift(2,R.e.c),K.write_shift(2,R.e.r),K}function h(R,K,Q){var ee=[{c:0,r:0},{t:"n",v:0},0,0];return Q.qpro&&Q.vers!=20768?(ee[0].c=R.read_shift(1),ee[3]=R.read_shift(1),ee[0].r=R.read_shift(2),R.l+=2):(ee[2]=R.read_shift(1),ee[0].c=R.read_shift(2),ee[0].r=R.read_shift(2)),ee}function p(R,K,Q){var ee=R.l+K,se=h(R,K,Q);if(se[1].t="s",Q.vers==20768){R.l++;var Ce=R.read_shift(1);return se[1].v=R.read_shift(Ce,"utf8"),se}return Q.qpro&&R.l++,se[1].v=R.read_shift(ee-R.l,"cstr"),se}function g(R,K,Q){var ee=ke(7+Q.length);ee.write_shift(1,255),ee.write_shift(2,K),ee.write_shift(2,R),ee.write_shift(1,39);for(var se=0;se<ee.length;++se){var Ce=Q.charCodeAt(se);ee.write_shift(1,Ce>=128?95:Ce)}return ee.write_shift(1,0),ee}function y(R,K,Q){var ee=h(R,K,Q);return ee[1].v=R.read_shift(2,"i"),ee}function v(R,K,Q){var ee=ke(7);return ee.write_shift(1,255),ee.write_shift(2,K),ee.write_shift(2,R),ee.write_shift(2,Q,"i"),ee}function k(R,K,Q){var ee=h(R,K,Q);return ee[1].v=R.read_shift(8,"f"),ee}function w(R,K,Q){var ee=ke(13);return ee.write_shift(1,255),ee.write_shift(2,K),ee.write_shift(2,R),ee.write_shift(8,Q,"f"),ee}function E(R,K,Q){var ee=R.l+K,se=h(R,K,Q);if(se[1].v=R.read_shift(8,"f"),Q.qpro)R.l=ee;else{var Ce=R.read_shift(2);j(R.slice(R.l,R.l+Ce),se),R.l+=Ce}return se}function O(R,K,Q){var ee=K&32768;return K&=-32769,K=(ee?R:0)+(K>=8192?K-16384:K),(ee?"":"$")+(Q?Xn(K):Ln(K))}var M={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},V=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(R,K){Di(R,0);for(var Q=[],ee=0,se="",Ce="",De="",Se="";R.l<R.length;){var ue=R[R.l++];switch(ue){case 0:Q.push(R.read_shift(8,"f"));break;case 1:Ce=O(K[0].c,R.read_shift(2),!0),se=O(K[0].r,R.read_shift(2),!1),Q.push(Ce+se);break;case 2:{var nt=O(K[0].c,R.read_shift(2),!0),ht=O(K[0].r,R.read_shift(2),!1);Ce=O(K[0].c,R.read_shift(2),!0),se=O(K[0].r,R.read_shift(2),!1),Q.push(nt+ht+":"+Ce+se)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:Q.push("("+Q.pop()+")");break;case 5:Q.push(R.read_shift(2));break;case 6:{for(var yt="";ue=R[R.l++];)yt+=String.fromCharCode(ue);Q.push('"'+yt.replace(/"/g,'""')+'"')}break;case 8:Q.push("-"+Q.pop());break;case 23:Q.push("+"+Q.pop());break;case 22:Q.push("NOT("+Q.pop()+")");break;case 20:case 21:Se=Q.pop(),De=Q.pop(),Q.push(["AND","OR"][ue-20]+"("+De+","+Se+")");break;default:if(ue<32&&V[ue])Se=Q.pop(),De=Q.pop(),Q.push(De+V[ue]+Se);else if(M[ue]){if(ee=M[ue][1],ee==69&&(ee=R[R.l++]),ee>Q.length){console.error("WK1 bad formula parse 0x"+ue.toString(16)+":|"+Q.join("|")+"|");return}var wt=Q.slice(-ee);Q.length-=ee,Q.push(M[ue][0]+"("+wt.join(",")+")")}else return ue<=7?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=24?console.error("WK1 unsupported op "+ue.toString(16)):ue<=30?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=115?console.error("WK1 unsupported function opcode "+ue.toString(16)):console.error("WK1 unrecognized opcode "+ue.toString(16))}}Q.length==1?K[1].f=""+Q[0]:console.error("WK1 bad formula parse |"+Q.join("|")+"|")}function X(R){var K=[{c:0,r:0},{t:"n",v:0},0];return K[0].r=R.read_shift(2),K[3]=R[R.l++],K[0].c=R[R.l++],K}function U(R,K){var Q=X(R);return Q[1].t="s",Q[1].v=R.read_shift(K-4,"cstr"),Q}function A(R,K,Q,ee){var se=ke(6+ee.length);se.write_shift(2,R),se.write_shift(1,Q),se.write_shift(1,K),se.write_shift(1,39);for(var Ce=0;Ce<ee.length;++Ce){var De=ee.charCodeAt(Ce);se.write_shift(1,De>=128?95:De)}return se.write_shift(1,0),se}function S(R,K){var Q=X(R);Q[1].v=R.read_shift(2);var ee=Q[1].v>>1;if(Q[1].v&1)switch(ee&7){case 0:ee=(ee>>3)*5e3;break;case 1:ee=(ee>>3)*500;break;case 2:ee=(ee>>3)/20;break;case 3:ee=(ee>>3)/200;break;case 4:ee=(ee>>3)/2e3;break;case 5:ee=(ee>>3)/2e4;break;case 6:ee=(ee>>3)/16;break;case 7:ee=(ee>>3)/64;break}return Q[1].v=ee,Q}function C(R,K){var Q=X(R),ee=R.read_shift(4),se=R.read_shift(4),Ce=R.read_shift(2);if(Ce==65535)return ee===0&&se===3221225472?(Q[1].t="e",Q[1].v=15):ee===0&&se===3489660928?(Q[1].t="e",Q[1].v=42):Q[1].v=0,Q;var De=Ce&32768;return Ce=(Ce&32767)-16446,Q[1].v=(1-De*2)*(se*Math.pow(2,Ce+32)+ee*Math.pow(2,Ce)),Q}function P(R,K,Q,ee){var se=ke(14);if(se.write_shift(2,R),se.write_shift(1,Q),se.write_shift(1,K),ee==0)return se.write_shift(4,0),se.write_shift(4,0),se.write_shift(2,65535),se;var Ce=0,De=0,Se=0,ue=0;return ee<0&&(Ce=1,ee=-ee),De=Math.log2(ee)|0,ee/=Math.pow(2,De-31),ue=ee>>>0,(ue&2147483648)==0&&(ee/=2,++De,ue=ee>>>0),ee-=ue,ue|=2147483648,ue>>>=0,ee*=Math.pow(2,32),Se=ee>>>0,se.write_shift(4,Se),se.write_shift(4,ue),De+=16383+(Ce?32768:0),se.write_shift(2,De),se}function D(R,K){var Q=C(R);return R.l+=K-14,Q}function z(R,K){var Q=X(R),ee=R.read_shift(4);return Q[1].v=ee>>6,Q}function B(R,K){var Q=X(R),ee=R.read_shift(8,"f");return Q[1].v=ee,Q}function Ee(R,K){var Q=B(R);return R.l+=K-10,Q}function Re(R,K){return R[R.l+K-1]==0?R.read_shift(K,"cstr"):""}function Be(R,K){var Q=R[R.l++];Q>K-1&&(Q=K-1);for(var ee="";ee.length<Q;)ee+=String.fromCharCode(R[R.l++]);return ee}function Fe(R,K,Q){if(!(!Q.qpro||K<21)){var ee=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var se=R.read_shift(K-21,"cstr");return[ee,se]}}function ve(R,K){for(var Q={},ee=R.l+K;R.l<ee;){var se=R.read_shift(2);if(se==14e3){for(Q[se]=[0,""],Q[se][0]=R.read_shift(2);R[R.l];)Q[se][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return Q}function ie(R,K){var Q=ke(5+R.length);Q.write_shift(2,14e3),Q.write_shift(2,K);for(var ee=0;ee<R.length;++ee){var se=R.charCodeAt(ee);Q[Q.l++]=se>127?95:se}return Q[Q.l++]=0,Q}var me={0:{n:"BOF",f:QA},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:k},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Re},222:{n:"SHEETNAMELP",f:Be},65535:{n:""}},re={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:U},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ve},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:z},38:{n:"??"},39:{n:"NUMBER27",f:B},40:{n:"FORMULA28",f:Ee},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Re},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Fe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})(),fq=/^\s|\s$|[\t\n\r]/;function n6(t,e){if(!e.bookSST)return"";var r=[ln];r[r.length]=Qe("sst",null,{xmlns:Du[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(fq)&&(s+=' xml:space="preserve"'),s+=">"+hr(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function pq(t){return[t.read_shift(4),t.read_shift(4)]}function mq(t,e){return e||(e=ke(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var gq=aW;function xq(t){var e=_i();Oe(e,159,mq(t));for(var r=0;r<t.length;++r)Oe(e,19,gq(t[r]));return Oe(e,160),e.end()}function yq(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function i6(t){var e=0,r,n=yq(t),i=n.length+1,s,l,u,d,h;for(r=$l(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)l=r[s],u=(e&16384)===0?0:1,d=e<<1&32767,h=u|d,e=h^l;return e^52811}var vq=(function(){function t(i,s){switch(s.type){case"base64":return e(Ua(i),s);case"binary":return e(i,s);case"buffer":return e(sr&&Buffer.isBuffer(i)?i.toString("binary"):H0(i),s);case"array":return e(Dm(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var l=s||{},u=l.dense?[]:{},d=i.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(p,g){Array.isArray(u)&&(u[g]=[]);for(var y=/\\\w+\b/g,v=0,k,w=-1;k=y.exec(p);){switch(k[0]){case"\\cell":var E=p.slice(v,y.lastIndex-k[0].length);if(E[0]==" "&&(E=E.slice(1)),++w,E.length){var O={v:E,t:"s"};Array.isArray(u)?u[g][w]=O:u[fr({r:g,c:w})]=O}break}v=y.lastIndex}w>h.e.c&&(h.e.c=w)}),u["!ref"]=on(h),u}function r(i,s){return Zl(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],l=Ar(i["!ref"]),u,d=Array.isArray(i),h=l.s.r;h<=l.e.r;++h){s.push("\\trowd\\trautofit1");for(var p=l.s.c;p<=l.e.c;++p)s.push("\\cellx"+(p+1));for(s.push("\\pard\\intbl"),p=l.s.c;p<=l.e.c;++p){var g=fr({r:h,c:p});u=d?(i[h]||[])[p]:i[g],!(!u||u.v==null&&(!u.f||u.F))&&(s.push(" "+(u.w||(za(u),u.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function FT(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var bq=6,Da=bq;function Bp(t){return Math.floor((t+Math.round(128/Da)/256)*Da)}function Up(t){return Math.floor((t-5)/Da*100+.5)/100}function e1(t){return Math.round((t*Da+5)/Da*256)/256}function y2(t){t.width?(t.wpx=Bp(t.width),t.wch=Up(t.wpx),t.MDW=Da):t.wpx?(t.wch=Up(t.wpx),t.width=e1(t.wch),t.MDW=Da):typeof t.wch=="number"&&(t.width=e1(t.wch),t.wpx=Bp(t.width),t.MDW=Da),t.customWidth&&delete t.customWidth}var wq=96,s6=wq;function zp(t){return t*96/s6}function a6(t){return t*s6/96}function _q(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=Qe("numFmt",null,{numFmtId:n,formatCode:hr(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Qe("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Eq(t){var e=[];return e[e.length]=Qe("cellXfs",null),t.forEach(function(r){e[e.length]=Qe("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Qe("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function o6(t,e){var r=[ln,Qe("styleSheet",null,{xmlns:Du[0],"xmlns:vt":bn.vt})],n;return t.SSF&&(n=_q(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Eq(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Tq(t,e){var r=t.read_shift(2),n=Yn(t);return[r,n]}function kq(t,e,r){r||(r=ke(6+4*e.length)),r.write_shift(2,t),_n(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Nq(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=fW(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=t.read_shift(1);l!=0&&(n.underline=l);var u=t.read_shift(1);u>0&&(n.family=u);var d=t.read_shift(1);switch(d>0&&(n.charset=d),t.l++,n.color=hW(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Yn(t),n}function Sq(t,e){e||(e=ke(153)),e.write_shift(2,t.sz*20),pW(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),$p(t.color,e);var n=0;return n=2,e.write_shift(1,n),_n(t.name,e),e.length>e.l?e.slice(0,e.l):e}var Aq=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Yx,Cq=la;function LT(t,e){e||(e=ke(84)),Yx||(Yx=a2(Aq));var r=Yx[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for($p({auto:1},e),$p({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Iq(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function l6(t,e,r){r||(r=ke(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function vd(t,e){return e||(e=ke(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var jq=la;function Pq(t,e){return e||(e=ke(51)),e.write_shift(1,0),vd(null,e),vd(null,e),vd(null,e),vd(null,e),vd(null,e),e.length>e.l?e.slice(0,e.l):e}function Rq(t,e){return e||(e=ke(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Mp(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Dq(t,e,r){var n=ke(2052);return n.write_shift(4,t),Mp(e,n),Mp(r,n),n.length>n.l?n.slice(0,n.l):n}function Oq(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(Oe(t,615,Cs(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Oe(t,44,kq(i,e[i]))}),Oe(t,616))}}function Fq(t){var e=1;Oe(t,611,Cs(e)),Oe(t,43,Sq({sz:12,color:{theme:1},name:"Calibri",family:2})),Oe(t,612)}function Lq(t){var e=2;Oe(t,603,Cs(e)),Oe(t,45,LT({patternType:"none"})),Oe(t,45,LT({patternType:"gray125"})),Oe(t,604)}function Mq(t){var e=1;Oe(t,613,Cs(e)),Oe(t,46,Pq()),Oe(t,614)}function $q(t){var e=1;Oe(t,626,Cs(e)),Oe(t,47,l6({numFmtId:0},65535)),Oe(t,627)}function Vq(t,e){Oe(t,617,Cs(e.length)),e.forEach(function(r){Oe(t,47,l6(r,0))}),Oe(t,618)}function Bq(t){var e=1;Oe(t,619,Cs(e)),Oe(t,48,Rq({xfId:0,name:"Normal"})),Oe(t,620)}function Uq(t){var e=0;Oe(t,505,Cs(e)),Oe(t,506)}function zq(t){var e=0;Oe(t,508,Dq(e,"TableStyleMedium9","PivotStyleMedium4")),Oe(t,509)}function Hq(t,e){var r=_i();return Oe(r,278),Oq(r,t.SSF),Fq(r),Lq(r),Mq(r),$q(r),Vq(r,e.cellXfs),Bq(r),Uq(r),zq(r),Oe(r,279),r.end()}function c6(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[ln];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Wq(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Yn(t)}}function qq(t){var e=ke(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),_n(t.name,e),e.slice(0,e.l)}function Gq(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function Kq(t){var e=ke(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function Xq(t,e){var r=ke(8+2*e.length);return r.write_shift(4,t),_n(e,r),r.slice(0,r.l)}function Yq(t){return t.l+=4,t.read_shift(4)!=0}function Qq(t,e){var r=ke(8);return r.write_shift(4,t),r.write_shift(4,1),r}function Jq(){var t=_i();return Oe(t,332),Oe(t,334,Cs(1)),Oe(t,335,qq({name:"XLDAPR",version:12e4,flags:3496657072})),Oe(t,336),Oe(t,339,Xq(1,"XLDAPR")),Oe(t,52),Oe(t,35,Cs(514)),Oe(t,4096,Cs(0)),Oe(t,4097,rs(1)),Oe(t,36),Oe(t,53),Oe(t,340),Oe(t,337,Qq(1)),Oe(t,51,Kq([[1,0]])),Oe(t,338),Oe(t,333),t.end()}function u6(){var t=[ln];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Zq(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=fr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Jc=1024;function d6(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[Qe("xml",null,{"xmlns:v":Oi.v,"xmlns:o":Oi.o,"xmlns:x":Oi.x,"xmlns:mv":Oi.mv}).replace(/\/>/,">"),Qe("o:shapelayout",Qe("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Qe("v:shapetype",[Qe("v:stroke",null,{joinstyle:"miter"}),Qe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Jc<t*1e3;)Jc+=1e3;return e.forEach(function(s){var l=wn(s[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var d=u.type=="gradient"?Qe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=Qe("v:fill",d,u),p={on:"t",obscured:"t"};++Jc,i=i.concat(["<v:shape"+y0({id:"_x0000_s"+Jc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,Qe("v:shadow",null,p),Qe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",On("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),On("x:AutoFill","False"),On("x:Row",String(l.r)),On("x:Column",String(l.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function h6(t){var e=[ln,Qe("comments",null,{xmlns:Du[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=hr(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(d){d.a&&(i=r.indexOf(hr(d.a))),s.push(d.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(On("t",hr(s[0]||"")));else{for(var l=`Comment:
    `+s[0]+`
`,u=1;u<s.length;++u)l+=`Reply:
    `+s[u]+`
`;e.push(On("t",hr(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function eG(t,e,r){var n=[ln,Qe("ThreadedComments",null,{xmlns:bn.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(l,u){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var d={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};u==0?s=d.id:d.parentId=s,l.ID=d.id,l.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),n.push(Qe("threadedComment",On("text",l.t||""),d))})}),n.push("</ThreadedComments>"),n.join("")}function tG(t){var e=[ln,Qe("personList",null,{xmlns:bn.TCMNT,"xmlns:x":Du[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(Qe("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function rG(t){var e={};e.iauthor=t.read_shift(4);var r=nc(t);return e.rfx=r.s,e.ref=fr(r.s),t.l+=16,e}function nG(t,e){return e==null&&(e=ke(36)),e.write_shift(4,t[1].iauthor),Fu(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var iG=Yn;function sG(t){return _n(t.slice(0,54))}function aG(t){var e=_i(),r=[];return Oe(e,628),Oe(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Oe(e,632,sG(i.a)))})}),Oe(e,631),Oe(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:wn(n[0]),e:wn(n[0])};Oe(e,635,nG([s,i])),i.t&&i.t.length>0&&Oe(e,637,lW(i)),Oe(e,636),delete i.iauthor})}),Oe(e,634),Oe(e,629),e.end()}function oG(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&mr.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var f6=["xlsb","xlsm","xlam","biff8","xla"],lG=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,l){var u=!1,d=!1;s.length==0?d=!0:s.charAt(0)=="["&&(d=!0,s=s.slice(1,-1)),l.length==0?u=!0:l.charAt(0)=="["&&(u=!0,l=l.slice(1,-1));var h=s.length>0?parseInt(s,10)|0:0,p=l.length>0?parseInt(l,10)|0:0;return u?p+=e.c:--p,d?h+=e.r:--h,i+(u?"":"$")+Xn(p)+(d?"":"$")+Ln(h)}return function(i,s){return e=s,i.replace(t,r)}})(),v2=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,b2=(function(){return function(e,r){return e.replace(v2,function(n,i,s,l,u,d){var h=f2(l)-(s?0:r.c),p=h2(d)-(u?0:r.r),g=p==0?"":u?p+1:"["+p+"]",y=h==0?"":s?h+1:"["+h+"]";return i+"R"+g+"C"+y})}})();function cG(t,e){return t.replace(v2,function(r,n,i,s,l,u){return n+(i=="$"?i+s:Xn(f2(s)+e.c))+(l=="$"?l+u:Ln(h2(u)+e.r))})}function uG(t){return t.length!=1}function nn(t){t.l+=1}function Ho(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function p6(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return m6(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),l=Ho(t),u=Ho(t);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:u[0],cRel:u[1],rRel:u[2]}}}function m6(t){var e=Ho(t),r=Ho(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function dG(t,e,r){if(r.biff<8)return m6(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=Ho(t),l=Ho(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function g6(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return hG(t);var n=t.read_shift(r&&r.biff==12?4:2),i=Ho(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function hG(t){var e=Ho(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function fG(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function pG(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return mG(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),l=(s&16384)>>14,u=(s&32768)>>15;if(s&=16383,u==1)for(;i>524287;)i-=1048576;if(l==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:l,rRel:u}}function mG(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function gG(t,e,r){var n=(t[t.l++]&96)>>5,i=p6(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function xG(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var l=p6(t,s,r);return[n,i,l]}function yG(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function vG(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function bG(t,e,r){var n=(t[t.l++]&96)>>5,i=dG(t,e-1,r);return[n,i]}function wG(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function MT(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function _G(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function EG(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function TG(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function kG(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function NG(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function x6(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function SG(t){return t.read_shift(2),x6(t)}function AG(t){return t.read_shift(2),x6(t)}function CG(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=g6(t,0,r);return[n,i]}function IG(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=pG(t,0,r);return[n,i]}function jG(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=g6(t,0,r);return[n,i,s]}function PG(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[PK[i],b6[i],n]}function RG(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:DG(t);return[i,(s[0]===0?b6:jK)[s[1]]]}function DG(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function OG(t,e,r){t.l+=r&&r.biff==2?3:4}function FG(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function LG(t){return t.l++,G0[t.read_shift(1)]}function MG(t){return t.l++,t.read_shift(2)}function $G(t){return t.l++,t.read_shift(1)!==0}function VG(t){return t.l++,Lu(t)}function BG(t,e,r){return t.l++,ZA(t,e-1,r)}function UG(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=jW(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=G0[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Lu(t);break;case 2:r[1]=OW(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function zG(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?nc:MW)(t));return i}function HG(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,l=[];s!=n&&(l[s]=[]);++s)for(var u=0;u!=i;++u)l[s][u]=UG(t,r.biff);return l}function WG(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function qG(t,e,r){if(r.biff==5)return GG(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function GG(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function KG(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function XG(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function YG(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function QG(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var JG=la,ZG=la,eK=la;function K0(t,e,r){return t.l+=2,[fG(t)]}function w2(t){return t.l+=6,[]}var tK=K0,rK=w2,nK=w2,iK=K0;function y6(t){return t.l+=2,[QA(t),t.read_shift(2)&1]}var sK=K0,aK=y6,oK=w2,lK=K0,cK=K0,uK=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function dK(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),l=uK[r>>2&31];return{ixti:e,coltype:r&3,rt:l,idx:n,c:i,C:s}}function hK(t){return t.l+=2,[t.read_shift(4)]}function fK(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function pK(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function mK(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function gK(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function xK(t){return t.l+=4,[0,0]}var $T={1:{n:"PtgExp",f:FG},2:{n:"PtgTbl",f:eK},3:{n:"PtgAdd",f:nn},4:{n:"PtgSub",f:nn},5:{n:"PtgMul",f:nn},6:{n:"PtgDiv",f:nn},7:{n:"PtgPower",f:nn},8:{n:"PtgConcat",f:nn},9:{n:"PtgLt",f:nn},10:{n:"PtgLe",f:nn},11:{n:"PtgEq",f:nn},12:{n:"PtgGe",f:nn},13:{n:"PtgGt",f:nn},14:{n:"PtgNe",f:nn},15:{n:"PtgIsect",f:nn},16:{n:"PtgUnion",f:nn},17:{n:"PtgRange",f:nn},18:{n:"PtgUplus",f:nn},19:{n:"PtgUminus",f:nn},20:{n:"PtgPercent",f:nn},21:{n:"PtgParen",f:nn},22:{n:"PtgMissArg",f:nn},23:{n:"PtgStr",f:BG},26:{n:"PtgSheet",f:fK},27:{n:"PtgEndSheet",f:pK},28:{n:"PtgErr",f:LG},29:{n:"PtgBool",f:$G},30:{n:"PtgInt",f:MG},31:{n:"PtgNum",f:VG},32:{n:"PtgArray",f:wG},33:{n:"PtgFunc",f:PG},34:{n:"PtgFuncVar",f:RG},35:{n:"PtgName",f:WG},36:{n:"PtgRef",f:CG},37:{n:"PtgArea",f:gG},38:{n:"PtgMemArea",f:KG},39:{n:"PtgMemErr",f:JG},40:{n:"PtgMemNoMem",f:ZG},41:{n:"PtgMemFunc",f:XG},42:{n:"PtgRefErr",f:YG},43:{n:"PtgAreaErr",f:yG},44:{n:"PtgRefN",f:IG},45:{n:"PtgAreaN",f:bG},46:{n:"PtgMemAreaN",f:mK},47:{n:"PtgMemNoMemN",f:gK},57:{n:"PtgNameX",f:qG},58:{n:"PtgRef3d",f:jG},59:{n:"PtgArea3d",f:xG},60:{n:"PtgRefErr3d",f:QG},61:{n:"PtgAreaErr3d",f:vG},255:{}},yK={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},vK={1:{n:"PtgElfLel",f:y6},2:{n:"PtgElfRw",f:lK},3:{n:"PtgElfCol",f:tK},6:{n:"PtgElfRwV",f:cK},7:{n:"PtgElfColV",f:iK},10:{n:"PtgElfRadical",f:sK},11:{n:"PtgElfRadicalS",f:oK},13:{n:"PtgElfColS",f:rK},15:{n:"PtgElfColSV",f:nK},16:{n:"PtgElfRadicalLel",f:aK},25:{n:"PtgList",f:dK},29:{n:"PtgSxName",f:hK},255:{}},bK={0:{n:"PtgAttrNoop",f:xK},1:{n:"PtgAttrSemi",f:NG},2:{n:"PtgAttrIf",f:TG},4:{n:"PtgAttrChoose",f:_G},8:{n:"PtgAttrGoto",f:EG},16:{n:"PtgAttrSum",f:OG},32:{n:"PtgAttrBaxcel",f:MT},33:{n:"PtgAttrBaxcel",f:MT},64:{n:"PtgAttrSpace",f:SG},65:{n:"PtgAttrSpaceSemi",f:AG},128:{n:"PtgAttrIfError",f:kG},255:{}};function wK(t,e,r,n){if(n.biff<8)return la(t,e);for(var i=t.l+e,s=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=HG(t,0,n),s.push(r[l][1]);break;case"PtgMemArea":r[l][2]=zG(t,r[l][1],n),s.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=t.read_shift(4),s.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return e=i-t.l,e!==0&&s.push(la(t,e)),s}function _K(t,e,r){for(var n=t.l+e,i,s,l=[];n!=t.l;)e=n-t.l,s=t[t.l],i=$T[s]||$T[yK[s]],(s===24||s===25)&&(i=(s===24?vK:bK)[t[t.l+1]]),!i||!i.f?la(t,e):l.push([i.n,i.f(t,e,r)]);return l}function EK(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var l=n[s];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var TK={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function kK(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function v6(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function VT(t,e,r){var n=v6(t,e,r);return n=="#REF"?n:kK(n,r)}function bu(t,e,r,n,i){var s=i&&i.biff||8,l={s:{c:0,r:0}},u=[],d,h,p,g=0,y=0,v,k="";if(!t[0]||!t[0][0])return"";for(var w=-1,E="",O=0,M=t[0].length;O<M;++O){var V=t[0][O];switch(V[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=u.pop(),h=u.pop(),w>=0){switch(t[0][w][1][0]){case 0:E=Hr(" ",t[0][w][1][1]);break;case 1:E=Hr("\r",t[0][w][1][1]);break;default:if(E="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}h=h+E,w=-1}u.push(h+TK[V[0]]+d);break;case"PtgIsect":d=u.pop(),h=u.pop(),u.push(h+" "+d);break;case"PtgUnion":d=u.pop(),h=u.pop(),u.push(h+","+d);break;case"PtgRange":d=u.pop(),h=u.pop(),u.push(h+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=Hd(V[1][1],l,i),u.push(Wd(p,s));break;case"PtgRefN":p=r?Hd(V[1][1],r,i):V[1][1],u.push(Wd(p,s));break;case"PtgRef3d":g=V[1][1],p=Hd(V[1][2],l,i),k=VT(n,g,i),u.push(k+"!"+Wd(p,s));break;case"PtgFunc":case"PtgFuncVar":var j=V[1][0],X=V[1][1];j||(j=0),j&=127;var U=j==0?[]:u.slice(-j);u.length-=j,X==="User"&&(X=U.shift()),u.push(X+"("+U.join(",")+")");break;case"PtgBool":u.push(V[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(V[1]);break;case"PtgNum":u.push(String(V[1]));break;case"PtgStr":u.push('"'+V[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(V[1]);break;case"PtgAreaN":v=TT(V[1][1],r?{s:r}:l,i),u.push(Kx(v,i));break;case"PtgArea":v=TT(V[1][1],l,i),u.push(Kx(v,i));break;case"PtgArea3d":g=V[1][1],v=V[1][2],k=VT(n,g,i),u.push(k+"!"+Kx(v,i));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=V[1][2];var A=(n.names||[])[y-1]||(n[0]||[])[y],S=A?A.Name:"SH33TJSNAME"+String(y);S&&S.slice(0,6)=="_xlfn."&&!i.xlfn&&(S=S.slice(6)),u.push(S);break;case"PtgNameX":var C=V[1][1];y=V[1][2];var P;if(i.biff<=5)C<0&&(C=-C),n[C]&&(P=n[C][y]);else{var D="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][y]&&n[C][y].itab>0&&(D=n.SheetNames[n[C][y].itab-1]+"!"):D=n.SheetNames[y-1]+"!"),n[C]&&n[C][y])D+=n[C][y].Name;else if(n[0]&&n[0][y])D+=n[0][y].Name;else{var z=(v6(n,C,i)||"").split(";;");z[y-1]?D=z[y-1]:D+="SH33TJSERRX"}u.push(D);break}P||(P={Name:"SH33TJSERRY"}),u.push(P.Name);break;case"PtgParen":var B="(",Ee=")";if(w>=0){switch(E="",t[0][w][1][0]){case 2:B=Hr(" ",t[0][w][1][1])+B;break;case 3:B=Hr("\r",t[0][w][1][1])+B;break;case 4:Ee=Hr(" ",t[0][w][1][1])+Ee;break;case 5:Ee=Hr("\r",t[0][w][1][1])+Ee;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}w=-1}u.push(B+u.pop()+Ee);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":p={c:V[1][1],r:V[1][0]};var Re={c:r.c,r:r.r};if(n.sharedf[fr(p)]){var Be=n.sharedf[fr(p)];u.push(bu(Be,l,Re,n,i))}else{var Fe=!1;for(d=0;d!=n.arrayf.length;++d)if(h=n.arrayf[d],!(p.c<h[0].s.c||p.c>h[0].e.c)&&!(p.r<h[0].s.r||p.r>h[0].e.r)){u.push(bu(h[1],l,Re,n,i)),Fe=!0;break}Fe||u.push(V[1])}break;case"PtgArray":u.push("{"+EK(V[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=O;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+V[1].idx+"[#"+V[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(V));default:throw new Error("Unrecognized Formula Token: "+String(V))}var ve=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&w>=0&&ve.indexOf(t[0][O][0])==-1){V=t[0][w];var ie=!0;switch(V[1][0]){case 4:ie=!1;case 0:E=Hr(" ",V[1][1]);break;case 5:ie=!1;case 1:E=Hr("\r",V[1][1]);break;default:if(E="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+V[1][0])}u.push((ie?E:"")+u.pop()+(ie?"":E)),w=-1}}if(u.length>1&&i.WTF)throw new Error("bad formula stack");return u[0]}function NK(t){if(t==null){var e=ke(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Vl(t);return Vl(0)}function SK(t,e,r,n,i){var s=Bl(e,r,i),l=NK(t.v),u=ke(6),d=33;u.write_shift(2,d),u.write_shift(4,0);for(var h=ke(t.bf.length),p=0;p<t.bf.length;++p)h[p]=t.bf[p];var g=Dn([s,l,u,h]);return g}function Om(t,e,r){var n=t.read_shift(4),i=_K(t,n,r),s=t.read_shift(4),l=s>0?wK(t,s,i,r):null;return[i,l]}var AK=Om,Fm=Om,CK=Om,IK=Om,jK={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},b6={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},PK={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function RK(t){var e="of:="+t.replace(v2,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function DK(t){return t.replace(/\./,"!")}var qd=typeof Map<"u";function _2(t,e,r){var n=0,i=t.length;if(r){if(qd?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=qd?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(qd?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function Lm(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Da=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Up(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=e1(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function w6(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Jo(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){gA(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function OK(t,e,r){if(t&&t["!ref"]){var n=Ar(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function FK(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+on(t[r])+'"/>';return e+"</mergeCells>"}function LK(t,e,r,n,i){var s=!1,l={},u=null;if(n.bookType!=="xlsx"&&e.vbaraw){var d=e.SheetNames[r];try{e.Workbook&&(d=e.Workbook.Sheets[r].CodeName||d)}catch{}s=!0,l.codeName=x0(hr(d))}if(t&&t["!outline"]){var h={summaryBelow:1,summaryRight:1};t["!outline"].above&&(h.summaryBelow=0),t["!outline"].left&&(h.summaryRight=0),u=(u||"")+Qe("outlinePr",null,h)}!s&&!u||(i[i.length]=Qe("sheetPr",u,l))}var MK=["objects","scenarios","selectLockedCells","selectUnlockedCells"],$K=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function VK(t){var e={sheet:1};return MK.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),$K.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=i6(t.password).toString(16).toUpperCase()),Qe("sheetProtection",null,e)}function BK(t){return w6(t),Qe("pageMargins",null,t)}function UK(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=Qe("col",null,Lm(i,n)));return r[r.length]="</cols>",r.join("")}function zK(t,e,r,n){var i=typeof t.ref=="string"?t.ref:on(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,l=Hi(i);l.s.r==l.e.r&&(l.e.r=Hi(e["!ref"]).e.r,i=on(l));for(var u=0;u<s.length;++u){var d=s[u];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return u==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Qe("autoFilter",null,{ref:i})}function HK(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Qe("sheetViews",Qe("sheetView",null,i),{})}function WK(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,l=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=G0[t.v];break;case"d":n&&n.cellDates?i=oi(t.v,-1).toISOString():(t=Ti(t),t.t="n",i=""+(t.v=Ei(oi(t.v)))),typeof t.z>"u"&&(t.z=Gr[14]);break;default:i=t.v;break}var u=On("v",hr(i)),d={r:e},h=Jo(n.cellXfs,t,n);switch(h!==0&&(d.s=h),t.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){u=On("v",""+_2(n.Strings,t.v,n.revStrings)),d.t="s";break}d.t="str";break}if(t.t!=s&&(t.t=s,t.v=l),typeof t.f=="string"&&t.f){var p=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;u=Qe("f",hr(t.f),p)+(t.v!=null?u:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(d.cm=1),Qe("c",u,d)}function qK(t,e,r,n){var i=[],s=[],l=Ar(t["!ref"]),u="",d,h="",p=[],g=0,y=0,v=t["!rows"],k=Array.isArray(t),w={r:h},E,O=-1;for(y=l.s.c;y<=l.e.c;++y)p[y]=Xn(y);for(g=l.s.r;g<=l.e.r;++g){for(s=[],h=Ln(g),y=l.s.c;y<=l.e.c;++y){d=p[y]+h;var M=k?(t[g]||[])[y]:t[d];M!==void 0&&(u=WK(M,d,t,e))!=null&&s.push(u)}(s.length>0||v&&v[g])&&(w={r:h},v&&v[g]&&(E=v[g],E.hidden&&(w.hidden=1),O=-1,E.hpx?O=zp(E.hpx):E.hpt&&(O=E.hpt),O>-1&&(w.ht=O,w.customHeight=1),E.level&&(w.outlineLevel=E.level)),i[i.length]=Qe("row",s.join(""),w))}if(v)for(;g<v.length;++g)v&&v[g]&&(w={r:g+1},E=v[g],E.hidden&&(w.hidden=1),O=-1,E.hpx?O=zp(E.hpx):E.hpt&&(O=E.hpt),O>-1&&(w.ht=O,w.customHeight=1),E.level&&(w.outlineLevel=E.level),i[i.length]=Qe("row","",w));return i.join("")}function _6(t,e,r,n){var i=[ln,Qe("worksheet",null,{xmlns:Du[0],"xmlns:r":bn.r})],s=r.SheetNames[t],l=0,u="",d=r.Sheets[s];d==null&&(d={});var h=d["!ref"]||"A1",p=Ar(h);if(p.e.c>16383||p.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),h=on(p)}n||(n={}),d["!comments"]=[];var g=[];LK(d,r,t,e,i),i[i.length]=Qe("dimension",null,{ref:h}),i[i.length]=HK(d,e,t,r),e.sheetFormat&&(i[i.length]=Qe("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(i[i.length]=UK(d,d["!cols"])),i[l=i.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(u=qK(d,e),u.length>0&&(i[i.length]=u)),i.length>l+1&&(i[i.length]="</sheetData>",i[l]=i[l].replace("/>",">")),d["!protect"]&&(i[i.length]=VK(d["!protect"])),d["!autofilter"]!=null&&(i[i.length]=zK(d["!autofilter"],d,r,t)),d["!merges"]!=null&&d["!merges"].length>0&&(i[i.length]=FK(d["!merges"]));var y=-1,v,k=-1;return d["!links"].length>0&&(i[i.length]="<hyperlinks>",d["!links"].forEach(function(w){w[1].Target&&(v={ref:w[0]},w[1].Target.charAt(0)!="#"&&(k=dr(n,-1,hr(w[1].Target).replace(/#.*$/,""),ir.HLINK),v["r:id"]="rId"+k),(y=w[1].Target.indexOf("#"))>-1&&(v.location=hr(w[1].Target.slice(y+1))),w[1].Tooltip&&(v.tooltip=hr(w[1].Tooltip)),i[i.length]=Qe("hyperlink",null,v))}),i[i.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(i[i.length]=BK(d["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=On("ignoredErrors",Qe("ignoredError",null,{numberStoredAsText:1,sqref:h}))),g.length>0&&(k=dr(n,-1,"../drawings/drawing"+(t+1)+".xml",ir.DRAW),i[i.length]=Qe("drawing",null,{"r:id":"rId"+k}),d["!drawing"]=g),d["!comments"].length>0&&(k=dr(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",ir.VML),i[i.length]=Qe("legacyDrawing",null,{"r:id":"rId"+k}),d["!legacy"]=k),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function GK(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function KK(t,e,r){var n=ke(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=zp(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var l=0;i.level&&(l|=i.level),i.hidden&&(l|=16),(i.hpx||i.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var u=0,d=n.l;n.l+=4;for(var h={r:t,c:0},p=0;p<16;++p)if(!(e.s.c>p+1<<10||e.e.c<p<<10)){for(var g=-1,y=-1,v=p<<10;v<p+1<<10;++v){h.c=v;var k=Array.isArray(r)?(r[h.r]||[])[h.c]:r[fr(h)];k&&(g<0&&(g=v),y=v)}g<0||(++u,n.write_shift(4,g),n.write_shift(4,y))}var w=n.l;return n.l=d,n.write_shift(4,u),n.l=w,n.length>n.l?n.slice(0,n.l):n}function XK(t,e,r,n){var i=KK(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&Oe(t,0,i)}var YK=nc,QK=Fu;function JK(){}function ZK(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=cW(t),r}function eX(t,e,r){r==null&&(r=ke(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return $p({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),LA(t,r),r.slice(0,r.l)}function tX(t){var e=ls(t);return[e]}function rX(t,e,r){return r==null&&(r=ke(8)),ec(e,r)}function nX(t){var e=tc(t);return[e]}function iX(t,e,r){return r==null&&(r=ke(4)),rc(e,r)}function sX(t){var e=ls(t),r=t.read_shift(1);return[e,r,"b"]}function aX(t,e,r){return r==null&&(r=ke(9)),ec(e,r),r.write_shift(1,t.v?1:0),r}function oX(t){var e=tc(t),r=t.read_shift(1);return[e,r,"b"]}function lX(t,e,r){return r==null&&(r=ke(5)),rc(e,r),r.write_shift(1,t.v?1:0),r}function cX(t){var e=ls(t),r=t.read_shift(1);return[e,r,"e"]}function uX(t,e,r){return r==null&&(r=ke(9)),ec(e,r),r.write_shift(1,t.v),r}function dX(t){var e=tc(t),r=t.read_shift(1);return[e,r,"e"]}function hX(t,e,r){return r==null&&(r=ke(8)),rc(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function fX(t){var e=ls(t),r=t.read_shift(4);return[e,r,"s"]}function pX(t,e,r){return r==null&&(r=ke(12)),ec(e,r),r.write_shift(4,e.v),r}function mX(t){var e=tc(t),r=t.read_shift(4);return[e,r,"s"]}function gX(t,e,r){return r==null&&(r=ke(8)),rc(e,r),r.write_shift(4,e.v),r}function xX(t){var e=ls(t),r=Lu(t);return[e,r,"n"]}function yX(t,e,r){return r==null&&(r=ke(16)),ec(e,r),Vl(t.v,r),r}function vX(t){var e=tc(t),r=Lu(t);return[e,r,"n"]}function bX(t,e,r){return r==null&&(r=ke(12)),rc(e,r),Vl(t.v,r),r}function wX(t){var e=ls(t),r=MA(t);return[e,r,"n"]}function _X(t,e,r){return r==null&&(r=ke(12)),ec(e,r),$A(t.v,r),r}function EX(t){var e=tc(t),r=MA(t);return[e,r,"n"]}function TX(t,e,r){return r==null&&(r=ke(8)),rc(e,r),$A(t.v,r),r}function kX(t){var e=ls(t),r=p2(t);return[e,r,"is"]}function NX(t){var e=ls(t),r=Yn(t);return[e,r,"str"]}function SX(t,e,r){return r==null&&(r=ke(12+4*t.v.length)),ec(e,r),_n(t.v,r),r.length>r.l?r.slice(0,r.l):r}function AX(t){var e=tc(t),r=Yn(t);return[e,r,"str"]}function CX(t,e,r){return r==null&&(r=ke(8+4*t.v.length)),rc(e,r),_n(t.v,r),r.length>r.l?r.slice(0,r.l):r}function IX(t,e,r){var n=t.l+e,i=ls(t);i.r=r["!row"];var s=t.read_shift(1),l=[i,s,"b"];if(r.cellFormula){t.l+=2;var u=Fm(t,n-t.l,r);l[3]=bu(u,null,i,r.supbooks,r)}else t.l=n;return l}function jX(t,e,r){var n=t.l+e,i=ls(t);i.r=r["!row"];var s=t.read_shift(1),l=[i,s,"e"];if(r.cellFormula){t.l+=2;var u=Fm(t,n-t.l,r);l[3]=bu(u,null,i,r.supbooks,r)}else t.l=n;return l}function PX(t,e,r){var n=t.l+e,i=ls(t);i.r=r["!row"];var s=Lu(t),l=[i,s,"n"];if(r.cellFormula){t.l+=2;var u=Fm(t,n-t.l,r);l[3]=bu(u,null,i,r.supbooks,r)}else t.l=n;return l}function RX(t,e,r){var n=t.l+e,i=ls(t);i.r=r["!row"];var s=Yn(t),l=[i,s,"str"];if(r.cellFormula){t.l+=2;var u=Fm(t,n-t.l,r);l[3]=bu(u,null,i,r.supbooks,r)}else t.l=n;return l}var DX=nc,OX=Fu;function FX(t,e){return e==null&&(e=ke(4)),e.write_shift(4,t),e}function LX(t,e){var r=t.l+e,n=nc(t),i=m2(t),s=Yn(t),l=Yn(t),u=Yn(t);t.l=r;var d={rfx:n,relId:i,loc:s,display:u};return l&&(d.Tooltip=l),d}function MX(t,e){var r=ke(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Fu({s:wn(t[0]),e:wn(t[0])},r),g2("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return _n(i||"",r),_n(t[1].Tooltip||"",r),_n("",r),r.slice(0,r.l)}function $X(){}function VX(t,e,r){var n=t.l+e,i=VA(t),s=t.read_shift(1),l=[i];if(l[2]=s,r.cellFormula){var u=AK(t,n-t.l,r);l[1]=u}else t.l=n;return l}function BX(t,e,r){var n=t.l+e,i=nc(t),s=[i];if(r.cellFormula){var l=IK(t,n-t.l,r);s[1]=l,t.l=n}else t.l=n;return s}function UX(t,e,r){r==null&&(r=ke(18));var n=Lm(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var E6=["left","right","top","bottom","header","footer"];function zX(t){var e={};return E6.forEach(function(r){e[r]=Lu(t)}),e}function HX(t,e){return e==null&&(e=ke(48)),w6(t),E6.forEach(function(r){Vl(t[r],e)}),e}function WX(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function qX(t,e,r){r==null&&(r=ke(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function GX(t){var e=ke(24);return e.write_shift(4,4),e.write_shift(4,1),Fu(t,e),e}function KX(t,e){return e==null&&(e=ke(66)),e.write_shift(2,t.password?i6(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function XX(){}function YX(){}function QX(t,e,r,n,i,s,l){if(e.v===void 0)return!1;var u="";switch(e.t){case"b":u=e.v?"1":"0";break;case"d":e=Ti(e),e.z=e.z||Gr[14],e.v=Ei(oi(e.v)),e.t="n";break;case"n":case"e":u=""+e.v;break;default:u=e.v;break}var d={r,c:n};switch(d.s=Jo(i.cellXfs,e,i),e.l&&s["!links"].push([fr(d),e.l]),e.c&&s["!comments"].push([fr(d),e.c]),e.t){case"s":case"str":return i.bookSST?(u=_2(i.Strings,e.v,i.revStrings),d.t="s",d.v=u,l?Oe(t,18,gX(e,d)):Oe(t,7,pX(e,d))):(d.t="str",l?Oe(t,17,CX(e,d)):Oe(t,6,SX(e,d))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?Oe(t,13,TX(e,d)):Oe(t,2,_X(e,d)):l?Oe(t,16,bX(e,d)):Oe(t,5,yX(e,d)),!0;case"b":return d.t="b",l?Oe(t,15,lX(e,d)):Oe(t,4,aX(e,d)),!0;case"e":return d.t="e",l?Oe(t,14,hX(e,d)):Oe(t,3,uX(e,d)),!0}return l?Oe(t,12,iX(e,d)):Oe(t,1,rX(e,d)),!0}function JX(t,e,r,n){var i=Ar(e["!ref"]||"A1"),s,l="",u=[];Oe(t,145);var d=Array.isArray(e),h=i.e.r;e["!rows"]&&(h=Math.max(i.e.r,e["!rows"].length-1));for(var p=i.s.r;p<=h;++p){l=Ln(p),XK(t,e,i,p);var g=!1;if(p<=i.e.r)for(var y=i.s.c;y<=i.e.c;++y){p===i.s.r&&(u[y]=Xn(y)),s=u[y]+l;var v=d?(e[p]||[])[y]:e[s];if(!v){g=!1;continue}g=QX(t,v,p,y,n,e,g)}}Oe(t,146)}function ZX(t,e){!e||!e["!merges"]||(Oe(t,177,FX(e["!merges"].length)),e["!merges"].forEach(function(r){Oe(t,176,OX(r))}),Oe(t,178))}function eY(t,e){!e||!e["!cols"]||(Oe(t,390),e["!cols"].forEach(function(r,n){r&&Oe(t,60,UX(n,r))}),Oe(t,391))}function tY(t,e){!e||!e["!ref"]||(Oe(t,648),Oe(t,649,GX(Ar(e["!ref"]))),Oe(t,650))}function rY(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=dr(r,-1,n[1].Target.replace(/#.*$/,""),ir.HLINK);Oe(t,494,MX(n,i))}}),delete e["!links"]}function nY(t,e,r,n){if(e["!comments"].length>0){var i=dr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",ir.VML);Oe(t,551,g2("rId"+i)),e["!legacy"]=i}}function iY(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:on(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,u=Hi(s);u.s.r==u.e.r&&(u.e.r=Hi(e["!ref"]).e.r,s=on(u));for(var d=0;d<l.length;++d){var h=l[d];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==n){h.Ref="'"+r.SheetNames[n]+"'!"+s;break}}d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Oe(t,161,Fu(Ar(s))),Oe(t,162)}}function sY(t,e,r){Oe(t,133),Oe(t,137,qX(e,r)),Oe(t,138),Oe(t,134)}function aY(t,e){e["!protect"]&&Oe(t,535,KX(e["!protect"]))}function oY(t,e,r,n){var i=_i(),s=r.SheetNames[t],l=r.Sheets[s]||{},u=s;try{r&&r.Workbook&&(u=r.Workbook.Sheets[t].CodeName||u)}catch{}var d=Ar(l["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Oe(i,129),(r.vbaraw||l["!outline"])&&Oe(i,147,eX(u,l["!outline"])),Oe(i,148,QK(d)),sY(i,l,r.Workbook),eY(i,l),JX(i,l,t,e),aY(i,l),iY(i,l,r,t),ZX(i,l),rY(i,l,n),l["!margins"]&&Oe(i,476,HX(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&tY(i,l),nY(i,l,t,n),Oe(i,130),i.end()}function lY(t,e){t.l+=10;var r=Yn(t);return{name:r}}var cY=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function uY(t){return!t.Workbook||!t.Workbook.WBProps?"false":BH(t.Workbook.WBProps.date1904)?"true":"false"}var dY="][*?/\\".split("");function T6(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return dY.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function hY(t,e,r){t.forEach(function(n,i){T6(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var l=e&&e[i]&&e[i].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function fY(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];hY(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)OK(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function k6(t){var e=[ln];e[e.length]=Qe("workbook",null,{xmlns:Du[0],"xmlns:r":bn.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(cY.forEach(function(u){t.Workbook.WBProps[u[0]]!=null&&t.Workbook.WBProps[u[0]]!=u[1]&&(n[u[0]]=t.Workbook.WBProps[u[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Qe("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var l={name:hr(t.SheetNames[s].slice(0,31))};if(l.sheetId=""+(s+1),l["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=Qe("sheet",null,l)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(u){var d={name:u.Name};u.Comment&&(d.comment=u.Comment),u.Sheet!=null&&(d.localSheetId=""+u.Sheet),u.Hidden&&(d.hidden="1"),u.Ref&&(e[e.length]=Qe("definedName",hr(u.Ref),d))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function pY(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Zy(t),r.name=Yn(t),r}function mY(t,e){return e||(e=ke(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),g2(t.strRelID,e),_n(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function gY(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Yn(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function xY(t,e){e||(e=ke(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),LA(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function yY(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=uW(t),l=CK(t,0,r),u=m2(t);t.l=n;var d={Name:s,Ptg:l};return i<268435455&&(d.Sheet=i),u&&(d.Comment=u),d}function vY(t,e){Oe(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Oe(t,156,mY(i))}Oe(t,144)}function bY(t,e){e||(e=ke(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return _n("SheetJS",e),_n(jp.version,e),_n(jp.version,e),_n("7262",e),e.length>e.l?e.slice(0,e.l):e}function wY(t,e){e||(e=ke(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function _Y(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(Oe(t,135),Oe(t,158,wY(i)),Oe(t,136))}}function EY(t,e){var r=_i();return Oe(r,131),Oe(r,128,bY()),Oe(r,153,xY(t.Workbook&&t.Workbook.WBProps||null)),_Y(r,t),vY(r,t),Oe(r,132),r.end()}function TY(t,e,r){return(e.slice(-4)===".bin"?EY:k6)(t)}function kY(t,e,r,n,i){return(e.slice(-4)===".bin"?oY:_6)(t,r,n,i)}function NY(t,e,r){return(e.slice(-4)===".bin"?Hq:o6)(t,r)}function SY(t,e,r){return(e.slice(-4)===".bin"?xq:n6)(t,r)}function AY(t,e,r){return(e.slice(-4)===".bin"?aG:h6)(t)}function CY(t){return(t.slice(-4)===".bin"?Jq:u6)()}function IY(t,e){var r=[];return t.Props&&r.push(NW(t.Props,e)),t.Custprops&&r.push(SW(t.Props,t.Custprops)),r.join("")}function jY(){return""}function PY(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(Qe("NumberFormat",null,{"ss:Format":hr(Gr[n.numFmtId])}));var l={"ss:ID":"s"+(21+i)};r.push(Qe("Style",s.join(""),l))}),Qe("Styles",r.join(""))}function N6(t){return Qe("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+b2(t.Ref,{r:0,c:0})})}function RY(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(N6(i)))}return Qe("Names",r.join(""))}function DY(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],l=0;l<i.length;++l){var u=i[l];u.Sheet==r&&(u.Name.match(/^_xlfn\./)||s.push(N6(u)))}return s.join("")}function OY(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Qe("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Qe("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Qe("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(Qe("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(On("ProtectContents","True")),t["!protect"].objects&&i.push(On("ProtectObjects","True")),t["!protect"].scenarios&&i.push(On("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(On("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(On("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){t["!protect"][l[0]]&&i.push("<"+l[1]+"/>")})),i.length==0?"":Qe("WorksheetOptions",i.join(""),{xmlns:Oi.x})}function FY(t){return t.map(function(e){var r=VH(e.t||""),n=Qe("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Qe("Comment",n,{"ss:Author":e.a})}).join("")}function LY(t,e,r,n,i,s,l){if(!t||t.v==null&&t.f==null)return"";var u={};if(t.f&&(u["ss:Formula"]="="+hr(b2(t.f,l))),t.F&&t.F.slice(0,e.length)==e){var d=wn(t.F.slice(e.length+1));u["ss:ArrayRange"]="RC:R"+(d.r==l.r?"":"["+(d.r-l.r)+"]")+"C"+(d.c==l.c?"":"["+(d.c-l.c)+"]")}if(t.l&&t.l.Target&&(u["ss:HRef"]=hr(t.l.Target),t.l.Tooltip&&(u["x:HRefScreenTip"]=hr(t.l.Tooltip))),r["!merges"])for(var h=r["!merges"],p=0;p!=h.length;++p)h[p].s.c!=l.c||h[p].s.r!=l.r||(h[p].e.c>h[p].s.c&&(u["ss:MergeAcross"]=h[p].e.c-h[p].s.c),h[p].e.r>h[p].s.r&&(u["ss:MergeDown"]=h[p].e.r-h[p].s.r));var g="",y="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":g="Number",y=String(t.v);break;case"b":g="Boolean",y=t.v?"1":"0";break;case"e":g="Error",y=G0[t.v];break;case"d":g="DateTime",y=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Gr[14]);break;case"s":g="String",y=$H(t.v||"");break}var v=Jo(n.cellXfs,t,n);u["ss:StyleID"]="s"+(21+v),u["ss:Index"]=l.c+1;var k=t.v!=null?y:"",w=t.t=="z"?"":'<Data ss:Type="'+g+'">'+k+"</Data>";return(t.c||[]).length>0&&(w+=FY(t.c)),Qe("Cell",w,u)}function MY(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=a6(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function $Y(t,e,r,n){if(!t["!ref"])return"";var i=Ar(t["!ref"]),s=t["!merges"]||[],l=0,u=[];t["!cols"]&&t["!cols"].forEach(function(E,O){y2(E);var M=!!E.width,V=Lm(O,E),j={"ss:Index":O+1};M&&(j["ss:Width"]=Bp(V.width)),E.hidden&&(j["ss:Hidden"]="1"),u.push(Qe("Column",null,j))});for(var d=Array.isArray(t),h=i.s.r;h<=i.e.r;++h){for(var p=[MY(h,(t["!rows"]||[])[h])],g=i.s.c;g<=i.e.c;++g){var y=!1;for(l=0;l!=s.length;++l)if(!(s[l].s.c>g)&&!(s[l].s.r>h)&&!(s[l].e.c<g)&&!(s[l].e.r<h)){(s[l].s.c!=g||s[l].s.r!=h)&&(y=!0);break}if(!y){var v={r:h,c:g},k=fr(v),w=d?(t[h]||[])[g]:t[k];p.push(LY(w,k,t,e,r,n,v))}}p.push("</Row>"),p.length>2&&u.push(p.join(""))}return u.join("")}function VY(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],l=s?DY(s,e,t,r):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=s?$Y(s,e,t,r):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(OY(s,e,t,r)),n.join("")}function BY(t,e){e||(e={}),t.SSF||(t.SSF=Ti(Gr)),t.SSF&&(Pm(),jm(t.SSF),e.revssf=Rm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Jo(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(IY(t,e)),r.push(jY()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(Qe("Worksheet",VY(n,e,t),{"ss:Name":hr(t.SheetNames[n])}));return r[2]=PY(t,e),r[3]=RY(t),ln+Qe("Workbook",r.join(""),{xmlns:Oi.ss,"xmlns:o":Oi.o,"xmlns:x":Oi.x,"xmlns:ss":Oi.ss,"xmlns:dt":Oi.dt,"xmlns:html":Oi.html})}var Qx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function UY(t,e){var r=[],n=[],i=[],s=0,l,u=fT(NT,"n"),d=fT(ST,"n");if(t.Props)for(l=$n(t.Props),s=0;s<l.length;++s)(Object.prototype.hasOwnProperty.call(u,l[s])?r:Object.prototype.hasOwnProperty.call(d,l[s])?n:i).push([l[s],t.Props[l[s]]]);if(t.Custprops)for(l=$n(t.Custprops),s=0;s<l.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},l[s])||(Object.prototype.hasOwnProperty.call(u,l[s])?r:Object.prototype.hasOwnProperty.call(d,l[s])?n:i).push([l[s],t.Custprops[l[s]]]);var h=[];for(s=0;s<i.length;++s)YA.indexOf(i[s][0])>-1||GA.indexOf(i[s][0])>-1||i[s][1]!=null&&h.push(i[s]);n.length&&mr.utils.cfb_add(e,"/SummaryInformation",PT(n,Qx.SI,d,ST)),(r.length||h.length)&&mr.utils.cfb_add(e,"/DocumentSummaryInformation",PT(r,Qx.DSI,u,NT,h.length?h:null,Qx.UDI))}function zY(t,e){var r=e||{},n=mr.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return mr.utils.cfb_add(n,i,S6(t,r)),r.biff==8&&(t.Props||t.Custprops)&&UY(t,n),r.biff==8&&t.vbaraw&&oG(n,mr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var HY={0:{f:GK},1:{f:tX},2:{f:wX},3:{f:cX},4:{f:sX},5:{f:xX},6:{f:NX},7:{f:fX},8:{f:RX},9:{f:PX},10:{f:IX},11:{f:jX},12:{f:nX},13:{f:EX},14:{f:dX},15:{f:oX},16:{f:vX},17:{f:AX},18:{f:mX},19:{f:p2},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:yY},40:{},42:{},43:{f:Nq},44:{f:Tq},45:{f:Cq},46:{f:jq},47:{f:Iq},48:{},49:{f:nW},50:{},51:{f:Gq},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:iq},62:{f:kX},63:{f:Zq},64:{f:XX},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:la,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:WX},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:ZK},148:{f:YK,p:16},151:{f:$X},152:{},153:{f:gY},154:{},155:{},156:{f:pY},157:{},158:{},159:{T:1,f:pq},160:{T:-1},161:{T:1,f:nc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:DX},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Wq},336:{T:-1},337:{f:Yq,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Zy},357:{},358:{},359:{},360:{T:1},361:{},362:{f:JW},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:VX},427:{f:BX},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:zX},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:JK},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:LX},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Zy},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:iG},633:{T:1},634:{T:-1},635:{T:1,f:rG},636:{T:-1},637:{f:oW},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:lY},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:YX},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Je(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,l=t.next(4);l.write_shift(2,i),l.write_shift(2,s),s>0&&d2(r)&&t.push(r)}}function WY(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return Je(t,e,r,i);var s=e;if(!isNaN(s)){for(var l=r.parts||[],u=0,d=0,h=0;h+(l[u]||8224)<=8224;)h+=l[u]||8224,u++;var p=t.next(4);for(p.write_shift(2,s),p.write_shift(2,h),t.push(r.slice(d,d+h)),d+=h;d<i;){for(p=t.next(4),p.write_shift(2,60),h=0;h+(l[u]||8224)<=8224;)h+=l[u]||8224,u++;p.write_shift(2,h),t.push(r.slice(d,d+h)),d+=h}}}function X0(t,e,r){return t||(t=ke(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function qY(t,e,r,n){var i=ke(9);return X0(i,t,e),JA(r,n||"b",i),i}function GY(t,e,r){var n=ke(8+2*r.length);return X0(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function KY(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Ei(oi(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Je(t,2,lq(r,n,i)):Je(t,3,oq(r,n,i));return;case"b":case"e":Je(t,5,qY(r,n,e.v,e.t));return;case"s":case"str":Je(t,4,GY(r,n,(e.v||"").slice(0,255)));return}Je(t,1,X0(null,r,n))}function XY(t,e,r,n){var i=Array.isArray(e),s=Ar(e["!ref"]||"A1"),l,u="",d=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),l=on(s)}for(var h=s.s.r;h<=s.e.r;++h){u=Ln(h);for(var p=s.s.c;p<=s.e.c;++p){h===s.s.r&&(d[p]=Xn(p)),l=d[p]+u;var g=i?(e[h]||[])[p]:e[l];g&&KY(t,g,h,p)}}}function YY(t,e){for(var r=e||{},n=_i(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Je(n,r.biff==4?1033:r.biff==3?521:9,x2(t,16,r)),XY(n,t.Sheets[t.SheetNames[i]],i,r),Je(n,10),n.end()}function QY(t,e,r){Je(t,49,HW({sz:12,name:"Arial"},r))}function JY(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Je(t,1054,GW(i,e[i],r))})}function ZY(t,e){var r=ke(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Je(t,2151,r),r=ke(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),t6(Ar(e["!ref"]||"A1"),r),r.write_shift(4,4),Je(t,2152,r)}function eQ(t,e){for(var r=0;r<16;++r)Je(t,224,DT({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Je(t,224,DT(n,0,e))})}function tQ(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];Je(t,440,tq(n)),n[1].Tooltip&&Je(t,2048,rq(n))}delete e["!links"]}function rQ(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&Je(t,125,sq(Lm(i,n),i))})}}function nQ(t,e,r,n,i){var s=16+Jo(i.cellXfs,e,i);if(e.v==null&&!e.bf){Je(t,513,Bl(r,n,s));return}if(e.bf)Je(t,6,SK(e,r,n,i,s));else switch(e.t){case"d":case"n":var l=e.t=="d"?Ei(oi(e.v)):e.v;Je(t,515,QW(r,n,l,s));break;case"b":case"e":Je(t,517,YW(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var u=_2(i.Strings,e.v,i.revStrings);Je(t,253,WW(r,n,u,s))}else Je(t,516,qW(r,n,(e.v||"").slice(0,255),s,i));break;default:Je(t,513,Bl(r,n,s))}}function iQ(t,e,r){var n=_i(),i=r.SheetNames[t],s=r.Sheets[i]||{},l=(r||{}).Workbook||{},u=(l.Sheets||[])[t]||{},d=Array.isArray(s),h=e.biff==8,p,g="",y=[],v=Ar(s["!ref"]||"A1"),k=h?65536:16384;if(v.e.c>255||v.e.r>=k){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,k-1)}Je(n,2057,x2(r,16,e)),Je(n,13,rs(1)),Je(n,12,rs(100)),Je(n,15,ni(!0)),Je(n,17,ni(!1)),Je(n,16,Vl(.001)),Je(n,95,ni(!0)),Je(n,42,ni(!1)),Je(n,43,ni(!1)),Je(n,130,rs(1)),Je(n,128,XW()),Je(n,131,ni(!1)),Je(n,132,ni(!1)),h&&rQ(n,s["!cols"]),Je(n,512,KW(v,e)),h&&(s["!links"]=[]);for(var w=v.s.r;w<=v.e.r;++w){g=Ln(w);for(var E=v.s.c;E<=v.e.c;++E){w===v.s.r&&(y[E]=Xn(E)),p=y[E]+g;var O=d?(s[w]||[])[E]:s[p];O&&(nQ(n,O,w,E,e),h&&O.l&&s["!links"].push([p,O.l]))}}var M=u.CodeName||u.name||i;return h&&Je(n,574,zW((l.Views||[])[0])),h&&(s["!merges"]||[]).length&&Je(n,229,eq(s["!merges"])),h&&tQ(n,s),Je(n,442,e6(M)),h&&ZY(n,s),Je(n,10),n.end()}function sQ(t,e,r){var n=_i(),i=(t||{}).Workbook||{},s=i.Sheets||[],l=i.WBProps||{},u=r.biff==8,d=r.biff==5;if(Je(n,2057,x2(t,5,r)),r.bookType=="xla"&&Je(n,135),Je(n,225,u?rs(1200):null),Je(n,193,IW(2)),d&&Je(n,191),d&&Je(n,192),Je(n,226),Je(n,92,$W("SheetJS",r)),Je(n,66,rs(u?1200:1252)),u&&Je(n,353,rs(0)),u&&Je(n,448),Je(n,317,aq(t.SheetNames.length)),u&&t.vbaraw&&Je(n,211),u&&t.vbaraw){var h=l.CodeName||"ThisWorkbook";Je(n,442,e6(h))}Je(n,156,rs(17)),Je(n,25,ni(!1)),Je(n,18,ni(!1)),Je(n,19,rs(0)),u&&Je(n,431,ni(!1)),u&&Je(n,444,rs(0)),Je(n,61,UW()),Je(n,64,ni(!1)),Je(n,141,rs(0)),Je(n,34,ni(uY(t)=="true")),Je(n,14,ni(!0)),u&&Je(n,439,ni(!1)),Je(n,218,rs(0)),QY(n,t,r),JY(n,t.SSF,r),eQ(n,r),u&&Je(n,352,ni(!1));var p=n.end(),g=_i();u&&Je(g,140,nq()),u&&r.Strings&&WY(g,252,BW(r.Strings)),Je(g,10);var y=g.end(),v=_i(),k=0,w=0;for(w=0;w<t.SheetNames.length;++w)k+=(u?12:11)+(u?2:1)*t.SheetNames[w].length;var E=p.length+k+y.length;for(w=0;w<t.SheetNames.length;++w){var O=s[w]||{};Je(v,133,VW({pos:E,hs:O.Hidden||0,dt:0,name:t.SheetNames[w]},r)),E+=e[w].length}var M=v.end();if(k!=M.length)throw new Error("BS8 "+k+" != "+M.length);var V=[];return p.length&&V.push(p),M.length&&V.push(M),y.length&&V.push(y),Dn(V)}function aQ(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Ti(Gr)),t&&t.SSF&&(Pm(),jm(t.SSF),r.revssf=Rm(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,E2(r),r.cellXfs=[],Jo(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=iQ(i,r,t);return n.unshift(sQ(t,n,r)),Dn(n)}function S6(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Hi(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return aQ(t,e);case 4:case 3:case 2:return YY(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function oQ(t,e,r,n){for(var i=t["!merges"]||[],s=[],l=e.s.c;l<=e.e.c;++l){for(var u=0,d=0,h=0;h<i.length;++h)if(!(i[h].s.r>r||i[h].s.c>l)&&!(i[h].e.r<r||i[h].e.c<l)){if(i[h].s.r<r||i[h].s.c<l){u=-1;break}u=i[h].e.r-i[h].s.r+1,d=i[h].e.c-i[h].s.c+1;break}if(!(u<0)){var p=fr({r,c:l}),g=n.dense?(t[r]||[])[l]:t[p],y=g&&g.v!=null&&(g.h||MH(g.w||(za(g),g.w)||""))||"",v={};u>1&&(v.rowspan=u),d>1&&(v.colspan=d),n.editable?y='<span contenteditable="true">'+y+"</span>":g&&(v["data-t"]=g&&g.t||"z",g.v!=null&&(v["data-v"]=g.v),g.z!=null&&(v["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+g.l.Target+'">'+y+"</a>")),v.id=(n.id||"sjs")+"-"+p,s.push(Qe("td",y,v))}}var k="<tr>";return k+s.join("")+"</tr>"}var lQ='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',cQ="</body></html>";function uQ(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function A6(t,e){var r=e||{},n=r.header!=null?r.header:lQ,i=r.footer!=null?r.footer:cQ,s=[n],l=Hi(t["!ref"]);r.dense=Array.isArray(t),s.push(uQ(t,l,r));for(var u=l.s.r;u<=l.e.r;++u)s.push(oQ(t,l,u,r));return s.push("</table>"+i),s.join("")}function C6(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?wn(n.origin):n.origin;i=l.r,s=l.c}var u=e.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,u.length),h={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var p=Hi(t["!ref"]);h.s.r=Math.min(h.s.r,p.s.r),h.s.c=Math.min(h.s.c,p.s.c),h.e.r=Math.max(h.e.r,p.e.r),h.e.c=Math.max(h.e.c,p.e.c),i==-1&&(h.e.r=i=p.e.r+1)}var g=[],y=0,v=t["!rows"]||(t["!rows"]=[]),k=0,w=0,E=0,O=0,M=0,V=0;for(t["!cols"]||(t["!cols"]=[]);k<u.length&&w<d;++k){var j=u[k];if(BT(j)){if(n.display)continue;v[w]={hidden:!0}}var X=j.children;for(E=O=0;E<X.length;++E){var U=X[E];if(!(n.display&&BT(U))){var A=U.hasAttribute("data-v")?U.getAttribute("data-v"):U.hasAttribute("v")?U.getAttribute("v"):UH(U.innerHTML),S=U.getAttribute("data-z")||U.getAttribute("z");for(y=0;y<g.length;++y){var C=g[y];C.s.c==O+s&&C.s.r<w+i&&w+i<=C.e.r&&(O=C.e.c+1-s,y=-1)}V=+U.getAttribute("colspan")||1,((M=+U.getAttribute("rowspan")||1)>1||V>1)&&g.push({s:{r:w+i,c:O+s},e:{r:w+i+(M||1)-1,c:O+s+(V||1)-1}});var P={t:"s",v:A},D=U.getAttribute("data-t")||U.getAttribute("t")||"";A!=null&&(A.length==0?P.t=D||"z":n.raw||A.trim().length==0||D=="s"||(A==="TRUE"?P={t:"b",v:!0}:A==="FALSE"?P={t:"b",v:!1}:isNaN(Ra(A))?isNaN(g0(A).getDate())||(P={t:"d",v:oi(A)},n.cellDates||(P={t:"n",v:Ei(P.v)}),P.z=n.dateNF||Gr[14]):P={t:"n",v:Ra(A)})),P.z===void 0&&S!=null&&(P.z=S);var z="",B=U.getElementsByTagName("A");if(B&&B.length)for(var Ee=0;Ee<B.length&&!(B[Ee].hasAttribute("href")&&(z=B[Ee].getAttribute("href"),z.charAt(0)!="#"));++Ee);z&&z.charAt(0)!="#"&&(P.l={Target:z}),n.dense?(t[w+i]||(t[w+i]=[]),t[w+i][O+s]=P):t[fr({c:O+s,r:w+i})]=P,h.e.c<O+s&&(h.e.c=O+s),O+=V}}++w}return g.length&&(t["!merges"]=(t["!merges"]||[]).concat(g)),h.e.r=Math.max(h.e.r,w-1+i),t["!ref"]=on(h),w>=d&&(t["!fullref"]=on((h.e.r=u.length-k+w-1+i,h))),t}function I6(t,e){var r=e||{},n=r.dense?[]:{};return C6(n,t,e)}function dQ(t,e){return Zl(I6(t,e),e)}function BT(t){var e="",r=hQ(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function hQ(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var fQ=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+y0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return ln+e}})(),UT=(function(){var t=function(s){return hr(s).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,l,u){var d=[];d.push('      <table:table table:name="'+hr(l.SheetNames[u])+`" table:style-name="ta1">
`);var h=0,p=0,g=Hi(s["!ref"]||"A1"),y=s["!merges"]||[],v=0,k=Array.isArray(s);if(s["!cols"])for(p=0;p<=g.e.c;++p)d.push("        <table:table-column"+(s["!cols"][p]?' table:style-name="co'+s["!cols"][p].ods+'"':"")+`></table:table-column>
`);var w="",E=s["!rows"]||[];for(h=0;h<g.s.r;++h)w=E[h]?' table:style-name="ro'+E[h].ods+'"':"",d.push("        <table:table-row"+w+`></table:table-row>
`);for(;h<=g.e.r;++h){for(w=E[h]?' table:style-name="ro'+E[h].ods+'"':"",d.push("        <table:table-row"+w+`>
`),p=0;p<g.s.c;++p)d.push(e);for(;p<=g.e.c;++p){var O=!1,M={},V="";for(v=0;v!=y.length;++v)if(!(y[v].s.c>p)&&!(y[v].s.r>h)&&!(y[v].e.c<p)&&!(y[v].e.r<h)){(y[v].s.c!=p||y[v].s.r!=h)&&(O=!0),M["table:number-columns-spanned"]=y[v].e.c-y[v].s.c+1,M["table:number-rows-spanned"]=y[v].e.r-y[v].s.r+1;break}if(O){d.push(r);continue}var j=fr({r:h,c:p}),X=k?(s[h]||[])[p]:s[j];if(X&&X.f&&(M["table:formula"]=hr(RK(X.f)),X.F&&X.F.slice(0,j.length)==j)){var U=Hi(X.F);M["table:number-matrix-columns-spanned"]=U.e.c-U.s.c+1,M["table:number-matrix-rows-spanned"]=U.e.r-U.s.r+1}if(!X){d.push(e);continue}switch(X.t){case"b":V=X.v?"TRUE":"FALSE",M["office:value-type"]="boolean",M["office:boolean-value"]=X.v?"true":"false";break;case"n":V=X.w||String(X.v||0),M["office:value-type"]="float",M["office:value"]=X.v||0;break;case"s":case"str":V=X.v==null?"":X.v,M["office:value-type"]="string";break;case"d":V=X.w||oi(X.v).toISOString(),M["office:value-type"]="date",M["office:date-value"]=oi(X.v).toISOString(),M["table:style-name"]="ce1";break;default:d.push(e);continue}var A=t(V);if(X.l&&X.l.Target){var S=X.l.Target;S=S.charAt(0)=="#"?"#"+DK(S.slice(1)):S,S.charAt(0)!="#"&&!S.match(/^\w+:/)&&(S="../"+S),A=Qe("text:a",A,{"xlink:href":S.replace(/&/g,"&amp;")})}d.push("          "+Qe("table:table-cell",Qe("text:p",A,{}),M)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},i=function(s,l){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var u=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var p=0;p<h["!cols"].length;++p)if(h["!cols"][p]){var g=h["!cols"][p];if(g.width==null&&g.wpx==null&&g.wch==null)continue;y2(g),g.ods=u;var y=h["!cols"][p].wpx+"px";s.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),s.push(`  </style:style>
`),++u}}});var d=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var p=0;p<h["!rows"].length;++p)if(h["!rows"][p]){h["!rows"][p].ods=d;var g=h["!rows"][p].hpx+"px";s.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),s.push(`  </style:style>
`),++d}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(l,u){var d=[ln],h=y0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=y0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(d.push("<office:document"+h+p+`>
`),d.push(WA().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+h+`>
`),i(d,l),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var g=0;g!=l.SheetNames.length;++g)d.push(n(l.Sheets[l.SheetNames[g]],l,g));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),u.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}})();function j6(t,e){if(e.bookType=="fods")return UT(t,e);var r=o2(),n="",i=[],s=[];return n="mimetype",$t(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",$t(r,n,UT(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",$t(r,n,fQ(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",$t(r,n,ln+WA()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",$t(r,n,kW(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",$t(r,n,EW(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Hp(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function pQ(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Ts(x0(t))}function mQ(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Wo(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function gQ(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function v0(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function ur(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function au(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function hn(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=v0(t,r),s=i&7;i=Math.floor(i/8);var l=0,u;if(i==0)break;switch(s){case 0:{for(var d=r[0];t[r[0]++]>=128;);u=t.slice(d,r[0])}break;case 5:l=4,u=t.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,u=t.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=v0(t,r),u=t.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var h={data:u,type:s};e[i]==null?e[i]=[h]:e[i].push(h)}return e}function An(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(ur(n*8+i.type)),i.type==2&&e.push(ur(i.data.length)),e.push(i.data))})}),Wo(e)}function ws(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=v0(t,n),s=hn(t.slice(n[0],n[0]+i));n[0]+=i;var l={id:au(s[1][0].data),messages:[]};s[2].forEach(function(u){var d=hn(u.data),h=au(d[3][0].data);l.messages.push({meta:d,data:t.slice(n[0],n[0]+h)}),n[0]+=h}),(e=s[3])!=null&&e[0]&&(l.merge=au(s[3][0].data)>>>0>0),r.push(l)}return r}function Mc(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:ur(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:ur(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(l){i.push(l.data),l.meta[3]=[{type:0,data:ur(l.data.length)}],n[2].push({data:An(l.meta),type:2})});var s=An(n);e.push(ur(s.length)),e.push(s),i.forEach(function(l){return e.push(l)})}),Wo(e)}function xQ(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=v0(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var l=e[r[0]++]>>2;if(l<60)++l;else{var u=l-59;l=e[r[0]],u>1&&(l|=e[r[0]+1]<<8),u>2&&(l|=e[r[0]+2]<<16),u>3&&(l|=e[r[0]+3]<<24),l>>>=0,l++,r[0]+=u}i.push(e.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var d=0,h=0;if(s==1?(h=(e[r[0]]>>2&7)+4,d=(e[r[0]++]&224)<<3,d|=e[r[0]++]):(h=(e[r[0]++]>>2)+1,s==2?(d=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(d=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Wo(i)],d==0)throw new Error("Invalid offset 0");if(d>i[0].length)throw new Error("Invalid offset beyond length");if(h>=d)for(i.push(i[0].slice(-d)),h-=d;h>=i[i.length-1].length;)i.push(i[i.length-1]),h-=i[i.length-1].length;i.push(i[0].slice(-d,-d+h))}}var p=Wo(i);if(p.length!=n)throw new Error("Unexpected length: ".concat(p.length," != ").concat(n));return p}function _s(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(xQ(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Wo(e)}function $c(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=ur(n),l=s.length;e.push(s),n<=60?(l++,e.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),l+=n,i[0]=0,i[1]=l&255,i[2]=l>>8&255,i[3]=l>>16&255,r+=n}return Wo(e)}function Jx(t,e){var r=new Uint8Array(32),n=Hp(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,gQ(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function Zx(t,e){var r=new Uint8Array(32),n=Hp(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function yo(t){var e=hn(t);return v0(e[1][0].data)}function yQ(t,e,r){var n,i,s,l;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var u=((l=(s=t[8])==null?void 0:s[0])==null?void 0:l.data)&&au(t[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var d=0,h=Hp(t[7][0].data),p=0,g=[],y=Hp(t[4][0].data),v=0,k=[],w=0;w<e.length;++w){if(e[w]==null){h.setUint16(w*2,65535,!0),y.setUint16(w*2,65535);continue}h.setUint16(w*2,p,!0),y.setUint16(w*2,v,!0);var E,O;switch(typeof e[w]){case"string":E=Jx({t:"s",v:e[w]},r),O=Zx({t:"s",v:e[w]},r);break;case"number":E=Jx({t:"n",v:e[w]},r),O=Zx({t:"n",v:e[w]},r);break;case"boolean":E=Jx({t:"b",v:e[w]},r),O=Zx({t:"b",v:e[w]},r);break;default:throw new Error("Unsupported value "+e[w])}g.push(E),p+=E.length,k.push(O),v+=O.length,++d}for(t[2][0].data=ur(d);w<t[7][0].data.length/2;++w)h.setUint16(w*2,65535,!0),y.setUint16(w*2,65535,!0);return t[6][0].data=Wo(g),t[3][0].data=Wo(k),d}function vQ(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Hi(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(on(n)));var s=Wp(r,{range:n,header:1}),l=["~Sh33tJ5~"];s.forEach(function(K){return K.forEach(function(Q){typeof Q=="string"&&l.push(Q)})});var u={},d=[],h=mr.read(e.numbers,{type:"base64"});h.FileIndex.map(function(K,Q){return[K,h.FullPaths[Q]]}).forEach(function(K){var Q=K[0],ee=K[1];if(Q.type==2&&Q.name.match(/\.iwa/)){var se=Q.content,Ce=_s(se),De=ws(Ce);De.forEach(function(Se){d.push(Se.id),u[Se.id]={deps:[],location:ee,type:au(Se.messages[0].meta[1][0].data)}})}}),d.sort(function(K,Q){return K-Q});var p=d.filter(function(K){return K>1}).map(function(K){return[K,ur(K)]});h.FileIndex.map(function(K,Q){return[K,h.FullPaths[Q]]}).forEach(function(K){var Q=K[0];if(K[1],!!Q.name.match(/\.iwa/)){var ee=ws(_s(Q.content));ee.forEach(function(se){se.messages.forEach(function(Ce){p.forEach(function(De){se.messages.some(function(Se){return au(Se.meta[1][0].data)!=11006&&mQ(Se.data,De[1])})&&u[De[0]].deps.push(se.id)})})})}});for(var g=mr.find(h,u[1].location),y=ws(_s(g.content)),v,k=0;k<y.length;++k){var w=y[k];w.id==1&&(v=w)}var E=yo(hn(v.messages[0].data)[1][0].data);for(g=mr.find(h,u[E].location),y=ws(_s(g.content)),k=0;k<y.length;++k)w=y[k],w.id==E&&(v=w);for(E=yo(hn(v.messages[0].data)[2][0].data),g=mr.find(h,u[E].location),y=ws(_s(g.content)),k=0;k<y.length;++k)w=y[k],w.id==E&&(v=w);for(E=yo(hn(v.messages[0].data)[2][0].data),g=mr.find(h,u[E].location),y=ws(_s(g.content)),k=0;k<y.length;++k)w=y[k],w.id==E&&(v=w);var O=hn(v.messages[0].data);{O[6][0].data=ur(n.e.r+1),O[7][0].data=ur(n.e.c+1);var M=yo(O[46][0].data),V=mr.find(h,u[M].location),j=ws(_s(V.content));{for(var X=0;X<j.length&&j[X].id!=M;++X);if(j[X].id!=M)throw"Bad ColumnRowUIDMapArchive";var U=hn(j[X].messages[0].data);U[1]=[],U[2]=[],U[3]=[];for(var A=0;A<=n.e.c;++A){var S=[];S[1]=S[2]=[{type:0,data:ur(A+420690)}],U[1].push({type:2,data:An(S)}),U[2].push({type:0,data:ur(A)}),U[3].push({type:0,data:ur(A)})}U[4]=[],U[5]=[],U[6]=[];for(var C=0;C<=n.e.r;++C)S=[],S[1]=S[2]=[{type:0,data:ur(C+726270)}],U[4].push({type:2,data:An(S)}),U[5].push({type:0,data:ur(C)}),U[6].push({type:0,data:ur(C)});j[X].messages[0].data=An(U)}V.content=$c(Mc(j)),V.size=V.content.length,delete O[46];var P=hn(O[4][0].data);{P[7][0].data=ur(n.e.r+1);var D=hn(P[1][0].data),z=yo(D[2][0].data);V=mr.find(h,u[z].location),j=ws(_s(V.content));{if(j[0].id!=z)throw"Bad HeaderStorageBucket";var B=hn(j[0].messages[0].data);for(C=0;C<s.length;++C){var Ee=hn(B[2][0].data);Ee[1][0].data=ur(C),Ee[4][0].data=ur(s[C].length),B[2][C]={type:B[2][0].type,data:An(Ee)}}j[0].messages[0].data=An(B)}V.content=$c(Mc(j)),V.size=V.content.length;var Re=yo(P[2][0].data);V=mr.find(h,u[Re].location),j=ws(_s(V.content));{if(j[0].id!=Re)throw"Bad HeaderStorageBucket";for(B=hn(j[0].messages[0].data),A=0;A<=n.e.c;++A)Ee=hn(B[2][0].data),Ee[1][0].data=ur(A),Ee[4][0].data=ur(n.e.r+1),B[2][A]={type:B[2][0].type,data:An(Ee)};j[0].messages[0].data=An(B)}V.content=$c(Mc(j)),V.size=V.content.length;var Be=yo(P[4][0].data);(function(){for(var K=mr.find(h,u[Be].location),Q=ws(_s(K.content)),ee,se=0;se<Q.length;++se){var Ce=Q[se];Ce.id==Be&&(ee=Ce)}var De=hn(ee.messages[0].data);{De[3]=[];var Se=[];l.forEach(function(ht,yt){Se[1]=[{type:0,data:ur(yt)}],Se[2]=[{type:0,data:ur(1)}],Se[3]=[{type:2,data:pQ(ht)}],De[3].push({type:2,data:An(Se)})})}ee.messages[0].data=An(De);var ue=Mc(Q),nt=$c(ue);K.content=nt,K.size=K.content.length})();var Fe=hn(P[3][0].data);{var ve=Fe[1][0];delete Fe[2];var ie=hn(ve.data);{var me=yo(ie[2][0].data);(function(){for(var K=mr.find(h,u[me].location),Q=ws(_s(K.content)),ee,se=0;se<Q.length;++se){var Ce=Q[se];Ce.id==me&&(ee=Ce)}var De=hn(ee.messages[0].data);{delete De[6],delete Fe[7];var Se=new Uint8Array(De[5][0].data);De[5]=[];for(var ue=0,nt=0;nt<=n.e.r;++nt){var ht=hn(Se);ue+=yQ(ht,s[nt],l),ht[1][0].data=ur(nt),De[5].push({data:An(ht),type:2})}De[1]=[{type:0,data:ur(n.e.c+1)}],De[2]=[{type:0,data:ur(n.e.r+1)}],De[3]=[{type:0,data:ur(ue)}],De[4]=[{type:0,data:ur(n.e.r+1)}]}ee.messages[0].data=An(De);var yt=Mc(Q),wt=$c(yt);K.content=wt,K.size=K.content.length})()}ve.data=An(ie)}P[3][0].data=An(Fe)}O[4][0].data=An(P)}v.messages[0].data=An(O);var re=Mc(y),R=$c(re);return g.content=R,g.size=g.content.length,h}function bQ(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function E2(t){bQ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function wQ(t,e){return e.bookType=="ods"?j6(t,e):e.bookType=="numbers"?vQ(t,e):e.bookType=="xlsb"?_Q(t,e):EQ(t,e)}function _Q(t,e){Jc=1024,t&&!t.SSF&&(t.SSF=Ti(Gr)),t&&t.SSF&&(Pm(),jm(t.SSF),e.revssf=Rm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,qd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=f6.indexOf(e.bookType)>-1,i=UA();E2(e=e||{});var s=o2(),l="",u=0;if(e.cellXfs=[],Jo(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",$t(s,l,qA(t.Props,e)),i.coreprops.push(l),dr(e.rels,2,l,ir.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}for(t.Props.Worksheets=t.Props.SheetNames.length,$t(s,l,KA(t.Props)),i.extprops.push(l),dr(e.rels,3,l,ir.EXT_PROPS),t.Custprops!==t.Props&&$n(t.Custprops||{}).length>0&&(l="docProps/custom.xml",$t(s,l,XA(t.Custprops)),i.custprops.push(l),dr(e.rels,4,l,ir.CUST_PROPS)),u=1;u<=t.SheetNames.length;++u){var p={"!id":{}},g=t.Sheets[t.SheetNames[u-1]],y=(g||{})["!type"]||"sheet";switch(y){case"chart":default:l="xl/worksheets/sheet"+u+"."+r,$t(s,l,kY(u-1,l,e,t,p)),i.sheets.push(l),dr(e.wbrels,-1,"worksheets/sheet"+u+"."+r,ir.WS[0])}if(g){var v=g["!comments"],k=!1,w="";v&&v.length>0&&(w="xl/comments"+u+"."+r,$t(s,w,AY(v,w)),i.comments.push(w),dr(p,-1,"../comments"+u+"."+r,ir.CMNT),k=!0),g["!legacy"]&&k&&$t(s,"xl/drawings/vmlDrawing"+u+".vml",d6(u,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&$t(s,HA(l),iu(p))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+r,$t(s,l,SY(e.Strings,l,e)),i.strs.push(l),dr(e.wbrels,-1,"sharedStrings."+r,ir.SST)),l="xl/workbook."+r,$t(s,l,TY(t,l)),i.workbooks.push(l),dr(e.rels,1,l,ir.WB),l="xl/theme/theme1.xml",$t(s,l,c6(t.Themes,e)),i.themes.push(l),dr(e.wbrels,-1,"theme/theme1.xml",ir.THEME),l="xl/styles."+r,$t(s,l,NY(t,l,e)),i.styles.push(l),dr(e.wbrels,-1,"styles."+r,ir.STY),t.vbaraw&&n&&(l="xl/vbaProject.bin",$t(s,l,t.vbaraw),i.vba.push(l),dr(e.wbrels,-1,"vbaProject.bin",ir.VBA)),l="xl/metadata."+r,$t(s,l,CY(l)),i.metadata.push(l),dr(e.wbrels,-1,"metadata."+r,ir.XLMETA),$t(s,"[Content_Types].xml",zA(i,e)),$t(s,"_rels/.rels",iu(e.rels)),$t(s,"xl/_rels/workbook."+r+".rels",iu(e.wbrels)),delete e.revssf,delete e.ssf,s}function EQ(t,e){Jc=1024,t&&!t.SSF&&(t.SSF=Ti(Gr)),t&&t.SSF&&(Pm(),jm(t.SSF),e.revssf=Rm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,qd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=f6.indexOf(e.bookType)>-1,i=UA();E2(e=e||{});var s=o2(),l="",u=0;if(e.cellXfs=[],Jo(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",$t(s,l,qA(t.Props,e)),i.coreprops.push(l),dr(e.rels,2,l,ir.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}t.Props.Worksheets=t.Props.SheetNames.length,$t(s,l,KA(t.Props)),i.extprops.push(l),dr(e.rels,3,l,ir.EXT_PROPS),t.Custprops!==t.Props&&$n(t.Custprops||{}).length>0&&(l="docProps/custom.xml",$t(s,l,XA(t.Custprops)),i.custprops.push(l),dr(e.rels,4,l,ir.CUST_PROPS));var p=["SheetJ5"];for(e.tcid=0,u=1;u<=t.SheetNames.length;++u){var g={"!id":{}},y=t.Sheets[t.SheetNames[u-1]],v=(y||{})["!type"]||"sheet";switch(v){case"chart":default:l="xl/worksheets/sheet"+u+"."+r,$t(s,l,_6(u-1,e,t,g)),i.sheets.push(l),dr(e.wbrels,-1,"worksheets/sheet"+u+"."+r,ir.WS[0])}if(y){var k=y["!comments"],w=!1,E="";if(k&&k.length>0){var O=!1;k.forEach(function(M){M[1].forEach(function(V){V.T==!0&&(O=!0)})}),O&&(E="xl/threadedComments/threadedComment"+u+"."+r,$t(s,E,eG(k,p,e)),i.threadedcomments.push(E),dr(g,-1,"../threadedComments/threadedComment"+u+"."+r,ir.TCMNT)),E="xl/comments"+u+"."+r,$t(s,E,h6(k)),i.comments.push(E),dr(g,-1,"../comments"+u+"."+r,ir.CMNT),w=!0}y["!legacy"]&&w&&$t(s,"xl/drawings/vmlDrawing"+u+".vml",d6(u,y["!comments"])),delete y["!comments"],delete y["!legacy"]}g["!id"].rId1&&$t(s,HA(l),iu(g))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+r,$t(s,l,n6(e.Strings,e)),i.strs.push(l),dr(e.wbrels,-1,"sharedStrings."+r,ir.SST)),l="xl/workbook."+r,$t(s,l,k6(t)),i.workbooks.push(l),dr(e.rels,1,l,ir.WB),l="xl/theme/theme1.xml",$t(s,l,c6(t.Themes,e)),i.themes.push(l),dr(e.wbrels,-1,"theme/theme1.xml",ir.THEME),l="xl/styles."+r,$t(s,l,o6(t,e)),i.styles.push(l),dr(e.wbrels,-1,"styles."+r,ir.STY),t.vbaraw&&n&&(l="xl/vbaProject.bin",$t(s,l,t.vbaraw),i.vba.push(l),dr(e.wbrels,-1,"vbaProject.bin",ir.VBA)),l="xl/metadata."+r,$t(s,l,u6()),i.metadata.push(l),dr(e.wbrels,-1,"metadata."+r,ir.XLMETA),p.length>1&&(l="xl/persons/person.xml",$t(s,l,tG(p)),i.people.push(l),dr(e.wbrels,-1,"persons/person.xml",ir.PEOPLE)),$t(s,"[Content_Types].xml",zA(i,e)),$t(s,"_rels/.rels",iu(e.rels)),$t(s,"xl/_rels/workbook."+r+".rels",iu(e.wbrels)),delete e.revssf,delete e.ssf,s}function TQ(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Ua(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function P6(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return W0(e.file,mr.write(t,{type:sr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return mr.write(t,e)}function kQ(t,e){var r=Ti(e||{}),n=wQ(t,r);return NQ(n,r)}function NQ(t,e){var r={},n=sr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?mr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Im(i))}return e.password&&typeof encrypt_agile<"u"?P6(encrypt_agile(i,e.password),e):e.type==="file"?W0(e.file,i):e.type=="string"?Ud(i):i}function SQ(t,e){var r=e||{},n=zY(t,r);return P6(n,r)}function Ks(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return m0(x0(n));case"binary":return x0(n);case"string":return t;case"file":return W0(e.file,n,"utf8");case"buffer":return sr?qa(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ks(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function AQ(t,e){switch(e.type){case"base64":return m0(t);case"binary":return t;case"string":return t;case"file":return W0(e.file,t,"binary");case"buffer":return sr?qa(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Nf(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?m0(r):e.type=="string"?Ud(r):r;case"file":return W0(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function R6(t,e){rH(),fY(t);var r=Ti(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=R6(t,r);return r.type="array",Im(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ks(BY(t,r),r);case"slk":case"sylk":return Ks(uq.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return Ks(A6(t.Sheets[t.SheetNames[i]],r),r);case"txt":return AQ(D6(t.Sheets[t.SheetNames[i]],r),r);case"csv":return Ks(T2(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return Ks(dq.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return Nf(cq.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return Ks(hq.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return Ks(vq.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return Ks(r6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return Ks(j6(t,r),r);case"wk1":return Nf(OT.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return Nf(OT.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Nf(S6(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),SQ(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return kQ(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function CQ(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function Mm(t,e,r){var n={};return n.type="file",n.file=e,CQ(n),R6(t,n)}function IQ(t,e,r,n,i,s,l,u){var d=Ln(r),h=u.defval,p=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),g=!0,y=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:r,enumerable:!1})}catch{y.__rowNum__=r}else y.__rowNum__=r;if(!l||t[r])for(var v=e.s.c;v<=e.e.c;++v){var k=l?t[r][v]:t[n[v]+d];if(k===void 0||k.t===void 0){if(h===void 0)continue;s[v]!=null&&(y[s[v]]=h);continue}var w=k.v;switch(k.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+k.t)}if(s[v]!=null){if(w==null)if(k.t=="e"&&w===null)y[s[v]]=null;else if(h!==void 0)y[s[v]]=h;else if(p&&w===null)y[s[v]]=null;else continue;else y[s[v]]=p&&(k.t!=="n"||k.t==="n"&&u.rawNumbers!==!1)?w:za(k,w,u);w!=null&&(g=!1)}}return{row:y,isempty:g}}function Wp(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],l=0,u="",d={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},p=h.range!=null?h.range:t["!ref"];switch(h.header===1?n=1:h.header==="A"?n=2:Array.isArray(h.header)?n=3:h.header==null&&(n=0),typeof p){case"string":d=Ar(p);break;case"number":d=Ar(t["!ref"]),d.s.r=p;break;default:d=p}n>0&&(i=0);var g=Ln(d.s.r),y=[],v=[],k=0,w=0,E=Array.isArray(t),O=d.s.r,M=0,V={};E&&!t[O]&&(t[O]=[]);var j=h.skipHidden&&t["!cols"]||[],X=h.skipHidden&&t["!rows"]||[];for(M=d.s.c;M<=d.e.c;++M)if(!(j[M]||{}).hidden)switch(y[M]=Xn(M),r=E?t[O][M]:t[y[M]+g],n){case 1:s[M]=M-d.s.c;break;case 2:s[M]=y[M];break;case 3:s[M]=h.header[M-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),u=l=za(r,null,h),w=V[l]||0,!w)V[l]=1;else{do u=l+"_"+w++;while(V[u]);V[l]=w,V[u]=1}s[M]=u}for(O=d.s.r+i;O<=d.e.r;++O)if(!(X[O]||{}).hidden){var U=IQ(t,d,O,y,n,s,E,h);(U.isempty===!1||(n===1?h.blankrows!==!1:h.blankrows))&&(v[k++]=U.row)}return v.length=k,v}var zT=/"/g;function jQ(t,e,r,n,i,s,l,u){for(var d=!0,h=[],p="",g=Ln(r),y=e.s.c;y<=e.e.c;++y)if(n[y]){var v=u.dense?(t[r]||[])[y]:t[n[y]+g];if(v==null)p="";else if(v.v!=null){d=!1,p=""+(u.rawNumbers&&v.t=="n"?v.v:za(v,null,u));for(var k=0,w=0;k!==p.length;++k)if((w=p.charCodeAt(k))===i||w===s||w===34||u.forceQuotes){p='"'+p.replace(zT,'""')+'"';break}p=="ID"&&(p='"ID"')}else v.f!=null&&!v.F?(d=!1,p="="+v.f,p.indexOf(",")>=0&&(p='"'+p.replace(zT,'""')+'"')):p="";h.push(p)}return u.blankrows===!1&&d?null:h.join(l)}function T2(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=Ar(t["!ref"]),s=n.FS!==void 0?n.FS:",",l=s.charCodeAt(0),u=n.RS!==void 0?n.RS:`
`,d=u.charCodeAt(0),h=new RegExp((s=="|"?"\\|":s)+"+$"),p="",g=[];n.dense=Array.isArray(t);for(var y=n.skipHidden&&t["!cols"]||[],v=n.skipHidden&&t["!rows"]||[],k=i.s.c;k<=i.e.c;++k)(y[k]||{}).hidden||(g[k]=Xn(k));for(var w=0,E=i.s.r;E<=i.e.r;++E)(v[E]||{}).hidden||(p=jQ(t,i,E,g,l,d,s,n),p!=null&&(n.strip&&(p=p.replace(h,"")),(p||n.blankrows!==!1)&&r.push((w++?u:"")+p)));return delete n.dense,r.join("")}function D6(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=T2(t,e);return r}function PQ(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=Ar(t["!ref"]),s="",l=[],u,d=[],h=Array.isArray(t);for(u=i.s.c;u<=i.e.c;++u)l[u]=Xn(u);for(var p=i.s.r;p<=i.e.r;++p)for(s=Ln(p),u=i.s.c;u<=i.e.c;++u)if(e=l[u]+s,r=h?(t[p]||[])[u]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}d[d.length]=e+"="+n}return d}function O6(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},l=0,u=0;if(s&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var d=typeof n.origin=="string"?wn(n.origin):n.origin;l=d.r,u=d.c}var h,p={s:{c:0,r:0},e:{c:u,r:l+e.length-1+i}};if(s["!ref"]){var g=Ar(s["!ref"]);p.e.c=Math.max(p.e.c,g.e.c),p.e.r=Math.max(p.e.r,g.e.r),l==-1&&(l=g.e.r+1,p.e.r=l+e.length-1+i)}else l==-1&&(l=0,p.e.r=e.length-1+i);var y=n.header||[],v=0;e.forEach(function(w,E){$n(w).forEach(function(O){(v=y.indexOf(O))==-1&&(y[v=y.length]=O);var M=w[O],V="z",j="",X=fr({c:u+v,r:l+E+i});h=b0(s,X),M&&typeof M=="object"&&!(M instanceof Date)?s[X]=M:(typeof M=="number"?V="n":typeof M=="boolean"?V="b":typeof M=="string"?V="s":M instanceof Date?(V="d",n.cellDates||(V="n",M=Ei(M)),j=n.dateNF||Gr[14]):M===null&&n.nullError&&(V="e",M=0),h?(h.t=V,h.v=M,delete h.w,delete h.R,j&&(h.z=j)):s[X]=h={t:V,v:M},j&&(h.z=j))})}),p.e.c=Math.max(p.e.c,u+y.length-1);var k=Ln(l);if(i)for(v=0;v<y.length;++v)s[Xn(v+u)+k]={t:"s",v:y[v]};return s["!ref"]=on(p),s}function RQ(t,e){return O6(null,t,e)}function b0(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=wn(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?b0(t,fr(e)):b0(t,fr({r:e,c:r||0}))}function DQ(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function OQ(){return{SheetNames:[],Sheets:{}}}function FQ(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var l=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=l+i)!=-1;++i);}if(T6(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function LQ(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=DQ(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function MQ(t,e){return t.z=e,t}function F6(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function $Q(t,e,r){return F6(t,"#"+e,r)}function VQ(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function BQ(t,e,r,n){for(var i=typeof e!="string"?e:Ar(e),s=typeof e=="string"?e:on(e),l=i.s.r;l<=i.e.r;++l)for(var u=i.s.c;u<=i.e.c;++u){var d=b0(t,l,u);d.t="n",d.F=s,delete d.v,l==i.s.r&&u==i.s.c&&(d.f=r,n&&(d.D=!0))}return t}var ss={encode_col:Xn,encode_row:Ln,encode_cell:fr,encode_range:on,decode_col:f2,decode_row:h2,split_cell:rW,decode_cell:wn,decode_range:Hi,format_cell:za,sheet_add_aoa:FA,sheet_add_json:O6,sheet_add_dom:C6,aoa_to_sheet:Ou,json_to_sheet:RQ,table_to_sheet:I6,table_to_book:dQ,sheet_to_csv:T2,sheet_to_txt:D6,sheet_to_json:Wp,sheet_to_html:A6,sheet_to_formulae:PQ,sheet_to_row_object_array:Wp,sheet_get_cell:b0,book_new:OQ,book_append_sheet:FQ,book_set_sheet_visibility:LQ,cell_set_number_format:MQ,cell_set_hyperlink:F6,cell_set_internal_link:$Q,cell_add_comment:VQ,sheet_set_array_formula:BQ,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const L6=({orders:t,setOrders:e,fetchOrders:r,searchQuery:n,setSearchQuery:i,formatDate:s,handleRenewal:l,actionLoading:u,balance:d,theme:h="dark"})=>{const[p,g]=N.useState(!1),[y,v]=N.useState(null),[k,w]=N.useState(""),[E,O]=N.useState(!1),[M,V]=N.useState({key:null,direction:"asc"}),j=h==="dark",X={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},U={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:j?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},A={hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.25,ease:"easeOut"}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.15}}},S={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.15}}},C=N.useMemo(()=>{let ie=[...t].filter(me=>(me.productName||"").toLowerCase().includes(n.toLowerCase())||(me.orderId||"").toLowerCase().includes(n.toLowerCase()));return M.key&&ie.sort((me,re)=>{let R=me[M.key]||"",K=re[M.key]||"";return typeof R=="string"&&(R=R.toLowerCase()),typeof K=="string"&&(K=K.toLowerCase()),R<K?M.direction==="asc"?-1:1:R>K?M.direction==="asc"?1:-1:0}),ie},[t,n,M]),P=ie=>{const me={netflix:{bg:j?"bg-red-900/30":"bg-red-100",text:j?"text-red-300":"text-red-800"},disney:{bg:j?"bg-blue-900/30":"bg-blue-100",text:j?"text-blue-300":"text-blue-800"},max:{bg:j?"bg-yellow-900/30":"bg-yellow-100",text:j?"text-yellow-300":"text-yellow-800"},spotify:{bg:j?"bg-green-900/30":"bg-green-100",text:j?"text-green-300":"text-green-800"},default:{bg:j?"bg-gray-900/30":"bg-gray-100",text:j?"text-gray-300":"text-gray-700"}};return me[ie?.toLowerCase()]||me.default},D=ie=>({netflix:"Netflix",disney:"Disney+",max:"Max",spotify:"Spotify"})[ie?.toLowerCase()]||ie||"N/A",z=(ie,me)=>{const re=ie.status||"pending",R=new Date(ie.endDate)>new Date;let K,Q,ee;return re==="soporte"?(K="En soporte",Q=me?"text-blue-400":"text-blue-600",ee=a.jsx(Ia,{className:Q,title:"En Soporte"})):re==="rechazado"?(K="No aplica soporte",Q=me?"text-amber-700":"text-amber-900",ee=a.jsx(is,{className:Q,title:"No aplica soporte"})):re==="pending"?(K="Pendiente a activacion",Q=me?"text-yellow-400":"text-yellow-600",ee=a.jsx(Ru,{className:Q,title:"Pendiente a activacion"})):R?(K="Activo",Q=me?"text-green-400":"text-green-600",ee=a.jsx(vu,{className:Q,title:"Activo"})):(K="Expirado",Q=me?"text-red-400":"text-red-600",ee=a.jsx(is,{className:Q,title:"Expirado"})),{text:K,color:Q,icon:ee}},B=ie=>{V(me=>({key:ie,direction:me.key===ie&&me.direction==="asc"?"desc":"asc"}))},Ee=ie=>M.key!==ie?null:M.direction==="asc"?a.jsx(Am,{className:"ml-1"}):a.jsx(Sm,{className:"ml-1"}),Re=()=>{const ie=C.map(K=>{const Q=parseFloat(K.price)||0,ee=parseFloat(K.renewalPrice)||Q,se=K.status||"pending",Ce=se==="pending",De=se==="soporte",Se=se==="rechazado",ue=new Date(K.endDate)>new Date,nt=Math.max(0,K.daysRemaining||0);let ht;De?ht="En soporte":Se?ht="No aplica soporte":Ce?ht="Pendiente a activacion":ue?ht="Activo":ht="Expirado";const yt=De||Se||Ce;let wt;return yt?wt=ht:wt=`${nt} da${nt===1?"":"s"}`,{Estado:ht,Producto:K.productName||"Sin nombre",Categora:D(K.category),"N Pedido":K.orderId||"N/A",Precio:`S/ ${Q.toFixed(2)}`,"Precio Renovacin":ee!==Q?`S/ ${ee.toFixed(2)}`:"N/A","Tiempo Restante":wt,"Fecha de Inicio":s(K.startDate),"Fecha de Vencimiento":s(K.endDate),Email:K.account?.email||"N/A",Contrasea:K.account?.password||"N/A",Perfil:K.account?.profile||"N/A",PIN:K.account?.pin||"N/A",Proveedor:K.provider||"N/A",Nombre:K.client?.customerName||"N/A","Telfono Cliente":K.client?.phone||"N/A"}}),me=ss.json_to_sheet(ie),re=ss.book_new();ss.book_append_sheet(re,me,"Pedidos");const R=new Date().toISOString().slice(0,10).replace(/-/g,"");Mm(re,`mis_pedidos_export_${R}.xlsx`)},Be=ie=>{v(ie),w(""),g(!0)},Fe=()=>{g(!1),v(null),w(""),O(!1)},ve=async()=>{if(!k.trim()){alert("El mensaje es obligatorio.");return}if(!y||!y.id){alert("Error: No se encontr el ID del pedido.");return}O(!0);try{await aa(_t(qe,"sales",y.id),{status:"soporte",soporteMessage:k,soporteCreatedAt:new Date},{merge:!0}),console.log(`Documento actualizado exitosamente para order ID: ${y.id}`),typeof e=="function"&&e(ie=>{const me=ie.map(R=>String(R.id)===String(y.id)?{...R,status:"soporte",soporteMessage:k,soporteCreatedAt:new Date}:R);console.log("Orders actualizados localmente:",me);const re=me.find(R=>String(R.id)===String(y.id));return console.log(`Mensaje agregado localmente para ${y.id}:`,re?.soporteMessage),me}),typeof r=="function"&&setTimeout(async()=>{await r()},500),alert(`Soporte enviado para "${y.productName}". El pedido ahora est en estado "En soporte".`)}catch(ie){console.error("Error detallado en sendSupport:",ie),alert("Hubo un error al enviar a soporte. Verifica la consola del navegador para ms detalles. Asegrate de que el ID del pedido sea correcto y que tengas permisos en Firebase.")}finally{O(!1)}Fe()};return a.jsxs(ne.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-7xl mx-auto border ${j?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:X,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"orders-title",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[a.jsxs("h3",{id:"orders-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${j?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[a.jsx(ja,{className:"mr-2"})," Mis Pedidos",a.jsx("span",{className:`ml-2 bg-gradient-to-r ${j?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:C.length})]}),a.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[a.jsxs("div",{className:"relative flex-1 lg:w-80",children:[a.jsx("input",{type:"text",placeholder:"Buscar pedidos por nombre o ID...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${j?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:n,onChange:ie=>i(ie.target.value),"aria-label":"Buscar pedidos por nombre o ID"}),a.jsx(ja,{className:`absolute left-3 top-3.5 ${j?"text-gray-400":"text-gray-500"}`,size:18})]}),a.jsxs(ne.button,{onClick:Re,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${j?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos como Excel","aria-label":"Exportar pedidos a Excel",children:[a.jsx(Cm,{size:18}),a.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),a.jsx(Ht,{children:C.length>0?a.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:a.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:a.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${j?"bg-gray-800/50":"bg-white/50"}`,children:[a.jsx("thead",{className:`${j?"bg-gray-700/60":"bg-gray-50/60"}`,children:a.jsx("tr",{children:[{key:"status",label:"Estado"},{key:"productName",label:"Producto"},{key:"category",label:"Categora"},{key:"orderId",label:"N Pedido"},{key:"price",label:"Precio"},{key:"daysRemaining",label:"Tiempo Restante"},{key:"startDate",label:"Inicio"},{key:"endDate",label:"Vencimiento"},{key:"email",label:"Email"},{key:"password",label:"Contrasea"},{key:"profile",label:"Perfil"},{key:"pin",label:"PIN"},{key:"provider",label:"Proveedor"},{key:"customerName",label:"Nombre Cliente"},{key:"phone",label:"Telfono Cliente"},{label:"Acciones"}].map(({key:ie,label:me})=>a.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${j?"text-gray-300":"text-gray-700"} cursor-pointer hover:text-blue-400 transition-colors`,onClick:()=>ie&&B(ie),children:a.jsxs("div",{className:"flex items-center justify-between",children:[me,ie&&Ee(ie)]})},ie||me))})}),a.jsx("tbody",{className:"divide-y divide-gray-200/30",children:C.map(ie=>{const me=parseFloat(ie.price)||0,re=parseFloat(ie.renewalPrice)||me,R=ie.status||"pending",K=R==="pending",Q=R==="soporte",ee=R==="rechazado",se=new Date(ie.endDate)>new Date,Ce=Math.max(0,ie.daysRemaining||0),De=Math.min(ie.timeElapsedPercentage||0,100),Se=z(ie,j),ue=P(ie.category);let nt;De<70?nt=j?"bg-green-500":"bg-green-600":De<90?nt=j?"bg-orange-500":"bg-orange-600":nt=j?"bg-red-500":"bg-red-600";const ht=!["En soporte","No aplica soporte","Pendiente a activacion"].includes(Se.text),wt=Q||ee||K?Se.text:`${Ce} da${Ce===1?"":"s"}`,pr=ht?nt.replace("bg-","text-"):Se.color,Nt=Se.text,Ge=encodeURIComponent(`*Consulta sobre Pedido - ${ie.productName||"Sin nombre"}*

*N Pedido:* ${ie.orderId||"No especificado"}
*Producto:* ${ie.productName||"Sin nombre"}
*Precio:* S/ ${me.toFixed(2)}
`+(re?`*Precio de Renovacin:* S/ ${re.toFixed(2)}
`:"")+`*Estado:* ${Nt}
*Fecha de Inicio:* ${s(ie.startDate)}
*Fecha de Vencimiento:* ${s(ie.endDate)}
`+(K?`Hola , he comprado un producto a pedido (${ie.productName}). En cuntos das estar listo? Por favor, indqueme los detalles para coordinar.`:"Por favor indqueme cmo puedo resolver mi consulta sobre este pedido.")),Xt=!(K||Q||ee),Ct=K?`*Nota:* Este pedido est "A pedido". El proveedor se contactar contigo para coordinar los detalles.

`:Q?`*Nota:* Este pedido est "En Soporte". El proveedor lo est revisando.

`:ee?`*Nota:* Este pedido ha sido rechazado. No aplica soporte.

`:"",er=encodeURIComponent(` Estimado/a ${ie.client?.customerName||"Cliente"} 

Le enviamos la informacin de su suscripcin a nuestro servicio de streaming:
 Tipo: ${ie.productName||"Sin nombre"}.
 Cdigo: ${ie.orderId||"No especificado"}
`+(Xt?` Correo: ${ie.account?.email||"No especificado"}
 Contrasea: ${ie.account?.password||"No especificado"}
 Perfil: ${ie.account?.profile||"No especificado"}
 PIN: ${ie.account?.pin||"No especificado"}
`:"")+` URL: Sin URL
 Fecha de creacin: ${s(ie.startDate)}
 Fecha de vencimiento: ${s(ie.endDate)}
 Das contratados: ${ie.durationDays||30} das.

`+Ct+`*Trminos y Condiciones:*
${ie.termsAndConditions||"No se especificaron trminos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),le=ie.providerPhone?ie.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999",et=ie.client?.phone?ie.client.phone.replace(/^\+/,"").replace(/\D/g,""):"51999999999";return a.jsxs(ne.tr,{className:`transition-colors duration-200 ${j?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:U,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${ie.id}-title`,children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`p-1.5 rounded-full ${Se.color.replace("text-","bg-").replace("-600","/20").replace("-400","/20")}`,children:Se.icon}),a.jsx("span",{className:`${Se.color} font-medium`,children:Se.text})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("h4",{id:`order-${ie.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:ie.productName||"Sin nombre"})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ue.bg} ${ue.text}`,children:D(ie.category)})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:ie.orderId||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"font-bold text-lg",children:["S/ ",me.toFixed(2)]}),re!==me&&a.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 bg-gray-100/50 dark:bg-gray-800/50 px-2 py-1 rounded-full",children:[a.jsx(K5,{size:12,className:"text-gray-400"}),a.jsxs("span",{children:["S/ ",re.toFixed(2)]})]})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[ht&&a.jsx("div",{className:"relative",children:a.jsx("div",{className:`w-20 h-2 rounded-full overflow-hidden ${j?"bg-gray-600/40":"bg-gray-300/40"}`,children:a.jsx(ne.div,{className:`h-2 rounded-full ${nt}`,initial:{width:0},animate:{width:`${De}%`},transition:{duration:1.5,ease:"easeInOut"}})})}),a.jsx("span",{className:`text-sm font-medium ${pr}`,children:wt})]})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:s(ie.startDate)}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:s(ie.endDate)}),a.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:ie.account?.email||"N/A",children:ie.account?.email||"N/A"}),a.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:ie.account?.password||"N/A",children:ie.account?.password||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:ie.account?.profile||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-mono",children:ie.account?.pin||"N/A"}),a.jsx("td",{className:"px-4 py-4 text-sm font-medium text-teal-600",children:ie.provider||"N/A"}),a.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:ie.client?.customerName||"N/A",children:ie.client?.customerName||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:ie.client?.phone||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:["soporte","rechazado"].includes(R)?a.jsx("div",{className:"flex gap-2",children:a.jsx("span",{className:"text-gray-400 text-xs",children:"Sin acciones"})}):a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne.a,{href:`https://wa.me/51${le}?text=${Ge}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar proveedor","aria-label":`Contactar proveedor para el pedido ${ie.orderId||ie.productName}`,children:a.jsx(Wr,{size:16})}),se&&ie.renewable&&a.jsx(ne.button,{onClick:()=>l(ie),disabled:u[`renew_${ie.id}`]||d<re,className:`p-2.5 rounded-xl shadow-md flex items-center justify-center ${u[`renew_${ie.id}`]||d<re?"bg-gray-300/50 text-gray-500 cursor-not-allowed":"bg-blue-500/80 hover:bg-blue-600/90 text-white"} transition-all duration-200`,whileHover:{scale:u[`renew_${ie.id}`]||d<re?1:1.1},whileTap:{scale:u[`renew_${ie.id}`]||d<re?1:.9},title:"Renovar pedido","aria-label":`Renovar pedido ${ie.orderId||ie.productName} por S/ ${re.toFixed(2)}`,children:u[`renew_${ie.id}`]?a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):a.jsx(G5,{size:16})}),a.jsx(ne.a,{href:`https://wa.me/51${et}?text=${er}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-amber-500/80 hover:bg-amber-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar cliente","aria-label":`Contactar cliente para el pedido ${ie.orderId||ie.productName}`,children:a.jsx(Wr,{size:16})}),a.jsx(ne.button,{onClick:()=>Be(ie),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-purple-500/80 hover:bg-purple-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Soporte","aria-label":`Abrir soporte para el pedido ${ie.orderId||ie.productName}`,children:a.jsx(Ia,{size:16})})]})})]},ie.id)})})]})})}):a.jsxs(ne.div,{className:"text-center py-16",variants:X,initial:"hidden",animate:"visible",children:[a.jsx(ne.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:a.jsx(ja,{className:`mx-auto text-6xl ${j?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),a.jsx("h4",{className:`text-xl font-semibold ${j?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos encontrados"}),a.jsx("p",{className:`text-sm ${j?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu bsqueda o realiza tu primer pedido."})]})}),a.jsx(Ht,{children:p&&y&&a.jsxs(a.Fragment,{children:[a.jsx(ne.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",variants:S,initial:"hidden",animate:"visible",exit:"exit",onClick:Fe}),a.jsxs(ne.div,{className:`relative w-full max-w-md p-6 rounded-3xl shadow-2xl border z-[10000] ${j?"bg-gray-800/95 border-gray-700/50 text-white":"bg-white/95 border-gray-200/50 text-gray-900"}`,variants:A,initial:"hidden",animate:"visible",exit:"exit",onClick:ie=>ie.stopPropagation(),children:[a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx(ne.button,{onClick:Fe,className:`p-2 rounded-full ${j?"bg-gray-700/50 hover:bg-gray-600/50":"bg-gray-200/50 hover:bg-gray-300/50"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(is,{size:18,className:j?"text-gray-300":"text-gray-600"})})}),a.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[a.jsx(Ia,{className:"text-purple-500"}),"Soporte para: ",y.productName||"Sin nombre"]}),a.jsx("textarea",{value:k,onChange:ie=>w(ie.target.value),placeholder:"Escribe tu mensaje de soporte detallado (obligatorio)...",className:`w-full p-4 rounded-2xl resize-none transition-all duration-200 ${j?"bg-gray-700/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-purple-500/50":"bg-gray-100/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-purple-500/50"} focus:ring-2 focus:ring-purple-500/30 focus:outline-none`,rows:5,required:!0,disabled:E}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx(ne.button,{onClick:Fe,className:`px-6 py-2.5 rounded-xl font-medium transition-all duration-200 ${j?"bg-gray-600/70 hover:bg-gray-700/80 text-white":"bg-gray-300/70 hover:bg-gray-400/80 text-gray-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},disabled:E,children:"Cancelar"}),a.jsx(ne.button,{onClick:ve,className:`px-6 py-2.5 rounded-xl font-medium flex items-center gap-2 transition-all duration-200 ${!k.trim()||E?"bg-gray-400/70 cursor-not-allowed text-gray-500":"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white"}`,whileHover:!k.trim()||E?{}:{scale:1.05},whileTap:!k.trim()||E?{}:{scale:.95},disabled:!k.trim()||E,children:E?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}),"Enviando..."]}):"Enviar Soporte"})]})]})]})})]})};L6.propTypes={orders:q.arrayOf(q.shape({id:q.string.isRequired,productName:q.string,category:q.string,orderId:q.string,price:q.oneOfType([q.string,q.number]),renewalPrice:q.oneOfType([q.string,q.number]),status:q.string,startDate:q.oneOfType([q.string,q.instanceOf(Date)]),endDate:q.oneOfType([q.string,q.instanceOf(Date)]),daysRemaining:q.number,timeElapsedPercentage:q.number,account:q.shape({email:q.string,password:q.string,profile:q.string,pin:q.string}),client:q.shape({customerName:q.string,phone:q.string}),provider:q.string,providerPhone:q.string,renewable:q.bool,termsAndConditions:q.string,durationDays:q.number,soporteMessage:q.string,soporteCreatedAt:q.oneOfType([q.string,q.instanceOf(Date)])})).isRequired,setOrders:q.func.isRequired,fetchOrders:q.func,searchQuery:q.string.isRequired,setSearchQuery:q.func.isRequired,formatDate:q.func.isRequired,handleRenewal:q.func.isRequired,actionLoading:q.object.isRequired,balance:q.number.isRequired,theme:q.oneOf(["light","dark"]).isRequired};const M6=({userName:t,email:e,actionLoading:r,handleUpdatePassword:n,openEditProfileModal:i,handleLogout:s,theme:l="dark"})=>{const u=l==="dark",d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},p={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}};return a.jsxs(ne.div,{className:`p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"settings-title",children:[a.jsx(ne.h3,{id:"settings-title",className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:"Configuracin"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:h,whileHover:"hover",children:[a.jsxs("h4",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-blue-400":"text-blue-600"}`,children:[a.jsx(Bi,{size:20}),"Perfil"]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl ${u?"bg-gray-800/30":"bg-gray-100"}`,children:[a.jsx(Bi,{className:"text-blue-400 flex-shrink-0",size:20}),a.jsxs("div",{children:[a.jsx("span",{className:`font-medium ${u?"text-white":"text-gray-900"}`,children:"Nombre:"}),a.jsx("span",{className:`ml-2 ${u?"text-gray-300":"text-gray-700"}`,children:t.username})]})]}),a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl ${u?"bg-gray-800/30":"bg-gray-100"}`,children:[a.jsx(n2,{className:"text-blue-400 flex-shrink-0",size:20}),a.jsxs("div",{children:[a.jsx("span",{className:`font-medium ${u?"text-white":"text-gray-900"}`,children:"Correo:"}),a.jsx("span",{className:`ml-2 ${u?"text-gray-300":"text-gray-700"}`,children:e})]})]}),a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl ${u?"bg-gray-800/30":"bg-gray-100"}`,children:[a.jsx(Ap,{className:"text-blue-400 flex-shrink-0",size:20}),a.jsxs("div",{children:[a.jsx("span",{className:`font-medium ${u?"text-white":"text-gray-900"}`,children:"Telfono:"}),a.jsx("span",{className:`ml-2 ${u?"text-gray-300":"text-gray-700"}`,children:t.phone||"No especificado"})]})]})]}),a.jsxs(ne.button,{onClick:()=>i({id:t.id,username:t.username,phone:t.phone}),className:`w-full px-6 py-3 rounded-xl font-semibold transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white focus:ring-blue-400":"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white focus:ring-blue-500"}`,variants:p,whileHover:"hover",whileTap:"tap","aria-label":"Editar perfil",children:[a.jsx(zz,{size:18,className:"inline mr-2"}),"Editar Perfil"]})]}),a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:h,whileHover:"hover",children:[a.jsxs("h4",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-green-400":"text-green-600"}`,children:[a.jsx(Np,{size:20}),"Seguridad"]}),a.jsxs("form",{onSubmit:n,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Nueva Contrasea"}),a.jsx("input",{type:"password",name:"password",className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all duration-300`,placeholder:"Ingrese nueva contrasea (mnimo 6 caracteres)","aria-label":"Nueva contrasea"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Nuevo Telfono"}),a.jsx("input",{type:"tel",name:"phone",className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all duration-300`,placeholder:"Ingrese nuevo telfono (ej: +51 940 505 969)",defaultValue:t.phone||"","aria-label":"Nuevo telfono"})]}),a.jsx(ne.button,{type:"submit",disabled:r.password,className:`w-full py-3 px-6 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${r.password?"bg-gray-300 text-gray-500 cursor-not-allowed":u?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-400":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-500"}`,variants:p,whileHover:r.password?{}:"hover",whileTap:r.password?{}:"tap","aria-label":"Guardar cambios de seguridad",children:r.password?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}),a.jsx("span",{children:"Guardando..."})]}):"Guardar Cambios"})]})]}),a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:h,whileHover:"hover",children:[a.jsxs("h4",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-red-400":"text-red-600"}`,children:[a.jsx(Sp,{size:20}),"Sesin"]}),a.jsxs(ne.button,{onClick:s,className:`w-full py-3 px-6 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${u?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-400":"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-500"}`,variants:p,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar sesin",children:[a.jsx(Sp,{size:18}),"Cerrar Sesin"]})]})]})]})};M6.propTypes={userName:q.shape({id:q.string.isRequired,username:q.string.isRequired,phone:q.string}).isRequired,email:q.string.isRequired,actionLoading:q.shape({password:q.bool}).isRequired,handleUpdatePassword:q.func.isRequired,openEditProfileModal:q.func.isRequired,handleLogout:q.func.isRequired,theme:q.oneOf(["light","dark"]).isRequired};const $6=({orders:t=[],setOrders:e=()=>{},fetchOrders:r,searchQuery:n="",setSearchQuery:i=()=>{},formatDate:s=p=>p?new Date(p).toLocaleDateString("es-PE"):"",handleRenewal:l=()=>{},actionLoading:u={},balance:d=0,theme:h="dark"})=>{const[p,g]=N.useState({key:null,direction:"asc"}),y=h==="dark",v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},k={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:y?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},w=N.useMemo(()=>{let A=[...t.filter(S=>S.status==="soporte")].filter(S=>(S.productName||"").toLowerCase().includes(n.toLowerCase())||(S.orderId||"").toLowerCase().includes(n.toLowerCase()));return p.key&&A.sort((S,C)=>{let P=S[p.key]||"",D=C[p.key]||"";return p.key==="soporteMessage"?(P=S.soporteMessage||"",D=C.soporteMessage||""):p.key==="category"&&(P=O(S.category),D=O(C.category)),typeof P=="string"&&(P=P.toLowerCase()),typeof D=="string"&&(D=D.toLowerCase()),P<D?p.direction==="asc"?-1:1:P>D?p.direction==="asc"?1:-1:0}),A},[t,n,p]),E=U=>{const A={netflix:{bg:y?"bg-red-900/30":"bg-red-100",text:y?"text-red-300":"text-red-800"},disney:{bg:y?"bg-blue-900/30":"bg-blue-100",text:y?"text-blue-300":"text-blue-800"},max:{bg:y?"bg-yellow-900/30":"bg-yellow-100",text:y?"text-yellow-300":"text-yellow-800"},spotify:{bg:y?"bg-green-900/30":"bg-green-100",text:y?"text-green-300":"text-green-800"},default:{bg:y?"bg-gray-900/30":"bg-gray-100",text:y?"text-gray-300":"text-gray-700"}};return A[U?.toLowerCase()]||A.default},O=U=>({netflix:"Netflix",disney:"Disney+",max:"Max",spotify:"Spotify"})[U?.toLowerCase()]||U||"N/A",M=(U,A)=>{const S=U.status||"pending",C=new Date(U.endDate)>new Date;let P,D,z;return S==="soporte"?(P="En soporte",D=A?"text-blue-400":"text-blue-600",z=a.jsx(Ia,{className:D,title:"En Soporte"})):S==="rechazado"?(P="No aplica soporte",D=A?"text-amber-700":"text-amber-900",z=a.jsx(is,{className:D,title:"No aplica soporte"})):C?(P="Activo",D=A?"text-green-400":"text-green-600",z=a.jsx(vu,{className:D,title:"Activo"})):S==="pending"?(P="Pendiente a activacion",D=A?"text-yellow-400":"text-yellow-600",z=a.jsx(Ru,{className:D,title:"Pendiente a activacion"})):(P="Expirado",D=A?"text-red-400":"text-red-600",z=a.jsx(is,{className:D,title:"Expirado"})),{text:P,color:D,icon:z}},V=U=>{g(A=>({key:U,direction:A.key===U&&A.direction==="asc"?"desc":"asc"}))},j=U=>p.key!==U?null:p.direction==="asc"?a.jsx(Am,{className:"ml-1"}):a.jsx(Sm,{className:"ml-1"}),X=()=>{const U=w.map(P=>{const D=parseFloat(P.price)||0,z=parseFloat(P.renewalPrice)||D,B=P.status||"pending",Ee=B==="pending",Re=B==="soporte",Be=B==="rechazado",Fe=new Date(P.endDate)>new Date,ve=Math.max(0,P.daysRemaining||0);let ie;Re?ie="En Soporte":Be?ie="No aplica soporte":Fe?ie="Activo":Ee?ie="Pendiente a activacion":ie="Expirado";const me=Re||Be||Ee&&!Fe;let re;return me?re=ie:re=`${ve} da${ve===1?"":"s"}`,{Estado:ie,Producto:P.productName||"Sin nombre",Categora:O(P.category),"N Pedido":P.orderId||"N/A",Precio:`S/ ${D.toFixed(2)}`,"Precio Renovacin":z!==D?`S/ ${z.toFixed(2)}`:"N/A","Tiempo Restante":re,"Fecha de Inicio":s(P.startDate),"Fecha de Vencimiento":s(P.endDate),Email:P.account?.email||"N/A",Contrasea:P.account?.password||"N/A",Perfil:P.account?.profile||"N/A",PIN:P.account?.pin||"N/A",Proveedor:P.provider||"N/A","Mensaje de Soporte":P.soporteMessage||"Sin mensaje"}}),A=ss.json_to_sheet(U),S=ss.book_new();ss.book_append_sheet(S,A,"Pedidos");const C=new Date().toISOString().slice(0,10).replace(/-/g,"");Mm(S,`mis_pedidos_soporte_export_${C}.xlsx`)};return a.jsxs(ne.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-7xl mx-auto border ${y?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:v,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"support-title",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[a.jsxs("h3",{id:"support-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${y?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[a.jsx(Ia,{className:"mr-2"})," Pedidos en Soporte",a.jsx("span",{className:`ml-2 bg-gradient-to-r ${y?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:w.length})]}),a.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[a.jsxs("div",{className:"relative flex-1 lg:w-80",children:[a.jsx("input",{type:"text",placeholder:"Buscar pedidos en soporte por nombre o ID...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${y?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:n,onChange:U=>i(U.target.value),"aria-label":"Buscar pedidos en soporte por nombre o ID"}),a.jsx(ja,{className:`absolute left-3 top-3.5 ${y?"text-gray-400":"text-gray-500"}`,size:18})]}),a.jsxs(ne.button,{onClick:X,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${y?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos en soporte como Excel","aria-label":"Exportar pedidos en soporte a Excel",children:[a.jsx(Cm,{size:18}),a.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),a.jsx(Ht,{children:w.length>0?a.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:a.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:a.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${y?"bg-gray-800/50":"bg-white/50"}`,children:[a.jsx("thead",{className:`${y?"bg-gray-700/60":"bg-gray-50/60"}`,children:a.jsx("tr",{children:[{key:null,label:"Estado"},{key:"productName",label:"Producto"},{key:"category",label:"Categora"},{key:"orderId",label:"N Pedido"},{key:"price",label:"Precio"},{key:"daysRemaining",label:"Tiempo Restante"},{key:"startDate",label:"Inicio"},{key:"endDate",label:"Vencimiento"},{key:"email",label:"Email"},{key:"password",label:"Contrasea"},{key:"profile",label:"Perfil"},{key:"pin",label:"PIN"},{key:"provider",label:"Proveedor"},{key:"soporteMessage",label:"Mensaje de Soporte"},{label:"Acciones"}].map(({key:U,label:A})=>a.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${y?"text-gray-300":"text-gray-700"} ${U?"cursor-pointer hover:text-blue-400 transition-colors":""}`,onClick:()=>U&&V(U),children:a.jsxs("div",{className:"flex items-center justify-between",children:[A,U&&j(U)]})},U||A))})}),a.jsx("tbody",{className:"divide-y divide-gray-200/30",children:w.map(U=>{const A=parseFloat(U.price)||0,S=parseFloat(U.renewalPrice)||A,C=U.status||"pending",P=C==="pending",D=C==="soporte",z=C==="rechazado",B=new Date(U.endDate)>new Date,Ee=Math.max(0,U.daysRemaining||0),Re=Math.min(U.timeElapsedPercentage||0,100),Be=M(U,y),Fe=E(U.category);let ve;Re<70?ve=y?"bg-green-500":"bg-green-600":Re<90?ve=y?"bg-orange-500":"bg-orange-600":ve=y?"bg-red-500":"bg-red-600";const ie=!["En soporte","No aplica soporte","Pendiente a activacion"].includes(Be.text),re=D||z||P&&!B?Be.text:`${Ee} da${Ee===1?"":"s"}`,R=ie?ve.replace("bg-","text-"):Be.color,K=encodeURIComponent(`*Consulta de Soporte - Pedido ${U.orderId||"N/A"}*

*Producto:* ${U.productName||"Sin nombre"}
*Cliente:* ${U.client?.customerName||"N/A"}
*Mensaje del Cliente:* ${U.soporteMessage||"Sin mensaje"}

Por favor, proporciona una solucin o actualizacin para este soporte. Gracias!`),Q=U.providerPhone?U.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return a.jsxs(ne.tr,{className:`transition-colors duration-200 ${y?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:k,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${U.id}-title`,children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`p-1.5 rounded-full ${Be.color.replace("text-","bg-").replace("-600","/20").replace("-400","/20")}`,children:Be.icon}),a.jsx("span",{className:`${Be.color} font-medium`,children:Be.text})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("h4",{id:`order-${U.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:U.productName||"Sin nombre"})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Fe.bg} ${Fe.text}`,children:O(U.category)})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:U.orderId||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"font-bold text-lg",children:["S/ ",A.toFixed(2)]}),S!==A&&a.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 bg-gray-100/50 dark:bg-gray-800/50 px-2 py-1 rounded-full",children:[a.jsx(K5,{size:12,className:"text-gray-400"}),a.jsxs("span",{children:["S/ ",S.toFixed(2)]})]})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[ie&&a.jsx("div",{className:"relative",children:a.jsx("div",{className:`w-20 h-2 rounded-full overflow-hidden ${y?"bg-gray-600/40":"bg-gray-300/40"}`,children:a.jsx(ne.div,{className:`h-2 rounded-full ${ve}`,initial:{width:0},animate:{width:`${Re}%`},transition:{duration:1.5,ease:"easeInOut"}})})}),a.jsx("span",{className:`text-sm font-medium ${R}`,children:re})]})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:s(U.startDate)}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:s(U.endDate)}),a.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:U.account?.email||"N/A",children:U.account?.email||"N/A"}),a.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:U.account?.password||"N/A",children:U.account?.password||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:U.account?.profile||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-mono",children:U.account?.pin||"N/A"}),a.jsx("td",{className:"px-4 py-4 text-sm font-medium text-teal-600",children:U.provider||"N/A"}),a.jsxs("td",{className:"px-4 py-4 max-w-xs",children:[a.jsx("p",{className:"text-sm break-words line-clamp-3 bg-gray-100/30 dark:bg-gray-800/30 p-2 rounded",title:U.soporteMessage||"Sin mensaje",children:U.soporteMessage||"Sin mensaje"}),U.soporteCreatedAt&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s(U.soporteCreatedAt)})]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex gap-2",children:a.jsx(ne.a,{href:`https://wa.me/51${Q}?text=${K}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar proveedor por WhatsApp","aria-label":`Contactar proveedor para el pedido ${U.orderId||U.productName}`,children:a.jsx(Wr,{size:16})})})})]},U.id)})})]})})}):a.jsxs(ne.div,{className:"text-center py-16",variants:v,initial:"hidden",animate:"visible",children:[a.jsx(ne.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:a.jsx(Ia,{className:`mx-auto text-6xl ${y?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),a.jsx("h4",{className:`text-xl font-semibold ${y?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos en soporte encontrados"}),a.jsx("p",{className:`text-sm ${y?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu bsqueda o verifica si hay pedidos en estado de soporte."})]})})]})};$6.propTypes={orders:q.arrayOf(q.shape({id:q.string.isRequired,productName:q.string,category:q.string,orderId:q.string,price:q.oneOfType([q.string,q.number]),renewalPrice:q.oneOfType([q.string,q.number]),status:q.string,startDate:q.oneOfType([q.string,q.instanceOf(Date)]),endDate:q.oneOfType([q.string,q.instanceOf(Date)]),daysRemaining:q.number,timeElapsedPercentage:q.number,account:q.shape({email:q.string,password:q.string,profile:q.string,pin:q.string}),client:q.shape({customerName:q.string}),provider:q.string,providerPhone:q.string,renewable:q.bool,termsAndConditions:q.string,durationDays:q.number,soporteMessage:q.string,soporteCreatedAt:q.oneOfType([q.string,q.instanceOf(Date)])})),setOrders:q.func,fetchOrders:q.func,searchQuery:q.string,setSearchQuery:q.func,formatDate:q.func,handleRenewal:q.func,actionLoading:q.object,balance:q.number,theme:q.oneOf(["light","dark"])};const UQ=As.memo(({show:t,onClose:e,title:r,message:n,theme:i})=>a.jsx(Ht,{children:t&&a.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:a.jsxs(ne.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${i==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${i==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:s=>s.stopPropagation(),children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:a.jsx(Ui,{size:20})}),a.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${i==="dark"?"text-white":"text-gray-900"}`,children:r}),a.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));UQ.propTypes={show:q.bool.isRequired,onClose:q.func.isRequired,title:q.string.isRequired,message:q.string.isRequired,theme:q.string.isRequired};const V6=()=>{const[t,e]=N.useState(!1),[r,n]=N.useState(""),[i,s]=N.useState([]),[l,u]=N.useState({username:"",phone:""}),[d,h]=N.useState(""),[p,g]=N.useState(0),[y,v]=N.useState(null),[k,w]=N.useState("inicio"),[E,O]=N.useState([]),[M,V]=N.useState({}),[j,X]=N.useState([]),[U,A]=N.useState(!0),[S,C]=N.useState({}),[P,D]=N.useState(null),[z,B]=N.useState({isOpen:!1,message:"",title:""}),[Ee,Re]=N.useState({isOpen:!1,user:null}),[Be,Fe]=N.useState({isOpen:!1,provider:null}),[ve,ie]=N.useState(""),[me,re]=N.useState([]),[R,K]=N.useState("dark"),[Q,ee]=N.useState(!1),[se,Ce]=N.useState(!1),[De,Se]=N.useState(!1),ue=Os();N.useEffect(()=>{const Te=()=>Se(window.innerWidth<1024);return Te(),window.addEventListener("resize",Te),()=>window.removeEventListener("resize",Te)},[]);const nt=N.useCallback(()=>{K(Te=>Te==="dark"?"light":"dark")},[]),ht=N.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),yt=N.useCallback((Te,Ie)=>{B({isOpen:!0,title:Te,message:Ie})},[]),wt=N.useCallback(()=>{B({isOpen:!1,message:"",title:""})},[]),pr=N.useCallback(Te=>{Re({isOpen:!0,user:Te})},[]),Nt=N.useCallback(()=>{Re({isOpen:!1,user:null})},[]),Ge=N.useCallback(Te=>{Fe({isOpen:!0,provider:Te})},[]),Xt=N.useCallback(()=>{Fe({isOpen:!1,provider:null})},[]),Ct=N.useCallback(Te=>{if(!Te)return"No especificada";try{const Ie=Te instanceof Date?Te:new Date(Te);return isNaN(Ie.getTime())?"Fecha invlida":Ie.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha invlida"}},[]),er=N.useCallback(async(Te,Ie)=>{try{C(Ae=>({...Ae,profile:!0}));const ut=_t(qe,"users",Te);await qr(ut,{username:Ie,updatedAt:Fr()}),u(Ae=>({...Ae,username:Ie})),yt("xito","Perfil actualizado exitosamente"),Nt()}catch(ut){console.error("Error al actualizar perfil:",ut),yt("Error",ut.message||"Error al actualizar el perfil")}finally{C(ut=>({...ut,profile:!1}))}},[yt,Nt]),le=N.useCallback(async(Te,Ie)=>{try{C(ut=>({...ut,[`rate_${Te}`]:!0})),await Po(Lt(qe,"ratings"),{userId:y,providerId:Te,rating:Ie,ratedAt:Fr()}),yt("xito","Calificacin enviada exitosamente"),Xt()}catch(ut){console.error("Error al calificar proveedor:",ut),yt("Error",ut.message||"Error al enviar la calificacin")}finally{C(ut=>({...ut,[`rate_${Te}`]:!1}))}},[y,yt,Xt]),et=N.useCallback(async Te=>{try{C(ar=>({...ar,[`renew_${Te.id}`]:!0}));const Ie=parseFloat(Te.renewalPrice)||parseFloat(Te.price)||0;if(p<Ie){yt("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const ut=parseInt(Te.durationDays)||30,Ae=gr.now(),ze=Ae.toDate(),gt=ze,St=new Date(gt.getTime()+ut*24*60*60*1e3),Mt=gr.fromDate(St),vt=_t(qe,"sales",Te.id);await qr(vt,{startDate:Ae,endDate:Mt,renewedAt:Ae,status:"completed",updatedAt:Fr()});const Vr=_t(qe,"users",y);await qr(Vr,{balance:p-Ie}),g(ar=>ar-Ie),O(ar=>ar.map(xr=>xr.id===Te.id?{...xr,startDate:gt,endDate:St,renewedAt:ze,status:"completed",daysRemaining:ut,totalDays:ut,timeElapsedPercentage:0}:xr)),yt("xito",`Pedido renovado exitosamente! Nueva fecha de vencimiento: ${Ct(St)}`)}catch(Ie){console.error("Error al renovar el pedido:",Ie),yt("Error","Error al renovar el pedido: "+Ie.message)}finally{C(Ie=>({...Ie,[`renew_${Te.id}`]:!1}))}},[p,y,yt,Ct]);N.useEffect(()=>{(async()=>{try{const Ie=Er(Lt(qe,"products")),ut=await Gn(Ie),Ae={};ut.forEach(ze=>{Ae[ze.id]=ze.data()}),V(Ae)}catch(Ie){console.error("Error fetching products:",Ie),D("Error al cargar productos: "+Ie.message)}})()},[]),N.useEffect(()=>{const Te=br(_t(qe,"notifications","adminMessage"),Ie=>{if(Ie.exists()){const ut=Ie.data();ut.roles&&ut.roles.includes("user")?X([{id:Ie.id,...ut,timestamp:ut.updatedAt?.toDate()}]):X([])}else X([])},Ie=>{console.error("Error in notifications listener:",Ie),D("Error al cargar notificaciones: "+Ie.message)});return()=>Te()},[]),N.useEffect(()=>{if(!y)return;(async()=>{try{const Ie=Er(Lt(qe,"sales"),Or("customerId","==",y)),ut=await Gn(Ie),Ae=new Set,ze=[];ut.forEach(gt=>{const St=gt.data();St.providerId&&!Ae.has(St.providerId)&&(Ae.add(St.providerId),ze.push({id:St.providerId,name:St.provider||"Proveedor desconocido",phone:St.providerPhone||"No especificado"}))}),re(ze)}catch(Ie){console.error("Error fetching providers:",Ie),D("Error al cargar proveedores: "+Ie.message)}})()},[y]);const Xe=N.useCallback(async()=>{try{await L0(en),ue("/")}catch(Te){console.error("Error al cerrar sesin:",Te),yt("Error",Te.message||"Error al cerrar sesin")}},[ue,yt]);N.useEffect(()=>{const Te=ql(en,Ie=>{Ie?(v(Ie.uid),h(Ie.email||"No especificado"),A(!1)):ue("/login")});return()=>Te()},[ue]),N.useEffect(()=>{if(!y)return;const Te=_t(qe,"users",y),Ie=br(Te,ut=>{if(ut.exists()){const Ae=ut.data();u({username:Ae.username||"Usuario",phone:Ae.phone||""}),h(Ae.email||"No especificado"),g(Number(Ae.balance)||0)}else D("Usuario no encontrado")},ut=>{console.error("Error in user data listener:",ut),D("Error al cargar datos del usuario: "+ut.message)});return()=>Ie()},[y]),N.useEffect(()=>{if(!y)return;const Te=Er(Lt(qe,"sales"),Or("customerId","==",y)),Ie=br(Te,async Ae=>{if(Ae.empty){O([]),A(!1);return}const ze=new Date,gt=7200*60*1e3;for(const Mt of Ae.docs){const Vr=Mt.data().endDate?.toDate?.()||new Date;if(Vr<ze&&ze.getTime()-Vr.getTime()>gt)try{await ko(_t(qe,"sales",Mt.id)),console.log(`Deleted expired order: ${Mt.id}`)}catch(ar){console.error(`Error deleting order ${Mt.id}:`,ar)}}const St=Ae.docs.map(Mt=>{const vt=Mt.data(),ar=vt.saleDate?.toDate?.()||vt.createdAt?.toDate?.()||new Date;let xr=vt.startDate?.toDate?.(),Br=xr||ar,Rt=!1;xr||(Rt=!0);const Wt=vt.durationDays||30;let Ft;vt.endDate?Ft=vt.endDate.toDate?vt.endDate.toDate():new Date(vt.endDate):(Ft=new Date(Br.getTime()+Wt*24*60*60*1e3),Rt=!0),Rt&&qr(_t(qe,"sales",Mt.id),{startDate:xr||gr.fromDate(ar),endDate:gr.fromDate(Ft),durationDays:Wt}).catch(xt=>{console.error("Error al actualizar startDate/endDate en Firestore:",xt)});const Pr=Ft.getTime()-Br.getTime(),Kr=ze.getTime()-Br.getTime(),li=Ft.getTime()-ze.getTime(),En=Math.ceil(Pr/(1e3*60*60*24)),ki=Math.max(0,Math.ceil(li/(1e3*60*60*24))),Jn=Math.ceil(Kr/(1e3*60*60*24)),_e=En>0?Jn/En*100:100,Ne=M[vt.providerId]?.terms||"No se especificaron trminos y condiciones.";return{id:Mt.id,productName:vt.productName||"Producto sin nombre",category:vt.type||"netflix",price:parseFloat(vt.price)||0,renewalPrice:parseFloat(vt.renewalPrice)||0,provider:vt.provider||"No especificado",providerId:vt.providerId||"",providerPhone:vt.providerPhone||vt.providerWhatsapp||"51999999999",status:vt.status||"completed",saleDate:ar,startDate:Br,endDate:Ft,durationDays:Wt,daysRemaining:ki,totalDays:En,timeElapsedPercentage:_e,account:{email:vt.accountDetails?.email||"No especificado",password:vt.accountDetails?.password||"No especificado",profile:vt.accountDetails?.profile||"No especificado",pin:vt.accountDetails?.pin||"No especificado"},client:{customerName:vt.customerName||"Cliente desconocido",email:vt.customerEmail||"No especificado",phone:vt.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BLK-${Mt.id.slice(0,8).toUpperCase()}`,termsAndConditions:Ne,renewable:vt.renewable!==void 0?vt.renewable:!0}}).filter(Mt=>{const vt=new Date(Mt.endDate);return!(vt<ze&&ze.getTime()-vt.getTime()>gt)});O(St),A(!1)},Ae=>{console.error("Error al obtener pedidos:",Ae),D("Error al cargar pedidos: "+Ae.message),A(!1)}),ut=setInterval(()=>{const Ae=new Date,ze=7200*60*1e3;O(gt=>gt.map(St=>{const Mt=new Date(St.endDate).getTime()-new Date(St.startDate).getTime(),vt=Ae.getTime()-new Date(St.startDate).getTime(),Vr=new Date(St.endDate).getTime()-Ae.getTime(),ar=Math.ceil(Mt/(1e3*60*60*24)),xr=Math.max(0,Math.ceil(Vr/(1e3*60*60*24))),Br=Math.ceil(vt/(1e3*60*60*24)),Rt=ar>0?Br/ar*100:100;return{...St,daysRemaining:xr,totalDays:ar,timeElapsedPercentage:Rt}}).filter(St=>{const Mt=new Date(St.endDate);return!(Mt<Ae&&Ae.getTime()-Mt.getTime()>ze)}))},6e4);return()=>{Ie(),clearInterval(ut)}},[y,M]),N.useEffect(()=>{if(!y)return;const Te=Er(Lt(qe,"pendingTopUps"),Or("userId","==",y)),Ie=br(Te,ut=>{const Ae=ut.docs.map(ze=>({id:ze.id,...ze.data(),date:ze.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(ze.data().amount)||0}));s(Ae)},ut=>{console.error("Error al obtener recargas:",ut),D("Error al cargar recargas: "+ut.message)});return()=>Ie()},[y]);const lt=N.useCallback(async()=>{try{if(C(Ie=>({...Ie,topUp:!0})),!r||isNaN(r)){yt("Error","Ingrese un monto vlido");return}const Te=parseFloat(r);if(Te<5){yt("Error","El monto mnimo de recarga es S/ 5.00");return}await Po(Lt(qe,"pendingTopUps"),{userId:y,username:l.username,amount:Te,status:"pendiente",requestedAt:Fr()}),n(""),yt("xito","Solicitud de recarga enviada correctamente")}catch(Te){console.error("Error al solicitar recarga:",Te),yt("Error",Te.message||"Error al enviar solicitud de recarga")}finally{C(Te=>({...Te,topUp:!1}))}},[r,y,l.username,yt]),mt=N.useCallback(async Te=>{Te.preventDefault();try{C(St=>({...St,password:!0}));const Ie=Te.target.password.value,ut=Te.target.phone.value,Ae=en.currentUser,ze=_t(qe,"users",y),gt={};if(Ie){if(Ie.length<6){yt("Error","La contrasea debe tener al menos 6 caracteres");return}await pv(Ae,Ie),gt.updatedAt=Fr()}ut&&(gt.phone=ut,gt.updatedAt=Fr()),Object.keys(gt).length>0&&await qr(ze,gt),u(St=>({...St,phone:ut||St.phone})),yt("xito","Cambios guardados correctamente"),Te.target.reset()}catch(Ie){console.error("Error al actualizar los datos:",Ie),yt("Error",Ie.message||"Error al guardar los cambios")}finally{C(Ie=>({...Ie,password:!1}))}},[y,yt]);N.useEffect(()=>{const Te=()=>{ee(window.scrollY>300)};return window.addEventListener("scroll",Te),()=>window.removeEventListener("scroll",Te)},[]);const ct=()=>U?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):P?a.jsxs("div",{className:`bg-${R==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${R==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsx(Ll,{className:"mx-auto text-4xl text-red-400 mb-4"}),a.jsx("h3",{className:`text-xl font-bold ${R==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),a.jsx("p",{className:`text-base ${R==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:P}),a.jsx("button",{onClick:()=>D(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):a.jsx("div",{className:`bg-${R==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 lg:p-10 rounded-2xl shadow-md max-w-6xl mx-auto border ${R==="dark"?"border-gray-700/50":"border-gray-300"} w-full`,children:(()=>{switch(k){case"inicio":return a.jsx(Qz,{userName:l,email:d,balance:p,orders:E,notifications:j,setActivePage:w,formatDate:Ct});case"notificaciones":return a.jsx(eA,{notifications:j,formatDate:Ct});case"recargar":return a.jsx(tA,{amount:r,setAmount:n,topUps:i,actionLoading:S,handleTopUpRequest:lt,formatDate:Ct,showModal:yt});case"proveedores":return a.jsx(rA,{providers:me,openRateProviderModal:Ge,theme:R});case"pedidos":return a.jsx(L6,{orders:E,setOrders:O,balance:p,searchQuery:ve,setSearchQuery:ie,formatDate:Ct,handleRenewal:et,actionLoading:S,theme:R});case"configuracion":return a.jsx(M6,{userName:l,email:d,actionLoading:S,handleUpdatePassword:mt,openEditProfileModal:pr,handleLogout:Xe});case"soporte":return a.jsx($6,{orders:E,setOrders:O,searchQuery:ve,setSearchQuery:ie,formatDate:Ct,handleRenewal:et,actionLoading:S,balance:p,theme:R});default:return a.jsxs("div",{className:`bg-${R==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${R==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsx(Ll,{className:"mx-auto text-4xl text-red-400 mb-4"}),a.jsx("h3",{className:`text-xl font-bold ${R==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Seccin no encontrada"}),a.jsx("p",{className:`text-base ${R==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La seccin que ests buscando no existe o no est disponible."}),a.jsx("button",{onClick:()=>w("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()});return a.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${R==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${R==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),a.jsx("div",{className:"particles",children:[...Array(15)].map((Te,Ie)=>a.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Ie))})]}),a.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${R==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:a.jsxs("div",{className:"p-4 flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("button",{onClick:()=>{ue("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),a.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:a.jsx(Ui,{className:"text-lg"})})]}),a.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${R==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:l.username.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${R==="dark"?"text-white":"text-gray-900"}`,children:l.username}),a.jsx("p",{className:`text-xs ${R==="dark"?"text-gray-400":"text-gray-600"}`,children:"Usuario"})]})]}),a.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Zv},{id:"notificaciones",label:"Notificaciones",icon:Fl},{id:"recargar",label:"Recargar saldo",icon:Ca},{id:"pedidos",label:"Mis pedidos",icon:gu},{id:"proveedores",label:"Proveedores",icon:yu},{id:"soporte",label:"Soporte",icon:tz},{id:"configuracion",label:"Configuracin",icon:Tp}].map(Te=>a.jsxs("button",{onClick:()=>{w(Te.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${k===Te.id?"bg-blue-100 text-blue-600 border border-blue-300":R==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":k===Te.id?"page":void 0,children:[a.jsx(Te.icon,{className:"text-lg"}),a.jsx("span",{children:Te.label})]},Te.id))}),a.jsx("div",{className:"mt-auto pt-6",children:a.jsxs("button",{onClick:()=>{Xe(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${R==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[a.jsx(xu,{className:"text-lg"}),a.jsx("span",{children:"Cerrar Sesin"})]})})]})}),a.jsxs("header",{className:`${R==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ne.img,{src:Jl,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border cursor-pointer ${R==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy",onClick:()=>ue("/")}),a.jsx("button",{onClick:()=>{De?ue("/"):w("inicio")},className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300 cursor-pointer","aria-label":De?"Go to BlackStreaming homepage":"Ir al inicio del dashboard",children:"BlackStreaming"})]}),a.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:ve,onChange:Te=>ie(Te.target.value),className:`w-full py-2.5 px-5 ${R==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:Te=>Te.key==="Enter"&&w("pedidos")}),a.jsx("button",{onClick:()=>w("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${R==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:a.jsx(mu,{size:18})})]})}),a.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[a.jsx("button",{onClick:nt,className:`p-2 rounded-full ${R==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${R==="dark"?"light":"dark"} theme`,children:R==="dark"?a.jsx(Ql,{size:20}):a.jsx(Yl,{size:20})}),a.jsxs("button",{onClick:()=>Ce(!0),className:`p-2 rounded-full relative ${R==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${j.length} new)`,children:[a.jsx(Fl,{size:20}),j.length>0&&a.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:j.length})]}),a.jsx("button",{className:`lg:hidden p-2 rounded-full ${R==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:a.jsx(Nm,{size:20,className:R==="dark"?"text-gray-300":"text-gray-600"})}),a.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:a.jsx("div",{className:"relative",children:a.jsxs("button",{className:`flex items-center space-x-2 ${R==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[a.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:l.username.charAt(0).toUpperCase()}),a.jsx("span",{className:`text-sm font-semibold ${R==="dark"?"text-gray-200":"text-gray-800"}`,children:l.username})]})})})]})]}),a.jsx(Ht,{children:se&&a.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>Ce(!1),role:"dialog","aria-labelledby":"notifications-title",children:a.jsxs(ne.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${R==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${R==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Te=>Te.stopPropagation(),children:[a.jsx("button",{onClick:()=>Ce(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:a.jsx(Ui,{size:20})}),a.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${R==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),j.length>0?j.map(Te=>a.jsxs("div",{className:`p-4 mb-2 rounded-md ${R==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${R==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[a.jsx("h3",{className:`font-semibold ${R==="dark"?"text-gray-200":"text-gray-800"}`,children:Te.title||"Nueva Notificacin"}),a.jsx("p",{className:`text-sm ${R==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:Te.message}),Te.roles&&Te.roles.length>0&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",Te.roles.join(", ")]}),Te.timestamp&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Ct(Te.timestamp)})]},Te.id)):a.jsx("p",{className:`text-center ${R==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),a.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:ct()}),a.jsxs("footer",{className:`${R==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${R==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),a.jsxs("p",{className:`text-base sm:text-lg ${R==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",a.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),a.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[a.jsx("a",{href:"https://twitter.com",className:`${R==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:a.jsx(Xl,{size:28})}),a.jsx("a",{href:"https://instagram.com",className:`${R==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:a.jsx(Kl,{size:28})}),a.jsx("a",{href:"https://facebook.com",className:`${R==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:a.jsx(Gl,{size:28})})]}),a.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[a.jsx("a",{href:"#",className:`text-sm ${R==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Poltica de Privacidad"}),a.jsx("a",{href:"#",className:`text-sm ${R==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Trminos de Servicio"}),a.jsx("a",{href:"#",className:`text-sm ${R==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contctanos"})]})]}),a.jsxs("p",{className:`text-sm ${R==="dark"?"text-gray-500":"text-gray-600"}`,children:[" ",new Date().getFullYear()," BlackStreaming. Hecho con pasin."]})]}),a.jsx(Ht,{children:Q&&a.jsx(ne.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:ht,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:a.jsx(km,{size:20})})}),a.jsx(Yz,{isOpen:z.isOpen,title:z.title,message:z.message,onClose:wt,theme:R}),Ee.isOpen&&a.jsx(J5,{isOpen:Ee.isOpen,user:Ee.user,onClose:Nt,onSave:er,theme:R}),Be.isOpen&&a.jsx(Z5,{isOpen:Be.isOpen,provider:Be.provider,onClose:Xt,onRate:le,theme:R}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};V6.propTypes={};const zQ=({isOpen:t,message:e,title:r,onClose:n})=>t?a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:r}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:a.jsx(zi,{size:20})})]}),a.jsx("p",{className:"text-gray-300 mb-6",children:e}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,HQ=({isOpen:t,user:e,onClose:r,onSave:n})=>{const[i,s]=N.useState(e?.username||""),[l,u]=N.useState(""),d=h=>{if(h.preventDefault(),u(""),!i.trim()){u("El nombre de usuario no puede estar vaco.");return}n(e.id,i.trim())};return t?a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Editar Perfil"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-all duration-300",children:a.jsx(zi,{size:20})})]}),a.jsxs("form",{onSubmit:d,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),a.jsx("input",{type:"text",value:i,onChange:h=>s(h.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0}),l&&a.jsx("p",{className:"text-red-400 text-sm mt-2",children:l})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},WQ=()=>{const[t,e]=N.useState(!1),[r,n]=N.useState("inicio"),[i,s]=N.useState(""),[l,u]=N.useState(""),[d,h]=N.useState(""),[p,g]=N.useState([]),[y,v]=N.useState(0),[k,w]=N.useState(0),[E,O]=N.useState(null),[M,V]=N.useState(!0),[j,X]=N.useState({}),[U,A]=N.useState(null),[S,C]=N.useState([]),[P,D]=N.useState(!1),[z,B]=N.useState(""),[Ee,Re]=N.useState(""),[Be,Fe]=N.useState([]),[ve,ie]=N.useState([]),[me,re]=N.useState({}),[R,K]=N.useState([]),[Q,ee]=N.useState({isOpen:!1,message:"",title:""}),[se,Ce]=N.useState({isOpen:!1,user:null}),De=Os(),Se=(le,et)=>{ee({isOpen:!0,title:le,message:et})},ue=()=>{ee({isOpen:!1,message:"",title:""})},nt=le=>{Ce({isOpen:!0,user:le})},ht=()=>{Ce({isOpen:!1,user:null})},yt=async(le,et)=>{try{X(mt=>({...mt,profile:!0}));const Xe=_t(qe,"users",le),lt=_t(qe,"affiliates",le);await qr(Xe,{username:et,updatedAt:Fr()}),await qr(lt,{username:et,updatedAt:Fr()}),s(et),Se("xito","Perfil actualizado exitosamente"),ht()}catch(Xe){console.error("Error al actualizar perfil:",Xe),Se("Error",Xe.message||"Error al actualizar el perfil")}finally{X(Xe=>({...Xe,profile:!1}))}};N.useEffect(()=>{const le=ql(en,et=>{et?(O(et.uid),u(et.email||"No especificado"),V(!1)):De("/login")});return()=>le()},[De]),N.useEffect(()=>{(async()=>{try{const et=Er(Lt(qe,"products")),Xe=await Gn(et),lt={};Xe.forEach(mt=>{lt[mt.id]=mt.data()}),re(lt)}catch(et){console.error("Error fetching products:",et),A("Error al cargar productos")}})()},[]),N.useEffect(()=>{br(_t(qe,"notifications","adminMessage"),Xe=>{if(Xe.exists()){const lt=Xe.data();lt.roles&&lt.roles.includes("affiliate")?K([{id:Xe.id,...lt}]):K([])}else K([])})},[]),N.useEffect(()=>{(async()=>{if(E)try{const et=_t(qe,"users",E),Xe=await Vo(et);if(Xe.exists()){const ct=Xe.data();s(ct.username||"Usuario"),w(Number(ct.balance)||0)}const lt=_t(qe,"affiliates",E),mt=await Vo(lt);if(mt.exists()){const ct=mt.data();h(ct.affiliateCode||""),v(Number(ct.earnings)||0)}else{const ct=`AFF-${Math.random().toString(36).substring(2,8).toUpperCase()}`;await aa(lt,{username:i||"Nuevo Afiliado",email:l,affiliateCode:ct,earnings:0,createdAt:Fr(),updatedAt:Fr()}),h(ct)}}catch(et){console.error("Error al manejar datos:",et),A("Error al cargar datos")}finally{V(!1)}})()},[E,l,i]),N.useEffect(()=>{if(!E)return;(()=>{const et=Er(Lt(qe,"pendingTopUps"),Or("userId","==",E));return br(et,lt=>{const mt=lt.docs.map(ct=>({id:ct.id,...ct.data(),date:ct.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(ct.data().amount)||0}));Fe(mt)},lt=>{console.error("Error al obtener recargas:",lt),A("Error al cargar recargas")})})()},[E]),N.useEffect(()=>{if(!d)return;const le=Er(Lt(qe,"users"),Or("referrerCode","==",d),nv("createdAt","desc"),q7(5)),et=br(le,Xe=>{const lt=Xe.docs.map(mt=>({id:mt.id,...mt.data(),joinDate:mt.data().createdAt?.toDate()||new Date}));C(lt)});return()=>et()},[d]),N.useEffect(()=>{if(!d)return;const le=Er(Lt(qe,"users"),Or("referrerCode","==",d)),et=br(le,Xe=>{const lt=Xe.docs.map(mt=>({id:mt.id,...mt.data(),joinDate:mt.data().createdAt?.toDate()||new Date}));g(lt)});return()=>et()},[d]),N.useEffect(()=>{if(!E)return;(()=>{const et=Er(Lt(qe,"sales"),Or("customerId","==",E)),Xe=br(et,mt=>{if(mt.empty){ie([]),V(!1);return}const ct=mt.docs.map(Te=>{const Ie=Te.data(),Ae=Ie.saleDate?.toDate?.()||Ie.createdAt?.toDate?.()||new Date;let ze=Ie.startDate?.toDate?.(),gt=ze||Ae,St=!1;ze||(St=!0);const Mt=Ie.durationDays||30;let vt;Ie.endDate?vt=new Date(Ie.endDate):(vt=new Date(gt.getTime()+Mt*24*60*60*1e3),St=!0),St&&qr(_t(qe,"sales",Te.id),{startDate:ze||gr.fromDate(Ae),endDate:vt.toISOString(),durationDays:Mt}).catch(li=>{console.error("Error al actualizar startDate/endDate en Firestore:",li)});const Vr=new Date,ar=vt.getTime()-gt.getTime(),xr=Vr.getTime()-gt.getTime(),Br=vt.getTime()-Vr.getTime(),Rt=Math.ceil(ar/(1e3*60*60*24)),Wt=Math.max(0,Math.ceil(Br/(1e3*60*60*24))),Ft=Math.ceil(xr/(1e3*60*60*24)),Pr=Rt>0?Ft/Rt*100:100,Kr=me[Ie.providerId]?.terms||"No se especificaron trminos y condiciones.";return{id:Te.id,productName:Ie.productName||"Producto sin nombre",category:Ie.type||"netflix",price:parseFloat(Ie.price)||0,provider:Ie.provider||"No especificado",providerId:Ie.providerId||"",providerPhone:Ie.providerPhone||Ie.providerWhatsapp||"51999999999",status:Ie.status||"completed",saleDate:Ae,startDate:gt,endDate:vt,durationDays:Mt,daysRemaining:Wt,totalDays:Rt,timeElapsedPercentage:Pr,account:{email:Ie.accountDetails?.email||"No especificado",password:Ie.accountDetails?.password||"No especificado",profile:Ie.accountDetails?.profile||"No especificado",pin:Ie.accountDetails?.pin||"No especificado"},client:{name:Ie.customerName||"Cliente desconocido",email:Ie.customerEmail||"No especificado",phone:Ie.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BS-${Te.id.slice(0,8).toUpperCase()}`,termsAndConditions:Kr,renewable:Ie.renewable!==void 0?Ie.renewable:!0}});ie(ct),V(!1)},mt=>{console.error("Error al obtener pedidos:",mt),A("Error al cargar pedidos: "+mt.message),V(!1)}),lt=setInterval(()=>{ie(mt=>mt.map(ct=>{const Te=new Date,Ie=new Date(ct.endDate).getTime()-new Date(ct.startDate).getTime(),ut=Te.getTime()-new Date(ct.startDate).getTime(),Ae=new Date(ct.endDate).getTime()-Te.getTime(),ze=Math.ceil(Ie/(1e3*60*60*24)),gt=Math.max(0,Math.ceil(Ae/(1e3*60*60*24))),St=Math.ceil(ut/(1e3*60*60*24)),Mt=ze>0?St/ze*100:100;return{...ct,daysRemaining:gt,totalDays:ze,timeElapsedPercentage:Mt}}))},6e4);return()=>{Xe(),clearInterval(lt)}})()},[E,me]);const wt=async()=>{try{if(X(et=>({...et,topUp:!0})),!Ee||isNaN(Ee)){Se("Error","Ingrese un monto vlido");return}const le=parseFloat(Ee);if(le<10){Se("Error","El monto mnimo de recarga es S/ 10.00");return}await Po(Lt(qe,"pendingTopUps"),{userId:E,username:i,amount:le,status:"pendiente",requestedAt:Fr(),processed:!1}),Re(""),Se("xito","Solicitud de recarga enviada correctamente")}catch(le){console.error("Error al solicitar recarga:",le),Se("Error",le.message||"Error al enviar solicitud de recarga")}finally{X(le=>({...le,topUp:!1}))}},pr=async le=>{try{X(ze=>({...ze,[`renew_${le.id}`]:!0}));const et=parseFloat(le.price)||0;if(k<et){Se("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const Xe=parseInt(le.durationDays)||30,lt=gr.now(),mt=lt.toDate(),ct=new Date(mt.getTime()+Xe*24*60*60*1e3),Te=ct.toISOString(),Ie={customerId:E,customerName:le.client?.name||"Cliente desconocido",customerEmail:le.client?.email||l,phoneNumber:le.client?.phone||"No especificado",productName:le.productName||"Producto sin nombre",type:le.category||"netflix",price:et,accountDetails:{email:le.account?.email||"No especificado",password:le.account?.password||"No especificado",profile:le.account?.profile||"No especificado",pin:le.account?.pin||"No especificado"},provider:le.provider||"Proveedor desconocido",providerId:le.providerId||"",providerPhone:le.providerPhone||le.providerWhatsapp||"51999999999",status:"completed",createdAt:lt,saleDate:lt,startDate:lt,endDate:Te,durationDays:Xe,renewedAt:lt,renewable:le.renewable!==void 0?le.renewable:!0},ut=await Po(Lt(qe,"sales"),Ie),Ae=_t(qe,"users",E);await qr(Ae,{balance:k-et}),w(ze=>ze-et),ie(ze=>[...ze,{...Ie,id:ut.id,saleDate:mt,startDate:mt,endDate:ct,account:Ie.accountDetails,client:{name:Ie.customerName,email:Ie.customerEmail,phone:Ie.phoneNumber},orderId:`BS-${ut.id.slice(0,8).toUpperCase()}`,renewable:Ie.renewable,daysRemaining:Xe,totalDays:Xe,timeElapsedPercentage:0,termsAndConditions:me[Ie.providerId]?.terms||"No se especificaron trminos y condiciones."}]),Se("xito","Pedido renovado exitosamente!")}catch(et){console.error("Error al renovar el pedido:",et),Se("Error","Error al renovar el pedido: "+et.message)}finally{X(et=>({...et,[`renew_${le.id}`]:!1}))}},Nt=()=>{d&&(navigator.clipboard.writeText(d),D(!0),setTimeout(()=>D(!1),2e3))},Ge=le=>{if(!le)return"No especificada";try{const et=le instanceof Date?le:new Date(le);return isNaN(et.getTime())?"Fecha invlida":et.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha invlida"}},Xt=async()=>{try{await L0(en),De("/")}catch(le){console.error("Error al cerrar sesin:",le),Se("Error",le.message||"Error al cerrar sesin")}},Ct=async le=>{le.preventDefault();try{X(lt=>({...lt,password:!0}));const et=le.target.password.value;if(!et){Se("Error","Por favor, ingrese una nueva contrasea");return}if(et.length<6){Se("Error","La contrasea debe tener al menos 6 caracteres");return}const Xe=en.currentUser;Xe&&(await pv(Xe,et),Se("xito","Contrasea actualizada correctamente"),le.target.reset())}catch(et){console.error("Error al actualizar la contrasea:",et),Se("Error",et.message||"Error al actualizar la contrasea")}finally{X(et=>({...et,password:!1}))}},er=()=>{if(M)return a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(U)return a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[a.jsx(is,{className:"mx-auto text-4xl text-red-400 mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),a.jsx("p",{className:"text-gray-300 mb-4",children:U}),a.jsx("button",{onClick:()=>A(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(r){case"inicio":return a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",a.jsx("span",{className:"text-cyan-400",children:i})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Informacin de cuenta"}),a.jsxs("div",{className:"space-y-2 text-gray-300",children:[a.jsxs("p",{className:"flex items-center",children:[a.jsx(Bi,{className:"mr-2 text-cyan-400"}),a.jsx("span",{children:i})]}),a.jsxs("p",{className:"flex items-center",children:[a.jsx(Wr,{className:"mr-2 text-cyan-400"}),a.jsx("span",{children:l})]})]})]}),a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Saldo disponible"}),a.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",k.toFixed(2)]}),a.jsx("button",{onClick:()=>n("recargas"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Recargar"})]}),a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Ganancias totales"}),a.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",y.toFixed(2)]}),a.jsx("button",{onClick:()=>n("ganancias"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Ver ganancias"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tu cdigo de afiliado"}),a.jsxs("button",{onClick:Nt,disabled:!d,className:`flex items-center gap-2 px-3 py-1 rounded-xl transition-all duration-300 ${d?"bg-cyan-900/80 text-cyan-400 hover:bg-cyan-800/80":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(Uz,{size:16}),P?"Copiado!":"Copiar"]})]}),a.jsx("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 border border-gray-600/50",children:a.jsx("p",{className:"text-2xl font-bold text-center tracking-wider text-white",children:d||"Generando cdigo..."})}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Comparte este cdigo con tus amigos para que se registren y ganes comisiones por sus compras."}),a.jsxs("div",{className:"bg-cyan-900/30 p-4 rounded-xl border border-cyan-800/50",children:[a.jsx("h4",{className:"font-medium text-cyan-400 mb-2",children:"Enlace de afiliado:"}),a.jsx("p",{className:"text-sm bg-gray-800/50 p-2 rounded-xl border border-gray-600/50 overflow-x-auto text-gray-300",children:d?`https://blackkstreaming.com/register?ref=${d}`:"Generando enlace..."})]})]}),a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Referidos recientes"}),S.length>0?S.map(le=>a.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"font-medium text-white",children:le.username||"Sin nombre"}),a.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-900/80 text-green-400",children:"Activo"})]}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Unido: ",Ge(le.joinDate)]})]},le.id)):a.jsx("p",{className:"text-gray-400 py-2",children:"No tienes referidos recientes"}),S.length>0&&a.jsx("button",{onClick:()=>n("referidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los referidos"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Pedidos recientes"}),ve.length>0?ve.slice(0,3).map(le=>{const et=new Date(le.endDate)>new Date&&le.status==="completed",Xe=le.status==="pending";return a.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"font-medium text-white",children:le.productName}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${Xe?"bg-yellow-900/80 text-yellow-400":et?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:Xe?"A pedido":et?"Activo":"Expirado"})]}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Vence: ",Ge(le.endDate)]})]},le.id)}):a.jsx("p",{className:"text-gray-400 py-2",children:"No tienes pedidos recientes"}),ve.length>3&&a.jsx("button",{onClick:()=>n("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]}),a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Notificaciones"}),R.length>0?R.map(le=>a.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[a.jsx("p",{className:"text-gray-300",children:le.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Ge(le.updatedAt)})]},le.id)):a.jsx("p",{className:"text-gray-400 py-2",children:"No hay notificaciones"})]})]})]});case"notificaciones":return a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Notificaciones"}),R.length>0?a.jsx("div",{className:"space-y-4",children:R.map(le=>a.jsxs("div",{className:"border border-gray-600/50 rounded-2xl p-4 hover:bg-gray-700/50 transition-all duration-300",children:[a.jsx("p",{className:"text-gray-300",children:le.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:Ge(le.updatedAt)})]},le.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(f0,{className:"mx-auto text-4xl text-gray-400 mb-3"}),a.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay notificaciones"}),a.jsx("p",{className:"text-gray-400",children:"No tienes mensajes nuevos"})]})]});case"recargas":return a.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Recargar saldo"}),a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),a.jsx("input",{type:"number",value:Ee,onChange:le=>Re(le.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mnimo S/ 10.00",min:"10",step:"0.01"})]}),a.jsx("button",{onClick:wt,disabled:j.topUp||!Ee||parseFloat(Ee)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${Ee&&parseFloat(Ee)>=10&&!j.topUp?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:j.topUp?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Solicitar recarga"}),a.jsxs("div",{className:"mt-6 bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[a.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[a.jsx(Ys,{className:"mr-2"})," Cmo realizar tu recarga?"]}),a.jsxs("p",{className:"text-gray-300 mb-2",children:["Realiza tu pago mediante ",a.jsx("span",{className:"font-semibold text-white",children:"Yape"})," al nmero:"]}),a.jsx("p",{className:"text-xl font-bold text-white mb-2",children:" 931757531"}),a.jsx("p",{className:"text-gray-300 mb-3",children:"Una vez realizado el pago, por favor contctanos va WhatsApp al mismo nmero para confirmar tu recarga."}),a.jsxs("a",{href:`https://wa.me/51931757531?text=${encodeURIComponent("Hola , he realizado una recarga a travs de Yape. Por favor, confirma mi pago.")}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300",children:[a.jsx(Wr,{className:"mr-2"})," Confirmar por WhatsApp"]})]})]})]}),a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),Be.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[a.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Accin"})]})}),a.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:Be.map(le=>{const et=encodeURIComponent(`Hola, he pedido una recarga de S/ ${le.amount?.toFixed(2)||"0.00"} con el nombre ${i}. Adjunto la captura de mi pago, por favor.`);return a.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",le.amount?.toFixed(2)||"0.00"]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${le.status==="aprobado"?"bg-green-900/80 text-green-400":le.status==="pendiente"?"bg-yellow-900/80 text-yellow-400":"bg-red-900/80 text-red-400"}`,children:le.status})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-400",children:Ge(le.date)}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:le.status==="pendiente"?a.jsxs("a",{href:`https://wa.me/51940505969?text=${et}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300 text-sm",children:[a.jsx(Wr,{className:"mr-2"})," Enviar captura"]}):a.jsx("span",{className:"text-gray-400 text-sm",children:""})})]},le.id)})})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ys,{className:"mx-auto text-4xl text-gray-400 mb-3"}),a.jsx("p",{className:"text-gray-400",children:"No hay recargas registradas"})]})]})]});case"pedidos":return a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:"Mis pedidos"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Buscar pedidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:z,onChange:le=>B(le.target.value)}),a.jsx(ja,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),ve.length>0?a.jsx("div",{className:"space-y-6",children:ve.filter(le=>(le.productName||"").toLowerCase().includes(z.toLowerCase())||(le.orderId||"").toLowerCase().includes(z.toLowerCase())).map(le=>{const et=parseFloat(le.price)||0,Xe=new Date(le.endDate)>new Date&&le.status==="completed",lt=le.status==="pending",mt=le.daysRemaining||0,ct=le.timeElapsedPercentage||0;let Te="bg-green-400";ct>70&&ct<=90?Te="bg-yellow-400":ct>90&&(Te="bg-red-400");const Ie=lt?a.jsx(Ru,{className:"text-yellow-400"}):Xe?a.jsx(vu,{className:"text-green-400"}):a.jsx(is,{className:"text-red-400"}),ut=encodeURIComponent(`*Consulta sobre Pedido - ${le.productName||"Sin nombre"}*

*N Pedido:* ${le.orderId||"No especificado"}
*Producto:* ${le.productName||"No especificado"}
*Precio:* S/ ${et.toFixed(2)}
*Estado:* ${lt?"A pedido":Xe?"Activo":"Expirado"}
*Fecha de Inicio:* ${Ge(le.startDate)}
*Fecha de Vencimiento:* ${Ge(le.endDate)}

`+(lt?`Hola , he comprado un producto a pedido (${le.productName}). En cuntos das estar listo? Por favor, indqueme los detalles para coordinar.`:"Por favor indqueme cmo puedo resolver mi consulta sobre este pedido.")),Ae=encodeURIComponent(` Estimado/a ${le.client?.name||"Cliente"} 

Le enviamos la informacin de su suscripcin a nuestro servicio de streaming:
 Tipo: ${le.productName||"Sin nombre"}.
 Cdigo: ${le.orderId||"No especificado"}
`+(lt?"":` Correo: ${le.account?.email||"No especificado"}
 Contrasea: ${le.account?.password||"No especificado"}
 Perfil: ${le.account?.profile||"No especificado"}
 PIN: ${le.account?.pin||"No especificado"}
`)+` URL: Sin URL
 Fecha de creacin: ${Ge(le.startDate)}
 Fecha de vencimiento: ${Ge(le.endDate)}
 Das contratados: ${le.durationDays||30} das.

`+(lt?`*Nota:* Este pedido est "A pedido". El proveedor se contactar contigo para coordinar los detalles.

`:"")+`*Trminos y Condiciones:*
${le.termsAndConditions||"No se especificaron trminos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),ze=le.providerPhone?le.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return a.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[Ie,a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-white",children:le.productName||"Producto sin nombre"}),le.orderId&&a.jsxs("p",{className:"text-xs text-gray-400",children:["N Pedido: ",le.orderId]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",et.toFixed(2)]}),a.jsx("p",{className:`text-xs font-medium ${lt?"text-yellow-400":Te.replace("bg-","text-")}`,children:lt?"Pendiente de activacin":`${mt} da${mt===1?"":"s"} restante${mt===1?"":"s"}`})]})]}),a.jsxs("div",{className:"p-4 bg-gray-700/50 backdrop-blur-sm",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"w-full bg-gray-600/50 rounded-full h-2.5",children:a.jsx("div",{className:`h-2.5 rounded-full ${Te}`,style:{width:`${Math.min(ct,100)}%`}})}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-right",children:[ct.toFixed(0),"% completado"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[a.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[a.jsx(Bi,{className:"mr-2"})," Detalles de la Cuenta"]}),a.jsx("div",{className:"space-y-2 text-gray-300",children:lt?a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Usuario:"}),a.jsx("span",{className:"block text-white",children:"Por completar"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Contrasea:"}),a.jsx("span",{className:"block text-white",children:"Por completar"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),a.jsx("span",{className:"block text-white",children:"Por completar"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),a.jsx("span",{className:"block text-white",children:"Por completar"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),a.jsx("span",{className:"block text-white break-all",children:le.account?.email||"No especificado"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Contrasea:"}),a.jsx("span",{className:"block text-white break-all",children:le.account?.password||"No especificado"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),a.jsx("span",{className:"block text-white",children:le.account?.profile||"No especificado"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),a.jsx("span",{className:"block text-white",children:le.account?.pin||"No especificado"})]})]})})]}),a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[a.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[a.jsx(H5,{className:"mr-2"})," Informacin del Pedido"]}),a.jsxs("div",{className:"space-y-2 text-gray-300",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),a.jsx("span",{className:"block text-white",children:le.provider||"No especificado"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Telfono del Proveedor:"}),a.jsx("span",{className:"block text-white",children:le.providerPhone||"No especificado"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Estado:"}),a.jsx("span",{className:`block px-2 py-1 text-xs rounded-full ${lt?"bg-yellow-900/80 text-yellow-400":Xe?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:lt?"A pedido":Xe?"Activo":"Expirado"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Mtodo de Pago:"}),a.jsx("span",{className:"block text-white",children:"BlackStreaming"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de inicio:"}),a.jsx("span",{className:"block text-white",children:Ge(le.startDate)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de vencimiento:"}),a.jsx("span",{className:"block text-white",children:Ge(le.endDate)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Das restantes:"}),a.jsx("span",{className:`block ${Te.replace("bg-","text-")}`,children:mt})]})]})]}),a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[a.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[a.jsx(Bi,{className:"mr-2"})," Informacin del Cliente"]}),a.jsxs("div",{className:"space-y-2 text-gray-300",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),a.jsx("span",{className:"block text-white",children:le.client?.name||"No especificado"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Telfono:"}),a.jsx("span",{className:"block text-white",children:le.client?.phone||"No especificado"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),a.jsx("span",{className:"block text-white",children:le.client?.email||"No especificado"})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("a",{href:`https://wa.me/51${ze}?text=${ut}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[a.jsx(Wr,{size:18})," Contactar Proveedor"]}),le.renewable&&a.jsx("button",{onClick:()=>pr(le),disabled:j[`renew_${le.id}`],className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 ${j[`renew_${le.id}`]?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:j[`renew_${le.id}`]?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):a.jsxs(a.Fragment,{children:[a.jsx(G5,{size:18})," Renovar Pedido"]})}),le.client?.phone&&a.jsxs("a",{href:`https://wa.me/${le.client.phone.replace(/^\+/,"")}?text=${Ae}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[a.jsx(Wr,{size:18})," Contactar Cliente"]})]})]})]},le.id)})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ml,{className:"mx-auto text-4xl text-gray-400 mb-3"}),a.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes pedidos registrados"}),a.jsx("p",{className:"text-gray-400",children:"Realiza tu primer pedido en nuestra tienda"})]})]});case"referidos":return a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:["Todos tus referidos (",p.length,")"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Buscar referidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:z,onChange:le=>B(le.target.value)}),a.jsx(ja,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),p.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[a.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha de registro"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),a.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:p.filter(le=>{const et=le.username||"",Xe=le.email||"";return et.toLowerCase().includes(z.toLowerCase())||Xe.toLowerCase().includes(z.toLowerCase())}).map(le=>a.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:le.username||"Sin nombre"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:le.email||"Sin email"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:le.joinDate?Ge(le.joinDate):"No especificada"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900/80 text-green-400",children:le.status||"Activo"})})]},le.id))})]})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ip,{className:"mx-auto text-4xl text-gray-400 mb-3"}),a.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes referidos an"}),a.jsx("p",{className:"text-gray-400",children:"Comparte tu cdigo de afiliado para empezar a ganar comisiones"})]})]});case"ganancias":return a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Reporte de ganancias"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[a.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias hoy"}),a.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),a.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde ayer"})]}),a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[a.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias esta semana"}),a.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),a.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde la semana pasada"})]}),a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[a.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias totales"}),a.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",y.toFixed(2)]}),a.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[p.length," referidos"]})]})]}),a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[a.jsxs("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[a.jsx(nT,{className:"mr-2 text-cyan-400"})," Historial de comisiones"]}),p.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[a.jsx("thead",{className:"bg-gray-800/50 backdrop-blur-sm",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Referido"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Origen"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),a.jsx("tbody",{className:"bg-gray-700/50 divide-y divide-gray-600/50",children:p.map(le=>a.jsxs("tr",{className:"hover:bg-gray-600/50 transition-all duration-300",children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:le.username||"Usuario sin nombre"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:le.joinDate?Ge(le.joinDate):"No especificada"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:"S/ 0.00"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:"Registro"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-900/80 text-yellow-400",children:"Pendiente"})})]},le.id))})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ys,{className:"mx-auto text-4xl text-gray-400 mb-3"}),a.jsx("p",{className:"text-gray-400",children:"No hay comisiones registradas"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gana comisiones cuando tus referidos realicen compras"})]})]})]});case"configuracion":return a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuracin de cuenta"}),a.jsxs("form",{onSubmit:Ct,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"text",value:i,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"}),a.jsx("button",{type:"button",onClick:()=>nt({id:E,username:i}),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-all duration-300",title:"Editar Nombre",children:a.jsx(Hz,{size:16})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrnico"}),a.jsx("input",{type:"email",value:l,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contrasea (opcional)"}),a.jsx("input",{type:"password",name:"password",placeholder:"Nueva contrasea",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),a.jsx("button",{type:"submit",disabled:j.password,className:"w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium mt-4 transition-all duration-300 disabled:bg-cyan-800",children:j.password?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar cambios"})]}),a.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:a.jsxs("button",{onClick:Xt,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[a.jsx(Sp,{})," Cerrar sesin"]})})]});default:return a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[a.jsx(is,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Seccin no encontrada"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"La seccin que ests buscando no existe o no est disponible."}),a.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[a.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:a.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:a.jsx(Gz,{className:"text-xl"})})}),a.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:a.jsxs("div",{className:"p-4 flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),a.jsx("button",{onClick:()=>e(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:a.jsx(zi,{className:"text-lg"})})]}),a.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:i.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-white",children:i}),a.jsx("p",{className:"text-xs text-gray-400",children:"Afiliador"})]})]}),a.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Wz},{id:"notificaciones",label:"Notificaciones",icon:f0},{id:"recargas",label:"Recargas",icon:Ys},{id:"pedidos",label:"Pedidos",icon:Ml},{id:"referidos",label:"Referidos",icon:Ip},{id:"ganancias",label:"Ganancias",icon:nT},{id:"configuracion",label:"Configuracin",icon:X5}].map(le=>a.jsxs("button",{onClick:()=>{n(le.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===le.id?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"text-gray-300 hover:bg-gray-800/50 hover:text-cyan-400"}`,children:[a.jsx(le.icon,{className:"text-lg"}),a.jsx("span",{children:le.label})]},le.id))}),a.jsx("div",{className:"mt-auto pt-6",children:a.jsxs("button",{onClick:Xt,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-900/20 rounded-xl transition-all duration-300 border border-red-900/50",children:[a.jsx(Sp,{className:"text-lg"}),a.jsx("span",{children:"Cerrar Sesin"})]})})]})}),a.jsx("main",{className:"md:ml-64 p-4 sm:p-6 min-h-screen",children:er()}),a.jsx(zQ,{isOpen:Q.isOpen,title:Q.title,message:Q.message,onClose:ue}),a.jsx(HQ,{isOpen:se.isOpen,user:se.user,onClose:ht,onSave:yt}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>e(!1)})]})},qQ=({isOpen:t,message:e,title:r,onClose:n})=>t?a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:r}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:a.jsx(zi,{size:20})})]}),a.jsx("p",{className:"text-gray-300 mb-6",children:e}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,B6=({username:t="Usuario",products:e=[],orders:r=[],providerBalance:n=0,balanceLoading:i=!1,totalStock:s=0,totalEarnings:l=0,isAdmin:u=!1,email:d="",notifications:h=[],setActiveSection:p=()=>{},formatDate:g=v=>new Date(v).toLocaleDateString(),theme:y="dark"})=>{const v=y==="dark",k={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return a.jsxs(ne.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${v?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:k,initial:"hidden",animate:"visible",children:[a.jsxs(ne.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${v?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Bienvenido, ",a.jsx("span",{className:"text-red-400",children:t})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-blue-400":"text-blue-600"}`,children:[a.jsx(r2,{size:20}),"Inventario"]}),a.jsx("p",{className:`text-4xl font-bold ${v?"text-white":"text-gray-900"} mb-2`,children:e.length}),a.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"} mb-1`,children:"Productos registrados"}),a.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:["Stock total: ",s]}),a.jsx(ne.button,{onClick:()=>p("inventario"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${v?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver Inventario"})]}),a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-green-400":"text-green-600"}`,children:[a.jsx(Ys,{size:20}),"Ganancias"]}),i?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"}),a.jsx("span",{className:`ml-2 ${v?"text-gray-400":"text-gray-600"}`,children:"Cargando..."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:`text-4xl font-bold ${v?"text-white":"text-gray-900"} mb-2`,children:["S/ ",l.toFixed(2)]}),a.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"} mb-1`,children:[r.length," ventas realizadas"]}),a.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:["Disponible: S/ ",n.toFixed(2)]}),a.jsx(ne.button,{onClick:()=>p("ganancias"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 ${v?"from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver Ganancias"})]})]}),a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-purple-400":"text-purple-600"}`,children:[a.jsx(Bi,{size:20}),"Mi Cuenta"]}),a.jsxs("div",{className:`space-y-3 ${v?"text-gray-300":"text-gray-700"} mb-6`,children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[a.jsx(Bi,{className:"text-purple-400 flex-shrink-0",size:18}),a.jsx("span",{className:"font-medium",children:t})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[a.jsx(Wr,{className:"text-purple-400 flex-shrink-0",size:18}),a.jsx("span",{className:"font-medium",children:d})]}),a.jsx("div",{className:`px-3 py-2 rounded-full text-sm font-medium ${u?v?"bg-purple-900/50 text-purple-300 border border-purple-500/30":"bg-purple-100 text-purple-800 border border-purple-300":v?"bg-gray-700/50 text-gray-300 border border-gray-500/30":"bg-gray-200 text-gray-700 border border-gray-300"}`,children:u?"Administrador":"Proveedor"})]}),a.jsx(ne.button,{onClick:()=>p("configuracion"),className:`w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${v?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Editar Perfil"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(ne.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-indigo-400":"text-indigo-600"}`,children:[a.jsx(Ml,{size:20}),"Pedidos recientes"]}),a.jsx(Ht,{children:r.length===0?a.jsxs(ne.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[a.jsx(ne.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:a.jsx(Ml,{className:"text-white",size:24})}),a.jsx("h4",{className:`text-xl font-semibold mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"No hay pedidos recientes"}),a.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:"Tus pedidos aparecern aqu"})]}):a.jsxs("div",{className:"overflow-x-auto rounded-xl border",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[a.jsx("thead",{className:`${v?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Comprador"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Monto"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Estado"})]})}),a.jsx("tbody",{className:`${v?"bg-gray-800/70":"bg-white/70"} divide-y divide-gray-700/50`,children:r.slice(0,3).map((E,O)=>{const M=new Date(E.endDate)>new Date&&E.status==="completed",V=E.status==="pending";return a.jsxs(ne.tr,{className:"transition-all duration-300 hover:bg-indigo-500/5",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:O*.1},children:[a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-medium ${v?"text-white":"text-gray-900"} truncate max-w-xs`,children:E.productName}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${v?"text-gray-300":"text-gray-700"}`,children:E.buyer}),a.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-semibold ${v?"text-indigo-400":"text-indigo-600"}`,children:["S/ ",(E.amount||0).toFixed(2)]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${V?v?"bg-yellow-900/80 text-yellow-300 border border-yellow-500/30":"bg-yellow-100 text-yellow-800 border border-yellow-300":M?v?"bg-green-900/80 text-green-300 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300":v?"bg-red-900/80 text-red-300 border border-red-500/30":"bg-red-100 text-red-800 border border-red-300"}`,children:V?"A pedido":M?"Activo":"Expirado"})})]},E.id||O)})})]}),r.length>3&&a.jsx(ne.button,{onClick:()=>p("pedidos"),className:`w-full mt-4 px-6 py-3 text-center text-sm transition-all duration-300 rounded-xl border-2 font-medium ${v?"border-indigo-500/50 text-indigo-400 hover:bg-indigo-500/10":"border-indigo-500/50 text-indigo-600 hover:bg-indigo-500/10"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver todos los pedidos"})]})})]}),a.jsxs(ne.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-pink-400":"text-pink-600"}`,children:[a.jsx(Wr,{size:20}),"Notificaciones"]}),a.jsx(Ht,{children:h.length>0?h.map((E,O)=>a.jsx(ne.div,{className:`border-b py-4 last:border-0 hover:rounded-xl hover:px-2 transition-all duration-300 ${v?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,delay:O*.1},whileHover:{backgroundColor:v?"rgba(55, 65, 81, 0.5)":"rgba(229, 231, 235, 0.5)"},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 pt-1",children:a.jsx(Wr,{className:"text-pink-400",size:18})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:`font-medium ${v?"text-gray-300":"text-gray-700"} mb-1`,children:E.message}),a.jsx("p",{className:`text-xs ${v?"text-gray-400":"text-gray-500"}`,children:g(E.updatedAt?.toDate?.()||new Date)})]})]})},E.id)):a.jsxs(ne.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[a.jsx(ne.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:a.jsx(Wr,{className:"text-white",size:24})}),a.jsx("h4",{className:`text-xl font-semibold mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"No hay notificaciones"}),a.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:"Tus notificaciones aparecern aqu"})]})})]})]})]})};B6.propTypes={username:q.string.isRequired,products:q.arrayOf(q.object).isRequired,orders:q.arrayOf(q.object).isRequired,providerBalance:q.number.isRequired,balanceLoading:q.bool.isRequired,totalStock:q.number.isRequired,totalEarnings:q.number.isRequired,isAdmin:q.bool.isRequired,email:q.string.isRequired,notifications:q.arrayOf(q.object).isRequired,setActiveSection:q.func.isRequired,formatDate:q.func.isRequired,theme:q.oneOf(["light","dark"]).isRequired};const U6=({products:t,setActiveSection:e,handleEdit:r,handleDelete:n,getCategoryDisplayName:i,totalStock:s,theme:l="dark"})=>{const u=l==="dark",d=y=>{const v={netflix:{bg:u?"bg-red-900/30":"bg-red-100",text:u?"text-red-300":"text-red-800"},disney:{bg:u?"bg-blue-900/30":"bg-blue-100",text:u?"text-blue-300":"text-blue-800"},max:{bg:u?"bg-yellow-900/30":"bg-yellow-100",text:u?"text-yellow-300":"text-yellow-800"},spotify:{bg:u?"bg-green-900/30":"bg-green-100",text:u?"text-green-300":"text-green-800"},default:{bg:u?"bg-gray-900/30":"bg-gray-100",text:u?"text-gray-300":"text-gray-700"}};return v[y?.toLowerCase()]||v.default},h={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},g={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:u?"rgba(55, 65, 81, 0.5)":"rgba(229, 231, 235, 0.5)",transition:{duration:.2}}};return a.jsxs(ne.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-4",children:[a.jsxs(ne.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Inventario",a.jsxs("span",{className:`ml-2 bg-gradient-to-r ${u?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:[t.length," productos"]})]}),a.jsxs(ne.button,{onClick:()=>e("subirProducto"),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 flex items-center ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(rT,{className:"mr-2",size:18}),"Nuevo Producto"]})]}),t.length>0?a.jsx("div",{className:"overflow-x-auto rounded-2xl border shadow-lg",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200/30",children:[a.jsx("thead",{className:`${u?"bg-gray-700/60":"bg-gray-50/60"}`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Producto"}),a.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Precio"}),a.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Stock"}),a.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Categora"}),a.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Estado"}),a.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200/30",children:a.jsx(Ht,{children:t.map((y,v)=>{const k=d(y.category);return a.jsxs(ne.tr,{className:`transition-colors duration-200 ${u?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:g,initial:"hidden",animate:"visible",whileHover:"hover",exit:{opacity:0,x:-20},transition:{duration:.3,delay:v*.05},children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-3",children:[y.image?a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{className:"w-10 h-10 rounded-full object-cover shadow-md",src:y.image,alt:y.name,loading:"lazy"})}):a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-md",children:a.jsx(Kz,{className:"text-white",size:16})}),a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("div",{className:`text-sm font-semibold ${u?"text-white":"text-gray-900"} truncate`,children:y.name})})]})}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm font-semibold text-green-500",children:["S/ ",(parseFloat(y.price)||0).toFixed(2)]}),y.renewalPrice&&parseFloat(y.renewalPrice)!==parseFloat(y.price)&&a.jsxs("div",{className:`text-xs ${u?"text-gray-400":"text-gray-600"}`,children:["Ren: S/ ",parseFloat(y.renewalPrice).toFixed(2)]})]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(y.stock||0)>0?u?"bg-green-900/50 text-green-400":"bg-green-100 text-green-800":u?"bg-red-900/50 text-red-400":"bg-red-100 text-red-800"}`,children:y.stock||0})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.bg} ${k.text}`,children:i(y.category)})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${y.status==="En stock"?u?"bg-green-900/80 text-green-400 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300":y.status==="A pedido"?u?"bg-yellow-900/80 text-yellow-400 border border-yellow-500/30":"bg-yellow-100 text-yellow-800 border border-yellow-300":u?"bg-red-900/80 text-red-400 border border-red-500/30":"bg-red-100 text-red-800 border border-red-300"}`,children:y.status||"En stock"})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ne.button,{onClick:()=>r(y),className:"p-2 rounded-xl bg-blue-500/80 hover:bg-blue-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Editar","aria-label":"Editar producto",children:a.jsx(z5,{size:16})}),a.jsx(ne.button,{onClick:()=>n(y.id),className:"p-2 rounded-xl bg-red-500/80 hover:bg-red-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Eliminar","aria-label":"Eliminar producto",children:a.jsx(Q5,{size:16})})]})})]},y.id||v)})})})]})}):a.jsxs(ne.div,{className:`text-center py-16 rounded-2xl border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",whileHover:"hover",children:[a.jsx(ne.div,{className:`mx-auto w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center mb-6 shadow-lg ${u?"bg-gray-700/50":"bg-gray-200/50"}`,animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:a.jsx(r2,{className:"text-white",size:32})}),a.jsx("h4",{className:`text-xl font-semibold mb-2 ${u?"text-gray-300":"text-gray-700"}`,children:"No tienes productos registrados"}),a.jsx("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"} mb-6`,children:"Agrega tu primer producto para comenzar a vender"}),a.jsxs(ne.button,{onClick:()=>e("subirProducto"),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 flex items-center ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(rT,{className:"mr-2",size:18}),"Agregar Producto"]})]})]})};U6.propTypes={products:q.arrayOf(q.shape({id:q.string.isRequired,name:q.string.isRequired,price:q.oneOfType([q.string,q.number]).isRequired,stock:q.oneOfType([q.string,q.number]),status:q.string,category:q.string,image:q.string})).isRequired,setActiveSection:q.func.isRequired,handleEdit:q.func.isRequired,handleDelete:q.func.isRequired,getCategoryDisplayName:q.func.isRequired,totalStock:q.number.isRequired,theme:q.oneOf(["light","dark"]).isRequired};const GQ=({soldAccounts:t,formatDate:e,theme:r="dark"})=>{const n=r==="dark",i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},s={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return a.jsxs(ne.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${n?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:i,initial:"hidden",animate:"visible",children:[a.jsxs(ne.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${n?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[a.jsx(tT,{className:"inline mr-2",size:32}),"Cuentas Vendidas"]}),a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${n?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:s,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${n?"text-blue-400":"text-blue-600"}`,children:[a.jsx(r2,{size:20}),"Registro de Ventas"]}),a.jsx(Ht,{children:t.length===0?a.jsxs(ne.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[a.jsx(ne.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:a.jsx(tT,{className:"text-white",size:24})}),a.jsx("h4",{className:`text-xl font-semibold mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"No hay cuentas vendidas"}),a.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"Las cuentas vendidas aparecern aqu"})]}):a.jsx("div",{className:"overflow-x-auto rounded-xl border",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[a.jsx("thead",{className:`${n?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Email"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Perfil"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Fecha de Venta"})]})}),a.jsx("tbody",{className:`${n?"bg-gray-800/70":"bg-white/70"} divide-y divide-gray-700/50`,children:t.map((l,u)=>a.jsxs(ne.tr,{className:"transition-all duration-300 hover:bg-blue-500/5",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:u*.1},children:[a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-medium ${n?"text-white":"text-gray-900"} truncate max-w-xs`,children:l.productName}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-700"}`,children:l.email}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-700"}`,children:l.profile||"N/A"}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-700"}`,children:e(l.saleDate)})]},l.id||u))})]})})})]})]})},KQ=({product:t,setProduct:e,handleChange:r,handleFileChange:n,handleStockChange:i,handleAccountFieldChange:s,handleSubmit:l,setActiveSection:u,theme:d="dark"})=>{const h=d==="dark",p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return a.jsxs(ne.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${h?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",children:[a.jsxs(ne.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${h?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[a.jsx(Cp,{className:"inline mr-2",size:32}),"Subir Nuevo Producto"]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-blue-400":"text-blue-600"}`,children:[a.jsx(W5,{size:20}),"Imagen del producto"]}),a.jsx("div",{className:`flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl ${h?"bg-gray-900/80 border-gray-700/50":"bg-gray-200/80 border-gray-300/50"}`,children:t.image?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:t.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain",loading:"lazy"}),a.jsx(ne.button,{type:"button",onClick:()=>e({...t,image:""}),className:`absolute top-0 right-0 ${h?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(zi,{size:16})})]}):a.jsxs(a.Fragment,{children:[a.jsx(Cp,{className:`mx-auto h-12 w-12 ${h?"text-gray-400":"text-gray-500"}`}),a.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:a.jsxs("label",{htmlFor:"file-upload",className:`relative cursor-pointer rounded-xl font-medium ${h?"bg-gray-900/50 text-blue-400 hover:text-blue-500":"bg-gray-200/50 text-blue-600 hover:text-blue-700"} focus-within:outline-none`,children:[a.jsx("span",{children:"Subir una imagen"}),a.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:y=>n(y),accept:"image/*"})]})}),a.jsx("p",{className:`text-xs ${h?"text-gray-500":"text-gray-600"}`,children:"PNG, JPG, GIF hasta 10MB"})]})})]}),a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-purple-400":"text-purple-600"}`,children:[a.jsx(Y5,{size:20}),"Informacin Bsica"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Nombre del producto*"}),a.jsx("input",{type:"text",name:"name",value:t.name,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Categora*"}),a.jsxs("select",{name:"category",value:t.category,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[a.jsx("option",{value:"Netflix",children:"Netflix"}),a.jsx("option",{value:"Spotify",children:"Spotify"}),a.jsx("option",{value:"Disney",children:"Disney+"}),a.jsx("option",{value:"Max",children:"Max"}),a.jsx("option",{value:"Prime Video",children:"Prime Video"}),a.jsx("option",{value:"Vix",children:"Vix"}),a.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),a.jsx("option",{value:"Canva",children:"Canva"}),a.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),a.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),a.jsx("option",{value:"Dgo",children:"DGO"}),a.jsx("option",{value:"Liga Max",children:"Liga Max"}),a.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),a.jsx("option",{value:"Youtube",children:"YouTube"}),a.jsx("option",{value:"Deezer",children:"Deezer"}),a.jsx("option",{value:"Tidal",children:"Tidal"}),a.jsx("option",{value:"Vpn",children:"VPN"}),a.jsx("option",{value:"WinTv",children:"WinTV"}),a.jsx("option",{value:"Apple Music",children:"Apple Music"}),a.jsx("option",{value:"Apple Tv",children:"Apple TV"}),a.jsx("option",{value:"Iptv",children:"IPTV"}),a.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),a.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),a.jsx("option",{value:"Pornhub",children:"Pornhub"}),a.jsx("option",{value:"Paramount",children:"Paramount"}),a.jsx("option",{value:"Licencias",children:"Licencias"}),a.jsx("option",{value:"Capcut",children:"Capcut"}),a.jsx("option",{value:"Duolingo",children:"Duolingo"}),a.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Tipo de cuenta*"}),a.jsxs("select",{name:"accountType",value:t.accountType,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[a.jsx("option",{value:"Premium",children:"Premium"}),a.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Estado*"}),a.jsxs("select",{name:"status",value:t.status,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[a.jsx("option",{value:"En stock",children:"En stock"}),a.jsx("option",{value:"A pedido",children:"A pedido"}),a.jsx("option",{value:"Agotado",children:"Agotado"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Stock*"}),a.jsx("input",{type:"number",name:"stock",value:t.status==="Agotado"?0:t.stock,onChange:i,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all ${t.status==="Agotado"?"opacity-50 cursor-not-allowed":""} placeholder-gray-500`,min:"0",required:!0,disabled:t.status==="Agotado"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio (S/)*"}),a.jsx("input",{type:"number",name:"price",value:t.price,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"renewal",checked:t.renewal,onChange:r,className:`h-4 w-4 rounded ${h?"text-purple-400 focus:ring-purple-400 border-gray-600/50":"text-purple-600 focus:ring-purple-600 border-gray-300/50"}`}),a.jsx("label",{className:`ml-2 text-sm ${h?"text-gray-300":"text-gray-700"}`,children:"Tiene renovacin?"})]})]}),t.renewal&&a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio de renovacin (S/)*"}),a.jsx("input",{type:"number",name:"renewalPrice",value:t.renewalPrice,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-8",children:[a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-green-400":"text-green-600"}`,children:[a.jsx(Ru,{size:20}),"Duracin y Contacto"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Duracin (das)"}),a.jsx("input",{type:"number",name:"duration",value:t.duration,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Dejar vaco para ilimitado",min:"1"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:["Telfono de contacto ",t.status==="A pedido"?"*":""]}),a.jsx("input",{type:"text",name:"providerPhone",value:t.providerPhone,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Ej: +51 987654321",required:t.status==="A pedido"})]})]})]}),a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-indigo-400":"text-indigo-600"}`,children:[a.jsx(q5,{size:20}),"Enlaces y Descripciones"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"URL del producto (opcional)"}),a.jsx("input",{type:"url",name:"productUrl",value:t.productUrl||"",onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Ej: https://www.ejemplo.com/producto"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Detalles del producto"}),a.jsx("textarea",{name:"details",value:t.details,onChange:r,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Describe los detalles y caractersticas del producto"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Trminos y condiciones"}),a.jsx("textarea",{name:"terms",value:t.terms,onChange:r,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Especifica los trminos y condiciones de uso"})]})]})]}),t.status==="En stock"&&a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-pink-400":"text-pink-600"}`,children:[a.jsx(Ip,{size:20}),"Cuentas Asociadas"]}),a.jsx("p",{className:`text-sm mb-4 ${h?"text-gray-400":"text-gray-600"}`,children:"Debe completar todas las cuentas segn el stock indicado"}),a.jsx(Ht,{children:a.jsx("div",{className:"space-y-4",children:t.accounts.map((y,v)=>a.jsxs(ne.div,{className:`border rounded-xl p-4 ${h?"bg-gray-900/70 border-gray-700/50":"bg-gray-200/70 border-gray-300/50"} backdrop-blur-sm`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:v*.1},children:[a.jsxs("h4",{className:`text-sm font-medium ${h?"text-white":"text-gray-900"} mb-3 flex items-center gap-2`,children:["Cuenta ",v+1]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Correo electrnico*"}),a.jsx("input",{type:"email",value:y.email,onChange:k=>s(v,"email",k.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Contrasea*"}),a.jsx("input",{type:"text",value:y.password,onChange:k=>s(v,"password",k.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Perfil (opcional)"}),a.jsx("input",{type:"text",value:y.profile,onChange:k=>s(v,"profile",k.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: Perfil 1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"PIN (opcional)"}),a.jsx("input",{type:"text",value:y.pin,onChange:k=>s(v,"pin",k.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: 1234"})]})]})]},v))})})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[a.jsx(ne.button,{onClick:()=>u("inventario"),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${h?"from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500":"from-gray-300 to-gray-400 hover:from-gray-400 hover:to-gray-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancelar"}),a.jsx(ne.button,{onClick:l,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-pink-500/50 ${h?"from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700":"from-pink-600 to-purple-800 hover:from-pink-700 hover:to-purple-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Subir Producto"})]})]})},XQ=({orders:t,totalEarnings:e,providerBalance:r,balanceLoading:n,getCategoryDisplayName:i,formatDate:s,theme:l="dark"})=>{const u=l==="dark",d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return a.jsxs(ne.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",children:[a.jsxs(ne.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[a.jsx(Ys,{className:"inline mr-2",size:32}),"Ganancias"]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-green-400":"text-green-600"}`,children:[a.jsx(Ys,{size:20}),"Resumen Financiero"]}),a.jsxs("p",{className:`text-4xl font-bold ${u?"text-white":"text-gray-900"} mb-2`,children:["S/ ",e.toFixed(2)]}),a.jsxs("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"} mb-1`,children:[t.length," ventas realizadas"]}),n?a.jsxs("div",{className:"flex items-center justify-center py-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-500 mr-2"}),a.jsx("span",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:"Cargando saldo..."})]}):a.jsxs("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:["Disponible: S/ ",r.toFixed(2)]})]}),a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-indigo-400":"text-indigo-600"}`,children:[a.jsx(Ml,{size:20}),"Historial de Ventas"]}),a.jsx(Ht,{children:t.length===0?a.jsxs(ne.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[a.jsx(ne.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:a.jsx(Ml,{className:"text-white",size:24})}),a.jsx("h4",{className:`text-xl font-semibold mb-2 ${u?"text-gray-300":"text-gray-700"}`,children:"No hay ventas registradas"}),a.jsx("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:"Tus ventas aparecern aqu"})]}):a.jsxs("div",{className:"overflow-x-auto rounded-xl border",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[a.jsx("thead",{className:`${u?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Categora"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Comprador"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Contacto"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Fecha"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Monto"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Estado"})]})}),a.jsx("tbody",{className:`${u?"bg-gray-800/70":"bg-white/70"} divide-y divide-gray-700/50`,children:t.slice(0,10).map((p,g)=>a.jsxs(ne.tr,{className:"transition-all duration-300 hover:bg-indigo-500/5",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:g*.1},children:[a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-gray-900"} truncate max-w-xs`,children:p.productName}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:i(p.category)}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[a.jsx("div",{className:`text-sm font-medium ${u?"text-white":"text-gray-900"}`,children:p.buyer}),a.jsx("div",{className:`text-xs ${u?"text-gray-400":"text-gray-600"}`,children:p.buyerEmail})]}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:p.buyerPhone}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:s(p.saleDate)}),a.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-semibold ${u?"text-indigo-400":"text-indigo-600"}`,children:["S/ ",(p.amount||0).toFixed(2)]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${u?"bg-green-900/80 text-green-300 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300"}`,children:"Completado"})})]},p.id||g))})]}),t.length>10&&a.jsxs("p",{className:`text-center mt-4 text-sm ${u?"text-gray-400":"text-gray-600"}`,children:["Mostrando las primeras 10 ventas. Hay ",t.length," en total."]})]})})]})]})]})},z6=({orders:t,searchQuery:e,setSearchQuery:r,getCategoryDisplayName:n,formatDate:i,handleEditOrder:s,handleActivateOrder:l,handleDeleteOrder:u,theme:d="dark"})=>{const[h,p]=N.useState({key:null,direction:"asc"}),g=d==="dark",y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},v={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:g?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},k=N.useMemo(()=>{let j=[...t].filter(X=>(X.productName||"").toLowerCase().includes(e.toLowerCase())||(X.category||"").toLowerCase().includes(e.toLowerCase())||(X.provider||"").toLowerCase().includes(e.toLowerCase()));return h.key&&j.sort((X,U)=>{let A=X[h.key]||"",S=U[h.key]||"";return typeof A=="string"&&(A=A.toLowerCase()),typeof S=="string"&&(S=S.toLowerCase()),A<S?h.direction==="asc"?-1:1:A>S?h.direction==="asc"?1:-1:0}),j},[t,e,h]),w=j=>{const X={netflix:{bg:g?"bg-red-900/30":"bg-red-100",text:g?"text-red-300":"text-red-800"},disney:{bg:g?"bg-blue-900/30":"bg-blue-100",text:g?"text-blue-300":"text-blue-800"},max:{bg:g?"bg-yellow-900/30":"bg-yellow-100",text:g?"text-yellow-300":"text-yellow-800"},spotify:{bg:g?"bg-green-900/30":"bg-green-100",text:g?"text-green-300":"text-green-800"},default:{bg:g?"bg-gray-900/30":"bg-gray-100",text:g?"text-gray-300":"text-gray-700"}};return X[j?.toLowerCase()]||X.default},E=(j,X)=>{const U=j.status||"pending",S=(j.daysRemaining||0)>0;let C,P,D;return U==="soporte"?(C="En soporte",P=X?"text-blue-400":"text-blue-600",D=a.jsx(Ia,{className:P,title:"En Soporte"})):U==="rechazado"?(C="No aplica soporte",P=X?"text-amber-700":"text-amber-900",D=a.jsx(is,{className:P,title:"No aplica soporte"})):U==="refunded"?(C="Reembolsado",P=X?"text-gray-400":"text-gray-600",D=a.jsx(is,{className:P,title:"Reembolsado"})):U==="pending"?(C="Pendiente",P=X?"text-yellow-400":"text-yellow-600",D=a.jsx(Ru,{className:P,title:"Pendiente"})):S?(C="Activo",P=X?"text-green-400":"text-green-600",D=a.jsx(vu,{className:P,title:"Activo"})):(C="Expirado",P=X?"text-red-400":"text-red-600",D=a.jsx(is,{className:P,title:"Expirado"})),{text:C,color:P,icon:D}},O=j=>{p(X=>({key:j,direction:X.key===j&&X.direction==="asc"?"desc":"asc"}))},M=j=>h.key!==j?null:h.direction==="asc"?a.jsx(Am,{className:"ml-1"}):a.jsx(Sm,{className:"ml-1"}),V=()=>{const j=k.map(S=>{const C=S.status||"pending",P=C==="pending",D=C==="soporte",z=C==="rechazado",B=C==="refunded",Ee=S.daysRemaining||0,Re=Ee>0;let Be;D?Be="En Soporte":z?Be="No aplica soporte":B?Be="Reembolsado":Re?Be="Activo":P?Be="Pendiente":Be="Expirado";const Fe=D||z||B||P&&!Re;let ve;return Fe?ve=Be:ve=`${Ee} da${Ee===1?"":"s"}`,{Estado:Be,Producto:S.productName||"Sin nombre",Categora:n(S.category),Proveedor:S.provider||"N/A",Monto:`S/ ${(S.amount||0).toFixed(2)}`,"Tiempo Restante":ve,"Fecha de Inicio":S.startDate?i(S.startDate):"N/A","Fecha de Vencimiento":S.endDate?i(S.endDate):"N/A",Comprador:S.buyer||"N/A",Telfono:S.buyerPhone||"N/A",Email:S.accountDetails?.email||"N/A",Contrasea:S.accountDetails?.password||"N/A",Perfil:S.accountDetails?.profile||"N/A",PIN:S.accountDetails?.pin||"N/A"}}),X=ss.json_to_sheet(j),U=ss.book_new();ss.book_append_sheet(U,X,"Pedidos");const A=new Date().toISOString().slice(0,10).replace(/-/g,"");Mm(U,`orders_export_${A}.xlsx`)};return a.jsxs(ne.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-7xl mx-auto border ${g?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:y,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"orders-title",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[a.jsxs("h3",{id:"orders-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${g?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[a.jsx(Ml,{className:"mr-2"})," Mis Pedidos",a.jsx("span",{className:`ml-2 bg-gradient-to-r ${g?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:k.length})]}),a.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[a.jsxs("div",{className:"relative flex-1 lg:w-80",children:[a.jsx("input",{type:"text",placeholder:"Buscar pedidos por nombre, categora o proveedor...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${g?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:e,onChange:j=>r(j.target.value),"aria-label":"Buscar pedidos por nombre, categora o proveedor"}),a.jsx(ja,{className:`absolute left-3 top-3.5 ${g?"text-gray-400":"text-gray-500"}`,size:18})]}),a.jsxs(ne.button,{onClick:V,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${g?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos como Excel","aria-label":"Exportar pedidos a Excel",children:[a.jsx(Cm,{size:18}),a.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),a.jsx(Ht,{children:k.length>0?a.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:a.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:a.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${g?"bg-gray-800/50":"bg-white/50"}`,children:[a.jsx("thead",{className:`${g?"bg-gray-700/60":"bg-gray-50/60"}`,children:a.jsx("tr",{children:[{key:"status",label:"Estado"},{key:"productName",label:"Producto"},{key:"category",label:"Categora"},{key:"provider",label:"Proveedor"},{key:"amount",label:"Monto"},{key:"daysRemaining",label:"Tiempo Restante"},{key:"startDate",label:"Inicio"},{key:"endDate",label:"Vencimiento"},{key:"buyer",label:"Comprador"},{key:"buyerPhone",label:"Telfono"},{key:"email",label:"Email"},{key:"password",label:"Contrasea"},{key:"profile",label:"Perfil"},{key:"pin",label:"PIN"},{label:"Acciones"}].map(({key:j,label:X})=>a.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${g?"text-gray-300":"text-gray-700"} cursor-pointer hover:text-blue-400 transition-colors`,onClick:()=>j&&O(j),children:a.jsxs("div",{className:"flex items-center justify-between",children:[X,j&&M(j)]})},j||X))})}),a.jsx("tbody",{className:"divide-y divide-gray-200/30",children:k.map(j=>{const X=parseFloat(j.amount)||0,U=j.status||"pending",A=U==="pending",S=U==="soporte",C=U==="rechazado",P=U==="refunded",D=j.daysRemaining||0,z=Math.min(j.timeElapsedPercentage||0,100),B=E(j,g),Ee=w(j.category);let Re;z<70?Re=g?"bg-green-500":"bg-green-600":z<90?Re=g?"bg-orange-500":"bg-orange-600":Re=g?"bg-red-500":"bg-red-600";const Be=!["En soporte","No aplica soporte","Reembolsado","Pendiente"].includes(B.text),Fe=S||C||P||A,ve=Fe?B.text:`${D} da${D===1?"":"s"}`,ie=Be?Re.replace("bg-","text-"):B.color,me=j.provider||"BlackStreaming",re=j.buyerPhone?j.buyerPhone.replace(/[^0-9]/g,""):null,R=j.soporteMessage?`

 *Nota de Soporte*: ${j.soporteMessage}`:"",K=encodeURIComponent(`Hola!  Soy ${me} de BlackStreaming.

 *Necesito contactarte* sobre tu pedido de *${j.productName||"Sin nombre"}*.
 *Pedido*: ${j.id||"N/A"}
 Podras confirmarme algunos detalles o resolver una duda rpida?

Gracias por tu paciencia! `),Q=encodeURIComponent(`Hola!  *${me}* de BlackStreaming aqu.

 *Tu cuenta est lista!* Has adquirido:
 *${j.productName||"Sin nombre"}*
 *Precio*: S/ ${X.toFixed(2)}
 *Duracin*: ${j.durationDays||30} das

 Tu suscripcin a *${j.productName||"Sin nombre"}* (${me}) sigue activa! 
 *Te quedan*: ${Fe?S?"En Soporte":C?"No aplica soporte":P?"Reembolsado":"Pendiente de activacin":`${D} da${D===1?"":"s"}`} para disfrutar! 
 *Detalles*:
 *Usuario*: ${j.accountDetails?.email||"N/A"}
 *Contrasea*: ${j.accountDetails?.password||"N/A"}
 *Perfil*: ${j.accountDetails?.profile||"N/A"}
 *PIN*: ${j.accountDetails?.pin||"N/A"}
 *Compra*: ${j.startDate?i(j.startDate):"N/A"}
 *Vencimiento*: ${j.endDate?i(j.endDate):"N/A"}
 *Telfono*: ${j.buyerPhone||"N/A"}

`+R+` *${me}* te recomienda renovar a tiempo para no perderte nada! 
 Sigue disfrutando y contctanos si necesitas ayuda! `);return a.jsxs(ne.tr,{className:`transition-colors duration-200 ${g?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:v,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${j.id}-title`,children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`p-1.5 rounded-full ${B.color.replace("text-","bg-").replace("-600","/20").replace("-400","/20")}`,children:B.icon}),a.jsx("span",{className:`${B.color} font-medium`,children:B.text})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("h4",{id:`order-${j.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:j.productName||"Sin nombre"})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ee.bg} ${Ee.text}`,children:n(j.category)})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:j.provider||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("div",{className:"space-y-1",children:a.jsxs("p",{className:"font-bold text-lg",children:["S/ ",X.toFixed(2)]})})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[Be&&a.jsx("div",{className:"relative",children:a.jsx("div",{className:`w-20 h-2 rounded-full overflow-hidden ${g?"bg-gray-600/40":"bg-gray-300/40"}`,children:a.jsx(ne.div,{className:`h-2 rounded-full ${Re}`,initial:{width:0},animate:{width:`${z}%`},transition:{duration:1.5,ease:"easeInOut"}})})}),a.jsx("span",{className:`text-sm font-medium ${ie}`,children:ve})]})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:j.startDate?i(j.startDate):"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:j.endDate?i(j.endDate):"N/A"}),a.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:j.buyer||"N/A",children:j.buyer||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:j.buyerPhone||"N/A"}),a.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:j.accountDetails?.email||"N/A",children:j.accountDetails?.email||"N/A"}),a.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:j.accountDetails?.password||"N/A",children:j.accountDetails?.password||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:j.accountDetails?.profile||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-mono",children:j.accountDetails?.pin||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ne.button,{onClick:()=>s(j),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-blue-500/80 hover:bg-blue-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Editar cuenta","aria-label":`Editar cuenta para el pedido ${j.id}`,children:a.jsx(z5,{size:16})}),A&&a.jsx(ne.button,{onClick:()=>l(j.id),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-green-500/80 hover:bg-green-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Activar pedido","aria-label":`Activar pedido ${j.id}`,children:a.jsx(vu,{size:16})}),re&&a.jsxs(a.Fragment,{children:[a.jsx(ne.a,{href:`https://wa.me/${re}?text=${K}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar cliente","aria-label":`Contactar cliente para el pedido ${j.id}`,children:a.jsx(Wr,{size:16})}),!P&&!S&&!C&&a.jsx(ne.a,{href:`https://wa.me/${re}?text=${Q}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-amber-500/80 hover:bg-amber-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Notificar cliente sobre estado o vencimiento","aria-label":`Notificar cliente para el pedido ${j.id}`,children:a.jsx(f0,{size:16})})]}),a.jsx(ne.button,{onClick:()=>u(j.id),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-red-500/80 hover:bg-red-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Eliminar pedido","aria-label":`Eliminar pedido ${j.id}`,children:a.jsx(Q5,{size:16})})]})})]},j.id)})})]})})}):a.jsxs(ne.div,{className:"text-center py-16",variants:y,initial:"hidden",animate:"visible",children:[a.jsx(ne.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:a.jsx(ja,{className:`mx-auto text-6xl ${g?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),a.jsx("h4",{className:`text-xl font-semibold ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos encontrados"}),a.jsx("p",{className:`text-sm ${g?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu bsqueda o realiza tu primer pedido."})]})})]})};z6.propTypes={orders:q.arrayOf(q.shape({id:q.string.isRequired,productName:q.string,category:q.string,provider:q.string,amount:q.oneOfType([q.string,q.number]),status:q.string,startDate:q.oneOfType([q.string,q.instanceOf(Date)]),endDate:q.oneOfType([q.string,q.instanceOf(Date)]),daysRemaining:q.number,timeElapsedPercentage:q.number,accountDetails:q.shape({email:q.string,password:q.string,profile:q.string,pin:q.string}),buyer:q.string,buyerPhone:q.string,durationDays:q.number,soporteMessage:q.string})).isRequired,searchQuery:q.string.isRequired,setSearchQuery:q.func.isRequired,getCategoryDisplayName:q.func.isRequired,formatDate:q.func.isRequired,handleEditOrder:q.func.isRequired,handleActivateOrder:q.func.isRequired,handleDeleteOrder:q.func.isRequired,theme:q.oneOf(["light","dark"]).isRequired};const YQ=({accountDetails:t,handleAccountChange:e,handleUpdateAccount:r,theme:n="dark"})=>{const i=n==="dark",s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},l={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return a.jsxs(ne.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${i?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:s,initial:"hidden",animate:"visible",children:[a.jsxs(ne.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${i?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[a.jsx(X5,{className:"inline mr-2",size:32}),"Configuracin"]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${i?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:l,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${i?"text-blue-400":"text-blue-600"}`,children:[a.jsx(n2,{size:20}),"Informacin de Cuenta"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"} mb-2`,children:"Correo electrnico"}),a.jsx("input",{type:"email",value:t.email,disabled:!0,className:`w-full px-4 py-2 rounded-xl border ${i?"bg-gray-700/50 text-gray-400 border-gray-600/50":"bg-gray-200/50 text-gray-600 border-gray-300/50"} cursor-not-allowed focus:ring-0`})]}),a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"} mb-2 flex items-center gap-2`,children:[a.jsx(Np,{size:16}),"Nueva contrasea (opcional)"]}),a.jsx("input",{type:"password",name:"password",value:t.password,onChange:e,className:`w-full px-4 py-2 rounded-xl border ${i?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Dejar en blanco para no cambiar"})]})]})]}),a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${i?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:l,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${i?"text-purple-400":"text-purple-600"}`,children:[a.jsx(H5,{size:20}),"Preferencias"]}),a.jsx("textarea",{name:"preferences",value:t.preferences,onChange:e,rows:"6",className:`w-full px-4 py-2 rounded-xl border resize-none ${i?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Especifica tus preferencias o notas"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(ne.button,{onClick:r,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-pink-500/50 ${i?"from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700":"from-pink-600 to-purple-800 hover:from-pink-700 hover:to-purple-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Guardar Cambios"})})]})},H6=({orders:t=[],setOrders:e,fetchOrders:r,searchQuery:n,setSearchQuery:i,getCategoryDisplayName:s,formatDate:l,theme:u="dark"})=>{const[d,h]=N.useState({}),[p,g]=N.useState({key:null,direction:"asc"}),y=u==="dark",v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},k={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:y?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},w=U=>{const A={netflix:{bg:y?"bg-red-900/30":"bg-red-100",text:y?"text-red-300":"text-red-800"},disney:{bg:y?"bg-blue-900/30":"bg-blue-100",text:y?"text-blue-300":"text-blue-800"},max:{bg:y?"bg-yellow-900/30":"bg-yellow-100",text:y?"text-yellow-300":"text-yellow-800"},spotify:{bg:y?"bg-green-900/30":"bg-green-100",text:y?"text-green-300":"text-green-800"},default:{bg:y?"bg-gray-900/30":"bg-gray-100",text:y?"text-gray-300":"text-gray-700"}};return A[U?.toLowerCase()]||A.default},E=N.useMemo(()=>{let A=[...t.filter(S=>S.status==="soporte")].filter(S=>(S.productName||"").toLowerCase().includes(n.toLowerCase())||(S.customerName||S.buyerName||"").toLowerCase().includes(n.toLowerCase()));return p.key&&A.sort((S,C)=>{let P=S[p.key]||"",D=C[p.key]||"";return p.key==="soporteMessage"?(P=S.soporteMessage||"",D=C.soporteMessage||""):p.key==="category"&&(P=s(S.category),D=s(C.category)),typeof P=="string"&&(P=P.toLowerCase()),typeof D=="string"&&(D=D.toLowerCase()),P<D?p.direction==="asc"?-1:1:P>D?p.direction==="asc"?1:-1:0}),A},[t,n,p,s]),O=U=>{g(A=>({key:U,direction:A.key===U&&A.direction==="asc"?"desc":"asc"}))},M=U=>p.key!==U?null:p.direction==="asc"?a.jsx(Am,{className:"ml-1"}):a.jsx(Sm,{className:"ml-1"}),V=()=>{const U=E.map(P=>{const D=P.customerName||P.buyerName||"N/A";return{Producto:P.productName||"Sin nombre",Categora:s(P.category),Comprador:D,Telfono:P.buyerPhone||"N/A",Email:P.accountDetails?.email||"N/A","Mensaje de Soporte":P.soporteMessage||"Sin mensaje","Fecha de Inicio":P.startDate?l(P.startDate):"N/A","Fecha de Vencimiento":P.endDate?l(P.endDate):"N/A"}}),A=ss.json_to_sheet(U),S=ss.book_new();ss.book_append_sheet(S,A,"Pedidos en Soporte");const C=new Date().toISOString().slice(0,10).replace(/-/g,"");Mm(S,`pedidos_soporte_export_${C}.xlsx`)},j=async U=>{h(A=>({...A,[`reject_${U}`]:!0}));try{await aa(_t(qe,"sales",U),{status:"rechazado"},{merge:!0}),e(A=>A.map(S=>S.id===U?{...S,status:"rechazado"}:S)),r&&await r(),alert("Pedido rechazado exitosamente.")}catch(A){console.error("Error rejecting support:",A),alert("Error al rechazar el soporte.")}finally{h(A=>({...A,[`reject_${U}`]:!1}))}},X=async U=>{h(A=>({...A,[`solve_${U}`]:!0}));try{await aa(_t(qe,"sales",U),{status:"active"},{merge:!0}),e(A=>A.map(S=>S.id===U?{...S,status:"active"}:S)),r&&await r(),alert("Soporte solucionado y pedido activado exitosamente.")}catch(A){console.error("Error solving support:",A),alert("Error al solucionar el soporte.")}finally{h(A=>({...A,[`solve_${U}`]:!1}))}};return a.jsxs(ne.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-7xl mx-auto border ${y?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:v,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"support-title",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[a.jsxs("h3",{id:"support-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${y?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[a.jsx(Ia,{className:"mr-2"})," Pedidos en Soporte",a.jsx("span",{className:`ml-2 bg-gradient-to-r ${y?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:E.length})]}),a.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[a.jsxs("div",{className:"relative flex-1 lg:w-80",children:[a.jsx("input",{type:"text",placeholder:"Buscar en soporte...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${y?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:n,onChange:U=>i(U.target.value),"aria-label":"Buscar en soporte"}),a.jsx(ja,{className:`absolute left-3 top-3.5 ${y?"text-gray-400":"text-gray-500"}`,size:18})]}),a.jsxs(ne.button,{onClick:V,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${y?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos en soporte como Excel","aria-label":"Exportar pedidos en soporte a Excel",children:[a.jsx(Cm,{size:18}),a.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),a.jsx(Ht,{children:E.length>0?a.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:a.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:a.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${y?"bg-gray-800/50":"bg-white/50"}`,children:[a.jsx("thead",{className:`${y?"bg-gray-700/60":"bg-gray-50/60"}`,children:a.jsx("tr",{children:[{key:"productName",label:"Producto"},{key:"category",label:"Categora"},{key:null,label:"Comprador"},{key:null,label:"Telfono"},{key:null,label:"Email"},{key:"soporteMessage",label:"Mensaje de Soporte"},{key:"startDate",label:"Fecha de Inicio"},{key:"endDate",label:"Fecha de Vencimiento"},{label:"Acciones"}].map(({key:U,label:A})=>a.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${y?"text-gray-300":"text-gray-700"} ${U?"cursor-pointer hover:text-blue-400 transition-colors":""}`,onClick:()=>U&&O(U),children:a.jsxs("div",{className:"flex items-center justify-between",children:[A,U&&M(U)]})},U||A))})}),a.jsx("tbody",{className:"divide-y divide-gray-200/30",children:E.map(U=>{const A=U.buyerPhone?U.buyerPhone.replace(/^\+/,"").replace(/\D/g,""):null,S=U.customerName||U.buyerName||"N/A",C=encodeURIComponent(`Hola ${S}! 

 *Soporte para tu pedido de ${U.productName||"Sin nombre"}*:

Estamos revisando tu consulta. Por favor, describe el problema o pregunta para ayudarte mejor.

Detalles del pedido:
 *Usuario*: ${U.accountDetails?.email||"N/A"}
 *Inicio*: ${U.startDate?l(U.startDate):"N/A"}
 *Vencimiento*: ${U.endDate?l(U.endDate):"N/A"}

Gracias por tu paciencia! `),P=w(U.category);return a.jsxs(ne.tr,{className:`transition-colors duration-200 ${y?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:k,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${U.id}-title`,children:[a.jsx("td",{className:"px-4 py-4",children:a.jsx("h4",{id:`order-${U.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:U.productName||"Sin nombre"})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${P.bg} ${P.text}`,children:s(U.category)})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:S}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:U.buyerPhone||"N/A"}),a.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:U.accountDetails?.email||"N/A",children:U.accountDetails?.email||"N/A"}),a.jsxs("td",{className:"px-4 py-4 max-w-xs",children:[a.jsx("p",{className:"text-sm break-words line-clamp-3 bg-gray-100/30 dark:bg-gray-800/30 p-2 rounded",title:U.soporteMessage||"Sin mensaje",children:U.soporteMessage||"Sin mensaje"}),U.soporteCreatedAt&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l(U.soporteCreatedAt)})]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:U.startDate?l(U.startDate):"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:U.endDate?l(U.endDate):"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex gap-2",children:[A&&a.jsx(ne.a,{href:`https://wa.me/${A}?text=${C}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Comunicarse con el usuario","aria-label":`Comunicarse con el usuario para el pedido ${U.productName}`,children:a.jsx(Wr,{size:16})}),a.jsx(ne.button,{onClick:()=>j(U.id),disabled:d[`reject_${U.id}`],className:`p-2.5 rounded-xl shadow-md flex items-center justify-center ${d[`reject_${U.id}`]?"bg-gray-400 text-gray-500 cursor-not-allowed":"bg-red-500/80 hover:bg-red-600/90 text-white"} transition-all duration-200`,whileHover:d[`reject_${U.id}`]?{}:{scale:1.1},whileTap:d[`reject_${U.id}`]?{}:{scale:.9},title:"Rechazar soporte","aria-label":"Rechazar soporte",children:d[`reject_${U.id}`]?a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):a.jsx(Xz,{size:16})}),a.jsx(ne.button,{onClick:()=>X(U.id),disabled:d[`solve_${U.id}`],className:`p-2.5 rounded-xl shadow-md flex items-center justify-center ${d[`solve_${U.id}`]?"bg-gray-400 text-gray-500 cursor-not-allowed":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-200`,whileHover:d[`solve_${U.id}`]?{}:{scale:1.1},whileTap:d[`solve_${U.id}`]?{}:{scale:.9},title:"Solucionar soporte","aria-label":"Solucionar soporte",children:d[`solve_${U.id}`]?a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):a.jsx(vu,{size:16})})]})})]},U.id)})})]})})}):a.jsxs(ne.div,{className:"text-center py-16",variants:v,initial:"hidden",animate:"visible",children:[a.jsx(ne.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:a.jsx(Ia,{className:`mx-auto text-6xl ${y?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),a.jsx("h4",{className:`text-xl font-semibold ${y?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos en soporte"}),a.jsx("p",{className:`text-sm ${y?"text-gray-400":"text-gray-600"}`,children:"Los pedidos en soporte aparecern aqu"})]})})]})};H6.propTypes={orders:q.array.isRequired,setOrders:q.func,fetchOrders:q.func,searchQuery:q.string,setSearchQuery:q.func,getCategoryDisplayName:q.func.isRequired,formatDate:q.func.isRequired,theme:q.oneOf(["light","dark"])};const QQ=({editModalOpen:t,setEditModalOpen:e,selectedProduct:r,setSelectedProduct:n,editError:i,setEditError:s,handleFileChange:l,handleEditStockChange:u,handleEditAccountFieldChange:d,handleUpdateProduct:h,theme:p="dark"})=>{const g=p==="dark",y={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}}},v={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},k={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},w=E=>{const{name:O,value:M,type:V,checked:j}=E.target;n(X=>({...X,[O]:V==="checkbox"?j:M,...O==="status"&&{stock:M==="Agotado"?0:X.stock||1,accounts:M==="En stock"?X.accounts.length?X.accounts:Array(X.stock||1).fill({email:"",password:"",profile:"",pin:""}):[]}}))};return t?a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs(ne.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl w-full max-w-6xl border max-h-[90vh] overflow-y-auto ${g?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:y,initial:"hidden",animate:"visible",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs(ne.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${g?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[a.jsx(Cp,{className:"inline mr-2",size:32}),"Editar Producto"]}),a.jsx(ne.button,{onClick:()=>e(!1),className:`${g?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(zi,{size:20})})]}),a.jsx(Ht,{children:i&&a.jsx(ne.div,{className:`mb-8 p-4 border rounded-2xl ${g?"bg-red-900/30 border-red-700/50 text-red-300":"bg-red-100/30 border-red-300/50 text-red-700"}`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:i})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",variants:v,initial:"hidden",animate:"visible",children:[a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:k,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-blue-400":"text-blue-600"}`,children:[a.jsx(W5,{size:20}),"Imagen del producto"]}),a.jsx("div",{className:`flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl ${g?"bg-gray-900/80 border-gray-700/50":"bg-gray-200/80 border-gray-300/50"}`,children:r.image?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:r.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain",loading:"lazy"}),a.jsx(ne.button,{type:"button",onClick:()=>n({...r,image:""}),className:`absolute top-0 right-0 ${g?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(zi,{size:16})})]}):a.jsxs(a.Fragment,{children:[a.jsx(Cp,{className:`mx-auto h-12 w-12 ${g?"text-gray-400":"text-gray-500"}`}),a.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:a.jsxs("label",{htmlFor:"edit-file-upload",className:`relative cursor-pointer rounded-xl font-medium ${g?"bg-gray-900/50 text-blue-400 hover:text-blue-500":"bg-gray-200/50 text-blue-600 hover:text-blue-700"} focus-within:outline-none`,children:[a.jsx("span",{children:"Subir una imagen"}),a.jsx("input",{id:"edit-file-upload",name:"edit-file-upload",type:"file",className:"sr-only",onChange:E=>l(E,!0),accept:"image/*"})]})}),a.jsx("p",{className:`text-xs ${g?"text-gray-500":"text-gray-600"}`,children:"PNG, JPG, GIF hasta 10MB"})]})})]}),a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:k,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-purple-400":"text-purple-600"}`,children:[a.jsx(Y5,{size:20}),"Informacin Bsica"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Nombre del producto*"}),a.jsx("input",{type:"text",name:"name",value:r.name,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Categora*"}),a.jsxs("select",{name:"category",value:r.category,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[a.jsx("option",{value:"Netflix",children:"Netflix"}),a.jsx("option",{value:"Spotify",children:"Spotify"}),a.jsx("option",{value:"Disney",children:"Disney+"}),a.jsx("option",{value:"Max",children:"Max"}),a.jsx("option",{value:"Prime Video",children:"Prime Video"}),a.jsx("option",{value:"Vix",children:"Vix"}),a.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),a.jsx("option",{value:"Canva",children:"Canva"}),a.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),a.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),a.jsx("option",{value:"Dgo",children:"DGO"}),a.jsx("option",{value:"Liga Max",children:"Liga Max"}),a.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),a.jsx("option",{value:"Youtube",children:"YouTube"}),a.jsx("option",{value:"Deezer",children:"Deezer"}),a.jsx("option",{value:"Tidal",children:"Tidal"}),a.jsx("option",{value:"Vpn",children:"VPN"}),a.jsx("option",{value:"WinTv",children:"WinTV"}),a.jsx("option",{value:"Apple Music",children:"Apple Music"}),a.jsx("option",{value:"Apple Tv",children:"Apple TV"}),a.jsx("option",{value:"Iptv",children:"IPTV"}),a.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),a.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),a.jsx("option",{value:"Pornhub",children:"Pornhub"}),a.jsx("option",{value:"Paramount",children:"Paramount"}),a.jsx("option",{value:"Licencias",children:"Licencias"}),a.jsx("option",{value:"Capcut",children:"Capcut"}),a.jsx("option",{value:"Duolingo",children:"Duolingo"}),a.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Tipo de cuenta*"}),a.jsxs("select",{name:"accountType",value:r.accountType,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[a.jsx("option",{value:"Premium",children:"Premium"}),a.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Estado*"}),a.jsxs("select",{name:"status",value:r.status,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[a.jsx("option",{value:"En stock",children:"En stock"}),a.jsx("option",{value:"A pedido",children:"A pedido"}),a.jsx("option",{value:"Agotado",children:"Agotado"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Stock*"}),a.jsx("input",{type:"number",name:"stock",value:r.status==="Agotado"?0:r.stock,onChange:u,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all ${r.status==="Agotado"?"opacity-50 cursor-not-allowed":""} placeholder-gray-500`,min:"0",required:!0,disabled:r.status==="Agotado"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio (S/)*"}),a.jsx("input",{type:"number",name:"price",value:r.price,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"renewal",checked:r.renewal,onChange:w,className:`h-4 w-4 rounded ${g?"text-purple-400 focus:ring-purple-400 border-gray-600/50":"text-purple-600 focus:ring-purple-600 border-gray-300/50"}`}),a.jsx("label",{className:`ml-2 text-sm ${g?"text-gray-300":"text-gray-700"}`,children:"Tiene renovacin?"})]})]}),r.renewal&&a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio de renovacin (S/)*"}),a.jsx("input",{type:"number",name:"renewalPrice",value:r.renewalPrice,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-8",variants:v,initial:"hidden",animate:"visible",children:[a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:k,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-green-400":"text-green-600"}`,children:[a.jsx(Ru,{size:20}),"Duracin y Contacto"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Duracin (das)"}),a.jsx("input",{type:"number",name:"duration",value:r.duration,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Dejar vaco para ilimitado",min:"1"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:["Telfono de contacto ",r.status==="A pedido"?"*":""]}),a.jsx("input",{type:"text",name:"providerPhone",value:r.providerPhone,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Ej: +51 987654321",required:r.status==="A pedido"})]})]})]}),a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:k,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-indigo-400":"text-indigo-600"}`,children:[a.jsx(q5,{size:20}),"Enlaces y Descripciones"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"URL del producto (opcional)"}),a.jsx("input",{type:"url",name:"productUrl",value:r.productUrl||"",onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Ej: https://www.ejemplo.com/producto"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Detalles del producto"}),a.jsx("textarea",{name:"details",value:r.details,onChange:w,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Describe los detalles y caractersticas del producto"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Trminos y condiciones"}),a.jsx("textarea",{name:"terms",value:r.terms,onChange:w,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Especifica los trminos y condiciones de uso"})]})]})]}),r.status==="En stock"&&a.jsxs(ne.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:k,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-pink-400":"text-pink-600"}`,children:[a.jsx(Ip,{size:20}),"Cuentas Asociadas"]}),a.jsx("p",{className:`text-sm mb-4 ${g?"text-gray-400":"text-gray-600"}`,children:"Debe completar todas las cuentas segn el stock indicado"}),a.jsx(Ht,{children:a.jsx("div",{className:"space-y-4",children:r.accounts.map((E,O)=>a.jsxs(ne.div,{className:`border rounded-xl p-4 ${g?"bg-gray-900/70 border-gray-700/50":"bg-gray-200/70 border-gray-300/50"} backdrop-blur-sm`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:O*.1},children:[a.jsxs("h4",{className:`text-sm font-medium ${g?"text-white":"text-gray-900"} mb-3 flex items-center gap-2`,children:["Cuenta ",O+1]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"Correo electrnico*"}),a.jsx("input",{type:"email",value:E.email,onChange:M=>d(O,"email",M.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"Contrasea*"}),a.jsx("input",{type:"text",value:E.password,onChange:M=>d(O,"password",M.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"Perfil (opcional)"}),a.jsx("input",{type:"text",value:E.profile,onChange:M=>d(O,"profile",M.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: Perfil 1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"PIN (opcional)"}),a.jsx("input",{type:"text",value:E.pin,onChange:M=>d(O,"pin",M.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: 1234"})]})]})]},O))})})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[a.jsx(ne.button,{onClick:()=>e(!1),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${g?"from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500":"from-gray-300 to-gray-400 hover:from-gray-400 hover:to-gray-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancelar"}),a.jsx(ne.button,{onClick:h,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${g?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Actualizar Producto"})]})]})}):null},JQ=({editOrderModalOpen:t,setEditOrderModalOpen:e,selectedOrder:r,handleOrderAccountChange:n,editOrderError:i,setEditOrderError:s,handleUpdateOrder:l,theme:u="dark"})=>{const d=u==="dark",h={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}}},p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return t?a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs(ne.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl w-full max-w-md border max-h-[90vh] overflow-y-auto ${d?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs(ne.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${d?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[a.jsx(Np,{className:"inline mr-2",size:32}),"Editar Detalles de Cuenta"]}),a.jsx(ne.button,{onClick:()=>e(!1),className:`${d?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(zi,{size:20})})]}),a.jsx(Ht,{children:i&&a.jsx(ne.div,{className:`mb-8 p-4 border rounded-2xl ${d?"bg-red-900/30 border-red-700/50 text-red-300":"bg-red-100/30 border-red-300/50 text-red-700"}`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:i})}),a.jsx(ne.div,{className:`border rounded-2xl p-6 shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"} space-y-4`,variants:p,initial:"hidden",animate:"visible",children:a.jsxs(ne.div,{className:"space-y-4",variants:g,whileHover:"hover",children:[a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[a.jsx(n2,{size:16}),"Correo electrnico*"]}),a.jsx("input",{type:"email",name:"email",value:r.accountDetails.email,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: usuario@ejemplo.com",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[a.jsx(Np,{size:16}),"Contrasea*"]}),a.jsx("input",{type:"text",name:"password",value:r.accountDetails.password,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: contrasea123",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[a.jsx(Bi,{size:16}),"Perfil (opcional)"]}),a.jsx("input",{type:"text",name:"profile",value:r.accountDetails.profile,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: Perfil 1"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[a.jsx(qz,{size:16}),"PIN (opcional)"]}),a.jsx("input",{type:"text",name:"pin",value:r.accountDetails.pin,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: 1234"})]})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[a.jsx(ne.button,{onClick:()=>e(!1),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${d?"from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500":"from-gray-300 to-gray-400 hover:from-gray-400 hover:to-gray-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancelar"}),a.jsx(ne.button,{onClick:l,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${d?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Guardar Cambios"})]})]})}):null},ZQ=As.memo(({show:t,onClose:e,title:r,message:n,theme:i})=>a.jsx(Ht,{children:t&&a.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:a.jsxs(ne.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${i==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${i==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:s=>s.stopPropagation(),children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:a.jsx(Ui,{size:20})}),a.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${i==="dark"?"text-white":"text-gray-900"}`,children:r}),a.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));ZQ.propTypes={show:q.bool.isRequired,onClose:q.func.isRequired,title:q.string.isRequired,message:q.string.isRequired,theme:q.string.isRequired};const W6=()=>{const[t,e]=N.useState(!1),[r,n]=N.useState("inicio"),[i,s]=N.useState("Usuario"),[l,u]=N.useState(""),[d,h]=N.useState(""),[p,g]=N.useState([]),[y,v]=N.useState([]),[k,w]=N.useState([]),[E,O]=N.useState(!0),[M,V]=N.useState(""),[j,X]=N.useState({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:Array(1).fill({email:"",password:"",profile:"",pin:""})}),[U,A]=N.useState(null),[S,C]=N.useState(!1),[P,D]=N.useState(""),[z,B]=N.useState(""),[Ee,Re]=N.useState({isOpen:!1,message:"",title:""}),[Be,Fe]=N.useState({email:"",password:"",preferences:""}),[ve,ie]=N.useState(!1),[me,re]=N.useState(!0),[R,K]=N.useState(0),[Q,ee]=N.useState(!1),[se,Ce]=N.useState(null),[De,Se]=N.useState(""),[ue,nt]=N.useState("dark"),[ht,yt]=N.useState(!1),[wt,pr]=N.useState(!1),[Nt,Ge]=N.useState([]),Xt=Os(),Ct=xv(),er=N.useCallback(_e=>{const Ne=new Date(_e);return Ne.setUTCHours(23,59,59,999),Ne},[]),le=N.useCallback(()=>{nt(_e=>_e==="dark"?"light":"dark")},[]),et=N.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),Xe=N.useCallback((_e,Ne)=>{Re({isOpen:!0,title:_e,message:Ne})},[]),lt=N.useCallback(()=>{Re({isOpen:!1,message:"",title:""})},[]),mt=N.useCallback(_e=>{if(!_e)return"No especificada";try{const Ne=_e instanceof Date?_e:_e?.toDate?.()||new Date(_e);return isNaN(Ne.getTime())?"Fecha invlida":Ne.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(Ne){return console.error("Error formatting date:",Ne),"Fecha invlida"}},[]),ct=N.useCallback(_e=>({netflix:"Netflix",spotify:"Spotify",disney:"Disney",max:"Max",primevideo:"Prime Video",vix:"Vix",crunchyroll:"Crunchyroll",canva:"Canva",chatgpt:"ChatGPT",redessociales:"Redes Sociales",dgo:"Dgo",ligamax:"Liga Max",movistarplay:"Movistar Play",youtube:"Youtube",deezer:"Deezer",tidal:"Tidal",vpn:"Vpn",wintv:"WinTv",applemusic:"Apple Music",appletv:"Apple TV",iptv:"Iptv",flujotv:"Flujo Tv",vikirakuten:"Viki Rakuten",pornhub:"Pornhub",paramount:"Paramount",licencias:"Licencias",capcut:"Capcut",duolingo:"Duolingo",buscapersonas:"BuscaPersonas"})[_e?.toLowerCase()]||"Otro",[]);N.useEffect(()=>{const _e=ql(Ct,Ne=>{Ne?(u(Ne.email||""),h(Ne.uid),Te(Ne.uid)):Xt("/login")});return()=>_e()},[Ct,Xt]);const Te=async _e=>{try{const Ne=_t(qe,"users",_e),xt=await Vo(Ne);if(xt.exists()){const it=xt.data();s(it.username||"Usuario"),Fe({email:it.email||"",password:"",preferences:it.preferences||""})}O(!1)}catch(Ne){V("Error al cargar datos del usuario"),console.error("Error fetching user data:",Ne),O(!1)}};N.useEffect(()=>{l&&(async Ne=>{try{const xt=await Vo(_t(qe,"admins",Ne));ie(xt.exists())}catch(xt){console.error("Error checking admin status:",xt)}})(l)},[l]),N.useEffect(()=>{const _e=br(_t(qe,"notifications","adminMessage"),Ne=>{if(Ne.exists()){const xt=Ne.data(),it=ve?"admin":"provider";xt.roles&&xt.roles.includes(it)?Ge([{id:Ne.id,...xt,timestamp:xt.updatedAt?.toDate()}]):Ge([])}else Ge([])},Ne=>{console.error("Error in notifications listener:",Ne),V("Error al cargar notificaciones: "+Ne.message)});return()=>_e()},[ve]),N.useEffect(()=>{if(!i)return;const _e=Er(Lt(qe,"products"),Or("provider","==",i)),Ne=br(_e,xt=>{const it=xt.docs.map(Ut=>({id:Ut.id,...Ut.data()}));v(it)},xt=>{console.error("Error fetching products:",xt),V("Error al cargar productos")});return()=>Ne()},[i]),N.useEffect(()=>{if(!d)return;const _e=Er(Lt(qe,"sales"),Or("providerId","==",d)),Ne=br(_e,async it=>{if(it.empty){g([]),re(!1);return}const Ut=new Date,yr=7200*60*1e3;for(const Y of it.docs){let G=Y.data().endDate,J=G instanceof gr?G.toDate():typeof G=="string"?new Date(G):new Date(G);const Z=er(J);if(Z<Ut&&Ut.getTime()-Z.getTime()>yr)try{await ko(_t(qe,"sales",Y.id)),console.log(`Deleted expired order: ${Y.id}`)}catch(ce){console.error(`Error deleting order ${Y.id}:`,ce)}}const Xr=it.docs.map(Y=>{const H=Y.data(),J=H.saleDate?.toDate?.()||H.createdAt?.toDate?.()||new Date;let Z=H.startDate?.toDate?.(),ce=Z||J,be=!Z;const fe=Number(H.durationDays)||30;let pe;H.endDate?pe=typeof H.endDate=="string"?new Date(H.endDate):H.endDate.toDate?.()||new Date(H.endDate):(pe=new Date(ce.getTime()+fe*24*60*60*1e3),be=!0),be&&qr(_t(qe,"sales",Y.id),{startDate:Z||gr.fromDate(J),endDate:gr.fromDate(er(pe)),durationDays:fe}).catch(Yt=>{console.error("Error al actualizar startDate/endDate en Firestore:",Yt)});const xe=er(pe),Me=xe.getTime()-ce.getTime(),Ye=Ut.getTime()-ce.getTime(),tt=xe.getTime()-Ut.getTime(),We=Math.max(1,Math.ceil(Me/(1e3*60*60*24))),Ve=Math.max(0,Math.ceil(tt/(1e3*60*60*24))),At=Math.ceil(Ye/(1e3*60*60*24)),tr=We>0?Math.min(100,At/We*100):100;return{id:Y.id,...H,productName:H.productName||"Producto sin nombre",category:H.type||"netflix",amount:parseFloat(H.price)||0,buyer:H.buyerName||H.customerName||"Comprador desconocido",buyerPhone:H.buyerPhone||"No especificado",buyerEmail:H.customerEmail||"No especificado",status:H.status||"completed",saleDate:J,startDate:ce,endDate:pe,durationDays:fe,daysRemaining:Ve,totalDays:We,timeElapsedPercentage:tr,accountDetails:H.accountDetails||{email:"No disponible",password:"No disponible",profile:"N/A",pin:""},balance:parseFloat(H.price)||0}}).filter(Y=>{const H=er(Y.endDate);return!(H<Ut&&Ut.getTime()-H.getTime()>yr)});g(Xr);const F=Xr.filter(Y=>Y.status==="completed"&&Y.accountDetails).map(Y=>({...Y.accountDetails,productName:Y.productName,saleDate:Y.saleDate,orderId:Y.id}));w(F),re(!1)},it=>{console.error("Error fetching sales:",it),V("Error al cargar ventas"),re(!1)}),xt=setInterval(()=>{g(it=>it.map(Ut=>{const yr=new Date,Xr=er(Ut.endDate),F=Xr.getTime()-new Date(Ut.startDate).getTime(),Y=yr.getTime()-new Date(Ut.startDate).getTime(),H=Xr.getTime()-yr.getTime(),G=Math.max(1,Math.ceil(F/(1e3*60*60*24))),J=Math.max(0,Math.ceil(H/(1e3*60*60*24))),Z=Math.ceil(Y/(1e3*60*60*24)),ce=G>0?Math.min(100,Z/G*100):100;return{...Ut,daysRemaining:J,totalDays:G,timeElapsedPercentage:ce}}).filter(Ut=>{const yr=er(Ut.endDate),Xr=new Date,F=7200*60*1e3;return!(yr<Xr&&Xr.getTime()-yr.getTime()>F)}))},6e4);return()=>{Ne(),clearInterval(xt)}},[d,er]),N.useEffect(()=>{if(!i)return;const _e=_t(qe,"providerBalances",i),Ne=br(_e,xt=>{xt.exists()?K(xt.data().balance||0):(aa(_e,{balance:0,provider:i,updatedAt:Fr()}),K(0)),re(!1)},xt=>{console.error("Error fetching provider balance:",xt),V("Error al cargar el saldo del proveedor"),re(!1)});return()=>Ne()},[i]);const Ie=N.useCallback(async()=>{try{await L0(Ct),Xt("/login")}catch(_e){console.error("Error al cerrar sesin:",_e),Xe("Error",_e.message||"Error al cerrar sesin")}},[Xt,Xe]),ut=N.useCallback(_e=>{const{name:Ne,value:xt,type:it,checked:Ut}=_e.target;X(yr=>({...yr,[Ne]:it==="checkbox"?Ut:xt}))},[]),Ae=N.useCallback(_e=>{const{name:Ne,value:xt}=_e.target;Fe(it=>({...it,[Ne]:xt}))},[]),ze=N.useCallback((_e,Ne=!1)=>{const xt=_e.target.files[0];if(xt){if(xt.size>10485760){Ne?D("La imagen no debe exceder los 10MB"):V("La imagen no debe exceder los 10MB");return}const Ut=new FileReader;Ut.onloadend=()=>{Ne?A(yr=>({...yr,image:Ut.result})):X(yr=>({...yr,image:Ut.result}))},Ut.readAsDataURL(xt)}},[]),gt=N.useCallback(_e=>{const Ne=parseInt(_e.target.value)||1,xt=j.accounts||[];if(Ne>xt.length){const it=[...xt];for(;it.length<Ne;)it.push({email:"",password:"",profile:"",pin:""});X({...j,stock:Ne,accounts:it})}else if(Ne<xt.length){const it=xt.slice(0,Math.max(Ne,1));X({...j,stock:Ne,accounts:it})}else X({...j,stock:Ne})},[j]),St=N.useCallback(_e=>{const Ne=parseInt(_e.target.value)||1;let it=[...U.accounts||[]];if(Ne>it.length)for(;it.length<Ne;)it.push({email:"",password:"",profile:"",pin:""});else Ne<it.length&&(it=it.slice(0,Math.max(Ne,1)));A({...U,stock:Ne,accounts:it})},[U]),Mt=N.useCallback((_e,Ne,xt)=>{const it=[...j.accounts];it[_e]={...it[_e],[Ne]:xt},X({...j,accounts:it})},[j]),vt=N.useCallback((_e,Ne,xt)=>{A(it=>({...it,accounts:it.accounts.map((Ut,yr)=>yr===_e?{...Ut,[Ne]:xt}:Ut)}))},[]),Vr=N.useCallback(_e=>{const{name:Ne,value:xt}=_e.target;Ce(it=>({...it,accountDetails:{...it.accountDetails,[Ne]:xt}}))},[]),ar=N.useCallback(async()=>{if(V(""),!j.name||!j.price){Xe("Error","Por favor complete todos los campos obligatorios");return}if(j.renewal&&!j.renewalPrice){Xe("Error","Por favor ingrese el precio de renovacin");return}if(j.status==="En stock"&&j.accounts.some(Ne=>!Ne.email||!Ne.password)){Xe("Error","Por favor complete todos los campos de las cuentas");return}try{const _e={...j,provider:i,providerId:d,providerPhone:j.status==="En stock"?j.providerPhone||"":j.providerPhone||"No especificado",createdAt:Fr(),availableAccounts:j.status==="En stock"?j.accounts.length:0},Ne=await Po(Lt(qe,"products"),_e);if(j.status==="En stock"){const xt=Lt(qe,`products/${Ne.id}/accounts`);for(const it of j.accounts)await Po(xt,{email:it.email,password:it.password,profile:it.profile||"",pin:it.pin||"",status:"available"})}X({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:[{email:"",password:"",profile:"",pin:""}]}),n("inventario"),Xe("xito","Producto subido exitosamente!")}catch(_e){console.error("Error al subir el producto:",_e),Xe("Error",`Error al subir el producto: ${_e.message}`)}},[j,i,d,Xe]),xr=N.useCallback(async _e=>{D("");try{const Ne=Er(Lt(qe,"sales"),Or("providerId","==",d),Or("productName","==",_e.name)),it=(await Gn(Ne)).docs.filter(F=>F.data().status==="completed"&&F.data().accountDetails?.email).map(F=>F.data().accountDetails.email),Ut=Lt(qe,`products/${_e.id}/accounts`),Xr=(await Gn(Ut)).docs.filter(F=>F.data().status==="available").map(F=>({email:F.data().email||"",password:F.data().password||"",profile:F.data().profile||"",pin:F.data().pin||""}));A({id:_e.id,name:_e.name||"",image:_e.image||"",category:_e.category||"Netflix",accountType:_e.accountType||"Premium",status:_e.status||"En stock",stock:Xr.length||_e.stock||1,price:_e.price||"",renewal:_e.renewal||!1,renewalPrice:_e.renewalPrice||"",duration:_e.duration||"",providerPhone:_e.providerPhone||"",details:_e.details||"",terms:_e.terms||"",providerId:_e.providerId||d,accounts:_e.status==="En stock"?Xr.length>0?Xr:Array(Math.max(_e.stock||1,1)).fill({email:"",password:"",profile:"",pin:""}):[]}),C(!0)}catch(Ne){console.error("Error al preparar edicin del producto:",Ne),D("Error al preparar edicin del producto")}},[d]),Br=N.useCallback(async()=>{if(D(""),!U.name||!U.price){D("Por favor complete todos los campos obligatorios");return}if(U.renewal&&!U.renewalPrice){D("Por favor ingrese el precio de renovacin");return}if(U.status==="En stock"&&U.accounts.some(Ne=>!Ne.email||!Ne.password)){D("Por favor complete todos los campos de las cuentas");return}try{const _e=_t(qe,"products",U.id);if(await aa(_e,{...U,providerId:U.providerId||d,availableAccounts:U.status==="En stock"&&U.accounts?.length||0},{merge:!0}),U.status==="En stock"){const Ne=Lt(qe,`products/${U.id}/accounts`),xt=await Gn(Ne);for(const it of xt.docs)await ko(it.ref);for(const it of U.accounts)await Po(Ne,{email:it.email,password:it.password,profile:it.profile||"",pin:it.pin||"",status:"available"})}C(!1),Xe("xito","Producto actualizado exitosamente!")}catch(_e){console.error("Error al actualizar el producto:",_e),D(`Error al actualizar el producto: ${_e.message}`)}},[U,d,Xe]),Rt=N.useCallback(_e=>{Ce(_e),ee(!0)},[]),Wt=N.useCallback(async()=>{if(se)try{const _e=_t(qe,"sales",se.id);await qr(_e,{...se,updatedAt:Fr()}),ee(!1),Xe("xito","Pedido actualizado exitosamente!")}catch(_e){console.error("Error al actualizar el pedido:",_e),Se(`Error al actualizar el pedido: ${_e.message}`)}},[se,Xe]),Ft=N.useCallback(async _e=>{try{const Ne=_t(qe,"sales",_e);await qr(Ne,{status:"completed"}),Xe("xito","Pedido activado exitosamente!")}catch(Ne){console.error("Error al activar el pedido:",Ne),Xe("Error",`Error al activar el pedido: ${Ne.message}`)}},[Xe]),Pr=N.useCallback(async _e=>{try{await ko(_t(qe,"sales",_e)),Xe("xito","Pedido eliminado exitosamente!")}catch(Ne){console.error("Error al eliminar el pedido:",Ne),Xe("Error",`Error al eliminar el pedido: ${Ne.message}`)}},[Xe]),Kr=N.useCallback(async _e=>{_e.preventDefault();try{const Ne={updatedAt:Fr()};Be.email&&(Ne.email=Be.email),Be.preferences&&(Ne.preferences=Be.preferences),await qr(_t(qe,"users",d),Ne),Xe("xito","Cuenta actualizada exitosamente!")}catch(Ne){console.error("Error al actualizar la cuenta:",Ne),Xe("Error",`Error al actualizar la cuenta: ${Ne.message}`)}},[Be,d,Xe]),li=N.useCallback(async _e=>{try{await ko(_t(qe,"products",_e)),Xe("xito","Producto eliminado exitosamente!")}catch(Ne){console.error("Error al eliminar el producto:",Ne),Xe("Error",`Error al eliminar el producto: ${Ne.message}`)}},[Xe]),En=N.useMemo(()=>y.reduce((_e,Ne)=>_e+(Ne.availableAccounts||0),0),[y]),ki=N.useMemo(()=>p.reduce((_e,Ne)=>_e+(Ne.balance||0),0),[p]),Jn=N.useCallback(()=>E?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):M?a.jsxs("div",{className:`bg-${ue==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${ue==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsx(Ll,{className:"mx-auto text-4xl text-red-400 mb-4"}),a.jsx("h3",{className:`text-xl font-bold ${ue==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),a.jsx("p",{className:`text-base ${ue==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:M}),a.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):a.jsx("div",{className:`bg-${ue==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${ue==="dark"?"border-gray-700/50":"border-gray-300"} w-full`,children:(()=>{switch(r){case"inicio":return a.jsx(B6,{username:i,products:y,orders:p,providerBalance:R,balanceLoading:me,totalStock:En,totalEarnings:ki,isAdmin:ve,email:l,setActiveSection:n,formatDate:mt,notifications:Nt,theme:ue});case"inventario":return a.jsx(U6,{products:y,setActiveSection:n,handleEdit:xr,handleDelete:li,getCategoryDisplayName:ct,totalStock:En,theme:ue});case"cuentas":return a.jsx(GQ,{soldAccounts:k,formatDate:mt});case"subirProducto":return a.jsx(KQ,{product:j,setProduct:X,handleChange:ut,handleFileChange:ze,handleStockChange:gt,handleAccountFieldChange:Mt,handleSubmit:ar,setActiveSection:n});case"ganancias":return a.jsx(XQ,{orders:p,totalEarnings:ki,providerBalance:R,balanceLoading:me,getCategoryDisplayName:ct,formatDate:mt});case"pedidos":return a.jsx(z6,{orders:p,searchQuery:z,setSearchQuery:B,getCategoryDisplayName:ct,formatDate:mt,handleEditOrder:Rt,handleActivateOrder:Ft,handleDeleteOrder:Pr,theme:ue});case"configuracion":return a.jsx(YQ,{accountDetails:Be,handleAccountChange:Ae,handleUpdateAccount:Kr});case"soporte":return a.jsx(H6,{orders:p,setOrders:g,searchQuery:z,setSearchQuery:B,getCategoryDisplayName:ct,formatDate:mt,theme:ue,username:i,email:l,showModal:Xe});default:return a.jsxs("div",{className:`bg-${ue==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${ue==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsx(Ll,{className:"mx-auto text-4xl text-red-400 mb-4"}),a.jsx("h3",{className:`text-xl font-bold ${ue==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Seccin no encontrada"}),a.jsx("p",{className:`text-base ${ue==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La seccin que ests buscando no existe o no est disponible."}),a.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()}),[E,M,ue,r,i,y,p,R,me,En,ki,ve,l,n,mt,xr,li,ct,k,j,X,ut,ze,gt,Mt,ar,z,B,Rt,Ft,Pr,Be,Ae,Kr,Xe,Nt]);return N.useEffect(()=>{const _e=()=>{yt(window.scrollY>300)};return window.addEventListener("scroll",_e),()=>window.removeEventListener("scroll",_e)},[]),a.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${ue==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${ue==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),a.jsx("div",{className:"particles",children:[...Array(15)].map((_e,Ne)=>a.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Ne))})]}),a.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${ue==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:a.jsxs("div",{className:"p-4 flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("button",{onClick:()=>{Xt("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),a.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:a.jsx(Ui,{className:"text-lg"})})]}),a.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${ue==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:i.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${ue==="dark"?"text-white":"text-gray-900"}`,children:i}),a.jsx("p",{className:`text-xs ${ue==="dark"?"text-gray-400":"text-gray-600"}`,children:ve?"Admin":"Proveedor"})]})]}),a.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Zv},{id:"inventario",label:"Inventario",icon:qU},{id:"cuentas",label:"Cuentas Vendidas",icon:gu},{id:"pedidos",label:"Pedidos",icon:gu},{id:"ganancias",label:"Ganancias",icon:Ca},{id:"subirProducto",label:"Subir Producto",icon:rz},{id:"soporte",label:"Soporte",icon:ez},{id:"configuracion",label:"Configuracin",icon:Tp}].map(_e=>a.jsxs("button",{onClick:()=>{n(_e.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===_e.id?"bg-blue-100 text-blue-600 border border-blue-300":ue==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":r===_e.id?"page":void 0,children:[a.jsx(_e.icon,{className:"text-lg"}),a.jsx("span",{children:_e.label})]},_e.id))}),a.jsx("div",{className:"mt-auto pt-6",children:a.jsxs("button",{onClick:()=>{Ie(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${ue==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[a.jsx(xu,{className:"text-lg"}),a.jsx("span",{children:"Cerrar Sesin"})]})})]})}),a.jsxs("header",{className:`${ue==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ne.img,{src:Jl,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border ${ue==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),a.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),a.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:z,onChange:_e=>B(_e.target.value),className:`w-full py-2.5 px-5 ${ue==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:_e=>_e.key==="Enter"&&n("pedidos")}),a.jsx("button",{onClick:()=>n("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${ue==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:a.jsx(mu,{size:18})})]})}),a.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[a.jsx("button",{onClick:le,className:`p-2 rounded-full ${ue==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${ue==="dark"?"light":"dark"} theme`,children:ue==="dark"?a.jsx(Ql,{size:20}):a.jsx(Yl,{size:20})}),a.jsxs("button",{onClick:()=>pr(!0),className:`p-2 rounded-full relative ${ue==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${Nt.length} new)`,children:[a.jsx(Fl,{size:20}),Nt.length>0&&a.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:Nt.length})]}),a.jsx("button",{className:`lg:hidden p-2 rounded-full ${ue==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:a.jsx(Nm,{size:20,className:ue==="dark"?"text-gray-300":"text-gray-600"})}),a.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:a.jsx("div",{className:"relative",children:a.jsxs("button",{className:`flex items-center space-x-2 ${ue==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[a.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:i.charAt(0).toUpperCase()}),a.jsx("span",{className:`text-sm font-semibold ${ue==="dark"?"text-gray-200":"text-gray-800"}`,children:i})]})})})]})]}),a.jsx(Ht,{children:wt&&a.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>pr(!1),role:"dialog","aria-labelledby":"notifications-title",children:a.jsxs(ne.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${ue==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${ue==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:_e=>_e.stopPropagation(),children:[a.jsx("button",{onClick:()=>pr(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:a.jsx(Ui,{size:20})}),a.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${ue==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),Nt.length>0?Nt.map(_e=>a.jsxs("div",{className:`p-4 mb-2 rounded-md ${ue==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${ue==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[a.jsx("h3",{className:`font-semibold ${ue==="dark"?"text-gray-200":"text-gray-800"}`,children:_e.title||"Nueva Notificacin"}),a.jsx("p",{className:`text-sm ${ue==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:_e.message}),_e.roles&&_e.roles.length>0&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",_e.roles.join(", ")]}),_e.timestamp&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:mt(_e.timestamp)})]},_e.id)):a.jsx("p",{className:`text-center ${ue==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),a.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:Jn()}),a.jsxs("footer",{className:`${ue==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${ue==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),a.jsxs("p",{className:`text-base sm:text-lg ${ue==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",a.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),a.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[a.jsx("a",{href:"https://twitter.com",className:`${ue==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:a.jsx(Xl,{size:28})}),a.jsx("a",{href:"https://instagram.com",className:`${ue==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:a.jsx(Kl,{size:28})}),a.jsx("a",{href:"https://facebook.com",className:`${ue==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:a.jsx(Gl,{size:28})})]}),a.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[a.jsx("a",{href:"#",className:`text-sm ${ue==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Poltica de Privacidad"}),a.jsx("a",{href:"#",className:`text-sm ${ue==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Trminos de Servicio"}),a.jsx("a",{href:"#",className:`text-sm ${ue==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contctanos"})]})]}),a.jsxs("p",{className:`text-sm ${ue==="dark"?"text-gray-500":"text-gray-600"}`,children:[" ",new Date().getFullYear()," BlackStreaming. Hecho con pasin."]})]}),a.jsx(Ht,{children:ht&&a.jsx(ne.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:et,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:a.jsx(km,{size:20})})}),a.jsx(qQ,{isOpen:Ee.isOpen,title:Ee.title,message:Ee.message,onClose:lt}),a.jsx(QQ,{editModalOpen:S,setEditModalOpen:C,selectedProduct:U,setSelectedProduct:A,editError:P,setEditError:D,handleFileChange:ze,handleEditStockChange:St,handleEditAccountFieldChange:vt,handleUpdateProduct:Br}),a.jsx(JQ,{editOrderModalOpen:Q,setEditOrderModalOpen:ee,selectedOrder:se,handleOrderAccountChange:Vr,editOrderError:De,setEditOrderError:Se,handleUpdateOrder:Wt}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};W6.propTypes={};const eJ=()=>{const[t,e]=N.useState(""),[r,n]=N.useState(""),[i,s]=N.useState(0),[l,u]=N.useState([]),[d,h]=N.useState([]),[p,g]=N.useState([]),[y,v]=N.useState([]),[k,w]=N.useState([]),[E,O]=N.useState(0),[M,V]=N.useState({day:0,week:0,month:0,total:0}),[j,X]=N.useState(!0),[U,A]=N.useState(null),[S,C]=N.useState("dark"),P=Os();N.useEffect(()=>{const B=ql(en,Ee=>{Ee?(n(Ee.email||"No especificado"),D(Ee.uid),X(!1)):P("/login")});return()=>B()},[P]);const D=async B=>{try{const Ee=_t(qe,"users",B),Re=await Vo(Ee);if(Re.exists()){const Be=Re.data();e(Be.username||Be.email.split("@")[0])}else A("Usuario no encontrado en la base de datos")}catch(Ee){console.error("Error al obtener el nombre de usuario:",Ee),A("Error al cargar datos del usuario")}},z=B=>{const Re=B*5,Be=Re*.25,Fe=Re*.05;V({day:Fe,week:Be,month:Re,total:Re})};return N.useEffect(()=>{(async()=>{try{const ie=await Gn(Lt(qe,"users")),me=ie.size,re=ie.docs.map(nt=>({id:nt.id,...nt.data()}));s(me),u(re.slice(-5)),z(me);const R=Er(Lt(qe,"pendingRegistrations"),Or("status","==","pending")),K=await Gn(R);h(K.docs.map(nt=>({id:nt.id,...nt.data()})));const Q=Er(Lt(qe,"pendingTopUps"),Or("status","==","pendiente")),ee=await Gn(Q);g(ee.docs.map(nt=>({id:nt.id,...nt.data()})));const se=Er(Lt(qe,"withdrawals"),Or("status","==","pending")),Ce=await Gn(se);v(Ce.docs.map(nt=>({id:nt.id,...nt.data()})));const Se=(await Gn(Lt(qe,"sales"))).docs.map(nt=>({id:nt.id,...nt.data()}));w(Se);const ue=Se.reduce((nt,ht)=>nt+(parseFloat(ht.price)||0),0);O(ue)}catch(ie){console.error("Error al obtener datos:",ie),A("Error al cargar datos")}})();const Ee=br(Lt(qe,"users"),ie=>{const me=ie.size,re=ie.docs.map(R=>({id:R.id,...R.data()}));s(me),u(re.slice(-5)),z(me)}),Re=br(Er(Lt(qe,"pendingRegistrations"),Or("status","==","pending")),ie=>{h(ie.docs.map(me=>({id:me.id,...me.data()})))}),Be=br(Er(Lt(qe,"pendingTopUps"),Or("status","==","pendiente")),ie=>{g(ie.docs.map(me=>({id:me.id,...me.data()})))}),Fe=br(Er(Lt(qe,"withdrawals"),Or("status","==","pending")),ie=>{v(ie.docs.map(me=>({id:me.id,...me.data()})))}),ve=br(Lt(qe,"sales"),ie=>{const me=ie.docs.map(R=>({id:R.id,...R.data()}));w(me);const re=me.reduce((R,K)=>R+(parseFloat(K.price)||0),0);O(re)});return()=>{Ee(),Re(),Be(),Fe(),ve()}},[]),j?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):U?a.jsxs("div",{className:`bg-${S==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${S==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsx(Ll,{className:"mx-auto text-4xl text-blue-400 mb-4"}),a.jsx("h3",{className:`text-xl font-bold ${S==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),a.jsx("p",{className:`text-base ${S==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:U}),a.jsx("button",{onClick:()=>A(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):a.jsxs("div",{className:`bg-${S==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${S==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsxs("h2",{className:`text-2xl sm:text-3xl font-bold ${S==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Bienvenido a BlackStreaming,"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:t})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[a.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[a.jsx(kp,{className:"mr-2"})," Total Usuarios"]}),a.jsx("p",{className:`text-3xl font-bold ${S==="dark"?"text-white":"text-gray-900"}`,children:i}),a.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",onClick:()=>P("/usuarios"),children:"Ver usuarios"})]}),a.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[a.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[a.jsx(gu,{className:"mr-2"})," Total Ventas"]}),a.jsxs("p",{className:`text-3xl font-bold ${S==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",E.toFixed(2)]}),a.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",onClick:()=>P("/pedidos"),children:"Ver ventas"})]}),a.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[a.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[a.jsx(Ca,{className:"mr-2"})," Ganancias del Mes"]}),a.jsxs("p",{className:`text-3xl font-bold ${S==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",M.month.toFixed(2)]}),a.jsx("p",{className:`text-sm ${S==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:"(5 soles por usuario)"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[a.jsx("h3",{className:`text-lg font-semibold ${S==="dark"?"text-white":"text-gray-900"} mb-3`,children:"ltimos Usuarios"}),l.length>0?l.map(B=>a.jsxs("div",{className:`border-b ${S==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${S==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:`font-medium ${S==="dark"?"text-white":"text-gray-900"}`,children:B.username||"Sin nombre"}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${S==="dark"?"bg-blue-900/80 text-blue-400":"bg-blue-100/80 text-blue-600"}`,children:B.role||"usuario"})]}),a.jsx("p",{className:`text-sm ${S==="dark"?"text-gray-400":"text-gray-600"}`,children:B.email})]},B.id)):a.jsx("p",{className:`text-${S==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay usuarios registrados"})]}),a.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[a.jsx("h3",{className:`text-lg font-semibold ${S==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Solicitudes Pendientes"}),d.length>0?d.slice(0,3).map(B=>a.jsxs("div",{className:`border-b ${S==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${S==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:`font-medium ${S==="dark"?"text-white":"text-gray-900"}`,children:B.username||"Sin nombre"}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${S==="dark"?"bg-purple-900/80 text-purple-400":"bg-purple-100/80 text-purple-600"}`,children:B.role||"usuario"})]}),a.jsx("p",{className:`text-sm ${S==="dark"?"text-gray-400":"text-gray-600"}`,children:B.email})]},B.id)):a.jsx("p",{className:`text-${S==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay solicitudes pendientes"})]}),a.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[a.jsx("h3",{className:`text-lg font-semibold ${S==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Retiros Pendientes"}),y.length>0?y.slice(0,3).map(B=>a.jsxs("div",{className:`border-b ${S==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${S==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:`font-medium ${S==="dark"?"text-white":"text-gray-900"}`,children:B.provider||"Sin proveedor"}),a.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${S==="dark"?"bg-yellow-900/80 text-yellow-400":"bg-yellow-100/80 text-yellow-600"}`,children:["S/ ",(B.amount||0).toFixed(2)]})]}),a.jsxs("p",{className:`text-sm ${S==="dark"?"text-gray-400":"text-gray-600"}`,children:["Mtodo: ",B.method||"No especificado"]})]},B.id)):a.jsx("p",{className:`text-${S==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay retiros pendientes"})]})]})]})},tJ=({notificationForm:t={message:"",roles:{user:!1,affiliate:!1,provider:!1,admin:!1}},setNotificationForm:e=()=>{},theme:r="dark"})=>{const[n,i]=N.useState(""),[s,l]=N.useState(""),[u,d]=N.useState(!1),h=t.roles||{user:!1,affiliate:!1,provider:!1,admin:!1},p=Object.values(h).some(y=>y),g=N.useCallback(async y=>{if(y.preventDefault(),!p){i("Selecciona al menos un rol para enviar la notificacin");return}if(!t.message.trim()){i("El mensaje de la notificacin no puede estar vaco");return}i(""),l(""),d(!0);try{await Po(Lt(qe,"notifications"),{message:t.message.trim(),roles:{user:h.user,affiliate:h.affiliate,provider:h.provider,admin:h.admin},createdAt:Fr()}),e({message:"",roles:{user:!1,affiliate:!1,provider:!1,admin:!1}}),l("Notificacin enviada exitosamente")}catch(v){i("Error al enviar la notificacin. Por favor, intenta de nuevo."),console.error("Error sending notification:",v)}finally{d(!1)}},[t,h,e]);return a.jsxs("div",{className:`bg-${r==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-2xl mx-auto border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Enviar Notificacin -"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),a.jsxs(Ht,{children:[n&&a.jsx(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${r==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:n}),s&&a.jsx(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${r==="dark"?"bg-green-900/50 border-green-600/50":"bg-green-100/50 border-green-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-green-600 border-l-4`,role:"alert",children:s})]}),a.jsxs("form",{onSubmit:g,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${r==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Mensaje de la Notificacin"}),a.jsx("textarea",{value:t.message||"",onChange:y=>e({...t,message:y.target.value}),className:`w-full px-4 py-2 rounded-xl ${r==="dark"?"bg-gray-800/50 text-gray-200 border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-800 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all resize-y`,rows:"5",placeholder:"Escribe el mensaje para los usuarios...",required:!0,"aria-label":"Mensaje de la notificacin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${r==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Enviar a los siguientes roles"}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:["user","affiliate","provider","admin"].map(y=>a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:h[y]||!1,onChange:v=>e({...t,roles:{...h,[y]:v.target.checked}}),className:`h-4 w-4 ${r==="dark"?"text-blue-400 focus:ring-blue-400 border-gray-600":"text-blue-600 focus:ring-blue-600 border-gray-300"} rounded`,"aria-label":`Enviar a rol ${y}`}),a.jsx("span",{className:`text-sm capitalize ${r==="dark"?"text-gray-300":"text-gray-700"}`,children:y})]},y))})]}),a.jsx(ne.button,{type:"submit",disabled:u||!p,className:`w-full py-3 px-4 ${u||!p?r==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"} text-white rounded-xl font-medium transition-all duration-300`,"aria-label":"Enviar notificacin",whileHover:{scale:u||!p?1:1.05},whileTap:{scale:u||!p?1:.95},children:u?a.jsx(ne.div,{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}):"Enviar Notificacin"}),!p&&a.jsx("p",{className:`text-sm text-center ${r==="dark"?"text-blue-400":"text-blue-600"}`,children:"Selecciona al menos un rol para enviar la notificacin"})]})]})},q6=[{value:"user",label:"Usuario"},{value:"affiliate",label:"Afiliador"},{value:"provider",label:"Proveedor"},{value:"admin",label:"Administrador"}],rJ=t=>{const e=q6.find(r=>r.value===t);return e?e.label:t},G6=({isOpen:t,user:e,onClose:r,onSave:n,loading:i,theme:s})=>{const[l,u]=N.useState(e?.balance||0),[d,h]=N.useState("");N.useEffect(()=>{u(e?.balance||0),h("")},[e]);const p=g=>{if(g.preventDefault(),h(""),isNaN(l)||l<0){h("Por favor, ingrese un saldo vlido (nmero no negativo).");return}n(e.id,parseFloat(l))};return!t||!e?null:a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:`bg-${s==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${s==="dark"?"border-gray-800/50":"border-gray-300"}`,children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:`text-xl font-bold ${s==="dark"?"text-white":"text-gray-900"}`,children:["Editar Saldo de ",e.username]}),a.jsx("button",{onClick:r,className:`${s==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar modal",children:""})]}),a.jsxs("form",{onSubmit:p,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:`block text-sm font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Nuevo Saldo (S/)"}),a.jsx("input",{type:"number",value:l,onChange:g=>u(g.target.value),className:`w-full px-4 py-2 rounded-xl ${s==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,min:"0",step:"0.01",required:!0,"aria-label":"Nuevo saldo"}),d&&a.jsx("p",{className:`text-sm mt-2 ${s==="dark"?"text-blue-400":"text-blue-600"}`,children:d})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 ${s==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"} rounded-xl transition-all duration-300`,"aria-label":"Cancelar",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:i,className:`px-4 py-2 ${i?s==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Guardar saldo",children:i?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})};G6.propTypes={isOpen:q.bool.isRequired,user:q.object,onClose:q.func.isRequired,onSave:q.func.isRequired,loading:q.bool,theme:q.oneOf(["dark","light"])};const K6=({isOpen:t,user:e,onClose:r,onSave:n,loading:i,theme:s})=>{const[l,u]=N.useState(e?.role||"user");return N.useEffect(()=>{u(e?.role||"user")},[e]),!t||!e?null:a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:`bg-${s==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${s==="dark"?"border-gray-800/50":"border-gray-300"}`,children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:`text-xl font-bold ${s==="dark"?"text-white":"text-gray-900"}`,children:["Cambiar Rol de ",e.username]}),a.jsx("button",{onClick:r,className:`${s==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar modal",children:""})]}),a.jsxs("form",{onSubmit:d=>{d.preventDefault(),n(e.id,l)},children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:`block text-sm font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Nuevo Rol"}),a.jsx("select",{value:l,onChange:d=>u(d.target.value),className:`w-full px-4 py-2 rounded-xl ${s==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,"aria-label":"Seleccionar nuevo rol",children:q6.map(d=>a.jsx("option",{value:d.value,children:d.label},d.value))})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 ${s==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"} rounded-xl transition-all duration-300`,"aria-label":"Cancelar",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:i,className:`px-4 py-2 ${i?s==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Guardar rol",children:i?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})};K6.propTypes={isOpen:q.bool.isRequired,user:q.object,onClose:q.func.isRequired,onSave:q.func.isRequired,loading:q.bool,theme:q.oneOf(["dark","light"])};const X6=({theme:t="dark"})=>{const[e,r]=N.useState([]),[n,i]=N.useState(""),[s,l]=N.useState({isOpen:!1,user:null}),[u,d]=N.useState({isOpen:!1,user:null}),[h,p]=N.useState(!0),[g,y]=N.useState({}),[v,k]=N.useState(null);N.useEffect(()=>{(async()=>{p(!0);try{const S=await Gn(Lt(qe,"users")),C=await Promise.all(S.docs.map(async P=>{const D={id:P.id,...P.data()},z=Er(Lt(qe,"sales"),Or("userId","==",P.id)),B=await Gn(z);return{...D,orderCount:B.size}}));r(C)}catch(S){k("No se pudieron obtener los usuarios: "+S.message)}p(!1)})()},[]);const w=A=>l({isOpen:!0,user:A}),E=()=>l({isOpen:!1,user:null}),O=A=>d({isOpen:!0,user:A}),M=()=>d({isOpen:!1,user:null}),V=async(A,S)=>{y(C=>({...C,[`balance_${A}`]:!0}));try{const C=_t(qe,"users",A);await qr(C,{balance:S}),r(P=>P.map(D=>D.id===A?{...D,balance:S}:D)),E()}catch(C){k("Error al actualizar saldo: "+C.message)}y(C=>({...C,[`balance_${A}`]:!1}))},j=async(A,S)=>{y(C=>({...C,[`role_${A}`]:!0}));try{const C=_t(qe,"users",A);await qr(C,{role:S}),r(P=>P.map(D=>D.id===A?{...D,role:S}:D)),M()}catch(C){k("Error al actualizar rol: "+C.message)}y(C=>({...C,[`role_${A}`]:!1}))},X=async(A,S)=>{y(C=>({...C,[`status_${A}`]:!0}));try{const C=_t(qe,"users",A),P=S==="suspended"?"active":"suspended";await qr(C,{status:P}),r(D=>D.map(z=>z.id===A?{...z,status:P}:z))}catch(C){k("Error al cambiar estado: "+C.message)}y(C=>({...C,[`status_${A}`]:!1}))},U=async A=>{y(S=>({...S,[`delete_${A}`]:!0}));try{const S=_t(qe,"users",A);await ko(S),r(C=>C.filter(P=>P.id!==A))}catch(S){k("Error al eliminar usuario: "+S.message)}y(S=>({...S,[`delete_${A}`]:!1}))};return a.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[a.jsxs("div",{className:`bg-${t==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${t==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${t==="dark"?"text-white":"text-gray-900"}`,children:["Lista de"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Usuarios"})," ","(",e.length,")"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Buscar usuarios...",className:`px-4 py-2 rounded-xl ${t==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400 placeholder-gray-500":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600 placeholder-gray-400"} focus:ring-2 transition-all text-sm`,value:n,onChange:A=>i(A.target.value),"aria-label":"Buscar usuarios"}),a.jsx(mu,{className:`absolute right-3 top-2.5 ${t==="dark"?"text-blue-400":"text-blue-600"}`})]})]}),h?a.jsx("div",{className:"flex justify-center items-center h-40",children:a.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 ${t==="dark"?"border-blue-500":"border-blue-600"}`})}):v?a.jsx("div",{className:`text-center py-4 ${t==="dark"?"text-blue-400":"text-blue-600"}`,children:v}):e.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[a.jsx("thead",{className:`${t==="dark"?"bg-gray-800/50":"bg-gray-100"} backdrop-blur-sm`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(yu,{})," Usuario"]})}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(h0,{})," Email"]})}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(kp,{})," Rol"]})}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Ca,{})," Saldo"]})}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"rdenes"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Acciones"})]})}),a.jsx("tbody",{className:`${t==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:e.filter(A=>(A.username||"").toLowerCase().includes(n.toLowerCase())||(A.email||"").toLowerCase().includes(n.toLowerCase())).map(A=>a.jsxs("tr",{className:`${A.status==="suspended"?t==="dark"?"bg-red-900/20":"bg-red-100/50":""} hover:bg-${t==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:A.username||"Sin nombre"}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:A.email}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t==="dark"?"bg-blue-900/80 text-blue-400":"bg-blue-100/80 text-blue-600"}`,children:rJ(A.role)}),a.jsx("button",{onClick:()=>O(A),disabled:g[`role_${A.id}`],className:`ml-2 p-1 ${t==="dark"?"bg-blue-700 hover:bg-blue-800 text-blue-200 disabled:bg-blue-900":"bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-300"} rounded-xl transition-all duration-300`,title:"Editar Rol","aria-label":`Editar rol de ${A.username}`,children:a.jsx(ZE,{size:14})})]}),a.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(A.balance||0).toFixed(2)]}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:A.orderCount||0}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap flex space-x-2",children:[a.jsx("button",{onClick:()=>w(A),disabled:g[`balance_${A.id}`],className:`p-2 ${t==="dark"?"bg-blue-600 hover:bg-blue-700 text-white disabled:bg-blue-800":"bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-300"} rounded-xl transition-all duration-300`,title:"Editar Saldo","aria-label":`Editar saldo de ${A.username}`,children:a.jsx(ZE,{size:16})}),a.jsx("button",{onClick:()=>X(A.id,A.status),disabled:g[`status_${A.id}`],className:`p-2 ${A.status==="suspended"?t==="dark"?"bg-green-600 hover:bg-green-700 text-white disabled:bg-green-800":"bg-green-500 hover:bg-green-600 text-white disabled:bg-green-300":t==="dark"?"bg-yellow-600 hover:bg-yellow-700 text-white disabled:bg-yellow-800":"bg-yellow-500 hover:bg-yellow-600 text-white disabled:bg-yellow-300"} rounded-xl transition-all duration-300`,title:A.status==="suspended"?"Activar Cuenta":"Suspender Cuenta","aria-label":A.status==="suspended"?`Activar cuenta de ${A.username}`:`Suspender cuenta de ${A.username}`,children:A.status==="suspended"?a.jsx(KU,{size:16}):a.jsx(WU,{size:16})}),a.jsx("button",{onClick:()=>U(A.id),disabled:g[`delete_${A.id}`],className:`p-2 ${t==="dark"?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-800":"bg-red-500 hover:bg-red-600 text-white disabled:bg-red-300"} rounded-xl transition-all duration-300`,title:"Eliminar Cuenta","aria-label":`Eliminar cuenta de ${A.username}`,children:a.jsx(t2,{size:16})})]})]},A.id))})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(kp,{className:`mx-auto text-4xl ${t==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),a.jsx("p",{className:`${t==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay usuarios registrados"})]})]}),a.jsx(G6,{isOpen:s.isOpen,user:s.user,onClose:E,onSave:V,loading:g[`balance_${s.user?.id}`],theme:t}),a.jsx(K6,{isOpen:u.isOpen,user:u.user,onClose:M,onSave:j,loading:g[`role_${u.user?.id}`],theme:t})]})};X6.propTypes={theme:q.oneOf(["dark","light"])};const Y6=({isOpen:t,message:e,title:r,onClose:n})=>t?a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:r}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:a.jsx(Ui,{size:20})})]}),a.jsx("p",{className:"text-gray-300 mb-6",children:e}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null;Y6.propTypes={isOpen:q.bool.isRequired,message:q.string.isRequired,title:q.string.isRequired,onClose:q.func.isRequired};const Q6=({formatDate:t=r=>{if(!r)return"No especificada";try{const n=r.toDate?r.toDate():new Date(r);return isNaN(n.getTime())?"Fecha invlida":n.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha invlida"}},theme:e="dark"})=>{const[r,n]=N.useState([]),[i,s]=N.useState([]),[l,u]=N.useState({}),[d,h]=N.useState({isOpen:!1,message:"",title:""}),p=(k,w)=>{h({isOpen:!0,title:k,message:w})},g=()=>{h({isOpen:!1,message:"",title:""})};N.useEffect(()=>{const k=br(Er(Lt(qe,"pendingTopUps"),Or("status","==","pendiente")),E=>{n(E.docs.map(O=>({id:O.id,...O.data()})))}),w=br(Lt(qe,"topUpsHistory"),E=>{s(E.docs.map(O=>({id:O.id,...O.data()})))});return()=>{k(),w()}},[]);const y=async k=>{try{u(M=>({...M,[k]:!0}));const w=_t(qe,"pendingTopUps",k),E=r.find(M=>M.id===k);if(!E?.userId)throw new Error("Usuario no encontrado para la recarga");await qr(w,{status:"aprobado",updatedAt:Fr()});const O=_t(qe,"users",E.userId);await qr(O,{balance:J7(E.amount||0)}),await aa(_t(qe,"topUpsHistory",k),{...E,status:"aprobado",updatedAt:Fr()}),p("xito","Recarga aprobada exitosamente")}catch(w){console.error("Error al aprobar recarga:",w),p("Error",w.message||"Error al aprobar la recarga")}finally{u(w=>({...w,[k]:!1}))}},v=async k=>{try{u(O=>({...O,[k]:!0}));const w=_t(qe,"pendingTopUps",k);await qr(w,{status:"rechazado",updatedAt:Fr()});const E=r.find(O=>O.id===k);await aa(_t(qe,"topUpsHistory",k),{...E,status:"rechazado",updatedAt:Fr()}),p("xito","Recarga rechazada exitosamente")}catch(w){console.error("Error al rechazar recarga:",w),p("Error",w.message||"Error al rechazar la recarga")}finally{u(w=>({...w,[k]:!1}))}};return a.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[a.jsxs("div",{className:`bg-${e==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${e==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${e==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Recargas"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Pendientes - BlackStreaming"})]}),Array.isArray(r)&&r.length>0?a.jsx("div",{className:"space-y-4",children:r.map(k=>a.jsxs("div",{className:`border ${e==="dark"?"border-gray-600/50":"border-gray-300"} rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300`,children:[a.jsxs("div",{className:`${e==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm px-4 py-3 border-b ${e==="dark"?"border-gray-600/50":"border-gray-300"} flex justify-between items-center`,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-10 h-10 ${e==="dark"?"bg-blue-900/80":"bg-blue-100/80"} rounded-full flex items-center justify-center ${e==="dark"?"text-blue-400":"text-blue-600"}`,children:a.jsx(Ca,{size:18})}),a.jsxs("div",{children:[a.jsx("h4",{className:`font-semibold ${e==="dark"?"text-white":"text-gray-900"}`,children:k.username||"Sin nombre"}),a.jsxs("p",{className:`text-xs ${e==="dark"?"text-gray-400":"text-gray-600"}`,children:["Solicitado: ",t(k.requestedAt)]})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:`text-lg font-medium ${e==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(k.amount||0).toFixed(2)]})})]}),a.jsx("div",{className:`p-4 ${e==="dark"?"bg-gray-700/50":"bg-gray-50"} backdrop-blur-sm`,children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx("button",{onClick:()=>y(k.id),disabled:l[k.id],className:`flex-1 ${e==="dark"?"bg-green-600 hover:bg-green-700 disabled:bg-green-800":"bg-green-500 hover:bg-green-600 disabled:bg-green-300"} text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300`,"aria-label":`Aprobar recarga de ${k.username}`,children:l[k.id]?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):a.jsxs(a.Fragment,{children:[a.jsx(XU,{size:18})," Aprobar Recarga"]})}),a.jsx("button",{onClick:()=>v(k.id),disabled:l[k.id],className:`flex-1 ${e==="dark"?"bg-red-600 hover:bg-red-700 disabled:bg-red-800":"bg-red-500 hover:bg-red-600 disabled:bg-red-300"} text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300`,"aria-label":`Rechazar recarga de ${k.username}`,children:l[k.id]?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):a.jsxs(a.Fragment,{children:[a.jsx(Ui,{size:18})," Rechazar Recarga"]})})]})})]},k.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ca,{className:`mx-auto text-4xl ${e==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),a.jsx("h4",{className:`text-lg font-medium ${e==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay recargas pendientes"}),a.jsx("p",{className:`${e==="dark"?"text-gray-400":"text-gray-500"}`,children:"Todas las solicitudes han sido procesadas"})]})]}),a.jsxs("div",{className:`bg-${e==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${e==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${e==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Historial de"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Recargas - BlackStreaming"})]}),Array.isArray(i)&&i.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[a.jsx("thead",{className:`${e==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Usuario"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Monto"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"})]})}),a.jsx("tbody",{className:`${e==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:i.map(k=>a.jsxs("tr",{className:`hover:bg-${e==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-white":"text-gray-900"}`,children:k.username||"Sin nombre"}),a.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(k.amount||0).toFixed(2)]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${k.status==="aprobado"?e==="dark"?"bg-green-900/80 text-green-400":"bg-green-100/80 text-green-600":e==="dark"?"bg-red-900/80 text-red-400":"bg-red-100/80 text-red-600"}`,children:k.status||"Desconocido"})}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-gray-300":"text-gray-600"}`,children:t(k.updatedAt)})]},k.id))})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ca,{className:`mx-auto text-4xl ${e==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),a.jsx("p",{className:`${e==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay historial de recargas"})]})]}),a.jsx(Y6,{isOpen:d.isOpen,title:d.title,message:d.message,onClose:g})]})};Q6.propTypes={formatDate:q.func,theme:q.oneOf(["dark","light"])};const nJ=({withdrawals:t,formatDate:e,actionLoading:r,setActionLoading:n,showNotificationModal:i})=>{const s=async(l,u)=>{try{n(h=>({...h,[l]:!0}));const d=_t(qe,"withdrawals",l);await qr(d,{status:u==="approve"?"completed":"rejected",updatedAt:Fr()}),i("xito",`Retiro ${u==="approve"?"aprobado":"rechazado"} exitosamente`)}catch(d){i("Error",d.message||`Error al ${u==="approve"?"aprobar":"rechazar"} el retiro`)}finally{n(d=>({...d,[l]:!1}))}};return a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Retiros ",a.jsx("span",{className:"text-red-400",children:"Pendientes"})]}),t.length===0?a.jsxs("div",{className:"text-center text-gray-300 py-8",children:[a.jsx(Ys,{className:"mx-auto text-4xl text-red-400 mb-4"}),a.jsx("p",{children:"No hay retiros pendientes"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-gray-300",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-600/50",children:[a.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Usuario"}),a.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Monto"}),a.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Fecha"}),a.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Acciones"})]})}),a.jsx("tbody",{children:t.map(l=>a.jsxs("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30 transition-all duration-300",children:[a.jsx("td",{className:"py-3 px-4",children:l.userEmail||"No especificado"}),a.jsxs("td",{className:"py-3 px-4",children:["S/ ",l.amount?.toFixed(2)||"0.00"]}),a.jsx("td",{className:"py-3 px-4",children:e(l.createdAt)}),a.jsxs("td",{className:"py-3 px-4 flex space-x-2",children:[a.jsxs("button",{onClick:()=>s(l.id,"approve"),disabled:r[l.id],className:`px-3 py-1 rounded-xl text-white flex items-center space-x-1 transition-all duration-300 ${r[l.id]?"bg-gray-600 cursor-not-allowed":"bg-green-500 hover:bg-green-600"}`,children:[a.jsx(Bz,{}),a.jsx("span",{children:"Aprobar"})]}),a.jsxs("button",{onClick:()=>s(l.id,"reject"),disabled:r[l.id],className:`px-3 py-1 rounded-xl text-white flex items-center space-x-1 transition-all duration-300 ${r[l.id]?"bg-gray-600 cursor-not-allowed":"bg-red-500 hover:bg-red-600"}`,children:[a.jsx(zi,{}),a.jsx("span",{children:"Rechazar"})]})]})]},l.id))})]})})]})},J6=({sales:t=[],totalSales:e=0,formatDate:r=s=>"No especificada",getOrderStatus:n=()=>"Desconocido",theme:i="dark"})=>{const[s,l]=N.useState({}),[u,d]=N.useState(null),h=async p=>{l(g=>({...g,[`delete_${p}`]:!0}));try{const g=_t(qe,"sales",p);await ko(g),window.dispatchEvent(new CustomEvent("saleDeleted",{detail:{saleId:p}}))}catch(g){d("Error al eliminar pedido: "+g.message)}l(g=>({...g,[`delete_${p}`]:!1}))};return a.jsxs("div",{className:`bg-${i==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${i==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${i==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Ventas"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"General - BlackStreaming"})]}),a.jsxs("div",{className:`${i==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-6 text-center mb-6 border ${i==="dark"?"border-gray-600/50":"border-gray-300"}`,children:[a.jsx("h4",{className:`text-lg font-semibold ${i==="dark"?"text-blue-400":"text-blue-600"} mb-2`,children:"Total Ventas"}),a.jsxs("p",{className:`text-3xl font-bold ${i==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",e.toFixed(2)]}),a.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mt-2`,children:"Suma de todos los pedidos realizados"})]}),a.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${i==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Historial de"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Pedidos - BlackStreaming"})]}),u&&a.jsx("div",{className:`text-center py-4 ${i==="dark"?"text-blue-400":"text-blue-600"}`,children:u}),t.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[a.jsx("thead",{className:`${i==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${i==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Nombre del Producto"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${i==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Precio"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${i==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Proveedor"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${i==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Usuario Comprador"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${i==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${i==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${i==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Acciones"})]})}),a.jsx("tbody",{className:`${i==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:t.map(p=>a.jsxs("tr",{className:`hover:bg-${i==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${i==="dark"?"text-white":"text-gray-900"}`,children:p.productName||"Sin nombre"}),a.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${i==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(p.price||0).toFixed(2)]}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:p.provider||"Sin proveedor"}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:p.buyer||"Sin comprador"}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:r(p.createdAt)}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${n(p)==="Pendiente"?i==="dark"?"bg-yellow-900/80 text-yellow-400":"bg-yellow-100/80 text-yellow-600":n(p)==="Activo"?i==="dark"?"bg-green-900/80 text-green-400":"bg-green-100/80 text-green-600":i==="dark"?"bg-red-900/80 text-red-400":"bg-red-100/80 text-red-600"}`,children:n(p)})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("button",{onClick:()=>h(p.id),disabled:s[`delete_${p.id}`],className:`p-2 ${i==="dark"?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-800":"bg-red-500 hover:bg-red-600 text-white disabled:bg-red-300"} rounded-xl transition-all duration-300`,title:"Eliminar Pedido","aria-label":`Eliminar pedido ${p.productName||"sin nombre"}`,children:s[`delete_${p.id}`]?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):a.jsx(t2,{size:16})})})]},p.id))})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(gu,{className:`mx-auto text-4xl ${i==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),a.jsx("p",{className:`${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay pedidos registrados"})]})]})};J6.propTypes={sales:q.array,totalSales:q.number,formatDate:q.func,getOrderStatus:q.func,theme:q.oneOf(["dark","light"])};const Z6=({earnings:t={day:0,week:0,month:0,total:0},totalUsers:e=0,theme:r="dark"})=>a.jsxs("div",{className:`bg-${r==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Ganancias -"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[a.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[a.jsx(Sd,{className:"mr-2","aria-hidden":"true"})," Ganancias Diarias"]}),a.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias diarias",children:["S/ ",(t.day||0).toFixed(2)]}),a.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por da"})]}),a.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[a.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[a.jsx(Sd,{className:"mr-2","aria-hidden":"true"})," Ganancias Semanales"]}),a.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias semanales",children:["S/ ",(t.week||0).toFixed(2)]}),a.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por semana"})]}),a.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[a.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[a.jsx(Sd,{className:"mr-2","aria-hidden":"true"})," Ganancias Mensuales"]}),a.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias mensuales",children:["S/ ",(t.month||0).toFixed(2)]}),a.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por mes"})]}),a.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[a.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[a.jsx(Sd,{className:"mr-2","aria-hidden":"true"})," Ganancias Totales"]}),a.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias totales",children:["S/ ",(t.total||0).toFixed(2)]}),a.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Total acumulado"})]})]}),a.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[a.jsx("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2`,children:"Resumen"}),a.jsxs("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"}`,children:["Total de usuarios registrados:"," ",a.jsx("span",{className:`font-medium ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Total de usuarios registrados",children:e})]}),a.jsxs("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:["Ganancia por usuario:"," ",a.jsx("span",{className:`font-medium ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancia por usuario",children:"S/ 5.00"})]}),a.jsx("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Las ganancias se calculan asumiendo S/ 5.00 por cada usuario registrado. Las estimaciones diarias y semanales son proporciones del total (5% y 25%, respectivamente)."})]})]});Z6.propTypes={earnings:q.shape({day:q.number,week:q.number,month:q.number,total:q.number}),totalUsers:q.number,theme:q.oneOf(["dark","light"])};const eC=({userName:t="",setUserName:e=()=>{},email:r="",handleSaveChanges:n=()=>{},handleLogout:i=()=>{},actionLoading:s={},theme:l="dark"})=>a.jsxs("div",{className:`bg-${l==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-2xl mx-auto border ${l==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${l==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Configuracin -"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),a.jsxs("form",{onSubmit:n,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium ${l==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[a.jsx(yu,{className:`mr-2 ${l==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Nombre de usuario"]}),a.jsx("input",{type:"text",value:t,onChange:u=>e(u.target.value),className:`w-full px-4 py-2 rounded-xl ${l==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,placeholder:"Ingresa tu nombre de usuario",required:!0,"aria-label":"Nombre de usuario"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium ${l==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[a.jsx(h0,{className:`mr-2 ${l==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Correo electrnico"]}),a.jsx("input",{type:"email",value:r,disabled:!0,className:`w-full px-4 py-2 rounded-xl ${l==="dark"?"bg-gray-700/50 text-gray-400 border-gray-600/50":"bg-gray-100 text-gray-500 border-gray-300"} cursor-not-allowed`,"aria-label":"Correo electrnico (solo lectura)"}),a.jsx("p",{className:`text-sm ${l==="dark"?"text-gray-400":"text-gray-500"} mt-1`,children:"El correo no puede ser modificado."})]}),a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium ${l==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[a.jsx(e2,{className:`mr-2 ${l==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Nueva contrasea (opcional)"]}),a.jsx("input",{type:"password",name:"password",className:`w-full px-4 py-2 rounded-xl ${l==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,placeholder:"Ingresa una nueva contrasea","aria-label":"Nueva contrasea"}),a.jsx("p",{className:`text-sm ${l==="dark"?"text-gray-400":"text-gray-500"} mt-1`,children:"Mnimo 6 caracteres. Djalo en blanco para no cambiarla."})]}),a.jsx("button",{type:"submit",disabled:s.config,className:`w-full py-3 px-4 ${l==="dark"?"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-800":"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300"} text-white rounded-xl font-medium transition-all duration-300`,"aria-label":"Guardar cambios",children:s.config?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar Cambios"})]}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{onClick:i,className:`w-full py-3 px-4 ${l==="dark"?"bg-red-600 hover:bg-red-700 disabled:bg-red-800":"bg-red-500 hover:bg-red-600 disabled:bg-red-300"} text-white rounded-xl font-medium transition-all duration-300 flex items-center justify-center gap-2`,"aria-label":"Cerrar sesin",children:[a.jsx(xu,{size:18})," Cerrar Sesin"]})})]});eC.propTypes={userName:q.string,setUserName:q.func,email:q.string,handleSaveChanges:q.func,handleLogout:q.func,actionLoading:q.object,theme:q.oneOf(["dark","light"])};const tC=({isOpen:t,message:e,title:r,onClose:n,theme:i="dark"})=>t?a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:`bg-${i==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${i==="dark"?"border-gray-800/50":"border-gray-300"}`,children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:`text-xl font-bold ${i==="dark"?"text-white":"text-gray-900"}`,children:[r||"Notificacin"," -"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),a.jsx("button",{onClick:n,className:`${i==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar notificacin",children:a.jsx(Ui,{size:20})})]}),a.jsx("p",{className:`mb-6 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:e||"No se proporcion ningn mensaje."}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:n,className:`px-4 py-2 ${i==="dark"?"bg-blue-500 hover:bg-blue-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Aceptar notificacin",children:"Aceptar"})})]})})}):null;tC.propTypes={isOpen:q.bool.isRequired,message:q.string,title:q.string,onClose:q.func.isRequired,theme:q.oneOf(["dark","light"])};const iJ=({isOpen:t,user:e,onClose:r,onSave:n})=>{const[i,s]=N.useState(e?.balance||0),[l,u]=N.useState(""),d=h=>{if(h.preventDefault(),u(""),isNaN(i)||i<0){u("Por favor, ingrese un saldo vlido (nmero no negativo).");return}n(e.id,parseFloat(i))};return t?a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-xl font-bold text-white",children:["Editar Saldo de ",e.username]}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-all duration-300",children:a.jsx(zi,{size:20})})]}),a.jsxs("form",{onSubmit:d,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuevo Saldo (S/)"}),a.jsx("input",{type:"number",value:i,onChange:h=>s(h.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",min:"0",step:"0.01",required:!0}),l&&a.jsx("p",{className:"text-red-400 text-sm mt-2",children:l})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},rC=({theme:t,products:e,loadingProducts:r,searchQuery:n,setSearchQuery:i,handleDeleteProduct:s})=>{const l=t==="dark",u=e.filter(d=>d.name?.toLowerCase().includes(n.toLowerCase())||d.category?.toLowerCase().includes(n.toLowerCase()));return r?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs(ne.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl max-w-6xl mx-auto border ${l?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[a.jsx("h3",{className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${l?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Gestin de Productos"}),a.jsx("div",{className:"relative w-full sm:w-64 mt-4 sm:mt-0",children:a.jsx("input",{type:"text",placeholder:"Buscar productos...",value:n,onChange:d=>i(d.target.value),className:`w-full px-3 py-2 rounded-xl ${l?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 text-sm placeholder-gray-500`,"aria-label":"Search products"})})]}),u.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[a.jsx("thead",{className:`backdrop-blur-sm ${l?"bg-gray-900/80":"bg-gray-200/80"}`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${l?"text-gray-300":"text-gray-700"}`,children:"Imagen"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${l?"text-gray-300":"text-gray-700"}`,children:"Nombre"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${l?"text-gray-300":"text-gray-700"}`,children:"Categora"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${l?"text-gray-300":"text-gray-700"}`,children:"Tipo"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${l?"text-gray-300":"text-gray-700"}`,children:"Proveedor"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${l?"text-gray-300":"text-gray-700"}`,children:"Estado"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${l?"text-gray-300":"text-gray-700"}`,children:"Stock"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${l?"text-gray-300":"text-gray-700"}`,children:"Precio"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${l?"text-gray-300":"text-gray-700"}`,children:"Acciones"})]})}),a.jsx("tbody",{className:`divide-y divide-gray-700/50 ${l?"bg-gray-800/70":"bg-gray-100/70"}`,children:u.map((d,h)=>a.jsxs("tr",{className:"hover:bg-blue-500/10 transition-all duration-300",children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:d.image?a.jsx("img",{src:d.image,alt:d.name,className:"h-12 w-12 rounded-lg object-cover",loading:"lazy"}):a.jsx("div",{className:"h-12 w-12 bg-gray-300 rounded-lg flex items-center justify-center",children:a.jsx(Gy,{className:"text-gray-500",size:20})})}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${l?"text-white":"text-gray-900"}`,children:d.name||"Sin nombre"}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${l?"text-gray-300":"text-gray-600"}`,children:d.category||"Sin categora"}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${l?"text-gray-300":"text-gray-600"}`,children:d.accountType||"N/A"}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${l?"text-gray-300":"text-gray-600"}`,children:d.provider||"Sin proveedor"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${d.status==="En stock"?"bg-green-500/20 text-green-400 border-green-500/50":d.status==="A pedido"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/50":"bg-red-500/20 text-red-400 border-red-500/50"} border`,children:d.status||"Desconocido"})}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${l?"text-gray-300":"text-gray-600"}`,children:d.stock!=null?d.stock:"0"}),a.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${l?"text-white":"text-gray-900"}`,children:["S/ ",parseFloat(d.price||0).toFixed(2)]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("button",{onClick:()=>s(d.id),className:`p-2 rounded-full ${l?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-red-100 text-red-600 hover:bg-red-200"} transition-all duration-300`,title:"Eliminar producto","aria-label":`Eliminar producto ${d.name}`,children:a.jsx(t2,{size:14})})})]},d.id||h))})]})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Gy,{className:`mx-auto text-4xl ${l?"text-gray-400":"text-gray-500"} mb-3`}),a.jsx("h4",{className:`text-lg font-medium ${l?"text-gray-300":"text-gray-700"}`,children:"No hay productos registrados"}),a.jsx("p",{className:`text-sm ${l?"text-gray-400":"text-gray-600"}`,children:"Los productos aparecern aqu cuando los agregues."})]})]})};rC.propTypes={theme:q.string.isRequired,products:q.array.isRequired,loadingProducts:q.bool.isRequired,searchQuery:q.string.isRequired,setSearchQuery:q.func.isRequired,handleDeleteProduct:q.func.isRequired};const sJ=As.memo(({show:t,onClose:e,title:r,message:n,theme:i})=>a.jsx(Ht,{children:t&&a.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:a.jsxs(ne.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${i==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${i==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:s=>s.stopPropagation(),children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:a.jsx(Ui,{size:20})}),a.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${i==="dark"?"text-white":"text-gray-900"}`,children:r}),a.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));sJ.propTypes={show:q.bool.isRequired,onClose:q.func.isRequired,title:q.string.isRequired,message:q.string.isRequired,theme:q.string.isRequired};const nC=()=>{const[t,e]=N.useState(!1),[r,n]=N.useState("inicio"),[i,s]=N.useState(""),[l,u]=N.useState(""),[d,h]=N.useState([]),[p,g]=N.useState([]),[y,v]=N.useState([]),[k,w]=N.useState([]),[E,O]=N.useState([]),[M,V]=N.useState([]),[j,X]=N.useState(0),[U,A]=N.useState(0),[S,C]=N.useState(0),[P,D]=N.useState(0),[z,B]=N.useState({day:0,week:0,month:0,total:0}),[Ee,Re]=N.useState(!0),[Be,Fe]=N.useState(!0),[ve,ie]=N.useState(null),[me,re]=N.useState({}),[R,K]=N.useState({isOpen:!1,message:"",title:""}),[Q,ee]=N.useState({isOpen:!1,user:null}),[se,Ce]=N.useState("dark"),[De,Se]=N.useState(!1),[ue,nt]=N.useState(!1),[ht,yt]=N.useState(""),[wt,pr]=N.useState(""),Nt=Os(),Ge=N.useCallback(()=>{Ce(Ae=>Ae==="dark"?"light":"dark")},[]),Xt=N.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),Ct=N.useCallback((Ae,ze)=>{K({isOpen:!0,title:Ae,message:ze})},[]),er=N.useCallback(()=>{K({isOpen:!1,message:"",title:""})},[]),le=N.useCallback(Ae=>{ee({isOpen:!0,user:Ae})},[]),et=N.useCallback(()=>{ee({isOpen:!1,user:null})},[]),Xe=N.useCallback(Ae=>{if(!Ae)return"No especificada";try{const ze=Ae instanceof Date?Ae:new Date(Ae);return isNaN(ze.getTime())?"Fecha invlida":ze.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha invlida"}},[]),lt=N.useCallback(async Ae=>{if(window.confirm("Ests seguro de que quieres eliminar este producto?"))try{re(ze=>({...ze,deleteProduct:!0})),await ko(_t(qe,"products",Ae)),Ct("xito","Producto eliminado correctamente")}catch(ze){console.error("Error al eliminar producto:",ze),Ct("Error",ze.message||"Error al eliminar el producto")}finally{re(ze=>({...ze,deleteProduct:!1}))}},[Ct]),mt=N.useCallback(async(Ae,ze)=>{try{re(St=>({...St,balance:!0}));const gt=_t(qe,"users",Ae);await qr(gt,{balance:ze,updatedAt:Fr()}),Ct("xito","Saldo actualizado exitosamente"),et()}catch(gt){console.error("Error al actualizar saldo:",gt),Ct("Error",gt.message||"Error al actualizar el saldo")}finally{re(gt=>({...gt,balance:!1}))}},[Ct,et]),ct=N.useCallback(async Ae=>{Ae.preventDefault();try{re(Mt=>({...Mt,config:!0}));const ze=Ae.target.password.value,gt=_t(qe,"users",en.currentUser.uid),St={username:i,updatedAt:Fr()};if(ze){if(ze.length<6){Ct("Error","La contrasea debe tener al menos 6 caracteres");return}await pv(en.currentUser,ze)}await qr(gt,St),Ct("xito","Cambios guardados correctamente"),Ae.target.reset()}catch(ze){console.error("Error al guardar cambios:",ze),Ct("Error",ze.message||"Error al guardar los cambios")}finally{re(ze=>({...ze,config:!1}))}},[i,Ct]),Te=N.useCallback(async()=>{try{await L0(en),Nt("/")}catch(Ae){console.error("Error al cerrar sesin:",Ae),Ct("Error",Ae.message||"Error al cerrar sesin")}},[Nt,Ct]);N.useEffect(()=>{const Ae=ql(en,ze=>{ze?(u(ze.email||"No especificado"),Re(!1)):Nt("/login")});return()=>Ae()},[Nt]),N.useEffect(()=>{if(!en.currentUser)return;const Ae=_t(qe,"users",en.currentUser.uid),ze=br(Ae,gt=>{if(gt.exists()){const St=gt.data();s(St.username||"Admin")}else ie("Usuario no encontrado")},gt=>{console.error("Error al cargar datos del usuario:",gt),ie("Error al cargar datos del usuario: "+gt.message)});return()=>ze()},[]),N.useEffect(()=>{const Ae=Lt(qe,"users"),ze=Lt(qe,"sales"),gt=Er(Lt(qe,"pendingTopUps"),Or("status","==","pendiente")),St=Er(Lt(qe,"withdrawals"),Or("status","==","pendiente")),Mt=Er(Lt(qe,"products"),nv("createdAt","desc")),vt=br(Ae,Rt=>{const Wt=Rt.docs.map(Ft=>({id:Ft.id,...Ft.data()}));h(Wt),X(Wt.length)},Rt=>{console.error("Error al cargar usuarios:",Rt),ie("Error al cargar usuarios: "+Rt.message)}),Vr=br(ze,Rt=>{const Wt=Rt.docs.map(Pr=>({id:Pr.id,...Pr.data()}));g(Wt);const Ft=Wt.reduce((Pr,Kr)=>Pr+(parseFloat(Kr.price)||0),0);A(Ft)},Rt=>{console.error("Error al cargar ventas:",Rt),ie("Error al cargar ventas: "+Rt.message)}),ar=br(gt,Rt=>{const Wt=Rt.docs.map(Ft=>({id:Ft.id,...Ft.data(),date:Ft.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(Ft.data().amount)||0}));v(Wt),C(Wt.length)},Rt=>{console.error("Error al cargar recargas:",Rt),ie("Error al cargar recargas: "+Rt.message)}),xr=br(St,Rt=>{const Wt=Rt.docs.map(Ft=>({id:Ft.id,...Ft.data(),date:Ft.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(Ft.data().amount)||0}));w(Wt),D(Wt.length)},Rt=>{console.error("Error al cargar retiros:",Rt),ie("Error al cargar retiros: "+Rt.message)}),Br=br(Mt,Rt=>{const Wt=Rt.docs.map(Ft=>({id:Ft.id,...Ft.data(),createdAt:Ft.data().createdAt?.toDate?.()||new Date}));O(Wt),Fe(!1)},Rt=>{console.error("Error al cargar productos:",Rt),ie("Error al cargar productos: "+Rt.message),Fe(!1)});return()=>{vt(),Vr(),ar(),xr(),Br()}},[]),N.useEffect(()=>{const Ae=br(_t(qe,"notifications","adminMessage"),ze=>{if(ze.exists()){const gt=ze.data();V([{id:ze.id,...gt,timestamp:gt.updatedAt?.toDate()}])}else V([])},ze=>{console.error("Error al cargar notificaciones:",ze),ie("Error al cargar notificaciones: "+ze.message)});return()=>Ae()},[]),N.useEffect(()=>{const Ae=j*5;B({day:Ae*.05,week:Ae*.25,month:Ae,total:Ae})},[j]),N.useEffect(()=>{const Ae=()=>{Se(window.scrollY>300)};return window.addEventListener("scroll",Ae),()=>window.removeEventListener("scroll",Ae)},[]);const Ie=N.useCallback(Ae=>{const ze=Ae.endDate?.toDate?.()||new Date,gt=new Date;return Ae.status==="pending"?"Pendiente":ze>gt&&Ae.status==="completed"?"Activo":"Expirado"},[]),ut=N.useCallback(()=>Ee?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):ve?a.jsxs("div",{className:`bg-${se==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${se==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsx(Ll,{className:"mx-auto text-4xl text-blue-400 mb-4"}),a.jsx("h3",{className:`text-xl font-bold ${se==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),a.jsx("p",{className:`text-base ${se==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:ve}),a.jsx("button",{onClick:()=>ie(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):a.jsx("div",{className:`bg-${se==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 lg:p-10 rounded-2xl shadow-md max-w-6xl mx-auto border ${se==="dark"?"border-gray-700/50":"border-gray-300"} w-full`,children:(()=>{switch(r){case"inicio":return a.jsx(eJ,{totalUsers:j,totalSales:U,pendingTopUps:S,pendingWithdrawals:P});case"notificaciones":return a.jsx(tJ,{notifications:M,formatDate:Xe});case"usuarios":return a.jsx(X6,{users:d,openEditBalanceModal:le});case"recargas":return a.jsx(Q6,{topUps:y,formatDate:Xe,actionLoading:me,setActionLoading:re,showNotificationModal:Ct});case"retiros":return a.jsx(nJ,{withdrawals:k,formatDate:Xe,actionLoading:me,setActionLoading:re,showNotificationModal:Ct});case"pedidos":return a.jsx(J6,{sales:p,totalSales:U,formatDate:Xe,getOrderStatus:Ie});case"productos":return a.jsx(rC,{theme:se,products:E,loadingProducts:Be,searchQuery:wt,setSearchQuery:pr,handleDeleteProduct:lt});case"ganancias":return a.jsx(Z6,{earnings:z,totalUsers:j});case"configuracion":return a.jsx(eC,{userName:i,setUserName:s,email:l,handleSaveChanges:ct,handleLogout:Te,actionLoading:me});default:return a.jsxs("div",{className:`bg-${se==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${se==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsx(Ll,{className:"mx-auto text-4xl text-blue-400 mb-4"}),a.jsx("h3",{className:`text-xl font-bold ${se==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Seccin no encontrada"}),a.jsx("p",{className:`text-base ${se==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La seccin que ests buscando no existe o no est disponible."}),a.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()}),[Ee,ve,se,r,j,U,S,P,M,Xe,d,le,y,me,Ct,k,p,Ie,z,i,s,l,ct,Te,E,Be,wt,lt]);return a.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${se==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${se==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),a.jsx("div",{className:"particles",children:[...Array(15)].map((Ae,ze)=>a.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},ze))})]}),a.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${se==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:a.jsxs("div",{className:"p-4 flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("button",{onClick:()=>{Nt("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),a.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:a.jsx(Ui,{className:"text-lg"})})]}),a.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${se==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:i.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${se==="dark"?"text-white":"text-gray-900"}`,children:i}),a.jsx("p",{className:`text-xs ${se==="dark"?"text-gray-400":"text-gray-600"}`,children:"Administrador"})]})]}),a.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Zv},{id:"notificaciones",label:"Notificaciones",icon:Fl},{id:"usuarios",label:"Usuarios",icon:kp},{id:"recargas",label:"Recargas",icon:Ca},{id:"retiros",label:"Retiros",icon:Ca},{id:"pedidos",label:"Pedidos",icon:gu},{id:"productos",label:"Productos",icon:Gy},{id:"ganancias",label:"Ganancias",icon:Sd},{id:"configuracion",label:"Configuracin",icon:JU}].map(Ae=>a.jsxs("button",{onClick:()=>{n(Ae.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===Ae.id?"bg-blue-100 text-blue-600 border border-blue-300":se==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":r===Ae.id?"page":void 0,children:[a.jsx(Ae.icon,{className:"text-lg"}),a.jsx("span",{children:Ae.label})]},Ae.id))}),a.jsx("div",{className:"mt-auto pt-6",children:a.jsxs("button",{onClick:()=>{Te(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${se==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[a.jsx(xu,{className:"text-lg"}),a.jsx("span",{children:"Cerrar Sesin"})]})})]})}),a.jsxs("header",{className:`${se==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ne.img,{src:Jl,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border ${se==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),a.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),a.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:ht,onChange:Ae=>yt(Ae.target.value),className:`w-full py-2.5 px-5 ${se==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:Ae=>Ae.key==="Enter"&&n("pedidos")}),a.jsx("button",{onClick:()=>n("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${se==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:a.jsx(mu,{size:18})})]})}),a.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[a.jsx("button",{onClick:Ge,className:`p-2 rounded-full ${se==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${se==="dark"?"light":"dark"} theme`,children:se==="dark"?a.jsx(Ql,{size:20}):a.jsx(Yl,{size:20})}),a.jsxs("button",{onClick:()=>nt(!0),className:`p-2 rounded-full relative ${se==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${M.length} new)`,children:[a.jsx(Fl,{size:20}),M.length>0&&a.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:M.length})]}),a.jsx("button",{className:`lg:hidden p-2 rounded-full ${se==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:a.jsx(Nm,{size:20,className:se==="dark"?"text-gray-300":"text-gray-600"})}),a.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:a.jsx("div",{className:"relative",children:a.jsxs("button",{className:`flex items-center space-x-2 ${se==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[a.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:i.charAt(0).toUpperCase()}),a.jsx("span",{className:`text-sm font-semibold ${se==="dark"?"text-gray-200":"text-gray-800"}`,children:i})]})})})]})]}),a.jsx(Ht,{children:ue&&a.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>nt(!1),role:"dialog","aria-labelledby":"notifications-title",children:a.jsxs(ne.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${se==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${se==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Ae=>Ae.stopPropagation(),children:[a.jsx("button",{onClick:()=>nt(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:a.jsx(Ui,{size:20})}),a.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${se==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),M.length>0?M.map(Ae=>a.jsxs("div",{className:`p-4 mb-2 rounded-md ${se==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${se==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[a.jsx("h3",{className:`font-semibold ${se==="dark"?"text-gray-200":"text-gray-800"}`,children:Ae.title||"Nueva Notificacin"}),a.jsx("p",{className:`text-sm ${se==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:Ae.message}),Ae.roles&&Ae.roles.length>0&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",Ae.roles.join(", ")]}),Ae.timestamp&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Xe(Ae.timestamp)})]},Ae.id)):a.jsx("p",{className:`text-center ${se==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),a.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:ut()}),a.jsxs("footer",{className:`${se==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${se==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),a.jsxs("p",{className:`text-base sm:text-lg ${se==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",a.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),a.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[a.jsx("a",{href:"https://twitter.com",className:`${se==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:a.jsx(Xl,{size:28})}),a.jsx("a",{href:"https://instagram.com",className:`${se==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:a.jsx(Kl,{size:28})}),a.jsx("a",{href:"https://facebook.com",className:`${se==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:a.jsx(Gl,{size:28})})]}),a.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[a.jsx("a",{href:"#",className:`text-sm ${se==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Poltica de Privacidad"}),a.jsx("a",{href:"#",className:`text-sm ${se==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Trminos de Servicio"}),a.jsx("a",{href:"#",className:`text-sm ${se==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contctanos"})]})]}),a.jsxs("p",{className:`text-sm ${se==="dark"?"text-gray-500":"text-gray-600"}`,children:[" ",new Date().getFullYear()," BlackStreaming. Hecho con pasin."]})]}),a.jsx(Ht,{children:De&&a.jsx(ne.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:Xt,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:a.jsx(km,{size:20})})}),a.jsx(tC,{isOpen:R.isOpen,title:R.title,message:R.message,onClose:er}),a.jsx(iJ,{isOpen:Q.isOpen,user:Q.user,onClose:et,onSave:mt}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};nC.propTypes={};const iC=N.createContext(),aJ=({children:t})=>{const e=xv($0),[r,n]=N.useState(null),[i,s]=N.useState(null),[l,u]=N.useState(!0);return N.useEffect(()=>{const d=ql(e,async h=>{if(h){n(h);try{const p=await Vo(_t(qe,"users",h.uid));p.exists()?s(p.data().role):s("user")}catch(p){console.error("Error fetching role:",p),s("user")}}else n(null),s(null);u(!1)});return()=>d()},[]),a.jsx(iC.Provider,{value:{user:r,role:i,loading:l},children:!l&&t})},Sf=()=>{const t=N.useContext(iC);if(t===void 0)throw new Error("useAuth debe usarse dentro de un AuthProvider");return t},oJ=N.lazy(()=>or(()=>import("./Netflix-BVuSVAI3.js"),[])),lJ=N.lazy(()=>or(()=>import("./Disney-CcagXbDZ.js"),[])),cJ=N.lazy(()=>or(()=>import("./Max-B2FMu2_Y.js"),[])),uJ=N.lazy(()=>or(()=>import("./Spotify-BQb4uak2.js"),[])),dJ=N.lazy(()=>or(()=>import("./PrimeVideo-Cw_0UkSb.js"),[])),hJ=N.lazy(()=>or(()=>import("./Vix-Ikwkyjpk.js"),[])),fJ=N.lazy(()=>or(()=>import("./canva-DJf_YUQr.js"),[])),pJ=N.lazy(()=>or(()=>import("./ChatGPT-rUhP4qFu.js"),[])),mJ=N.lazy(()=>or(()=>import("./Crunchyroll-B4f3RWZS.js"),[])),gJ=N.lazy(()=>or(()=>import("./RedesSociales-D3HBFpFF.js"),[])),xJ=N.lazy(()=>or(()=>import("./AppleMusic-DIbrPYCz.js"),[])),yJ=N.lazy(()=>or(()=>import("./AppleTv-C7MKnZnc.js"),[])),vJ=N.lazy(()=>or(()=>import("./IPTV-mhwPI-eI.js"),[])),bJ=N.lazy(()=>or(()=>import("./FlujoTv-CULzFFl9.js"),[])),wJ=N.lazy(()=>or(()=>import("./VikiRakuten-CYKPVdFa.js"),[])),_J=N.lazy(()=>or(()=>import("./Pornhub-DThZNDzZ.js"),[])),EJ=N.lazy(()=>or(()=>import("./Paramount-e-sGl3Xg.js"),[])),TJ=N.lazy(()=>or(()=>import("./Licencias-DnLpcoQM.js"),[])),kJ=N.lazy(()=>or(()=>import("./Capcut-BB0kiAb2.js"),[])),NJ=N.lazy(()=>or(()=>import("./Duolingo-BX-bZzl5.js"),[])),SJ=N.lazy(()=>or(()=>import("./Dgo-BmSASWQr.js"),[])),AJ=N.lazy(()=>or(()=>import("./LigaMax-BlzJvl2s.js"),[])),CJ=N.lazy(()=>or(()=>import("./MovistarPlay-DbWRHNrq.js"),[])),IJ=N.lazy(()=>or(()=>import("./Youtube-BjUEtfxI.js"),[])),jJ=N.lazy(()=>or(()=>import("./Deezer-Dd71rFil.js"),[])),PJ=N.lazy(()=>or(()=>import("./Tidal-D0JXKWPd.js"),[])),RJ=N.lazy(()=>or(()=>import("./Vpn-Bp9GqLtR.js"),[])),DJ=N.lazy(()=>or(()=>import("./WinTv-NQZyMzDX.js"),[])),OJ=N.lazy(()=>or(()=>import("./Buscapersonas-BzQ1h_WK.js"),[]));N.lazy(()=>or(()=>import("./Maintenance-CFBzdMD5.js"),[]));const FJ=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Pgina no encontrada"}),a.jsx("a",{href:"/",className:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600",children:"Volver al inicio"})]})}),LJ=()=>{const t=({children:i,redirectTo:s})=>{const{user:l,role:u,loading:d}=Sf();return d?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Cargando..."}):l&&u==="user"?i:a.jsx(af,{to:s||"/login",replace:!0})},e=({children:i,redirectTo:s})=>{const{user:l,role:u,loading:d}=Sf();return d?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Cargando..."}):l&&u==="admin"?i:a.jsx(af,{to:s||"/login",replace:!0})},r=({children:i,redirectTo:s})=>{const{user:l,role:u,loading:d}=Sf();return d?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Cargando..."}):l&&u==="affiliate"?i:a.jsx(af,{to:s||"/login",replace:!0})},n=({children:i,redirectTo:s})=>{const{user:l,role:u,loading:d}=Sf();return d?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Cargando..."}):l&&u==="provider"?i:a.jsx(af,{to:s||"/login",replace:!0})};return a.jsx(cj,{children:a.jsxs(a.Fragment,{children:[a.jsx(Vt,{path:"/",element:a.jsx(U5,{})}),a.jsx(Vt,{path:"/login",element:a.jsx(Mz,{})}),a.jsx(Vt,{path:"/register",element:a.jsx($z,{})}),a.jsx(Vt,{path:"/forgot-password",element:a.jsx(Vz,{})}),a.jsx(Vt,{path:"/dashboard/user",element:a.jsx(t,{children:a.jsx(V6,{})})}),a.jsx(Vt,{path:"/dashboard/affiliate",element:a.jsx(r,{children:a.jsx(WQ,{})})}),a.jsx(Vt,{path:"/dashboard/provider",element:a.jsx(n,{children:a.jsx(W6,{})})}),a.jsx(Vt,{path:"/dashboard/admin",element:a.jsx(e,{children:a.jsx(nC,{})})}),a.jsx(Vt,{path:"/netflix",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(oJ,{})})}),a.jsx(Vt,{path:"/disney",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(lJ,{})})}),a.jsx(Vt,{path:"/max",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(cJ,{})})}),a.jsx(Vt,{path:"/spotify",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(uJ,{})})}),a.jsx(Vt,{path:"/primevideo",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(dJ,{})})}),a.jsx(Vt,{path:"/vix",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(hJ,{})})}),a.jsx(Vt,{path:"/canva",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(fJ,{})})}),a.jsx(Vt,{path:"/chatgpt",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(pJ,{})})}),a.jsx(Vt,{path:"/crunchyroll",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(mJ,{})})}),a.jsx(Vt,{path:"/redessociales",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(gJ,{})})}),a.jsx(Vt,{path:"/applemusic",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(xJ,{})})}),a.jsx(Vt,{path:"/appletv",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(yJ,{})})}),a.jsx(Vt,{path:"/iptv",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(vJ,{})})}),a.jsx(Vt,{path:"/flujotv",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(bJ,{})})}),a.jsx(Vt,{path:"/vikirakuten",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(wJ,{})})}),a.jsx(Vt,{path:"/pornhub",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(_J,{})})}),a.jsx(Vt,{path:"/paramount",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(EJ,{})})}),a.jsx(Vt,{path:"/licencias",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(TJ,{})})}),a.jsx(Vt,{path:"/capcut",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(kJ,{})})}),a.jsx(Vt,{path:"/duolingo",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(NJ,{})})}),a.jsx(Vt,{path:"/dgo",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(SJ,{})})}),a.jsx(Vt,{path:"/ligamax",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(AJ,{})})}),a.jsx(Vt,{path:"/movistarplay",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(CJ,{})})}),a.jsx(Vt,{path:"/youtube",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(IJ,{})})}),a.jsx(Vt,{path:"/deezer",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(jJ,{})})}),a.jsx(Vt,{path:"/tidal",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(PJ,{})})}),a.jsx(Vt,{path:"/vpn",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(RJ,{})})}),a.jsx(Vt,{path:"/wintv",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(DJ,{})})}),a.jsx(Vt,{path:"/buscapersonas",element:a.jsx(N.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(OJ,{})})}),a.jsx(Vt,{path:"*",element:a.jsx(FJ,{})})]})})};vI.createRoot(document.getElementById("root")).render(a.jsx(As.StrictMode,{children:a.jsx(Pj,{children:a.jsx(aJ,{children:a.jsx(LJ,{})})})}));export{Kl as $,H5 as A,ja as B,qJ as C,is as D,ne as E,Yy as F,Jl as G,mu as H,Ql as I,Yl as J,Fl as K,Gz as L,GU as M,Ht as N,Tp as O,xu as P,yi as Q,Ky as R,Xy as S,Ui as T,Ru as U,ZJ as V,BJ as W,WJ as X,Ml as Y,km as Z,Xl as _,br as a,Gl as a0,Vo as a1,nv as a2,q as a3,As as a4,QJ as a5,Bi as a6,Sp as a7,$J as b,Lt as c,qe as d,_t as e,L0 as f,Gn as g,en as h,J7 as i,a as j,zJ as k,q7 as l,KJ as m,JJ as n,ql as o,eZ as p,Er as q,N as r,Fr as s,YJ as t,Os as u,UJ as v,Or as w,XJ as x,GJ as y,HJ as z};
