(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const lI="modulepreload",cI=function(t){return"/"+t},Pw={},or=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let d=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=o?.nonce||o?.getAttribute("nonce");s=d(r.map(h=>{if(h=cI(h),h in Pw)return;Pw[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":lI,p||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((v,T)=>{y.addEventListener("load",v),y.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return s.then(o=>{for(const u of o||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};function t1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ux={exports:{}},gd={},dx={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw;function uI(){if(Rw)return Ut;Rw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function y(ne){return ne===null||typeof ne!="object"?null:(ne=g&&ne[g]||ne["@@iterator"],typeof ne=="function"?ne:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,w={};function E(ne,D,Y){this.props=ne,this.context=D,this.refs=w,this.updater=Y||v}E.prototype.isReactComponent={},E.prototype.setState=function(ne,D){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,D,"setState")},E.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function O(){}O.prototype=E.prototype;function M(ne,D,Y){this.props=ne,this.context=D,this.refs=w,this.updater=Y||v}var U=M.prototype=new O;U.constructor=M,T(U,E.prototype),U.isPureReactComponent=!0;var P=Array.isArray,X=Object.prototype.hasOwnProperty,B={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function N(ne,D,Y){var J,ee={},ie=null,Ae=null;if(D!=null)for(J in D.ref!==void 0&&(Ae=D.ref),D.key!==void 0&&(ie=""+D.key),D)X.call(D,J)&&!A.hasOwnProperty(J)&&(ee[J]=D[J]);var De=arguments.length-2;if(De===1)ee.children=Y;else if(1<De){for(var ke=Array(De),je=0;je<De;je++)ke[je]=arguments[je+2];ee.children=ke}if(ne&&ne.defaultProps)for(J in De=ne.defaultProps,De)ee[J]===void 0&&(ee[J]=De[J]);return{$$typeof:t,type:ne,key:ie,ref:Ae,props:ee,_owner:B.current}}function C(ne,D){return{$$typeof:t,type:ne.type,key:D,ref:ne.ref,props:ne.props,_owner:ne._owner}}function R(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===t}function F(ne){var D={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(Y){return D[Y]})}var W=/\/+/g;function V(ne,D){return typeof ne=="object"&&ne!==null&&ne.key!=null?F(""+ne.key):D.toString(36)}function Ee(ne,D,Y,J,ee){var ie=typeof ne;(ie==="undefined"||ie==="boolean")&&(ne=null);var Ae=!1;if(ne===null)Ae=!0;else switch(ie){case"string":case"number":Ae=!0;break;case"object":switch(ne.$$typeof){case t:case e:Ae=!0}}if(Ae)return Ae=ne,ee=ee(Ae),ne=J===""?"."+V(Ae,0):J,P(ee)?(Y="",ne!=null&&(Y=ne.replace(W,"$&/")+"/"),Ee(ee,D,Y,"",function(je){return je})):ee!=null&&(R(ee)&&(ee=C(ee,Y+(!ee.key||Ae&&Ae.key===ee.key?"":(""+ee.key).replace(W,"$&/")+"/")+ne)),D.push(ee)),1;if(Ae=0,J=J===""?".":J+":",P(ne))for(var De=0;De<ne.length;De++){ie=ne[De];var ke=J+V(ie,De);Ae+=Ee(ie,D,Y,ke,ee)}else if(ke=y(ne),typeof ke=="function")for(ne=ke.call(ne),De=0;!(ie=ne.next()).done;)ie=ie.value,ke=J+V(ie,De++),Ae+=Ee(ie,D,Y,ke,ee);else if(ie==="object")throw D=String(ne),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return Ae}function Pe(ne,D,Y){if(ne==null)return ne;var J=[],ee=0;return Ee(ne,J,"","",function(ie){return D.call(Y,ie,ee++)}),J}function ze(ne){if(ne._status===-1){var D=ne._result;D=D(),D.then(function(Y){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=Y)},function(Y){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=Y)}),ne._status===-1&&(ne._status=0,ne._result=D)}if(ne._status===1)return ne._result.default;throw ne._result}var Le={current:null},we={transition:null},se={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:we,ReactCurrentOwner:B};function de(){throw Error("act(...) is not supported in production builds of React.")}return Ut.Children={map:Pe,forEach:function(ne,D,Y){Pe(ne,function(){D.apply(this,arguments)},Y)},count:function(ne){var D=0;return Pe(ne,function(){D++}),D},toArray:function(ne){return Pe(ne,function(D){return D})||[]},only:function(ne){if(!R(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}},Ut.Component=E,Ut.Fragment=r,Ut.Profiler=s,Ut.PureComponent=M,Ut.StrictMode=n,Ut.Suspense=d,Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Ut.act=de,Ut.cloneElement=function(ne,D,Y){if(ne==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ne+".");var J=T({},ne.props),ee=ne.key,ie=ne.ref,Ae=ne._owner;if(D!=null){if(D.ref!==void 0&&(ie=D.ref,Ae=B.current),D.key!==void 0&&(ee=""+D.key),ne.type&&ne.type.defaultProps)var De=ne.type.defaultProps;for(ke in D)X.call(D,ke)&&!A.hasOwnProperty(ke)&&(J[ke]=D[ke]===void 0&&De!==void 0?De[ke]:D[ke])}var ke=arguments.length-2;if(ke===1)J.children=Y;else if(1<ke){De=Array(ke);for(var je=0;je<ke;je++)De[je]=arguments[je+2];J.children=De}return{$$typeof:t,type:ne.type,key:ee,ref:ie,props:J,_owner:Ae}},Ut.createContext=function(ne){return ne={$$typeof:o,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ne.Provider={$$typeof:i,_context:ne},ne.Consumer=ne},Ut.createElement=N,Ut.createFactory=function(ne){var D=N.bind(null,ne);return D.type=ne,D},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(ne){return{$$typeof:u,render:ne}},Ut.isValidElement=R,Ut.lazy=function(ne){return{$$typeof:p,_payload:{_status:-1,_result:ne},_init:ze}},Ut.memo=function(ne,D){return{$$typeof:h,type:ne,compare:D===void 0?null:D}},Ut.startTransition=function(ne){var D=we.transition;we.transition={};try{ne()}finally{we.transition=D}},Ut.unstable_act=de,Ut.useCallback=function(ne,D){return Le.current.useCallback(ne,D)},Ut.useContext=function(ne){return Le.current.useContext(ne)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(ne){return Le.current.useDeferredValue(ne)},Ut.useEffect=function(ne,D){return Le.current.useEffect(ne,D)},Ut.useId=function(){return Le.current.useId()},Ut.useImperativeHandle=function(ne,D,Y){return Le.current.useImperativeHandle(ne,D,Y)},Ut.useInsertionEffect=function(ne,D){return Le.current.useInsertionEffect(ne,D)},Ut.useLayoutEffect=function(ne,D){return Le.current.useLayoutEffect(ne,D)},Ut.useMemo=function(ne,D){return Le.current.useMemo(ne,D)},Ut.useReducer=function(ne,D,Y){return Le.current.useReducer(ne,D,Y)},Ut.useRef=function(ne){return Le.current.useRef(ne)},Ut.useState=function(ne){return Le.current.useState(ne)},Ut.useSyncExternalStore=function(ne,D,Y){return Le.current.useSyncExternalStore(ne,D,Y)},Ut.useTransition=function(){return Le.current.useTransition()},Ut.version="18.3.1",Ut}var Dw;function r1(){return Dw||(Dw=1,dx.exports=uI()),dx.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow;function dI(){if(Ow)return gd;Ow=1;var t=r1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(u,d,h){var p,g={},y=null,v=null;h!==void 0&&(y=""+h),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)n.call(d,p)&&!i.hasOwnProperty(p)&&(g[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)g[p]===void 0&&(g[p]=d[p]);return{$$typeof:e,type:u,key:y,ref:v,props:g,_owner:s.current}}return gd.Fragment=r,gd.jsx=o,gd.jsxs=o,gd}var Fw;function hI(){return Fw||(Fw=1,ux.exports=dI()),ux.exports}var a=hI(),S=r1();const Ii=t1(S);var af={},hx={exports:{}},ps={},fx={exports:{}},px={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw;function fI(){return Lw||(Lw=1,(function(t){function e(we,se){var de=we.length;we.push(se);e:for(;0<de;){var ne=de-1>>>1,D=we[ne];if(0<s(D,se))we[ne]=se,we[de]=D,de=ne;else break e}}function r(we){return we.length===0?null:we[0]}function n(we){if(we.length===0)return null;var se=we[0],de=we.pop();if(de!==se){we[0]=de;e:for(var ne=0,D=we.length,Y=D>>>1;ne<Y;){var J=2*(ne+1)-1,ee=we[J],ie=J+1,Ae=we[ie];if(0>s(ee,de))ie<D&&0>s(Ae,ee)?(we[ne]=Ae,we[ie]=de,ne=ie):(we[ne]=ee,we[J]=de,ne=J);else if(ie<D&&0>s(Ae,de))we[ne]=Ae,we[ie]=de,ne=ie;else break e}}return se}function s(we,se){var de=we.sortIndex-se.sortIndex;return de!==0?de:we.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var d=[],h=[],p=1,g=null,y=3,v=!1,T=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(we){for(var se=r(h);se!==null;){if(se.callback===null)n(h);else if(se.startTime<=we)n(h),se.sortIndex=se.expirationTime,e(d,se);else break;se=r(h)}}function P(we){if(w=!1,U(we),!T)if(r(d)!==null)T=!0,ze(X);else{var se=r(h);se!==null&&Le(P,se.startTime-we)}}function X(we,se){T=!1,w&&(w=!1,O(N),N=-1),v=!0;var de=y;try{for(U(se),g=r(d);g!==null&&(!(g.expirationTime>se)||we&&!F());){var ne=g.callback;if(typeof ne=="function"){g.callback=null,y=g.priorityLevel;var D=ne(g.expirationTime<=se);se=t.unstable_now(),typeof D=="function"?g.callback=D:g===r(d)&&n(d),U(se)}else n(d);g=r(d)}if(g!==null)var Y=!0;else{var J=r(h);J!==null&&Le(P,J.startTime-se),Y=!1}return Y}finally{g=null,y=de,v=!1}}var B=!1,A=null,N=-1,C=5,R=-1;function F(){return!(t.unstable_now()-R<C)}function W(){if(A!==null){var we=t.unstable_now();R=we;var se=!0;try{se=A(!0,we)}finally{se?V():(B=!1,A=null)}}else B=!1}var V;if(typeof M=="function")V=function(){M(W)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Pe=Ee.port2;Ee.port1.onmessage=W,V=function(){Pe.postMessage(null)}}else V=function(){E(W,0)};function ze(we){A=we,B||(B=!0,V())}function Le(we,se){N=E(function(){we(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(we){we.callback=null},t.unstable_continueExecution=function(){T||v||(T=!0,ze(X))},t.unstable_forceFrameRate=function(we){0>we||125<we?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<we?Math.floor(1e3/we):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(we){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var de=y;y=se;try{return we()}finally{y=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(we,se){switch(we){case 1:case 2:case 3:case 4:case 5:break;default:we=3}var de=y;y=we;try{return se()}finally{y=de}},t.unstable_scheduleCallback=function(we,se,de){var ne=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ne+de:ne):de=ne,we){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=de+D,we={id:p++,callback:se,priorityLevel:we,startTime:de,expirationTime:D,sortIndex:-1},de>ne?(we.sortIndex=de,e(h,we),r(d)===null&&we===r(h)&&(w?(O(N),N=-1):w=!0,Le(P,de-ne))):(we.sortIndex=D,e(d,we),T||v||(T=!0,ze(X))),we},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(we){var se=y;return function(){var de=y;y=se;try{return we.apply(this,arguments)}finally{y=de}}}})(px)),px}var Mw;function pI(){return Mw||(Mw=1,fx.exports=fI()),fx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function mI(){if($w)return ps;$w=1;var t=r1(),e=pI();function r(l){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+l,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(l,c){o(l,c),o(l+"Capture",c)}function o(l,c){for(s[l]=c,l=0;l<c.length;l++)n.add(c[l])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function y(l){return d.call(g,l)?!0:d.call(p,l)?!1:h.test(l)?g[l]=!0:(p[l]=!0,!1)}function v(l,c,f,x){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:f!==null?!f.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function T(l,c,f,x){if(c===null||typeof c>"u"||v(l,c,f,x))return!0;if(x)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(l,c,f,x,b,k,L){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=b,this.mustUseProperty=f,this.propertyName=l,this.type=c,this.sanitizeURL=k,this.removeEmptyString=L}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){E[l]=new w(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var c=l[0];E[c]=new w(c,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){E[l]=new w(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){E[l]=new w(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){E[l]=new w(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){E[l]=new w(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){E[l]=new w(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){E[l]=new w(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){E[l]=new w(l,5,!1,l.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function M(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var c=l.replace(O,M);E[c]=new w(c,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var c=l.replace(O,M);E[c]=new w(c,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var c=l.replace(O,M);E[c]=new w(c,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){E[l]=new w(l,1,!1,l.toLowerCase(),null,!1,!1)}),E.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){E[l]=new w(l,1,!1,l.toLowerCase(),null,!0,!0)});function U(l,c,f,x){var b=E.hasOwnProperty(c)?E[c]:null;(b!==null?b.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(T(c,f,b,x)&&(f=null),x||b===null?y(c)&&(f===null?l.removeAttribute(c):l.setAttribute(c,""+f)):b.mustUseProperty?l[b.propertyName]=f===null?b.type===3?!1:"":f:(c=b.attributeName,x=b.attributeNamespace,f===null?l.removeAttribute(c):(b=b.type,f=b===3||b===4&&f===!0?"":""+f,x?l.setAttributeNS(x,c,f):l.setAttribute(c,f))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),B=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),F=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),Le=Symbol.for("react.offscreen"),we=Symbol.iterator;function se(l){return l===null||typeof l!="object"?null:(l=we&&l[we]||l["@@iterator"],typeof l=="function"?l:null)}var de=Object.assign,ne;function D(l){if(ne===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);ne=c&&c[1]||""}return`
`+ne+l}var Y=!1;function J(l,c){if(!l||Y)return"";Y=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ve){var x=ve}Reflect.construct(l,[],c)}else{try{c.call()}catch(ve){x=ve}l.call(c.prototype)}else{try{throw Error()}catch(ve){x=ve}l()}}catch(ve){if(ve&&x&&typeof ve.stack=="string"){for(var b=ve.stack.split(`
`),k=x.stack.split(`
`),L=b.length-1,re=k.length-1;1<=L&&0<=re&&b[L]!==k[re];)re--;for(;1<=L&&0<=re;L--,re--)if(b[L]!==k[re]){if(L!==1||re!==1)do if(L--,re--,0>re||b[L]!==k[re]){var ae=`
`+b[L].replace(" at new "," at ");return l.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",l.displayName)),ae}while(1<=L&&0<=re);break}}}finally{Y=!1,Error.prepareStackTrace=f}return(l=l?l.displayName||l.name:"")?D(l):""}function ee(l){switch(l.tag){case 5:return D(l.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return l=J(l.type,!1),l;case 11:return l=J(l.type.render,!1),l;case 1:return l=J(l.type,!0),l;default:return""}}function ie(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case A:return"Fragment";case B:return"Portal";case C:return"Profiler";case N:return"StrictMode";case V:return"Suspense";case Ee:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case F:return(l.displayName||"Context")+".Consumer";case R:return(l._context.displayName||"Context")+".Provider";case W:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Pe:return c=l.displayName||null,c!==null?c:ie(l.type)||"Memo";case ze:c=l._payload,l=l._init;try{return ie(l(c))}catch{}}return null}function Ae(l){var c=l.type;switch(l.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=c.render,l=l.displayName||l.name||"",c.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(c);case 8:return c===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function De(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ke(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function je(l){var c=ke(l)?"checked":"value",f=Object.getOwnPropertyDescriptor(l.constructor.prototype,c),x=""+l[c];if(!l.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,k=f.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return b.call(this)},set:function(L){x=""+L,k.call(this,L)}}),Object.defineProperty(l,c,{enumerable:f.enumerable}),{getValue:function(){return x},setValue:function(L){x=""+L},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function nt(l){l._valueTracker||(l._valueTracker=je(l))}function dt(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var f=c.getValue(),x="";return l&&(x=ke(l)?l.checked?"true":"false":l.value),l=x,l!==f?(c.setValue(l),!0):!1}function pt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Fe(l,c){var f=c.checked;return de({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??l._wrapperState.initialChecked})}function wr(l,c){var f=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;f=De(c.value!=null?c.value:f),l._wrapperState={initialChecked:x,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Dt(l,c){c=c.checked,c!=null&&U(l,"checked",c,!1)}function Ge(l,c){Dt(l,c);var f=De(c.value),x=c.type;if(f!=null)x==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+f):l.value!==""+f&&(l.value=""+f);else if(x==="submit"||x==="reset"){l.removeAttribute("value");return}c.hasOwnProperty("value")?St(l,c.type,f):c.hasOwnProperty("defaultValue")&&St(l,c.type,De(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(l.defaultChecked=!!c.defaultChecked)}function ar(l,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+l._wrapperState.initialValue,f||c===l.value||(l.value=c),l.defaultValue=c}f=l.name,f!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,f!==""&&(l.name=f)}function St(l,c,f){(c!=="number"||pt(l.ownerDocument)!==l)&&(f==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+f&&(l.defaultValue=""+f))}var Kt=Array.isArray;function le(l,c,f,x){if(l=l.options,c){c={};for(var b=0;b<f.length;b++)c["$"+f[b]]=!0;for(f=0;f<l.length;f++)b=c.hasOwnProperty("$"+l[f].value),l[f].selected!==b&&(l[f].selected=b),b&&x&&(l[f].defaultSelected=!0)}else{for(f=""+De(f),c=null,b=0;b<l.length;b++){if(l[b].value===f){l[b].selected=!0,x&&(l[b].defaultSelected=!0);return}c!==null||l[b].disabled||(c=l[b])}c!==null&&(c.selected=!0)}}function Ze(l,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return de({},c,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function ct(l,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(r(92));if(Kt(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),f=c}l._wrapperState={initialValue:De(f)}}function it(l,c){var f=De(c.value),x=De(c.defaultValue);f!=null&&(f=""+f,f!==l.value&&(l.value=f),c.defaultValue==null&&l.defaultValue!==f&&(l.defaultValue=f)),x!=null&&(l.defaultValue=""+x)}function bt(l){var c=l.textContent;c===l._wrapperState.initialValue&&c!==""&&c!==null&&(l.value=c)}function mt(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tt(l,c){return l==null||l==="http://www.w3.org/1999/xhtml"?mt(c):l==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var ht,Se=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,x,b){MSApp.execUnsafeLocalFunction(function(){return l(c,f,x,b)})}:l})(function(l,c){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=c;else{for(ht=ht||document.createElement("div"),ht.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=ht.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;c.firstChild;)l.appendChild(c.firstChild)}});function ye(l,c){if(c){var f=l.firstChild;if(f&&f===l.lastChild&&f.nodeType===3){f.nodeValue=c;return}}l.textContent=c}var Ce={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xe=["Webkit","ms","Moz","O"];Object.keys(Ce).forEach(function(l){Xe.forEach(function(c){c=c+l.charAt(0).toUpperCase()+l.substring(1),Ce[c]=Ce[l]})});function wt(l,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||Ce.hasOwnProperty(l)&&Ce[l]?(""+c).trim():c+"px"}function Ht(l,c){l=l.style;for(var f in c)if(c.hasOwnProperty(f)){var x=f.indexOf("--")===0,b=wt(f,c[f],x);f==="float"&&(f="cssFloat"),x?l.setProperty(f,b):l[f]=b}}var Lt=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ot(l,c){if(c){if(Lt[l]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function xt(l,c){if(l.indexOf("-")===-1)return typeof c.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jr=null;function rr(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var kt=null,$t=null,Ft=null;function Tr(l){if(l=td(l)){if(typeof kt!="function")throw Error(r(280));var c=l.stateNode;c&&(c=bh(c),kt(l.stateNode,l.type,c))}}function kr(l){$t?Ft?Ft.push(l):Ft=[l]:$t=l}function is(){if($t){var l=$t,c=Ft;if(Ft=$t=null,Tr(l),c)for(l=0;l<c.length;l++)Tr(c[l])}}function Ts(l,c){return l(c)}function Ws(){}var dn=!1;function qs(l,c,f){if(dn)return l(c,f);dn=!0;try{return Ts(l,c,f)}finally{dn=!1,($t!==null||Ft!==null)&&(Ws(),is())}}function mr(l,c){var f=l.stateNode;if(f===null)return null;var x=bh(f);if(x===null)return null;f=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var as=!1;if(u)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){as=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{as=!1}function ks(l,c,f,x,b,k,L,re,ae){var ve=Array.prototype.slice.call(arguments,3);try{c.apply(f,ve)}catch(Ue){this.onError(Ue)}}var be=!1,Ne=null,j=!1,z=null,H={onError:function(l){be=!0,Ne=l}};function G(l,c,f,x,b,k,L,re,ae){be=!1,Ne=null,ks.apply(H,arguments)}function Z(l,c,f,x,b,k,L,re,ae){if(G.apply(this,arguments),be){if(be){var ve=Ne;be=!1,Ne=null}else throw Error(r(198));j||(j=!0,z=ve)}}function Q(l){var c=l,f=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(f=c.return),l=c.return;while(l)}return c.tag===3?f:null}function ce(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function me(l){if(Q(l)!==l)throw Error(r(188))}function ue(l){var c=l.alternate;if(!c){if(c=Q(l),c===null)throw Error(r(188));return c!==l?null:l}for(var f=l,x=c;;){var b=f.return;if(b===null)break;var k=b.alternate;if(k===null){if(x=b.return,x!==null){f=x;continue}break}if(b.child===k.child){for(k=b.child;k;){if(k===f)return me(b),l;if(k===x)return me(b),c;k=k.sibling}throw Error(r(188))}if(f.return!==x.return)f=b,x=k;else{for(var L=!1,re=b.child;re;){if(re===f){L=!0,f=b,x=k;break}if(re===x){L=!0,x=b,f=k;break}re=re.sibling}if(!L){for(re=k.child;re;){if(re===f){L=!0,f=k,x=b;break}if(re===x){L=!0,x=k,f=b;break}re=re.sibling}if(!L)throw Error(r(189))}}if(f.alternate!==x)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?l:c}function pe(l){return l=ue(l),l!==null?ge(l):null}function ge(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var c=ge(l);if(c!==null)return c;l=l.sibling}return null}var Oe=e.unstable_scheduleCallback,Ye=e.unstable_cancelCallback,rt=e.unstable_shouldYield,He=e.unstable_requestPaint,Be=e.unstable_now,Nt=e.unstable_getCurrentPriorityLevel,Zt=e.unstable_ImmediatePriority,Xt=e.unstable_UserBlockingPriority,er=e.unstable_NormalPriority,Ns=e.unstable_LowPriority,Gs=e.unstable_IdlePriority,Xn=null,Or=null;function Ka(l){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(Xn,l,void 0,(l.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:J0,$u=Math.log,Q0=Math.LN2;function J0(l){return l>>>=0,l===0?32:31-($u(l)/Q0|0)|0}var ic=64,ac=4194304;function Xa(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Zo(l,c){var f=l.pendingLanes;if(f===0)return 0;var x=0,b=l.suspendedLanes,k=l.pingedLanes,L=f&268435455;if(L!==0){var re=L&~b;re!==0?x=Xa(re):(k&=L,k!==0&&(x=Xa(k)))}else L=f&~b,L!==0?x=Xa(L):k!==0&&(x=Xa(k));if(x===0)return 0;if(c!==0&&c!==x&&(c&b)===0&&(b=x&-x,k=c&-c,b>=k||b===16&&(k&4194240)!==0))return c;if((x&4)!==0&&(x|=f&16),c=l.entangledLanes,c!==0)for(l=l.entanglements,c&=x;0<c;)f=31-Nr(c),b=1<<f,x|=l[f],c&=~b;return x}function Vm(l,c){switch(l){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fa(l,c){for(var f=l.suspendedLanes,x=l.pingedLanes,b=l.expirationTimes,k=l.pendingLanes;0<k;){var L=31-Nr(k),re=1<<L,ae=b[L];ae===-1?((re&f)===0||(re&x)!==0)&&(b[L]=Vm(re,c)):ae<=c&&(l.expiredLanes|=re),k&=~re}}function Ss(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function el(){var l=ic;return ic<<=1,(ic&4194240)===0&&(ic=64),l}function Ya(l){for(var c=[],f=0;31>f;f++)c.push(l);return c}function Qa(l,c,f){l.pendingLanes|=c,c!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,c=31-Nr(c),l[c]=f}function yr(l,c){var f=l.pendingLanes&~c;l.pendingLanes=c,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=c,l.mutableReadLanes&=c,l.entangledLanes&=c,c=l.entanglements;var x=l.eventTimes;for(l=l.expirationTimes;0<f;){var b=31-Nr(f),k=1<<b;c[b]=0,x[b]=-1,l[b]=-1,f&=~k}}function Ja(l,c){var f=l.entangledLanes|=c;for(l=l.entanglements;f;){var x=31-Nr(f),b=1<<x;b&c|l[x]&c&&(l[x]|=c),f&=~b}}var Gt=0;function Za(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Z0,oc,eh,th,rh,Vu=!1,$i=[],_n=null,hi=null,fi=null,eo=new Map,Ks=new Map,Vi=[],Bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nh(l,c){switch(l){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":eo.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(c.pointerId)}}function os(l,c,f,x,b,k){return l===null||l.nativeEvent!==k?(l={blockedOn:c,domEventName:f,eventSystemFlags:x,nativeEvent:k,targetContainers:[b]},c!==null&&(c=td(c),c!==null&&oc(c)),l):(l.eventSystemFlags|=x,c=l.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),l)}function Um(l,c,f,x,b){switch(c){case"focusin":return _n=os(_n,l,c,f,x,b),!0;case"dragenter":return hi=os(hi,l,c,f,x,b),!0;case"mouseover":return fi=os(fi,l,c,f,x,b),!0;case"pointerover":var k=b.pointerId;return eo.set(k,os(eo.get(k)||null,l,c,f,x,b)),!0;case"gotpointercapture":return k=b.pointerId,Ks.set(k,os(Ks.get(k)||null,l,c,f,x,b)),!0}return!1}function sh(l){var c=il(l.target);if(c!==null){var f=Q(c);if(f!==null){if(c=f.tag,c===13){if(c=ce(f),c!==null){l.blockedOn=c,rh(l.priority,function(){eh(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){l.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}l.blockedOn=null}function pa(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var f=lc(l.domEventName,l.eventSystemFlags,c[0],l.nativeEvent);if(f===null){f=l.nativeEvent;var x=new f.constructor(f.type,f);jr=x,f.target.dispatchEvent(x),jr=null}else return c=td(f),c!==null&&oc(c),l.blockedOn=f,!1;c.shift()}return!0}function tl(l,c,f){pa(l)&&f.delete(c)}function ih(){Vu=!1,_n!==null&&pa(_n)&&(_n=null),hi!==null&&pa(hi)&&(hi=null),fi!==null&&pa(fi)&&(fi=null),eo.forEach(tl),Ks.forEach(tl)}function pi(l,c){l.blockedOn===c&&(l.blockedOn=null,Vu||(Vu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ih)))}function mi(l){function c(b){return pi(b,l)}if(0<$i.length){pi($i[0],l);for(var f=1;f<$i.length;f++){var x=$i[f];x.blockedOn===l&&(x.blockedOn=null)}}for(_n!==null&&pi(_n,l),hi!==null&&pi(hi,l),fi!==null&&pi(fi,l),eo.forEach(c),Ks.forEach(c),f=0;f<Vi.length;f++)x=Vi[f],x.blockedOn===l&&(x.blockedOn=null);for(;0<Vi.length&&(f=Vi[0],f.blockedOn===null);)sh(f),f.blockedOn===null&&Vi.shift()}var ma=P.ReactCurrentBatchConfig,to=!0;function Pr(l,c,f,x){var b=Gt,k=ma.transition;ma.transition=null;try{Gt=1,Bu(l,c,f,x)}finally{Gt=b,ma.transition=k}}function zm(l,c,f,x){var b=Gt,k=ma.transition;ma.transition=null;try{Gt=4,Bu(l,c,f,x)}finally{Gt=b,ma.transition=k}}function Bu(l,c,f,x){if(to){var b=lc(l,c,f,x);if(b===null)eg(l,c,x,rl,f),nh(l,x);else if(Um(b,l,c,f,x))x.stopPropagation();else if(nh(l,x),c&4&&-1<Bm.indexOf(l)){for(;b!==null;){var k=td(b);if(k!==null&&Z0(k),k=lc(l,c,f,x),k===null&&eg(l,c,x,rl,f),k===b)break;b=k}b!==null&&x.stopPropagation()}else eg(l,c,x,null,f)}}var rl=null;function lc(l,c,f,x){if(rl=null,l=rr(x),l=il(l),l!==null)if(c=Q(l),c===null)l=null;else if(f=c.tag,f===13){if(l=ce(c),l!==null)return l;l=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null);return rl=l,null}function Uu(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nt()){case Zt:return 1;case Xt:return 4;case er:case Ns:return 16;case Gs:return 536870912;default:return 16}default:return 16}}var As=null,cc=null,ls=null;function zu(){if(ls)return ls;var l,c=cc,f=c.length,x,b="value"in As?As.value:As.textContent,k=b.length;for(l=0;l<f&&c[l]===b[l];l++);var L=f-l;for(x=1;x<=L&&c[f-x]===b[k-x];x++);return ls=b.slice(l,1<x?1-x:void 0)}function uc(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function Bi(){return!0}function Hu(){return!1}function En(l){function c(f,x,b,k,L){this._reactName=f,this._targetInst=b,this.type=x,this.nativeEvent=k,this.target=L,this.currentTarget=null;for(var re in l)l.hasOwnProperty(re)&&(f=l[re],this[re]=f?f(k):k[re]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Bi:Hu,this.isPropagationStopped=Hu,this}return de(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),c}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dc=En(gi),Ui=de({},gi,{view:0,detail:0}),Hm=En(Ui),hc,ga,ro,nl=de({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zi,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ro&&(ro&&l.type==="mousemove"?(hc=l.screenX-ro.screenX,ga=l.screenY-ro.screenY):ga=hc=0,ro=l),hc)},movementY:function(l){return"movementY"in l?l.movementY:ga}}),fc=En(nl),Wu=de({},nl,{dataTransfer:0}),ah=En(Wu),pc=de({},Ui,{relatedTarget:0}),mc=En(pc),oh=de({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),xa=En(oh),lh=de({},gi,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),ch=En(lh),uh=de({},gi,{data:0}),qu=En(uh),gc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hh(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=dh[l])?!!c[l]:!1}function zi(){return hh}var m=de({},Ui,{key:function(l){if(l.key){var c=gc[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=uc(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Yn[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zi,charCode:function(l){return l.type==="keypress"?uc(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?uc(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),_=En(m),I=de({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q=En(I),he=de({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zi}),_e=En(he),et=de({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),lr=En(et),an=de({},nl,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Yt=En(an),hn=[9,13,27,32],Jr=u&&"CompositionEvent"in window,Xs=null;u&&"documentMode"in document&&(Xs=document.documentMode);var Cs=u&&"TextEvent"in window&&!Xs,sl=u&&(!Jr||Xs&&8<Xs&&11>=Xs),xc=" ",N2=!1;function S2(l,c){switch(l){case"keyup":return hn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A2(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var yc=!1;function iC(l,c){switch(l){case"compositionend":return A2(c);case"keypress":return c.which!==32?null:(N2=!0,xc);case"textInput":return l=c.data,l===xc&&N2?null:l;default:return null}}function aC(l,c){if(yc)return l==="compositionend"||!Jr&&S2(l,c)?(l=zu(),ls=cc=As=null,yc=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return sl&&c.locale!=="ko"?null:c.data;default:return null}}var oC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C2(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!oC[l.type]:c==="textarea"}function I2(l,c,f,x){kr(x),c=xh(c,"onChange"),0<c.length&&(f=new dc("onChange","change",null,f,x),l.push({event:f,listeners:c}))}var Gu=null,Ku=null;function lC(l){K2(l,0)}function fh(l){var c=Ec(l);if(dt(c))return l}function cC(l,c){if(l==="change")return c}var j2=!1;if(u){var Wm;if(u){var qm="oninput"in document;if(!qm){var P2=document.createElement("div");P2.setAttribute("oninput","return;"),qm=typeof P2.oninput=="function"}Wm=qm}else Wm=!1;j2=Wm&&(!document.documentMode||9<document.documentMode)}function R2(){Gu&&(Gu.detachEvent("onpropertychange",D2),Ku=Gu=null)}function D2(l){if(l.propertyName==="value"&&fh(Ku)){var c=[];I2(c,Ku,l,rr(l)),qs(lC,c)}}function uC(l,c,f){l==="focusin"?(R2(),Gu=c,Ku=f,Gu.attachEvent("onpropertychange",D2)):l==="focusout"&&R2()}function dC(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return fh(Ku)}function hC(l,c){if(l==="click")return fh(c)}function fC(l,c){if(l==="input"||l==="change")return fh(c)}function pC(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var xi=typeof Object.is=="function"?Object.is:pC;function Xu(l,c){if(xi(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var f=Object.keys(l),x=Object.keys(c);if(f.length!==x.length)return!1;for(x=0;x<f.length;x++){var b=f[x];if(!d.call(c,b)||!xi(l[b],c[b]))return!1}return!0}function O2(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function F2(l,c){var f=O2(l);l=0;for(var x;f;){if(f.nodeType===3){if(x=l+f.textContent.length,l<=c&&x>=c)return{node:f,offset:c-l};l=x}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=O2(f)}}function L2(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?L2(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function M2(){for(var l=window,c=pt();c instanceof l.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)l=c.contentWindow;else break;c=pt(l.document)}return c}function Gm(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}function mC(l){var c=M2(),f=l.focusedElem,x=l.selectionRange;if(c!==f&&f&&f.ownerDocument&&L2(f.ownerDocument.documentElement,f)){if(x!==null&&Gm(f)){if(c=x.start,l=x.end,l===void 0&&(l=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(l,f.value.length);else if(l=(c=f.ownerDocument||document)&&c.defaultView||window,l.getSelection){l=l.getSelection();var b=f.textContent.length,k=Math.min(x.start,b);x=x.end===void 0?k:Math.min(x.end,b),!l.extend&&k>x&&(b=x,x=k,k=b),b=F2(f,k);var L=F2(f,x);b&&L&&(l.rangeCount!==1||l.anchorNode!==b.node||l.anchorOffset!==b.offset||l.focusNode!==L.node||l.focusOffset!==L.offset)&&(c=c.createRange(),c.setStart(b.node,b.offset),l.removeAllRanges(),k>x?(l.addRange(c),l.extend(L.node,L.offset)):(c.setEnd(L.node,L.offset),l.addRange(c)))}}for(c=[],l=f;l=l.parentNode;)l.nodeType===1&&c.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)l=c[f],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var gC=u&&"documentMode"in document&&11>=document.documentMode,vc=null,Km=null,Yu=null,Xm=!1;function $2(l,c,f){var x=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Xm||vc==null||vc!==pt(x)||(x=vc,"selectionStart"in x&&Gm(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Yu&&Xu(Yu,x)||(Yu=x,x=xh(Km,"onSelect"),0<x.length&&(c=new dc("onSelect","select",null,c,f),l.push({event:c,listeners:x}),c.target=vc)))}function ph(l,c){var f={};return f[l.toLowerCase()]=c.toLowerCase(),f["Webkit"+l]="webkit"+c,f["Moz"+l]="moz"+c,f}var bc={animationend:ph("Animation","AnimationEnd"),animationiteration:ph("Animation","AnimationIteration"),animationstart:ph("Animation","AnimationStart"),transitionend:ph("Transition","TransitionEnd")},Ym={},V2={};u&&(V2=document.createElement("div").style,"AnimationEvent"in window||(delete bc.animationend.animation,delete bc.animationiteration.animation,delete bc.animationstart.animation),"TransitionEvent"in window||delete bc.transitionend.transition);function mh(l){if(Ym[l])return Ym[l];if(!bc[l])return l;var c=bc[l],f;for(f in c)if(c.hasOwnProperty(f)&&f in V2)return Ym[l]=c[f];return l}var B2=mh("animationend"),U2=mh("animationiteration"),z2=mh("animationstart"),H2=mh("transitionend"),W2=new Map,q2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(l,c){W2.set(l,c),i(c,[l])}for(var Qm=0;Qm<q2.length;Qm++){var Jm=q2[Qm],xC=Jm.toLowerCase(),yC=Jm[0].toUpperCase()+Jm.slice(1);no(xC,"on"+yC)}no(B2,"onAnimationEnd"),no(U2,"onAnimationIteration"),no(z2,"onAnimationStart"),no("dblclick","onDoubleClick"),no("focusin","onFocus"),no("focusout","onBlur"),no(H2,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qu));function G2(l,c,f){var x=l.type||"unknown-event";l.currentTarget=f,Z(x,c,void 0,l),l.currentTarget=null}function K2(l,c){c=(c&4)!==0;for(var f=0;f<l.length;f++){var x=l[f],b=x.event;x=x.listeners;e:{var k=void 0;if(c)for(var L=x.length-1;0<=L;L--){var re=x[L],ae=re.instance,ve=re.currentTarget;if(re=re.listener,ae!==k&&b.isPropagationStopped())break e;G2(b,re,ve),k=ae}else for(L=0;L<x.length;L++){if(re=x[L],ae=re.instance,ve=re.currentTarget,re=re.listener,ae!==k&&b.isPropagationStopped())break e;G2(b,re,ve),k=ae}}}if(j)throw l=z,j=!1,z=null,l}function Sr(l,c){var f=c[ag];f===void 0&&(f=c[ag]=new Set);var x=l+"__bubble";f.has(x)||(X2(c,l,2,!1),f.add(x))}function Zm(l,c,f){var x=0;c&&(x|=4),X2(f,l,x,c)}var gh="_reactListening"+Math.random().toString(36).slice(2);function Ju(l){if(!l[gh]){l[gh]=!0,n.forEach(function(f){f!=="selectionchange"&&(vC.has(f)||Zm(f,!1,l),Zm(f,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[gh]||(c[gh]=!0,Zm("selectionchange",!1,c))}}function X2(l,c,f,x){switch(Uu(c)){case 1:var b=Pr;break;case 4:b=zm;break;default:b=Bu}f=b.bind(null,c,f,l),b=void 0,!as||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),x?b!==void 0?l.addEventListener(c,f,{capture:!0,passive:b}):l.addEventListener(c,f,!0):b!==void 0?l.addEventListener(c,f,{passive:b}):l.addEventListener(c,f,!1)}function eg(l,c,f,x,b){var k=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var L=x.tag;if(L===3||L===4){var re=x.stateNode.containerInfo;if(re===b||re.nodeType===8&&re.parentNode===b)break;if(L===4)for(L=x.return;L!==null;){var ae=L.tag;if((ae===3||ae===4)&&(ae=L.stateNode.containerInfo,ae===b||ae.nodeType===8&&ae.parentNode===b))return;L=L.return}for(;re!==null;){if(L=il(re),L===null)return;if(ae=L.tag,ae===5||ae===6){x=k=L;continue e}re=re.parentNode}}x=x.return}qs(function(){var ve=k,Ue=rr(f),qe=[];e:{var $e=W2.get(l);if($e!==void 0){var at=dc,ut=l;switch(l){case"keypress":if(uc(f)===0)break e;case"keydown":case"keyup":at=_;break;case"focusin":ut="focus",at=mc;break;case"focusout":ut="blur",at=mc;break;case"beforeblur":case"afterblur":at=mc;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=_e;break;case B2:case U2:case z2:at=xa;break;case H2:at=lr;break;case"scroll":at=Hm;break;case"wheel":at=Yt;break;case"copy":case"cut":case"paste":at=ch;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=q}var ft=(c&4)!==0,Kr=!ft&&l==="scroll",fe=ft?$e!==null?$e+"Capture":null:$e;ft=[];for(var oe=ve,xe;oe!==null;){xe=oe;var Ke=xe.stateNode;if(xe.tag===5&&Ke!==null&&(xe=Ke,fe!==null&&(Ke=mr(oe,fe),Ke!=null&&ft.push(Zu(oe,Ke,xe)))),Kr)break;oe=oe.return}0<ft.length&&($e=new at($e,ut,null,f,Ue),qe.push({event:$e,listeners:ft}))}}if((c&7)===0){e:{if($e=l==="mouseover"||l==="pointerover",at=l==="mouseout"||l==="pointerout",$e&&f!==jr&&(ut=f.relatedTarget||f.fromElement)&&(il(ut)||ut[ya]))break e;if((at||$e)&&($e=Ue.window===Ue?Ue:($e=Ue.ownerDocument)?$e.defaultView||$e.parentWindow:window,at?(ut=f.relatedTarget||f.toElement,at=ve,ut=ut?il(ut):null,ut!==null&&(Kr=Q(ut),ut!==Kr||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(at=null,ut=ve),at!==ut)){if(ft=fc,Ke="onMouseLeave",fe="onMouseEnter",oe="mouse",(l==="pointerout"||l==="pointerover")&&(ft=q,Ke="onPointerLeave",fe="onPointerEnter",oe="pointer"),Kr=at==null?$e:Ec(at),xe=ut==null?$e:Ec(ut),$e=new ft(Ke,oe+"leave",at,f,Ue),$e.target=Kr,$e.relatedTarget=xe,Ke=null,il(Ue)===ve&&(ft=new ft(fe,oe+"enter",ut,f,Ue),ft.target=xe,ft.relatedTarget=Kr,Ke=ft),Kr=Ke,at&&ut)t:{for(ft=at,fe=ut,oe=0,xe=ft;xe;xe=wc(xe))oe++;for(xe=0,Ke=fe;Ke;Ke=wc(Ke))xe++;for(;0<oe-xe;)ft=wc(ft),oe--;for(;0<xe-oe;)fe=wc(fe),xe--;for(;oe--;){if(ft===fe||fe!==null&&ft===fe.alternate)break t;ft=wc(ft),fe=wc(fe)}ft=null}else ft=null;at!==null&&Y2(qe,$e,at,ft,!1),ut!==null&&Kr!==null&&Y2(qe,Kr,ut,ft,!0)}}e:{if($e=ve?Ec(ve):window,at=$e.nodeName&&$e.nodeName.toLowerCase(),at==="select"||at==="input"&&$e.type==="file")var gt=cC;else if(C2($e))if(j2)gt=fC;else{gt=dC;var _t=uC}else(at=$e.nodeName)&&at.toLowerCase()==="input"&&($e.type==="checkbox"||$e.type==="radio")&&(gt=hC);if(gt&&(gt=gt(l,ve))){I2(qe,gt,f,Ue);break e}_t&&_t(l,$e,ve),l==="focusout"&&(_t=$e._wrapperState)&&_t.controlled&&$e.type==="number"&&St($e,"number",$e.value)}switch(_t=ve?Ec(ve):window,l){case"focusin":(C2(_t)||_t.contentEditable==="true")&&(vc=_t,Km=ve,Yu=null);break;case"focusout":Yu=Km=vc=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,$2(qe,f,Ue);break;case"selectionchange":if(gC)break;case"keydown":case"keyup":$2(qe,f,Ue)}var Et;if(Jr)e:{switch(l){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else yc?S2(l,f)&&(jt="onCompositionEnd"):l==="keydown"&&f.keyCode===229&&(jt="onCompositionStart");jt&&(sl&&f.locale!=="ko"&&(yc||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&yc&&(Et=zu()):(As=Ue,cc="value"in As?As.value:As.textContent,yc=!0)),_t=xh(ve,jt),0<_t.length&&(jt=new qu(jt,l,null,f,Ue),qe.push({event:jt,listeners:_t}),Et?jt.data=Et:(Et=A2(f),Et!==null&&(jt.data=Et)))),(Et=Cs?iC(l,f):aC(l,f))&&(ve=xh(ve,"onBeforeInput"),0<ve.length&&(Ue=new qu("onBeforeInput","beforeinput",null,f,Ue),qe.push({event:Ue,listeners:ve}),Ue.data=Et))}K2(qe,c)})}function Zu(l,c,f){return{instance:l,listener:c,currentTarget:f}}function xh(l,c){for(var f=c+"Capture",x=[];l!==null;){var b=l,k=b.stateNode;b.tag===5&&k!==null&&(b=k,k=mr(l,f),k!=null&&x.unshift(Zu(l,k,b)),k=mr(l,c),k!=null&&x.push(Zu(l,k,b))),l=l.return}return x}function wc(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Y2(l,c,f,x,b){for(var k=c._reactName,L=[];f!==null&&f!==x;){var re=f,ae=re.alternate,ve=re.stateNode;if(ae!==null&&ae===x)break;re.tag===5&&ve!==null&&(re=ve,b?(ae=mr(f,k),ae!=null&&L.unshift(Zu(f,ae,re))):b||(ae=mr(f,k),ae!=null&&L.push(Zu(f,ae,re)))),f=f.return}L.length!==0&&l.push({event:c,listeners:L})}var bC=/\r\n?/g,wC=/\u0000|\uFFFD/g;function Q2(l){return(typeof l=="string"?l:""+l).replace(bC,`
`).replace(wC,"")}function yh(l,c,f){if(c=Q2(c),Q2(l)!==c&&f)throw Error(r(425))}function vh(){}var tg=null,rg=null;function ng(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var sg=typeof setTimeout=="function"?setTimeout:void 0,_C=typeof clearTimeout=="function"?clearTimeout:void 0,J2=typeof Promise=="function"?Promise:void 0,EC=typeof queueMicrotask=="function"?queueMicrotask:typeof J2<"u"?function(l){return J2.resolve(null).then(l).catch(TC)}:sg;function TC(l){setTimeout(function(){throw l})}function ig(l,c){var f=c,x=0;do{var b=f.nextSibling;if(l.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(x===0){l.removeChild(b),mi(c);return}x--}else f!=="$"&&f!=="$?"&&f!=="$!"||x++;f=b}while(f);mi(c)}function so(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return l}function Z2(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var f=l.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return l;c--}else f==="/$"&&c++}l=l.previousSibling}return null}var _c=Math.random().toString(36).slice(2),Hi="__reactFiber$"+_c,ed="__reactProps$"+_c,ya="__reactContainer$"+_c,ag="__reactEvents$"+_c,kC="__reactListeners$"+_c,NC="__reactHandles$"+_c;function il(l){var c=l[Hi];if(c)return c;for(var f=l.parentNode;f;){if(c=f[ya]||f[Hi]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(l=Z2(l);l!==null;){if(f=l[Hi])return f;l=Z2(l)}return c}l=f,f=l.parentNode}return null}function td(l){return l=l[Hi]||l[ya],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Ec(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function bh(l){return l[ed]||null}var og=[],Tc=-1;function io(l){return{current:l}}function Ar(l){0>Tc||(l.current=og[Tc],og[Tc]=null,Tc--)}function _r(l,c){Tc++,og[Tc]=l.current,l.current=c}var ao={},Mn=io(ao),cs=io(!1),al=ao;function kc(l,c){var f=l.type.contextTypes;if(!f)return ao;var x=l.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var b={},k;for(k in f)b[k]=c[k];return x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=c,l.__reactInternalMemoizedMaskedChildContext=b),b}function us(l){return l=l.childContextTypes,l!=null}function wh(){Ar(cs),Ar(Mn)}function eb(l,c,f){if(Mn.current!==ao)throw Error(r(168));_r(Mn,c),_r(cs,f)}function tb(l,c,f){var x=l.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return f;x=x.getChildContext();for(var b in x)if(!(b in c))throw Error(r(108,Ae(l)||"Unknown",b));return de({},f,x)}function _h(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||ao,al=Mn.current,_r(Mn,l),_r(cs,cs.current),!0}function rb(l,c,f){var x=l.stateNode;if(!x)throw Error(r(169));f?(l=tb(l,c,al),x.__reactInternalMemoizedMergedChildContext=l,Ar(cs),Ar(Mn),_r(Mn,l)):Ar(cs),_r(cs,f)}var va=null,Eh=!1,lg=!1;function nb(l){va===null?va=[l]:va.push(l)}function SC(l){Eh=!0,nb(l)}function oo(){if(!lg&&va!==null){lg=!0;var l=0,c=Gt;try{var f=va;for(Gt=1;l<f.length;l++){var x=f[l];do x=x(!0);while(x!==null)}va=null,Eh=!1}catch(b){throw va!==null&&(va=va.slice(l+1)),Oe(Zt,oo),b}finally{Gt=c,lg=!1}}return null}var Nc=[],Sc=0,Th=null,kh=0,Ys=[],Qs=0,ol=null,ba=1,wa="";function ll(l,c){Nc[Sc++]=kh,Nc[Sc++]=Th,Th=l,kh=c}function sb(l,c,f){Ys[Qs++]=ba,Ys[Qs++]=wa,Ys[Qs++]=ol,ol=l;var x=ba;l=wa;var b=32-Nr(x)-1;x&=~(1<<b),f+=1;var k=32-Nr(c)+b;if(30<k){var L=b-b%5;k=(x&(1<<L)-1).toString(32),x>>=L,b-=L,ba=1<<32-Nr(c)+b|f<<b|x,wa=k+l}else ba=1<<k|f<<b|x,wa=l}function cg(l){l.return!==null&&(ll(l,1),sb(l,1,0))}function ug(l){for(;l===Th;)Th=Nc[--Sc],Nc[Sc]=null,kh=Nc[--Sc],Nc[Sc]=null;for(;l===ol;)ol=Ys[--Qs],Ys[Qs]=null,wa=Ys[--Qs],Ys[Qs]=null,ba=Ys[--Qs],Ys[Qs]=null}var Is=null,js=null,Rr=!1,yi=null;function ib(l,c){var f=ti(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=l,c=l.deletions,c===null?(l.deletions=[f],l.flags|=16):c.push(f)}function ab(l,c){switch(l.tag){case 5:var f=l.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(l.stateNode=c,Is=l,js=so(c.firstChild),!0):!1;case 6:return c=l.pendingProps===""||c.nodeType!==3?null:c,c!==null?(l.stateNode=c,Is=l,js=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=ol!==null?{id:ba,overflow:wa}:null,l.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=ti(18,null,null,0),f.stateNode=c,f.return=l,l.child=f,Is=l,js=null,!0):!1;default:return!1}}function dg(l){return(l.mode&1)!==0&&(l.flags&128)===0}function hg(l){if(Rr){var c=js;if(c){var f=c;if(!ab(l,c)){if(dg(l))throw Error(r(418));c=so(f.nextSibling);var x=Is;c&&ab(l,c)?ib(x,f):(l.flags=l.flags&-4097|2,Rr=!1,Is=l)}}else{if(dg(l))throw Error(r(418));l.flags=l.flags&-4097|2,Rr=!1,Is=l}}}function ob(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Is=l}function Nh(l){if(l!==Is)return!1;if(!Rr)return ob(l),Rr=!0,!1;var c;if((c=l.tag!==3)&&!(c=l.tag!==5)&&(c=l.type,c=c!=="head"&&c!=="body"&&!ng(l.type,l.memoizedProps)),c&&(c=js)){if(dg(l))throw lb(),Error(r(418));for(;c;)ib(l,c),c=so(c.nextSibling)}if(ob(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,c=0;l;){if(l.nodeType===8){var f=l.data;if(f==="/$"){if(c===0){js=so(l.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}l=l.nextSibling}js=null}}else js=Is?so(l.stateNode.nextSibling):null;return!0}function lb(){for(var l=js;l;)l=so(l.nextSibling)}function Ac(){js=Is=null,Rr=!1}function fg(l){yi===null?yi=[l]:yi.push(l)}var AC=P.ReactCurrentBatchConfig;function rd(l,c,f){if(l=f.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var x=f.stateNode}if(!x)throw Error(r(147,l));var b=x,k=""+l;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===k?c.ref:(c=function(L){var re=b.refs;L===null?delete re[k]:re[k]=L},c._stringRef=k,c)}if(typeof l!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,l))}return l}function Sh(l,c){throw l=Object.prototype.toString.call(c),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l))}function cb(l){var c=l._init;return c(l._payload)}function ub(l){function c(fe,oe){if(l){var xe=fe.deletions;xe===null?(fe.deletions=[oe],fe.flags|=16):xe.push(oe)}}function f(fe,oe){if(!l)return null;for(;oe!==null;)c(fe,oe),oe=oe.sibling;return null}function x(fe,oe){for(fe=new Map;oe!==null;)oe.key!==null?fe.set(oe.key,oe):fe.set(oe.index,oe),oe=oe.sibling;return fe}function b(fe,oe){return fe=go(fe,oe),fe.index=0,fe.sibling=null,fe}function k(fe,oe,xe){return fe.index=xe,l?(xe=fe.alternate,xe!==null?(xe=xe.index,xe<oe?(fe.flags|=2,oe):xe):(fe.flags|=2,oe)):(fe.flags|=1048576,oe)}function L(fe){return l&&fe.alternate===null&&(fe.flags|=2),fe}function re(fe,oe,xe,Ke){return oe===null||oe.tag!==6?(oe=sx(xe,fe.mode,Ke),oe.return=fe,oe):(oe=b(oe,xe),oe.return=fe,oe)}function ae(fe,oe,xe,Ke){var gt=xe.type;return gt===A?Ue(fe,oe,xe.props.children,Ke,xe.key):oe!==null&&(oe.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===ze&&cb(gt)===oe.type)?(Ke=b(oe,xe.props),Ke.ref=rd(fe,oe,xe),Ke.return=fe,Ke):(Ke=Qh(xe.type,xe.key,xe.props,null,fe.mode,Ke),Ke.ref=rd(fe,oe,xe),Ke.return=fe,Ke)}function ve(fe,oe,xe,Ke){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==xe.containerInfo||oe.stateNode.implementation!==xe.implementation?(oe=ix(xe,fe.mode,Ke),oe.return=fe,oe):(oe=b(oe,xe.children||[]),oe.return=fe,oe)}function Ue(fe,oe,xe,Ke,gt){return oe===null||oe.tag!==7?(oe=gl(xe,fe.mode,Ke,gt),oe.return=fe,oe):(oe=b(oe,xe),oe.return=fe,oe)}function qe(fe,oe,xe){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=sx(""+oe,fe.mode,xe),oe.return=fe,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case X:return xe=Qh(oe.type,oe.key,oe.props,null,fe.mode,xe),xe.ref=rd(fe,null,oe),xe.return=fe,xe;case B:return oe=ix(oe,fe.mode,xe),oe.return=fe,oe;case ze:var Ke=oe._init;return qe(fe,Ke(oe._payload),xe)}if(Kt(oe)||se(oe))return oe=gl(oe,fe.mode,xe,null),oe.return=fe,oe;Sh(fe,oe)}return null}function $e(fe,oe,xe,Ke){var gt=oe!==null?oe.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number")return gt!==null?null:re(fe,oe,""+xe,Ke);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case X:return xe.key===gt?ae(fe,oe,xe,Ke):null;case B:return xe.key===gt?ve(fe,oe,xe,Ke):null;case ze:return gt=xe._init,$e(fe,oe,gt(xe._payload),Ke)}if(Kt(xe)||se(xe))return gt!==null?null:Ue(fe,oe,xe,Ke,null);Sh(fe,xe)}return null}function at(fe,oe,xe,Ke,gt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return fe=fe.get(xe)||null,re(oe,fe,""+Ke,gt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case X:return fe=fe.get(Ke.key===null?xe:Ke.key)||null,ae(oe,fe,Ke,gt);case B:return fe=fe.get(Ke.key===null?xe:Ke.key)||null,ve(oe,fe,Ke,gt);case ze:var _t=Ke._init;return at(fe,oe,xe,_t(Ke._payload),gt)}if(Kt(Ke)||se(Ke))return fe=fe.get(xe)||null,Ue(oe,fe,Ke,gt,null);Sh(oe,Ke)}return null}function ut(fe,oe,xe,Ke){for(var gt=null,_t=null,Et=oe,jt=oe=0,mn=null;Et!==null&&jt<xe.length;jt++){Et.index>jt?(mn=Et,Et=null):mn=Et.sibling;var nr=$e(fe,Et,xe[jt],Ke);if(nr===null){Et===null&&(Et=mn);break}l&&Et&&nr.alternate===null&&c(fe,Et),oe=k(nr,oe,jt),_t===null?gt=nr:_t.sibling=nr,_t=nr,Et=mn}if(jt===xe.length)return f(fe,Et),Rr&&ll(fe,jt),gt;if(Et===null){for(;jt<xe.length;jt++)Et=qe(fe,xe[jt],Ke),Et!==null&&(oe=k(Et,oe,jt),_t===null?gt=Et:_t.sibling=Et,_t=Et);return Rr&&ll(fe,jt),gt}for(Et=x(fe,Et);jt<xe.length;jt++)mn=at(Et,fe,jt,xe[jt],Ke),mn!==null&&(l&&mn.alternate!==null&&Et.delete(mn.key===null?jt:mn.key),oe=k(mn,oe,jt),_t===null?gt=mn:_t.sibling=mn,_t=mn);return l&&Et.forEach(function(xo){return c(fe,xo)}),Rr&&ll(fe,jt),gt}function ft(fe,oe,xe,Ke){var gt=se(xe);if(typeof gt!="function")throw Error(r(150));if(xe=gt.call(xe),xe==null)throw Error(r(151));for(var _t=gt=null,Et=oe,jt=oe=0,mn=null,nr=xe.next();Et!==null&&!nr.done;jt++,nr=xe.next()){Et.index>jt?(mn=Et,Et=null):mn=Et.sibling;var xo=$e(fe,Et,nr.value,Ke);if(xo===null){Et===null&&(Et=mn);break}l&&Et&&xo.alternate===null&&c(fe,Et),oe=k(xo,oe,jt),_t===null?gt=xo:_t.sibling=xo,_t=xo,Et=mn}if(nr.done)return f(fe,Et),Rr&&ll(fe,jt),gt;if(Et===null){for(;!nr.done;jt++,nr=xe.next())nr=qe(fe,nr.value,Ke),nr!==null&&(oe=k(nr,oe,jt),_t===null?gt=nr:_t.sibling=nr,_t=nr);return Rr&&ll(fe,jt),gt}for(Et=x(fe,Et);!nr.done;jt++,nr=xe.next())nr=at(Et,fe,jt,nr.value,Ke),nr!==null&&(l&&nr.alternate!==null&&Et.delete(nr.key===null?jt:nr.key),oe=k(nr,oe,jt),_t===null?gt=nr:_t.sibling=nr,_t=nr);return l&&Et.forEach(function(oI){return c(fe,oI)}),Rr&&ll(fe,jt),gt}function Kr(fe,oe,xe,Ke){if(typeof xe=="object"&&xe!==null&&xe.type===A&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case X:e:{for(var gt=xe.key,_t=oe;_t!==null;){if(_t.key===gt){if(gt=xe.type,gt===A){if(_t.tag===7){f(fe,_t.sibling),oe=b(_t,xe.props.children),oe.return=fe,fe=oe;break e}}else if(_t.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===ze&&cb(gt)===_t.type){f(fe,_t.sibling),oe=b(_t,xe.props),oe.ref=rd(fe,_t,xe),oe.return=fe,fe=oe;break e}f(fe,_t);break}else c(fe,_t);_t=_t.sibling}xe.type===A?(oe=gl(xe.props.children,fe.mode,Ke,xe.key),oe.return=fe,fe=oe):(Ke=Qh(xe.type,xe.key,xe.props,null,fe.mode,Ke),Ke.ref=rd(fe,oe,xe),Ke.return=fe,fe=Ke)}return L(fe);case B:e:{for(_t=xe.key;oe!==null;){if(oe.key===_t)if(oe.tag===4&&oe.stateNode.containerInfo===xe.containerInfo&&oe.stateNode.implementation===xe.implementation){f(fe,oe.sibling),oe=b(oe,xe.children||[]),oe.return=fe,fe=oe;break e}else{f(fe,oe);break}else c(fe,oe);oe=oe.sibling}oe=ix(xe,fe.mode,Ke),oe.return=fe,fe=oe}return L(fe);case ze:return _t=xe._init,Kr(fe,oe,_t(xe._payload),Ke)}if(Kt(xe))return ut(fe,oe,xe,Ke);if(se(xe))return ft(fe,oe,xe,Ke);Sh(fe,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"?(xe=""+xe,oe!==null&&oe.tag===6?(f(fe,oe.sibling),oe=b(oe,xe),oe.return=fe,fe=oe):(f(fe,oe),oe=sx(xe,fe.mode,Ke),oe.return=fe,fe=oe),L(fe)):f(fe,oe)}return Kr}var Cc=ub(!0),db=ub(!1),Ah=io(null),Ch=null,Ic=null,pg=null;function mg(){pg=Ic=Ch=null}function gg(l){var c=Ah.current;Ar(Ah),l._currentValue=c}function xg(l,c,f){for(;l!==null;){var x=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),l===f)break;l=l.return}}function jc(l,c){Ch=l,pg=Ic=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&c)!==0&&(ds=!0),l.firstContext=null)}function Js(l){var c=l._currentValue;if(pg!==l)if(l={context:l,memoizedValue:c,next:null},Ic===null){if(Ch===null)throw Error(r(308));Ic=l,Ch.dependencies={lanes:0,firstContext:l}}else Ic=Ic.next=l;return c}var cl=null;function yg(l){cl===null?cl=[l]:cl.push(l)}function hb(l,c,f,x){var b=c.interleaved;return b===null?(f.next=f,yg(c)):(f.next=b.next,b.next=f),c.interleaved=f,_a(l,x)}function _a(l,c){l.lanes|=c;var f=l.alternate;for(f!==null&&(f.lanes|=c),f=l,l=l.return;l!==null;)l.childLanes|=c,f=l.alternate,f!==null&&(f.childLanes|=c),f=l,l=l.return;return f.tag===3?f.stateNode:null}var lo=!1;function vg(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fb(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ea(l,c){return{eventTime:l,lane:c,tag:0,payload:null,callback:null,next:null}}function co(l,c,f){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(tr&2)!==0){var b=x.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),x.pending=c,_a(l,f)}return b=x.interleaved,b===null?(c.next=c,yg(x)):(c.next=b.next,b.next=c),x.interleaved=c,_a(l,f)}function Ih(l,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var x=c.lanes;x&=l.pendingLanes,f|=x,c.lanes=f,Ja(l,f)}}function pb(l,c){var f=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,f===x)){var b=null,k=null;if(f=f.firstBaseUpdate,f!==null){do{var L={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};k===null?b=k=L:k=k.next=L,f=f.next}while(f!==null);k===null?b=k=c:k=k.next=c}else b=k=c;f={baseState:x.baseState,firstBaseUpdate:b,lastBaseUpdate:k,shared:x.shared,effects:x.effects},l.updateQueue=f;return}l=f.lastBaseUpdate,l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=c}function jh(l,c,f,x){var b=l.updateQueue;lo=!1;var k=b.firstBaseUpdate,L=b.lastBaseUpdate,re=b.shared.pending;if(re!==null){b.shared.pending=null;var ae=re,ve=ae.next;ae.next=null,L===null?k=ve:L.next=ve,L=ae;var Ue=l.alternate;Ue!==null&&(Ue=Ue.updateQueue,re=Ue.lastBaseUpdate,re!==L&&(re===null?Ue.firstBaseUpdate=ve:re.next=ve,Ue.lastBaseUpdate=ae))}if(k!==null){var qe=b.baseState;L=0,Ue=ve=ae=null,re=k;do{var $e=re.lane,at=re.eventTime;if((x&$e)===$e){Ue!==null&&(Ue=Ue.next={eventTime:at,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var ut=l,ft=re;switch($e=c,at=f,ft.tag){case 1:if(ut=ft.payload,typeof ut=="function"){qe=ut.call(at,qe,$e);break e}qe=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=ft.payload,$e=typeof ut=="function"?ut.call(at,qe,$e):ut,$e==null)break e;qe=de({},qe,$e);break e;case 2:lo=!0}}re.callback!==null&&re.lane!==0&&(l.flags|=64,$e=b.effects,$e===null?b.effects=[re]:$e.push(re))}else at={eventTime:at,lane:$e,tag:re.tag,payload:re.payload,callback:re.callback,next:null},Ue===null?(ve=Ue=at,ae=qe):Ue=Ue.next=at,L|=$e;if(re=re.next,re===null){if(re=b.shared.pending,re===null)break;$e=re,re=$e.next,$e.next=null,b.lastBaseUpdate=$e,b.shared.pending=null}}while(!0);if(Ue===null&&(ae=qe),b.baseState=ae,b.firstBaseUpdate=ve,b.lastBaseUpdate=Ue,c=b.shared.interleaved,c!==null){b=c;do L|=b.lane,b=b.next;while(b!==c)}else k===null&&(b.shared.lanes=0);hl|=L,l.lanes=L,l.memoizedState=qe}}function mb(l,c,f){if(l=c.effects,c.effects=null,l!==null)for(c=0;c<l.length;c++){var x=l[c],b=x.callback;if(b!==null){if(x.callback=null,x=f,typeof b!="function")throw Error(r(191,b));b.call(x)}}}var nd={},Wi=io(nd),sd=io(nd),id=io(nd);function ul(l){if(l===nd)throw Error(r(174));return l}function bg(l,c){switch(_r(id,c),_r(sd,l),_r(Wi,nd),l=c.nodeType,l){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:tt(null,"");break;default:l=l===8?c.parentNode:c,c=l.namespaceURI||null,l=l.tagName,c=tt(c,l)}Ar(Wi),_r(Wi,c)}function Pc(){Ar(Wi),Ar(sd),Ar(id)}function gb(l){ul(id.current);var c=ul(Wi.current),f=tt(c,l.type);c!==f&&(_r(sd,l),_r(Wi,f))}function wg(l){sd.current===l&&(Ar(Wi),Ar(sd))}var Fr=io(0);function Ph(l){for(var c=l;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var _g=[];function Eg(){for(var l=0;l<_g.length;l++)_g[l]._workInProgressVersionPrimary=null;_g.length=0}var Rh=P.ReactCurrentDispatcher,Tg=P.ReactCurrentBatchConfig,dl=0,Lr=null,on=null,fn=null,Dh=!1,ad=!1,od=0,CC=0;function $n(){throw Error(r(321))}function kg(l,c){if(c===null)return!1;for(var f=0;f<c.length&&f<l.length;f++)if(!xi(l[f],c[f]))return!1;return!0}function Ng(l,c,f,x,b,k){if(dl=k,Lr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Rh.current=l===null||l.memoizedState===null?RC:DC,l=f(x,b),ad){k=0;do{if(ad=!1,od=0,25<=k)throw Error(r(301));k+=1,fn=on=null,c.updateQueue=null,Rh.current=OC,l=f(x,b)}while(ad)}if(Rh.current=Lh,c=on!==null&&on.next!==null,dl=0,fn=on=Lr=null,Dh=!1,c)throw Error(r(300));return l}function Sg(){var l=od!==0;return od=0,l}function qi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Lr.memoizedState=fn=l:fn=fn.next=l,fn}function Zs(){if(on===null){var l=Lr.alternate;l=l!==null?l.memoizedState:null}else l=on.next;var c=fn===null?Lr.memoizedState:fn.next;if(c!==null)fn=c,on=l;else{if(l===null)throw Error(r(310));on=l,l={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},fn===null?Lr.memoizedState=fn=l:fn=fn.next=l}return fn}function ld(l,c){return typeof c=="function"?c(l):c}function Ag(l){var c=Zs(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var x=on,b=x.baseQueue,k=f.pending;if(k!==null){if(b!==null){var L=b.next;b.next=k.next,k.next=L}x.baseQueue=b=k,f.pending=null}if(b!==null){k=b.next,x=x.baseState;var re=L=null,ae=null,ve=k;do{var Ue=ve.lane;if((dl&Ue)===Ue)ae!==null&&(ae=ae.next={lane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),x=ve.hasEagerState?ve.eagerState:l(x,ve.action);else{var qe={lane:Ue,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null};ae===null?(re=ae=qe,L=x):ae=ae.next=qe,Lr.lanes|=Ue,hl|=Ue}ve=ve.next}while(ve!==null&&ve!==k);ae===null?L=x:ae.next=re,xi(x,c.memoizedState)||(ds=!0),c.memoizedState=x,c.baseState=L,c.baseQueue=ae,f.lastRenderedState=x}if(l=f.interleaved,l!==null){b=l;do k=b.lane,Lr.lanes|=k,hl|=k,b=b.next;while(b!==l)}else b===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function Cg(l){var c=Zs(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=l;var x=f.dispatch,b=f.pending,k=c.memoizedState;if(b!==null){f.pending=null;var L=b=b.next;do k=l(k,L.action),L=L.next;while(L!==b);xi(k,c.memoizedState)||(ds=!0),c.memoizedState=k,c.baseQueue===null&&(c.baseState=k),f.lastRenderedState=k}return[k,x]}function xb(){}function yb(l,c){var f=Lr,x=Zs(),b=c(),k=!xi(x.memoizedState,b);if(k&&(x.memoizedState=b,ds=!0),x=x.queue,Ig(wb.bind(null,f,x,l),[l]),x.getSnapshot!==c||k||fn!==null&&fn.memoizedState.tag&1){if(f.flags|=2048,cd(9,bb.bind(null,f,x,b,c),void 0,null),pn===null)throw Error(r(349));(dl&30)!==0||vb(f,c,b)}return b}function vb(l,c,f){l.flags|=16384,l={getSnapshot:c,value:f},c=Lr.updateQueue,c===null?(c={lastEffect:null,stores:null},Lr.updateQueue=c,c.stores=[l]):(f=c.stores,f===null?c.stores=[l]:f.push(l))}function bb(l,c,f,x){c.value=f,c.getSnapshot=x,_b(c)&&Eb(l)}function wb(l,c,f){return f(function(){_b(c)&&Eb(l)})}function _b(l){var c=l.getSnapshot;l=l.value;try{var f=c();return!xi(l,f)}catch{return!0}}function Eb(l){var c=_a(l,1);c!==null&&_i(c,l,1,-1)}function Tb(l){var c=qi();return typeof l=="function"&&(l=l()),c.memoizedState=c.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ld,lastRenderedState:l},c.queue=l,l=l.dispatch=PC.bind(null,Lr,l),[c.memoizedState,l]}function cd(l,c,f,x){return l={tag:l,create:c,destroy:f,deps:x,next:null},c=Lr.updateQueue,c===null?(c={lastEffect:null,stores:null},Lr.updateQueue=c,c.lastEffect=l.next=l):(f=c.lastEffect,f===null?c.lastEffect=l.next=l:(x=f.next,f.next=l,l.next=x,c.lastEffect=l)),l}function kb(){return Zs().memoizedState}function Oh(l,c,f,x){var b=qi();Lr.flags|=l,b.memoizedState=cd(1|c,f,void 0,x===void 0?null:x)}function Fh(l,c,f,x){var b=Zs();x=x===void 0?null:x;var k=void 0;if(on!==null){var L=on.memoizedState;if(k=L.destroy,x!==null&&kg(x,L.deps)){b.memoizedState=cd(c,f,k,x);return}}Lr.flags|=l,b.memoizedState=cd(1|c,f,k,x)}function Nb(l,c){return Oh(8390656,8,l,c)}function Ig(l,c){return Fh(2048,8,l,c)}function Sb(l,c){return Fh(4,2,l,c)}function Ab(l,c){return Fh(4,4,l,c)}function Cb(l,c){if(typeof c=="function")return l=l(),c(l),function(){c(null)};if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function Ib(l,c,f){return f=f!=null?f.concat([l]):null,Fh(4,4,Cb.bind(null,c,l),f)}function jg(){}function jb(l,c){var f=Zs();c=c===void 0?null:c;var x=f.memoizedState;return x!==null&&c!==null&&kg(c,x[1])?x[0]:(f.memoizedState=[l,c],l)}function Pb(l,c){var f=Zs();c=c===void 0?null:c;var x=f.memoizedState;return x!==null&&c!==null&&kg(c,x[1])?x[0]:(l=l(),f.memoizedState=[l,c],l)}function Rb(l,c,f){return(dl&21)===0?(l.baseState&&(l.baseState=!1,ds=!0),l.memoizedState=f):(xi(f,c)||(f=el(),Lr.lanes|=f,hl|=f,l.baseState=!0),c)}function IC(l,c){var f=Gt;Gt=f!==0&&4>f?f:4,l(!0);var x=Tg.transition;Tg.transition={};try{l(!1),c()}finally{Gt=f,Tg.transition=x}}function Db(){return Zs().memoizedState}function jC(l,c,f){var x=po(l);if(f={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null},Ob(l))Fb(c,f);else if(f=hb(l,c,f,x),f!==null){var b=Jn();_i(f,l,x,b),Lb(f,c,x)}}function PC(l,c,f){var x=po(l),b={lane:x,action:f,hasEagerState:!1,eagerState:null,next:null};if(Ob(l))Fb(c,b);else{var k=l.alternate;if(l.lanes===0&&(k===null||k.lanes===0)&&(k=c.lastRenderedReducer,k!==null))try{var L=c.lastRenderedState,re=k(L,f);if(b.hasEagerState=!0,b.eagerState=re,xi(re,L)){var ae=c.interleaved;ae===null?(b.next=b,yg(c)):(b.next=ae.next,ae.next=b),c.interleaved=b;return}}catch{}finally{}f=hb(l,c,b,x),f!==null&&(b=Jn(),_i(f,l,x,b),Lb(f,c,x))}}function Ob(l){var c=l.alternate;return l===Lr||c!==null&&c===Lr}function Fb(l,c){ad=Dh=!0;var f=l.pending;f===null?c.next=c:(c.next=f.next,f.next=c),l.pending=c}function Lb(l,c,f){if((f&4194240)!==0){var x=c.lanes;x&=l.pendingLanes,f|=x,c.lanes=f,Ja(l,f)}}var Lh={readContext:Js,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},RC={readContext:Js,useCallback:function(l,c){return qi().memoizedState=[l,c===void 0?null:c],l},useContext:Js,useEffect:Nb,useImperativeHandle:function(l,c,f){return f=f!=null?f.concat([l]):null,Oh(4194308,4,Cb.bind(null,c,l),f)},useLayoutEffect:function(l,c){return Oh(4194308,4,l,c)},useInsertionEffect:function(l,c){return Oh(4,2,l,c)},useMemo:function(l,c){var f=qi();return c=c===void 0?null:c,l=l(),f.memoizedState=[l,c],l},useReducer:function(l,c,f){var x=qi();return c=f!==void 0?f(c):c,x.memoizedState=x.baseState=c,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:c},x.queue=l,l=l.dispatch=jC.bind(null,Lr,l),[x.memoizedState,l]},useRef:function(l){var c=qi();return l={current:l},c.memoizedState=l},useState:Tb,useDebugValue:jg,useDeferredValue:function(l){return qi().memoizedState=l},useTransition:function(){var l=Tb(!1),c=l[0];return l=IC.bind(null,l[1]),qi().memoizedState=l,[c,l]},useMutableSource:function(){},useSyncExternalStore:function(l,c,f){var x=Lr,b=qi();if(Rr){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),pn===null)throw Error(r(349));(dl&30)!==0||vb(x,c,f)}b.memoizedState=f;var k={value:f,getSnapshot:c};return b.queue=k,Nb(wb.bind(null,x,k,l),[l]),x.flags|=2048,cd(9,bb.bind(null,x,k,f,c),void 0,null),f},useId:function(){var l=qi(),c=pn.identifierPrefix;if(Rr){var f=wa,x=ba;f=(x&~(1<<32-Nr(x)-1)).toString(32)+f,c=":"+c+"R"+f,f=od++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=CC++,c=":"+c+"r"+f.toString(32)+":";return l.memoizedState=c},unstable_isNewReconciler:!1},DC={readContext:Js,useCallback:jb,useContext:Js,useEffect:Ig,useImperativeHandle:Ib,useInsertionEffect:Sb,useLayoutEffect:Ab,useMemo:Pb,useReducer:Ag,useRef:kb,useState:function(){return Ag(ld)},useDebugValue:jg,useDeferredValue:function(l){var c=Zs();return Rb(c,on.memoizedState,l)},useTransition:function(){var l=Ag(ld)[0],c=Zs().memoizedState;return[l,c]},useMutableSource:xb,useSyncExternalStore:yb,useId:Db,unstable_isNewReconciler:!1},OC={readContext:Js,useCallback:jb,useContext:Js,useEffect:Ig,useImperativeHandle:Ib,useInsertionEffect:Sb,useLayoutEffect:Ab,useMemo:Pb,useReducer:Cg,useRef:kb,useState:function(){return Cg(ld)},useDebugValue:jg,useDeferredValue:function(l){var c=Zs();return on===null?c.memoizedState=l:Rb(c,on.memoizedState,l)},useTransition:function(){var l=Cg(ld)[0],c=Zs().memoizedState;return[l,c]},useMutableSource:xb,useSyncExternalStore:yb,useId:Db,unstable_isNewReconciler:!1};function vi(l,c){if(l&&l.defaultProps){c=de({},c),l=l.defaultProps;for(var f in l)c[f]===void 0&&(c[f]=l[f]);return c}return c}function Pg(l,c,f,x){c=l.memoizedState,f=f(x,c),f=f==null?c:de({},c,f),l.memoizedState=f,l.lanes===0&&(l.updateQueue.baseState=f)}var Mh={isMounted:function(l){return(l=l._reactInternals)?Q(l)===l:!1},enqueueSetState:function(l,c,f){l=l._reactInternals;var x=Jn(),b=po(l),k=Ea(x,b);k.payload=c,f!=null&&(k.callback=f),c=co(l,k,b),c!==null&&(_i(c,l,b,x),Ih(c,l,b))},enqueueReplaceState:function(l,c,f){l=l._reactInternals;var x=Jn(),b=po(l),k=Ea(x,b);k.tag=1,k.payload=c,f!=null&&(k.callback=f),c=co(l,k,b),c!==null&&(_i(c,l,b,x),Ih(c,l,b))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var f=Jn(),x=po(l),b=Ea(f,x);b.tag=2,c!=null&&(b.callback=c),c=co(l,b,x),c!==null&&(_i(c,l,x,f),Ih(c,l,x))}};function Mb(l,c,f,x,b,k,L){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,k,L):c.prototype&&c.prototype.isPureReactComponent?!Xu(f,x)||!Xu(b,k):!0}function $b(l,c,f){var x=!1,b=ao,k=c.contextType;return typeof k=="object"&&k!==null?k=Js(k):(b=us(c)?al:Mn.current,x=c.contextTypes,k=(x=x!=null)?kc(l,b):ao),c=new c(f,k),l.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Mh,l.stateNode=c,c._reactInternals=l,x&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=b,l.__reactInternalMemoizedMaskedChildContext=k),c}function Vb(l,c,f,x){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,x),c.state!==l&&Mh.enqueueReplaceState(c,c.state,null)}function Rg(l,c,f,x){var b=l.stateNode;b.props=f,b.state=l.memoizedState,b.refs={},vg(l);var k=c.contextType;typeof k=="object"&&k!==null?b.context=Js(k):(k=us(c)?al:Mn.current,b.context=kc(l,k)),b.state=l.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(Pg(l,c,k,f),b.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(c=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),c!==b.state&&Mh.enqueueReplaceState(b,b.state,null),jh(l,f,b,x),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308)}function Rc(l,c){try{var f="",x=c;do f+=ee(x),x=x.return;while(x);var b=f}catch(k){b=`
Error generating stack: `+k.message+`
`+k.stack}return{value:l,source:c,stack:b,digest:null}}function Dg(l,c,f){return{value:l,source:null,stack:f??null,digest:c??null}}function Og(l,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var FC=typeof WeakMap=="function"?WeakMap:Map;function Bb(l,c,f){f=Ea(-1,f),f.tag=3,f.payload={element:null};var x=c.value;return f.callback=function(){Wh||(Wh=!0,Yg=x),Og(l,c)},f}function Ub(l,c,f){f=Ea(-1,f),f.tag=3;var x=l.type.getDerivedStateFromError;if(typeof x=="function"){var b=c.value;f.payload=function(){return x(b)},f.callback=function(){Og(l,c)}}var k=l.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(f.callback=function(){Og(l,c),typeof x!="function"&&(ho===null?ho=new Set([this]):ho.add(this));var L=c.stack;this.componentDidCatch(c.value,{componentStack:L!==null?L:""})}),f}function zb(l,c,f){var x=l.pingCache;if(x===null){x=l.pingCache=new FC;var b=new Set;x.set(c,b)}else b=x.get(c),b===void 0&&(b=new Set,x.set(c,b));b.has(f)||(b.add(f),l=YC.bind(null,l,c,f),c.then(l,l))}function Hb(l){do{var c;if((c=l.tag===13)&&(c=l.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return l;l=l.return}while(l!==null);return null}function Wb(l,c,f,x,b){return(l.mode&1)===0?(l===c?l.flags|=65536:(l.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=Ea(-1,1),c.tag=2,co(f,c,1))),f.lanes|=1),l):(l.flags|=65536,l.lanes=b,l)}var LC=P.ReactCurrentOwner,ds=!1;function Qn(l,c,f,x){c.child=l===null?db(c,null,f,x):Cc(c,l.child,f,x)}function qb(l,c,f,x,b){f=f.render;var k=c.ref;return jc(c,b),x=Ng(l,c,f,x,k,b),f=Sg(),l!==null&&!ds?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~b,Ta(l,c,b)):(Rr&&f&&cg(c),c.flags|=1,Qn(l,c,x,b),c.child)}function Gb(l,c,f,x,b){if(l===null){var k=f.type;return typeof k=="function"&&!nx(k)&&k.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=k,Kb(l,c,k,x,b)):(l=Qh(f.type,null,x,c,c.mode,b),l.ref=c.ref,l.return=c,c.child=l)}if(k=l.child,(l.lanes&b)===0){var L=k.memoizedProps;if(f=f.compare,f=f!==null?f:Xu,f(L,x)&&l.ref===c.ref)return Ta(l,c,b)}return c.flags|=1,l=go(k,x),l.ref=c.ref,l.return=c,c.child=l}function Kb(l,c,f,x,b){if(l!==null){var k=l.memoizedProps;if(Xu(k,x)&&l.ref===c.ref)if(ds=!1,c.pendingProps=x=k,(l.lanes&b)!==0)(l.flags&131072)!==0&&(ds=!0);else return c.lanes=l.lanes,Ta(l,c,b)}return Fg(l,c,f,x,b)}function Xb(l,c,f){var x=c.pendingProps,b=x.children,k=l!==null?l.memoizedState:null;if(x.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},_r(Oc,Ps),Ps|=f;else{if((f&1073741824)===0)return l=k!==null?k.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:l,cachePool:null,transitions:null},c.updateQueue=null,_r(Oc,Ps),Ps|=l,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=k!==null?k.baseLanes:f,_r(Oc,Ps),Ps|=x}else k!==null?(x=k.baseLanes|f,c.memoizedState=null):x=f,_r(Oc,Ps),Ps|=x;return Qn(l,c,b,f),c.child}function Yb(l,c){var f=c.ref;(l===null&&f!==null||l!==null&&l.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function Fg(l,c,f,x,b){var k=us(f)?al:Mn.current;return k=kc(c,k),jc(c,b),f=Ng(l,c,f,x,k,b),x=Sg(),l!==null&&!ds?(c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~b,Ta(l,c,b)):(Rr&&x&&cg(c),c.flags|=1,Qn(l,c,f,b),c.child)}function Qb(l,c,f,x,b){if(us(f)){var k=!0;_h(c)}else k=!1;if(jc(c,b),c.stateNode===null)Vh(l,c),$b(c,f,x),Rg(c,f,x,b),x=!0;else if(l===null){var L=c.stateNode,re=c.memoizedProps;L.props=re;var ae=L.context,ve=f.contextType;typeof ve=="object"&&ve!==null?ve=Js(ve):(ve=us(f)?al:Mn.current,ve=kc(c,ve));var Ue=f.getDerivedStateFromProps,qe=typeof Ue=="function"||typeof L.getSnapshotBeforeUpdate=="function";qe||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(re!==x||ae!==ve)&&Vb(c,L,x,ve),lo=!1;var $e=c.memoizedState;L.state=$e,jh(c,x,L,b),ae=c.memoizedState,re!==x||$e!==ae||cs.current||lo?(typeof Ue=="function"&&(Pg(c,f,Ue,x),ae=c.memoizedState),(re=lo||Mb(c,f,re,x,$e,ae,ve))?(qe||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(c.flags|=4194308)):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=ae),L.props=x,L.state=ae,L.context=ve,x=re):(typeof L.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{L=c.stateNode,fb(l,c),re=c.memoizedProps,ve=c.type===c.elementType?re:vi(c.type,re),L.props=ve,qe=c.pendingProps,$e=L.context,ae=f.contextType,typeof ae=="object"&&ae!==null?ae=Js(ae):(ae=us(f)?al:Mn.current,ae=kc(c,ae));var at=f.getDerivedStateFromProps;(Ue=typeof at=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(re!==qe||$e!==ae)&&Vb(c,L,x,ae),lo=!1,$e=c.memoizedState,L.state=$e,jh(c,x,L,b);var ut=c.memoizedState;re!==qe||$e!==ut||cs.current||lo?(typeof at=="function"&&(Pg(c,f,at,x),ut=c.memoizedState),(ve=lo||Mb(c,f,ve,x,$e,ut,ae)||!1)?(Ue||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(x,ut,ae),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(x,ut,ae)),typeof L.componentDidUpdate=="function"&&(c.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof L.componentDidUpdate!="function"||re===l.memoizedProps&&$e===l.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||re===l.memoizedProps&&$e===l.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=ut),L.props=x,L.state=ut,L.context=ae,x=ve):(typeof L.componentDidUpdate!="function"||re===l.memoizedProps&&$e===l.memoizedState||(c.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||re===l.memoizedProps&&$e===l.memoizedState||(c.flags|=1024),x=!1)}return Lg(l,c,f,x,k,b)}function Lg(l,c,f,x,b,k){Yb(l,c);var L=(c.flags&128)!==0;if(!x&&!L)return b&&rb(c,f,!1),Ta(l,c,k);x=c.stateNode,LC.current=c;var re=L&&typeof f.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,l!==null&&L?(c.child=Cc(c,l.child,null,k),c.child=Cc(c,null,re,k)):Qn(l,c,re,k),c.memoizedState=x.state,b&&rb(c,f,!0),c.child}function Jb(l){var c=l.stateNode;c.pendingContext?eb(l,c.pendingContext,c.pendingContext!==c.context):c.context&&eb(l,c.context,!1),bg(l,c.containerInfo)}function Zb(l,c,f,x,b){return Ac(),fg(b),c.flags|=256,Qn(l,c,f,x),c.child}var Mg={dehydrated:null,treeContext:null,retryLane:0};function $g(l){return{baseLanes:l,cachePool:null,transitions:null}}function ew(l,c,f){var x=c.pendingProps,b=Fr.current,k=!1,L=(c.flags&128)!==0,re;if((re=L)||(re=l!==null&&l.memoizedState===null?!1:(b&2)!==0),re?(k=!0,c.flags&=-129):(l===null||l.memoizedState!==null)&&(b|=1),_r(Fr,b&1),l===null)return hg(c),l=c.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((c.mode&1)===0?c.lanes=1:l.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(L=x.children,l=x.fallback,k?(x=c.mode,k=c.child,L={mode:"hidden",children:L},(x&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=L):k=Jh(L,x,0,null),l=gl(l,x,f,null),k.return=c,l.return=c,k.sibling=l,c.child=k,c.child.memoizedState=$g(f),c.memoizedState=Mg,l):Vg(c,L));if(b=l.memoizedState,b!==null&&(re=b.dehydrated,re!==null))return MC(l,c,L,x,re,b,f);if(k){k=x.fallback,L=c.mode,b=l.child,re=b.sibling;var ae={mode:"hidden",children:x.children};return(L&1)===0&&c.child!==b?(x=c.child,x.childLanes=0,x.pendingProps=ae,c.deletions=null):(x=go(b,ae),x.subtreeFlags=b.subtreeFlags&14680064),re!==null?k=go(re,k):(k=gl(k,L,f,null),k.flags|=2),k.return=c,x.return=c,x.sibling=k,c.child=x,x=k,k=c.child,L=l.child.memoizedState,L=L===null?$g(f):{baseLanes:L.baseLanes|f,cachePool:null,transitions:L.transitions},k.memoizedState=L,k.childLanes=l.childLanes&~f,c.memoizedState=Mg,x}return k=l.child,l=k.sibling,x=go(k,{mode:"visible",children:x.children}),(c.mode&1)===0&&(x.lanes=f),x.return=c,x.sibling=null,l!==null&&(f=c.deletions,f===null?(c.deletions=[l],c.flags|=16):f.push(l)),c.child=x,c.memoizedState=null,x}function Vg(l,c){return c=Jh({mode:"visible",children:c},l.mode,0,null),c.return=l,l.child=c}function $h(l,c,f,x){return x!==null&&fg(x),Cc(c,l.child,null,f),l=Vg(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function MC(l,c,f,x,b,k,L){if(f)return c.flags&256?(c.flags&=-257,x=Dg(Error(r(422))),$h(l,c,L,x)):c.memoizedState!==null?(c.child=l.child,c.flags|=128,null):(k=x.fallback,b=c.mode,x=Jh({mode:"visible",children:x.children},b,0,null),k=gl(k,b,L,null),k.flags|=2,x.return=c,k.return=c,x.sibling=k,c.child=x,(c.mode&1)!==0&&Cc(c,l.child,null,L),c.child.memoizedState=$g(L),c.memoizedState=Mg,k);if((c.mode&1)===0)return $h(l,c,L,null);if(b.data==="$!"){if(x=b.nextSibling&&b.nextSibling.dataset,x)var re=x.dgst;return x=re,k=Error(r(419)),x=Dg(k,x,void 0),$h(l,c,L,x)}if(re=(L&l.childLanes)!==0,ds||re){if(x=pn,x!==null){switch(L&-L){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(x.suspendedLanes|L))!==0?0:b,b!==0&&b!==k.retryLane&&(k.retryLane=b,_a(l,b),_i(x,l,b,-1))}return rx(),x=Dg(Error(r(421))),$h(l,c,L,x)}return b.data==="$?"?(c.flags|=128,c.child=l.child,c=QC.bind(null,l),b._reactRetry=c,null):(l=k.treeContext,js=so(b.nextSibling),Is=c,Rr=!0,yi=null,l!==null&&(Ys[Qs++]=ba,Ys[Qs++]=wa,Ys[Qs++]=ol,ba=l.id,wa=l.overflow,ol=c),c=Vg(c,x.children),c.flags|=4096,c)}function tw(l,c,f){l.lanes|=c;var x=l.alternate;x!==null&&(x.lanes|=c),xg(l.return,c,f)}function Bg(l,c,f,x,b){var k=l.memoizedState;k===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:f,tailMode:b}:(k.isBackwards=c,k.rendering=null,k.renderingStartTime=0,k.last=x,k.tail=f,k.tailMode=b)}function rw(l,c,f){var x=c.pendingProps,b=x.revealOrder,k=x.tail;if(Qn(l,c,x.children,f),x=Fr.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&tw(l,f,c);else if(l.tag===19)tw(l,f,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}x&=1}if(_r(Fr,x),(c.mode&1)===0)c.memoizedState=null;else switch(b){case"forwards":for(f=c.child,b=null;f!==null;)l=f.alternate,l!==null&&Ph(l)===null&&(b=f),f=f.sibling;f=b,f===null?(b=c.child,c.child=null):(b=f.sibling,f.sibling=null),Bg(c,!1,b,f,k);break;case"backwards":for(f=null,b=c.child,c.child=null;b!==null;){if(l=b.alternate,l!==null&&Ph(l)===null){c.child=b;break}l=b.sibling,b.sibling=f,f=b,b=l}Bg(c,!0,f,null,k);break;case"together":Bg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Vh(l,c){(c.mode&1)===0&&l!==null&&(l.alternate=null,c.alternate=null,c.flags|=2)}function Ta(l,c,f){if(l!==null&&(c.dependencies=l.dependencies),hl|=c.lanes,(f&c.childLanes)===0)return null;if(l!==null&&c.child!==l.child)throw Error(r(153));if(c.child!==null){for(l=c.child,f=go(l,l.pendingProps),c.child=f,f.return=c;l.sibling!==null;)l=l.sibling,f=f.sibling=go(l,l.pendingProps),f.return=c;f.sibling=null}return c.child}function $C(l,c,f){switch(c.tag){case 3:Jb(c),Ac();break;case 5:gb(c);break;case 1:us(c.type)&&_h(c);break;case 4:bg(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,b=c.memoizedProps.value;_r(Ah,x._currentValue),x._currentValue=b;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?(_r(Fr,Fr.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?ew(l,c,f):(_r(Fr,Fr.current&1),l=Ta(l,c,f),l!==null?l.sibling:null);_r(Fr,Fr.current&1);break;case 19:if(x=(f&c.childLanes)!==0,(l.flags&128)!==0){if(x)return rw(l,c,f);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),_r(Fr,Fr.current),x)break;return null;case 22:case 23:return c.lanes=0,Xb(l,c,f)}return Ta(l,c,f)}var nw,Ug,sw,iw;nw=function(l,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)l.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Ug=function(){},sw=function(l,c,f,x){var b=l.memoizedProps;if(b!==x){l=c.stateNode,ul(Wi.current);var k=null;switch(f){case"input":b=Fe(l,b),x=Fe(l,x),k=[];break;case"select":b=de({},b,{value:void 0}),x=de({},x,{value:void 0}),k=[];break;case"textarea":b=Ze(l,b),x=Ze(l,x),k=[];break;default:typeof b.onClick!="function"&&typeof x.onClick=="function"&&(l.onclick=vh)}Ot(f,x);var L;f=null;for(ve in b)if(!x.hasOwnProperty(ve)&&b.hasOwnProperty(ve)&&b[ve]!=null)if(ve==="style"){var re=b[ve];for(L in re)re.hasOwnProperty(L)&&(f||(f={}),f[L]="")}else ve!=="dangerouslySetInnerHTML"&&ve!=="children"&&ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&ve!=="autoFocus"&&(s.hasOwnProperty(ve)?k||(k=[]):(k=k||[]).push(ve,null));for(ve in x){var ae=x[ve];if(re=b?.[ve],x.hasOwnProperty(ve)&&ae!==re&&(ae!=null||re!=null))if(ve==="style")if(re){for(L in re)!re.hasOwnProperty(L)||ae&&ae.hasOwnProperty(L)||(f||(f={}),f[L]="");for(L in ae)ae.hasOwnProperty(L)&&re[L]!==ae[L]&&(f||(f={}),f[L]=ae[L])}else f||(k||(k=[]),k.push(ve,f)),f=ae;else ve==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,re=re?re.__html:void 0,ae!=null&&re!==ae&&(k=k||[]).push(ve,ae)):ve==="children"?typeof ae!="string"&&typeof ae!="number"||(k=k||[]).push(ve,""+ae):ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&(s.hasOwnProperty(ve)?(ae!=null&&ve==="onScroll"&&Sr("scroll",l),k||re===ae||(k=[])):(k=k||[]).push(ve,ae))}f&&(k=k||[]).push("style",f);var ve=k;(c.updateQueue=ve)&&(c.flags|=4)}},iw=function(l,c,f,x){f!==x&&(c.flags|=4)};function ud(l,c){if(!Rr)switch(l.tailMode){case"hidden":c=l.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?l.tail=null:f.sibling=null;break;case"collapsed":f=l.tail;for(var x=null;f!==null;)f.alternate!==null&&(x=f),f=f.sibling;x===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function Vn(l){var c=l.alternate!==null&&l.alternate.child===l.child,f=0,x=0;if(c)for(var b=l.child;b!==null;)f|=b.lanes|b.childLanes,x|=b.subtreeFlags&14680064,x|=b.flags&14680064,b.return=l,b=b.sibling;else for(b=l.child;b!==null;)f|=b.lanes|b.childLanes,x|=b.subtreeFlags,x|=b.flags,b.return=l,b=b.sibling;return l.subtreeFlags|=x,l.childLanes=f,c}function VC(l,c,f){var x=c.pendingProps;switch(ug(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(c),null;case 1:return us(c.type)&&wh(),Vn(c),null;case 3:return x=c.stateNode,Pc(),Ar(cs),Ar(Mn),Eg(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(l===null||l.child===null)&&(Nh(c)?c.flags|=4:l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,yi!==null&&(Zg(yi),yi=null))),Ug(l,c),Vn(c),null;case 5:wg(c);var b=ul(id.current);if(f=c.type,l!==null&&c.stateNode!=null)sw(l,c,f,x,b),l.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(r(166));return Vn(c),null}if(l=ul(Wi.current),Nh(c)){x=c.stateNode,f=c.type;var k=c.memoizedProps;switch(x[Hi]=c,x[ed]=k,l=(c.mode&1)!==0,f){case"dialog":Sr("cancel",x),Sr("close",x);break;case"iframe":case"object":case"embed":Sr("load",x);break;case"video":case"audio":for(b=0;b<Qu.length;b++)Sr(Qu[b],x);break;case"source":Sr("error",x);break;case"img":case"image":case"link":Sr("error",x),Sr("load",x);break;case"details":Sr("toggle",x);break;case"input":wr(x,k),Sr("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!k.multiple},Sr("invalid",x);break;case"textarea":ct(x,k),Sr("invalid",x)}Ot(f,k),b=null;for(var L in k)if(k.hasOwnProperty(L)){var re=k[L];L==="children"?typeof re=="string"?x.textContent!==re&&(k.suppressHydrationWarning!==!0&&yh(x.textContent,re,l),b=["children",re]):typeof re=="number"&&x.textContent!==""+re&&(k.suppressHydrationWarning!==!0&&yh(x.textContent,re,l),b=["children",""+re]):s.hasOwnProperty(L)&&re!=null&&L==="onScroll"&&Sr("scroll",x)}switch(f){case"input":nt(x),ar(x,k,!0);break;case"textarea":nt(x),bt(x);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(x.onclick=vh)}x=b,c.updateQueue=x,x!==null&&(c.flags|=4)}else{L=b.nodeType===9?b:b.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=mt(f)),l==="http://www.w3.org/1999/xhtml"?f==="script"?(l=L.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof x.is=="string"?l=L.createElement(f,{is:x.is}):(l=L.createElement(f),f==="select"&&(L=l,x.multiple?L.multiple=!0:x.size&&(L.size=x.size))):l=L.createElementNS(l,f),l[Hi]=c,l[ed]=x,nw(l,c,!1,!1),c.stateNode=l;e:{switch(L=xt(f,x),f){case"dialog":Sr("cancel",l),Sr("close",l),b=x;break;case"iframe":case"object":case"embed":Sr("load",l),b=x;break;case"video":case"audio":for(b=0;b<Qu.length;b++)Sr(Qu[b],l);b=x;break;case"source":Sr("error",l),b=x;break;case"img":case"image":case"link":Sr("error",l),Sr("load",l),b=x;break;case"details":Sr("toggle",l),b=x;break;case"input":wr(l,x),b=Fe(l,x),Sr("invalid",l);break;case"option":b=x;break;case"select":l._wrapperState={wasMultiple:!!x.multiple},b=de({},x,{value:void 0}),Sr("invalid",l);break;case"textarea":ct(l,x),b=Ze(l,x),Sr("invalid",l);break;default:b=x}Ot(f,b),re=b;for(k in re)if(re.hasOwnProperty(k)){var ae=re[k];k==="style"?Ht(l,ae):k==="dangerouslySetInnerHTML"?(ae=ae?ae.__html:void 0,ae!=null&&Se(l,ae)):k==="children"?typeof ae=="string"?(f!=="textarea"||ae!=="")&&ye(l,ae):typeof ae=="number"&&ye(l,""+ae):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(s.hasOwnProperty(k)?ae!=null&&k==="onScroll"&&Sr("scroll",l):ae!=null&&U(l,k,ae,L))}switch(f){case"input":nt(l),ar(l,x,!1);break;case"textarea":nt(l),bt(l);break;case"option":x.value!=null&&l.setAttribute("value",""+De(x.value));break;case"select":l.multiple=!!x.multiple,k=x.value,k!=null?le(l,!!x.multiple,k,!1):x.defaultValue!=null&&le(l,!!x.multiple,x.defaultValue,!0);break;default:typeof b.onClick=="function"&&(l.onclick=vh)}switch(f){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Vn(c),null;case 6:if(l&&c.stateNode!=null)iw(l,c,l.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(f=ul(id.current),ul(Wi.current),Nh(c)){if(x=c.stateNode,f=c.memoizedProps,x[Hi]=c,(k=x.nodeValue!==f)&&(l=Is,l!==null))switch(l.tag){case 3:yh(x.nodeValue,f,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&yh(x.nodeValue,f,(l.mode&1)!==0)}k&&(c.flags|=4)}else x=(f.nodeType===9?f:f.ownerDocument).createTextNode(x),x[Hi]=c,c.stateNode=x}return Vn(c),null;case 13:if(Ar(Fr),x=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Rr&&js!==null&&(c.mode&1)!==0&&(c.flags&128)===0)lb(),Ac(),c.flags|=98560,k=!1;else if(k=Nh(c),x!==null&&x.dehydrated!==null){if(l===null){if(!k)throw Error(r(318));if(k=c.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[Hi]=c}else Ac(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Vn(c),k=!1}else yi!==null&&(Zg(yi),yi=null),k=!0;if(!k)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(x=x!==null,x!==(l!==null&&l.memoizedState!==null)&&x&&(c.child.flags|=8192,(c.mode&1)!==0&&(l===null||(Fr.current&1)!==0?ln===0&&(ln=3):rx())),c.updateQueue!==null&&(c.flags|=4),Vn(c),null);case 4:return Pc(),Ug(l,c),l===null&&Ju(c.stateNode.containerInfo),Vn(c),null;case 10:return gg(c.type._context),Vn(c),null;case 17:return us(c.type)&&wh(),Vn(c),null;case 19:if(Ar(Fr),k=c.memoizedState,k===null)return Vn(c),null;if(x=(c.flags&128)!==0,L=k.rendering,L===null)if(x)ud(k,!1);else{if(ln!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(L=Ph(l),L!==null){for(c.flags|=128,ud(k,!1),x=L.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=f,f=c.child;f!==null;)k=f,l=x,k.flags&=14680066,L=k.alternate,L===null?(k.childLanes=0,k.lanes=l,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=L.childLanes,k.lanes=L.lanes,k.child=L.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=L.memoizedProps,k.memoizedState=L.memoizedState,k.updateQueue=L.updateQueue,k.type=L.type,l=L.dependencies,k.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),f=f.sibling;return _r(Fr,Fr.current&1|2),c.child}l=l.sibling}k.tail!==null&&Be()>Fc&&(c.flags|=128,x=!0,ud(k,!1),c.lanes=4194304)}else{if(!x)if(l=Ph(L),l!==null){if(c.flags|=128,x=!0,f=l.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),ud(k,!0),k.tail===null&&k.tailMode==="hidden"&&!L.alternate&&!Rr)return Vn(c),null}else 2*Be()-k.renderingStartTime>Fc&&f!==1073741824&&(c.flags|=128,x=!0,ud(k,!1),c.lanes=4194304);k.isBackwards?(L.sibling=c.child,c.child=L):(f=k.last,f!==null?f.sibling=L:c.child=L,k.last=L)}return k.tail!==null?(c=k.tail,k.rendering=c,k.tail=c.sibling,k.renderingStartTime=Be(),c.sibling=null,f=Fr.current,_r(Fr,x?f&1|2:f&1),c):(Vn(c),null);case 22:case 23:return tx(),x=c.memoizedState!==null,l!==null&&l.memoizedState!==null!==x&&(c.flags|=8192),x&&(c.mode&1)!==0?(Ps&1073741824)!==0&&(Vn(c),c.subtreeFlags&6&&(c.flags|=8192)):Vn(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function BC(l,c){switch(ug(c),c.tag){case 1:return us(c.type)&&wh(),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return Pc(),Ar(cs),Ar(Mn),Eg(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 5:return wg(c),null;case 13:if(Ar(Fr),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Ac()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return Ar(Fr),null;case 4:return Pc(),null;case 10:return gg(c.type._context),null;case 22:case 23:return tx(),null;case 24:return null;default:return null}}var Bh=!1,Bn=!1,UC=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Dc(l,c){var f=l.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(x){Br(l,c,x)}else f.current=null}function zg(l,c,f){try{f()}catch(x){Br(l,c,x)}}var aw=!1;function zC(l,c){if(tg=to,l=M2(),Gm(l)){if("selectionStart"in l)var f={start:l.selectionStart,end:l.selectionEnd};else e:{f=(f=l.ownerDocument)&&f.defaultView||window;var x=f.getSelection&&f.getSelection();if(x&&x.rangeCount!==0){f=x.anchorNode;var b=x.anchorOffset,k=x.focusNode;x=x.focusOffset;try{f.nodeType,k.nodeType}catch{f=null;break e}var L=0,re=-1,ae=-1,ve=0,Ue=0,qe=l,$e=null;t:for(;;){for(var at;qe!==f||b!==0&&qe.nodeType!==3||(re=L+b),qe!==k||x!==0&&qe.nodeType!==3||(ae=L+x),qe.nodeType===3&&(L+=qe.nodeValue.length),(at=qe.firstChild)!==null;)$e=qe,qe=at;for(;;){if(qe===l)break t;if($e===f&&++ve===b&&(re=L),$e===k&&++Ue===x&&(ae=L),(at=qe.nextSibling)!==null)break;qe=$e,$e=qe.parentNode}qe=at}f=re===-1||ae===-1?null:{start:re,end:ae}}else f=null}f=f||{start:0,end:0}}else f=null;for(rg={focusedElem:l,selectionRange:f},to=!1,lt=c;lt!==null;)if(c=lt,l=c.child,(c.subtreeFlags&1028)!==0&&l!==null)l.return=c,lt=l;else for(;lt!==null;){c=lt;try{var ut=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var ft=ut.memoizedProps,Kr=ut.memoizedState,fe=c.stateNode,oe=fe.getSnapshotBeforeUpdate(c.elementType===c.type?ft:vi(c.type,ft),Kr);fe.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var xe=c.stateNode.containerInfo;xe.nodeType===1?xe.textContent="":xe.nodeType===9&&xe.documentElement&&xe.removeChild(xe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ke){Br(c,c.return,Ke)}if(l=c.sibling,l!==null){l.return=c.return,lt=l;break}lt=c.return}return ut=aw,aw=!1,ut}function dd(l,c,f){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var b=x=x.next;do{if((b.tag&l)===l){var k=b.destroy;b.destroy=void 0,k!==void 0&&zg(c,f,k)}b=b.next}while(b!==x)}}function Uh(l,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&l)===l){var x=f.create;f.destroy=x()}f=f.next}while(f!==c)}}function Hg(l){var c=l.ref;if(c!==null){var f=l.stateNode;switch(l.tag){case 5:l=f;break;default:l=f}typeof c=="function"?c(l):c.current=l}}function ow(l){var c=l.alternate;c!==null&&(l.alternate=null,ow(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&(delete c[Hi],delete c[ed],delete c[ag],delete c[kC],delete c[NC])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function lw(l){return l.tag===5||l.tag===3||l.tag===4}function cw(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||lw(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Wg(l,c,f){var x=l.tag;if(x===5||x===6)l=l.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(l,c):f.insertBefore(l,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(l,f)):(c=f,c.appendChild(l)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=vh));else if(x!==4&&(l=l.child,l!==null))for(Wg(l,c,f),l=l.sibling;l!==null;)Wg(l,c,f),l=l.sibling}function qg(l,c,f){var x=l.tag;if(x===5||x===6)l=l.stateNode,c?f.insertBefore(l,c):f.appendChild(l);else if(x!==4&&(l=l.child,l!==null))for(qg(l,c,f),l=l.sibling;l!==null;)qg(l,c,f),l=l.sibling}var Tn=null,bi=!1;function uo(l,c,f){for(f=f.child;f!==null;)uw(l,c,f),f=f.sibling}function uw(l,c,f){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(Xn,f)}catch{}switch(f.tag){case 5:Bn||Dc(f,c);case 6:var x=Tn,b=bi;Tn=null,uo(l,c,f),Tn=x,bi=b,Tn!==null&&(bi?(l=Tn,f=f.stateNode,l.nodeType===8?l.parentNode.removeChild(f):l.removeChild(f)):Tn.removeChild(f.stateNode));break;case 18:Tn!==null&&(bi?(l=Tn,f=f.stateNode,l.nodeType===8?ig(l.parentNode,f):l.nodeType===1&&ig(l,f),mi(l)):ig(Tn,f.stateNode));break;case 4:x=Tn,b=bi,Tn=f.stateNode.containerInfo,bi=!0,uo(l,c,f),Tn=x,bi=b;break;case 0:case 11:case 14:case 15:if(!Bn&&(x=f.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){b=x=x.next;do{var k=b,L=k.destroy;k=k.tag,L!==void 0&&((k&2)!==0||(k&4)!==0)&&zg(f,c,L),b=b.next}while(b!==x)}uo(l,c,f);break;case 1:if(!Bn&&(Dc(f,c),x=f.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=f.memoizedProps,x.state=f.memoizedState,x.componentWillUnmount()}catch(re){Br(f,c,re)}uo(l,c,f);break;case 21:uo(l,c,f);break;case 22:f.mode&1?(Bn=(x=Bn)||f.memoizedState!==null,uo(l,c,f),Bn=x):uo(l,c,f);break;default:uo(l,c,f)}}function dw(l){var c=l.updateQueue;if(c!==null){l.updateQueue=null;var f=l.stateNode;f===null&&(f=l.stateNode=new UC),c.forEach(function(x){var b=JC.bind(null,l,x);f.has(x)||(f.add(x),x.then(b,b))})}}function wi(l,c){var f=c.deletions;if(f!==null)for(var x=0;x<f.length;x++){var b=f[x];try{var k=l,L=c,re=L;e:for(;re!==null;){switch(re.tag){case 5:Tn=re.stateNode,bi=!1;break e;case 3:Tn=re.stateNode.containerInfo,bi=!0;break e;case 4:Tn=re.stateNode.containerInfo,bi=!0;break e}re=re.return}if(Tn===null)throw Error(r(160));uw(k,L,b),Tn=null,bi=!1;var ae=b.alternate;ae!==null&&(ae.return=null),b.return=null}catch(ve){Br(b,c,ve)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)hw(c,l),c=c.sibling}function hw(l,c){var f=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(wi(c,l),Gi(l),x&4){try{dd(3,l,l.return),Uh(3,l)}catch(ft){Br(l,l.return,ft)}try{dd(5,l,l.return)}catch(ft){Br(l,l.return,ft)}}break;case 1:wi(c,l),Gi(l),x&512&&f!==null&&Dc(f,f.return);break;case 5:if(wi(c,l),Gi(l),x&512&&f!==null&&Dc(f,f.return),l.flags&32){var b=l.stateNode;try{ye(b,"")}catch(ft){Br(l,l.return,ft)}}if(x&4&&(b=l.stateNode,b!=null)){var k=l.memoizedProps,L=f!==null?f.memoizedProps:k,re=l.type,ae=l.updateQueue;if(l.updateQueue=null,ae!==null)try{re==="input"&&k.type==="radio"&&k.name!=null&&Dt(b,k),xt(re,L);var ve=xt(re,k);for(L=0;L<ae.length;L+=2){var Ue=ae[L],qe=ae[L+1];Ue==="style"?Ht(b,qe):Ue==="dangerouslySetInnerHTML"?Se(b,qe):Ue==="children"?ye(b,qe):U(b,Ue,qe,ve)}switch(re){case"input":Ge(b,k);break;case"textarea":it(b,k);break;case"select":var $e=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!k.multiple;var at=k.value;at!=null?le(b,!!k.multiple,at,!1):$e!==!!k.multiple&&(k.defaultValue!=null?le(b,!!k.multiple,k.defaultValue,!0):le(b,!!k.multiple,k.multiple?[]:"",!1))}b[ed]=k}catch(ft){Br(l,l.return,ft)}}break;case 6:if(wi(c,l),Gi(l),x&4){if(l.stateNode===null)throw Error(r(162));b=l.stateNode,k=l.memoizedProps;try{b.nodeValue=k}catch(ft){Br(l,l.return,ft)}}break;case 3:if(wi(c,l),Gi(l),x&4&&f!==null&&f.memoizedState.isDehydrated)try{mi(c.containerInfo)}catch(ft){Br(l,l.return,ft)}break;case 4:wi(c,l),Gi(l);break;case 13:wi(c,l),Gi(l),b=l.child,b.flags&8192&&(k=b.memoizedState!==null,b.stateNode.isHidden=k,!k||b.alternate!==null&&b.alternate.memoizedState!==null||(Xg=Be())),x&4&&dw(l);break;case 22:if(Ue=f!==null&&f.memoizedState!==null,l.mode&1?(Bn=(ve=Bn)||Ue,wi(c,l),Bn=ve):wi(c,l),Gi(l),x&8192){if(ve=l.memoizedState!==null,(l.stateNode.isHidden=ve)&&!Ue&&(l.mode&1)!==0)for(lt=l,Ue=l.child;Ue!==null;){for(qe=lt=Ue;lt!==null;){switch($e=lt,at=$e.child,$e.tag){case 0:case 11:case 14:case 15:dd(4,$e,$e.return);break;case 1:Dc($e,$e.return);var ut=$e.stateNode;if(typeof ut.componentWillUnmount=="function"){x=$e,f=$e.return;try{c=x,ut.props=c.memoizedProps,ut.state=c.memoizedState,ut.componentWillUnmount()}catch(ft){Br(x,f,ft)}}break;case 5:Dc($e,$e.return);break;case 22:if($e.memoizedState!==null){mw(qe);continue}}at!==null?(at.return=$e,lt=at):mw(qe)}Ue=Ue.sibling}e:for(Ue=null,qe=l;;){if(qe.tag===5){if(Ue===null){Ue=qe;try{b=qe.stateNode,ve?(k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(re=qe.stateNode,ae=qe.memoizedProps.style,L=ae!=null&&ae.hasOwnProperty("display")?ae.display:null,re.style.display=wt("display",L))}catch(ft){Br(l,l.return,ft)}}}else if(qe.tag===6){if(Ue===null)try{qe.stateNode.nodeValue=ve?"":qe.memoizedProps}catch(ft){Br(l,l.return,ft)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===l)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===l)break e;for(;qe.sibling===null;){if(qe.return===null||qe.return===l)break e;Ue===qe&&(Ue=null),qe=qe.return}Ue===qe&&(Ue=null),qe.sibling.return=qe.return,qe=qe.sibling}}break;case 19:wi(c,l),Gi(l),x&4&&dw(l);break;case 21:break;default:wi(c,l),Gi(l)}}function Gi(l){var c=l.flags;if(c&2){try{e:{for(var f=l.return;f!==null;){if(lw(f)){var x=f;break e}f=f.return}throw Error(r(160))}switch(x.tag){case 5:var b=x.stateNode;x.flags&32&&(ye(b,""),x.flags&=-33);var k=cw(l);qg(l,k,b);break;case 3:case 4:var L=x.stateNode.containerInfo,re=cw(l);Wg(l,re,L);break;default:throw Error(r(161))}}catch(ae){Br(l,l.return,ae)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function HC(l,c,f){lt=l,fw(l)}function fw(l,c,f){for(var x=(l.mode&1)!==0;lt!==null;){var b=lt,k=b.child;if(b.tag===22&&x){var L=b.memoizedState!==null||Bh;if(!L){var re=b.alternate,ae=re!==null&&re.memoizedState!==null||Bn;re=Bh;var ve=Bn;if(Bh=L,(Bn=ae)&&!ve)for(lt=b;lt!==null;)L=lt,ae=L.child,L.tag===22&&L.memoizedState!==null?gw(b):ae!==null?(ae.return=L,lt=ae):gw(b);for(;k!==null;)lt=k,fw(k),k=k.sibling;lt=b,Bh=re,Bn=ve}pw(l)}else(b.subtreeFlags&8772)!==0&&k!==null?(k.return=b,lt=k):pw(l)}}function pw(l){for(;lt!==null;){var c=lt;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Bn||Uh(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!Bn)if(f===null)x.componentDidMount();else{var b=c.elementType===c.type?f.memoizedProps:vi(c.type,f.memoizedProps);x.componentDidUpdate(b,f.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var k=c.updateQueue;k!==null&&mb(c,k,x);break;case 3:var L=c.updateQueue;if(L!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}mb(c,L,f)}break;case 5:var re=c.stateNode;if(f===null&&c.flags&4){f=re;var ae=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":ae.autoFocus&&f.focus();break;case"img":ae.src&&(f.src=ae.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ve=c.alternate;if(ve!==null){var Ue=ve.memoizedState;if(Ue!==null){var qe=Ue.dehydrated;qe!==null&&mi(qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Bn||c.flags&512&&Hg(c)}catch($e){Br(c,c.return,$e)}}if(c===l){lt=null;break}if(f=c.sibling,f!==null){f.return=c.return,lt=f;break}lt=c.return}}function mw(l){for(;lt!==null;){var c=lt;if(c===l){lt=null;break}var f=c.sibling;if(f!==null){f.return=c.return,lt=f;break}lt=c.return}}function gw(l){for(;lt!==null;){var c=lt;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{Uh(4,c)}catch(ae){Br(c,f,ae)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var b=c.return;try{x.componentDidMount()}catch(ae){Br(c,b,ae)}}var k=c.return;try{Hg(c)}catch(ae){Br(c,k,ae)}break;case 5:var L=c.return;try{Hg(c)}catch(ae){Br(c,L,ae)}}}catch(ae){Br(c,c.return,ae)}if(c===l){lt=null;break}var re=c.sibling;if(re!==null){re.return=c.return,lt=re;break}lt=c.return}}var WC=Math.ceil,zh=P.ReactCurrentDispatcher,Gg=P.ReactCurrentOwner,ei=P.ReactCurrentBatchConfig,tr=0,pn=null,Zr=null,kn=0,Ps=0,Oc=io(0),ln=0,hd=null,hl=0,Hh=0,Kg=0,fd=null,hs=null,Xg=0,Fc=1/0,ka=null,Wh=!1,Yg=null,ho=null,qh=!1,fo=null,Gh=0,pd=0,Qg=null,Kh=-1,Xh=0;function Jn(){return(tr&6)!==0?Be():Kh!==-1?Kh:Kh=Be()}function po(l){return(l.mode&1)===0?1:(tr&2)!==0&&kn!==0?kn&-kn:AC.transition!==null?(Xh===0&&(Xh=el()),Xh):(l=Gt,l!==0||(l=window.event,l=l===void 0?16:Uu(l.type)),l)}function _i(l,c,f,x){if(50<pd)throw pd=0,Qg=null,Error(r(185));Qa(l,f,x),((tr&2)===0||l!==pn)&&(l===pn&&((tr&2)===0&&(Hh|=f),ln===4&&mo(l,kn)),fs(l,x),f===1&&tr===0&&(c.mode&1)===0&&(Fc=Be()+500,Eh&&oo()))}function fs(l,c){var f=l.callbackNode;fa(l,c);var x=Zo(l,l===pn?kn:0);if(x===0)f!==null&&Ye(f),l.callbackNode=null,l.callbackPriority=0;else if(c=x&-x,l.callbackPriority!==c){if(f!=null&&Ye(f),c===1)l.tag===0?SC(yw.bind(null,l)):nb(yw.bind(null,l)),EC(function(){(tr&6)===0&&oo()}),f=null;else{switch(Za(x)){case 1:f=Zt;break;case 4:f=Xt;break;case 16:f=er;break;case 536870912:f=Gs;break;default:f=er}f=Nw(f,xw.bind(null,l))}l.callbackPriority=c,l.callbackNode=f}}function xw(l,c){if(Kh=-1,Xh=0,(tr&6)!==0)throw Error(r(327));var f=l.callbackNode;if(Lc()&&l.callbackNode!==f)return null;var x=Zo(l,l===pn?kn:0);if(x===0)return null;if((x&30)!==0||(x&l.expiredLanes)!==0||c)c=Yh(l,x);else{c=x;var b=tr;tr|=2;var k=bw();(pn!==l||kn!==c)&&(ka=null,Fc=Be()+500,pl(l,c));do try{KC();break}catch(re){vw(l,re)}while(!0);mg(),zh.current=k,tr=b,Zr!==null?c=0:(pn=null,kn=0,c=ln)}if(c!==0){if(c===2&&(b=Ss(l),b!==0&&(x=b,c=Jg(l,b))),c===1)throw f=hd,pl(l,0),mo(l,x),fs(l,Be()),f;if(c===6)mo(l,x);else{if(b=l.current.alternate,(x&30)===0&&!qC(b)&&(c=Yh(l,x),c===2&&(k=Ss(l),k!==0&&(x=k,c=Jg(l,k))),c===1))throw f=hd,pl(l,0),mo(l,x),fs(l,Be()),f;switch(l.finishedWork=b,l.finishedLanes=x,c){case 0:case 1:throw Error(r(345));case 2:ml(l,hs,ka);break;case 3:if(mo(l,x),(x&130023424)===x&&(c=Xg+500-Be(),10<c)){if(Zo(l,0)!==0)break;if(b=l.suspendedLanes,(b&x)!==x){Jn(),l.pingedLanes|=l.suspendedLanes&b;break}l.timeoutHandle=sg(ml.bind(null,l,hs,ka),c);break}ml(l,hs,ka);break;case 4:if(mo(l,x),(x&4194240)===x)break;for(c=l.eventTimes,b=-1;0<x;){var L=31-Nr(x);k=1<<L,L=c[L],L>b&&(b=L),x&=~k}if(x=b,x=Be()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*WC(x/1960))-x,10<x){l.timeoutHandle=sg(ml.bind(null,l,hs,ka),x);break}ml(l,hs,ka);break;case 5:ml(l,hs,ka);break;default:throw Error(r(329))}}}return fs(l,Be()),l.callbackNode===f?xw.bind(null,l):null}function Jg(l,c){var f=fd;return l.current.memoizedState.isDehydrated&&(pl(l,c).flags|=256),l=Yh(l,c),l!==2&&(c=hs,hs=f,c!==null&&Zg(c)),l}function Zg(l){hs===null?hs=l:hs.push.apply(hs,l)}function qC(l){for(var c=l;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var x=0;x<f.length;x++){var b=f[x],k=b.getSnapshot;b=b.value;try{if(!xi(k(),b))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function mo(l,c){for(c&=~Kg,c&=~Hh,l.suspendedLanes|=c,l.pingedLanes&=~c,l=l.expirationTimes;0<c;){var f=31-Nr(c),x=1<<f;l[f]=-1,c&=~x}}function yw(l){if((tr&6)!==0)throw Error(r(327));Lc();var c=Zo(l,0);if((c&1)===0)return fs(l,Be()),null;var f=Yh(l,c);if(l.tag!==0&&f===2){var x=Ss(l);x!==0&&(c=x,f=Jg(l,x))}if(f===1)throw f=hd,pl(l,0),mo(l,c),fs(l,Be()),f;if(f===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=c,ml(l,hs,ka),fs(l,Be()),null}function ex(l,c){var f=tr;tr|=1;try{return l(c)}finally{tr=f,tr===0&&(Fc=Be()+500,Eh&&oo())}}function fl(l){fo!==null&&fo.tag===0&&(tr&6)===0&&Lc();var c=tr;tr|=1;var f=ei.transition,x=Gt;try{if(ei.transition=null,Gt=1,l)return l()}finally{Gt=x,ei.transition=f,tr=c,(tr&6)===0&&oo()}}function tx(){Ps=Oc.current,Ar(Oc)}function pl(l,c){l.finishedWork=null,l.finishedLanes=0;var f=l.timeoutHandle;if(f!==-1&&(l.timeoutHandle=-1,_C(f)),Zr!==null)for(f=Zr.return;f!==null;){var x=f;switch(ug(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&wh();break;case 3:Pc(),Ar(cs),Ar(Mn),Eg();break;case 5:wg(x);break;case 4:Pc();break;case 13:Ar(Fr);break;case 19:Ar(Fr);break;case 10:gg(x.type._context);break;case 22:case 23:tx()}f=f.return}if(pn=l,Zr=l=go(l.current,null),kn=Ps=c,ln=0,hd=null,Kg=Hh=hl=0,hs=fd=null,cl!==null){for(c=0;c<cl.length;c++)if(f=cl[c],x=f.interleaved,x!==null){f.interleaved=null;var b=x.next,k=f.pending;if(k!==null){var L=k.next;k.next=b,x.next=L}f.pending=x}cl=null}return l}function vw(l,c){do{var f=Zr;try{if(mg(),Rh.current=Lh,Dh){for(var x=Lr.memoizedState;x!==null;){var b=x.queue;b!==null&&(b.pending=null),x=x.next}Dh=!1}if(dl=0,fn=on=Lr=null,ad=!1,od=0,Gg.current=null,f===null||f.return===null){ln=1,hd=c,Zr=null;break}e:{var k=l,L=f.return,re=f,ae=c;if(c=kn,re.flags|=32768,ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var ve=ae,Ue=re,qe=Ue.tag;if((Ue.mode&1)===0&&(qe===0||qe===11||qe===15)){var $e=Ue.alternate;$e?(Ue.updateQueue=$e.updateQueue,Ue.memoizedState=$e.memoizedState,Ue.lanes=$e.lanes):(Ue.updateQueue=null,Ue.memoizedState=null)}var at=Hb(L);if(at!==null){at.flags&=-257,Wb(at,L,re,k,c),at.mode&1&&zb(k,ve,c),c=at,ae=ve;var ut=c.updateQueue;if(ut===null){var ft=new Set;ft.add(ae),c.updateQueue=ft}else ut.add(ae);break e}else{if((c&1)===0){zb(k,ve,c),rx();break e}ae=Error(r(426))}}else if(Rr&&re.mode&1){var Kr=Hb(L);if(Kr!==null){(Kr.flags&65536)===0&&(Kr.flags|=256),Wb(Kr,L,re,k,c),fg(Rc(ae,re));break e}}k=ae=Rc(ae,re),ln!==4&&(ln=2),fd===null?fd=[k]:fd.push(k),k=L;do{switch(k.tag){case 3:k.flags|=65536,c&=-c,k.lanes|=c;var fe=Bb(k,ae,c);pb(k,fe);break e;case 1:re=ae;var oe=k.type,xe=k.stateNode;if((k.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(ho===null||!ho.has(xe)))){k.flags|=65536,c&=-c,k.lanes|=c;var Ke=Ub(k,re,c);pb(k,Ke);break e}}k=k.return}while(k!==null)}_w(f)}catch(gt){c=gt,Zr===f&&f!==null&&(Zr=f=f.return);continue}break}while(!0)}function bw(){var l=zh.current;return zh.current=Lh,l===null?Lh:l}function rx(){(ln===0||ln===3||ln===2)&&(ln=4),pn===null||(hl&268435455)===0&&(Hh&268435455)===0||mo(pn,kn)}function Yh(l,c){var f=tr;tr|=2;var x=bw();(pn!==l||kn!==c)&&(ka=null,pl(l,c));do try{GC();break}catch(b){vw(l,b)}while(!0);if(mg(),tr=f,zh.current=x,Zr!==null)throw Error(r(261));return pn=null,kn=0,ln}function GC(){for(;Zr!==null;)ww(Zr)}function KC(){for(;Zr!==null&&!rt();)ww(Zr)}function ww(l){var c=kw(l.alternate,l,Ps);l.memoizedProps=l.pendingProps,c===null?_w(l):Zr=c,Gg.current=null}function _w(l){var c=l;do{var f=c.alternate;if(l=c.return,(c.flags&32768)===0){if(f=VC(f,c,Ps),f!==null){Zr=f;return}}else{if(f=BC(f,c),f!==null){f.flags&=32767,Zr=f;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{ln=6,Zr=null;return}}if(c=c.sibling,c!==null){Zr=c;return}Zr=c=l}while(c!==null);ln===0&&(ln=5)}function ml(l,c,f){var x=Gt,b=ei.transition;try{ei.transition=null,Gt=1,XC(l,c,f,x)}finally{ei.transition=b,Gt=x}return null}function XC(l,c,f,x){do Lc();while(fo!==null);if((tr&6)!==0)throw Error(r(327));f=l.finishedWork;var b=l.finishedLanes;if(f===null)return null;if(l.finishedWork=null,l.finishedLanes=0,f===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var k=f.lanes|f.childLanes;if(yr(l,k),l===pn&&(Zr=pn=null,kn=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||qh||(qh=!0,Nw(er,function(){return Lc(),null})),k=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||k){k=ei.transition,ei.transition=null;var L=Gt;Gt=1;var re=tr;tr|=4,Gg.current=null,zC(l,f),hw(f,l),mC(rg),to=!!tg,rg=tg=null,l.current=f,HC(f),He(),tr=re,Gt=L,ei.transition=k}else l.current=f;if(qh&&(qh=!1,fo=l,Gh=b),k=l.pendingLanes,k===0&&(ho=null),Ka(f.stateNode),fs(l,Be()),c!==null)for(x=l.onRecoverableError,f=0;f<c.length;f++)b=c[f],x(b.value,{componentStack:b.stack,digest:b.digest});if(Wh)throw Wh=!1,l=Yg,Yg=null,l;return(Gh&1)!==0&&l.tag!==0&&Lc(),k=l.pendingLanes,(k&1)!==0?l===Qg?pd++:(pd=0,Qg=l):pd=0,oo(),null}function Lc(){if(fo!==null){var l=Za(Gh),c=ei.transition,f=Gt;try{if(ei.transition=null,Gt=16>l?16:l,fo===null)var x=!1;else{if(l=fo,fo=null,Gh=0,(tr&6)!==0)throw Error(r(331));var b=tr;for(tr|=4,lt=l.current;lt!==null;){var k=lt,L=k.child;if((lt.flags&16)!==0){var re=k.deletions;if(re!==null){for(var ae=0;ae<re.length;ae++){var ve=re[ae];for(lt=ve;lt!==null;){var Ue=lt;switch(Ue.tag){case 0:case 11:case 15:dd(8,Ue,k)}var qe=Ue.child;if(qe!==null)qe.return=Ue,lt=qe;else for(;lt!==null;){Ue=lt;var $e=Ue.sibling,at=Ue.return;if(ow(Ue),Ue===ve){lt=null;break}if($e!==null){$e.return=at,lt=$e;break}lt=at}}}var ut=k.alternate;if(ut!==null){var ft=ut.child;if(ft!==null){ut.child=null;do{var Kr=ft.sibling;ft.sibling=null,ft=Kr}while(ft!==null)}}lt=k}}if((k.subtreeFlags&2064)!==0&&L!==null)L.return=k,lt=L;else e:for(;lt!==null;){if(k=lt,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:dd(9,k,k.return)}var fe=k.sibling;if(fe!==null){fe.return=k.return,lt=fe;break e}lt=k.return}}var oe=l.current;for(lt=oe;lt!==null;){L=lt;var xe=L.child;if((L.subtreeFlags&2064)!==0&&xe!==null)xe.return=L,lt=xe;else e:for(L=oe;lt!==null;){if(re=lt,(re.flags&2048)!==0)try{switch(re.tag){case 0:case 11:case 15:Uh(9,re)}}catch(gt){Br(re,re.return,gt)}if(re===L){lt=null;break e}var Ke=re.sibling;if(Ke!==null){Ke.return=re.return,lt=Ke;break e}lt=re.return}}if(tr=b,oo(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(Xn,l)}catch{}x=!0}return x}finally{Gt=f,ei.transition=c}}return!1}function Ew(l,c,f){c=Rc(f,c),c=Bb(l,c,1),l=co(l,c,1),c=Jn(),l!==null&&(Qa(l,1,c),fs(l,c))}function Br(l,c,f){if(l.tag===3)Ew(l,l,f);else for(;c!==null;){if(c.tag===3){Ew(c,l,f);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(ho===null||!ho.has(x))){l=Rc(f,l),l=Ub(c,l,1),c=co(c,l,1),l=Jn(),c!==null&&(Qa(c,1,l),fs(c,l));break}}c=c.return}}function YC(l,c,f){var x=l.pingCache;x!==null&&x.delete(c),c=Jn(),l.pingedLanes|=l.suspendedLanes&f,pn===l&&(kn&f)===f&&(ln===4||ln===3&&(kn&130023424)===kn&&500>Be()-Xg?pl(l,0):Kg|=f),fs(l,c)}function Tw(l,c){c===0&&((l.mode&1)===0?c=1:(c=ac,ac<<=1,(ac&130023424)===0&&(ac=4194304)));var f=Jn();l=_a(l,c),l!==null&&(Qa(l,c,f),fs(l,f))}function QC(l){var c=l.memoizedState,f=0;c!==null&&(f=c.retryLane),Tw(l,f)}function JC(l,c){var f=0;switch(l.tag){case 13:var x=l.stateNode,b=l.memoizedState;b!==null&&(f=b.retryLane);break;case 19:x=l.stateNode;break;default:throw Error(r(314))}x!==null&&x.delete(c),Tw(l,f)}var kw;kw=function(l,c,f){if(l!==null)if(l.memoizedProps!==c.pendingProps||cs.current)ds=!0;else{if((l.lanes&f)===0&&(c.flags&128)===0)return ds=!1,$C(l,c,f);ds=(l.flags&131072)!==0}else ds=!1,Rr&&(c.flags&1048576)!==0&&sb(c,kh,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;Vh(l,c),l=c.pendingProps;var b=kc(c,Mn.current);jc(c,f),b=Ng(null,c,x,l,b,f);var k=Sg();return c.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,us(x)?(k=!0,_h(c)):k=!1,c.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,vg(c),b.updater=Mh,c.stateNode=b,b._reactInternals=c,Rg(c,x,l,f),c=Lg(null,c,x,!0,k,f)):(c.tag=0,Rr&&k&&cg(c),Qn(null,c,b,f),c=c.child),c;case 16:x=c.elementType;e:{switch(Vh(l,c),l=c.pendingProps,b=x._init,x=b(x._payload),c.type=x,b=c.tag=eI(x),l=vi(x,l),b){case 0:c=Fg(null,c,x,l,f);break e;case 1:c=Qb(null,c,x,l,f);break e;case 11:c=qb(null,c,x,l,f);break e;case 14:c=Gb(null,c,x,vi(x.type,l),f);break e}throw Error(r(306,x,""))}return c;case 0:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:vi(x,b),Fg(l,c,x,b,f);case 1:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:vi(x,b),Qb(l,c,x,b,f);case 3:e:{if(Jb(c),l===null)throw Error(r(387));x=c.pendingProps,k=c.memoizedState,b=k.element,fb(l,c),jh(c,x,null,f);var L=c.memoizedState;if(x=L.element,k.isDehydrated)if(k={element:x,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},c.updateQueue.baseState=k,c.memoizedState=k,c.flags&256){b=Rc(Error(r(423)),c),c=Zb(l,c,x,f,b);break e}else if(x!==b){b=Rc(Error(r(424)),c),c=Zb(l,c,x,f,b);break e}else for(js=so(c.stateNode.containerInfo.firstChild),Is=c,Rr=!0,yi=null,f=db(c,null,x,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Ac(),x===b){c=Ta(l,c,f);break e}Qn(l,c,x,f)}c=c.child}return c;case 5:return gb(c),l===null&&hg(c),x=c.type,b=c.pendingProps,k=l!==null?l.memoizedProps:null,L=b.children,ng(x,b)?L=null:k!==null&&ng(x,k)&&(c.flags|=32),Yb(l,c),Qn(l,c,L,f),c.child;case 6:return l===null&&hg(c),null;case 13:return ew(l,c,f);case 4:return bg(c,c.stateNode.containerInfo),x=c.pendingProps,l===null?c.child=Cc(c,null,x,f):Qn(l,c,x,f),c.child;case 11:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:vi(x,b),qb(l,c,x,b,f);case 7:return Qn(l,c,c.pendingProps,f),c.child;case 8:return Qn(l,c,c.pendingProps.children,f),c.child;case 12:return Qn(l,c,c.pendingProps.children,f),c.child;case 10:e:{if(x=c.type._context,b=c.pendingProps,k=c.memoizedProps,L=b.value,_r(Ah,x._currentValue),x._currentValue=L,k!==null)if(xi(k.value,L)){if(k.children===b.children&&!cs.current){c=Ta(l,c,f);break e}}else for(k=c.child,k!==null&&(k.return=c);k!==null;){var re=k.dependencies;if(re!==null){L=k.child;for(var ae=re.firstContext;ae!==null;){if(ae.context===x){if(k.tag===1){ae=Ea(-1,f&-f),ae.tag=2;var ve=k.updateQueue;if(ve!==null){ve=ve.shared;var Ue=ve.pending;Ue===null?ae.next=ae:(ae.next=Ue.next,Ue.next=ae),ve.pending=ae}}k.lanes|=f,ae=k.alternate,ae!==null&&(ae.lanes|=f),xg(k.return,f,c),re.lanes|=f;break}ae=ae.next}}else if(k.tag===10)L=k.type===c.type?null:k.child;else if(k.tag===18){if(L=k.return,L===null)throw Error(r(341));L.lanes|=f,re=L.alternate,re!==null&&(re.lanes|=f),xg(L,f,c),L=k.sibling}else L=k.child;if(L!==null)L.return=k;else for(L=k;L!==null;){if(L===c){L=null;break}if(k=L.sibling,k!==null){k.return=L.return,L=k;break}L=L.return}k=L}Qn(l,c,b.children,f),c=c.child}return c;case 9:return b=c.type,x=c.pendingProps.children,jc(c,f),b=Js(b),x=x(b),c.flags|=1,Qn(l,c,x,f),c.child;case 14:return x=c.type,b=vi(x,c.pendingProps),b=vi(x.type,b),Gb(l,c,x,b,f);case 15:return Kb(l,c,c.type,c.pendingProps,f);case 17:return x=c.type,b=c.pendingProps,b=c.elementType===x?b:vi(x,b),Vh(l,c),c.tag=1,us(x)?(l=!0,_h(c)):l=!1,jc(c,f),$b(c,x,b),Rg(c,x,b,f),Lg(null,c,x,!0,l,f);case 19:return rw(l,c,f);case 22:return Xb(l,c,f)}throw Error(r(156,c.tag))};function Nw(l,c){return Oe(l,c)}function ZC(l,c,f,x){this.tag=l,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(l,c,f,x){return new ZC(l,c,f,x)}function nx(l){return l=l.prototype,!(!l||!l.isReactComponent)}function eI(l){if(typeof l=="function")return nx(l)?1:0;if(l!=null){if(l=l.$$typeof,l===W)return 11;if(l===Pe)return 14}return 2}function go(l,c){var f=l.alternate;return f===null?(f=ti(l.tag,c,l.key,l.mode),f.elementType=l.elementType,f.type=l.type,f.stateNode=l.stateNode,f.alternate=l,l.alternate=f):(f.pendingProps=c,f.type=l.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=l.flags&14680064,f.childLanes=l.childLanes,f.lanes=l.lanes,f.child=l.child,f.memoizedProps=l.memoizedProps,f.memoizedState=l.memoizedState,f.updateQueue=l.updateQueue,c=l.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=l.sibling,f.index=l.index,f.ref=l.ref,f}function Qh(l,c,f,x,b,k){var L=2;if(x=l,typeof l=="function")nx(l)&&(L=1);else if(typeof l=="string")L=5;else e:switch(l){case A:return gl(f.children,b,k,c);case N:L=8,b|=8;break;case C:return l=ti(12,f,c,b|2),l.elementType=C,l.lanes=k,l;case V:return l=ti(13,f,c,b),l.elementType=V,l.lanes=k,l;case Ee:return l=ti(19,f,c,b),l.elementType=Ee,l.lanes=k,l;case Le:return Jh(f,b,k,c);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case R:L=10;break e;case F:L=9;break e;case W:L=11;break e;case Pe:L=14;break e;case ze:L=16,x=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return c=ti(L,f,c,b),c.elementType=l,c.type=x,c.lanes=k,c}function gl(l,c,f,x){return l=ti(7,l,x,c),l.lanes=f,l}function Jh(l,c,f,x){return l=ti(22,l,x,c),l.elementType=Le,l.lanes=f,l.stateNode={isHidden:!1},l}function sx(l,c,f){return l=ti(6,l,null,c),l.lanes=f,l}function ix(l,c,f){return c=ti(4,l.children!==null?l.children:[],l.key,c),c.lanes=f,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function tI(l,c,f,x,b){this.tag=c,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ya(0),this.expirationTimes=Ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ya(0),this.identifierPrefix=x,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function ax(l,c,f,x,b,k,L,re,ae){return l=new tI(l,c,f,re,ae),c===1?(c=1,k===!0&&(c|=8)):c=0,k=ti(3,null,null,c),l.current=k,k.stateNode=l,k.memoizedState={element:x,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},vg(k),l}function rI(l,c,f){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:x==null?null:""+x,children:l,containerInfo:c,implementation:f}}function Sw(l){if(!l)return ao;l=l._reactInternals;e:{if(Q(l)!==l||l.tag!==1)throw Error(r(170));var c=l;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(us(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(l.tag===1){var f=l.type;if(us(f))return tb(l,f,c)}return c}function Aw(l,c,f,x,b,k,L,re,ae){return l=ax(f,x,!0,l,b,k,L,re,ae),l.context=Sw(null),f=l.current,x=Jn(),b=po(f),k=Ea(x,b),k.callback=c??null,co(f,k,b),l.current.lanes=b,Qa(l,b,x),fs(l,x),l}function Zh(l,c,f,x){var b=c.current,k=Jn(),L=po(b);return f=Sw(f),c.context===null?c.context=f:c.pendingContext=f,c=Ea(k,L),c.payload={element:l},x=x===void 0?null:x,x!==null&&(c.callback=x),l=co(b,c,L),l!==null&&(_i(l,b,L,k),Ih(l,b,L)),L}function ef(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Cw(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var f=l.retryLane;l.retryLane=f!==0&&f<c?f:c}}function ox(l,c){Cw(l,c),(l=l.alternate)&&Cw(l,c)}function nI(){return null}var Iw=typeof reportError=="function"?reportError:function(l){console.error(l)};function lx(l){this._internalRoot=l}tf.prototype.render=lx.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(r(409));Zh(l,c,null,null)},tf.prototype.unmount=lx.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;fl(function(){Zh(null,l,null,null)}),c[ya]=null}};function tf(l){this._internalRoot=l}tf.prototype.unstable_scheduleHydration=function(l){if(l){var c=th();l={blockedOn:null,target:l,priority:c};for(var f=0;f<Vi.length&&c!==0&&c<Vi[f].priority;f++);Vi.splice(f,0,l),f===0&&sh(l)}};function cx(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function rf(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function jw(){}function sI(l,c,f,x,b){if(b){if(typeof x=="function"){var k=x;x=function(){var ve=ef(L);k.call(ve)}}var L=Aw(c,x,l,0,null,!1,!1,"",jw);return l._reactRootContainer=L,l[ya]=L.current,Ju(l.nodeType===8?l.parentNode:l),fl(),L}for(;b=l.lastChild;)l.removeChild(b);if(typeof x=="function"){var re=x;x=function(){var ve=ef(ae);re.call(ve)}}var ae=ax(l,0,!1,null,null,!1,!1,"",jw);return l._reactRootContainer=ae,l[ya]=ae.current,Ju(l.nodeType===8?l.parentNode:l),fl(function(){Zh(c,ae,f,x)}),ae}function nf(l,c,f,x,b){var k=f._reactRootContainer;if(k){var L=k;if(typeof b=="function"){var re=b;b=function(){var ae=ef(L);re.call(ae)}}Zh(c,L,l,b)}else L=sI(f,c,l,b,x);return ef(L)}Z0=function(l){switch(l.tag){case 3:var c=l.stateNode;if(c.current.memoizedState.isDehydrated){var f=Xa(c.pendingLanes);f!==0&&(Ja(c,f|1),fs(c,Be()),(tr&6)===0&&(Fc=Be()+500,oo()))}break;case 13:fl(function(){var x=_a(l,1);if(x!==null){var b=Jn();_i(x,l,1,b)}}),ox(l,1)}},oc=function(l){if(l.tag===13){var c=_a(l,134217728);if(c!==null){var f=Jn();_i(c,l,134217728,f)}ox(l,134217728)}},eh=function(l){if(l.tag===13){var c=po(l),f=_a(l,c);if(f!==null){var x=Jn();_i(f,l,c,x)}ox(l,c)}},th=function(){return Gt},rh=function(l,c){var f=Gt;try{return Gt=l,c()}finally{Gt=f}},kt=function(l,c,f){switch(c){case"input":if(Ge(l,f),c=f.name,f.type==="radio"&&c!=null){for(f=l;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var x=f[c];if(x!==l&&x.form===l.form){var b=bh(x);if(!b)throw Error(r(90));dt(x),Ge(x,b)}}}break;case"textarea":it(l,f);break;case"select":c=f.value,c!=null&&le(l,!!f.multiple,c,!1)}},Ts=ex,Ws=fl;var iI={usingClientEntryPoint:!1,Events:[td,Ec,bh,kr,is,ex]},md={findFiberByHostInstance:il,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aI={bundleType:md.bundleType,version:md.version,rendererPackageName:md.rendererPackageName,rendererConfig:md.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=pe(l),l===null?null:l.stateNode},findFiberByHostInstance:md.findFiberByHostInstance||nI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sf.isDisabled&&sf.supportsFiber)try{Xn=sf.inject(aI),Or=sf}catch{}}return ps.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iI,ps.createPortal=function(l,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cx(c))throw Error(r(200));return rI(l,c,null,f)},ps.createRoot=function(l,c){if(!cx(l))throw Error(r(299));var f=!1,x="",b=Iw;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),c=ax(l,1,!1,null,null,f,!1,x,b),l[ya]=c.current,Ju(l.nodeType===8?l.parentNode:l),new lx(c)},ps.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=pe(c),l=l===null?null:l.stateNode,l},ps.flushSync=function(l){return fl(l)},ps.hydrate=function(l,c,f){if(!rf(c))throw Error(r(200));return nf(null,l,c,!0,f)},ps.hydrateRoot=function(l,c,f){if(!cx(l))throw Error(r(405));var x=f!=null&&f.hydratedSources||null,b=!1,k="",L=Iw;if(f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(k=f.identifierPrefix),f.onRecoverableError!==void 0&&(L=f.onRecoverableError)),c=Aw(c,null,l,1,f??null,b,!1,k,L),l[ya]=c.current,Ju(l),x)for(l=0;l<x.length;l++)f=x[l],b=f._getVersion,b=b(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,b]:c.mutableSourceEagerHydrationData.push(f,b);return new tf(c)},ps.render=function(l,c,f){if(!rf(c))throw Error(r(200));return nf(null,l,c,!1,f)},ps.unmountComponentAtNode=function(l){if(!rf(l))throw Error(r(40));return l._reactRootContainer?(fl(function(){nf(null,null,l,!1,function(){l._reactRootContainer=null,l[ya]=null})}),!0):!1},ps.unstable_batchedUpdates=ex,ps.unstable_renderSubtreeIntoContainer=function(l,c,f,x){if(!rf(f))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return nf(l,c,f,!1,x)},ps.version="18.3.1-next-f1338f8080-20240426",ps}var Vw;function gI(){if(Vw)return hx.exports;Vw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hx.exports=mI(),hx.exports}var Bw;function xI(){if(Bw)return af;Bw=1;var t=gI();return af.createRoot=t.createRoot,af.hydrateRoot=t.hydrateRoot,af}var yI=xI();const vI=t1(yI);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Uw="popstate";function bI(t={}){function e(n,s){let{pathname:i,search:o,hash:u}=n.location;return ty("",{pathname:i,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Kd(s)}return _I(e,r,null,t)}function Dr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wI(){return Math.random().toString(36).substring(2,10)}function zw(t,e){return{usr:t.state,key:t.key,idx:e}}function ty(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?_u(e):e,state:r,key:e&&e.key||n||wI()}}function Kd({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function _u(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function _I(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,u="POP",d=null,h=p();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function p(){return(o.state||{idx:null}).idx}function g(){u="POP";let E=p(),O=E==null?null:E-h;h=E,d&&d({action:u,location:w.location,delta:O})}function y(E,O){u="PUSH";let M=ty(w.location,E,O);h=p()+1;let U=zw(M,h),P=w.createHref(M);try{o.pushState(U,"",P)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;s.location.assign(P)}i&&d&&d({action:u,location:w.location,delta:1})}function v(E,O){u="REPLACE";let M=ty(w.location,E,O);h=p();let U=zw(M,h),P=w.createHref(M);o.replaceState(U,"",P),i&&d&&d({action:u,location:w.location,delta:0})}function T(E){return EI(E)}let w={get action(){return u},get location(){return t(s,o)},listen(E){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Uw,g),d=E,()=>{s.removeEventListener(Uw,g),d=null}},createHref(E){return e(s,E)},createURL:T,encodeLocation(E){let O=T(E);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:y,replace:v,go(E){return o.go(E)}};return w}function EI(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Dr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Kd(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function WT(t,e,r="/"){return TI(t,e,r,!1)}function TI(t,e,r,n){let s=typeof e=="string"?_u(e):e,i=Fa(s.pathname||"/",r);if(i==null)return null;let o=qT(t);kI(o);let u=null;for(let d=0;u==null&&d<o.length;++d){let h=FI(i);u=DI(o[d],h,n)}return u}function qT(t,e=[],r=[],n="",s=!1){let i=(o,u,d=s,h)=>{let p={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&d)return;Dr(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let g=Ia([n,p.relativePath]),y=r.concat(p);o.children&&o.children.length>0&&(Dr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),qT(o.children,e,y,g,d)),!(o.path==null&&!o.index)&&e.push({path:g,score:PI(g,o.index),routesMeta:y})};return t.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))i(o,u);else for(let d of GT(o.path))i(o,u,!0,d)}),e}function GT(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=GT(n.join("/")),u=[];return u.push(...o.map(d=>d===""?i:[i,d].join("/"))),s&&u.push(...o),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function kI(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:RI(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var NI=/^:[\w-]+$/,SI=3,AI=2,CI=1,II=10,jI=-2,Hw=t=>t==="*";function PI(t,e){let r=t.split("/"),n=r.length;return r.some(Hw)&&(n+=jI),e&&(n+=AI),r.filter(s=>!Hw(s)).reduce((s,i)=>s+(NI.test(i)?SI:i===""?CI:II),n)}function RI(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function DI(t,e,r=!1){let{routesMeta:n}=t,s={},i="/",o=[];for(let u=0;u<n.length;++u){let d=n[u],h=u===n.length-1,p=i==="/"?e:e.slice(i.length)||"/",g=Wf({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),y=d.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=Wf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:Ia([i,g.pathname]),pathnameBase:VI(Ia([i,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(i=Ia([i,g.pathnameBase]))}return o}function Wf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=OI(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:g},y)=>{if(p==="*"){let T=u[y]||"";o=i.slice(0,i.length-T.length).replace(/(.)\/+$/,"$1")}const v=u[y];return g&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function OI(t,e=!1,r=!0){Pi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function FI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Fa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function LI(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?_u(t):t;return{pathname:r?r.startsWith("/")?r:MI(r,e):e,search:BI(n),hash:UI(s)}}function MI(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function mx(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $I(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function n1(t){let e=$I(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function s1(t,e,r,n=!1){let s;typeof t=="string"?s=_u(t):(s={...t},Dr(!s.pathname||!s.pathname.includes("?"),mx("?","pathname","search",s)),Dr(!s.pathname||!s.pathname.includes("#"),mx("#","pathname","hash",s)),Dr(!s.search||!s.search.includes("#"),mx("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,u;if(o==null)u=r;else{let g=e.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),g-=1;s.pathname=y.join("/")}u=g>=0?e[g]:"/"}let d=LI(s,u),h=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var Ia=t=>t.join("/").replace(/\/\/+/g,"/"),VI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var KT=["POST","PUT","PATCH","DELETE"];new Set(KT);var HI=["GET",...KT];new Set(HI);var Eu=S.createContext(null);Eu.displayName="DataRouter";var Gp=S.createContext(null);Gp.displayName="DataRouterState";S.createContext(!1);var XT=S.createContext({isTransitioning:!1});XT.displayName="ViewTransition";var WI=S.createContext(new Map);WI.displayName="Fetchers";var qI=S.createContext(null);qI.displayName="Await";var Fi=S.createContext(null);Fi.displayName="Navigation";var _0=S.createContext(null);_0.displayName="Location";var da=S.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var i1=S.createContext(null);i1.displayName="RouteError";function GI(t,{relative:e}={}){Dr(Tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=S.useContext(Fi),{hash:s,pathname:i,search:o}=E0(t,{relative:e}),u=i;return r!=="/"&&(u=i==="/"?r:Ia([r,i])),n.createHref({pathname:u,search:o,hash:s})}function Tu(){return S.useContext(_0)!=null}function qo(){return Dr(Tu(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(_0).location}var YT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QT(t){S.useContext(Fi).static||S.useLayoutEffect(t)}function Li(){let{isDataRoute:t}=S.useContext(da);return t?aj():KI()}function KI(){Dr(Tu(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Eu),{basename:e,navigator:r}=S.useContext(Fi),{matches:n}=S.useContext(da),{pathname:s}=qo(),i=JSON.stringify(n1(n)),o=S.useRef(!1);return QT(()=>{o.current=!0}),S.useCallback((d,h={})=>{if(Pi(o.current,YT),!o.current)return;if(typeof d=="number"){r.go(d);return}let p=s1(d,JSON.parse(i),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ia([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,i,s,t])}S.createContext(null);function E0(t,{relative:e}={}){let{matches:r}=S.useContext(da),{pathname:n}=qo(),s=JSON.stringify(n1(r));return S.useMemo(()=>s1(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function XI(t,e){return JT(t,e)}function JT(t,e,r,n,s){Dr(Tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(Fi),{matches:o}=S.useContext(da),u=o[o.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let M=g&&g.path||"";ZT(h,!g||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let y=qo(),v;if(e){let M=typeof e=="string"?_u(e):e;Dr(p==="/"||M.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${M.pathname}" was given in the \`location\` prop.`),v=M}else v=y;let T=v.pathname||"/",w=T;if(p!=="/"){let M=p.replace(/^\//,"").split("/");w="/"+T.replace(/^\//,"").split("/").slice(M.length).join("/")}let E=WT(t,{pathname:w});Pi(g||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Pi(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=ej(E&&E.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Ia([p,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?p:Ia([p,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),o,r,n,s);return e&&O?S.createElement(_0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},O):O}function YI(){let t=ij(),e=zI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),r?S.createElement("pre",{style:s},r):null,o)}var QI=S.createElement(YI,null),JI=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?S.createElement(da.Provider,{value:this.props.routeContext},S.createElement(i1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZI({routeContext:t,match:e,children:r}){let n=S.useContext(Eu);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(da.Provider,{value:t},r)}function ej(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r?.errors;if(o!=null){let h=i.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);Dr(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let u=!1,d=-1;if(r)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:g,errors:y}=r,v=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){u=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((h,p,g)=>{let y,v=!1,T=null,w=null;r&&(y=o&&p.route.id?o[p.route.id]:void 0,T=p.route.errorElement||QI,u&&(d<0&&g===0?(ZT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):d===g&&(v=!0,w=p.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,g+1)),O=()=>{let M;return y?M=T:v?M=w:p.route.Component?M=S.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=h,S.createElement(ZI,{match:p,routeContext:{outlet:h,matches:E,isDataRoute:r!=null},children:M})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?S.createElement(JI,{location:r.location,revalidation:r.revalidation,component:T,error:y,children:O(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:n}):O()},null)}function a1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tj(t){let e=S.useContext(Eu);return Dr(e,a1(t)),e}function rj(t){let e=S.useContext(Gp);return Dr(e,a1(t)),e}function nj(t){let e=S.useContext(da);return Dr(e,a1(t)),e}function o1(t){let e=nj(t),r=e.matches[e.matches.length-1];return Dr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function sj(){return o1("useRouteId")}function ij(){let t=S.useContext(i1),e=rj("useRouteError"),r=o1("useRouteError");return t!==void 0?t:e.errors?.[r]}function aj(){let{router:t}=tj("useNavigate"),e=o1("useNavigate"),r=S.useRef(!1);return QT(()=>{r.current=!0}),S.useCallback(async(s,i={})=>{Pi(r.current,YT),r.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var Ww={};function ZT(t,e,r){!e&&!Ww[t]&&(Ww[t]=!0,Pi(!1,r))}S.memo(oj);function oj({routes:t,future:e,state:r,unstable_onError:n}){return JT(t,void 0,r,n,e)}function of({to:t,replace:e,state:r,relative:n}){Dr(Tu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=S.useContext(Fi);Pi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=S.useContext(da),{pathname:o}=qo(),u=Li(),d=s1(t,n1(i),o,n==="path"),h=JSON.stringify(d);return S.useEffect(()=>{u(JSON.parse(h),{replace:e,state:r,relative:n})},[u,h,n,e,r]),null}function Vt(t){Dr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lj({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){Dr(!Tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=_u(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:y="default"}=r,v=S.useMemo(()=>{let T=Fa(d,o);return T==null?null:{location:{pathname:T,search:h,hash:p,state:g,key:y},navigationType:n}},[o,d,h,p,g,y,n]);return Pi(v!=null,`<Router basename="${o}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:S.createElement(Fi.Provider,{value:u},S.createElement(_0.Provider,{children:e,value:v}))}function cj({children:t,location:e}){return XI(ry(t),e)}function ry(t,e=[]){let r=[];return S.Children.forEach(t,(n,s)=>{if(!S.isValidElement(n))return;let i=[...e,s];if(n.type===S.Fragment){r.push.apply(r,ry(n.props.children,i));return}Dr(n.type===Vt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ry(n.props.children,i)),r.push(o)}),r}var Cf="get",If="application/x-www-form-urlencoded";function Kp(t){return t!=null&&typeof t.tagName=="string"}function uj(t){return Kp(t)&&t.tagName.toLowerCase()==="button"}function dj(t){return Kp(t)&&t.tagName.toLowerCase()==="form"}function hj(t){return Kp(t)&&t.tagName.toLowerCase()==="input"}function fj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pj(t,e){return t.button===0&&(!e||e==="_self")&&!fj(t)}var lf=null;function mj(){if(lf===null)try{new FormData(document.createElement("form"),0),lf=!1}catch{lf=!0}return lf}var gj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gx(t){return t!=null&&!gj.has(t)?(Pi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${If}"`),null):t}function xj(t,e){let r,n,s,i,o;if(dj(t)){let u=t.getAttribute("action");n=u?Fa(u,e):null,r=t.getAttribute("method")||Cf,s=gx(t.getAttribute("enctype"))||If,i=new FormData(t)}else if(uj(t)||hj(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(n=d?Fa(d,e):null,r=t.getAttribute("formmethod")||u.getAttribute("method")||Cf,s=gx(t.getAttribute("formenctype"))||gx(u.getAttribute("enctype"))||If,i=new FormData(u,t),!mj()){let{name:h,type:p,value:g}=t;if(p==="image"){let y=h?`${h}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else h&&i.append(h,g)}}else{if(Kp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Cf,n=null,s=If,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function l1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yj(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Fa(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function vj(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function wj(t,e,r){let n=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await vj(i,r);return o.links?o.links():[]}return[]}));return kj(n.flat(1).filter(bj).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function qw(t,e,r,n,s,i){let o=(d,h)=>r[h]?d.route.id!==r[h].route.id:!0,u=(d,h)=>r[h].pathname!==d.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==d.params["*"];return i==="assets"?e.filter((d,h)=>o(d,h)||u(d,h)):i==="data"?e.filter((d,h)=>{let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(o(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function _j(t,e,{includeHydrateFallback:r}={}){return Ej(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Ej(t){return[...new Set(t)]}function Tj(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function kj(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let i=JSON.stringify(Tj(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function ek(){let t=S.useContext(Eu);return l1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Nj(){let t=S.useContext(Gp);return l1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var c1=S.createContext(void 0);c1.displayName="FrameworkContext";function tk(){let t=S.useContext(c1);return l1(t,"You must render this element inside a <HydratedRouter> element"),t}function Sj(t,e){let r=S.useContext(c1),[n,s]=S.useState(!1),[i,o]=S.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,y=S.useRef(null);S.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=O=>{O.forEach(M=>{o(M.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return y.current&&E.observe(y.current),()=>{E.disconnect()}}},[t]),S.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let v=()=>{s(!0)},T=()=>{s(!1),o(!1)};return r?t!=="intent"?[i,y,{}]:[i,y,{onFocus:xd(u,v),onBlur:xd(d,T),onMouseEnter:xd(h,v),onMouseLeave:xd(p,T),onTouchStart:xd(g,v)}]:[!1,y,{}]}function xd(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Aj({page:t,...e}){let{router:r}=ek(),n=S.useMemo(()=>WT(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?S.createElement(Ij,{page:t,matches:n,...e}):null}function Cj(t){let{manifest:e,routeModules:r}=tk(),[n,s]=S.useState([]);return S.useEffect(()=>{let i=!1;return wj(t,e,r).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,r]),n}function Ij({page:t,matches:e,...r}){let n=qo(),{manifest:s,routeModules:i}=tk(),{basename:o}=ek(),{loaderData:u,matches:d}=Nj(),h=S.useMemo(()=>qw(t,e,d,s,n,"data"),[t,e,d,s,n]),p=S.useMemo(()=>qw(t,e,d,s,n,"assets"),[t,e,d,s,n]),g=S.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let T=new Set,w=!1;if(e.forEach(O=>{let M=s.routes[O.route.id];!M||!M.hasLoader||(!h.some(U=>U.route.id===O.route.id)&&O.route.id in u&&i[O.route.id]?.shouldRevalidate||M.hasClientLoader?w=!0:T.add(O.route.id))}),T.size===0)return[];let E=yj(t,o,"data");return w&&T.size>0&&E.searchParams.set("_routes",e.filter(O=>T.has(O.route.id)).map(O=>O.route.id).join(",")),[E.pathname+E.search]},[o,u,n,s,h,e,t,i]),y=S.useMemo(()=>_j(p,s),[p,s]),v=Cj(p);return S.createElement(S.Fragment,null,g.map(T=>S.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...r})),y.map(T=>S.createElement("link",{key:T,rel:"modulepreload",href:T,...r})),v.map(({key:T,link:w})=>S.createElement("link",{key:T,nonce:r.nonce,...w})))}function jj(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var rk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rk&&(window.__reactRouterVersion="7.8.2")}catch{}function Pj({basename:t,children:e,window:r}){let n=S.useRef();n.current==null&&(n.current=bI({window:r,v5Compat:!0}));let s=n.current,[i,o]=S.useState({action:s.action,location:s.location}),u=S.useCallback(d=>{S.startTransition(()=>o(d))},[o]);return S.useLayoutEffect(()=>s.listen(u),[s,u]),S.createElement(lj,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var nk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gs=S.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:u,target:d,to:h,preventScrollReset:p,viewTransition:g,...y},v){let{basename:T}=S.useContext(Fi),w=typeof h=="string"&&nk.test(h),E,O=!1;if(typeof h=="string"&&w&&(E=h,rk))try{let C=new URL(window.location.href),R=h.startsWith("//")?new URL(C.protocol+h):new URL(h),F=Fa(R.pathname,T);R.origin===C.origin&&F!=null?h=F+R.search+R.hash:O=!0}catch{Pi(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=GI(h,{relative:s}),[U,P,X]=Sj(n,y),B=Fj(h,{replace:o,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:g});function A(C){e&&e(C),C.defaultPrevented||B(C)}let N=S.createElement("a",{...y,...X,href:E||M,onClick:O||i?e:A,ref:jj(v,P),target:d,"data-discover":!w&&r==="render"?"true":void 0});return U&&!w?S.createElement(S.Fragment,null,N,S.createElement(Aj,{page:M})):N});gs.displayName="Link";var Rj=S.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:u,children:d,...h},p){let g=E0(o,{relative:h.relative}),y=qo(),v=S.useContext(Gp),{navigator:T,basename:w}=S.useContext(Fi),E=v!=null&&Bj(g)&&u===!0,O=T.encodeLocation?T.encodeLocation(g).pathname:g.pathname,M=y.pathname,U=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(M=M.toLowerCase(),U=U?U.toLowerCase():null,O=O.toLowerCase()),U&&w&&(U=Fa(U,w)||U);const P=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let X=M===O||!s&&M.startsWith(O)&&M.charAt(P)==="/",B=U!=null&&(U===O||!s&&U.startsWith(O)&&U.charAt(O.length)==="/"),A={isActive:X,isPending:B,isTransitioning:E},N=X?e:void 0,C;typeof n=="function"?C=n(A):C=[n,X?"active":null,B?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let R=typeof i=="function"?i(A):i;return S.createElement(gs,{...h,"aria-current":N,className:C,ref:p,style:R,to:o,viewTransition:u},typeof d=="function"?d(A):d)});Rj.displayName="NavLink";var Dj=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:i,method:o=Cf,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:g,...y},v)=>{let T=$j(),w=Vj(u,{relative:h}),E=o.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&nk.test(u),M=U=>{if(d&&d(U),U.defaultPrevented)return;U.preventDefault();let P=U.nativeEvent.submitter,X=P?.getAttribute("formmethod")||o;T(P||U.currentTarget,{fetcherKey:e,method:X,navigate:r,replace:s,state:i,relative:h,preventScrollReset:p,viewTransition:g})};return S.createElement("form",{ref:v,method:E,action:w,onSubmit:n?d:M,...y,"data-discover":!O&&t==="render"?"true":void 0})});Dj.displayName="Form";function Oj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sk(t){let e=S.useContext(Eu);return Dr(e,Oj(t)),e}function Fj(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let u=Li(),d=qo(),h=E0(t,{relative:i});return S.useCallback(p=>{if(pj(p,e)){p.preventDefault();let g=r!==void 0?r:Kd(d)===Kd(h);u(t,{replace:g,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[d,u,h,r,n,e,t,s,i,o])}var Lj=0,Mj=()=>`__${String(++Lj)}__`;function $j(){let{router:t}=sk("useSubmit"),{basename:e}=S.useContext(Fi),r=sj();return S.useCallback(async(n,s={})=>{let{action:i,method:o,encType:u,formData:d,body:h}=xj(n,e);if(s.navigate===!1){let p=s.fetcherKey||Mj();await t.fetch(p,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||o,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||o,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,r])}function Vj(t,{relative:e}={}){let{basename:r}=S.useContext(Fi),n=S.useContext(da);Dr(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...E0(t||".",{relative:e})},o=qo();if(t==null){i.search=o.search;let u=new URLSearchParams(i.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();i.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Ia([r,i.pathname])),Kd(i)}function Bj(t,{relative:e}={}){let r=S.useContext(XT);Dr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=sk("useViewTransitionState"),s=E0(t,{relative:e});if(!r.isTransitioning)return!1;let i=Fa(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Fa(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Wf(s.pathname,o)!=null||Wf(s.pathname,i)!=null}const Uj=()=>{};var Gw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},zj=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],o=t[r++],u=t[r++],d=((s&7)<<18|(i&63)<<12|(o&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const i=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ak={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,u=o?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,p=i>>2,g=(i&3)<<4|u>>4;let y=(u&15)<<2|h>>6,v=h&63;d||(v=64,o||(y=64)),n.push(r[p],r[g],r[y],r[v])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ik(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],u=s<t.length?r[t.charAt(s)]:0;++s;const h=s<t.length?r[t.charAt(s)]:64;++s;const g=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||u==null||h==null||g==null)throw new Hj;const y=i<<2|u>>4;if(n.push(y),h!==64){const v=u<<4&240|h>>2;if(n.push(v),g!==64){const T=h<<6&192|g;n.push(T)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Hj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wj=function(t){const e=ik(t);return ak.encodeByteArray(e,!0)},qf=function(t){return Wj(t).replace(/\./g,"")},ok=function(t){try{return ak.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=()=>qj().__FIREBASE_DEFAULTS__,Kj=()=>{if(typeof process>"u"||typeof Gw>"u")return;const t=Gw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Xj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ok(t[1]);return e&&JSON.parse(e)},Xp=()=>{try{return Uj()||Gj()||Kj()||Xj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lk=t=>{var e,r;return(r=(e=Xp())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},ck=t=>{const e=lk(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},uk=()=>{var t;return(t=Xp())===null||t===void 0?void 0:t.config},dk=t=>{var e;return(e=Xp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qf(JSON.stringify(r)),qf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function Jj(){var t;const e=(t=Xp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tP(){const t=Kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rP(){return!Jj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pk(){try{return typeof indexedDB=="object"}catch{return!1}}function mk(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}function nP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="FirebaseError";class ui extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=sP,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?iP(i,n):"Error",u=`${this.serviceName}: ${o} (${s}).`;return new ui(s,u,n)}}function iP(t,e){return t.replace(aP,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const aP=/\{\$([^}]+)}/g;function oP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ro(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],o=e[s];if(Kw(i)&&Kw(o)){if(!Ro(i,o))return!1}else if(i!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function Kw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function wd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function _d(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function lP(t,e){const r=new cP(t,e);return r.subscribe.bind(r)}class cP{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");uP(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=xx),s.error===void 0&&(s.error=xx),s.complete===void 0&&(s.complete=xx);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uP(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function xx(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=1e3,hP=2,fP=14400*1e3,pP=.5;function Xw(t,e=dP,r=hP){const n=e*Math.pow(r,t),s=Math.round(pP*n*(Math.random()-.5)*2);return Math.min(fP,n+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t){return t&&t._delegate?t._delegate:t}class ci{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Yj;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),s=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xP(e))try{this.getOrInitializeService({instanceIdentifier:yl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=yl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yl){return this.instances.has(e)}getOptions(e=yl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);n===u&&o.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:gP(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=yl){return this.component?this.component.multipleInstances?e:yl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gP(t){return t===yl?void 0:t}function xP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new mP(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Wt||(Wt={}));const vP={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},bP=Wt.INFO,wP={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},_P=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=wP[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yp{constructor(e){this.name=e,this._logLevel=bP,this._logHandler=_P,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...e),this._logHandler(this,Wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...e),this._logHandler(this,Wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...e),this._logHandler(this,Wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...e),this._logHandler(this,Wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...e),this._logHandler(this,Wt.ERROR,...e)}}const EP=(t,e)=>e.some(r=>t instanceof r);let Yw,Qw;function TP(){return Yw||(Yw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kP(){return Qw||(Qw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gk=new WeakMap,ny=new WeakMap,xk=new WeakMap,yx=new WeakMap,u1=new WeakMap;function NP(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(Ao(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&gk.set(r,t)}).catch(()=>{}),u1.set(e,t),e}function SP(t){if(ny.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});ny.set(t,e)}let sy={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return ny.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xk.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ao(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AP(t){sy=t(sy)}function CP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(vx(this),e,...r);return xk.set(n,e.sort?e.sort():[e]),Ao(n)}:kP().includes(t)?function(...e){return t.apply(vx(this),e),Ao(gk.get(this))}:function(...e){return Ao(t.apply(vx(this),e))}}function IP(t){return typeof t=="function"?CP(t):(t instanceof IDBTransaction&&SP(t),EP(t,TP())?new Proxy(t,sy):t)}function Ao(t){if(t instanceof IDBRequest)return NP(t);if(yx.has(t))return yx.get(t);const e=IP(t);return e!==t&&(yx.set(t,e),u1.set(e,t)),e}const vx=t=>u1.get(t);function yk(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),u=Ao(o);return n&&o.addEventListener("upgradeneeded",d=>{n(Ao(o.result),d.oldVersion,d.newVersion,Ao(o.transaction),d)}),r&&o.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),u.then(d=>{i&&d.addEventListener("close",()=>i()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const jP=["get","getKey","getAll","getAllKeys","count"],PP=["put","add","delete","clear"],bx=new Map;function Jw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bx.get(e))return bx.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=PP.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||jP.includes(r)))return;const i=async function(o,...u){const d=this.transaction(o,s?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(u.shift())),(await Promise.all([h[r](...u),s&&d.done]))[0]};return bx.set(e,i),i}AP(t=>({...t,get:(e,r,n)=>Jw(e,r)||t.get(e,r,n),has:(e,r)=>!!Jw(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(DP(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function DP(t){const e=t.getComponent();return e?.type==="VERSION"}const iy="@firebase/app",Zw="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new Yp("@firebase/app"),OP="@firebase/app-compat",FP="@firebase/analytics-compat",LP="@firebase/analytics",MP="@firebase/app-check-compat",$P="@firebase/app-check",VP="@firebase/auth",BP="@firebase/auth-compat",UP="@firebase/database",zP="@firebase/data-connect",HP="@firebase/database-compat",WP="@firebase/functions",qP="@firebase/functions-compat",GP="@firebase/installations",KP="@firebase/installations-compat",XP="@firebase/messaging",YP="@firebase/messaging-compat",QP="@firebase/performance",JP="@firebase/performance-compat",ZP="@firebase/remote-config",eR="@firebase/remote-config-compat",tR="@firebase/storage",rR="@firebase/storage-compat",nR="@firebase/firestore",sR="@firebase/vertexai",iR="@firebase/firestore-compat",aR="firebase",oR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="[DEFAULT]",lR={[iy]:"fire-core",[OP]:"fire-core-compat",[LP]:"fire-analytics",[FP]:"fire-analytics-compat",[$P]:"fire-app-check",[MP]:"fire-app-check-compat",[VP]:"fire-auth",[BP]:"fire-auth-compat",[UP]:"fire-rtdb",[zP]:"fire-data-connect",[HP]:"fire-rtdb-compat",[WP]:"fire-fn",[qP]:"fire-fn-compat",[GP]:"fire-iid",[KP]:"fire-iid-compat",[XP]:"fire-fcm",[YP]:"fire-fcm-compat",[QP]:"fire-perf",[JP]:"fire-perf-compat",[ZP]:"fire-rc",[eR]:"fire-rc-compat",[tR]:"fire-gcs",[rR]:"fire-gcs-compat",[nR]:"fire-fst",[iR]:"fire-fst-compat",[sR]:"fire-vertex","fire-js":"fire-js",[aR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=new Map,cR=new Map,oy=new Map;function e_(t,e){try{t.container.addComponent(e)}catch(r){La.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ri(t){const e=t.name;if(oy.has(e))return La.debug(`There were multiple attempts to register component ${e}.`),!1;oy.set(e,t);for(const r of Gf.values())e_(r,t);for(const r of cR.values())e_(r,t);return!0}function Go(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Ls(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Co=new zl("app","Firebase",uR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=oR;function vk(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:ay,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Co.create("bad-app-name",{appName:String(s)});if(r||(r=uk()),!r)throw Co.create("no-options");const i=Gf.get(s);if(i){if(Ro(r,i.options)&&Ro(n,i.config))return i;throw Co.create("duplicate-app",{appName:s})}const o=new yP(s);for(const d of oy.values())o.addComponent(d);const u=new dR(r,n,o);return Gf.set(s,u),u}function Qp(t=ay){const e=Gf.get(t);if(!e&&t===ay&&uk())return vk();if(!e)throw Co.create("no-app",{appName:t});return e}function ys(t,e,r){var n;let s=(n=lR[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const u=[`Unable to register library "${s}" with version "${e}":`];i&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),La.warn(u.join(" "));return}Ri(new ci(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="firebase-heartbeat-database",fR=1,Xd="firebase-heartbeat-store";let wx=null;function bk(){return wx||(wx=yk(hR,fR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xd)}catch(r){console.warn(r)}}}}).catch(t=>{throw Co.create("idb-open",{originalErrorMessage:t.message})})),wx}async function pR(t){try{const r=(await bk()).transaction(Xd),n=await r.objectStore(Xd).get(wk(t));return await r.done,n}catch(e){if(e instanceof ui)La.warn(e.message);else{const r=Co.create("idb-get",{originalErrorMessage:e?.message});La.warn(r.message)}}}async function t_(t,e){try{const n=(await bk()).transaction(Xd,"readwrite");await n.objectStore(Xd).put(e,wk(t)),await n.done}catch(r){if(r instanceof ui)La.warn(r.message);else{const n=Co.create("idb-set",{originalErrorMessage:r?.message});La.warn(n.message)}}}function wk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=1024,gR=30;class xR{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new vR(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=r_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>gR){const o=bR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){La.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=r_(),{heartbeatsToSend:n,unsentEntries:s}=yR(this._heartbeatsCache.heartbeats),i=qf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return La.warn(r),""}}}function r_(){return new Date().toISOString().substring(0,10)}function yR(t,e=mR){const r=[];let n=t.slice();for(const s of t){const i=r.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),n_(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),n_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class vR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pk()?mk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await pR(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return t_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return t_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function n_(t){return qf(JSON.stringify({version:2,heartbeats:t})).length}function bR(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t){Ri(new ci("platform-logger",e=>new RP(e),"PRIVATE")),Ri(new ci("heartbeat",e=>new xR(e),"PRIVATE")),ys(iy,Zw,t),ys(iy,Zw,"esm2017"),ys("fire-js","")}wR("");var _R="firebase",ER="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys(_R,ER,"app");const _k="@firebase/installations",d1="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=1e4,Tk=`w:${d1}`,kk="FIS_v2",TR="https://firebaseinstallations.googleapis.com/v1",kR=3600*1e3,NR="installations",SR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Al=new zl(NR,SR,AR);function Nk(t){return t instanceof ui&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk({projectId:t}){return`${TR}/projects/${t}/installations`}function Ak(t){return{token:t.token,requestStatus:2,expiresIn:IR(t.expiresIn),creationTime:Date.now()}}async function Ck(t,e){const n=(await e.json()).error;return Al.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Ik({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function CR(t,{refreshToken:e}){const r=Ik(t);return r.append("Authorization",jR(e)),r}async function jk(t){const e=await t();return e.status>=500&&e.status<600?t():e}function IR(t){return Number(t.replace("s","000"))}function jR(t){return`${kk} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=Sk(t),s=Ik(t),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const o={fid:r,authVersion:kk,appId:t.appId,sdkVersion:Tk},u={method:"POST",headers:s,body:JSON.stringify(o)},d=await jk(()=>fetch(n,u));if(d.ok){const h=await d.json();return{fid:h.fid||r,registrationStatus:2,refreshToken:h.refreshToken,authToken:Ak(h.authToken)}}else throw await Ck("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=/^[cdef][\w-]{21}$/,ly="";function OR(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=FR(t);return DR.test(r)?r:ly}catch{return ly}}function FR(t){return RR(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=new Map;function Dk(t,e){const r=Jp(t);Ok(r,e),LR(r,e)}function Ok(t,e){const r=Rk.get(t);if(r)for(const n of r)n(e)}function LR(t,e){const r=MR();r&&r.postMessage({key:t,fid:e}),$R()}let wl=null;function MR(){return!wl&&"BroadcastChannel"in self&&(wl=new BroadcastChannel("[Firebase] FID Change"),wl.onmessage=t=>{Ok(t.data.key,t.data.fid)}),wl}function $R(){Rk.size===0&&wl&&(wl.close(),wl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="firebase-installations-database",BR=1,Cl="firebase-installations-store";let _x=null;function h1(){return _x||(_x=yk(VR,BR,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Cl)}}})),_x}async function Kf(t,e){const r=Jp(t),s=(await h1()).transaction(Cl,"readwrite"),i=s.objectStore(Cl),o=await i.get(r);return await i.put(e,r),await s.done,(!o||o.fid!==e.fid)&&Dk(t,e.fid),e}async function Fk(t){const e=Jp(t),n=(await h1()).transaction(Cl,"readwrite");await n.objectStore(Cl).delete(e),await n.done}async function Zp(t,e){const r=Jp(t),s=(await h1()).transaction(Cl,"readwrite"),i=s.objectStore(Cl),o=await i.get(r),u=e(o);return u===void 0?await i.delete(r):await i.put(u,r),await s.done,u&&(!o||o.fid!==u.fid)&&Dk(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(t){let e;const r=await Zp(t.appConfig,n=>{const s=UR(n),i=zR(t,s);return e=i.registrationPromise,i.installationEntry});return r.fid===ly?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function UR(t){const e=t||{fid:OR(),registrationStatus:0};return Lk(e)}function zR(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Al.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=HR(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:WR(t)}:{installationEntry:e}}async function HR(t,e){try{const r=await PR(t,e);return Kf(t.appConfig,r)}catch(r){throw Nk(r)&&r.customData.serverCode===409?await Fk(t.appConfig):await Kf(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function WR(t){let e=await s_(t.appConfig);for(;e.registrationStatus===1;)await Pk(100),e=await s_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await f1(t);return n||r}return e}function s_(t){return Zp(t,e=>{if(!e)throw Al.create("installation-not-found");return Lk(e)})}function Lk(t){return qR(t)?{fid:t.fid,registrationStatus:0}:t}function qR(t){return t.registrationStatus===1&&t.registrationTime+Ek<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR({appConfig:t,heartbeatServiceProvider:e},r){const n=KR(t,r),s=CR(t,r),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const o={installation:{sdkVersion:Tk,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(o)},d=await jk(()=>fetch(n,u));if(d.ok){const h=await d.json();return Ak(h)}else throw await Ck("Generate Auth Token",d)}function KR(t,{fid:e}){return`${Sk(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1(t,e=!1){let r;const n=await Zp(t.appConfig,i=>{if(!Mk(i))throw Al.create("not-registered");const o=i.authToken;if(!e&&QR(o))return i;if(o.requestStatus===1)return r=XR(t,e),i;{if(!navigator.onLine)throw Al.create("app-offline");const u=ZR(i);return r=YR(t,u),u}});return r?await r:n.authToken}async function XR(t,e){let r=await i_(t.appConfig);for(;r.authToken.requestStatus===1;)await Pk(100),r=await i_(t.appConfig);const n=r.authToken;return n.requestStatus===0?p1(t,e):n}function i_(t){return Zp(t,e=>{if(!Mk(e))throw Al.create("not-registered");const r=e.authToken;return e8(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function YR(t,e){try{const r=await GR(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Kf(t.appConfig,n),r}catch(r){if(Nk(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await Fk(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Kf(t.appConfig,n)}throw r}}function Mk(t){return t!==void 0&&t.registrationStatus===2}function QR(t){return t.requestStatus===2&&!JR(t)}function JR(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+kR}function ZR(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function e8(t){return t.requestStatus===1&&t.requestTime+Ek<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t8(t){const e=t,{installationEntry:r,registrationPromise:n}=await f1(e);return n?n.catch(console.error):p1(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r8(t,e=!1){const r=t;return await n8(r),(await p1(r,e)).token}async function n8(t){const{registrationPromise:e}=await f1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(t){if(!t||!t.options)throw Ex("App Configuration");if(!t.name)throw Ex("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw Ex(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ex(t){return Al.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="installations",i8="installations-internal",a8=t=>{const e=t.getProvider("app").getImmediate(),r=s8(e),n=Go(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},o8=t=>{const e=t.getProvider("app").getImmediate(),r=Go(e,$k).getImmediate();return{getId:()=>t8(r),getToken:s=>r8(r,s)}};function l8(){Ri(new ci($k,a8,"PUBLIC")),Ri(new ci(i8,o8,"PRIVATE"))}l8();ys(_k,d1);ys(_k,d1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="analytics",c8="firebase_id",u8="origin",d8=60*1e3,h8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",m1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new Yp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vs=new zl("analytics","Analytics",f8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(t){if(!t.startsWith(m1)){const e=Vs.create("invalid-gtag-resource",{gtagURL:t});return vs.warn(e.message),""}return t}function Vk(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function m8(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function g8(t,e){const r=m8("firebase-js-sdk-policy",{createScriptURL:p8}),n=document.createElement("script"),s=`${m1}?l=${t}&id=${e}`;n.src=r?r?.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function x8(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function y8(t,e,r,n,s,i){const o=n[s];try{if(o)await e[o];else{const d=(await Vk(r)).find(h=>h.measurementId===s);d&&await e[d.appId]}}catch(u){vs.error(u)}t("config",s,i)}async function v8(t,e,r,n,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const u=await Vk(r);for(const d of o){const h=u.find(g=>g.measurementId===d),p=h&&e[h.appId];if(p)i.push(p);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",n,s||{})}catch(i){vs.error(i)}}function b8(t,e,r,n){async function s(i,...o){try{if(i==="event"){const[u,d]=o;await v8(t,e,r,u,d)}else if(i==="config"){const[u,d]=o;await y8(t,e,r,n,u,d)}else if(i==="consent"){const[u,d]=o;t("consent",u,d)}else if(i==="get"){const[u,d,h]=o;t("get",u,d,h)}else if(i==="set"){const[u]=o;t("set",u)}else t(i,...o)}catch(u){vs.error(u)}}return s}function w8(t,e,r,n,s){let i=function(...o){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=b8(i,t,e,r),{gtagCore:i,wrappedGtag:window[s]}}function _8(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(m1)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=30,T8=1e3;class k8{constructor(e={},r=T8){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Bk=new k8;function N8(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function S8(t){var e;const{appId:r,apiKey:n}=t,s={method:"GET",headers:N8(n)},i=h8.replace("{app-id}",r),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let u="";try{const d=await o.json();!((e=d.error)===null||e===void 0)&&e.message&&(u=d.error.message)}catch{}throw Vs.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function A8(t,e=Bk,r){const{appId:n,apiKey:s,measurementId:i}=t.options;if(!n)throw Vs.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:n};throw Vs.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new j8;return setTimeout(async()=>{u.abort()},d8),Uk({appId:n,apiKey:s,measurementId:i},o,u,e)}async function Uk(t,{throttleEndTimeMillis:e,backoffCount:r},n,s=Bk){var i;const{appId:o,measurementId:u}=t;try{await C8(n,e)}catch(d){if(u)return vs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:o,measurementId:u};throw d}try{const d=await S8(t);return s.deleteThrottleMetadata(o),d}catch(d){const h=d;if(!I8(h)){if(s.deleteThrottleMetadata(o),u)return vs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:o,measurementId:u};throw d}const p=Number((i=h?.customData)===null||i===void 0?void 0:i.httpStatus)===503?Xw(r,s.intervalMillis,E8):Xw(r,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:r+1};return s.setThrottleMetadata(o,g),vs.debug(`Calling attemptFetch again in ${p} millis`),Uk(t,g,n,s)}}function C8(t,e){return new Promise((r,n)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(r,s);t.addEventListener(()=>{clearTimeout(i),n(Vs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function I8(t){if(!(t instanceof ui)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class j8{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function P8(t,e,r,n,s){if(s&&s.global){t("event",r,n);return}else{const i=await e,o=Object.assign(Object.assign({},n),{send_to:i});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R8(){if(pk())try{await mk()}catch(t){return vs.warn(Vs.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return vs.warn(Vs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function D8(t,e,r,n,s,i,o){var u;const d=A8(t);d.then(v=>{r[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&vs.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>vs.error(v)),e.push(d);const h=R8().then(v=>{if(v)return n.getId()}),[p,g]=await Promise.all([d,h]);_8(i)||g8(i,p.measurementId),s("js",new Date);const y=(u=o?.config)!==null&&u!==void 0?u:{};return y[u8]="firebase",y.update=!0,g!=null&&(y[c8]=g),s("config",p.measurementId,y),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e){this.app=e}_delete(){return delete Id[this.app.options.appId],Promise.resolve()}}let Id={},a_=[];const o_={};let Tx="dataLayer",F8="gtag",l_,zk,c_=!1;function L8(){const t=[];if(fk()&&t.push("This is a browser extension environment."),nP()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,s)=>`(${s+1}) ${n}`).join(" "),r=Vs.create("invalid-analytics-context",{errorInfo:e});vs.warn(r.message)}}function M8(t,e,r){L8();const n=t.options.appId;if(!n)throw Vs.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)vs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vs.create("no-api-key");if(Id[n]!=null)throw Vs.create("already-exists",{id:n});if(!c_){x8(Tx);const{wrappedGtag:i,gtagCore:o}=w8(Id,a_,o_,Tx,F8);zk=i,l_=o,c_=!0}return Id[n]=D8(t,a_,o_,e,l_,Tx,r),new O8(t)}function $8(t=Qp()){t=Er(t);const e=Go(t,Xf);return e.isInitialized()?e.getImmediate():V8(t)}function V8(t,e={}){const r=Go(t,Xf);if(r.isInitialized()){const s=r.getImmediate();if(Ro(e,r.getOptions()))return s;throw Vs.create("already-initialized")}return r.initialize({options:e})}function B8(t,e,r,n){t=Er(t),P8(zk,Id[t.app.options.appId],e,r,n).catch(s=>vs.error(s))}const u_="@firebase/analytics",d_="0.10.12";function U8(){Ri(new ci(Xf,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return M8(n,s,r)},"PUBLIC")),Ri(new ci("analytics-internal",t,"PRIVATE")),ys(u_,d_),ys(u_,d_,"esm2017");function t(e){try{const r=e.getProvider(Xf).getImmediate();return{logEvent:(n,s,i)=>B8(r,n,s,i)}}catch(r){throw Vs.create("interop-component-reg-failed",{reason:r})}}}U8();var h_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Io,Hk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,N){function C(){}C.prototype=N.prototype,A.D=N.prototype,A.prototype=new C,A.prototype.constructor=A,A.C=function(R,F,W){for(var V=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)V[Ee-2]=arguments[Ee];return N.prototype[F].apply(R,V)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,N,C){C||(C=0);var R=Array(16);if(typeof N=="string")for(var F=0;16>F;++F)R[F]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(F=0;16>F;++F)R[F]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=A.g[0],C=A.g[1],F=A.g[2];var W=A.g[3],V=N+(W^C&(F^W))+R[0]+3614090360&4294967295;N=C+(V<<7&4294967295|V>>>25),V=W+(F^N&(C^F))+R[1]+3905402710&4294967295,W=N+(V<<12&4294967295|V>>>20),V=F+(C^W&(N^C))+R[2]+606105819&4294967295,F=W+(V<<17&4294967295|V>>>15),V=C+(N^F&(W^N))+R[3]+3250441966&4294967295,C=F+(V<<22&4294967295|V>>>10),V=N+(W^C&(F^W))+R[4]+4118548399&4294967295,N=C+(V<<7&4294967295|V>>>25),V=W+(F^N&(C^F))+R[5]+1200080426&4294967295,W=N+(V<<12&4294967295|V>>>20),V=F+(C^W&(N^C))+R[6]+2821735955&4294967295,F=W+(V<<17&4294967295|V>>>15),V=C+(N^F&(W^N))+R[7]+4249261313&4294967295,C=F+(V<<22&4294967295|V>>>10),V=N+(W^C&(F^W))+R[8]+1770035416&4294967295,N=C+(V<<7&4294967295|V>>>25),V=W+(F^N&(C^F))+R[9]+2336552879&4294967295,W=N+(V<<12&4294967295|V>>>20),V=F+(C^W&(N^C))+R[10]+4294925233&4294967295,F=W+(V<<17&4294967295|V>>>15),V=C+(N^F&(W^N))+R[11]+2304563134&4294967295,C=F+(V<<22&4294967295|V>>>10),V=N+(W^C&(F^W))+R[12]+1804603682&4294967295,N=C+(V<<7&4294967295|V>>>25),V=W+(F^N&(C^F))+R[13]+4254626195&4294967295,W=N+(V<<12&4294967295|V>>>20),V=F+(C^W&(N^C))+R[14]+2792965006&4294967295,F=W+(V<<17&4294967295|V>>>15),V=C+(N^F&(W^N))+R[15]+1236535329&4294967295,C=F+(V<<22&4294967295|V>>>10),V=N+(F^W&(C^F))+R[1]+4129170786&4294967295,N=C+(V<<5&4294967295|V>>>27),V=W+(C^F&(N^C))+R[6]+3225465664&4294967295,W=N+(V<<9&4294967295|V>>>23),V=F+(N^C&(W^N))+R[11]+643717713&4294967295,F=W+(V<<14&4294967295|V>>>18),V=C+(W^N&(F^W))+R[0]+3921069994&4294967295,C=F+(V<<20&4294967295|V>>>12),V=N+(F^W&(C^F))+R[5]+3593408605&4294967295,N=C+(V<<5&4294967295|V>>>27),V=W+(C^F&(N^C))+R[10]+38016083&4294967295,W=N+(V<<9&4294967295|V>>>23),V=F+(N^C&(W^N))+R[15]+3634488961&4294967295,F=W+(V<<14&4294967295|V>>>18),V=C+(W^N&(F^W))+R[4]+3889429448&4294967295,C=F+(V<<20&4294967295|V>>>12),V=N+(F^W&(C^F))+R[9]+568446438&4294967295,N=C+(V<<5&4294967295|V>>>27),V=W+(C^F&(N^C))+R[14]+3275163606&4294967295,W=N+(V<<9&4294967295|V>>>23),V=F+(N^C&(W^N))+R[3]+4107603335&4294967295,F=W+(V<<14&4294967295|V>>>18),V=C+(W^N&(F^W))+R[8]+1163531501&4294967295,C=F+(V<<20&4294967295|V>>>12),V=N+(F^W&(C^F))+R[13]+2850285829&4294967295,N=C+(V<<5&4294967295|V>>>27),V=W+(C^F&(N^C))+R[2]+4243563512&4294967295,W=N+(V<<9&4294967295|V>>>23),V=F+(N^C&(W^N))+R[7]+1735328473&4294967295,F=W+(V<<14&4294967295|V>>>18),V=C+(W^N&(F^W))+R[12]+2368359562&4294967295,C=F+(V<<20&4294967295|V>>>12),V=N+(C^F^W)+R[5]+4294588738&4294967295,N=C+(V<<4&4294967295|V>>>28),V=W+(N^C^F)+R[8]+2272392833&4294967295,W=N+(V<<11&4294967295|V>>>21),V=F+(W^N^C)+R[11]+1839030562&4294967295,F=W+(V<<16&4294967295|V>>>16),V=C+(F^W^N)+R[14]+4259657740&4294967295,C=F+(V<<23&4294967295|V>>>9),V=N+(C^F^W)+R[1]+2763975236&4294967295,N=C+(V<<4&4294967295|V>>>28),V=W+(N^C^F)+R[4]+1272893353&4294967295,W=N+(V<<11&4294967295|V>>>21),V=F+(W^N^C)+R[7]+4139469664&4294967295,F=W+(V<<16&4294967295|V>>>16),V=C+(F^W^N)+R[10]+3200236656&4294967295,C=F+(V<<23&4294967295|V>>>9),V=N+(C^F^W)+R[13]+681279174&4294967295,N=C+(V<<4&4294967295|V>>>28),V=W+(N^C^F)+R[0]+3936430074&4294967295,W=N+(V<<11&4294967295|V>>>21),V=F+(W^N^C)+R[3]+3572445317&4294967295,F=W+(V<<16&4294967295|V>>>16),V=C+(F^W^N)+R[6]+76029189&4294967295,C=F+(V<<23&4294967295|V>>>9),V=N+(C^F^W)+R[9]+3654602809&4294967295,N=C+(V<<4&4294967295|V>>>28),V=W+(N^C^F)+R[12]+3873151461&4294967295,W=N+(V<<11&4294967295|V>>>21),V=F+(W^N^C)+R[15]+530742520&4294967295,F=W+(V<<16&4294967295|V>>>16),V=C+(F^W^N)+R[2]+3299628645&4294967295,C=F+(V<<23&4294967295|V>>>9),V=N+(F^(C|~W))+R[0]+4096336452&4294967295,N=C+(V<<6&4294967295|V>>>26),V=W+(C^(N|~F))+R[7]+1126891415&4294967295,W=N+(V<<10&4294967295|V>>>22),V=F+(N^(W|~C))+R[14]+2878612391&4294967295,F=W+(V<<15&4294967295|V>>>17),V=C+(W^(F|~N))+R[5]+4237533241&4294967295,C=F+(V<<21&4294967295|V>>>11),V=N+(F^(C|~W))+R[12]+1700485571&4294967295,N=C+(V<<6&4294967295|V>>>26),V=W+(C^(N|~F))+R[3]+2399980690&4294967295,W=N+(V<<10&4294967295|V>>>22),V=F+(N^(W|~C))+R[10]+4293915773&4294967295,F=W+(V<<15&4294967295|V>>>17),V=C+(W^(F|~N))+R[1]+2240044497&4294967295,C=F+(V<<21&4294967295|V>>>11),V=N+(F^(C|~W))+R[8]+1873313359&4294967295,N=C+(V<<6&4294967295|V>>>26),V=W+(C^(N|~F))+R[15]+4264355552&4294967295,W=N+(V<<10&4294967295|V>>>22),V=F+(N^(W|~C))+R[6]+2734768916&4294967295,F=W+(V<<15&4294967295|V>>>17),V=C+(W^(F|~N))+R[13]+1309151649&4294967295,C=F+(V<<21&4294967295|V>>>11),V=N+(F^(C|~W))+R[4]+4149444226&4294967295,N=C+(V<<6&4294967295|V>>>26),V=W+(C^(N|~F))+R[11]+3174756917&4294967295,W=N+(V<<10&4294967295|V>>>22),V=F+(N^(W|~C))+R[2]+718787259&4294967295,F=W+(V<<15&4294967295|V>>>17),V=C+(W^(F|~N))+R[9]+3951481745&4294967295,A.g[0]=A.g[0]+N&4294967295,A.g[1]=A.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,A.g[2]=A.g[2]+F&4294967295,A.g[3]=A.g[3]+W&4294967295}n.prototype.u=function(A,N){N===void 0&&(N=A.length);for(var C=N-this.blockSize,R=this.B,F=this.h,W=0;W<N;){if(F==0)for(;W<=C;)s(this,A,W),W+=this.blockSize;if(typeof A=="string"){for(;W<N;)if(R[F++]=A.charCodeAt(W++),F==this.blockSize){s(this,R),F=0;break}}else for(;W<N;)if(R[F++]=A[W++],F==this.blockSize){s(this,R),F=0;break}}this.h=F,this.o+=N},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var N=1;N<A.length-8;++N)A[N]=0;var C=8*this.o;for(N=A.length-8;N<A.length;++N)A[N]=C&255,C/=256;for(this.u(A),A=Array(16),N=C=0;4>N;++N)for(var R=0;32>R;R+=8)A[C++]=this.g[N]>>>R&255;return A};function i(A,N){var C=u;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=N(A)}function o(A,N){this.h=N;for(var C=[],R=!0,F=A.length-1;0<=F;F--){var W=A[F]|0;R&&W==N||(C[F]=W,R=!1)}this.g=C}var u={};function d(A){return-128<=A&&128>A?i(A,function(N){return new o([N|0],0>N?-1:0)}):new o([A|0],0>A?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return g;if(0>A)return E(h(-A));for(var N=[],C=1,R=0;A>=C;R++)N[R]=A/C|0,C*=4294967296;return new o(N,0)}function p(A,N){if(A.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(A.charAt(0)=="-")return E(p(A.substring(1),N));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=h(Math.pow(N,8)),R=g,F=0;F<A.length;F+=8){var W=Math.min(8,A.length-F),V=parseInt(A.substring(F,F+W),N);8>W?(W=h(Math.pow(N,W)),R=R.j(W).add(h(V))):(R=R.j(C),R=R.add(h(V)))}return R}var g=d(0),y=d(1),v=d(16777216);t=o.prototype,t.m=function(){if(w(this))return-E(this).m();for(var A=0,N=1,C=0;C<this.g.length;C++){var R=this.i(C);A+=(0<=R?R:4294967296+R)*N,N*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(T(this))return"0";if(w(this))return"-"+E(this).toString(A);for(var N=h(Math.pow(A,6)),C=this,R="";;){var F=P(C,N).g;C=O(C,F.j(N));var W=((0<C.g.length?C.g[0]:C.h)>>>0).toString(A);if(C=F,T(C))return W+R;for(;6>W.length;)W="0"+W;R=W+R}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function T(A){if(A.h!=0)return!1;for(var N=0;N<A.g.length;N++)if(A.g[N]!=0)return!1;return!0}function w(A){return A.h==-1}t.l=function(A){return A=O(this,A),w(A)?-1:T(A)?0:1};function E(A){for(var N=A.g.length,C=[],R=0;R<N;R++)C[R]=~A.g[R];return new o(C,~A.h).add(y)}t.abs=function(){return w(this)?E(this):this},t.add=function(A){for(var N=Math.max(this.g.length,A.g.length),C=[],R=0,F=0;F<=N;F++){var W=R+(this.i(F)&65535)+(A.i(F)&65535),V=(W>>>16)+(this.i(F)>>>16)+(A.i(F)>>>16);R=V>>>16,W&=65535,V&=65535,C[F]=V<<16|W}return new o(C,C[C.length-1]&-2147483648?-1:0)};function O(A,N){return A.add(E(N))}t.j=function(A){if(T(this)||T(A))return g;if(w(this))return w(A)?E(this).j(E(A)):E(E(this).j(A));if(w(A))return E(this.j(E(A)));if(0>this.l(v)&&0>A.l(v))return h(this.m()*A.m());for(var N=this.g.length+A.g.length,C=[],R=0;R<2*N;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var F=0;F<A.g.length;F++){var W=this.i(R)>>>16,V=this.i(R)&65535,Ee=A.i(F)>>>16,Pe=A.i(F)&65535;C[2*R+2*F]+=V*Pe,M(C,2*R+2*F),C[2*R+2*F+1]+=W*Pe,M(C,2*R+2*F+1),C[2*R+2*F+1]+=V*Ee,M(C,2*R+2*F+1),C[2*R+2*F+2]+=W*Ee,M(C,2*R+2*F+2)}for(R=0;R<N;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=N;R<2*N;R++)C[R]=0;return new o(C,0)};function M(A,N){for(;(A[N]&65535)!=A[N];)A[N+1]+=A[N]>>>16,A[N]&=65535,N++}function U(A,N){this.g=A,this.h=N}function P(A,N){if(T(N))throw Error("division by zero");if(T(A))return new U(g,g);if(w(A))return N=P(E(A),N),new U(E(N.g),E(N.h));if(w(N))return N=P(A,E(N)),new U(E(N.g),N.h);if(30<A.g.length){if(w(A)||w(N))throw Error("slowDivide_ only works with positive integers.");for(var C=y,R=N;0>=R.l(A);)C=X(C),R=X(R);var F=B(C,1),W=B(R,1);for(R=B(R,2),C=B(C,2);!T(R);){var V=W.add(R);0>=V.l(A)&&(F=F.add(C),W=V),R=B(R,1),C=B(C,1)}return N=O(A,F.j(N)),new U(F,N)}for(F=g;0<=A.l(N);){for(C=Math.max(1,Math.floor(A.m()/N.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),W=h(C),V=W.j(N);w(V)||0<V.l(A);)C-=R,W=h(C),V=W.j(N);T(W)&&(W=y),F=F.add(W),A=O(A,V)}return new U(F,A)}t.A=function(A){return P(this,A).h},t.and=function(A){for(var N=Math.max(this.g.length,A.g.length),C=[],R=0;R<N;R++)C[R]=this.i(R)&A.i(R);return new o(C,this.h&A.h)},t.or=function(A){for(var N=Math.max(this.g.length,A.g.length),C=[],R=0;R<N;R++)C[R]=this.i(R)|A.i(R);return new o(C,this.h|A.h)},t.xor=function(A){for(var N=Math.max(this.g.length,A.g.length),C=[],R=0;R<N;R++)C[R]=this.i(R)^A.i(R);return new o(C,this.h^A.h)};function X(A){for(var N=A.g.length+1,C=[],R=0;R<N;R++)C[R]=A.i(R)<<1|A.i(R-1)>>>31;return new o(C,A.h)}function B(A,N){var C=N>>5;N%=32;for(var R=A.g.length-C,F=[],W=0;W<R;W++)F[W]=0<N?A.i(W+C)>>>N|A.i(W+C+1)<<32-N:A.i(W+C);return new o(F,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Hk=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=p,Io=o}).apply(typeof h_<"u"?h_:typeof self<"u"?self:typeof window<"u"?window:{});var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wk,Ed,qk,jf,cy,Gk,Kk,Xk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,_,I){return m==Array.prototype||m==Object.prototype||(m[_]=I.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof cf=="object"&&cf];for(var _=0;_<m.length;++_){var I=m[_];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var n=r(this);function s(m,_){if(_)e:{var I=n;m=m.split(".");for(var q=0;q<m.length-1;q++){var he=m[q];if(!(he in I))break e;I=I[he]}m=m[m.length-1],q=I[m],_=_(q),_!=q&&_!=null&&e(I,m,{configurable:!0,writable:!0,value:_})}}function i(m,_){m instanceof String&&(m+="");var I=0,q=!1,he={next:function(){if(!q&&I<m.length){var _e=I++;return{value:_(_e,m[_e]),done:!1}}return q=!0,{done:!0,value:void 0}}};return he[Symbol.iterator]=function(){return he},he}s("Array.prototype.values",function(m){return m||function(){return i(this,function(_,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function d(m){var _=typeof m;return _=_!="object"?_:m?Array.isArray(m)?"array":_:"null",_=="array"||_=="object"&&typeof m.length=="number"}function h(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function p(m,_,I){return m.call.apply(m.bind,arguments)}function g(m,_,I){if(!m)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var he=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(he,q),m.apply(_,he)}}return function(){return m.apply(_,arguments)}}function y(m,_,I){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,y.apply(null,arguments)}function v(m,_){var I=Array.prototype.slice.call(arguments,1);return function(){var q=I.slice();return q.push.apply(q,arguments),m.apply(this,q)}}function T(m,_){function I(){}I.prototype=_.prototype,m.aa=_.prototype,m.prototype=new I,m.prototype.constructor=m,m.Qb=function(q,he,_e){for(var et=Array(arguments.length-2),lr=2;lr<arguments.length;lr++)et[lr-2]=arguments[lr];return _.prototype[he].apply(q,et)}}function w(m){const _=m.length;if(0<_){const I=Array(_);for(let q=0;q<_;q++)I[q]=m[q];return I}return[]}function E(m,_){for(let I=1;I<arguments.length;I++){const q=arguments[I];if(d(q)){const he=m.length||0,_e=q.length||0;m.length=he+_e;for(let et=0;et<_e;et++)m[he+et]=q[et]}else m.push(q)}}class O{constructor(_,I){this.i=_,this.j=I,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(m){return/^[\s\xa0]*$/.test(m)}function U(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function P(m){return P[" "](m),m}P[" "]=function(){};var X=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function B(m,_,I){for(const q in m)_.call(I,m[q],q,m)}function A(m,_){for(const I in m)_.call(void 0,m[I],I,m)}function N(m){const _={};for(const I in m)_[I]=m[I];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(m,_){let I,q;for(let he=1;he<arguments.length;he++){q=arguments[he];for(I in q)m[I]=q[I];for(let _e=0;_e<C.length;_e++)I=C[_e],Object.prototype.hasOwnProperty.call(q,I)&&(m[I]=q[I])}}function F(m){var _=1;m=m.split(":");const I=[];for(;0<_&&m.length;)I.push(m.shift()),_--;return m.length&&I.push(m.join(":")),I}function W(m){u.setTimeout(()=>{throw m},0)}function V(){var m=se;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class Ee{constructor(){this.h=this.g=null}add(_,I){const q=Pe.get();q.set(_,I),this.h?this.h.next=q:this.g=q,this.h=q}}var Pe=new O(()=>new ze,m=>m.reset());class ze{constructor(){this.next=this.g=this.h=null}set(_,I){this.h=_,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let Le,we=!1,se=new Ee,de=()=>{const m=u.Promise.resolve(void 0);Le=()=>{m.then(ne)}};var ne=()=>{for(var m;m=V();){try{m.h.call(m.g)}catch(I){W(I)}var _=Pe;_.j(m),100>_.h&&(_.h++,m.next=_.g,_.g=m)}we=!1};function D(){this.s=this.s,this.C=this.C}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var J=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const I=()=>{};u.addEventListener("test",I,_),u.removeEventListener("test",I,_)}catch{}return m})();function ee(m,_){if(Y.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var I=this.type=m.type,q=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget){if(X){e:{try{P(_.nodeName);var he=!0;break e}catch{}he=!1}he||(_=null)}}else I=="mouseover"?_=m.fromElement:I=="mouseout"&&(_=m.toElement);this.relatedTarget=_,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ie[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ee.aa.h.call(this)}}T(ee,Y);var ie={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),De=0;function ke(m,_,I,q,he){this.listener=m,this.proxy=null,this.src=_,this.type=I,this.capture=!!q,this.ha=he,this.key=++De,this.da=this.fa=!1}function je(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function nt(m){this.src=m,this.g={},this.h=0}nt.prototype.add=function(m,_,I,q,he){var _e=m.toString();m=this.g[_e],m||(m=this.g[_e]=[],this.h++);var et=pt(m,_,q,he);return-1<et?(_=m[et],I||(_.fa=!1)):(_=new ke(_,this.src,_e,!!q,he),_.fa=I,m.push(_)),_};function dt(m,_){var I=_.type;if(I in m.g){var q=m.g[I],he=Array.prototype.indexOf.call(q,_,void 0),_e;(_e=0<=he)&&Array.prototype.splice.call(q,he,1),_e&&(je(_),m.g[I].length==0&&(delete m.g[I],m.h--))}}function pt(m,_,I,q){for(var he=0;he<m.length;++he){var _e=m[he];if(!_e.da&&_e.listener==_&&_e.capture==!!I&&_e.ha==q)return he}return-1}var Fe="closure_lm_"+(1e6*Math.random()|0),wr={};function Dt(m,_,I,q,he){if(Array.isArray(_)){for(var _e=0;_e<_.length;_e++)Dt(m,_[_e],I,q,he);return null}return I=bt(I),m&&m[Ae]?m.K(_,I,h(q)?!!q.capture:!1,he):Ge(m,_,I,!1,q,he)}function Ge(m,_,I,q,he,_e){if(!_)throw Error("Invalid event type");var et=h(he)?!!he.capture:!!he,lr=ct(m);if(lr||(m[Fe]=lr=new nt(m)),I=lr.add(_,I,q,et,_e),I.proxy)return I;if(q=ar(),I.proxy=q,q.src=m,q.listener=I,m.addEventListener)J||(he=et),he===void 0&&(he=!1),m.addEventListener(_.toString(),q,he);else if(m.attachEvent)m.attachEvent(le(_.toString()),q);else if(m.addListener&&m.removeListener)m.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return I}function ar(){function m(I){return _.call(m.src,m.listener,I)}const _=Ze;return m}function St(m,_,I,q,he){if(Array.isArray(_))for(var _e=0;_e<_.length;_e++)St(m,_[_e],I,q,he);else q=h(q)?!!q.capture:!!q,I=bt(I),m&&m[Ae]?(m=m.i,_=String(_).toString(),_ in m.g&&(_e=m.g[_],I=pt(_e,I,q,he),-1<I&&(je(_e[I]),Array.prototype.splice.call(_e,I,1),_e.length==0&&(delete m.g[_],m.h--)))):m&&(m=ct(m))&&(_=m.g[_.toString()],m=-1,_&&(m=pt(_,I,q,he)),(I=-1<m?_[m]:null)&&Kt(I))}function Kt(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[Ae])dt(_.i,m);else{var I=m.type,q=m.proxy;_.removeEventListener?_.removeEventListener(I,q,m.capture):_.detachEvent?_.detachEvent(le(I),q):_.addListener&&_.removeListener&&_.removeListener(q),(I=ct(_))?(dt(I,m),I.h==0&&(I.src=null,_[Fe]=null)):je(m)}}}function le(m){return m in wr?wr[m]:wr[m]="on"+m}function Ze(m,_){if(m.da)m=!0;else{_=new ee(_,this);var I=m.listener,q=m.ha||m.src;m.fa&&Kt(m),m=I.call(q,_)}return m}function ct(m){return m=m[Fe],m instanceof nt?m:null}var it="__closure_events_fn_"+(1e9*Math.random()>>>0);function bt(m){return typeof m=="function"?m:(m[it]||(m[it]=function(_){return m.handleEvent(_)}),m[it])}function mt(){D.call(this),this.i=new nt(this),this.M=this,this.F=null}T(mt,D),mt.prototype[Ae]=!0,mt.prototype.removeEventListener=function(m,_,I,q){St(this,m,_,I,q)};function tt(m,_){var I,q=m.F;if(q)for(I=[];q;q=q.F)I.push(q);if(m=m.M,q=_.type||_,typeof _=="string")_=new Y(_,m);else if(_ instanceof Y)_.target=_.target||m;else{var he=_;_=new Y(q,m),R(_,he)}if(he=!0,I)for(var _e=I.length-1;0<=_e;_e--){var et=_.g=I[_e];he=ht(et,q,!0,_)&&he}if(et=_.g=m,he=ht(et,q,!0,_)&&he,he=ht(et,q,!1,_)&&he,I)for(_e=0;_e<I.length;_e++)et=_.g=I[_e],he=ht(et,q,!1,_)&&he}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var m=this.i,_;for(_ in m.g){for(var I=m.g[_],q=0;q<I.length;q++)je(I[q]);delete m.g[_],m.h--}}this.F=null},mt.prototype.K=function(m,_,I,q){return this.i.add(String(m),_,!1,I,q)},mt.prototype.L=function(m,_,I,q){return this.i.add(String(m),_,!0,I,q)};function ht(m,_,I,q){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();for(var he=!0,_e=0;_e<_.length;++_e){var et=_[_e];if(et&&!et.da&&et.capture==I){var lr=et.listener,an=et.ha||et.src;et.fa&&dt(m.i,et),he=lr.call(an,q)!==!1&&he}}return he&&!q.defaultPrevented}function Se(m,_,I){if(typeof m=="function")I&&(m=y(m,I));else if(m&&typeof m.handleEvent=="function")m=y(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(m,_||0)}function ye(m){m.g=Se(()=>{m.g=null,m.i&&(m.i=!1,ye(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class Ce extends D{constructor(_,I){super(),this.m=_,this.l=I,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ye(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xe(m){D.call(this),this.h=m,this.g={}}T(Xe,D);var wt=[];function Ht(m){B(m.g,function(_,I){this.g.hasOwnProperty(I)&&Kt(_)},m),m.g={}}Xe.prototype.N=function(){Xe.aa.N.call(this),Ht(this)},Xe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lt=u.JSON.stringify,Ot=u.JSON.parse,xt=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function jr(){}jr.prototype.h=null;function rr(m){return m.h||(m.h=m.i())}function kt(){}var $t={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ft(){Y.call(this,"d")}T(Ft,Y);function Tr(){Y.call(this,"c")}T(Tr,Y);var kr={},is=null;function Ts(){return is=is||new mt}kr.La="serverreachability";function Ws(m){Y.call(this,kr.La,m)}T(Ws,Y);function dn(m){const _=Ts();tt(_,new Ws(_))}kr.STAT_EVENT="statevent";function qs(m,_){Y.call(this,kr.STAT_EVENT,m),this.stat=_}T(qs,Y);function mr(m){const _=Ts();tt(_,new qs(_,m))}kr.Ma="timingevent";function as(m,_){Y.call(this,kr.Ma,m),this.size=_}T(as,Y);function Gr(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},_)}function ks(){this.g=!0}ks.prototype.xa=function(){this.g=!1};function be(m,_,I,q,he,_e){m.info(function(){if(m.g)if(_e)for(var et="",lr=_e.split("&"),an=0;an<lr.length;an++){var Yt=lr[an].split("=");if(1<Yt.length){var hn=Yt[0];Yt=Yt[1];var Jr=hn.split("_");et=2<=Jr.length&&Jr[1]=="type"?et+(hn+"="+Yt+"&"):et+(hn+"=redacted&")}}else et=null;else et=_e;return"XMLHTTP REQ ("+q+") [attempt "+he+"]: "+_+`
`+I+`
`+et})}function Ne(m,_,I,q,he,_e,et){m.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+he+"]: "+_+`
`+I+`
`+_e+" "+et})}function j(m,_,I,q){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+H(m,I)+(q?" "+q:"")})}function z(m,_){m.info(function(){return"TIMEOUT: "+_})}ks.prototype.info=function(){};function H(m,_){if(!m.g)return _;if(!_)return null;try{var I=JSON.parse(_);if(I){for(m=0;m<I.length;m++)if(Array.isArray(I[m])){var q=I[m];if(!(2>q.length)){var he=q[1];if(Array.isArray(he)&&!(1>he.length)){var _e=he[0];if(_e!="noop"&&_e!="stop"&&_e!="close")for(var et=1;et<he.length;et++)he[et]=""}}}}return Lt(I)}catch{return _}}var G={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Z={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Q;function ce(){}T(ce,jr),ce.prototype.g=function(){return new XMLHttpRequest},ce.prototype.i=function(){return{}},Q=new ce;function me(m,_,I,q){this.j=m,this.i=_,this.l=I,this.R=q||1,this.U=new Xe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var pe={},ge={};function Oe(m,_,I){m.L=1,m.v=Ja(Ss(_)),m.m=I,m.P=!0,Ye(m,null)}function Ye(m,_){m.F=Date.now(),Be(m),m.A=Ss(m.v);var I=m.A,q=m.R;Array.isArray(q)||(q=[String(q)]),eo(I.i,"t",q),m.C=0,I=m.j.J,m.h=new ue,m.g=uh(m.j,I?_:null,!m.m),0<m.O&&(m.M=new Ce(y(m.Y,m,m.g),m.O)),_=m.U,I=m.g,q=m.ca;var he="readystatechange";Array.isArray(he)||(he&&(wt[0]=he.toString()),he=wt);for(var _e=0;_e<he.length;_e++){var et=Dt(I,he[_e],q||_.handleEvent,!1,_.h||_);if(!et)break;_.g[et.key]=et}_=m.H?N(m.H):{},m.m?(m.u||(m.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,_)):(m.u="GET",m.g.ea(m.A,m.u,null,_)),dn(),be(m.i,m.u,m.A,m.l,m.R,m.m)}me.prototype.ca=function(m){m=m.target;const _=this.M;_&&ls(m)==3?_.j():this.Y(m)},me.prototype.Y=function(m){try{if(m==this.g)e:{const Jr=ls(this.g);var _=this.g.Ba();const Xs=this.g.Z();if(!(3>Jr)&&(Jr!=3||this.g&&(this.h.h||this.g.oa()||zu(this.g)))){this.J||Jr!=4||_==7||(_==8||0>=Xs?dn(3):dn(2)),Zt(this);var I=this.g.Z();this.X=I;t:if(rt(this)){var q=zu(this.g);m="";var he=q.length,_e=ls(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){er(this),Xt(this);var et="";break t}this.h.i=new u.TextDecoder}for(_=0;_<he;_++)this.h.h=!0,m+=this.h.i.decode(q[_],{stream:!(_e&&_==he-1)});q.length=0,this.h.g+=m,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=I==200,Ne(this.i,this.u,this.A,this.l,this.R,Jr,I),this.o){if(this.T&&!this.K){t:{if(this.g){var lr,an=this.g;if((lr=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(lr)){var Yt=lr;break t}}Yt=null}if(I=Yt)j(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ns(this,I);else{this.o=!1,this.s=3,mr(12),er(this),Xt(this);break e}}if(this.P){I=!0;let Cs;for(;!this.J&&this.C<et.length;)if(Cs=He(this,et),Cs==ge){Jr==4&&(this.s=4,mr(14),I=!1),j(this.i,this.l,null,"[Incomplete Response]");break}else if(Cs==pe){this.s=4,mr(15),j(this.i,this.l,et,"[Invalid Chunk]"),I=!1;break}else j(this.i,this.l,Cs,null),Ns(this,Cs);if(rt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jr!=4||et.length!=0||this.h.h||(this.s=1,mr(16),I=!1),this.o=this.o&&I,!I)j(this.i,this.l,et,"[Invalid Chunked Response]"),er(this),Xt(this);else if(0<et.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),Wu(hn),hn.M=!0,mr(11))}}else j(this.i,this.l,et,null),Ns(this,et);Jr==4&&er(this),this.o&&!this.J&&(Jr==4?mc(this.j,this):(this.o=!1,Be(this)))}else uc(this.g),I==400&&0<et.indexOf("Unknown SID")?(this.s=3,mr(12)):(this.s=0,mr(13)),er(this),Xt(this)}}}catch{}finally{}};function rt(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function He(m,_){var I=m.C,q=_.indexOf(`
`,I);return q==-1?ge:(I=Number(_.substring(I,q)),isNaN(I)?pe:(q+=1,q+I>_.length?ge:(_=_.slice(q,q+I),m.C=q+I,_)))}me.prototype.cancel=function(){this.J=!0,er(this)};function Be(m){m.S=Date.now()+m.I,Nt(m,m.I)}function Nt(m,_){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Gr(y(m.ba,m),_)}function Zt(m){m.B&&(u.clearTimeout(m.B),m.B=null)}me.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(z(this.i,this.A),this.L!=2&&(dn(),mr(17)),er(this),this.s=2,Xt(this)):Nt(this,this.S-m)};function Xt(m){m.j.G==0||m.J||mc(m.j,m)}function er(m){Zt(m);var _=m.M;_&&typeof _.ma=="function"&&_.ma(),m.M=null,Ht(m.U),m.g&&(_=m.g,m.g=null,_.abort(),_.ma())}function Ns(m,_){try{var I=m.j;if(I.G!=0&&(I.g==m||Nr(I.h,m))){if(!m.K&&Nr(I.h,m)&&I.G==3){try{var q=I.Da.g.parse(_)}catch{q=null}if(Array.isArray(q)&&q.length==3){var he=q;if(he[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<m.F)pc(I),gi(I);else break e;fc(I),mr(18)}}else I.za=he[1],0<I.za-I.T&&37500>he[2]&&I.F&&I.v==0&&!I.C&&(I.C=Gr(y(I.Za,I),6e3));if(1>=Ka(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else xa(I,11)}else if((m.K||I.g==m)&&pc(I),!M(_))for(he=I.Da.g.parse(_),_=0;_<he.length;_++){let Yt=he[_];if(I.T=Yt[0],Yt=Yt[1],I.G==2)if(Yt[0]=="c"){I.K=Yt[1],I.ia=Yt[2];const hn=Yt[3];hn!=null&&(I.la=hn,I.j.info("VER="+I.la));const Jr=Yt[4];Jr!=null&&(I.Aa=Jr,I.j.info("SVER="+I.Aa));const Xs=Yt[5];Xs!=null&&typeof Xs=="number"&&0<Xs&&(q=1.5*Xs,I.L=q,I.j.info("backChannelRequestTimeoutMs_="+q)),q=I;const Cs=m.g;if(Cs){const sl=Cs.g?Cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sl){var _e=q.h;_e.g||sl.indexOf("spdy")==-1&&sl.indexOf("quic")==-1&&sl.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&($u(_e,_e.h),_e.h=null))}if(q.D){const xc=Cs.g?Cs.g.getResponseHeader("X-HTTP-Session-Id"):null;xc&&(q.ya=xc,yr(q.I,q.D,xc))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-m.F,I.j.info("Handshake RTT: "+I.R+"ms")),q=I;var et=m;if(q.qa=ch(q,q.J?q.ia:null,q.W),et.K){Q0(q.h,et);var lr=et,an=q.L;an&&(lr.I=an),lr.B&&(Zt(lr),Be(lr)),q.g=et}else nl(q);0<I.i.length&&Ui(I)}else Yt[0]!="stop"&&Yt[0]!="close"||xa(I,7);else I.G==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?xa(I,7):En(I):Yt[0]!="noop"&&I.l&&I.l.ta(Yt),I.v=0)}}dn(4)}catch{}}var Gs=class{constructor(m,_){this.g=m,this.map=_}};function Xn(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Or(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Ka(m){return m.h?1:m.g?m.g.size:0}function Nr(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function $u(m,_){m.g?m.g.add(_):m.h=_}function Q0(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}Xn.prototype.cancel=function(){if(this.i=J0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function J0(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const I of m.g.values())_=_.concat(I.D);return _}return w(m.i)}function ic(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(d(m)){for(var _=[],I=m.length,q=0;q<I;q++)_.push(m[q]);return _}_=[],I=0;for(q in m)_[I++]=m[q];return _}function ac(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(d(m)||typeof m=="string"){var _=[];m=m.length;for(var I=0;I<m;I++)_.push(I);return _}_=[],I=0;for(const q in m)_[I++]=q;return _}}}function Xa(m,_){if(m.forEach&&typeof m.forEach=="function")m.forEach(_,void 0);else if(d(m)||typeof m=="string")Array.prototype.forEach.call(m,_,void 0);else for(var I=ac(m),q=ic(m),he=q.length,_e=0;_e<he;_e++)_.call(void 0,q[_e],I&&I[_e],m)}var Zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vm(m,_){if(m){m=m.split("&");for(var I=0;I<m.length;I++){var q=m[I].indexOf("="),he=null;if(0<=q){var _e=m[I].substring(0,q);he=m[I].substring(q+1)}else _e=m[I];_(_e,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function fa(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof fa){this.h=m.h,el(this,m.j),this.o=m.o,this.g=m.g,Ya(this,m.s),this.l=m.l;var _=m.i,I=new $i;I.i=_.i,_.g&&(I.g=new Map(_.g),I.h=_.h),Qa(this,I),this.m=m.m}else m&&(_=String(m).match(Zo))?(this.h=!1,el(this,_[1]||"",!0),this.o=Gt(_[2]||""),this.g=Gt(_[3]||"",!0),Ya(this,_[4]),this.l=Gt(_[5]||"",!0),Qa(this,_[6]||"",!0),this.m=Gt(_[7]||"")):(this.h=!1,this.i=new $i(null,this.h))}fa.prototype.toString=function(){var m=[],_=this.j;_&&m.push(Za(_,oc,!0),":");var I=this.g;return(I||_=="file")&&(m.push("//"),(_=this.o)&&m.push(Za(_,oc,!0),"@"),m.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&m.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&m.push("/"),m.push(Za(I,I.charAt(0)=="/"?th:eh,!0))),(I=this.i.toString())&&m.push("?",I),(I=this.m)&&m.push("#",Za(I,Vu)),m.join("")};function Ss(m){return new fa(m)}function el(m,_,I){m.j=I?Gt(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function Ya(m,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);m.s=_}else m.s=null}function Qa(m,_,I){_ instanceof $i?(m.i=_,Vi(m.i,m.h)):(I||(_=Za(_,rh)),m.i=new $i(_,m.h))}function yr(m,_,I){m.i.set(_,I)}function Ja(m){return yr(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Gt(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Za(m,_,I){return typeof m=="string"?(m=encodeURI(m).replace(_,Z0),I&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Z0(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var oc=/[#\/\?@]/g,eh=/[#\?:]/g,th=/[#\?]/g,rh=/[#\?@]/g,Vu=/#/g;function $i(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function _n(m){m.g||(m.g=new Map,m.h=0,m.i&&Vm(m.i,function(_,I){m.add(decodeURIComponent(_.replace(/\+/g," ")),I)}))}t=$i.prototype,t.add=function(m,_){_n(this),this.i=null,m=Ks(this,m);var I=this.g.get(m);return I||this.g.set(m,I=[]),I.push(_),this.h+=1,this};function hi(m,_){_n(m),_=Ks(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function fi(m,_){return _n(m),_=Ks(m,_),m.g.has(_)}t.forEach=function(m,_){_n(this),this.g.forEach(function(I,q){I.forEach(function(he){m.call(_,he,q,this)},this)},this)},t.na=function(){_n(this);const m=Array.from(this.g.values()),_=Array.from(this.g.keys()),I=[];for(let q=0;q<_.length;q++){const he=m[q];for(let _e=0;_e<he.length;_e++)I.push(_[q])}return I},t.V=function(m){_n(this);let _=[];if(typeof m=="string")fi(this,m)&&(_=_.concat(this.g.get(Ks(this,m))));else{m=Array.from(this.g.values());for(let I=0;I<m.length;I++)_=_.concat(m[I])}return _},t.set=function(m,_){return _n(this),this.i=null,m=Ks(this,m),fi(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},t.get=function(m,_){return m?(m=this.V(m),0<m.length?String(m[0]):_):_};function eo(m,_,I){hi(m,_),0<I.length&&(m.i=null,m.g.set(Ks(m,_),w(I)),m.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(var I=0;I<_.length;I++){var q=_[I];const _e=encodeURIComponent(String(q)),et=this.V(q);for(q=0;q<et.length;q++){var he=_e;et[q]!==""&&(he+="="+encodeURIComponent(String(et[q]))),m.push(he)}}return this.i=m.join("&")};function Ks(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function Vi(m,_){_&&!m.j&&(_n(m),m.i=null,m.g.forEach(function(I,q){var he=q.toLowerCase();q!=he&&(hi(this,q),eo(this,he,I))},m)),m.j=_}function Bm(m,_){const I=new ks;if(u.Image){const q=new Image;q.onload=v(os,I,"TestLoadImage: loaded",!0,_,q),q.onerror=v(os,I,"TestLoadImage: error",!1,_,q),q.onabort=v(os,I,"TestLoadImage: abort",!1,_,q),q.ontimeout=v(os,I,"TestLoadImage: timeout",!1,_,q),u.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=m}else _(!1)}function nh(m,_){const I=new ks,q=new AbortController,he=setTimeout(()=>{q.abort(),os(I,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:q.signal}).then(_e=>{clearTimeout(he),_e.ok?os(I,"TestPingServer: ok",!0,_):os(I,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(he),os(I,"TestPingServer: error",!1,_)})}function os(m,_,I,q,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),q(I)}catch{}}function Um(){this.g=new xt}function sh(m,_,I){const q=I||"";try{Xa(m,function(he,_e){let et=he;h(he)&&(et=Lt(he)),_.push(q+_e+"="+encodeURIComponent(et))})}catch(he){throw _.push(q+"type="+encodeURIComponent("_badmap")),he}}function pa(m){this.l=m.Ub||null,this.j=m.eb||!1}T(pa,jr),pa.prototype.g=function(){return new tl(this.l,this.j)},pa.prototype.i=(function(m){return function(){return m}})({});function tl(m,_){mt.call(this),this.D=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(tl,mt),t=tl.prototype,t.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=_,this.readyState=1,mi(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(_.body=m),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pi(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ih(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function ih(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?pi(this):mi(this),this.readyState==3&&ih(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,pi(this))},t.Qa=function(m){this.g&&(this.response=m,pi(this))},t.ga=function(){this.g&&pi(this)};function pi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,mi(m)}t.setRequestHeader=function(m,_){this.u.append(m,_)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var I=_.next();!I.done;)I=I.value,m.push(I[0]+": "+I[1]),I=_.next();return m.join(`\r
`)};function mi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(tl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ma(m){let _="";return B(m,function(I,q){_+=q,_+=":",_+=I,_+=`\r
`}),_}function to(m,_,I){e:{for(q in I){var q=!1;break e}q=!0}q||(I=ma(I),typeof m=="string"?I!=null&&encodeURIComponent(String(I)):yr(m,_,I))}function Pr(m){mt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Pr,mt);var zm=/^https?$/i,Bu=["POST","PUT"];t=Pr.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,_,I,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Q.g(),this.v=this.o?rr(this.o):rr(Q),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(_e){rl(this,_e);return}if(m=I||"",I=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var he in q)I.set(he,q[he]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const _e of q.keys())I.set(_e,q.get(_e));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(I.keys()).find(_e=>_e.toLowerCase()=="content-type"),he=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Bu,_,void 0))||q||he||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,et]of I)this.g.setRequestHeader(_e,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cc(this),this.u=!0,this.g.send(m),this.u=!1}catch(_e){rl(this,_e)}};function rl(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.m=5,lc(m),As(m)}function lc(m){m.A||(m.A=!0,tt(m,"complete"),tt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,tt(this,"complete"),tt(this,"abort"),As(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),As(this,!0)),Pr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Uu(this):this.bb())},t.bb=function(){Uu(this)};function Uu(m){if(m.h&&typeof o<"u"&&(!m.v[1]||ls(m)!=4||m.Z()!=2)){if(m.u&&ls(m)==4)Se(m.Ea,0,m);else if(tt(m,"readystatechange"),ls(m)==4){m.h=!1;try{const et=m.Z();e:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var I;if(!(I=_)){var q;if(q=et===0){var he=String(m.D).match(Zo)[1]||null;!he&&u.self&&u.self.location&&(he=u.self.location.protocol.slice(0,-1)),q=!zm.test(he?he.toLowerCase():"")}I=q}if(I)tt(m,"complete"),tt(m,"success");else{m.m=6;try{var _e=2<ls(m)?m.g.statusText:""}catch{_e=""}m.l=_e+" ["+m.Z()+"]",lc(m)}}finally{As(m)}}}}function As(m,_){if(m.g){cc(m);const I=m.g,q=m.v[0]?()=>{}:null;m.g=null,m.v=null,_||tt(m,"ready");try{I.onreadystatechange=q}catch{}}}function cc(m){m.I&&(u.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function ls(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<ls(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),Ot(_)}};function zu(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function uc(m){const _={};m=(m.g&&2<=ls(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<m.length;q++){if(M(m[q]))continue;var I=F(m[q]);const he=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const _e=_[he]||[];_[he]=_e,_e.push(I)}A(_,function(q){return q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bi(m,_,I){return I&&I.internalChannelParams&&I.internalChannelParams[m]||_}function Hu(m){this.Aa=0,this.i=[],this.j=new ks,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bi("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bi("baseRetryDelayMs",5e3,m),this.cb=Bi("retryDelaySeedMs",1e4,m),this.Wa=Bi("forwardChannelMaxRetries",2,m),this.wa=Bi("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Xn(m&&m.concurrentRequestLimit),this.Da=new Um,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Hu.prototype,t.la=8,t.G=1,t.connect=function(m,_,I,q){mr(0),this.W=m,this.H=_||{},I&&q!==void 0&&(this.H.OSID=I,this.H.OAID=q),this.F=this.X,this.I=ch(this,null,this.W),Ui(this)};function En(m){if(dc(m),m.G==3){var _=m.U++,I=Ss(m.I);if(yr(I,"SID",m.K),yr(I,"RID",_),yr(I,"TYPE","terminate"),ga(m,I),_=new me(m,m.j,_),_.L=2,_.v=Ja(Ss(I)),I=!1,u.navigator&&u.navigator.sendBeacon)try{I=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!I&&u.Image&&(new Image().src=_.v,I=!0),I||(_.g=uh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Be(_)}lh(m)}function gi(m){m.g&&(Wu(m),m.g.cancel(),m.g=null)}function dc(m){gi(m),m.u&&(u.clearTimeout(m.u),m.u=null),pc(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function Ui(m){if(!Or(m.h)&&!m.s){m.s=!0;var _=m.Ga;Le||de(),we||(Le(),we=!0),se.add(_,m),m.B=0}}function Hm(m,_){return Ka(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=_.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Gr(y(m.Ga,m,_),oh(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const he=new me(this,this.j,m);let _e=this.o;if(this.S&&(_e?(_e=N(_e),R(_e,this.S)):_e=this.S),this.m!==null||this.O||(he.H=_e,_e=null),this.P)e:{for(var _=0,I=0;I<this.i.length;I++){t:{var q=this.i[I];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(_+=q,4096<_){_=I;break e}if(_===4096||I===this.i.length-1){_=I+1;break e}}_=1e3}else _=1e3;_=ro(this,he,_),I=Ss(this.I),yr(I,"RID",m),yr(I,"CVER",22),this.D&&yr(I,"X-HTTP-Session-Id",this.D),ga(this,I),_e&&(this.O?_="headers="+encodeURIComponent(String(ma(_e)))+"&"+_:this.m&&to(I,this.m,_e)),$u(this.h,he),this.Ua&&yr(I,"TYPE","init"),this.P?(yr(I,"$req",_),yr(I,"SID","null"),he.T=!0,Oe(he,I,null)):Oe(he,I,_),this.G=2}}else this.G==3&&(m?hc(this,m):this.i.length==0||Or(this.h)||hc(this))};function hc(m,_){var I;_?I=_.l:I=m.U++;const q=Ss(m.I);yr(q,"SID",m.K),yr(q,"RID",I),yr(q,"AID",m.T),ga(m,q),m.m&&m.o&&to(q,m.m,m.o),I=new me(m,m.j,I,m.B+1),m.m===null&&(I.H=m.o),_&&(m.i=_.D.concat(m.i)),_=ro(m,I,1e3),I.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),$u(m.h,I),Oe(I,q,_)}function ga(m,_){m.H&&B(m.H,function(I,q){yr(_,q,I)}),m.l&&Xa({},function(I,q){yr(_,q,I)})}function ro(m,_,I){I=Math.min(m.i.length,I);var q=m.l?y(m.l.Na,m.l,m):null;e:{var he=m.i;let _e=-1;for(;;){const et=["count="+I];_e==-1?0<I?(_e=he[0].g,et.push("ofs="+_e)):_e=0:et.push("ofs="+_e);let lr=!0;for(let an=0;an<I;an++){let Yt=he[an].g;const hn=he[an].map;if(Yt-=_e,0>Yt)_e=Math.max(0,he[an].g-100),lr=!1;else try{sh(hn,et,"req"+Yt+"_")}catch{q&&q(hn)}}if(lr){q=et.join("&");break e}}}return m=m.i.splice(0,I),_.D=m,q}function nl(m){if(!m.g&&!m.u){m.Y=1;var _=m.Fa;Le||de(),we||(Le(),we=!0),se.add(_,m),m.v=0}}function fc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Gr(y(m.Fa,m),oh(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,ah(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Gr(y(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mr(10),gi(this),ah(this))};function Wu(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function ah(m){m.g=new me(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var _=Ss(m.qa);yr(_,"RID","rpc"),yr(_,"SID",m.K),yr(_,"AID",m.T),yr(_,"CI",m.F?"0":"1"),!m.F&&m.ja&&yr(_,"TO",m.ja),yr(_,"TYPE","xmlhttp"),ga(m,_),m.m&&m.o&&to(_,m.m,m.o),m.L&&(m.g.I=m.L);var I=m.g;m=m.ia,I.L=1,I.v=Ja(Ss(_)),I.m=null,I.P=!0,Ye(I,m)}t.Za=function(){this.C!=null&&(this.C=null,gi(this),fc(this),mr(19))};function pc(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function mc(m,_){var I=null;if(m.g==_){pc(m),Wu(m),m.g=null;var q=2}else if(Nr(m.h,_))I=_.D,Q0(m.h,_),q=1;else return;if(m.G!=0){if(_.o)if(q==1){I=_.m?_.m.length:0,_=Date.now()-_.F;var he=m.B;q=Ts(),tt(q,new as(q,I)),Ui(m)}else nl(m);else if(he=_.s,he==3||he==0&&0<_.X||!(q==1&&Hm(m,_)||q==2&&fc(m)))switch(I&&0<I.length&&(_=m.h,_.i=_.i.concat(I)),he){case 1:xa(m,5);break;case 4:xa(m,10);break;case 3:xa(m,6);break;default:xa(m,2)}}}function oh(m,_){let I=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(I*=2),I*_}function xa(m,_){if(m.j.info("Error code "+_),_==2){var I=y(m.fb,m),q=m.Xa;const he=!q;q=new fa(q||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||el(q,"https"),Ja(q),he?Bm(q.toString(),I):nh(q.toString(),I)}else mr(2);m.G=0,m.l&&m.l.sa(_),lh(m),dc(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),mr(2)):(this.j.info("Failed to ping google.com"),mr(1))};function lh(m){if(m.G=0,m.ka=[],m.l){const _=J0(m.h);(_.length!=0||m.i.length!=0)&&(E(m.ka,_),E(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function ch(m,_,I){var q=I instanceof fa?Ss(I):new fa(I);if(q.g!="")_&&(q.g=_+"."+q.g),Ya(q,q.s);else{var he=u.location;q=he.protocol,_=_?_+"."+he.hostname:he.hostname,he=+he.port;var _e=new fa(null);q&&el(_e,q),_&&(_e.g=_),he&&Ya(_e,he),I&&(_e.l=I),q=_e}return I=m.D,_=m.ya,I&&_&&yr(q,I,_),yr(q,"VER",m.la),ga(m,q),q}function uh(m,_,I){if(_&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Ca&&!m.pa?new Pr(new pa({eb:I})):new Pr(m.pa),_.Ha(m.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}t=qu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gc(){}gc.prototype.g=function(m,_){return new Yn(m,_)};function Yn(m,_){mt.call(this),this.g=new Hu(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(m?m["X-WebChannel-Client-Profile"]=_.va:m={"X-WebChannel-Client-Profile":_.va}),this.g.S=m,(m=_&&_.Sb)&&!M(m)&&(this.g.m=m),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!M(_)&&(this.g.D=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new zi(this)}T(Yn,mt),Yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yn.prototype.close=function(){En(this.g)},Yn.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var I={};I.__data__=m,m=I}else this.u&&(I={},I.__data__=Lt(m),m=I);_.i.push(new Gs(_.Ya++,m)),_.G==3&&Ui(_)},Yn.prototype.N=function(){this.g.l=null,delete this.j,En(this.g),delete this.g,Yn.aa.N.call(this)};function dh(m){Ft.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const I in _){m=I;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}T(dh,Ft);function hh(){Tr.call(this),this.status=1}T(hh,Tr);function zi(m){this.g=m}T(zi,qu),zi.prototype.ua=function(){tt(this.g,"a")},zi.prototype.ta=function(m){tt(this.g,new dh(m))},zi.prototype.sa=function(m){tt(this.g,new hh)},zi.prototype.ra=function(){tt(this.g,"b")},gc.prototype.createWebChannel=gc.prototype.g,Yn.prototype.send=Yn.prototype.o,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,Xk=function(){return new gc},Kk=function(){return Ts()},Gk=kr,cy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},G.NO_ERROR=0,G.TIMEOUT=8,G.HTTP_ERROR=6,jf=G,Z.COMPLETE="complete",qk=Z,kt.EventType=$t,$t.OPEN="a",$t.CLOSE="b",$t.ERROR="c",$t.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Ed=kt,Pr.prototype.listenOnce=Pr.prototype.L,Pr.prototype.getLastError=Pr.prototype.Ka,Pr.prototype.getLastErrorCode=Pr.prototype.Ba,Pr.prototype.getStatus=Pr.prototype.Z,Pr.prototype.getResponseJson=Pr.prototype.Oa,Pr.prototype.getResponseText=Pr.prototype.oa,Pr.prototype.send=Pr.prototype.ea,Pr.prototype.setWithCredentials=Pr.prototype.Ha,Wk=Pr}).apply(typeof cf<"u"?cf:typeof self<"u"?self:typeof window<"u"?window:{});const f_="@firebase/firestore",p_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new Yp("@firebase/firestore");function Bc(){return Il.logLevel}function ot(t,...e){if(Il.logLevel<=Wt.DEBUG){const r=e.map(g1);Il.debug(`Firestore (${ku}): ${t}`,...r)}}function Ma(t,...e){if(Il.logLevel<=Wt.ERROR){const r=e.map(g1);Il.error(`Firestore (${ku}): ${t}`,...r)}}function lu(t,...e){if(Il.logLevel<=Wt.WARN){const r=e.map(g1);Il.warn(`Firestore (${ku}): ${t}`,...r)}}function g1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t="Unexpected state"){const e=`FIRESTORE (${ku}) INTERNAL ASSERTION FAILED: `+t;throw Ma(e),new Error(e)}function Jt(t,e){t||Tt()}function Rt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends ui{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Hn.UNAUTHENTICATED)))}shutdown(){}}class H8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class W8{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Jt(this.o===void 0);let n=this.i;const s=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let i=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Qi,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const d=i;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},u=d=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Qi)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Jt(typeof n.accessToken=="string"),new Yk(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jt(e===null||typeof e=="string"),new Hn(e)}}class q8{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class G8{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new q8(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable((()=>r(Hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class m_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K8{constructor(e,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ls(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,r){Jt(this.o===void 0);const n=i=>{i.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ot("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>n(i)))};const s=i=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new m_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Jt(typeof r.token=="string"),this.R=r.token,new m_(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=X8(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<r&&(n+=e.charAt(s[i]%62))}return n}}function Bt(t,e){return t<e?-1:t>e?1:0}function uy(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),s=e.codePointAt(r);if(n!==s){if(n<128&&s<128)return Bt(n,s);{const i=Qk(),o=Y8(i.encode(g_(t,r)),i.encode(g_(e,r)));return o!==0?o:Bt(n,s)}}r+=n>65535?2:1}return Bt(t.length,e.length)}function g_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Y8(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Bt(t[r],e[r]);return Bt(t.length,e.length)}function cu(t,e,r){return t.length===e.length&&t.every(((n,s)=>r(n,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=-62135596800,y_=1e6;class xr{static now(){return xr.fromMillis(Date.now())}static fromDate(e){return xr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*y_);return new xr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new st(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new st(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<x_)throw new st(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y_}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-x_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new xr(0,0))}static max(){return new At(new xr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="__name__";class Yi{constructor(e,r,n){r===void 0?r=0:r>e.length&&Tt(),n===void 0?n=e.length-r:n>e.length-r&&Tt(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const i=Yi.compareSegments(e.get(s),r.get(s));if(i!==0)return i}return Bt(e.length,r.length)}static compareSegments(e,r){const n=Yi.isNumericId(e),s=Yi.isNumericId(r);return n&&!s?-1:!n&&s?1:n&&s?Yi.extractNumericId(e).compare(Yi.extractNumericId(r)):uy(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Io.fromString(e.substring(4,e.length-2))}}class vr extends Yi{construct(e,r,n){return new vr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new st(Ie.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((s=>s.length>0)))}return new vr(r)}static emptyPath(){return new vr([])}}const Q8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends Yi{construct(e,r,n){return new In(e,r,n)}static isValidIdentifier(e){return Q8.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v_}static keyField(){return new In([v_])}static fromServerFormat(e){const r=[];let n="",s=0;const i=()=>{if(n.length===0)throw new st(Ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new st(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new st(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,s+=2}else u==="`"?(o=!o,s++):u!=="."||o?(n+=u,s++):(i(),s++)}if(i(),o)throw new st(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(r)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.path=e}static fromPath(e){return new vt(vr.fromString(e))}static fromName(e){return new vt(vr.fromString(e).popFirst(5))}static empty(){return new vt(vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return vr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new vr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=-1;function J8(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=At.fromTimestamp(n===1e9?new xr(r+1,0):new xr(r,n));return new Do(s,vt.empty(),e)}function Z8(t){return new Do(t.readTime,t.key,Yd)}class Do{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Do(At.min(),vt.empty(),Yd)}static max(){return new Do(At.max(),vt.empty(),Yd)}}function eD(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=vt.comparator(t.documentKey,e.documentKey),r!==0?r:Bt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(t){if(t.code!==Ie.FAILED_PRECONDITION||t.message!==tD)throw t;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Re(((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,s)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof Re?r:Re.resolve(r)}catch(r){return Re.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):Re.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):Re.reject(r)}static resolve(e){return new Re(((r,n)=>{r(e)}))}static reject(e){return new Re(((r,n)=>{n(e)}))}static waitFor(e){return new Re(((r,n)=>{let s=0,i=0,o=!1;e.forEach((u=>{++s,u.next((()=>{++i,o&&i===s&&r()}),(d=>n(d)))})),o=!0,i===s&&r()}))}static or(e){let r=Re.resolve(!1);for(const n of e)r=r.next((s=>s?Re.resolve(s):n()));return r}static forEach(e,r){const n=[];return e.forEach(((s,i)=>{n.push(r.call(this,s,i))})),this.waitFor(n)}static mapArray(e,r){return new Re(((n,s)=>{const i=e.length,o=new Array(i);let u=0;for(let d=0;d<i;d++){const h=d;r(e[h]).next((p=>{o[h]=p,++u,u===i&&n(o)}),(p=>s(p)))}}))}static doWhile(e,r){return new Re(((n,s)=>{const i=()=>{e()===!0?r().next((()=>{i()}),s):n()};i()}))}}function nD(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Su(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.oe(n),this._e=n=>r.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}em.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=-1;function k0(t){return t==null}function Yf(t){return t===0&&1/t==-1/0}function sD(t){return typeof t=="number"&&Number.isInteger(t)&&!Yf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="";function iD(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=b_(e)),e=aD(t.get(r),e);return b_(e)}function aD(t,e){let r=e;const n=t.length;for(let s=0;s<n;s++){const i=t.charAt(s);switch(i){case"\0":r+="";break;case Zk:r+="";break;default:r+=i}}return r}function b_(t){return t+Zk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Ko(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function e3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,r){this.comparator=e,this.root=r||Cn.EMPTY}insert(e,r){return new Vr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new Vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uf(this.root,e,this.comparator,!0)}}class uf{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cn{constructor(e,r,n,s,i){this.key=e,this.value=r,this.color=n??Cn.RED,this.left=s??Cn.EMPTY,this.right=i??Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,i){return new Cn(e??this.key,r??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,r,n),null):i===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return Cn.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Tt();const e=this.left.check();if(e!==this.right.check())throw Tt();return e+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt()}get value(){throw Tt()}get color(){throw Tt()}get left(){throw Tt()}get right(){throw Tt()}copy(e,r,n,s,i){return this}insert(e,r,n){return new Cn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Vr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new __(this.data.getIterator())}getIteratorFrom(e){return new __(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new un(this.comparator);return r.data=e,r}}class __{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new Ms([])}unionWith(e){let r=new un(In.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Ms(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return cu(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new t3("Invalid base64 string: "+i):i}})(e);return new Fn(r)}static fromUint8Array(e){const r=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new Fn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const oD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(t){if(Jt(!!t),typeof t=="string"){let e=0;const r=oD.exec(t);if(Jt(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Yr(t.seconds),nanos:Yr(t.nanos)}}function Yr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fo(t){return typeof t=="string"?Fn.fromBase64String(t):Fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="server_timestamp",n3="__type__",s3="__previous_value__",i3="__local_write_time__";function y1(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[n3])===null||r===void 0?void 0:r.stringValue)===r3}function tm(t){const e=t.mapValue.fields[s3];return y1(e)?tm(e):e}function Qd(t){const e=Oo(t.mapValue.fields[i3].timestampValue);return new xr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,r,n,s,i,o,u,d,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h}}const Qf="(default)";class Jd{constructor(e,r){this.projectId=e,this.database=r||Qf}static empty(){return new Jd("","")}get isDefaultDatabase(){return this.database===Qf}isEqual(e){return e instanceof Jd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="__type__",cD="__max__",df={mapValue:{}},o3="__vector__",Jf="value";function Lo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?y1(t)?4:dD(t)?9007199254740991:uD(t)?10:11:Tt()}function aa(t,e){if(t===e)return!0;const r=Lo(t);if(r!==Lo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qd(t).isEqual(Qd(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Oo(s.timestampValue),u=Oo(i.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return Fo(s.bytesValue).isEqual(Fo(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return Yr(s.geoPointValue.latitude)===Yr(i.geoPointValue.latitude)&&Yr(s.geoPointValue.longitude)===Yr(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Yr(s.integerValue)===Yr(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Yr(s.doubleValue),u=Yr(i.doubleValue);return o===u?Yf(o)===Yf(u):isNaN(o)&&isNaN(u)}return!1})(t,e);case 9:return cu(t.arrayValue.values||[],e.arrayValue.values||[],aa);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},u=i.mapValue.fields||{};if(w_(o)!==w_(u))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(u[d]===void 0||!aa(o[d],u[d])))return!1;return!0})(t,e);default:return Tt()}}function Zd(t,e){return(t.values||[]).find((r=>aa(r,e)))!==void 0}function uu(t,e){if(t===e)return 0;const r=Lo(t),n=Lo(e);if(r!==n)return Bt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Bt(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const u=Yr(i.integerValue||i.doubleValue),d=Yr(o.integerValue||o.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return E_(t.timestampValue,e.timestampValue);case 4:return E_(Qd(t),Qd(e));case 5:return uy(t.stringValue,e.stringValue);case 6:return(function(i,o){const u=Fo(i),d=Fo(o);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const u=i.split("/"),d=o.split("/");for(let h=0;h<u.length&&h<d.length;h++){const p=Bt(u[h],d[h]);if(p!==0)return p}return Bt(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const u=Bt(Yr(i.latitude),Yr(o.latitude));return u!==0?u:Bt(Yr(i.longitude),Yr(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return T_(t.arrayValue,e.arrayValue);case 10:return(function(i,o){var u,d,h,p;const g=i.fields||{},y=o.fields||{},v=(u=g[Jf])===null||u===void 0?void 0:u.arrayValue,T=(d=y[Jf])===null||d===void 0?void 0:d.arrayValue,w=Bt(((h=v?.values)===null||h===void 0?void 0:h.length)||0,((p=T?.values)===null||p===void 0?void 0:p.length)||0);return w!==0?w:T_(v,T)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===df.mapValue&&o===df.mapValue)return 0;if(i===df.mapValue)return 1;if(o===df.mapValue)return-1;const u=i.fields||{},d=Object.keys(u),h=o.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const y=uy(d[g],p[g]);if(y!==0)return y;const v=uu(u[d[g]],h[p[g]]);if(v!==0)return v}return Bt(d.length,p.length)})(t.mapValue,e.mapValue);default:throw Tt()}}function E_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Bt(t,e);const r=Oo(t),n=Oo(e),s=Bt(r.seconds,n.seconds);return s!==0?s:Bt(r.nanos,n.nanos)}function T_(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const i=uu(r[s],n[s]);if(i)return i}return Bt(r.length,n.length)}function du(t){return dy(t)}function dy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Oo(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Fo(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return vt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",s=!0;for(const i of r.values||[])s?s=!1:n+=",",n+=dy(i);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let s="{",i=!0;for(const o of n)i?i=!1:s+=",",s+=`${o}:${dy(r.fields[o])}`;return s+"}"})(t.mapValue):Tt()}function Pf(t){switch(Lo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tm(t);return e?16+Pf(e):16;case 5:return 2*t.stringValue.length;case 6:return Fo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((s,i)=>s+Pf(i)),0)})(t.arrayValue);case 10:case 11:return(function(n){let s=0;return Ko(n.fields,((i,o)=>{s+=i.length+Pf(o)})),s})(t.mapValue);default:throw Tt()}}function k_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hy(t){return!!t&&"integerValue"in t}function v1(t){return!!t&&"arrayValue"in t}function N_(t){return!!t&&"nullValue"in t}function S_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rf(t){return!!t&&"mapValue"in t}function uD(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[a3])===null||r===void 0?void 0:r.stringValue)===o3}function jd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ko(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=jd(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=jd(t.arrayValue.values[r]);return e}return Object.assign({},t)}function dD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===cD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.value=e}static empty(){return new ts({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Rf(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=jd(r)}setAll(e){let r=In.emptyPath(),n={},s=[];e.forEach(((o,u)=>{if(!r.isImmediateParentOf(u)){const d=this.getFieldsMap(r);this.applyChanges(d,n,s),n={},s=[],r=u.popLast()}o?n[u.lastSegment()]=jd(o):s.push(u.lastSegment())}));const i=this.getFieldsMap(r);this.applyChanges(i,n,s)}delete(e){const r=this.field(e.popLast());Rf(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return aa(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];Rf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){Ko(r,((s,i)=>e[s]=i));for(const s of n)delete e[s]}clone(){return new ts(jd(this.value))}}function l3(t){const e=[];return Ko(t.fields,((r,n)=>{const s=new In([r]);if(Rf(n)){const i=l3(n.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new Ms(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,r,n,s,i,o,u){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=i,this.data=o,this.documentState=u}static newInvalidDocument(e){return new xn(e,0,At.min(),At.min(),At.min(),ts.empty(),0)}static newFoundDocument(e,r,n,s){return new xn(e,1,r,At.min(),n,s,0)}static newNoDocument(e,r){return new xn(e,2,r,At.min(),At.min(),ts.empty(),0)}static newUnknownDocument(e,r){return new xn(e,3,r,At.min(),At.min(),ts.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ts.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ts.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,r){this.position=e,this.inclusive=r}}function A_(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?n=vt.comparator(vt.fromName(o.referenceValue),r.key):n=uu(o,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function C_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!aa(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,r="asc"){this.field=e,this.dir=r}}function hD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{}class rn extends c3{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new pD(e,r,n):r==="array-contains"?new xD(e,n):r==="in"?new yD(e,n):r==="not-in"?new vD(e,n):r==="array-contains-any"?new bD(e,n):new rn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new mD(e,n):new gD(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(uu(r,this.value)):r!==null&&Lo(this.value)===Lo(r)&&this.matchesComparison(uu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends c3{constructor(e,r){super(),this.filters=e,this.op=r,this.ce=null}static create(e,r){return new Di(e,r)}matches(e){return u3(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function u3(t){return t.op==="and"}function d3(t){return fD(t)&&u3(t)}function fD(t){for(const e of t.filters)if(e instanceof Di)return!1;return!0}function fy(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+du(t.value);if(d3(t))return t.filters.map((e=>fy(e))).join(",");{const e=t.filters.map((r=>fy(r))).join(",");return`${t.op}(${e})`}}function h3(t,e){return t instanceof rn?(function(n,s){return s instanceof rn&&n.op===s.op&&n.field.isEqual(s.field)&&aa(n.value,s.value)})(t,e):t instanceof Di?(function(n,s){return s instanceof Di&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce(((i,o,u)=>i&&h3(o,s.filters[u])),!0):!1})(t,e):void Tt()}function f3(t){return t instanceof rn?(function(r){return`${r.field.canonicalString()} ${r.op} ${du(r.value)}`})(t):t instanceof Di?(function(r){return r.op.toString()+" {"+r.getFilters().map(f3).join(" ,")+"}"})(t):"Filter"}class pD extends rn{constructor(e,r,n){super(e,r,n),this.key=vt.fromName(n.referenceValue)}matches(e){const r=vt.comparator(e.key,this.key);return this.matchesComparison(r)}}class mD extends rn{constructor(e,r){super(e,"in",r),this.keys=p3("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class gD extends rn{constructor(e,r){super(e,"not-in",r),this.keys=p3("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function p3(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>vt.fromName(n.referenceValue)))}class xD extends rn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return v1(r)&&Zd(r.arrayValue,this.value)}}class yD extends rn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Zd(this.value.arrayValue,r)}}class vD extends rn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Zd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Zd(this.value.arrayValue,r)}}class bD extends rn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!v1(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Zd(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,r=null,n=[],s=[],i=null,o=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=o,this.endAt=u,this.le=null}}function I_(t,e=null,r=[],n=[],s=null,i=null,o=null){return new wD(t,e,r,n,s,i,o)}function b1(t){const e=Rt(t);if(e.le===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>fy(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(i){return i.field.canonicalString()+i.dir})(n))).join(","),k0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>du(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>du(n))).join(",")),e.le=r}return e.le}function w1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!hD(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!h3(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!C_(t.startAt,e.startAt)&&C_(t.endAt,e.endAt)}function py(t){return vt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,r=null,n=[],s=[],i=null,o="F",u=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function _D(t,e,r,n,s,i,o,u){return new Au(t,e,r,n,s,i,o,u)}function rm(t){return new Au(t)}function j_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function m3(t){return t.collectionGroup!==null}function Pd(t){const e=Rt(t);if(e.he===null){e.he=[];const r=new Set;for(const i of e.explicitOrderBy)e.he.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new un(In.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((i=>{r.has(i.canonicalString())||i.isKeyField()||e.he.push(new e0(i,n))})),r.has(In.keyField().canonicalString())||e.he.push(new e0(In.keyField(),n))}return e.he}function Ji(t){const e=Rt(t);return e.Pe||(e.Pe=ED(e,Pd(t))),e.Pe}function ED(t,e){if(t.limitType==="F")return I_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new e0(s.field,i)}));const r=t.endAt?new Zf(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Zf(t.startAt.position,t.startAt.inclusive):null;return I_(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function my(t,e){const r=t.filters.concat([e]);return new Au(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function ep(t,e,r){return new Au(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function nm(t,e){return w1(Ji(t),Ji(e))&&t.limitType===e.limitType}function g3(t){return`${b1(Ji(t))}|lt:${t.limitType}`}function Uc(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((s=>f3(s))).join(", ")}]`),k0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((s=>du(s))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((s=>du(s))).join(",")),`Target(${n})`})(Ji(t))}; limitType=${t.limitType})`}function sm(t,e){return e.isFoundDocument()&&(function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):vt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)})(t,e)&&(function(n,s){for(const i of Pd(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(n,s){return!(n.startAt&&!(function(o,u,d){const h=A_(o,u,d);return o.inclusive?h<=0:h<0})(n.startAt,Pd(n),s)||n.endAt&&!(function(o,u,d){const h=A_(o,u,d);return o.inclusive?h>=0:h>0})(n.endAt,Pd(n),s))})(t,e)}function TD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function x3(t){return(e,r)=>{let n=!1;for(const s of Pd(t)){const i=kD(s,e,r);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function kD(t,e,r){const n=t.field.isKeyField()?vt.comparator(e.key,r.key):(function(i,o,u){const d=o.data.field(i),h=u.data.field(i);return d!==null&&h!==null?uu(d,h):Tt()})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Tt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ko(this.inner,((r,n)=>{for(const[s,i]of n)e(s,i)}))}isEmpty(){return e3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new Vr(vt.comparator);function $a(){return ND}const y3=new Vr(vt.comparator);function Td(...t){let e=y3;for(const r of t)e=e.insert(r.key,r);return e}function v3(t){let e=y3;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function _l(){return Rd()}function b3(){return Rd()}function Rd(){return new Wl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const SD=new Vr(vt.comparator),AD=new un(vt.comparator);function qt(...t){let e=AD;for(const r of t)e=e.add(r);return e}const CD=new un(Bt);function ID(){return CD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yf(e)?"-0":e}}function w3(t){return{integerValue:""+t}}function _3(t,e){return sD(e)?w3(e):_1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this._=void 0}}function jD(t,e,r){return t instanceof t0?(function(s,i){const o={fields:{[n3]:{stringValue:r3},[i3]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&y1(i)&&(i=tm(i)),i&&(o.fields[s3]=i),{mapValue:o}})(r,e):t instanceof r0?T3(t,e):t instanceof n0?k3(t,e):(function(s,i){const o=E3(s,i),u=P_(o)+P_(s.Ie);return hy(o)&&hy(s.Ie)?w3(u):_1(s.serializer,u)})(t,e)}function PD(t,e,r){return t instanceof r0?T3(t,e):t instanceof n0?k3(t,e):r}function E3(t,e){return t instanceof s0?(function(n){return hy(n)||(function(i){return!!i&&"doubleValue"in i})(n)})(e)?e:{integerValue:0}:null}class t0 extends im{}class r0 extends im{constructor(e){super(),this.elements=e}}function T3(t,e){const r=N3(e);for(const n of t.elements)r.some((s=>aa(s,n)))||r.push(n);return{arrayValue:{values:r}}}class n0 extends im{constructor(e){super(),this.elements=e}}function k3(t,e){let r=N3(e);for(const n of t.elements)r=r.filter((s=>!aa(s,n)));return{arrayValue:{values:r}}}class s0 extends im{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function P_(t){return Yr(t.integerValue||t.doubleValue)}function N3(t){return v1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,r){this.field=e,this.transform=r}}function RD(t,e){return t.field.isEqual(e.field)&&(function(n,s){return n instanceof r0&&s instanceof r0||n instanceof n0&&s instanceof n0?cu(n.elements,s.elements,aa):n instanceof s0&&s instanceof s0?aa(n.Ie,s.Ie):n instanceof t0&&s instanceof t0})(t.transform,e.transform)}class DD{constructor(e,r){this.version=e,this.transformResults=r}}class jn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Df(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class am{}function A3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new om(t.key,jn.none()):new N0(t.key,t.data,jn.none());{const r=t.data,n=ts.empty();let s=new un(In.comparator);for(let i of e.fields)if(!s.has(i)){let o=r.field(i);o===null&&i.length>1&&(i=i.popLast(),o=r.field(i)),o===null?n.delete(i):n.set(i,o),s=s.add(i)}return new Xo(t.key,n,new Ms(s.toArray()),jn.none())}}function OD(t,e,r){t instanceof N0?(function(s,i,o){const u=s.value.clone(),d=D_(s.fieldTransforms,i,o.transformResults);u.setAll(d),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,r):t instanceof Xo?(function(s,i,o){if(!Df(s.precondition,i))return void i.convertToUnknownDocument(o.version);const u=D_(s.fieldTransforms,i,o.transformResults),d=i.data;d.setAll(C3(s)),d.setAll(u),i.convertToFoundDocument(o.version,d).setHasCommittedMutations()})(t,e,r):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function Dd(t,e,r,n){return t instanceof N0?(function(i,o,u,d){if(!Df(i.precondition,o))return u;const h=i.value.clone(),p=O_(i.fieldTransforms,d,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,r,n):t instanceof Xo?(function(i,o,u,d){if(!Df(i.precondition,o))return u;const h=O_(i.fieldTransforms,d,o),p=o.data;return p.setAll(C3(i)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((g=>g.field)))})(t,e,r,n):(function(i,o,u){return Df(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u})(t,e,r)}function FD(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),i=E3(n.transform,s||null);i!=null&&(r===null&&(r=ts.empty()),r.set(n.field,i))}return r||null}function R_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&cu(n,s,((i,o)=>RD(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class N0 extends am{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Xo extends am{constructor(e,r,n,s,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function C3(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function D_(t,e,r){const n=new Map;Jt(t.length===r.length);for(let s=0;s<r.length;s++){const i=t[s],o=i.transform,u=e.data.field(i.field);n.set(i.field,PD(o,u,r[s]))}return n}function O_(t,e,r){const n=new Map;for(const s of t){const i=s.transform,o=r.data.field(s.field);n.set(s.field,jD(i,o,e))}return n}class om extends am{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I3 extends am{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&OD(i,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Dd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Dd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=b3();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let u=this.applyToLocalView(o,i.mutatedFields);u=r.has(s.key)?null:u;const d=A3(o,u);d!==null&&n.set(s.key,d),o.isValidDocument()||o.convertToNoDocument(At.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),qt())}isEqual(e){return this.batchId===e.batchId&&cu(this.mutations,e.mutations,((r,n)=>R_(r,n)))&&cu(this.baseMutations,e.baseMutations,((r,n)=>R_(r,n)))}}class E1{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){Jt(e.mutations.length===n.length);let s=(function(){return SD})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,n[o].version);return new E1(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,Qt;function j3(t){switch(t){case Ie.OK:return Tt();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0;default:return Tt()}}function P3(t){if(t===void 0)return Ma("GRPC error has no .code"),Ie.UNKNOWN;switch(t){case tn.OK:return Ie.OK;case tn.CANCELLED:return Ie.CANCELLED;case tn.UNKNOWN:return Ie.UNKNOWN;case tn.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case tn.INTERNAL:return Ie.INTERNAL;case tn.UNAVAILABLE:return Ie.UNAVAILABLE;case tn.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case tn.NOT_FOUND:return Ie.NOT_FOUND;case tn.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case tn.ABORTED:return Ie.ABORTED;case tn.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case tn.DATA_LOSS:return Ie.DATA_LOSS;default:return Tt()}}(Qt=tn||(tn={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=new Io([4294967295,4294967295],0);function F_(t){const e=Qk().encode(t),r=new Hk;return r.update(e),new Uint8Array(r.digest())}function L_(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Io([r,n],0),new Io([s,i],0)]}class T1{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new kd(`Invalid padding: ${r}`);if(n<0)throw new kd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new kd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new kd(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*e.length-r,this.de=Io.fromNumber(this.Ee)}Ae(e,r,n){let s=e.add(r.multiply(Io.fromNumber(n)));return s.compare(VD)===1&&(s=new Io([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const r=F_(e),[n,s]=L_(r);for(let i=0;i<this.hashCount;i++){const o=this.Ae(n,s,i);if(!this.Re(o))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new T1(i,s,r);return n.forEach((u=>o.insert(u))),o}insert(e){if(this.Ee===0)return;const r=F_(e),[n,s]=L_(r);for(let i=0;i<this.hashCount;i++){const o=this.Ae(n,s,i);this.Ve(o)}}Ve(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class kd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,r,n,s,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,S0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new lm(At.min(),s,new Vr(Bt),$a(),qt())}}class S0{constructor(e,r,n,s,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new S0(n,r,qt(),qt(),qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,r,n,s){this.me=e,this.removedTargetIds=r,this.key=n,this.fe=s}}class R3{constructor(e,r){this.targetId=e,this.ge=r}}class D3{constructor(e,r,n=Fn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class M_{constructor(){this.pe=0,this.ye=$_(),this.we=Fn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=qt(),r=qt(),n=qt();return this.ye.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:Tt()}})),new S0(this.we,this.Se,e,r,n)}Me(){this.be=!1,this.ye=$_()}xe(e,r){this.be=!0,this.ye=this.ye.insert(e,r)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Jt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class BD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=$a(),this.$e=hf(),this.Ue=hf(),this.Ke=new Vr(Bt)}We(e){for(const r of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(r,e.fe):this.ze(r,e.key,e.fe);for(const r of e.removedTargetIds)this.ze(r,e.key,e.fe)}je(e){this.forEachTarget(e,(r=>{const n=this.He(r);switch(e.state){case 0:this.Je(r)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(r);break;case 3:this.Je(r)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),n.Ce(e.resumeToken));break;default:Tt()}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.qe.forEach(((n,s)=>{this.Je(s)&&r(s)}))}Ze(e){const r=e.targetId,n=e.ge.count,s=this.Xe(r);if(s){const i=s.target;if(py(i))if(n===0){const o=new vt(i.path);this.ze(r,o,xn.newNoDocument(o,At.min()))}else Jt(n===1);else{const o=this.et(r);if(o!==n){const u=this.tt(e),d=u?this.nt(u,e,o):1;if(d!==0){this.Ye(r);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,h)}}}}}tt(e){const r=e.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=r;let o,u;try{o=Fo(n).toUint8Array()}catch(d){if(d instanceof t3)return lu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new T1(o,s,i)}catch(d){return lu(d instanceof kd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ee===0?null:u}nt(e,r,n){return r.ge.count===n-this.st(e,r.targetId)?0:2}st(e,r){const n=this.ke.getRemoteKeysForTarget(r);let s=0;return n.forEach((i=>{const o=this.ke.it(),u=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.ze(r,i,null),s++)})),s}ot(e){const r=new Map;this.qe.forEach(((i,o)=>{const u=this.Xe(o);if(u){if(i.current&&py(u.target)){const d=new vt(u.target.path);this._t(d).has(o)||this.ut(o,d)||this.ze(o,d,xn.newNoDocument(d,e))}i.ve&&(r.set(o,i.Fe()),i.Me())}}));let n=qt();this.Ue.forEach(((i,o)=>{let u=!0;o.forEachWhile((d=>{const h=this.Xe(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(n=n.add(i))})),this.Qe.forEach(((i,o)=>o.setReadTime(e)));const s=new lm(e,r,this.Ke,this.Qe,n);return this.Qe=$a(),this.$e=hf(),this.Ue=hf(),this.Ke=new Vr(Bt),s}Ge(e,r){if(!this.Je(e))return;const n=this.ut(e,r.key)?2:0;this.He(e).xe(r.key,n),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(e)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(e))}ze(e,r,n){if(!this.Je(e))return;const s=this.He(e);this.ut(e,r)?s.xe(r,1):s.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(e)),this.Ue=this.Ue.insert(r,this.ct(r).add(e)),n&&(this.Qe=this.Qe.insert(r,n))}removeTarget(e){this.qe.delete(e)}et(e){const r=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let r=this.qe.get(e);return r||(r=new M_,this.qe.set(e,r)),r}ct(e){let r=this.Ue.get(e);return r||(r=new un(Bt),this.Ue=this.Ue.insert(e,r)),r}_t(e){let r=this.$e.get(e);return r||(r=new un(Bt),this.$e=this.$e.insert(e,r)),r}Je(e){const r=this.Xe(e)!==null;return r||ot("WatchChangeAggregator","Detected inactive target",e),r}Xe(e){const r=this.qe.get(e);return r&&r.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new M_),this.ke.getRemoteKeysForTarget(e).forEach((r=>{this.ze(e,r,null)}))}ut(e,r){return this.ke.getRemoteKeysForTarget(e).has(r)}}function hf(){return new Vr(vt.comparator)}function $_(){return new Vr(vt.comparator)}const UD={asc:"ASCENDING",desc:"DESCENDING"},zD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HD={and:"AND",or:"OR"};class WD{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function gy(t,e){return t.useProto3Json||k0(e)?e:{value:e}}function tp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function O3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qD(t,e){return tp(t,e.toTimestamp())}function Bs(t){return Jt(!!t),At.fromTimestamp((function(r){const n=Oo(r);return new xr(n.seconds,n.nanos)})(t))}function k1(t,e){return xy(t,e).canonicalString()}function xy(t,e){const r=(function(s){return new vr(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?r:r.child(e)}function F3(t){const e=vr.fromString(t);return Jt(U3(e)),e}function rp(t,e){return k1(t.databaseId,e.path)}function Od(t,e){const r=F3(e);if(r.get(1)!==t.databaseId.projectId)throw new st(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new st(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new vt(M3(r))}function L3(t,e){return k1(t.databaseId,e)}function GD(t){const e=F3(t);return e.length===4?vr.emptyPath():M3(e)}function yy(t){return new vr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function M3(t){return Jt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function V_(t,e,r){return{name:rp(t,e),fields:r.value.mapValue.fields}}function KD(t,e){return"found"in e?(function(n,s){Jt(!!s.found),s.found.name,s.found.updateTime;const i=Od(n,s.found.name),o=Bs(s.found.updateTime),u=s.found.createTime?Bs(s.found.createTime):At.min(),d=new ts({mapValue:{fields:s.found.fields}});return xn.newFoundDocument(i,o,u,d)})(t,e):"missing"in e?(function(n,s){Jt(!!s.missing),Jt(!!s.readTime);const i=Od(n,s.missing),o=Bs(s.readTime);return xn.newNoDocument(i,o)})(t,e):Tt()}function XD(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Tt()})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(h,p){return h.useProto3Json?(Jt(p===void 0||typeof p=="string"),Fn.fromBase64String(p||"")):(Jt(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Fn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(h){const p=h.code===void 0?Ie.UNKNOWN:P3(h.code);return new st(p,h.message||"")})(o);r=new D3(n,s,i,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=Od(t,n.document.name),i=Bs(n.document.updateTime),o=n.document.createTime?Bs(n.document.createTime):At.min(),u=new ts({mapValue:{fields:n.document.fields}}),d=xn.newFoundDocument(s,i,o,u),h=n.targetIds||[],p=n.removedTargetIds||[];r=new Of(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=Od(t,n.document),i=n.readTime?Bs(n.readTime):At.min(),o=xn.newNoDocument(s,i),u=n.removedTargetIds||[];r=new Of([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=Od(t,n.document),i=n.removedTargetIds||[];r=new Of([],i,s,null)}else{if(!("filter"in e))return Tt();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,o=new $D(s,i),u=n.targetId;r=new R3(u,o)}}return r}function $3(t,e){let r;if(e instanceof N0)r={update:V_(t,e.key,e.value)};else if(e instanceof om)r={delete:rp(t,e.key)};else if(e instanceof Xo)r={update:V_(t,e.key,e.data),updateMask:s9(e.fieldMask)};else{if(!(e instanceof I3))return Tt();r={verify:rp(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(i,o){const u=o.transform;if(u instanceof t0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof r0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof n0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof s0)return{fieldPath:o.field.canonicalString(),increment:u.Ie};throw Tt()})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:qD(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Tt()})(t,e.precondition)),r}function YD(t,e){return t&&t.length>0?(Jt(e!==void 0),t.map((r=>(function(s,i){let o=s.updateTime?Bs(s.updateTime):Bs(i);return o.isEqual(At.min())&&(o=Bs(i)),new DD(o,s.transformResults||[])})(r,e)))):[]}function QD(t,e){return{documents:[L3(t,e.path)]}}function JD(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=L3(t,s);const i=(function(h){if(h.length!==0)return B3(Di.create(h,"and"))})(e.filters);i&&(r.structuredQuery.where=i);const o=(function(h){if(h.length!==0)return h.map((p=>(function(y){return{field:zc(y.field),direction:t9(y.dir)}})(p)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const u=gy(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ht:r,parent:s}}function ZD(t){let e=GD(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){Jt(n===1);const p=r.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];r.where&&(i=(function(g){const y=V3(g);return y instanceof Di&&d3(y)?y.getFilters():[y]})(r.where));let o=[];r.orderBy&&(o=(function(g){return g.map((y=>(function(T){return new e0(Hc(T.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(y)))})(r.orderBy));let u=null;r.limit&&(u=(function(g){let y;return y=typeof g=="object"?g.value:g,k0(y)?null:y})(r.limit));let d=null;r.startAt&&(d=(function(g){const y=!!g.before,v=g.values||[];return new Zf(v,y)})(r.startAt));let h=null;return r.endAt&&(h=(function(g){const y=!g.before,v=g.values||[];return new Zf(v,y)})(r.endAt)),_D(e,s,o,i,u,"F",d,h)}function e9(t,e){const r=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function V3(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Hc(r.unaryFilter.field);return rn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Hc(r.unaryFilter.field);return rn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Hc(r.unaryFilter.field);return rn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Hc(r.unaryFilter.field);return rn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Tt()}})(t):t.fieldFilter!==void 0?(function(r){return rn.create(Hc(r.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tt()}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Di.create(r.compositeFilter.filters.map((n=>V3(n))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Tt()}})(r.compositeFilter.op))})(t):Tt()}function t9(t){return UD[t]}function r9(t){return zD[t]}function n9(t){return HD[t]}function zc(t){return{fieldPath:t.canonicalString()}}function Hc(t){return In.fromServerFormat(t.fieldPath)}function B3(t){return t instanceof rn?(function(r){if(r.op==="=="){if(S_(r.value))return{unaryFilter:{field:zc(r.field),op:"IS_NAN"}};if(N_(r.value))return{unaryFilter:{field:zc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(S_(r.value))return{unaryFilter:{field:zc(r.field),op:"IS_NOT_NAN"}};if(N_(r.value))return{unaryFilter:{field:zc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zc(r.field),op:r9(r.op),value:r.value}}})(t):t instanceof Di?(function(r){const n=r.getFilters().map((s=>B3(s)));return n.length===1?n[0]:{compositeFilter:{op:n9(r.op),filters:n}}})(t):Tt()}function s9(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function U3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,r,n,s,i=At.min(),o=At.min(),u=Fn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.Tt=e}}function a9(t){const e=ZD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ep(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(){this.Tn=new l9}addToCollectionParentIndex(e,r){return this.Tn.add(r),Re.resolve()}getCollectionParents(e,r){return Re.resolve(this.Tn.getEntries(r))}addFieldIndex(e,r){return Re.resolve()}deleteFieldIndex(e,r){return Re.resolve()}deleteAllFieldIndexes(e){return Re.resolve()}createTargetIndexes(e,r){return Re.resolve()}getDocumentsMatchingTarget(e,r){return Re.resolve(null)}getIndexType(e,r){return Re.resolve(0)}getFieldIndexes(e,r){return Re.resolve([])}getNextCollectionGroupToUpdate(e){return Re.resolve(null)}getMinOffset(e,r){return Re.resolve(Do.min())}getMinOffsetFromCollectionGroup(e,r){return Re.resolve(Do.min())}updateCollectionGroup(e,r,n){return Re.resolve()}updateIndexEntries(e,r){return Re.resolve()}}class l9{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new un(vr.comparator),i=!s.has(n);return this.index[r]=s.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new un(vr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},z3=41943040;class ms{static withCacheSize(e){return new ms(e,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms.DEFAULT_COLLECTION_PERCENTILE=10,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ms.DEFAULT=new ms(z3,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ms.DISABLED=new ms(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new hu(0)}static Kn(){return new hu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="LruGarbageCollector",c9=1048576;function z_([t,e],[r,n]){const s=Bt(t,r);return s===0?Bt(e,n):s}class u9{constructor(e){this.Hn=e,this.buffer=new un(z_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const r=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();z_(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class d9{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ot(U_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Su(r)?ot(U_,"Ignoring IndexedDB error during garbage collection: ",r):await Nu(r)}await this.er(3e5)}))}}class h9{constructor(e,r){this.tr=e,this.params=r}calculateTargetCount(e,r){return this.tr.nr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return Re.resolve(em.ae);const n=new u9(r);return this.tr.forEachTarget(e,(s=>n.Zn(s.sequenceNumber))).next((()=>this.tr.rr(e,(s=>n.Zn(s))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.tr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.tr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(B_)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B_):this.ir(e,r)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,r){let n,s,i,o,u,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,o=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(n=g,u=Date.now(),this.removeTargets(e,n,r)))).next((g=>(i=g,d=Date.now(),this.removeOrphanedDocuments(e,n)))).next((g=>(h=Date.now(),Bc()<=Wt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${s} in `+(u-o)+`ms
	Removed ${i} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g}))))}}function f9(t,e){return new h9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(){this.changes=new Wl((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Re.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((s=>(n=s,this.remoteDocumentCache.getEntry(e,r)))).next((s=>(n!==null&&Dd(n.mutation,s,Ms.empty(),xr.now()),s)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,qt()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=qt()){const s=_l();return this.populateOverlays(e,s,r).next((()=>this.computeViews(e,r,s,n).next((i=>{let o=Td();return i.forEach(((u,d)=>{o=o.insert(u,d.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=_l();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,qt())))}populateOverlays(e,r,n){const s=[];return n.forEach((i=>{r.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,u)=>{r.set(o,u)}))}))}computeViews(e,r,n,s){let i=$a();const o=Rd(),u=(function(){return Rd()})();return r.forEach(((d,h)=>{const p=n.get(h.key);s.has(h.key)&&(p===void 0||p.mutation instanceof Xo)?i=i.insert(h.key,h):p!==void 0?(o.set(h.key,p.mutation.getFieldMask()),Dd(p.mutation,h,p.mutation.getFieldMask(),xr.now())):o.set(h.key,Ms.empty())})),this.recalculateAndSaveOverlays(e,i).next((d=>(d.forEach(((h,p)=>o.set(h,p))),r.forEach(((h,p)=>{var g;return u.set(h,new m9(p,(g=o.get(h))!==null&&g!==void 0?g:null))})),u)))}recalculateAndSaveOverlays(e,r){const n=Rd();let s=new Vr(((o,u)=>o-u)),i=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const u of o)u.keys().forEach((d=>{const h=r.get(d);if(h===null)return;let p=n.get(d)||Ms.empty();p=u.applyToLocalView(h,p),n.set(d,p);const g=(s.get(u.batchId)||qt()).add(d);s=s.insert(u.batchId,g)}))})).next((()=>{const o=[],u=s.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,p=d.value,g=b3();p.forEach((y=>{if(!i.has(y)){const v=A3(r.get(y),n.get(y));v!==null&&g.set(y,v),i=i.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,g))}return Re.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,s){return(function(o){return vt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):m3(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-i.size):Re.resolve(_l());let u=Yd,d=i;return o.next((h=>Re.forEach(h,((p,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),i.get(p)?Re.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{d=d.insert(p,y)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,d,h,qt()))).next((p=>({batchId:u,changes:v3(p)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new vt(r)).next((n=>{let s=Td();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const i=r.collectionGroup;let o=Td();return this.indexManager.getCollectionParents(e,i).next((u=>Re.forEach(u,(d=>{const h=(function(g,y){return new Au(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(r,d.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,n,s).next((p=>{p.forEach(((g,y)=>{o=o.insert(g,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,s)))).next((o=>{i.forEach(((d,h)=>{const p=h.getKey();o.get(p)===null&&(o=o.insert(p,xn.newInvalidDocument(p)))}));let u=Td();return o.forEach(((d,h)=>{const p=i.get(d);p!==void 0&&Dd(p.mutation,h,Ms.empty(),xr.now()),sm(r,h)&&(u=u.insert(d,h))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,r){return Re.resolve(this.dr.get(r))}saveBundleMetadata(e,r){return this.dr.set(r.id,(function(s){return{id:s.id,version:s.version,createTime:Bs(s.createTime)}})(r)),Re.resolve()}getNamedQuery(e,r){return Re.resolve(this.Ar.get(r))}saveNamedQuery(e,r){return this.Ar.set(r.name,(function(s){return{name:s.name,query:a9(s.bundledQuery),readTime:Bs(s.readTime)}})(r)),Re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(){this.overlays=new Vr(vt.comparator),this.Rr=new Map}getOverlay(e,r){return Re.resolve(this.overlays.get(r))}getOverlays(e,r){const n=_l();return Re.forEach(r,(s=>this.getOverlay(e,s).next((i=>{i!==null&&n.set(s,i)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((s,i)=>{this.Et(e,r,i)})),Re.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Rr.get(n);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.Rr.delete(n)),Re.resolve()}getOverlaysForCollection(e,r,n){const s=_l(),i=r.length+1,o=new vt(r.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===i&&d.largestBatchId>n&&s.set(d.getKey(),d)}return Re.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let i=new Vr(((h,p)=>h-p));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let p=i.get(h.largestBatchId);p===null&&(p=_l(),i=i.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=_l(),d=i.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=s)););return Re.resolve(u)}Et(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(n.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new MD(r,n));let i=this.Rr.get(r);i===void 0&&(i=qt(),this.Rr.set(r,i)),this.Rr.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return Re.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.Vr=new un(gn.mr),this.gr=new un(gn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,r){const n=new gn(e,r);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.wr(new gn(e,r))}Sr(e,r){e.forEach((n=>this.removeReference(n,r)))}br(e){const r=new vt(new vr([])),n=new gn(r,e),s=new gn(r,e+1),i=[];return this.gr.forEachInRange([n,s],(o=>{this.wr(o),i.push(o.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const r=new vt(new vr([])),n=new gn(r,e),s=new gn(r,e+1);let i=qt();return this.gr.forEachInRange([n,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const r=new gn(e,0),n=this.Vr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class gn{constructor(e,r){this.key=e,this.Cr=r}static mr(e,r){return vt.comparator(e.key,r.key)||Bt(e.Cr,r.Cr)}static pr(e,r){return Bt(e.Cr,r.Cr)||vt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new un(gn.mr)}checkEmpty(e){return Re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new LD(i,r,n,s);this.mutationQueue.push(o);for(const u of s)this.Mr=this.Mr.add(new gn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Re.resolve(o)}lookupMutationBatch(e,r){return Re.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.Nr(n),i=s<0?0:s;return Re.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(this.mutationQueue.length===0?x1:this.Fr-1)}getAllMutationBatches(e){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new gn(r,0),s=new gn(r,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,s],(o=>{const u=this.Or(o.Cr);i.push(u)})),Re.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new un(Bt);return r.forEach((s=>{const i=new gn(s,0),o=new gn(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],(u=>{n=n.add(u.Cr)}))})),Re.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let i=n;vt.isDocumentKey(i)||(i=i.child(""));const o=new gn(new vt(i),0);let u=new un(Bt);return this.Mr.forEachWhile((d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===s&&(u=u.add(d.Cr)),!0)}),o),Re.resolve(this.Br(u))}Br(e){const r=[];return e.forEach((n=>{const s=this.Or(n);s!==null&&r.push(s)})),r}removeMutationBatch(e,r){Jt(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return Re.forEach(r.mutations,(s=>{const i=new gn(s.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,r){const n=new gn(r,0),s=this.Mr.firstAfterOrEqual(n);return Re.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Re.resolve()}Lr(e,r){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const r=this.Nr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.kr=e,this.docs=(function(){return new Vr(vt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),i=s?s.size:0,o=this.kr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Re.resolve(n?n.document.mutableCopy():xn.newInvalidDocument(r))}getEntries(e,r){let n=$a();return r.forEach((s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():xn.newInvalidDocument(s))})),Re.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let i=$a();const o=r.path,u=new vt(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||eD(Z8(p),n)<=0||(s.has(p.key)||sm(r,p))&&(i=i.insert(p.key,p.mutableCopy()))}return Re.resolve(i)}getAllFromCollectionGroup(e,r,n,s){Tt()}qr(e,r){return Re.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new _9(this)}getSize(e){return Re.resolve(this.size)}}class _9 extends p9{constructor(e){super(),this.Ir=e}applyChanges(e){const r=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?r.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(n)})),Re.waitFor(r)}getFromCache(e,r){return this.Ir.getEntry(e,r)}getAllFromCache(e,r){return this.Ir.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e){this.persistence=e,this.Qr=new Wl((r=>b1(r)),w1),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$r=0,this.Ur=new N1,this.targetCount=0,this.Kr=hu.Un()}forEachTarget(e,r){return this.Qr.forEach(((n,s)=>r(s))),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.$r&&(this.$r=r),Re.resolve()}zn(e){this.Qr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Kr=new hu(r),this.highestTargetId=r),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,r){return this.zn(r),this.targetCount+=1,Re.resolve()}updateTargetData(e,r){return this.zn(r),Re.resolve()}removeTargetData(e,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,r,n){let s=0;const i=[];return this.Qr.forEach(((o,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),Re.waitFor(i).next((()=>s))}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,r){const n=this.Qr.get(r)||null;return Re.resolve(n)}addMatchingKeys(e,r,n){return this.Ur.yr(r,n),Re.resolve()}removeMatchingKeys(e,r,n){this.Ur.Sr(r,n);const s=this.persistence.referenceDelegate,i=[];return s&&r.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),Re.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Ur.br(r),Re.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Ur.vr(r);return Re.resolve(n)}containsKey(e,r){return Re.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,r){this.Wr={},this.overlays={},this.Gr=new em(0),this.zr=!1,this.zr=!0,this.jr=new v9,this.referenceDelegate=e(this),this.Hr=new E9(this),this.indexManager=new o9,this.remoteDocumentCache=(function(s){return new w9(s)})((n=>this.referenceDelegate.Jr(n))),this.serializer=new i9(r),this.Yr=new x9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new y9,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.Wr[e.toKey()];return n||(n=new b9(r,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,r,n){ot("MemoryPersistence","Starting transaction:",e);const s=new T9(this.Gr.next());return this.referenceDelegate.Zr(),n(s).next((i=>this.referenceDelegate.Xr(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}ei(e,r){return Re.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,r))))}}class T9 extends rD{constructor(e){super(),this.currentSequenceNumber=e}}class S1{constructor(e){this.persistence=e,this.ti=new N1,this.ni=null}static ri(e){return new S1(e)}get ii(){if(this.ni)return this.ni;throw Tt()}addReference(e,r,n){return this.ti.addReference(n,r),this.ii.delete(n.toString()),Re.resolve()}removeReference(e,r,n){return this.ti.removeReference(n,r),this.ii.add(n.toString()),Re.resolve()}markPotentiallyOrphaned(e,r){return this.ii.add(r.toString()),Re.resolve()}removeTarget(e,r){this.ti.br(r.targetId).forEach((s=>this.ii.add(s.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((s=>{s.forEach((i=>this.ii.add(i.toString())))})).next((()=>n.removeTargetData(e,r)))}Zr(){this.ni=new Set}Xr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.ii,(n=>{const s=vt.fromPath(n);return this.si(e,s).next((i=>{i||r.removeEntry(s,At.min())}))})).next((()=>(this.ni=null,r.apply(e))))}updateLimboDocument(e,r){return this.si(e,r).next((n=>{n?this.ii.delete(r.toString()):this.ii.add(r.toString())}))}Jr(e){return 0}si(e,r){return Re.or([()=>Re.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.ei(e,r)])}}class np{constructor(e,r){this.persistence=e,this.oi=new Wl((n=>iD(n.path)),((n,s)=>n.isEqual(s))),this.garbageCollector=f9(this,r)}static ri(e,r){return new np(e,r)}Zr(){}Xr(e){return Re.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}nr(e){const r=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((s=>n+s))))}sr(e){let r=0;return this.rr(e,(n=>{r++})).next((()=>r))}rr(e,r){return Re.forEach(this.oi,((n,s)=>this.ar(e,n,s).next((i=>i?Re.resolve():r(s)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,(o=>this.ar(e,o,r).next((u=>{u||(n++,i.removeEntry(o,At.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.oi.set(r,e.currentSequenceNumber),Re.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),Re.resolve()}removeReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),Re.resolve()}updateLimboDocument(e,r){return this.oi.set(r,e.currentSequenceNumber),Re.resolve()}Jr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Pf(e.data.value)),r}ar(e,r,n){return Re.or([()=>this.persistence.ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const s=this.oi.get(r);return Re.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.Hi=n,this.Ji=s}static Yi(e,r){let n=qt(),s=qt();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new A1(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=(function(){return rP()?8:nD(Kn())>0?6:4})()}initialize(e,r){this.ns=e,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(e,r,n,s){const i={result:null};return this.rs(e,r).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ss(e,r,s,n).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new k9;return this._s(e,r,o).next((u=>{if(i.result=u,this.Xi)return this.us(e,r,o,u.size)}))})).next((()=>i.result))}us(e,r,n,s){return n.documentReadCount<this.es?(Bc()<=Wt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Uc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Re.resolve()):(Bc()<=Wt.DEBUG&&ot("QueryEngine","Query:",Uc(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.ts*s?(Bc()<=Wt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Uc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ji(r))):Re.resolve())}rs(e,r){if(j_(r))return Re.resolve(null);let n=Ji(r);return this.indexManager.getIndexType(e,n).next((s=>s===0?null:(r.limit!==null&&s===1&&(r=ep(r,null,"F"),n=Ji(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((i=>{const o=qt(...i);return this.ns.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,n).next((d=>{const h=this.cs(r,u);return this.ls(r,h,o,d.readTime)?this.rs(e,ep(r,null,"F")):this.hs(e,h,r,d)}))))})))))}ss(e,r,n,s){return j_(r)||s.isEqual(At.min())?Re.resolve(null):this.ns.getDocuments(e,n).next((i=>{const o=this.cs(r,i);return this.ls(r,o,n,s)?Re.resolve(null):(Bc()<=Wt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Uc(r)),this.hs(e,o,r,J8(s,Yd)).next((u=>u)))}))}cs(e,r){let n=new un(x3(e));return r.forEach(((s,i)=>{sm(e,i)&&(n=n.add(i))})),n}ls(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,r,n){return Bc()<=Wt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Uc(r)),this.ns.getDocumentsMatchingQuery(e,r,Do.min(),n)}hs(e,r,n,s){return this.ns.getDocumentsMatchingQuery(e,n,s).next((i=>(r.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="LocalStore",S9=3e8;class A9{constructor(e,r,n,s){this.persistence=e,this.Ps=r,this.serializer=s,this.Ts=new Vr(Bt),this.Is=new Wl((i=>b1(i)),w1),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g9(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ts)))}}function C9(t,e,r,n){return new A9(t,e,r,n)}async function W3(t,e){const r=Rt(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next((i=>(s=i,r.As(e),r.mutationQueue.getAllMutationBatches(n)))).next((i=>{const o=[],u=[];let d=qt();for(const h of s){o.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of i){u.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return r.localDocuments.getDocuments(n,d).next((h=>({Rs:h,removedBatchIds:o,addedBatchIds:u})))}))}))}function I9(t,e){const r=Rt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const s=e.batch.keys(),i=r.ds.newChangeBuffer({trackRemovals:!0});return(function(u,d,h,p){const g=h.batch,y=g.keys();let v=Re.resolve();return y.forEach((T=>{v=v.next((()=>p.getEntry(d,T))).next((w=>{const E=h.docVersions.get(T);Jt(E!==null),w.version.compareTo(E)<0&&(g.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),p.addEntry(w)))}))})),v.next((()=>u.mutationQueue.removeMutationBatch(d,g)))})(r,n,e,i).next((()=>i.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(u){let d=qt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d})(e)))).next((()=>r.localDocuments.getDocuments(n,s)))}))}function q3(t){const e=Rt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Hr.getLastRemoteSnapshotVersion(r)))}function j9(t,e){const r=Rt(t),n=e.snapshotVersion;let s=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=r.ds.newChangeBuffer({trackRemovals:!0});s=r.Ts;const u=[];e.targetChanges.forEach(((p,g)=>{const y=s.get(g);if(!y)return;u.push(r.Hr.removeMatchingKeys(i,p.removedDocuments,g).next((()=>r.Hr.addMatchingKeys(i,p.addedDocuments,g))));let v=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(Fn.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,n)),s=s.insert(g,v),(function(w,E,O){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=S9?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(y,v,p)&&u.push(r.Hr.updateTargetData(i,v))}));let d=$a(),h=qt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(i,p))})),u.push(P9(i,o,e.documentUpdates).next((p=>{d=p.Vs,h=p.fs}))),!n.isEqual(At.min())){const p=r.Hr.getLastRemoteSnapshotVersion(i).next((g=>r.Hr.setTargetsMetadata(i,i.currentSequenceNumber,n)));u.push(p)}return Re.waitFor(u).next((()=>o.apply(i))).next((()=>r.localDocuments.getLocalViewOfDocuments(i,d,h))).next((()=>d))})).then((i=>(r.Ts=s,i)))}function P9(t,e,r){let n=qt(),s=qt();return r.forEach((i=>n=n.add(i))),e.getEntries(t,n).next((i=>{let o=$a();return r.forEach(((u,d)=>{const h=i.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(u)),d.isNoDocument()&&d.version.isEqual(At.min())?(e.removeEntry(u,d.readTime),o=o.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),o=o.insert(u,d)):ot(C1,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)})),{Vs:o,fs:s}}))}function R9(t,e){const r=Rt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=x1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function D9(t,e){const r=Rt(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let s;return r.Hr.getTargetData(n,e).next((i=>i?(s=i,Re.resolve(s)):r.Hr.allocateTargetId(n).next((o=>(s=new ko(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Hr.addTargetData(n,s).next((()=>s)))))))})).then((n=>{const s=r.Ts.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(n.targetId,n),r.Is.set(e,n.targetId)),n}))}async function vy(t,e,r){const n=Rt(t),s=n.Ts.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,(o=>n.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!Su(o))throw o;ot(C1,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ts=n.Ts.remove(e),n.Is.delete(s.target)}function H_(t,e,r){const n=Rt(t);let s=At.min(),i=qt();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(d,h,p){const g=Rt(d),y=g.Is.get(p);return y!==void 0?Re.resolve(g.Ts.get(y)):g.Hr.getTargetData(h,p)})(n,o,Ji(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(o,u.targetId).next((d=>{i=d}))})).next((()=>n.Ps.getDocumentsMatchingQuery(o,e,r?s:At.min(),r?i:qt()))).next((u=>(O9(n,TD(e),u),{documents:u,gs:i})))))}function O9(t,e,r){let n=t.Es.get(e)||At.min();r.forEach(((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)})),t.Es.set(e,n)}class W_{constructor(){this.activeTargetIds=ID()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class F9{constructor(){this.ho=new W_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,r,n){this.Po[e]=r}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new W_,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="ConnectivityMonitor";class G_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ot(q_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ot(q_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff=null;function by(){return ff===null?ff=(function(){return 268435456+Math.round(2147483648*Math.random())})():ff++,"0x"+ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="RestConnection",M9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $9{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+e.host,this.yo=`projects/${n}/databases/${s}`,this.wo=this.databaseId.database===Qf?`project_id=${n}`:`project_id=${n}&database_id=${s}`}So(e,r,n,s,i){const o=by(),u=this.bo(e,r.toUriEncodedString());ot(kx,`Sending RPC '${e}' ${o}:`,u,n);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,s,i),this.vo(e,u,d,n).then((h=>(ot(kx,`Received RPC '${e}' ${o}: `,h),h)),(h=>{throw lu(kx,`RPC '${e}' ${o} failed with error: `,h,"url: ",u,"request:",n),h}))}Co(e,r,n,s,i,o){return this.So(e,r,n,s,i)}Do(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ku})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((s,i)=>e[i]=s)),n&&n.headers.forEach(((s,i)=>e[i]=s))}bo(e,r){const n=M9[e];return`${this.po}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class B9 extends $9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,r,n,s){const i=by();return new Promise(((o,u)=>{const d=new Wk;d.setWithCredentials(!0),d.listenOnce(qk.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case jf.NO_ERROR:const p=d.getResponseJson();ot(Un,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(p)),o(p);break;case jf.TIMEOUT:ot(Un,`RPC '${e}' ${i} timed out`),u(new st(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case jf.HTTP_ERROR:const g=d.getStatus();if(ot(Un,`RPC '${e}' ${i} failed with status:`,g,"response text:",d.getResponseText()),g>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const v=y?.error;if(v&&v.status&&v.message){const T=(function(E){const O=E.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(O)>=0?O:Ie.UNKNOWN})(v.status);u(new st(T,v.message))}else u(new st(Ie.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new st(Ie.UNAVAILABLE,"Connection failed."));break;default:Tt()}}finally{ot(Un,`RPC '${e}' ${i} completed.`)}}));const h=JSON.stringify(s);ot(Un,`RPC '${e}' ${i} sending request:`,s),d.send(r,"POST",h,n,15)}))}Wo(e,r,n){const s=by(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Xk(),u=Kk(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const p=i.join("");ot(Un,`Creating RPC '${e}' stream ${s}: ${p}`,d);const g=o.createWebChannel(p,d);let y=!1,v=!1;const T=new V9({Fo:E=>{v?ot(Un,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(y||(ot(Un,`Opening RPC '${e}' stream ${s} transport.`),g.open(),y=!0),ot(Un,`RPC '${e}' stream ${s} sending:`,E),g.send(E))},Mo:()=>g.close()}),w=(E,O,M)=>{E.listen(O,(U=>{try{M(U)}catch(P){setTimeout((()=>{throw P}),0)}}))};return w(g,Ed.EventType.OPEN,(()=>{v||(ot(Un,`RPC '${e}' stream ${s} transport opened.`),T.Qo())})),w(g,Ed.EventType.CLOSE,(()=>{v||(v=!0,ot(Un,`RPC '${e}' stream ${s} transport closed`),T.Uo())})),w(g,Ed.EventType.ERROR,(E=>{v||(v=!0,lu(Un,`RPC '${e}' stream ${s} transport errored:`,E),T.Uo(new st(Ie.UNAVAILABLE,"The operation could not be completed")))})),w(g,Ed.EventType.MESSAGE,(E=>{var O;if(!v){const M=E.data[0];Jt(!!M);const U=M,P=U?.error||((O=U[0])===null||O===void 0?void 0:O.error);if(P){ot(Un,`RPC '${e}' stream ${s} received error:`,P);const X=P.status;let B=(function(C){const R=tn[C];if(R!==void 0)return P3(R)})(X),A=P.message;B===void 0&&(B=Ie.INTERNAL,A="Unknown error status: "+X+" with message "+P.message),v=!0,T.Uo(new st(B,A)),g.close()}else ot(Un,`RPC '${e}' stream ${s} received:`,M),T.Ko(M)}})),w(u,Gk.STAT_EVENT,(E=>{E.stat===cy.PROXY?ot(Un,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===cy.NOPROXY&&ot(Un,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{T.$o()}),0),T}}function Nx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){return new WD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,r,n=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=r,this.Go=n,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const r=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),s=Math.max(0,r-n);s>0&&ot("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="PersistentStream";class G3{constructor(e,r,n,s,i,o,u,d){this.Ti=e,this.n_=n,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new I1(e,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():r&&r.code===Ie.RESOURCE_EXHAUSTED?(Ma(r.toString()),Ma("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===Ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,s])=>{this.i_===r&&this.V_(n,s)}),(n=>{e((()=>{const s=new st(Ie.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(s)}))}))}V_(e,r){const n=this.R_(this.i_);this.stream=this.f_(e,r),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((s=>{n((()=>this.m_(s)))})),this.stream.onMessage((s=>{n((()=>++this.__==1?this.g_(s):this.onNext(s)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return ot(K_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return r=>{this.Ti.enqueueAndForget((()=>this.i_===e?r():(ot(K_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class U9 extends G3{constructor(e,r,n,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}f_(e,r){return this.connection.Wo("Listen",e,r)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const r=XD(this.serializer,e),n=(function(i){if(!("targetChange"in i))return At.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?At.min():o.readTime?Bs(o.readTime):At.min()})(e);return this.listener.p_(r,n)}y_(e){const r={};r.database=yy(this.serializer),r.addTarget=(function(i,o){let u;const d=o.target;if(u=py(d)?{documents:QD(i,d)}:{query:JD(i,d).ht},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=O3(i,o.resumeToken);const h=gy(i,o.expectedCount);h!==null&&(u.expectedCount=h)}else if(o.snapshotVersion.compareTo(At.min())>0){u.readTime=tp(i,o.snapshotVersion.toTimestamp());const h=gy(i,o.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const n=e9(this.serializer,e);n&&(r.labels=n),this.I_(r)}w_(e){const r={};r.database=yy(this.serializer),r.removeTarget=e,this.I_(r)}}class z9 extends G3{constructor(e,r,n,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,r){return this.connection.Wo("Write",e,r)}g_(e){return Jt(!!e.streamToken),this.lastStreamToken=e.streamToken,Jt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const r=YD(e.writeResults,e.commitTime),n=Bs(e.commitTime);return this.listener.v_(n,r)}C_(){const e={};e.database=yy(this.serializer),this.I_(e)}b_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>$3(this.serializer,n)))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{}class W9 extends H9{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new st(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,n,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.So(e,xy(r,n),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new st(Ie.UNKNOWN,i.toString())}))}Co(e,r,n,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Co(e,xy(r,n),s,o,u,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new st(Ie.UNKNOWN,o.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class q9{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ma(r),this.N_=!1):ot("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl="RemoteStore";class G9{constructor(e,r,n,s,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((o=>{n.enqueueAndForget((async()=>{ql(this)&&(ot(jl,"Restarting streams for network reachability change."),await(async function(d){const h=Rt(d);h.W_.add(4),await A0(h),h.j_.set("Unknown"),h.W_.delete(4),await um(h)})(this))}))})),this.j_=new q9(n,s)}}async function um(t){if(ql(t))for(const e of t.G_)await e(!0)}async function A0(t){for(const e of t.G_)await e(!1)}function K3(t,e){const r=Rt(t);r.K_.has(e.targetId)||(r.K_.set(e.targetId,e),D1(r)?R1(r):Cu(r).c_()&&P1(r,e))}function j1(t,e){const r=Rt(t),n=Cu(r);r.K_.delete(e),n.c_()&&X3(r,e),r.K_.size===0&&(n.c_()?n.P_():ql(r)&&r.j_.set("Unknown"))}function P1(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Cu(t).y_(e)}function X3(t,e){t.H_.Ne(e),Cu(t).w_(e)}function R1(t){t.H_=new BD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Cu(t).start(),t.j_.B_()}function D1(t){return ql(t)&&!Cu(t).u_()&&t.K_.size>0}function ql(t){return Rt(t).W_.size===0}function Y3(t){t.H_=void 0}async function K9(t){t.j_.set("Online")}async function X9(t){t.K_.forEach(((e,r)=>{P1(t,e)}))}async function Y9(t,e){Y3(t),D1(t)?(t.j_.q_(e),R1(t)):t.j_.set("Unknown")}async function Q9(t,e,r){if(t.j_.set("Online"),e instanceof D3&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const u of i.targetIds)s.K_.has(u)&&(await s.remoteSyncer.rejectListen(u,o),s.K_.delete(u),s.H_.removeTarget(u))})(t,e)}catch(n){ot(jl,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await sp(t,n)}else if(e instanceof Of?t.H_.We(e):e instanceof R3?t.H_.Ze(e):t.H_.je(e),!r.isEqual(At.min()))try{const n=await q3(t.localStore);r.compareTo(n)>=0&&await(function(i,o){const u=i.H_.ot(o);return u.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=i.K_.get(h);p&&i.K_.set(h,p.withResumeToken(d.resumeToken,o))}})),u.targetMismatches.forEach(((d,h)=>{const p=i.K_.get(d);if(!p)return;i.K_.set(d,p.withResumeToken(Fn.EMPTY_BYTE_STRING,p.snapshotVersion)),X3(i,d);const g=new ko(p.target,d,h,p.sequenceNumber);P1(i,g)})),i.remoteSyncer.applyRemoteEvent(u)})(t,r)}catch(n){ot(jl,"Failed to raise snapshot:",n),await sp(t,n)}}async function sp(t,e,r){if(!Su(e))throw e;t.W_.add(1),await A0(t),t.j_.set("Offline"),r||(r=()=>q3(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ot(jl,"Retrying IndexedDB access"),await r(),t.W_.delete(1),await um(t)}))}function Q3(t,e){return e().catch((r=>sp(t,r,e)))}async function dm(t){const e=Rt(t),r=Mo(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:x1;for(;J9(e);)try{const s=await R9(e.localStore,n);if(s===null){e.U_.length===0&&r.P_();break}n=s.batchId,Z9(e,s)}catch(s){await sp(e,s)}J3(e)&&Z3(e)}function J9(t){return ql(t)&&t.U_.length<10}function Z9(t,e){t.U_.push(e);const r=Mo(t);r.c_()&&r.S_&&r.b_(e.mutations)}function J3(t){return ql(t)&&!Mo(t).u_()&&t.U_.length>0}function Z3(t){Mo(t).start()}async function e7(t){Mo(t).C_()}async function t7(t){const e=Mo(t);for(const r of t.U_)e.b_(r.mutations)}async function r7(t,e,r){const n=t.U_.shift(),s=E1.from(n,e,r);await Q3(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await dm(t)}async function n7(t,e){e&&Mo(t).S_&&await(async function(n,s){if((function(o){return j3(o)&&o!==Ie.ABORTED})(s.code)){const i=n.U_.shift();Mo(n).h_(),await Q3(n,(()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s))),await dm(n)}})(t,e),J3(t)&&Z3(t)}async function X_(t,e){const r=Rt(t);r.asyncQueue.verifyOperationInProgress(),ot(jl,"RemoteStore received new credentials");const n=ql(r);r.W_.add(3),await A0(r),n&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.W_.delete(3),await um(r)}async function s7(t,e){const r=Rt(t);e?(r.W_.delete(2),await um(r)):e||(r.W_.add(2),await A0(r),r.j_.set("Unknown"))}function Cu(t){return t.J_||(t.J_=(function(r,n,s){const i=Rt(r);return i.M_(),new U9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{xo:K9.bind(null,t),No:X9.bind(null,t),Lo:Y9.bind(null,t),p_:Q9.bind(null,t)}),t.G_.push((async e=>{e?(t.J_.h_(),D1(t)?R1(t):t.j_.set("Unknown")):(await t.J_.stop(),Y3(t))}))),t.J_}function Mo(t){return t.Y_||(t.Y_=(function(r,n,s){const i=Rt(r);return i.M_(),new z9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:e7.bind(null,t),Lo:n7.bind(null,t),D_:t7.bind(null,t),v_:r7.bind(null,t)}),t.G_.push((async e=>{e?(t.Y_.h_(),await dm(t)):(await t.Y_.stop(),t.U_.length>0&&(ot(jl,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))}))),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,r,n,s,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,i){const o=Date.now()+n,u=new O1(e,r,o,s,i);return u.start(n),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function F1(t,e){if(Ma("AsyncQueue",`${e}: ${t}`),Su(t))return new st(Ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{static emptySet(e){return new eu(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||vt.comparator(r.key,n.key):(r,n)=>vt.comparator(r.key,n.key),this.keyedMap=Td(),this.sortedSet=new Vr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof eu)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new eu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.Z_=new Vr(vt.comparator)}track(e){const r=e.doc.key,n=this.Z_.get(r);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(r,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(r):e.type===1&&n.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):Tt():this.Z_=this.Z_.insert(r,e)}X_(){const e=[];return this.Z_.inorderTraversal(((r,n)=>{e.push(n)})),e}}class fu{constructor(e,r,n,s,i,o,u,d,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,s,i){const o=[];return r.forEach((u=>{o.push({type:0,doc:u})})),new fu(e,r,eu.emptySet(r),o,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class a7{constructor(){this.queries=Q_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,n){const s=Rt(r),i=s.queries;s.queries=Q_(),i.forEach(((o,u)=>{for(const d of u.ta)d.onError(n)}))})(this,new st(Ie.ABORTED,"Firestore shutting down"))}}function Q_(){return new Wl((t=>g3(t)),nm)}async function L1(t,e){const r=Rt(t);let n=3;const s=e.query;let i=r.queries.get(s);i?!i.na()&&e.ra()&&(n=2):(i=new i7,n=e.ra()?0:1);try{switch(n){case 0:i.ea=await r.onListen(s,!0);break;case 1:i.ea=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(o){const u=F1(o,`Initialization of query '${Uc(e.query)}' failed`);return void e.onError(u)}r.queries.set(s,i),i.ta.push(e),e.sa(r.onlineState),i.ea&&e.oa(i.ea)&&$1(r)}async function M1(t,e){const r=Rt(t),n=e.query;let s=3;const i=r.queries.get(n);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function o7(t,e){const r=Rt(t);let n=!1;for(const s of e){const i=s.query,o=r.queries.get(i);if(o){for(const u of o.ta)u.oa(s)&&(n=!0);o.ea=s}}n&&$1(r)}function l7(t,e,r){const n=Rt(t),s=n.queries.get(e);if(s)for(const i of s.ta)i.onError(r);n.queries.delete(e)}function $1(t){t.ia.forEach((e=>{e.next()}))}var wy,J_;(J_=wy||(wy={}))._a="default",J_.Cache="cache";class V1{constructor(e,r,n){this.query=e,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new fu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ua?this.la(e)&&(this.aa.next(e),r=!0):this.ha(e,this.onlineState)&&(this.Pa(e),r=!0),this.ca=e,r}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),r=!0),r}ha(e,r){if(!e.fromCache||!this.ra())return!0;const n=r!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}la(e){if(e.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(e){e=fu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==wy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.key=e}}class tN{constructor(e){this.key=e}}class c7{constructor(e,r){this.query=e,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=qt(),this.mutatedKeys=qt(),this.ya=x3(e),this.wa=new eu(this.ya)}get Sa(){return this.fa}ba(e,r){const n=r?r.Da:new Y_,s=r?r.wa:this.wa;let i=r?r.mutatedKeys:this.mutatedKeys,o=s,u=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,g)=>{const y=s.get(p),v=sm(this.query,g)?g:null,T=!!y&&this.mutatedKeys.has(y.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;y&&v?y.data.isEqual(v.data)?T!==w&&(n.track({type:3,doc:v}),E=!0):this.va(y,v)||(n.track({type:2,doc:v}),E=!0,(d&&this.ya(v,d)>0||h&&this.ya(v,h)<0)&&(u=!0)):!y&&v?(n.track({type:0,doc:v}),E=!0):y&&!v&&(n.track({type:1,doc:y}),E=!0,(d||h)&&(u=!0)),E&&(v?(o=o.add(v),i=w?i.add(p):i.delete(p)):(o=o.delete(p),i=i.delete(p)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),i=i.delete(p.key),n.track({type:1,doc:p})}return{wa:o,Da:n,ls:u,mutatedKeys:i}}va(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort(((p,g)=>(function(v,T){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt()}};return w(v)-w(T)})(p.type,g.type)||this.ya(p.doc,g.doc))),this.Ca(n),s=s!=null&&s;const u=r&&!s?this.Fa():[],d=this.pa.size===0&&this.current&&!s?1:0,h=d!==this.ga;return this.ga=d,o.length!==0||h?{snapshot:new fu(this.query,e.wa,i,o,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Y_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((r=>this.fa=this.fa.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.fa=this.fa.delete(r))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=qt(),this.wa.forEach((n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))}));const r=[];return e.forEach((n=>{this.pa.has(n)||r.push(new tN(n))})),this.pa.forEach((n=>{e.has(n)||r.push(new eN(n))})),r}Oa(e){this.fa=e.gs,this.pa=qt();const r=this.ba(e.documents);return this.applyChanges(r,!0)}Na(){return fu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const B1="SyncEngine";class u7{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class d7{constructor(e){this.key=e,this.Ba=!1}}class h7{constructor(e,r,n,s,i,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Wl((u=>g3(u)),nm),this.qa=new Map,this.Qa=new Set,this.$a=new Vr(vt.comparator),this.Ua=new Map,this.Ka=new N1,this.Wa={},this.Ga=new Map,this.za=hu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function f7(t,e,r=!0){const n=oN(t);let s;const i=n.ka.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await rN(n,e,r,!0),s}async function p7(t,e){const r=oN(t);await rN(r,e,!0,!1)}async function rN(t,e,r,n){const s=await D9(t.localStore,Ji(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,r);let u;return n&&(u=await m7(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&r&&K3(t.remoteStore,s),u}async function m7(t,e,r,n,s){t.Ha=(g,y,v)=>(async function(w,E,O,M){let U=E.view.ba(O);U.ls&&(U=await H_(w.localStore,E.query,!1).then((({documents:A})=>E.view.ba(A,U))));const P=M&&M.targetChanges.get(E.targetId),X=M&&M.targetMismatches.get(E.targetId)!=null,B=E.view.applyChanges(U,w.isPrimaryClient,P,X);return e4(w,E.targetId,B.Ma),B.snapshot})(t,g,y,v);const i=await H_(t.localStore,e,!0),o=new c7(e,i.gs),u=o.ba(i.documents),d=S0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),h=o.applyChanges(u,t.isPrimaryClient,d);e4(t,r,h.Ma);const p=new u7(e,r,o);return t.ka.set(e,p),t.qa.has(r)?t.qa.get(r).push(e):t.qa.set(r,[e]),h.snapshot}async function g7(t,e,r){const n=Rt(t),s=n.ka.get(e),i=n.qa.get(s.targetId);if(i.length>1)return n.qa.set(s.targetId,i.filter((o=>!nm(o,e)))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await vy(n.localStore,s.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(s.targetId),r&&j1(n.remoteStore,s.targetId),_y(n,s.targetId)})).catch(Nu)):(_y(n,s.targetId),await vy(n.localStore,s.targetId,!0))}async function x7(t,e){const r=Rt(t),n=r.ka.get(e),s=r.qa.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),j1(r.remoteStore,n.targetId))}async function y7(t,e,r){const n=k7(t);try{const s=await(function(o,u){const d=Rt(o),h=xr.now(),p=u.reduce(((v,T)=>v.add(T.key)),qt());let g,y;return d.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let T=$a(),w=qt();return d.ds.getEntries(v,p).next((E=>{T=E,T.forEach(((O,M)=>{M.isValidDocument()||(w=w.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(v,T))).next((E=>{g=E;const O=[];for(const M of u){const U=FD(M,g.get(M.key).overlayedDocument);U!=null&&O.push(new Xo(M.key,U,l3(U.value.mapValue),jn.exists(!0)))}return d.mutationQueue.addMutationBatch(v,h,O,u)})).next((E=>{y=E;const O=E.applyToLocalDocumentSet(g,w);return d.documentOverlayCache.saveOverlays(v,E.batchId,O)}))})).then((()=>({batchId:y.batchId,changes:v3(g)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),(function(o,u,d){let h=o.Wa[o.currentUser.toKey()];h||(h=new Vr(Bt)),h=h.insert(u,d),o.Wa[o.currentUser.toKey()]=h})(n,s.batchId,r),await C0(n,s.changes),await dm(n.remoteStore)}catch(s){const i=F1(s,"Failed to persist write");r.reject(i)}}async function nN(t,e){const r=Rt(t);try{const n=await j9(r.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=r.Ua.get(i);o&&(Jt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?Jt(o.Ba):s.removedDocuments.size>0&&(Jt(o.Ba),o.Ba=!1))})),await C0(r,n,e)}catch(n){await Nu(n)}}function Z_(t,e,r){const n=Rt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.ka.forEach(((i,o)=>{const u=o.view.sa(e);u.snapshot&&s.push(u.snapshot)})),(function(o,u){const d=Rt(o);d.onlineState=u;let h=!1;d.queries.forEach(((p,g)=>{for(const y of g.ta)y.sa(u)&&(h=!0)})),h&&$1(d)})(n.eventManager,e),s.length&&n.La.p_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function v7(t,e,r){const n=Rt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Ua.get(e),i=s&&s.key;if(i){let o=new Vr(vt.comparator);o=o.insert(i,xn.newNoDocument(i,At.min()));const u=qt().add(i),d=new lm(At.min(),new Map,new Vr(Bt),o,u);await nN(n,d),n.$a=n.$a.remove(i),n.Ua.delete(e),U1(n)}else await vy(n.localStore,e,!1).then((()=>_y(n,e,r))).catch(Nu)}async function b7(t,e){const r=Rt(t),n=e.batch.batchId;try{const s=await I9(r.localStore,e);iN(r,n,null),sN(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await C0(r,s)}catch(s){await Nu(s)}}async function w7(t,e,r){const n=Rt(t);try{const s=await(function(o,u){const d=Rt(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return d.mutationQueue.lookupMutationBatch(h,u).next((g=>(Jt(g!==null),p=g.keys(),d.mutationQueue.removeMutationBatch(h,g)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>d.localDocuments.getDocuments(h,p)))}))})(n.localStore,e);iN(n,e,r),sN(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await C0(n,s)}catch(s){await Nu(s)}}function sN(t,e){(t.Ga.get(e)||[]).forEach((r=>{r.resolve()})),t.Ga.delete(e)}function iN(t,e,r){const n=Rt(t);let s=n.Wa[n.currentUser.toKey()];if(s){const i=s.get(e);i&&(r?i.reject(r):i.resolve(),s=s.remove(e)),n.Wa[n.currentUser.toKey()]=s}}function _y(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.qa.get(e))t.ka.delete(n),r&&t.La.Ja(n,r);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach((n=>{t.Ka.containsKey(n)||aN(t,n)}))}function aN(t,e){t.Qa.delete(e.path.canonicalString());const r=t.$a.get(e);r!==null&&(j1(t.remoteStore,r),t.$a=t.$a.remove(e),t.Ua.delete(r),U1(t))}function e4(t,e,r){for(const n of r)n instanceof eN?(t.Ka.addReference(n.key,e),_7(t,n)):n instanceof tN?(ot(B1,"Document no longer in limbo: "+n.key),t.Ka.removeReference(n.key,e),t.Ka.containsKey(n.key)||aN(t,n.key)):Tt()}function _7(t,e){const r=e.key,n=r.path.canonicalString();t.$a.get(r)||t.Qa.has(n)||(ot(B1,"New document in limbo: "+r),t.Qa.add(n),U1(t))}function U1(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const r=new vt(vr.fromString(e)),n=t.za.next();t.Ua.set(n,new d7(r)),t.$a=t.$a.insert(r,n),K3(t.remoteStore,new ko(Ji(rm(r.path)),n,"TargetPurposeLimboResolution",em.ae))}}async function C0(t,e,r){const n=Rt(t),s=[],i=[],o=[];n.ka.isEmpty()||(n.ka.forEach(((u,d)=>{o.push(n.Ha(d,e,r).then((h=>{var p;if((h||r)&&n.isPrimaryClient){const g=h?!h.fromCache:(p=r?.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){s.push(h);const g=A1.Yi(d.targetId,h);i.push(g)}})))})),await Promise.all(o),n.La.p_(s),await(async function(d,h){const p=Rt(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Re.forEach(h,(y=>Re.forEach(y.Hi,(v=>p.persistence.referenceDelegate.addReference(g,y.targetId,v))).next((()=>Re.forEach(y.Ji,(v=>p.persistence.referenceDelegate.removeReference(g,y.targetId,v)))))))))}catch(g){if(!Su(g))throw g;ot(C1,"Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const v=p.Ts.get(y),T=v.snapshotVersion,w=v.withLastLimboFreeSnapshotVersion(T);p.Ts=p.Ts.insert(y,w)}}})(n.localStore,i))}async function E7(t,e){const r=Rt(t);if(!r.currentUser.isEqual(e)){ot(B1,"User change. New user:",e.toKey());const n=await W3(r.localStore,e);r.currentUser=e,(function(i,o){i.Ga.forEach((u=>{u.forEach((d=>{d.reject(new st(Ie.CANCELLED,o))}))})),i.Ga.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await C0(r,n.Rs)}}function T7(t,e){const r=Rt(t),n=r.Ua.get(e);if(n&&n.Ba)return qt().add(n.key);{let s=qt();const i=r.qa.get(e);if(!i)return s;for(const o of i){const u=r.ka.get(o);s=s.unionWith(u.view.Sa)}return s}}function oN(t){const e=Rt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v7.bind(null,e),e.La.p_=o7.bind(null,e.eventManager),e.La.Ja=l7.bind(null,e.eventManager),e}function k7(t){const e=Rt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w7.bind(null,e),e}class ip{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,r){return null}nu(e,r){return null}eu(e){return C9(this.persistence,new N9,e.initialUser,this.serializer)}Xa(e){return new H3(S1.ri,this.serializer)}Za(e){return new F9}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ip.provider={build:()=>new ip};class N7 extends ip{constructor(e){super(),this.cacheSizeBytes=e}tu(e,r){Jt(this.persistence.referenceDelegate instanceof np);const n=this.persistence.referenceDelegate.garbageCollector;return new d9(n,e.asyncQueue,r)}Xa(e){const r=this.cacheSizeBytes!==void 0?ms.withCacheSize(this.cacheSizeBytes):ms.DEFAULT;return new H3((n=>np.ri(n,r)),this.serializer)}}class Ey{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Z_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=E7.bind(null,this.syncEngine),await s7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new a7})()}createDatastore(e){const r=cm(e.databaseInfo.databaseId),n=(function(i){return new B9(i)})(e.databaseInfo);return(function(i,o,u,d){return new W9(i,o,u,d)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,s,i,o,u){return new G9(n,s,i,o,u)})(this.localStore,this.datastore,e.asyncQueue,(r=>Z_(this.syncEngine,r,0)),(function(){return G_.D()?new G_:new L9})())}createSyncEngine(e,r){return(function(s,i,o,u,d,h,p){const g=new h7(s,i,o,u,d,h);return p&&(g.ja=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(s){const i=Rt(s);ot(jl,"RemoteStore shutting down."),i.W_.add(5),await A0(i),i.z_.shutdown(),i.j_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Ey.provider={build:()=>new Ey};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ma("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new st(Ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await(async function(s,i){const o=Rt(s),u={documents:i.map((g=>rp(o.serializer,g)))},d=await o.Co("BatchGetDocuments",o.serializer.databaseId,vr.emptyPath(),u,i.length),h=new Map;d.forEach((g=>{const y=KD(o.serializer,g);h.set(y.key.toString(),y)}));const p=[];return i.forEach((g=>{const y=h.get(g.toString());Jt(!!y),p.push(y)})),p})(this.datastore,e);return r.forEach((n=>this.recordVersion(n))),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new om(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((r=>{e.delete(r.key.toString())})),e.forEach(((r,n)=>{const s=vt.fromPath(n);this.mutations.push(new I3(s,this.precondition(s)))})),await(async function(n,s){const i=Rt(n),o={writes:s.map((u=>$3(i.serializer,u)))};await i.So("Commit",i.serializer.databaseId,vr.emptyPath(),o)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw Tt();r=At.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new st(Ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(At.min())?jn.exists(!1):jn.updateTime(r):jn.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(At.min()))throw new st(Ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jn.updateTime(r)}return jn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e,r,n,s,i){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=s,this.deferred=i,this.Tu=n.maxAttempts,this.a_=new I1(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo((async()=>{const e=new S7(this.datastore),r=this.du(e);r&&r.then((n=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(n)})).catch((s=>{this.Au(s)}))))})).catch((n=>{this.Au(n)}))}))}du(e){try{const r=this.updateFunction(e);return!k0(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Eu(),Promise.resolve())))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!j3(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="FirestoreClient";class C7{constructor(e,r,n,s,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=Hn.UNAUTHENTICATED,this.clientId=Jk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async o=>{ot($o,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(ot($o,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=F1(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Sx(t,e){t.asyncQueue.verifyOperationInProgress(),ot($o,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async s=>{n.isEqual(s)||(await W3(e.localStore,s),n=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function t4(t,e){t.asyncQueue.verifyOperationInProgress();const r=await I7(t);ot($o,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>X_(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,s)=>X_(e.remoteStore,s))),t._onlineComponents=e}async function I7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ot($o,"Using user provided OfflineComponentProvider");try{await Sx(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Ie.FAILED_PRECONDITION||s.code===Ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(r))throw r;lu("Error using user provided cache. Falling back to memory cache: "+r),await Sx(t,new ip)}}else ot($o,"Using default OfflineComponentProvider"),await Sx(t,new N7(void 0));return t._offlineComponents}async function H1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ot($o,"Using user provided OnlineComponentProvider"),await t4(t,t._uninitializedComponentsProvider._online)):(ot($o,"Using default OnlineComponentProvider"),await t4(t,new Ey))),t._onlineComponents}function j7(t){return H1(t).then((e=>e.syncEngine))}function P7(t){return H1(t).then((e=>e.datastore))}async function ap(t){const e=await H1(t),r=e.eventManager;return r.onListen=f7.bind(null,e.syncEngine),r.onUnlisten=g7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=p7.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=x7.bind(null,e.syncEngine),r}function R7(t,e,r={}){const n=new Qi;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,u,d,h){const p=new z1({next:y=>{p.su(),o.enqueueAndForget((()=>M1(i,g)));const v=y.docs.has(u);!v&&y.fromCache?h.reject(new st(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&d&&d.source==="server"?h.reject(new st(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new V1(rm(u.path),p,{includeMetadataChanges:!0,Ta:!0});return L1(i,g)})(await ap(t),t.asyncQueue,e,r,n))),n.promise}function D7(t,e,r={}){const n=new Qi;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,u,d,h){const p=new z1({next:y=>{p.su(),o.enqueueAndForget((()=>M1(i,g))),y.fromCache&&d.source==="server"?h.reject(new st(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),g=new V1(u,p,{includeMetadataChanges:!0,Ta:!0});return L1(i,g)})(await ap(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t,e,r){if(!r)throw new st(Ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O7(t,e,r,n){if(e===!0&&n===!0)throw new st(Ie.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function n4(t){if(!vt.isDocumentKey(t))throw new st(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function s4(t){if(vt.isDocumentKey(t))throw new st(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Tt()}function ns(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new st(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=hm(t);throw new st(Ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function F7(t,e){if(e<=0)throw new st(Ie.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="firestore.googleapis.com",i4=!0;class a4{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new st(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uN,this.ssl=i4}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:i4;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=z3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c9)throw new st(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lN((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new st(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new st(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new st(Ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,s){return n.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fm{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new z8;switch(n.type){case"firstParty":return new G8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new st(Ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=r4.get(r);n&&(ot("ComponentProvider","Removing Datastore"),r4.delete(r),n.terminate())})(this),Promise.resolve()}}function L7(t,e,r,n={}){var s;const i=(t=ns(t,fm))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${r}`;i.host!==uN&&i.host!==u&&lu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},i),{host:u,ssl:!1,emulatorOptions:n});if(!Ro(d,o)&&(t._setSettings(d),n.mockUserToken)){let h,p;if(typeof n.mockUserToken=="string")h=n.mockUserToken,p=Hn.MOCK_USER;else{h=hk(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const g=n.mockUserToken.sub||n.mockUserToken.user_id;if(!g)throw new st(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Hn(g)}t._authCredentials=new H8(new Yk(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Wa(this.firestore,e,this._query)}}class Dn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}}class jo extends Wa{constructor(e,r,n){super(e,r,rm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new vt(e))}withConverter(e){return new jo(this.firestore,e,this._path)}}function Pt(t,e,...r){if(t=Er(t),cN("collection","path",e),t instanceof fm){const n=vr.fromString(e,...r);return s4(n),new jo(t,null,n)}{if(!(t instanceof Dn||t instanceof jo))throw new st(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(vr.fromString(e,...r));return s4(n),new jo(t.firestore,null,n)}}function yt(t,e,...r){if(t=Er(t),arguments.length===1&&(e=Jk.newId()),cN("doc","path",e),t instanceof fm){const n=vr.fromString(e,...r);return n4(n),new Dn(t,null,new vt(n))}{if(!(t instanceof Dn||t instanceof jo))throw new st(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(vr.fromString(e,...r));return n4(n),new Dn(t.firestore,t instanceof jo?t.converter:null,new vt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="AsyncQueue";class l4{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new I1(this,"async_queue_retry"),this.Su=()=>{const n=Nx();n&&ot(o4,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const r=Nx();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const r=Nx();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const r=new Qi;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Su(e))throw e;ot(o4,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const r=this.bu.then((()=>(this.pu=!0,e().catch((n=>{this.gu=n,this.pu=!1;const s=(function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u})(n);throw Ma("INTERNAL UNHANDLED ERROR: ",s),n})).then((n=>(this.pu=!1,n))))));return this.bu=r,r}enqueueAfterDelay(e,r,n){this.Du(),this.wu.indexOf(e)>-1&&(r=0);const s=O1.createAndSchedule(this,e,r,n,(i=>this.Fu(i)));return this.fu.push(s),s}Du(){this.gu&&Tt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const r of this.fu)if(r.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.fu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const r=this.fu.indexOf(e);this.fu.splice(r,1)}}function c4(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1})(t,["next","error","complete"])}class oa extends fm{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new l4,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l4(e),this._firestoreClient=void 0,await e}}}function M7(t,e){const r=typeof t=="object"?t:Qp(),n=typeof t=="string"?t:Qf,s=Go(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=ck("firestore");i&&L7(s,...i)}return s}function I0(t){if(t._terminated)throw new st(Ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$7(t),t._firestoreClient}function $7(t){var e,r,n;const s=t._freezeSettings(),i=(function(u,d,h,p){return new lD(u,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,lN(p.experimentalLongPollingOptions),p.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new C7(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(u){const d=u?._online.build();return{_offline:u?._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pl(Fn.fromBase64String(e))}catch(r){throw new st(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Pl(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new st(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new st(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new st(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7=/^__.*__$/;class B7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Xo(e,this.data,this.fieldMask,r,this.fieldTransforms):new N0(e,this.data,r,this.fieldTransforms)}}class dN{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Xo(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function hN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt()}}class G1{constructor(e,r,n,s,i,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new G1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.ku({path:n,Qu:!1});return s.$u(e),s}Uu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.ku({path:n,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return op(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(hN(this.Lu)&&V7.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class U7{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||cm(e)}ju(e,r,n,s=!1){return new G1({Lu:e,methodName:r,zu:n,path:In.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function R0(t){const e=t._freezeSettings(),r=cm(t._databaseId);return new U7(t._databaseId,!!e.ignoreUndefinedProperties,r)}function K1(t,e,r,n,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,r,s);Q1("Data must be an object, but it was:",o,n);const u=mN(n,o);let d,h;if(i.merge)d=new Ms(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const p=[];for(const g of i.mergeFields){const y=Ty(e,g,r);if(!o.contains(y))throw new st(Ie.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);xN(p,y)||p.push(y)}d=new Ms(p),h=o.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,h=o.fieldTransforms;return new B7(new ts(u),d,h)}class pm extends P0{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pm}}class X1 extends P0{_toFieldTransform(e){return new S3(e.path,new t0)}isEqual(e){return e instanceof X1}}class Y1 extends P0{constructor(e,r){super(e),this.Ju=r}_toFieldTransform(e){const r=new s0(e.serializer,_3(e.serializer,this.Ju));return new S3(e.path,r)}isEqual(e){return e instanceof Y1&&this.Ju===e.Ju}}function fN(t,e,r,n){const s=t.ju(1,e,r);Q1("Data must be an object, but it was:",s,n);const i=[],o=ts.empty();Ko(n,((d,h)=>{const p=J1(e,d,r);h=Er(h);const g=s.Uu(p);if(h instanceof pm)i.push(p);else{const y=D0(h,g);y!=null&&(i.push(p),o.set(p,y))}}));const u=new Ms(i);return new dN(o,u,s.fieldTransforms)}function pN(t,e,r,n,s,i){const o=t.ju(1,e,r),u=[Ty(e,n,r)],d=[s];if(i.length%2!=0)throw new st(Ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<i.length;y+=2)u.push(Ty(e,i[y])),d.push(i[y+1]);const h=[],p=ts.empty();for(let y=u.length-1;y>=0;--y)if(!xN(h,u[y])){const v=u[y];let T=d[y];T=Er(T);const w=o.Uu(v);if(T instanceof pm)h.push(v);else{const E=D0(T,w);E!=null&&(h.push(v),p.set(v,E))}}const g=new Ms(h);return new dN(p,g,o.fieldTransforms)}function z7(t,e,r,n=!1){return D0(r,t.ju(n?4:3,e))}function D0(t,e){if(gN(t=Er(t)))return Q1("Unsupported field value:",e,t),mN(t,e);if(t instanceof P0)return(function(n,s){if(!hN(s.Lu))throw s.Wu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return(function(n,s){const i=[];let o=0;for(const u of n){let d=D0(u,s.Ku(o));d==null&&(d={nullValue:"NULL_VALUE"}),i.push(d),o++}return{arrayValue:{values:i}}})(t,e)}return(function(n,s){if((n=Er(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return _3(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=xr.fromDate(n);return{timestampValue:tp(s.serializer,i)}}if(n instanceof xr){const i=new xr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:tp(s.serializer,i)}}if(n instanceof W1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Pl)return{bytesValue:O3(s.serializer,n._byteString)};if(n instanceof Dn){const i=s.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:k1(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof q1)return(function(o,u){return{mapValue:{fields:{[a3]:{stringValue:o3},[Jf]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return _1(u.serializer,h)}))}}}}}})(n,s);throw s.Wu(`Unsupported field value: ${hm(n)}`)})(t,e)}function mN(t,e){const r={};return e3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ko(t,((n,s)=>{const i=D0(s,e.qu(n));i!=null&&(r[n]=i)})),{mapValue:{fields:r}}}function gN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xr||t instanceof W1||t instanceof Pl||t instanceof Dn||t instanceof P0||t instanceof q1)}function Q1(t,e,r){if(!gN(r)||!(function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)})(r)){const n=hm(r);throw n==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+n)}}function Ty(t,e,r){if((e=Er(e))instanceof j0)return e._internalPath;if(typeof e=="string")return J1(t,e);throw op("Field path arguments must be of type string or ",t,!1,void 0,r)}const H7=new RegExp("[~\\*/\\[\\]]");function J1(t,e,r){if(e.search(H7)>=0)throw op(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new j0(...e.split("."))._internalPath}catch{throw op(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function op(t,e,r,n,s){const i=n&&!n.isEmpty(),o=s!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(i||o)&&(d+=" (found",i&&(d+=` in field ${n}`),o&&(d+=` in document ${s}`),d+=")"),new st(Ie.INVALID_ARGUMENT,u+t+d)}function xN(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,r,n,s,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(mm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class W7 extends lp{data(){return super.data()}}function mm(t,e){return typeof e=="string"?J1(t,e):e instanceof j0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new st(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Z1{}class ev extends Z1{}function hr(t,e,...r){let n=[];e instanceof Z1&&n.push(e),n=n.concat(r),(function(i){const o=i.filter((d=>d instanceof tv)).length,u=i.filter((d=>d instanceof gm)).length;if(o>1||o>0&&u>0)throw new st(Ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const s of n)t=s._apply(t);return t}class gm extends ev{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new gm(e,r,n)}_apply(e){const r=this._parse(e);return vN(e._query,r),new Wa(e.firestore,e.converter,my(e._query,r))}_parse(e){const r=R0(e.firestore);return(function(i,o,u,d,h,p,g){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new st(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){d4(g,p);const T=[];for(const w of g)T.push(u4(d,i,w));y={arrayValue:{values:T}}}else y=u4(d,i,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||d4(g,p),y=z7(u,o,g,p==="in"||p==="not-in");return rn.create(h,p,y)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function br(t,e,r){const n=e,s=mm("where",t);return gm._create(s,n,r)}class tv extends Z1{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new tv(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Di.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(s,i){let o=s;const u=i.getFlattenedFilters();for(const d of u)vN(o,d),o=my(o,d)})(e._query,r),new Wa(e.firestore,e.converter,my(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rv extends ev{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new rv(e,r)}_apply(e){const r=(function(s,i,o){if(s.startAt!==null)throw new st(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new st(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new e0(i,o)})(e._query,this._field,this._direction);return new Wa(e.firestore,e.converter,(function(s,i){const o=s.explicitOrderBy.concat([i]);return new Au(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,r))}}function nv(t,e="asc"){const r=e,n=mm("orderBy",t);return rv._create(n,r)}class sv extends ev{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new sv(e,r,n)}_apply(e){return new Wa(e.firestore,e.converter,ep(e._query,this._limit,this._limitType))}}function q7(t){return F7("limit",t),sv._create("limit",t,"F")}function u4(t,e,r){if(typeof(r=Er(r))=="string"){if(r==="")throw new st(Ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!m3(e)&&r.indexOf("/")!==-1)throw new st(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(vr.fromString(r));if(!vt.isDocumentKey(n))throw new st(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return k_(t,new vt(n))}if(r instanceof Dn)return k_(t,r._key);throw new st(Ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hm(r)}.`)}function d4(t,e){if(!Array.isArray(t)||t.length===0)throw new st(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vN(t,e){const r=(function(s,i){for(const o of s)for(const u of o.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new st(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(Ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class bN{convertValue(e,r="none"){switch(Lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Tt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Ko(e,((s,i)=>{n[s]=this.convertValue(i,r)})),n}convertVectorValue(e){var r,n,s;const i=(s=(n=(r=e.fields)===null||r===void 0?void 0:r[Jf].arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map((o=>Yr(o.doubleValue)));return new q1(i)}convertGeoPoint(e){return new W1(Yr(e.latitude),Yr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=tm(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Qd(e));default:return null}}convertTimestamp(e){const r=Oo(e);return new xr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=vr.fromString(e);Jt(U3(n));const s=new Jd(n.get(1),n.get(3)),i=new vt(n.popFirst(5));return s.isEqual(r)||Ma(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class G7 extends bN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class av extends lp{constructor(e,r,n,s,i,o){super(e,r,n,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(mm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Ff extends av{data(e={}){return super.data(e)}}class wN{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new qc(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new Ff(this._firestore,this._userDataWriter,n.key,n,new qc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new st(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((u=>{const d=new Ff(s._firestore,s._userDataWriter,u.doc.key,u.doc,new qc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>i||u.type!==3)).map((u=>{const d=new Ff(s._firestore,s._userDataWriter,u.doc.key,u.doc,new qc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,p=-1;return u.type!==0&&(h=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),p=o.indexOf(u.doc.key)),{type:K7(u.type),doc:d,oldIndex:h,newIndex:p}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function K7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t){t=ns(t,Dn);const e=ns(t.firestore,oa);return R7(I0(e),t._key).then((r=>_N(e,t,r)))}class xm extends bN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,r)}}function yn(t){t=ns(t,Wa);const e=ns(t.firestore,oa),r=I0(e),n=new xm(e);return yN(t._query),D7(r,t._query).then((s=>new wN(e,n,t,s)))}function la(t,e,r){t=ns(t,Dn);const n=ns(t.firestore,oa),s=iv(t.converter,e,r);return ym(n,[K1(R0(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,jn.none())])}function Wr(t,e,r,...n){t=ns(t,Dn);const s=ns(t.firestore,oa),i=R0(s);let o;return o=typeof(e=Er(e))=="string"||e instanceof j0?pN(i,"updateDoc",t._key,e,r,n):fN(i,"updateDoc",t._key,e),ym(s,[o.toMutation(t._key,jn.exists(!0))])}function Sa(t){return ym(ns(t.firestore,oa),[new om(t._key,jn.none())])}function Po(t,e){const r=ns(t.firestore,oa),n=yt(t),s=iv(t.converter,e);return ym(r,[K1(R0(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,jn.exists(!1))]).then((()=>n))}function dr(t,...e){var r,n,s;t=Er(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||c4(e[o])||(i=e[o],o++);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(c4(e[o])){const g=e[o];e[o]=(r=g.next)===null||r===void 0?void 0:r.bind(g),e[o+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),e[o+2]=(s=g.complete)===null||s===void 0?void 0:s.bind(g)}let d,h,p;if(t instanceof Dn)h=ns(t.firestore,oa),p=rm(t._key.path),d={next:g=>{e[o]&&e[o](_N(h,t,g))},error:e[o+1],complete:e[o+2]};else{const g=ns(t,Wa);h=ns(g.firestore,oa),p=g._query;const y=new xm(h);d={next:v=>{e[o]&&e[o](new wN(h,y,g,v))},error:e[o+1],complete:e[o+2]},yN(t._query)}return(function(y,v,T,w){const E=new z1(w),O=new V1(v,E,T);return y.asyncQueue.enqueueAndForget((async()=>L1(await ap(y),O))),()=>{E.su(),y.asyncQueue.enqueueAndForget((async()=>M1(await ap(y),O)))}})(I0(h),p,u,d)}function ym(t,e){return(function(n,s){const i=new Qi;return n.asyncQueue.enqueueAndForget((async()=>y7(await j7(n),s,i))),i.promise})(I0(t),e)}function _N(t,e,r){const n=r.docs.get(e._key),s=new xm(t);return new av(t,s,e._key,n,new qc(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7={maxAttempts:5};function Nd(t,e){if((t=Er(t)).firestore!==e)throw new st(Ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=R0(e)}get(e){const r=Nd(e,this._firestore),n=new G7(this._firestore);return this._transaction.lookup([r._key]).then((s=>{if(!s||s.length!==1)return Tt();const i=s[0];if(i.isFoundDocument())return new lp(this._firestore,n,i.key,i,r.converter);if(i.isNoDocument())return new lp(this._firestore,n,r._key,null,r.converter);throw Tt()}))}set(e,r,n){const s=Nd(e,this._firestore),i=iv(s.converter,r,n),o=K1(this._dataReader,"Transaction.set",s._key,i,s.converter!==null,n);return this._transaction.set(s._key,o),this}update(e,r,n,...s){const i=Nd(e,this._firestore);let o;return o=typeof(r=Er(r))=="string"||r instanceof j0?pN(this._dataReader,"Transaction.update",i._key,r,n,s):fN(this._dataReader,"Transaction.update",i._key,r),this._transaction.update(i._key,o),this}delete(e){const r=Nd(e,this._firestore);return this._transaction.delete(r._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7 extends Y7{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Nd(e,this._firestore),n=new xm(this._firestore);return super.get(e).then((s=>new av(this._firestore,n,r._key,s._document,new qc(!1,!1),r.converter)))}}function J7(t,e,r){t=ns(t,oa);const n=Object.assign(Object.assign({},X7),r);return(function(i){if(i.maxAttempts<1)throw new st(Ie.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n),(function(i,o,u){const d=new Qi;return i.asyncQueue.enqueueAndForget((async()=>{const h=await P7(i);new A7(i.asyncQueue,h,u,o,d).Iu()})),d.promise})(I0(t),(s=>e(new Q7(t,s))),n)}function Cr(){return new X1("serverTimestamp")}function Z7(t){return new Y1("increment",t)}(function(e,r=!0){(function(s){ku=s})(Hl),Ri(new ci("firestore",((n,{instanceIdentifier:s,options:i})=>{const o=n.getProvider("app").getImmediate(),u=new oa(new W8(n.getProvider("auth-internal")),new K8(o,n.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new st(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jd(h.options.projectId,p)})(o,s),o);return i=Object.assign({useFetchStreams:r},i),u._setSettings(i),u}),"PUBLIC").setMultipleInstances(!0)),ys(f_,p_,e),ys(f_,p_,"esm2017")})();function ov(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function EN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eO=EN,TN=new zl("auth","Firebase",EN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=new Yp("@firebase/auth");function tO(t,...e){cp.logLevel<=Wt.WARN&&cp.warn(`Auth (${Hl}): ${t}`,...e)}function Lf(t,...e){cp.logLevel<=Wt.ERROR&&cp.error(`Auth (${Hl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,...e){throw lv(t,...e)}function Zi(t,...e){return lv(t,...e)}function kN(t,e,r){const n=Object.assign(Object.assign({},eO()),{[e]:r});return new zl("auth","Firebase",n).create(e,{appName:t.name})}function ja(t){return kN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lv(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return TN.create(t,...e)}function Ct(t,e,...r){if(!t)throw lv(e,...r)}function Aa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lf(e),new Error(e)}function Va(t,e){t||Aa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rO(){return h4()==="http:"||h4()==="https:"}function h4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rO()||fk()||"connection"in navigator)?navigator.onLine:!0}function sO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,r){this.shortDelay=e,this.longDelay=r,Va(r>e,"Short delay should be less than long delay!"),this.isMobile=Qj()||eP()}get(){return nO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t,e){Va(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Aa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Aa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Aa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oO=new O0(3e4,6e4);function qa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Mi(t,e,r,n,s={}){return SN(t,s,async()=>{let i={},o={};n&&(e==="GET"?o=n:i={body:JSON.stringify(n)});const u=T0(Object.assign({key:t.config.apiKey},o)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},i);return Zj()||(h.referrerPolicy="no-referrer"),NN.fetch()(await AN(t,t.config.apiHost,r,u),h)})}async function SN(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},iO),e);try{const s=new cO(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw pf(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const u=i.ok?o.errorMessage:o.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw pf(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw pf(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw pf(t,"user-disabled",o);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw kN(t,p,h);Oi(t,p)}}catch(s){if(s instanceof ui)throw s;Oi(t,"network-request-failed",{message:String(s)})}}async function F0(t,e,r,n,s={}){const i=await Mi(t,e,r,n,s);return"mfaPendingCredential"in i&&Oi(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function AN(t,e,r,n){const s=`${e}${r}?${n}`,i=t,o=i.config.emulator?cv(t.config,s):`${t.config.apiScheme}://${s}`;return aO.includes(r)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function lO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Zi(this.auth,"network-request-failed")),oO.get())})}}function pf(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=Zi(t,e,n);return s.customData._tokenResponse=r,s}function f4(t){return t!==void 0&&t.enterprise!==void 0}class uO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return lO(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dO(t,e){return Mi(t,"GET","/v2/recaptchaConfig",qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(t,e){return Mi(t,"POST","/v1/accounts:delete",e)}async function up(t,e){return Mi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fO(t,e=!1){const r=Er(t),n=await r.getIdToken(e),s=uv(n);Ct(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:n,authTime:Fd(Ax(s.auth_time)),issuedAtTime:Fd(Ax(s.iat)),expirationTime:Fd(Ax(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function Ax(t){return Number(t)*1e3}function uv(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Lf("JWT malformed, contained fewer than 3 sections"),null;try{const s=ok(r);return s?JSON.parse(s):(Lf("Failed to decode base64 JWT payload"),null)}catch(s){return Lf("Caught error parsing JWT payload as JSON",s?.toString()),null}}function p4(t){const e=uv(t);return Ct(e,"internal-error"),Ct(typeof e.exp<"u","internal-error"),Ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ui&&pO(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function pO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fd(this.lastLoginAt),this.creationTime=Fd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dp(t){var e;const r=t.auth,n=await t.getIdToken(),s=await Rl(t,up(r,{idToken:n}));Ct(s?.users.length,r,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?CN(i.providerUserInfo):[],u=xO(t.providerData,o),d=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!u?.length,p=d?h:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new Ny(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function gO(t){const e=Er(t);await dp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xO(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function CN(t){return t.map(e=>{var{providerId:r}=e,n=ov(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(t,e){const r=await SN(t,{},async()=>{const n=T0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await AN(t,s,"/v1/token",`key=${i}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",NN.fetch()(o,{method:"POST",headers:u,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function vO(t,e){return Mi(t,"POST","/v2/accounts:revokeToken",qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ct(e.idToken,"internal-error"),Ct(typeof e.idToken<"u","internal-error"),Ct(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ct(e.length!==0,"internal-error");const r=p4(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await yO(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,o=new tu;return n&&(Ct(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),s&&(Ct(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ct(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tu,this.toJSON())}_performRefresh(){return Aa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yo(t,e){Ct(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Si{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,i=ov(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ny(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Rl(this,this.stsTokenManager.getToken(this.auth,e));return Ct(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return fO(this,e)}reload(){return gO(this)}_assign(e){this!==e&&(Ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await dp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ls(this.auth.app))return Promise.reject(ja(this.auth));const e=await this.getIdToken();return await Rl(this,hO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,i,o,u,d,h,p;const g=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(s=r.email)!==null&&s!==void 0?s:void 0,v=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,T=(o=r.photoURL)!==null&&o!==void 0?o:void 0,w=(u=r.tenantId)!==null&&u!==void 0?u:void 0,E=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,O=(h=r.createdAt)!==null&&h!==void 0?h:void 0,M=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:U,emailVerified:P,isAnonymous:X,providerData:B,stsTokenManager:A}=r;Ct(U&&A,e,"internal-error");const N=tu.fromJSON(this.name,A);Ct(typeof U=="string",e,"internal-error"),yo(g,e.name),yo(y,e.name),Ct(typeof P=="boolean",e,"internal-error"),Ct(typeof X=="boolean",e,"internal-error"),yo(v,e.name),yo(T,e.name),yo(w,e.name),yo(E,e.name),yo(O,e.name),yo(M,e.name);const C=new Si({uid:U,auth:e,email:y,emailVerified:P,displayName:g,isAnonymous:X,photoURL:T,phoneNumber:v,tenantId:w,stsTokenManager:N,createdAt:O,lastLoginAt:M});return B&&Array.isArray(B)&&(C.providerData=B.map(R=>Object.assign({},R))),E&&(C._redirectEventId=E),C}static async _fromIdTokenResponse(e,r,n=!1){const s=new tu;s.updateFromServerResponse(r);const i=new Si({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await dp(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];Ct(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?CN(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,u=new tu;u.updateFromIdToken(n);const d=new Si({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ny(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=new Map;function Ca(t){Va(t instanceof Function,"Expected a class definition");let e=m4.get(t);return e?(Va(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,m4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}IN.type="NONE";const g4=IN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t,e,r){return`firebase:${t}:${e}:${r}`}class ru{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=Mf(this.userKey,s.apiKey,i),this.fullPersistenceKey=Mf("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await up(this.auth,{idToken:e}).catch(()=>{});return r?Si._fromGetAccountInfoResponse(this.auth,r,e):null}return Si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new ru(Ca(g4),e,n);const s=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||Ca(g4);const o=Mf(n,e.config.apiKey,e.name);let u=null;for(const h of r)try{const p=await h._get(o);if(p){let g;if(typeof p=="string"){const y=await up(e,{idToken:p}).catch(()=>{});if(!y)break;g=await Si._fromGetAccountInfoResponse(e,y,p)}else g=Si._fromJSON(e,p);h!==i&&(u=g),i=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!d.length?new ru(i,e,n):(i=d[0],u&&await i._set(o,u.toJSON()),await Promise.all(r.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new ru(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FN(e))return"Blackberry";if(LN(e))return"Webos";if(PN(e))return"Safari";if((e.includes("chrome/")||RN(e))&&!e.includes("edge/"))return"Chrome";if(ON(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function jN(t=Kn()){return/firefox\//i.test(t)}function PN(t=Kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RN(t=Kn()){return/crios\//i.test(t)}function DN(t=Kn()){return/iemobile/i.test(t)}function ON(t=Kn()){return/android/i.test(t)}function FN(t=Kn()){return/blackberry/i.test(t)}function LN(t=Kn()){return/webos/i.test(t)}function dv(t=Kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bO(t=Kn()){var e;return dv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wO(){return tP()&&document.documentMode===10}function MN(t=Kn()){return dv(t)||ON(t)||LN(t)||FN(t)||/windows phone/i.test(t)||DN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t,e=[]){let r;switch(t){case"Browser":r=x4(Kn());break;case"Worker":r=`${x4(Kn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Hl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((o,u)=>{try{const d=e(i);o(d)}catch(d){u(d)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(t,e={}){return Mi(t,"GET","/v2/passwordPolicy",qa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=6;class kO{constructor(e){var r,n,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:TO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,i,o,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(i=d.containsUppercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsNumericCharacter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y4(this),this.idTokenSubscription=new y4(this),this.beforeStateQueue=new _O(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ca(r)),this._initializationPromise=this.queue(async()=>{var n,s,i;if(!this._deleted&&(this.persistenceManager=await ru.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await up(this,{idToken:e}),n=await Si._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Ls(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===u)&&d?.user&&(s=d.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await dp(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ls(this.app))return Promise.reject(ja(this));const r=e?Er(e):null;return r&&Ct(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ls(this.app)?Promise.reject(ja(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ls(this.app)?Promise.reject(ja(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ca(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EO(this),r=new kO(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zl("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await vO(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ca(e)||this._popupRedirectResolver;Ct(r,this,"argument-error"),this.redirectPersistenceManager=await ru.create(this,[Ca(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(u,this,"internal-error"),u.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,s);return()=>{o=!0,d()}}else{const d=e.addObserver(r);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$N(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;if(Ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&tO(`Error while retrieving App Check token: ${r.error}`),r?.token}}function Yo(t){return Er(t)}class y4{constructor(e){this.auth=e,this.observer=null,this.addObserver=lP(r=>this.observer=r)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SO(t){vm=t}function VN(t){return vm.loadJS(t)}function AO(){return vm.recaptchaEnterpriseScript}function CO(){return vm.gapiScript}function IO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class jO{constructor(){this.enterprise=new PO}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class PO{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const RO="recaptcha-enterprise",BN="NO_RECAPTCHA";class DO{constructor(e){this.type=RO,this.auth=Yo(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,u)=>{dO(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new uO(d);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,o(h.siteKey)}}).catch(d=>{u(d)})})}function s(i,o,u){const d=window.grecaptcha;f4(d)?d.enterprise.ready(()=>{d.enterprise.execute(i,{action:e}).then(h=>{o(h)}).catch(()=>{o(BN)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jO().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{n(this.auth).then(u=>{if(!r&&f4(window.grecaptcha))s(u,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=AO();d.length!==0&&(d+=u),VN(d).then(()=>{s(u,i,o)}).catch(h=>{o(h)})}}).catch(u=>{o(u)})})}}async function v4(t,e,r,n=!1,s=!1){const i=new DO(t);let o;if(s)o=BN;else try{o=await i.verify(r)}catch{o=await i.verify(r,!0)}const u=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return n?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function hp(t,e,r,n,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await v4(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await v4(t,e,r,r==="getOobCode");return n(t,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t,e){const r=Go(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(Ro(i,e??{}))return s;Oi(s,"already-initialized")}return r.initialize({options:e})}function FO(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Ca);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function LO(t,e,r){const n=Yo(t);Ct(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=UN(e),{host:o,port:u}=MO(e),d=u===null?"":`:${u}`,h={url:`${i}//${o}${d}/`},p=Object.freeze({host:o,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){Ct(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ct(Ro(h,n.config.emulator)&&Ro(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,$O()}function UN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MO(t){const e=UN(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:b4(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:b4(o)}}}function b4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $O(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Aa("not implemented")}_getIdTokenResponse(e){return Aa("not implemented")}_linkToIdToken(e,r){return Aa("not implemented")}_getReauthenticationResolver(e){return Aa("not implemented")}}async function VO(t,e){return Mi(t,"POST","/v1/accounts:update",e)}async function BO(t,e){return Mi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(t,e){return F0(t,"POST","/v1/accounts:signInWithPassword",qa(t,e))}async function zO(t,e){return Mi(t,"POST","/v1/accounts:sendOobCode",qa(t,e))}async function HO(t,e){return zO(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(t,e){return F0(t,"POST","/v1/accounts:signInWithEmailLink",qa(t,e))}async function qO(t,e){return F0(t,"POST","/v1/accounts:signInWithEmailLink",qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0 extends hv{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new i0(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new i0(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,r,"signInWithPassword",UO);case"emailLink":return WO(e,{email:this._email,oobCode:this._password});default:Oi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,n,"signUpPassword",BO);case"emailLink":return qO(e,{idToken:r,email:this._email,oobCode:this._password});default:Oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(t,e){return F0(t,"POST","/v1/accounts:signInWithIdp",qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO="http://localhost";class Dl extends hv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Dl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Oi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,i=ov(r,["providerId","signInMethod"]);if(!n||!s)return null;const o=new Dl(n,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return nu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,nu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,nu(e,r)}buildRequest(){const e={requestUri:GO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=T0(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XO(t){const e=wd(_d(t)).link,r=e?wd(_d(e)).deep_link_id:null,n=wd(_d(t)).deep_link_id;return(n?wd(_d(n)).link:null)||n||r||e||t}class fv{constructor(e){var r,n,s,i,o,u;const d=wd(_d(e)),h=(r=d.apiKey)!==null&&r!==void 0?r:null,p=(n=d.oobCode)!==null&&n!==void 0?n:null,g=KO((s=d.mode)!==null&&s!==void 0?s:null);Ct(h&&p&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=p,this.continueUrl=(i=d.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=d.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=XO(e);try{return new fv(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(){this.providerId=Iu.PROVIDER_ID}static credential(e,r){return i0._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=fv.parseLink(r);return Ct(n,"argument-error"),i0._fromEmailAndCode(e,n.code,n.tenantId)}}Iu.PROVIDER_ID="password";Iu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Iu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0 extends zN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends L0{constructor(){super("facebook.com")}static credential(e){return Dl._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends L0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Dl._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return _o.credential(r,n)}catch{return null}}}_o.GOOGLE_SIGN_IN_METHOD="google.com";_o.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends L0{constructor(){super("github.com")}static credential(e){return Dl._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eo.credential(e.oauthAccessToken)}catch{return null}}}Eo.GITHUB_SIGN_IN_METHOD="github.com";Eo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends L0{constructor(){super("twitter.com")}static credential(e,r){return Dl._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return To.credential(r,n)}catch{return null}}}To.TWITTER_SIGN_IN_METHOD="twitter.com";To.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(t,e){return F0(t,"POST","/v1/accounts:signUp",qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await Si._fromIdTokenResponse(e,n,s),o=w4(n);return new Ol({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=w4(n);return new Ol({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function w4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends ui{constructor(e,r,n,s){var i;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,fp.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new fp(e,r,n,s)}}function HN(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?fp._fromErrorAndOperation(t,i,e,n):i})}async function QO(t,e,r=!1){const n=await Rl(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ol._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(t,e,r=!1){const{auth:n}=t;if(Ls(n.app))return Promise.reject(ja(n));const s="reauthenticate";try{const i=await Rl(t,HN(n,s,e,t),r);Ct(i.idToken,n,"internal-error");const o=uv(i.idToken);Ct(o,n,"internal-error");const{sub:u}=o;return Ct(t.uid===u,n,"user-mismatch"),Ol._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&Oi(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(t,e,r=!1){if(Ls(t.app))return Promise.reject(ja(t));const n="signIn",s=await HN(t,n,e),i=await Ol._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}async function ZO(t,e){return WN(Yo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(t){const e=Yo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eF(t,e,r){const n=Yo(t);await hp(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",HO)}async function tF(t,e,r){if(Ls(t.app))return Promise.reject(ja(t));const n=Yo(t),o=await hp(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YO).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&qN(t),d}),u=await Ol._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(u.user),u}function rF(t,e,r){return Ls(t.app)?Promise.reject(ja(t)):ZO(Er(t),Iu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&qN(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nF(t,e){return Mi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Er(t),i={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await Rl(n,nF(n.auth,i));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const u=n.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=n.displayName,u.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function pv(t,e){return iF(Er(t),null,e)}async function iF(t,e,r){const{auth:n}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(i.password=r);const o=await Rl(t,VO(n,i));await t._updateTokensIfNecessary(o,!0)}function aF(t,e,r,n){return Er(t).onIdTokenChanged(e,r,n)}function oF(t,e,r){return Er(t).beforeAuthStateChanged(e,r)}function Gl(t,e,r,n){return Er(t).onAuthStateChanged(e,r,n)}function M0(t){return Er(t).signOut()}const pp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(pp,"1"),this.storage.removeItem(pp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=1e3,cF=10;class KN extends GN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,u,d)=>{this.notifyListeners(o,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);wO()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,cF):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},lF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}KN.type="LOCAL";const uF=KN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN extends GN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}XN.type="SESSION";const YN=XN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new bm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,o=this.handlersMap[s];if(!o?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const u=Array.from(o).map(async h=>h(r.origin,i)),d=await dF(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((u,d)=>{const h=mv("",20);s.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(g){const y=g;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(y.data.response);break;default:clearTimeout(p),clearTimeout(i),d(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(){return window}function fF(t){ea().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){return typeof ea().WorkerGlobalScope<"u"&&typeof ea().importScripts=="function"}async function pF(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gF(){return QN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="firebaseLocalStorageDb",xF=1,mp="firebaseLocalStorage",ZN="fbase_key";class $0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function wm(t,e){return t.transaction([mp],e?"readwrite":"readonly").objectStore(mp)}function yF(){const t=indexedDB.deleteDatabase(JN);return new $0(t).toPromise()}function Sy(){const t=indexedDB.open(JN,xF);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(mp,{keyPath:ZN})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(mp)?e(n):(n.close(),await yF(),e(await Sy()))})})}async function _4(t,e,r){const n=wm(t,!0).put({[ZN]:e,value:r});return new $0(n).toPromise()}async function vF(t,e){const r=wm(t,!1).get(e),n=await new $0(r).toPromise();return n===void 0?null:n.value}function E4(t,e){const r=wm(t,!0).delete(e);return new $0(r).toPromise()}const bF=800,wF=3;class eS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sy(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>wF)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bm._getInstance(gF()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await pF(),!this.activeServiceWorker)return;this.sender=new hF(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sy();return await _4(e,pp,"1"),await E4(e,pp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>_4(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>vF(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>E4(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=wm(s,!1).getAll();return new $0(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eS.type="LOCAL";const _F=eS;new O0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t,e){return e?Ca(e):(Ct(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends hv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return nu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return nu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function TF(t){return WN(t.auth,new gv(t),t.bypassAuthState)}function kF(t){const{auth:e,user:r}=t;return Ct(r,e,"internal-error"),JO(r,new gv(t),t.bypassAuthState)}async function NF(t){const{auth:e,user:r}=t;return Ct(r,e,"internal-error"),QO(r,new gv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:o,type:u}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TF;case"linkViaPopup":case"linkViaRedirect":return NF;case"reauthViaPopup":case"reauthViaRedirect":return kF;default:Oi(this.auth,"internal-error")}}resolve(e){Va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=new O0(2e3,1e4);class Gc extends tS{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,Gc.currentPopupAction&&Gc.currentPopupAction.cancel(),Gc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ct(e,this.auth,"internal-error"),e}async onExecution(){Va(this.filter.length===1,"Popup operations only handle one event");const e=mv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SF.get())};e()}}Gc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF="pendingRedirect",$f=new Map;class CF extends tS{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=$f.get(this.auth._key());if(!e){try{const n=await IF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}$f.set(this.auth._key(),e)}return this.bypassAuthState||$f.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IF(t,e){const r=RF(e),n=PF(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function jF(t,e){$f.set(t._key(),e)}function PF(t){return Ca(t._redirectPersistence)}function RF(t){return Mf(AF,t.config.apiKey,t.name)}async function DF(t,e,r=!1){if(Ls(t.app))return Promise.reject(ja(t));const n=Yo(t),s=EF(n,e),o=await new CF(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=600*1e3;class FF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LF(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!rS(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Zi(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OF&&this.cachedEventUids.clear(),this.cachedEventUids.has(T4(e))}saveEventToCache(e){this.cachedEventUids.add(T4(e)),this.lastProcessedEventTime=Date.now()}}function T4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function LF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MF(t,e={}){return Mi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VF=/^https?/;async function BF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await MF(t);for(const r of e)try{if(UF(r))return}catch{}Oi(t,"unauthorized-domain")}function UF(t){const e=ky(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!VF.test(r))return!1;if($F.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=new O0(3e4,6e4);function k4(){const t=ea().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function HF(t){return new Promise((e,r)=>{var n,s,i;function o(){k4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k4(),r(Zi(t,"network-request-failed"))},timeout:zF.get()})}if(!((s=(n=ea().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ea().gapi)===null||i===void 0)&&i.load)o();else{const u=IO("iframefcb");return ea()[u]=()=>{gapi.load?o():r(Zi(t,"network-request-failed"))},VN(`${CO()}?onload=${u}`).catch(d=>r(d))}}).catch(e=>{throw Vf=null,e})}let Vf=null;function WF(t){return Vf=Vf||HF(t),Vf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=new O0(5e3,15e3),GF="__/auth/iframe",KF="emulator/auth/iframe",XF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QF(t){const e=t.config;Ct(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?cv(e,KF):`https://${t.config.authDomain}/${GF}`,n={apiKey:e.apiKey,appName:t.name,v:Hl},s=YF.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${T0(n).slice(1)}`}async function JF(t){const e=await WF(t),r=ea().gapi;return Ct(r,t,"internal-error"),e.open({where:document.body,url:QF(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XF,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const o=Zi(t,"network-request-failed"),u=ea().setTimeout(()=>{i(o)},qF.get());function d(){ea().clearTimeout(u),s(n)}n.ping(d).then(d,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eL=500,tL=600,rL="_blank",nL="http://localhost";class N4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sL(t,e,r,n=eL,s=tL){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const d=Object.assign(Object.assign({},ZF),{width:n.toString(),height:s.toString(),top:i,left:o}),h=Kn().toLowerCase();r&&(u=RN(h)?rL:r),jN(h)&&(e=e||nL,d.scrollbars="yes");const p=Object.entries(d).reduce((y,[v,T])=>`${y}${v}=${T},`,"");if(bO(h)&&u!=="_self")return iL(e||"",u),new N4(null);const g=window.open(e||"",u,p);Ct(g,t,"popup-blocked");try{g.focus()}catch{}return new N4(g)}function iL(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL="__/auth/handler",oL="emulator/auth/handler",lL=encodeURIComponent("fac");async function S4(t,e,r,n,s,i){Ct(t.config.authDomain,t,"auth-domain-config-required"),Ct(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Hl,eventId:s};if(e instanceof zN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",oP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))o[p]=g}if(e instanceof L0){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),h=d?`#${lL}=${encodeURIComponent(d)}`:"";return`${cL(t)}?${T0(u).slice(1)}${h}`}function cL({config:t}){return t.emulator?cv(t,oL):`https://${t.authDomain}/${aL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="webStorageSupport";class uL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YN,this._completeRedirectFn=DF,this._overrideRedirectResult=jF}async _openPopup(e,r,n,s){var i;Va((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await S4(e,r,n,ky(),s);return sL(e,o,mv())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await S4(e,r,n,ky(),s);return fF(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(Va(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await JF(e),n=new FF(e);return r.register("authEvent",s=>(Ct(s?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Cx,{type:Cx},s=>{var i;const o=(i=s?.[0])===null||i===void 0?void 0:i[Cx];o!==void 0&&r(!!o),Oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=BF(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return MN()||PN()||dv()}}const dL=uL;var A4="@firebase/auth",C4="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pL(t){Ri(new ci("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=n.options;Ct(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$N(t)},h=new NO(n,s,i,d);return FO(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ri(new ci("auth-internal",e=>{const r=Yo(e.getProvider("auth").getImmediate());return(n=>new hL(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ys(A4,C4,fL(t)),ys(A4,C4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=300,gL=dk("authIdTokenMaxAge")||mL;let I4=null;const xL=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>gL)return;const s=r?.token;I4!==s&&(I4=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function xv(t=Qp()){const e=Go(t,"auth");if(e.isInitialized())return e.getImmediate();const r=OO(t,{popupRedirectResolver:dL,persistence:[_F,uF,YN]}),n=dk("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const o=xL(i.toString());oF(r,o,()=>o(r.currentUser)),aF(r,u=>o(u))}}const s=lk("auth");return s&&LO(r,`http://${s}`),r}function yL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}SO({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=Zi("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",yL().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pL("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="firebasestorage.googleapis.com",vL="storageBucket",bL=120*1e3,wL=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends ui{constructor(e,r,n=0){super(Ix(e),`Firebase Storage: ${r} (${Ix(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ha.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ix(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ca;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ca||(ca={}));function Ix(t){return"storage/"+t}function _L(){const t="An unknown error occurred, please check the error payload for server response.";return new ha(ca.UNKNOWN,t)}function EL(){return new ha(ca.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TL(){return new ha(ca.CANCELED,"User canceled the upload/download.")}function kL(t){return new ha(ca.INVALID_URL,"Invalid URL '"+t+"'.")}function NL(t){return new ha(ca.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function j4(t){return new ha(ca.INVALID_ARGUMENT,t)}function sS(){return new ha(ca.APP_DELETED,"The Firebase app was deleted.")}function SL(t){return new ha(ca.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Ai.makeFromUrl(e,r)}catch{return new Ai(e,"")}if(n.path==="")return n;throw NL(e)}static makeFromUrl(e,r){let n=null;const s="([A-Za-z0-9.\\-_]+)";function i(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+s+o,"i"),d={bucket:1,path:3};function h(P){P.path_=decodeURIComponent(P.path)}const p="v[A-Za-z0-9_]+",g=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",v=new RegExp(`^https?://${g}/${p}/b/${s}/o${y}`,"i"),T={bucket:1,path:3},w=r===nS?"(?:storage.googleapis.com|storage.cloud.google.com)":r,E="([^?#]*)",O=new RegExp(`^https?://${w}/${s}/${E}`,"i"),U=[{regex:u,indices:d,postModify:i},{regex:v,indices:T,postModify:h},{regex:O,indices:{bucket:1,path:2},postModify:h}];for(let P=0;P<U.length;P++){const X=U[P],B=X.regex.exec(e);if(B){const A=B[X.indices.bucket];let N=B[X.indices.path];N||(N=""),n=new Ai(A,N),X.postModify(n);break}}if(n==null)throw kL(e);return n}}class AL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t,e,r){let n=1,s=null,i=null,o=!1,u=0;function d(){return u===2}let h=!1;function p(...E){h||(h=!0,e.apply(null,E))}function g(E){s=setTimeout(()=>{s=null,t(v,d())},E)}function y(){i&&clearTimeout(i)}function v(E,...O){if(h){y();return}if(E){y(),p.call(null,E,...O);return}if(d()||o){y(),p.call(null,E,...O);return}n<64&&(n*=2);let U;u===1?(u=2,U=0):U=(n+Math.random())*1e3,g(U)}let T=!1;function w(E){T||(T=!0,y(),!h&&(s!==null?(E||(u=2),clearTimeout(s),g(0)):E||(u=1)))}return g(0),i=setTimeout(()=>{o=!0,w(!0)},r),w}function IL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){return t!==void 0}function P4(t,e,r,n){if(n<e)throw j4(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw j4(`Invalid value for '${t}'. Expected ${r} or less.`)}function PL(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const s=e(n)+"="+e(t[n]);r=r+s+"&"}return r=r.slice(0,-1),r}var gp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(gp||(gp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t,e){const r=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return r||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,r,n,s,i,o,u,d,h,p,g,y=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=g,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,T)=>{this.resolve_=v,this.reject_=T,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new mf(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=u=>{const d=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const u=i.getErrorCode()===gp.NO_ERROR,d=i.getStatus();if(!u||RL(d,this.additionalRetryCodes_)&&this.retry){const p=i.getErrorCode()===gp.ABORT;n(!1,new mf(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;n(!0,new mf(h,i))})},r=(n,s)=>{const i=this.resolve_,o=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());jL(d)?i(d):i()}catch(d){o(d)}else if(u!==null){const d=_L();d.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,d)):o(d)}else if(s.canceled){const d=this.appDelete_?sS():TL();o(d)}else{const d=EL();o(d)}};this.canceled_?r(!1,new mf(!1,null,!0)):this.backoffId_=CL(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mf{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function OL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function FL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function LL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ML(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $L(t,e,r,n,s,i,o=!0){const u=PL(t.urlParams),d=t.url+u,h=Object.assign({},t.headers);return LL(h,e),OL(h,r),FL(h,i),ML(h,n),new DL(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function BL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,r){this._service=e,r instanceof Ai?this._location=r:this._location=Ai.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new xp(e,r)}get root(){const e=new Ai(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BL(this._location.path)}get storage(){return this._service}get parent(){const e=VL(this._location.path);if(e===null)return null;const r=new Ai(this._location.bucket,e);return new xp(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw SL(e)}}function R4(t,e){const r=e?.[vL];return r==null?null:Ai.makeFromBucketSpec(r,t)}function UL(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:hk(s,t.app.options.projectId))}class zL{constructor(e,r,n,s,i){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=nS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bL,this._maxUploadRetryTime=wL,this._requests=new Set,s!=null?this._bucket=Ai.makeFromBucketSpec(s,this._host):this._bucket=R4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ai.makeFromBucketSpec(this._url,e):this._bucket=R4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){P4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){P4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Ls(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xp(this,e)}_makeRequest(e,r,n,s,i=!0){if(this._deleted)return new AL(sS());{const o=$L(e,this._appId,n,s,r,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,s).getPromise()}}const D4="@firebase/storage",O4="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="storage";function HL(t=Qp(),e){t=Er(t);const n=Go(t,iS).getImmediate({identifier:e}),s=ck("storage");return s&&WL(n,...s),n}function WL(t,e,r,n={}){UL(t,e,r,n)}function qL(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new zL(r,n,s,e,Hl)}function GL(){Ri(new ci(iS,qL,"PUBLIC").setMultipleInstances(!0)),ys(D4,O4,""),ys(D4,O4,"esm2017")}GL();const KL={apiKey:"AIzaSyDYacL_WIzZUSP-Tjl3794P_jHocMDqN9g",authDomain:"blackkstreaming-55f0e.firebaseapp.com",projectId:"blackkstreaming-55f0e",storageBucket:"blackkstreaming-55f0e.firebasestorage.app",messagingSenderId:"998157647233",appId:"1:998157647233:web:3e5b8128a0275ae4553c80",measurementId:"G-GFM50WNMSP"},V0=vk(KL);$8(V0);const Ve=M7(V0);HL(V0);const Qr=xv(V0),yv=S.createContext({});function vv(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const bv=typeof window<"u",aS=bv?S.useLayoutEffect:S.useEffect,_m=S.createContext(null);function wv(t,e){t.indexOf(e)===-1&&t.push(e)}function _v(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Ba=(t,e,r)=>r>e?e:r<t?t:r;let Ev=()=>{};const Ua={},oS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function lS(t){return typeof t=="object"&&t!==null}const cS=t=>/^0[^.\s]+$/u.test(t);function Tv(t){let e;return()=>(e===void 0&&(e=t()),e)}const ai=t=>t,XL=(t,e)=>r=>e(t(r)),B0=(...t)=>t.reduce(XL),a0=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class kv{constructor(){this.subscriptions=[]}add(e){return wv(this.subscriptions,e),()=>_v(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ta=t=>t*1e3,ra=t=>t/1e3;function uS(t,e){return e?t*(1e3/e):0}const dS=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,YL=1e-7,QL=12;function JL(t,e,r,n,s){let i,o,u=0;do o=e+(r-e)/2,i=dS(o,n,s)-t,i>0?r=o:e=o;while(Math.abs(i)>YL&&++u<QL);return o}function U0(t,e,r,n){if(t===e&&r===n)return ai;const s=i=>JL(i,0,1,t,r);return i=>i===0||i===1?i:dS(s(i),e,n)}const hS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fS=t=>e=>1-t(1-e),pS=U0(.33,1.53,.69,.99),Nv=fS(pS),mS=hS(Nv),gS=t=>(t*=2)<1?.5*Nv(t):.5*(2-Math.pow(2,-10*(t-1))),Sv=t=>1-Math.sin(Math.acos(t)),xS=fS(Sv),yS=hS(Sv),ZL=U0(.42,0,1,1),eM=U0(0,0,.58,1),vS=U0(.42,0,.58,1),tM=t=>Array.isArray(t)&&typeof t[0]!="number",bS=t=>Array.isArray(t)&&typeof t[0]=="number",rM={linear:ai,easeIn:ZL,easeInOut:vS,easeOut:eM,circIn:Sv,circInOut:yS,circOut:xS,backIn:Nv,backInOut:mS,backOut:pS,anticipate:gS},nM=t=>typeof t=="string",F4=t=>{if(bS(t)){Ev(t.length===4);const[e,r,n,s]=t;return U0(e,r,n,s)}else if(nM(t))return rM[t];return t},gf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],L4={value:null};function sM(t,e){let r=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},d=0;function h(g){o.has(g)&&(p.schedule(g),t()),d++,g(u)}const p={schedule:(g,y=!1,v=!1)=>{const w=v&&s?r:n;return y&&o.add(g),w.has(g)||w.add(g),g},cancel:g=>{n.delete(g),o.delete(g)},process:g=>{if(u=g,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(h),e&&L4.value&&L4.value.frameloop[e].push(d),d=0,r.clear(),s=!1,i&&(i=!1,p.process(g))}};return p}const iM=40;function wS(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=gf.reduce((U,P)=>(U[P]=sM(i,e?P:void 0),U),{}),{setup:u,read:d,resolveKeyframes:h,preUpdate:p,update:g,preRender:y,render:v,postRender:T}=o,w=()=>{const U=Ua.useManualTiming?s.timestamp:performance.now();r=!1,Ua.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(U-s.timestamp,iM),1)),s.timestamp=U,s.isProcessing=!0,u.process(s),d.process(s),h.process(s),p.process(s),g.process(s),y.process(s),v.process(s),T.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(w))},E=()=>{r=!0,n=!0,s.isProcessing||t(w)};return{schedule:gf.reduce((U,P)=>{const X=o[P];return U[P]=(B,A=!1,N=!1)=>(r||E(),X.schedule(B,A,N)),U},{}),cancel:U=>{for(let P=0;P<gf.length;P++)o[gf[P]].cancel(U)},state:s,steps:o}}const{schedule:$r,cancel:Bo,state:Sn,steps:jx}=wS(typeof requestAnimationFrame<"u"?requestAnimationFrame:ai,!0);let Bf;function aM(){Bf=void 0}const xs={now:()=>(Bf===void 0&&xs.set(Sn.isProcessing||Ua.useManualTiming?Sn.timestamp:performance.now()),Bf),set:t=>{Bf=t,queueMicrotask(aM)}},_S=t=>e=>typeof e=="string"&&e.startsWith(t),Av=_S("--"),oM=_S("var(--"),Cv=t=>oM(t)?lM.test(t.split("/*")[0].trim()):!1,lM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ju={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},o0={...ju,transform:t=>Ba(0,1,t)},xf={...ju,default:1},Ld=t=>Math.round(t*1e5)/1e5,Iv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cM(t){return t==null}const uM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jv=(t,e)=>r=>!!(typeof r=="string"&&uM.test(r)&&r.startsWith(t)||e&&!cM(r)&&Object.prototype.hasOwnProperty.call(r,e)),ES=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,u]=n.match(Iv);return{[t]:parseFloat(s),[e]:parseFloat(i),[r]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},dM=t=>Ba(0,255,t),Px={...ju,transform:t=>Math.round(dM(t))},El={test:jv("rgb","red"),parse:ES("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Px.transform(t)+", "+Px.transform(e)+", "+Px.transform(r)+", "+Ld(o0.transform(n))+")"};function hM(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Ay={test:jv("#"),parse:hM,transform:El.transform},z0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),bo=z0("deg"),na=z0("%"),It=z0("px"),fM=z0("vh"),pM=z0("vw"),M4={...na,parse:t=>na.parse(t)/100,transform:t=>na.transform(t*100)},Kc={test:jv("hsl","hue"),parse:ES("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+na.transform(Ld(e))+", "+na.transform(Ld(r))+", "+Ld(o0.transform(n))+")"},zn={test:t=>El.test(t)||Ay.test(t)||Kc.test(t),parse:t=>El.test(t)?El.parse(t):Kc.test(t)?Kc.parse(t):Ay.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?El.transform(t):Kc.transform(t)},mM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gM(t){return isNaN(t)&&typeof t=="string"&&(t.match(Iv)?.length||0)+(t.match(mM)?.length||0)>0}const TS="number",kS="color",xM="var",yM="var(",$4="${}",vM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function l0(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const u=e.replace(vM,d=>(zn.test(d)?(n.color.push(i),s.push(kS),r.push(zn.parse(d))):d.startsWith(yM)?(n.var.push(i),s.push(xM),r.push(d)):(n.number.push(i),s.push(TS),r.push(parseFloat(d))),++i,$4)).split($4);return{values:r,split:u,indexes:n,types:s}}function NS(t){return l0(t).values}function SS(t){const{split:e,types:r}=l0(t),n=e.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],s[o]!==void 0){const u=r[o];u===TS?i+=Ld(s[o]):u===kS?i+=zn.transform(s[o]):i+=s[o]}return i}}const bM=t=>typeof t=="number"?0:t;function wM(t){const e=NS(t);return SS(t)(e.map(bM))}const Uo={test:gM,parse:NS,createTransformer:SS,getAnimatableNone:wM};function Rx(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function _M({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,i=0,o=0;if(!e)s=i=o=r;else{const u=r<.5?r*(1+e):r+e-r*e,d=2*r-u;s=Rx(d,u,t+1/3),i=Rx(d,u,t),o=Rx(d,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function yp(t,e){return r=>r>0?e:t}const Mr=(t,e,r)=>t+(e-t)*r,Dx=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},EM=[Ay,El,Kc],TM=t=>EM.find(e=>e.test(t));function V4(t){const e=TM(t);if(!e)return!1;let r=e.parse(t);return e===Kc&&(r=_M(r)),r}const B4=(t,e)=>{const r=V4(t),n=V4(e);if(!r||!n)return yp(t,e);const s={...r};return i=>(s.red=Dx(r.red,n.red,i),s.green=Dx(r.green,n.green,i),s.blue=Dx(r.blue,n.blue,i),s.alpha=Mr(r.alpha,n.alpha,i),El.transform(s))},Cy=new Set(["none","hidden"]);function kM(t,e){return Cy.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function NM(t,e){return r=>Mr(t,e,r)}function Pv(t){return typeof t=="number"?NM:typeof t=="string"?Cv(t)?yp:zn.test(t)?B4:CM:Array.isArray(t)?AS:typeof t=="object"?zn.test(t)?B4:SM:yp}function AS(t,e){const r=[...t],n=r.length,s=t.map((i,o)=>Pv(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function SM(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=Pv(t[s])(t[s],e[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function AM(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][n[i]],u=t.values[o]??0;r[s]=u,n[i]++}return r}const CM=(t,e)=>{const r=Uo.createTransformer(e),n=l0(t),s=l0(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Cy.has(t)&&!s.values.length||Cy.has(e)&&!n.values.length?kM(t,e):B0(AS(AM(n,s),s.values),r):yp(t,e)};function CS(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Mr(t,e,r):Pv(t)(t,e)}const IM=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>$r.update(e,r),stop:()=>Bo(e),now:()=>Sn.isProcessing?Sn.timestamp:xs.now()}},IS=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let i=0;i<s;i++)n+=t(i/(s-1))+", ";return`linear(${n.substring(0,n.length-2)})`},vp=2e4;function Rv(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<vp;)e+=r,n=t.next(e);return e>=vp?1/0:e}function jM(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(Rv(n),vp);return{type:"keyframes",ease:i=>n.next(s*i).value/e,duration:ra(s)}}const PM=5;function jS(t,e,r){const n=Math.max(e-PM,0);return uS(r-t(n),e-n)}const Ur={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ox=.001;function RM({duration:t=Ur.duration,bounce:e=Ur.bounce,velocity:r=Ur.velocity,mass:n=Ur.mass}){let s,i,o=1-e;o=Ba(Ur.minDamping,Ur.maxDamping,o),t=Ba(Ur.minDuration,Ur.maxDuration,ra(t)),o<1?(s=h=>{const p=h*o,g=p*t,y=p-r,v=Iy(h,o),T=Math.exp(-g);return Ox-y/v*T},i=h=>{const g=h*o*t,y=g*r+r,v=Math.pow(o,2)*Math.pow(h,2)*t,T=Math.exp(-g),w=Iy(Math.pow(h,2),o);return(-s(h)+Ox>0?-1:1)*((y-v)*T)/w}):(s=h=>{const p=Math.exp(-h*t),g=(h-r)*t+1;return-Ox+p*g},i=h=>{const p=Math.exp(-h*t),g=(r-h)*(t*t);return p*g});const u=5/t,d=OM(s,i,u);if(t=ta(t),isNaN(d))return{stiffness:Ur.stiffness,damping:Ur.damping,duration:t};{const h=Math.pow(d,2)*n;return{stiffness:h,damping:o*2*Math.sqrt(n*h),duration:t}}}const DM=12;function OM(t,e,r){let n=r;for(let s=1;s<DM;s++)n=n-t(n)/e(n);return n}function Iy(t,e){return t*Math.sqrt(1-e*e)}const FM=["duration","bounce"],LM=["stiffness","damping","mass"];function U4(t,e){return e.some(r=>t[r]!==void 0)}function MM(t){let e={velocity:Ur.velocity,stiffness:Ur.stiffness,damping:Ur.damping,mass:Ur.mass,isResolvedFromDuration:!1,...t};if(!U4(t,LM)&&U4(t,FM))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*Ba(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ur.mass,stiffness:s,damping:i}}else{const r=RM(t);e={...e,...r,mass:Ur.mass},e.isResolvedFromDuration=!0}return e}function bp(t=Ur.visualDuration,e=Ur.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],u={done:!1,value:i},{stiffness:d,damping:h,mass:p,duration:g,velocity:y,isResolvedFromDuration:v}=MM({...r,velocity:-ra(r.velocity||0)}),T=y||0,w=h/(2*Math.sqrt(d*p)),E=o-i,O=ra(Math.sqrt(d/p)),M=Math.abs(E)<5;n||(n=M?Ur.restSpeed.granular:Ur.restSpeed.default),s||(s=M?Ur.restDelta.granular:Ur.restDelta.default);let U;if(w<1){const X=Iy(O,w);U=B=>{const A=Math.exp(-w*O*B);return o-A*((T+w*O*E)/X*Math.sin(X*B)+E*Math.cos(X*B))}}else if(w===1)U=X=>o-Math.exp(-O*X)*(E+(T+O*E)*X);else{const X=O*Math.sqrt(w*w-1);U=B=>{const A=Math.exp(-w*O*B),N=Math.min(X*B,300);return o-A*((T+w*O*E)*Math.sinh(N)+X*E*Math.cosh(N))/X}}const P={calculatedDuration:v&&g||null,next:X=>{const B=U(X);if(v)u.done=X>=g;else{let A=X===0?T:0;w<1&&(A=X===0?ta(T):jS(U,X,B));const N=Math.abs(A)<=n,C=Math.abs(o-B)<=s;u.done=N&&C}return u.value=u.done?o:B,u},toString:()=>{const X=Math.min(Rv(P),vp),B=IS(A=>P.next(X*A).value,X,30);return X+"ms "+B},toTransition:()=>{}};return P}bp.applyToOptions=t=>{const e=jM(t,100,bp);return t.ease=e.ease,t.duration=ta(e.duration),t.type="keyframes",t};function jy({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:u,max:d,restDelta:h=.5,restSpeed:p}){const g=t[0],y={done:!1,value:g},v=N=>u!==void 0&&N<u||d!==void 0&&N>d,T=N=>u===void 0?d:d===void 0||Math.abs(u-N)<Math.abs(d-N)?u:d;let w=r*e;const E=g+w,O=o===void 0?E:o(E);O!==E&&(w=O-g);const M=N=>-w*Math.exp(-N/n),U=N=>O+M(N),P=N=>{const C=M(N),R=U(N);y.done=Math.abs(C)<=h,y.value=y.done?O:R};let X,B;const A=N=>{v(y.value)&&(X=N,B=bp({keyframes:[y.value,T(y.value)],velocity:jS(U,N,y.value),damping:s,stiffness:i,restDelta:h,restSpeed:p}))};return A(0),{calculatedDuration:null,next:N=>{let C=!1;return!B&&X===void 0&&(C=!0,P(N),A(N)),X!==void 0&&N>=X?B.next(N-X):(!C&&P(N),y)}}}function $M(t,e,r){const n=[],s=r||Ua.mix||CS,i=t.length-1;for(let o=0;o<i;o++){let u=s(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||ai:e;u=B0(d,u)}n.push(u)}return n}function VM(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const i=t.length;if(Ev(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=$M(e,n,s),d=u.length,h=p=>{if(o&&p<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const y=a0(t[g],t[g+1],p);return u[g](y)};return r?p=>h(Ba(t[0],t[i-1],p)):h}function BM(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=a0(0,e,n);t.push(Mr(r,1,s))}}function UM(t){const e=[0];return BM(e,t.length-1),e}function zM(t,e){return t.map(r=>r*e)}function HM(t,e){return t.map(()=>e||vS).splice(0,t.length-1)}function Md({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=tM(n)?n.map(F4):F4(n),i={done:!1,value:e[0]},o=zM(r&&r.length===e.length?r:UM(e),t),u=VM(o,e,{ease:Array.isArray(s)?s:HM(e,s)});return{calculatedDuration:t,next:d=>(i.value=u(d),i.done=d>=t,i)}}const WM=t=>t!==null;function Dv(t,{repeat:e,repeatType:r="loop"},n,s=1){const i=t.filter(WM),u=s<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!u||n===void 0?i[u]:n}const qM={decay:jy,inertia:jy,tween:Md,keyframes:Md,spring:bp};function PS(t){typeof t.type=="string"&&(t.type=qM[t.type])}class Ov{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const GM=t=>t/100;class Fv extends Ov{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{if(r){const{motionValue:n}=this.options;n&&n.updatedAt!==xs.now()&&this.tick(xs.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;PS(e);const{type:r=Md,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:u}=e;const d=r||Md;d!==Md&&typeof u[0]!="number"&&(this.mixKeyframes=B0(GM,CS(u[0],u[1])),u=[0,100]);const h=d({...e,keyframes:u});i==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=Rv(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=h}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:y,repeatDelay:v,type:T,onUpdate:w,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const O=this.currentTime-h*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?O<0:O>s;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let U=this.currentTime,P=n;if(g){const N=Math.min(this.currentTime,s)/u;let C=Math.floor(N),R=N%1;!R&&N>=1&&(R=1),R===1&&C--,C=Math.min(C,g+1),!!(C%2)&&(y==="reverse"?(R=1-R,v&&(R-=v/u)):y==="mirror"&&(P=o)),U=Ba(0,1,R)*u}const X=M?{done:!1,value:p[0]}:P.next(U);i&&(X.value=i(X.value));let{done:B}=X;!M&&d!==null&&(B=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return A&&T!==jy&&(X.value=Dv(p,this.options,E,this.speed)),w&&w(X.value),A&&this.finish(),X}then(e,r){return this.finished.then(e,r)}get duration(){return ra(this.calculatedDuration)}get time(){return ra(this.currentTime)}set time(e){e=ta(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xs.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=ra(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=IM,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function KM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Tl=t=>t*180/Math.PI,Py=t=>{const e=Tl(Math.atan2(t[1],t[0]));return Ry(e)},XM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Py,rotateZ:Py,skewX:t=>Tl(Math.atan(t[1])),skewY:t=>Tl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ry=t=>(t=t%360,t<0&&(t+=360),t),z4=Py,H4=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),W4=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),YM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:H4,scaleY:W4,scale:t=>(H4(t)+W4(t))/2,rotateX:t=>Ry(Tl(Math.atan2(t[6],t[5]))),rotateY:t=>Ry(Tl(Math.atan2(-t[2],t[0]))),rotateZ:z4,rotate:z4,skewX:t=>Tl(Math.atan(t[4])),skewY:t=>Tl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Dy(t){return t.includes("scale")?1:0}function Oy(t,e){if(!t||t==="none")return Dy(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=YM,s=r;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=XM,s=u}if(!s)return Dy(e);const i=n[e],o=s[1].split(",").map(JM);return typeof i=="function"?i(o):o[i]}const QM=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Oy(r,e)};function JM(t){return parseFloat(t.trim())}const Pu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ru=new Set(Pu),q4=t=>t===ju||t===It,ZM=new Set(["x","y","z"]),e$=Pu.filter(t=>!ZM.has(t));function t$(t){const e=[];return e$.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const kl={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Oy(e,"x"),y:(t,{transform:e})=>Oy(e,"y")};kl.translateX=kl.x;kl.translateY=kl.y;const Nl=new Set;let Fy=!1,Ly=!1,My=!1;function RS(){if(Ly){const t=Array.from(Nl).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=t$(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{n.getValue(i)?.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Ly=!1,Fy=!1,Nl.forEach(t=>t.complete(My)),Nl.clear()}function DS(){Nl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ly=!0)})}function r$(){My=!0,DS(),RS(),My=!1}class Lv{constructor(e,r,n,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Nl.add(this),Fy||(Fy=!0,$r.read(DS),$r.resolveKeyframes(RS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const i=s?.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const u=n.readValue(r,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}KM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Nl.delete(this)}cancel(){this.state==="scheduled"&&(Nl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const n$=t=>t.startsWith("--");function s$(t,e,r){n$(e)?t.style.setProperty(e,r):t.style[e]=r}const i$=Tv(()=>window.ScrollTimeline!==void 0),a$={};function o$(t,e){const r=Tv(t);return()=>a$[e]??r()}const OS=o$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sd=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,G4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sd([0,.65,.55,1]),circOut:Sd([.55,0,1,.45]),backIn:Sd([.31,.01,.66,-.59]),backOut:Sd([.33,1.53,.69,.99])};function FS(t,e){if(t)return typeof t=="function"?OS()?IS(t,e):"ease-out":bS(t)?Sd(t):Array.isArray(t)?t.map(r=>FS(r,e)||G4.easeOut):G4[t]}function l$(t,e,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:u="easeOut",times:d}={},h=void 0){const p={[e]:r};d&&(p.offset=d);const g=FS(u,s);Array.isArray(g)&&(p.easing=g);const y={delay:n,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),t.animate(p,y)}function LS(t){return typeof t=="function"&&"applyToOptions"in t}function c$({type:t,...e}){return LS(t)&&OS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class u$ extends Ov{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Ev(typeof e.type!="string");const h=c$(e);this.animation=l$(r,n,s,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=Dv(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):s$(r,n,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ra(Number(e))}get time(){return ra(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ta(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&i$()?(this.animation.timeline=e,ai):r(this)}}const MS={anticipate:gS,backInOut:mS,circInOut:yS};function d$(t){return t in MS}function h$(t){typeof t.ease=="string"&&d$(t.ease)&&(t.ease=MS[t.ease])}const K4=10;class f$ extends u${constructor(e){h$(e),PS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const u=new Fv({...o,autoplay:!1}),d=ta(this.finishedTime??this.time);r.setWithVelocity(u.sample(d-K4).value,u.sample(d).value,K4),u.stop()}}const X4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Uo.test(t)||t==="0")&&!t.startsWith("url("));function p$(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function m$(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=X4(s,e),u=X4(i,e);return!o||!u?!1:p$(t)||(r==="spring"||LS(r))&&n}function Mv(t){return lS(t)&&"offsetHeight"in t}const g$=new Set(["opacity","clipPath","filter","transform"]),x$=Tv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function y$(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:i,type:o}=t;if(!Mv(e?.owner?.current))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return x$()&&r&&g$.has(r)&&(r!=="transform"||!d)&&!u&&!n&&s!=="mirror"&&i!==0&&o!=="inertia"}const v$=40;class b$ extends Ov{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:u,name:d,motionValue:h,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xs.now();const y={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,name:d,motionValue:h,element:p,...g},v=p?.KeyframeResolver||Lv;this.keyframeResolver=new v(u,(T,w,E)=>this.onKeyframesResolved(T,w,y,!E),d,h,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:u,delay:d,isHandoff:h,onUpdate:p}=n;this.resolvedAt=xs.now(),m$(e,i,o,u)||((Ua.instantAnimations||!d)&&p?.(Dv(e,n,r)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>v$?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},v=!h&&y$(y)?new f$({...y,element:y.motionValue.owner.current}):new Fv(y);v.finished.then(()=>this.notifyFinished()).catch(ai),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),r$()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const w$=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _$(t){const e=w$.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function $S(t,e,r=1){const[n,s]=_$(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return oS(o)?parseFloat(o):o}return Cv(s)?$S(s,e,r+1):s}function $v(t,e){return t?.[e]??t?.default??t}const VS=new Set(["width","height","top","left","right","bottom",...Pu]),E$={test:t=>t==="auto",parse:t=>t},BS=t=>e=>e.test(t),US=[ju,It,na,bo,pM,fM,E$],Y4=t=>US.find(BS(t));function T$(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||cS(t):!0}const k$=new Set(["brightness","contrast","saturate","opacity"]);function N$(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(Iv)||[];if(!n)return t;const s=r.replace(n,"");let i=k$.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+s+")"}const S$=/\b([a-z-]*)\(.*?\)/gu,$y={...Uo,getAnimatableNone:t=>{const e=t.match(S$);return e?e.map(N$).join(" "):t}},Q4={...ju,transform:Math.round},A$={rotate:bo,rotateX:bo,rotateY:bo,rotateZ:bo,scale:xf,scaleX:xf,scaleY:xf,scaleZ:xf,skew:bo,skewX:bo,skewY:bo,distance:It,translateX:It,translateY:It,translateZ:It,x:It,y:It,z:It,perspective:It,transformPerspective:It,opacity:o0,originX:M4,originY:M4,originZ:It},Vv={borderWidth:It,borderTopWidth:It,borderRightWidth:It,borderBottomWidth:It,borderLeftWidth:It,borderRadius:It,radius:It,borderTopLeftRadius:It,borderTopRightRadius:It,borderBottomRightRadius:It,borderBottomLeftRadius:It,width:It,maxWidth:It,height:It,maxHeight:It,top:It,right:It,bottom:It,left:It,padding:It,paddingTop:It,paddingRight:It,paddingBottom:It,paddingLeft:It,margin:It,marginTop:It,marginRight:It,marginBottom:It,marginLeft:It,backgroundPositionX:It,backgroundPositionY:It,...A$,zIndex:Q4,fillOpacity:o0,strokeOpacity:o0,numOctaves:Q4},C$={...Vv,color:zn,backgroundColor:zn,outlineColor:zn,fill:zn,stroke:zn,borderColor:zn,borderTopColor:zn,borderRightColor:zn,borderBottomColor:zn,borderLeftColor:zn,filter:$y,WebkitFilter:$y},zS=t=>C$[t];function HS(t,e){let r=zS(t);return r!==$y&&(r=Uo),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const I$=new Set(["auto","none","0"]);function j$(t,e,r){let n=0,s;for(;n<t.length&&!s;){const i=t[n];typeof i=="string"&&!I$.has(i)&&l0(i).values.length&&(s=t[n]),n++}if(s&&r)for(const i of e)t[i]=HS(r,s)}class P$ extends Lv{constructor(e,r,n,s,i){super(e,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),Cv(h))){const p=$S(h,r.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!VS.has(n)||e.length!==2)return;const[s,i]=e,o=Y4(s),u=Y4(i);if(o!==u)if(q4(o)&&q4(u))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else kl[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||T$(e[s]))&&n.push(s);n.length&&j$(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=kl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function R$(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const s=r?.[t]??n.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const J4=30,D$=t=>!isNaN(parseFloat(t));class O${constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=xs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty();s&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=xs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=D$(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new kv);const n=this.events[e].add(r);return e==="change"?()=>{n(),$r.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>J4)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,J4);return uS(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pu(t,e){return new O$(t,e)}const WS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:Bv}=wS(queueMicrotask,!1),ki={x:!1,y:!1};function qS(){return ki.x||ki.y}function F$(t){return t==="x"||t==="y"?ki[t]?null:(ki[t]=!0,()=>{ki[t]=!1}):ki.x||ki.y?null:(ki.x=ki.y=!0,()=>{ki.x=ki.y=!1})}function GS(t,e){const r=R$(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function Z4(t){return!(t.pointerType==="touch"||qS())}function L$(t,e,r={}){const[n,s,i]=GS(t,r),o=u=>{if(!Z4(u))return;const{target:d}=u,h=e(d,u);if(typeof h!="function"||!d)return;const p=g=>{Z4(g)&&(h(g),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,s)};return n.forEach(u=>{u.addEventListener("pointerenter",o,s)}),i}const KS=(t,e)=>e?t===e?!0:KS(t,e.parentElement):!1,Uv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,M$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $$(t){return M$.has(t.tagName)||t.tabIndex!==-1}const Uf=new WeakSet;function eE(t){return e=>{e.key==="Enter"&&t(e)}}function Fx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const V$=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=eE(()=>{if(Uf.has(r))return;Fx(r,"down");const s=eE(()=>{Fx(r,"up")}),i=()=>Fx(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function tE(t){return Uv(t)&&!qS()}function B$(t,e,r={}){const[n,s,i]=GS(t,r),o=u=>{const d=u.currentTarget;if(!tE(u))return;Uf.add(d);const h=e(d,u),p=(v,T)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),Uf.has(d)&&Uf.delete(d),tE(v)&&typeof h=="function"&&h(v,{success:T})},g=v=>{p(v,d===window||d===document||r.useGlobalTarget||KS(d,v.target))},y=v=>{p(v,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",y,s)};return n.forEach(u=>{(r.useGlobalTarget?window:u).addEventListener("pointerdown",o,s),Mv(u)&&(u.addEventListener("focus",h=>V$(h,s)),!$$(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function XS(t){return lS(t)&&"ownerSVGElement"in t}function U$(t){return XS(t)&&t.tagName==="svg"}const Wn=t=>!!(t&&t.getVelocity),z$=[...US,zn,Uo],H$=t=>z$.find(BS(t)),zv=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class W$ extends S.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=Mv(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function q$({children:t,isPresent:e,anchorX:r}){const n=S.useId(),s=S.useRef(null),i=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=S.useContext(zv);return S.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:p,right:g}=i.current;if(e||!s.current||!u||!d)return;const y=r==="left"?`left: ${p}`:`right: ${g}`;s.current.dataset.motionPopId=n;const v=document.createElement("style");return o&&(v.nonce=o),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.contains(v)&&document.head.removeChild(v)}},[e]),a.jsx(W$,{isPresent:e,childRef:s,sizeRef:i,children:S.cloneElement(t,{ref:s})})}const G$=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o,anchorX:u})=>{const d=vv(K$),h=S.useId();let p=!0,g=S.useMemo(()=>(p=!1,{id:h,initial:e,isPresent:r,custom:s,onExitComplete:y=>{d.set(y,!0);for(const v of d.values())if(!v)return;n&&n()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[r,d,n]);return i&&p&&(g={...g}),S.useMemo(()=>{d.forEach((y,v)=>d.set(v,!1))},[r]),S.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(t=a.jsx(q$,{isPresent:r,anchorX:u,children:t})),a.jsx(_m.Provider,{value:g,children:t})};function K$(){return new Map}function YS(t=!0){const e=S.useContext(_m);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,i=S.useId();S.useEffect(()=>{if(t)return s(i)},[t]);const o=S.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,o]:[!0]}const yf=t=>t.key||"";function rE(t){const e=[];return S.Children.forEach(t,r=>{S.isValidElement(r)&&e.push(r)}),e}const zt=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:u="left"})=>{const[d,h]=YS(o),p=S.useMemo(()=>rE(t),[t]),g=o&&!d?[]:p.map(yf),y=S.useRef(!0),v=S.useRef(p),T=vv(()=>new Map),[w,E]=S.useState(p),[O,M]=S.useState(p);aS(()=>{y.current=!1,v.current=p;for(let X=0;X<O.length;X++){const B=yf(O[X]);g.includes(B)?T.delete(B):T.get(B)!==!0&&T.set(B,!1)}},[O,g.length,g.join("-")]);const U=[];if(p!==w){let X=[...p];for(let B=0;B<O.length;B++){const A=O[B],N=yf(A);g.includes(N)||(X.splice(B,0,A),U.push(A))}return i==="wait"&&U.length&&(X=U),M(rE(X)),E(p),null}const{forceRender:P}=S.useContext(yv);return a.jsx(a.Fragment,{children:O.map(X=>{const B=yf(X),A=o&&!d?!1:p===O||g.includes(B),N=()=>{if(T.has(B))T.set(B,!0);else return;let C=!0;T.forEach(R=>{R||(C=!1)}),C&&(P?.(),M(v.current),o&&h?.(),n&&n())};return a.jsx(G$,{isPresent:A,initial:!y.current||r?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,onExitComplete:A?void 0:N,anchorX:u,children:X},B)})})},QS=S.createContext({strict:!1}),nE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mu={};for(const t in nE)mu[t]={isEnabled:e=>nE[t].some(r=>!!e[r])};function X$(t){for(const e in t)mu[e]={...mu[e],...t[e]}}const Y$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Y$.has(t)}let JS=t=>!wp(t);function Q$(t){t&&(JS=e=>e.startsWith("on")?!wp(e):t(e))}try{Q$(require("@emotion/is-prop-valid").default)}catch{}function J$(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(JS(s)||r===!0&&wp(s)||!e&&!wp(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function Z$(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Em=S.createContext({});function Tm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function c0(t){return typeof t=="string"||Array.isArray(t)}const Hv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wv=["initial",...Hv];function km(t){return Tm(t.animate)||Wv.some(e=>c0(t[e]))}function ZS(t){return!!(km(t)||t.variants)}function eV(t,e){if(km(t)){const{initial:r,animate:n}=t;return{initial:r===!1||c0(r)?r:void 0,animate:c0(n)?n:void 0}}return t.inherit!==!1?e:{}}function tV(t){const{initial:e,animate:r}=eV(t,S.useContext(Em));return S.useMemo(()=>({initial:e,animate:r}),[sE(e),sE(r)])}function sE(t){return Array.isArray(t)?t.join(" "):t}const rV=Symbol.for("motionComponentSymbol");function Xc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function nV(t,e,r){return S.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Xc(r)&&(r.current=n))},[e])}const qv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),sV="framerAppearId",e5="data-"+qv(sV),t5=S.createContext({});function iV(t,e,r,n,s){const{visualElement:i}=S.useContext(Em),o=S.useContext(QS),u=S.useContext(_m),d=S.useContext(zv).reducedMotion,h=S.useRef(null);n=n||o.renderer,!h.current&&n&&(h.current=n(t,{visualState:e,parent:i,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,g=S.useContext(t5);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&aV(h.current,r,s,g);const y=S.useRef(!1);S.useInsertionEffect(()=>{p&&y.current&&p.update(r,u)});const v=r[e5],T=S.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return aS(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Bv.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),S.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),T.current=!1))}),p}function aV(t,e,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:u,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:r5(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||u&&Xc(u),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:d,layoutRoot:h})}function r5(t){if(t)return t.options.allowProjection!==!1?t.projection:r5(t.parent)}function oV({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:s}){t&&X$(t);function i(u,d){let h;const p={...S.useContext(zv),...u,layoutId:lV(u)},{isStatic:g}=p,y=tV(u),v=n(u,g);if(!g&&bv){cV();const T=uV(p);h=T.MeasureLayout,y.visualElement=iV(s,v,p,e,T.ProjectionNode)}return a.jsxs(Em.Provider,{value:y,children:[h&&y.visualElement?a.jsx(h,{visualElement:y.visualElement,...p}):null,r(s,u,nV(v,y.visualElement,d),v,g,y.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=S.forwardRef(i);return o[rV]=s,o}function lV({layoutId:t}){const e=S.useContext(yv).id;return e&&t!==void 0?e+"-"+t:t}function cV(t,e){S.useContext(QS).strict}function uV(t){const{drag:e,layout:r}=mu;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const u0={};function dV(t){for(const e in t)u0[e]=t[e],Av(e)&&(u0[e].isCSSVariable=!0)}function n5(t,{layout:e,layoutId:r}){return Ru.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!u0[t]||t==="opacity")}const hV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fV=Pu.length;function pV(t,e,r){let n="",s=!0;for(let i=0;i<fV;i++){const o=Pu[i],u=t[o];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(o.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||r){const h=WS(u,Vv[o]);if(!d){s=!1;const p=hV[o]||o;n+=`${p}(${h}) `}r&&(e[o]=h)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function Gv(t,e,r){const{style:n,vars:s,transformOrigin:i}=t;let o=!1,u=!1;for(const d in e){const h=e[d];if(Ru.has(d)){o=!0;continue}else if(Av(d)){s[d]=h;continue}else{const p=WS(h,Vv[d]);d.startsWith("origin")?(u=!0,i[d]=p):n[d]=p}}if(e.transform||(o||r?n.transform=pV(e,t.transform,r):n.transform&&(n.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:p=0}=i;n.transformOrigin=`${d} ${h} ${p}`}}const Kv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function s5(t,e,r){for(const n in e)!Wn(e[n])&&!n5(n,r)&&(t[n]=e[n])}function mV({transformTemplate:t},e){return S.useMemo(()=>{const r=Kv();return Gv(r,e,t),Object.assign({},r.vars,r.style)},[e])}function gV(t,e){const r=t.style||{},n={};return s5(n,r,t),Object.assign(n,mV(t,e)),n}function xV(t,e){const r={},n=gV(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const yV={offset:"stroke-dashoffset",array:"stroke-dasharray"},vV={offset:"strokeDashoffset",array:"strokeDasharray"};function bV(t,e,r=1,n=0,s=!0){t.pathLength=1;const i=s?yV:vV;t[i.offset]=It.transform(-n);const o=It.transform(e),u=It.transform(r);t[i.array]=`${o} ${u}`}function i5(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...u},d,h,p){if(Gv(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:y}=t;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),s!==void 0&&bV(g,s,i,o,!1)}const a5=()=>({...Kv(),attrs:{}}),o5=t=>typeof t=="string"&&t.toLowerCase()==="svg";function wV(t,e,r,n){const s=S.useMemo(()=>{const i=a5();return i5(i,e,o5(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};s5(i,t.style,t),s.style={...i,...s.style}}return s}const _V=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xv(t){return typeof t!="string"||t.includes("-")?!1:!!(_V.indexOf(t)>-1||/[A-Z]/u.test(t))}function EV(t=!1){return(r,n,s,{latestValues:i},o)=>{const d=(Xv(r)?wV:xV)(n,i,o,r),h=J$(n,typeof r=="string",t),p=r!==S.Fragment?{...h,...d,ref:s}:{},{children:g}=n,y=S.useMemo(()=>Wn(g)?g.get():g,[g]);return S.createElement(r,{...p,children:y})}}function iE(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Yv(t,e,r,n){if(typeof e=="function"){const[s,i]=iE(n);e=e(r!==void 0?r:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=iE(n);e=e(r!==void 0?r:t.custom,s,i)}return e}function zf(t){return Wn(t)?t.get():t}function TV({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:kV(r,n,s,t),renderState:e()}}const l5=t=>(e,r)=>{const n=S.useContext(Em),s=S.useContext(_m),i=()=>TV(t,e,n,s);return r?i():vv(i)};function kV(t,e,r,n){const s={},i=n(t,{});for(const y in i)s[y]=zf(i[y]);let{initial:o,animate:u}=t;const d=km(t),h=ZS(t);e&&h&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),u===void 0&&(u=e.animate));let p=r?r.initial===!1:!1;p=p||o===!1;const g=p?u:o;if(g&&typeof g!="boolean"&&!Tm(g)){const y=Array.isArray(g)?g:[g];for(let v=0;v<y.length;v++){const T=Yv(t,y[v]);if(T){const{transitionEnd:w,transition:E,...O}=T;for(const M in O){let U=O[M];if(Array.isArray(U)){const P=p?U.length-1:0;U=U[P]}U!==null&&(s[M]=U)}for(const M in w)s[M]=w[M]}}}return s}function Qv(t,e,r){const{style:n}=t,s={};for(const i in n)(Wn(n[i])||e.style&&Wn(e.style[i])||n5(i,t)||r?.getValue(i)?.liveStyle!==void 0)&&(s[i]=n[i]);return s}const NV={useVisualState:l5({scrapeMotionValuesFromProps:Qv,createRenderState:Kv})};function c5(t,e,r){const n=Qv(t,e,r);for(const s in t)if(Wn(t[s])||Wn(e[s])){const i=Pu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=t[s]}return n}const SV={useVisualState:l5({scrapeMotionValuesFromProps:c5,createRenderState:a5})};function AV(t,e){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Xv(n)?SV:NV,preloadedFeatures:t,useRender:EV(s),createVisualElement:e,Component:n};return oV(o)}}function d0(t,e,r){const n=t.getProps();return Yv(n,e,r!==void 0?r:n.custom,t)}const Vy=t=>Array.isArray(t);function CV(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,pu(r))}function IV(t){return Vy(t)?t[t.length-1]||0:t}function jV(t,e){const r=d0(t,e);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const u=IV(i[o]);CV(t,o,u)}}function PV(t){return!!(Wn(t)&&t.add)}function By(t,e){const r=t.getValue("willChange");if(PV(r))return r.add(e);if(!r&&Ua.WillChange){const n=new Ua.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function u5(t){return t.props[e5]}const RV=t=>t!==null;function DV(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(RV),i=e&&r!=="loop"&&e%2===1?0:s.length-1;return s[i]}const OV={type:"spring",stiffness:500,damping:25,restSpeed:10},FV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),LV={type:"keyframes",duration:.8},MV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$V=(t,{keyframes:e})=>e.length>2?LV:Ru.has(t)?t.startsWith("scale")?FV(e[1]):OV:MV;function VV({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:u,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const Jv=(t,e,r,n={},s,i)=>o=>{const u=$v(n,t)||{},d=u.delay||n.delay||0;let{elapsed:h=0}=n;h=h-ta(d);const p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:i?void 0:s};VV(u)||Object.assign(p,$V(t,p)),p.duration&&(p.duration=ta(p.duration)),p.repeatDelay&&(p.repeatDelay=ta(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),(Ua.instantAnimations||Ua.skipAnimations)&&(g=!0,p.duration=0,p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!i&&e.get()!==void 0){const y=DV(p.keyframes,u);if(y!==void 0){$r.update(()=>{p.onUpdate(y),p.onComplete()});return}}return u.isSync?new Fv(p):new b$(p)};function BV({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function d5(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...u}=e;n&&(i=n);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const g=t.getValue(p,t.latestValues[p]??null),y=u[p];if(y===void 0||h&&BV(h,p))continue;const v={delay:r,...$v(i||{},p)},T=g.get();if(T!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===T&&!v.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const O=u5(t);if(O){const M=window.MotionHandoffAnimation(O,p,$r);M!==null&&(v.startTime=M,w=!0)}}By(t,p),g.start(Jv(p,g,y,t.shouldReduceMotion&&VS.has(p)?{type:!1}:v,t,w));const E=g.animation;E&&d.push(E)}return o&&Promise.all(d).then(()=>{$r.update(()=>{o&&jV(t,o)})}),d}function Uy(t,e,r={}){const n=d0(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(d5(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=s;return UV(t,e,h+d,p,g,r)}:()=>Promise.resolve(),{when:u}=s;if(u){const[d,h]=u==="beforeChildren"?[i,o]:[o,i];return d().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function UV(t,e,r=0,n=0,s=1,i){const o=[],u=(t.variantChildren.size-1)*n,d=s===1?(h=0)=>h*n:(h=0)=>u-h*n;return Array.from(t.variantChildren).sort(zV).forEach((h,p)=>{h.notify("AnimationStart",e),o.push(Uy(h,e,{...i,delay:r+d(p)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(o)}function zV(t,e){return t.sortNodePosition(e)}function HV(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(i=>Uy(t,i,r));n=Promise.all(s)}else if(typeof e=="string")n=Uy(t,e,r);else{const s=typeof e=="function"?d0(t,e,r.custom):e;n=Promise.all(d5(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function h5(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const WV=Wv.length;function f5(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?f5(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<WV;r++){const n=Wv[r],s=t.props[n];(c0(s)||s===!1)&&(e[n]=s)}return e}const qV=[...Hv].reverse(),GV=Hv.length;function KV(t){return e=>Promise.all(e.map(({animation:r,options:n})=>HV(t,r,n)))}function XV(t){let e=KV(t),r=aE(),n=!0;const s=d=>(h,p)=>{const g=d0(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:v,...T}=g;h={...h,...T,...v}}return h};function i(d){e=d(t)}function o(d){const{props:h}=t,p=f5(t.parent)||{},g=[],y=new Set;let v={},T=1/0;for(let E=0;E<GV;E++){const O=qV[E],M=r[O],U=h[O]!==void 0?h[O]:p[O],P=c0(U),X=O===d?M.isActive:null;X===!1&&(T=E);let B=U===p[O]&&U!==h[O]&&P;if(B&&n&&t.manuallyAnimateOnMount&&(B=!1),M.protectedKeys={...v},!M.isActive&&X===null||!U&&!M.prevProp||Tm(U)||typeof U=="boolean")continue;const A=YV(M.prevProp,U);let N=A||O===d&&M.isActive&&!B&&P||E>T&&P,C=!1;const R=Array.isArray(U)?U:[U];let F=R.reduce(s(O),{});X===!1&&(F={});const{prevResolvedValues:W={}}=M,V={...W,...F},Ee=Le=>{N=!0,y.has(Le)&&(C=!0,y.delete(Le)),M.needsAnimating[Le]=!0;const we=t.getValue(Le);we&&(we.liveStyle=!1)};for(const Le in V){const we=F[Le],se=W[Le];if(v.hasOwnProperty(Le))continue;let de=!1;Vy(we)&&Vy(se)?de=!h5(we,se):de=we!==se,de?we!=null?Ee(Le):y.add(Le):we!==void 0&&y.has(Le)?Ee(Le):M.protectedKeys[Le]=!0}M.prevProp=U,M.prevResolvedValues=F,M.isActive&&(v={...v,...F}),n&&t.blockInitialAnimation&&(N=!1),N&&(!(B&&A)||C)&&g.push(...R.map(Le=>({animation:Le,options:{type:O}})))}if(y.size){const E={};if(typeof h.initial!="boolean"){const O=d0(t,Array.isArray(h.initial)?h.initial[0]:h.initial);O&&O.transition&&(E.transition=O.transition)}y.forEach(O=>{const M=t.getBaseTarget(O),U=t.getValue(O);U&&(U.liveStyle=!0),E[O]=M??null}),g.push({animation:E})}let w=!!g.length;return n&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(g):Promise.resolve()}function u(d,h){if(r[d].isActive===h)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(d,h)),r[d].isActive=h;const p=o(d);for(const g in r)r[g].protectedKeys={};return p}return{animateChanges:o,setActive:u,setAnimateFunction:i,getState:()=>r,reset:()=>{r=aE(),n=!0}}}function YV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!h5(e,t):!1}function xl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aE(){return{animate:xl(!0),whileInView:xl(),whileHover:xl(),whileTap:xl(),whileDrag:xl(),whileFocus:xl(),exit:xl()}}class Qo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class QV extends Qo{constructor(e){super(e),e.animationState||(e.animationState=XV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Tm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let JV=0;class ZV extends Qo{constructor(){super(...arguments),this.id=JV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const eB={animation:{Feature:QV},exit:{Feature:ZV}};function h0(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function H0(t){return{point:{x:t.pageX,y:t.pageY}}}const tB=t=>e=>Uv(e)&&t(e,H0(e));function $d(t,e,r,n){return h0(t,e,tB(r),n)}function p5({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function rB({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function nB(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const m5=1e-4,sB=1-m5,iB=1+m5,g5=.01,aB=0-g5,oB=0+g5;function rs(t){return t.max-t.min}function lB(t,e,r){return Math.abs(t-e)<=r}function oE(t,e,r,n=.5){t.origin=n,t.originPoint=Mr(e.min,e.max,t.origin),t.scale=rs(r)/rs(e),t.translate=Mr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=sB&&t.scale<=iB||isNaN(t.scale))&&(t.scale=1),(t.translate>=aB&&t.translate<=oB||isNaN(t.translate))&&(t.translate=0)}function Vd(t,e,r,n){oE(t.x,e.x,r.x,n?n.originX:void 0),oE(t.y,e.y,r.y,n?n.originY:void 0)}function lE(t,e,r){t.min=r.min+e.min,t.max=t.min+rs(e)}function cB(t,e,r){lE(t.x,e.x,r.x),lE(t.y,e.y,r.y)}function cE(t,e,r){t.min=e.min-r.min,t.max=t.min+rs(e)}function Bd(t,e,r){cE(t.x,e.x,r.x),cE(t.y,e.y,r.y)}const uE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yc=()=>({x:uE(),y:uE()}),dE=()=>({min:0,max:0}),Xr=()=>({x:dE(),y:dE()});function si(t){return[t("x"),t("y")]}function Lx(t){return t===void 0||t===1}function zy({scale:t,scaleX:e,scaleY:r}){return!Lx(t)||!Lx(e)||!Lx(r)}function vl(t){return zy(t)||x5(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function x5(t){return hE(t.x)||hE(t.y)}function hE(t){return t&&t!=="0%"}function _p(t,e,r){const n=t-r,s=e*n;return r+s}function fE(t,e,r,n,s){return s!==void 0&&(t=_p(t,s,n)),_p(t,r,n)+e}function Hy(t,e=0,r=1,n,s){t.min=fE(t.min,e,r,n,s),t.max=fE(t.max,e,r,n,s)}function y5(t,{x:e,y:r}){Hy(t.x,e.translate,e.scale,e.originPoint),Hy(t.y,r.translate,r.scale,r.originPoint)}const pE=.999999999999,mE=1.0000000000001;function uB(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let i,o;for(let u=0;u<s;u++){i=r[u],o=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Jc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,y5(t,o)),n&&vl(i.latestValues)&&Jc(t,i.latestValues))}e.x<mE&&e.x>pE&&(e.x=1),e.y<mE&&e.y>pE&&(e.y=1)}function Qc(t,e){t.min=t.min+e,t.max=t.max+e}function gE(t,e,r,n,s=.5){const i=Mr(t.min,t.max,s);Hy(t,e,r,i,n)}function Jc(t,e){gE(t.x,e.x,e.scaleX,e.scale,e.originX),gE(t.y,e.y,e.scaleY,e.scale,e.originY)}function v5(t,e){return p5(nB(t.getBoundingClientRect(),e))}function dB(t,e,r){const n=v5(t,r),{scroll:s}=e;return s&&(Qc(n.x,s.offset.x),Qc(n.y,s.offset.y)),n}const b5=({current:t})=>t?t.ownerDocument.defaultView:null,xE=(t,e)=>Math.abs(t-e);function hB(t,e){const r=xE(t.x,e.x),n=xE(t.y,e.y);return Math.sqrt(r**2+n**2)}class w5{constructor(e,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=$x(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=hB(g.offset,{x:0,y:0})>=3;if(!y&&!v)return;const{point:T}=g,{timestamp:w}=Sn;this.history.push({...T,timestamp:w});const{onStart:E,onMove:O}=this.handlers;y||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Mx(y,this.transformPagePoint),$r.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:v,onSessionEnd:T,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=$x(g.type==="pointercancel"?this.lastMoveEventInfo:Mx(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,E),T&&T(g,E)},!Uv(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=H0(e),u=Mx(o,this.transformPagePoint),{point:d}=u,{timestamp:h}=Sn;this.history=[{...d,timestamp:h}];const{onSessionStart:p}=r;p&&p(e,$x(u,this.history)),this.removeListeners=B0($d(this.contextWindow,"pointermove",this.handlePointerMove),$d(this.contextWindow,"pointerup",this.handlePointerUp),$d(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Bo(this.updatePoint)}}function Mx(t,e){return e?{point:e(t.point)}:t}function yE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $x({point:t},e){return{point:t,delta:yE(t,_5(e)),offset:yE(t,fB(e)),velocity:pB(e,.1)}}function fB(t){return t[0]}function _5(t){return t[t.length-1]}function pB(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=_5(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>ta(e)));)r--;if(!n)return{x:0,y:0};const i=ra(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function mB(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Mr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Mr(r,t,n.max):Math.min(t,r)),t}function vE(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function gB(t,{top:e,left:r,bottom:n,right:s}){return{x:vE(t.x,r,s),y:vE(t.y,e,n)}}function bE(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function xB(t,e){return{x:bE(t.x,e.x),y:bE(t.y,e.y)}}function yB(t,e){let r=.5;const n=rs(t),s=rs(e);return s>n?r=a0(e.min,e.max-n,t.min):n>s&&(r=a0(t.min,t.max-s,e.min)),Ba(0,1,r)}function vB(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Wy=.35;function bB(t=Wy){return t===!1?t=0:t===!0&&(t=Wy),{x:wE(t,"left","right"),y:wE(t,"top","bottom")}}function wE(t,e,r){return{min:_E(t,e),max:_E(t,r)}}function _E(t,e){return typeof t=="number"?t:t[e]||0}const wB=new WeakMap;class _B{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xr(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(H0(p).point)},i=(p,g)=>{const{drag:y,dragPropagation:v,onDragStart:T}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=F$(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),si(E=>{let O=this.getAxisMotionValue(E).get()||0;if(na.test(O)){const{projection:M}=this.visualElement;if(M&&M.layout){const U=M.layout.layoutBox[E];U&&(O=rs(U)*(parseFloat(O)/100))}}this.originPoint[E]=O}),T&&$r.postRender(()=>T(p,g)),By(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(p,g)=>{const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:T,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:E}=g;if(v&&this.currentDirection===null){this.currentDirection=EB(E),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",g.point,E),this.updateAxis("y",g.point,E),this.visualElement.render(),w&&w(p,g)},u=(p,g)=>this.stop(p,g),d=()=>si(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new w5(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:b5(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&$r.postRender(()=>i(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!vf(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=mB(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Xc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=gB(n.layoutBox,e):this.constraints=!1,this.elastic=bB(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&si(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=vB(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Xc(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=dB(n,s.root,this.visualElement.getTransformPagePoint());let o=xB(s.layout.layoutBox,i);if(r){const u=r(rB(o));this.hasMutatedConstraints=!!u,u&&(o=p5(u))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=si(p=>{if(!vf(p,r,this.currentDirection))return;let g=d&&d[p]||{};o&&(g={min:0,max:0});const y=s?200:1e6,v=s?40:1e7,T={type:"inertia",velocity:n?e[p]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(p,T)});return Promise.all(h).then(u)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return By(this.visualElement,e),n.start(Jv(e,n,0,r,this.visualElement,!1))}stopAnimation(){si(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){si(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){si(r=>{const{drag:n}=this.getProps();if(!vf(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:u}=s.layout.layoutBox[r];i.set(e[r]-Mr(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Xc(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};si(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const d=u.get();s[o]=yB({min:d,max:d},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),si(o=>{if(!vf(o,e,null))return;const u=this.getAxisMotionValue(o),{min:d,max:h}=this.constraints[o];u.set(Mr(d,h,s[o]))})}addListeners(){if(!this.visualElement.current)return;wB.set(this.visualElement,this);const e=this.visualElement.current,r=$d(e,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();Xc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),$r.read(n);const o=h0(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(si(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=d[p].translate,g.set(g.get()+d[p].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Wy,dragMomentum:u=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:u}}}function vf(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function EB(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class TB extends Qo{constructor(e){super(e),this.removeGroupControls=ai,this.removeListeners=ai,this.controls=new _B(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ai}unmount(){this.removeGroupControls(),this.removeListeners()}}const EE=t=>(e,r)=>{t&&$r.postRender(()=>t(e,r))};class kB extends Qo{constructor(){super(...arguments),this.removePointerDownListener=ai}onPointerDown(e){this.session=new w5(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:b5(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:EE(e),onStart:EE(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&$r.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=$d(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function TE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const yd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(It.test(t))t=parseFloat(t);else return t;const r=TE(t,e.target.x),n=TE(t,e.target.y);return`${r}% ${n}%`}},NB={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=Uo.parse(t);if(s.length>5)return n;const i=Uo.createTransformer(t),o=typeof s[0]!="number"?1:0,u=r.x.scale*e.x,d=r.y.scale*e.y;s[0+o]/=u,s[1+o]/=d;const h=Mr(u,d,.5);return typeof s[2+o]=="number"&&(s[2+o]/=h),typeof s[3+o]=="number"&&(s[3+o]/=h),i(s)}};class SB extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=e;dV(AB),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Hf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,s||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||$r.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Bv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function E5(t){const[e,r]=YS(),n=S.useContext(yv);return a.jsx(SB,{...t,layoutGroup:n,switchLayoutGroup:S.useContext(t5),isPresent:e,safeToRemove:r})}const AB={borderRadius:{...yd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yd,borderTopRightRadius:yd,borderBottomLeftRadius:yd,borderBottomRightRadius:yd,boxShadow:NB};function CB(t,e,r){const n=Wn(t)?t:pu(t);return n.start(Jv("",n,e,r)),n.animation}const IB=(t,e)=>t.depth-e.depth;class jB{constructor(){this.children=[],this.isDirty=!1}add(e){wv(this.children,e),this.isDirty=!0}remove(e){_v(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(IB),this.isDirty=!1,this.children.forEach(e)}}function PB(t,e){const r=xs.now(),n=({timestamp:s})=>{const i=s-r;i>=e&&(Bo(n),t(i-e))};return $r.setup(n,!0),()=>Bo(n)}const T5=["TopLeft","TopRight","BottomLeft","BottomRight"],RB=T5.length,kE=t=>typeof t=="string"?parseFloat(t):t,NE=t=>typeof t=="number"||It.test(t);function DB(t,e,r,n,s,i){s?(t.opacity=Mr(0,r.opacity??1,OB(n)),t.opacityExit=Mr(e.opacity??1,0,FB(n))):i&&(t.opacity=Mr(e.opacity??1,r.opacity??1,n));for(let o=0;o<RB;o++){const u=`border${T5[o]}Radius`;let d=SE(e,u),h=SE(r,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||NE(d)===NE(h)?(t[u]=Math.max(Mr(kE(d),kE(h),n),0),(na.test(h)||na.test(d))&&(t[u]+="%")):t[u]=h}(e.rotate||r.rotate)&&(t.rotate=Mr(e.rotate||0,r.rotate||0,n))}function SE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const OB=k5(0,.5,xS),FB=k5(.5,.95,ai);function k5(t,e,r){return n=>n<t?0:n>e?1:r(a0(t,e,n))}function AE(t,e){t.min=e.min,t.max=e.max}function ri(t,e){AE(t.x,e.x),AE(t.y,e.y)}function CE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function IE(t,e,r,n,s){return t-=e,t=_p(t,1/r,n),s!==void 0&&(t=_p(t,1/s,n)),t}function LB(t,e=0,r=1,n=.5,s,i=t,o=t){if(na.test(e)&&(e=parseFloat(e),e=Mr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let u=Mr(i.min,i.max,n);t===i&&(u-=e),t.min=IE(t.min,e,r,u,s),t.max=IE(t.max,e,r,u,s)}function jE(t,e,[r,n,s],i,o){LB(t,e[r],e[n],e[s],e.scale,i,o)}const MB=["x","scaleX","originX"],$B=["y","scaleY","originY"];function PE(t,e,r,n){jE(t.x,e,MB,r?r.x:void 0,n?n.x:void 0),jE(t.y,e,$B,r?r.y:void 0,n?n.y:void 0)}function RE(t){return t.translate===0&&t.scale===1}function N5(t){return RE(t.x)&&RE(t.y)}function DE(t,e){return t.min===e.min&&t.max===e.max}function VB(t,e){return DE(t.x,e.x)&&DE(t.y,e.y)}function OE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function S5(t,e){return OE(t.x,e.x)&&OE(t.y,e.y)}function FE(t){return rs(t.x)/rs(t.y)}function LE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class BB{constructor(){this.members=[]}add(e){wv(this.members,e),e.scheduleRender()}remove(e){if(_v(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UB(t,e,r){let n="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=r?.z||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:y,skewX:v,skewY:T}=r;h&&(n=`perspective(${h}px) ${n}`),p&&(n+=`rotate(${p}deg) `),g&&(n+=`rotateX(${g}deg) `),y&&(n+=`rotateY(${y}deg) `),v&&(n+=`skewX(${v}deg) `),T&&(n+=`skewY(${T}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(n+=`scale(${u}, ${d})`),n||"none"}const Vx=["","X","Y","Z"],zB={visibility:"hidden"},HB=1e3;let WB=0;function Bx(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function A5(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=u5(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",$r,!(s||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&A5(n)}function C5({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},u=e?.()){this.id=WB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(KB),this.nodes.forEach(ZB),this.nodes.forEach(eU),this.nodes.forEach(XB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new jB)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new kv),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const d=this.eventHandlers.get(o);d&&d.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=XS(o)&&!U$(o),this.instance=o;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let p;const g=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=PB(g,250),Hf.hasAnimatedSinceResize&&(Hf.hasAnimatedSinceResize=!1,this.nodes.forEach($E))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||iU,{onLayoutAnimationStart:w,onLayoutAnimationComplete:E}=h.getProps(),O=!this.targetLayout||!S5(this.targetLayout,v),M=!g&&y;if(this.options.layoutRoot||this.resumeFrom||M||g&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,M);const U={...$v(T,"layout"),onPlay:w,onComplete:E};(h.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U)}else g||$E(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Bo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tU),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&A5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ME);return}this.isUpdating||this.nodes.forEach(QB),this.isUpdating=!1,this.nodes.forEach(JB),this.nodes.forEach(qB),this.nodes.forEach(GB),this.clearAllSnapshots();const u=xs.now();Sn.delta=Ba(0,1e3/60,u-Sn.timestamp),Sn.timestamp=u,Sn.isProcessing=!0,jx.update.process(Sn),jx.preRender.process(Sn),jx.render.process(Sn),Sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YB),this.sharedNodes.forEach(rU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$r.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$r.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!rs(this.snapshot.measuredBox.x)&&!rs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!N5(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;o&&this.instance&&(u||vl(this.latestValues)||p)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return o&&(d=this.removeTransform(d)),aU(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Xr();const u=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(oU))){const{scroll:h}=this.root;h&&(Qc(u.x,h.offset.x),Qc(u.y,h.offset.y))}return u}removeElementScroll(o){const u=Xr();if(ri(u,o),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&ri(u,o),Qc(u.x,p.offset.x),Qc(u.y,p.offset.y))}return u}applyTransform(o,u=!1){const d=Xr();ri(d,o);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Jc(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),vl(p.latestValues)&&Jc(d,p.latestValues)}return vl(this.latestValues)&&Jc(d,this.latestValues),d}removeTransform(o){const u=Xr();ri(u,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!vl(h.latestValues))continue;zy(h.latestValues)&&h.updateSnapshot();const p=Xr(),g=h.measurePageBox();ri(p,g),PE(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return vl(this.latestValues)&&PE(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Sn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xr(),this.relativeTargetOrigin=Xr(),Bd(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xr(),this.targetWithTransforms=Xr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ri(this.target,this.layout.layoutBox),y5(this.target,this.targetDelta)):ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xr(),this.relativeTargetOrigin=Xr(),Bd(this.relativeTargetOrigin,this.target,y.target),ri(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||zy(this.parent.latestValues)||x5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),u=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Sn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;ri(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;uB(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Xr());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(CE(this.prevProjectionDelta.x,this.projectionDelta.x),CE(this.prevProjectionDelta.y,this.projectionDelta.y)),Vd(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!LE(this.projectionDelta.x,this.prevProjectionDelta.x)||!LE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yc(),this.projectionDelta=Yc(),this.projectionDeltaWithTransform=Yc()}setAnimationOrigin(o,u=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},g=Yc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=Xr(),v=d?d.source:void 0,T=this.layout?this.layout.source:void 0,w=v!==T,E=this.getStack(),O=!E||E.members.length<=1,M=!!(w&&!O&&this.options.crossfade===!0&&!this.path.some(sU));this.animationProgress=0;let U;this.mixTargetDelta=P=>{const X=P/1e3;VE(g.x,o.x,X),VE(g.y,o.y,X),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bd(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nU(this.relativeTarget,this.relativeTargetOrigin,y,X),U&&VB(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Xr()),ri(U,this.relativeTarget)),w&&(this.animationValues=p,DB(p,h,this.latestValues,X,M,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(!1),this.resumingFrom?.currentAnimation?.stop(!1),this.pendingAnimation&&(Bo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$r.update(()=>{Hf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=pu(0)),this.currentAnimation=CB(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HB),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:p}=o;if(!(!u||!d||!h)){if(this!==o&&this.layout&&h&&I5(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Xr();const g=rs(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+g;const y=rs(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+y}ri(u,d),Jc(u,p),Vd(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new BB),this.sharedNodes.get(o).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&Bx("z",o,h,this.animationValues);for(let p=0;p<Vx.length;p++)Bx(`rotate${Vx[p]}`,o,h,this.animationValues),Bx(`skew${Vx[p]}`,o,h,this.animationValues);o.render();for(const p in h)o.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return zB;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=zf(o?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=zf(o?.pointerEvents)||""),this.hasProjected&&!vl(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=UB(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:g,y}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in u0){if(p[v]===void 0)continue;const{correct:T,applyTo:w,isCSSVariable:E}=u0[v],O=u.transform==="none"?p[v]:T(p[v],h);if(w){const M=w.length;for(let U=0;U<M;U++)u[w[U]]=O}else E?this.options.visualElement.renderState.vars[v]=O:u[v]=O}return this.options.layoutId&&(u.pointerEvents=h===this?zf(o?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop(!1)),this.root.nodes.forEach(ME),this.root.sharedNodes.clear()}}}function qB(t){t.updateLayout()}function GB(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:s}=t.options,i=e.source!==t.layout.source;s==="size"?si(p=>{const g=i?e.measuredBox[p]:e.layoutBox[p],y=rs(g);g.min=r[p].min,g.max=g.min+y}):I5(s,e.layoutBox,r)&&si(p=>{const g=i?e.measuredBox[p]:e.layoutBox[p],y=rs(r[p]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const o=Yc();Vd(o,r,e.layoutBox);const u=Yc();i?Vd(u,t.applyTransform(n,!0),e.measuredBox):Vd(u,r,e.layoutBox);const d=!N5(o);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:y}=p;if(g&&y){const v=Xr();Bd(v,e.layoutBox,g.layoutBox);const T=Xr();Bd(T,r,y.layoutBox),S5(v,T)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=v,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function KB(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function XB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function YB(t){t.clearSnapshot()}function ME(t){t.clearMeasurements()}function QB(t){t.isLayoutDirty=!1}function JB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function $E(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ZB(t){t.resolveTargetDelta()}function eU(t){t.calcProjection()}function tU(t){t.resetSkewAndRotation()}function rU(t){t.removeLeadSnapshot()}function VE(t,e,r){t.translate=Mr(e.translate,0,r),t.scale=Mr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function BE(t,e,r,n){t.min=Mr(e.min,r.min,n),t.max=Mr(e.max,r.max,n)}function nU(t,e,r,n){BE(t.x,e.x,r.x,n),BE(t.y,e.y,r.y,n)}function sU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const iU={duration:.45,ease:[.4,0,.1,1]},UE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),zE=UE("applewebkit/")&&!UE("chrome/")?Math.round:ai;function HE(t){t.min=zE(t.min),t.max=zE(t.max)}function aU(t){HE(t.x),HE(t.y)}function I5(t,e,r){return t==="position"||t==="preserve-aspect"&&!lB(FE(e),FE(r),.2)}function oU(t){return t!==t.root&&t.scroll?.wasRoot}const lU=C5({attachResizeListener:(t,e)=>h0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ux={current:void 0},j5=C5({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ux.current){const t=new lU({});t.mount(window),t.setOptions({layoutScroll:!0}),Ux.current=t}return Ux.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),cU={pan:{Feature:kB},drag:{Feature:TB,ProjectionNode:j5,MeasureLayout:E5}};function WE(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&$r.postRender(()=>i(e,H0(e)))}class uU extends Qo{mount(){const{current:e}=this.node;e&&(this.unmount=L$(e,(r,n)=>(WE(this.node,n,"Start"),s=>WE(this.node,s,"End"))))}unmount(){}}class dU extends Qo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=B0(h0(this.node.current,"focus",()=>this.onFocus()),h0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function qE(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&$r.postRender(()=>i(e,H0(e)))}class hU extends Qo{mount(){const{current:e}=this.node;e&&(this.unmount=B$(e,(r,n)=>(qE(this.node,n,"Start"),(s,{success:i})=>qE(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qy=new WeakMap,zx=new WeakMap,fU=t=>{const e=qy.get(t.target);e&&e(t)},pU=t=>{t.forEach(fU)};function mU({root:t,...e}){const r=t||document;zx.has(r)||zx.set(r,{});const n=zx.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(pU,{root:t,...e})),n[s]}function gU(t,e,r){const n=mU(e);return qy.set(t,r),n.observe(t),()=>{qy.delete(t),n.unobserve(t)}}const xU={some:0,all:1};class yU extends Qo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:xU[s]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=h?p:g;y&&y(d)};return gU(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(vU(e,r))&&this.startObserver()}unmount(){}}function vU({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const bU={inView:{Feature:yU},tap:{Feature:hU},focus:{Feature:dU},hover:{Feature:uU}},wU={layout:{ProjectionNode:j5,MeasureLayout:E5}},Gy={current:null},P5={current:!1};function _U(){if(P5.current=!0,!!bv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gy.current=t.matches;t.addListener(e),e()}else Gy.current=!1}const EU=new WeakMap;function TU(t,e,r){for(const n in e){const s=e[n],i=r[n];if(Wn(s))t.addValue(n,s);else if(Wn(i))t.addValue(n,pu(s,{owner:t}));else if(i!==s)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(n);t.addValue(n,pu(o!==void 0?o:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const GE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kU{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Lv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=xs.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,$r.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=km(r),this.isVariantNode=ZS(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const y in g){const v=g[y];d[y]!==void 0&&Wn(v)&&v.set(d[y],!1)}}mount(e){this.current=e,EU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),P5.current||_U(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Bo(this.notifyUpdate),Bo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Ru.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&$r.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in mu){const r=mu[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<GE.length;n++){const s=GE[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=TU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=pu(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(oS(n)||cS(n))?n=parseFloat(n):!H$(n)&&Uo.test(r)&&(n=HS(e,r)),this.setBaseTarget(e,Wn(n)?n.get():n)),Wn(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=Yv(this.props,r,this.presenceContext?.custom);i&&(n=i[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Wn(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new kv),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class R5 extends kU{constructor(){super(...arguments),this.KeyframeResolver=P$}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function D5(t,{style:e,vars:r},n,s){Object.assign(t.style,e,s&&s.getProjectionStyles(n));for(const i in r)t.style.setProperty(i,r[i])}function NU(t){return window.getComputedStyle(t)}class SU extends R5{constructor(){super(...arguments),this.type="html",this.renderInstance=D5}readValueFromInstance(e,r){if(Ru.has(r))return this.projection?.isProjecting?Dy(r):QM(e,r);{const n=NU(e),s=(Av(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return v5(e,r)}build(e,r,n){Gv(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Qv(e,r,n)}}const O5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AU(t,e,r,n){D5(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(O5.has(s)?s:qv(s),e.attrs[s])}class CU extends R5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Ru.has(r)){const n=zS(r);return n&&n.default||0}return r=O5.has(r)?r:qv(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return c5(e,r,n)}build(e,r,n){i5(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,s){AU(e,r,n,s)}mount(e){this.isSVGTag=o5(e.tagName),super.mount(e)}}const IU=(t,e)=>Xv(t)?new CU(e):new SU(e,{allowProjection:t!==S.Fragment}),jU=AV({...eB,...bU,...cU,...wU},IU),te=Z$(jU),KE=(t,e,r,n)=>{t.style.transition=`${e} ${r}ms ${n}`},Na=(t,e,r)=>Math.min(Math.max(t,e),r);class PU{constructor(e,r){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=o=>{const{width:u,height:d}=o,h=Math.sqrt(u**2+d**2);return{width:h,height:h}},this.setSize=o=>{const u=this.calculateGlareSize(o);this.glareEl.style.width=`${u.width}px`,this.glareEl.style.height=`${u.height}px`},this.update=(o,u,d,h)=>{this.updateAngle(o,u.glareReverse),this.updateOpacity(o,u,d,h)},this.updateAngle=(o,u)=>{const{xPercentage:d,yPercentage:h}=o,p=180/Math.PI,g=d?Math.atan2(h,-d)*p:0;this.glareAngle=g-(u?180:0)},this.updateOpacity=(o,u,d,h)=>{const{xPercentage:p,yPercentage:g}=o,{glarePosition:y,glareReverse:v,glareMaxOpacity:T}=u,w=d?-1:1,E=h?-1:1,O=v?-1:1;let M=0;switch(y){case"top":M=-p*w*O;break;case"right":M=g*E*O;break;case"bottom":case void 0:M=p*w*O;break;case"left":M=-g*E*O;break;case"all":M=Math.hypot(p,g)}const U=Na(M,0,100);this.glareOpacity=U*T/100},this.render=o=>{const{glareColor:u}=o;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${u} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const n={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:r,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},s=this.calculateGlareSize(e),i={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${s.width}px`,height:`${s.height}px`};Object.assign(this.glareWrapperEl.style,n),Object.assign(this.glareEl.style,i)}}class RU{constructor(){this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,r)=>{this.updateTilt(e,r),this.updateTiltManualInput(e,r),this.updateTiltReverse(r),this.updateTiltLimits(r)},this.updateTilt=(e,r)=>{const{xPercentage:n,yPercentage:s}=e,{tiltMaxAngleX:i,tiltMaxAngleY:o}=r;this.tiltAngleX=n*i/100,this.tiltAngleY=s*o/100*-1},this.updateTiltManualInput=(e,r)=>{const{tiltAngleXManual:n,tiltAngleYManual:s,tiltMaxAngleX:i,tiltMaxAngleY:o}=r;(n!==null||s!==null)&&(this.tiltAngleX=n!==null?n:0,this.tiltAngleY=s!==null?s:0,e.xPercentage=100*this.tiltAngleX/i,e.yPercentage=100*this.tiltAngleY/o)},this.updateTiltReverse=e=>{const r=e.tiltReverse?-1:1;this.tiltAngleX=r*this.tiltAngleX,this.tiltAngleY=r*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:r}=e;this.tiltAngleX=Na(this.tiltAngleX,-90,90),this.tiltAngleY=Na(this.tiltAngleY,-90,90),r&&(this.tiltAngleX=r==="x"?this.tiltAngleX:0,this.tiltAngleY=r==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:r,tiltMaxAngleY:n}=e;this.tiltAngleXPercentage=this.tiltAngleX/r*100,this.tiltAngleYPercentage=this.tiltAngleY/n*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const DU={scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1,tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null,glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"};class F5 extends S.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=async()=>{if(!window.DeviceOrientationEvent)return;const e=DeviceOrientationEvent.requestPermission;typeof e=="function"?await e()==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)},this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:r}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),r&&r({event:e})},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:r}=this.props;if(this.setTransitions(),r&&r({event:e}),this.props.reset){const n=new CustomEvent("autoreset");this.onMove(n)}},this.processInput=e=>{const{scale:r}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=r;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=r;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=r;break;case"autoreset":{const{tiltAngleXInitial:n,tiltAngleYInitial:s,tiltMaxAngleX:i,tiltMaxAngleY:o}=this.props,u=s/o*100;this.wrapperEl.clientPosition.xPercentage=Na(n/i*100,-100,100),this.wrapperEl.clientPosition.yPercentage=Na(u,-100,100),this.wrapperEl.scale=1;break}}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:r,tiltMaxAngleY:n}=this.props,s=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/r*100,this.wrapperEl.clientPosition.yPercentage=s/n*100,this.wrapperEl.clientPosition.xPercentage=Na(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=Na(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:r,flipVertically:n,flipHorizontally:s}=this.props;e!=="autoreset"&&e!=="deviceorientation"&&e!=="propChange"&&this.updateClientInput(),r&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,n,s)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let r,n;if(e){const{x:s,y:i}=this.wrapperEl.clientPosition;r=i/window.innerHeight*200-100,n=s/window.innerWidth*200-100}else{const{size:{width:s,height:i,left:o,top:u},clientPosition:{x:d,y:h}}=this.wrapperEl;r=(h-u)/i*200-100,n=(d-o)/s*200-100}this.wrapperEl.clientPosition.xPercentage=Na(r,-100,100),this.wrapperEl.clientPosition.yPercentage=Na(n,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:r}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),r&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new RU,this.initGlare(),this.setSize(),this.addEventListeners(),typeof CustomEvent>"u")return;const e=new CustomEvent("autoreset");this.mainLoop(e);const r=new CustomEvent("initial");this.emitOnMove(r)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:r}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),r&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:r}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),r&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:r}=this.props;e&&(this.glare=new PU(this.wrapperEl.size,r),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:r}=this.props;if(!r)return;let n=0,s=0;this.glare&&(n=this.glare.glareAngle,s=this.glare.glareOpacity),r({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:n,glareOpacity:s,event:e})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:r}=this.props;KE(this.wrapperEl.node,"all",e,r),this.glare&&KE(this.glare.glareEl,"opacity",e,r)}render(){const{children:e,className:r,style:n}=this.props;return a.jsx("div",{ref:s=>{this.wrapperEl.node=s},onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:r,style:n,children:e})}}F5.defaultProps=DU;var Hx={exports:{}},Wx,XE;function OU(){if(XE)return Wx;XE=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wx=t,Wx}var qx,YE;function FU(){if(YE)return qx;YE=1;var t=OU();function e(){}function r(){}return r.resetWarningCache=e,qx=function(){function n(o,u,d,h,p,g){if(g!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},qx}var QE;function LU(){return QE||(QE=1,Hx.exports=FU()()),Hx.exports}var MU=LU();const K=t1(MU);var L5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},JE=Ii.createContext&&Ii.createContext(L5),$U=["attr","size","title"];function VU(t,e){if(t==null)return{};var r=BU(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ep(){return Ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ep.apply(this,arguments)}function ZE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Tp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(r),!0).forEach(function(n){UU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UU(t,e,r){return e=zU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zU(t){var e=HU(t,"string");return typeof e=="symbol"?e:e+""}function HU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M5(t){return t&&t.map((e,r)=>Ii.createElement(e.tag,Tp({key:r},e.attr),M5(e.child)))}function We(t){return e=>Ii.createElement(WU,Ep({attr:Tp({},t.attr)},e),M5(t.child))}function WU(t){var e=r=>{var{attr:n,size:s,title:i}=t,o=VU(t,$U),u=s||r.size||"1em",d;return r.className&&(d=r.className),t.className&&(d=(d?d+" ":"")+t.className),Ii.createElement("svg",Ep({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:d,style:Tp(Tp({color:t.color||r.color},r.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&Ii.createElement("title",null,i),t.children)};return JE!==void 0?Ii.createElement(JE.Consumer,null,r=>e(r)):e(L5)}function Kl(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function Xl(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Yl(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function Nm(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(t)}function qU(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(t)}function Sm(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function Fl(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function GU(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(t)}function KU(t){return We({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},child:[]}]})(t)}function Ad(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function XU(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function YU(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function QU(t){return We({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function JU(t){return We({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function ZU(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function sa(t){return We({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(t)}function eT(t){return We({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function gu(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Ll(t){return We({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function $5(t){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function V5(t){return We({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function Zv(t){return We({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function e2(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function Ql(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function ez(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function tz(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(t)}function rz(t){return We({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"},child:[]}]})(t)}function xu(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Ky(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(t)}function yu(t){return We({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function Xy(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(t)}function vu(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Jl(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function Us(t){return We({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function t2(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function nz(t){return We({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function kp(t){return We({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function Yy(t){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function Ml(t){return We({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function f0(t){return We({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}const Zl="/assets/logo-BQdnZbEi.png",sz="/assets/brooklyn99-DYJUH8Km.png",iz="/assets/stranger-things-DRcF_wqM.png",az="/assets/breaking-bad-D1E4kgVP.png",oz="/assets/naruto-DUa7in8u.png",lz="/assets/alice-CeDQ0_3e.png",cz="/assets/netflix-DaHLFMJQ.png",uz="/assets/spotify-bWcpnvLH.png",dz="/assets/disney-CWU7DV5v.png",hz="/assets/max-BIVycyRg.png",fz="/assets/prime-video-DdoTjLXc.png",pz="/assets/vix-DijISFtY.png",mz="/assets/Canva-BX7ku0VE.png",gz="/assets/ChatGPT-B_s2moDj.png",xz="/assets/crunchyroll-CCcWGZHz.png",yz="/assets/redessociales-C9h9bjwL.png",vz="/assets/dgo-BPXOpsxd.png",bz="/assets/ligamax-DG6Hz7Oj.png",wz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAB4CAYAAADblO/uAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACnFJREFUeNrsnd912zYbh+Gc3FedoPQEVSYINUHUm+bS0gS2JlA8ga0JrF7qyvYElieIMkHYCapvAn+EQEb2sUgR1AsSIJ/nHKU9jkOKIH54/+AFcPby8qIAoNucIXQAhA4ACB0AEDoAIHQAQOgAgNABAKEDAEIHQOgAgNABAKEDAEIHAIQOAAgdABA6ACB0AIQOAAgdABA6AHRX6GdnZ7RiVVZJlP45Tj+D9PM5++k2/fxIPxv1NXqgkeA1UoYYoTcj8En652X6GR75TS36Rfq5TUW/peEAoYchcG29b9JPZPkvk/QzTcW+phEROkL3V+DaNb/L3PRT0GJf0qAIHaH7KfKnCm46YgeEjsjf8CkV+4YGRugIvbsiz2P2TyToEHpdPtCUYtw4ErkmSj9XNDGEadHNvLL+xK9+qq3WJqiMs8mu3zdwp/O0XRK6LRbdf6EbF1dbpwt1fNpJF5AsvBa9eZ6fyhTBuGaZtsWU7o/Q/Rb6KvmmTOGIrSi04KdexqjmmeYN3vF3YnWE7qfQZRJV2mX9y6vsc7PWPGeWtsEtEkDofgl9lQwzkUuIQVuykTdiXyU6BLlp+K5J+vznne7dxks6FLYkCN1HobuxeP6IfZX8VPblrRJ0e159lRzqlKM+lgRLCf2j4+/5pOTdWhMGrJJ2xW4WqkQt3V0nMjeOnitWb2dB6rDeDcgU+XjDR4dCcDmvrMV+n96jzSKSixbf23gXq7tBi/zU5OI86wPbTPSPlPG2ywdHItedxXWBR6SambsuyjvELb63KKtB8J1BNijdpd/3v8wLgs4IvbnpprggceOaSw/e3TiwvjbIBH+f5W4gaKHLxHh2g4qxsE1Z84EnIvscaJ9rqooQHMfo8xaeQ6/9/tTQvSaq2Xnzsli6Scqz3vty5igbhMYl7WQ8sa/RNyQYokVvL3YdZsm/vrjtxhX2KU7Xc9x6INBJN1Omq+f6b0vbERc+WNe9zUz0VRY2uHTbY9XelNrhAc5X9GzI10jPDExLYnZW5AUq9EnLz+Paql949v6G3vcwM61WtLvtFyQYmtCNtRu03vFdZeGNmznx7P2FkpC7LnlfuO+BWXRfRmdXWfiJh+8vDJGYCrkkWK+kA0hm3WOPnku78CPha156+P5CEokWetToYPU2ZzPI2stsbJJ/p54slPko1KADzzpdvKvCkiq79C8J9/q7RYF01ucCYzAsieFt39GX7HrDygNI3TLdw/UiSe0+V3Q9vWrPI4vuo2W5SRvvQagWXjoJpzvWIvtvXoAzr2ndohK3uE9okdTJ4uftP077i34Hs4pHY8Xqfc3I+gRhSl/PSYwee/ji80MUTreYsvG57kijXWcyU1BJtpHEuXK1Ig1sBs37lsqqnSIldF+zv2OBhRSSIp8W7g5jPI86K9LiQPpaUR/xcXCbZxt+EqMfGAl9Rbvwm1pro401nwuKvNwN05Vlq2QdkHhtPaxDSC4zXqv96bTbkkEkP812XNJ373bvoiP78/VB6KdsVCG1+GJpkaR57JzQy5O1Mhbdvm7+YedBFW8Hlsfuyy68gg8CLzGETpmLfVy5Y66SOyWTZEwsXfIuxulXhW3TtsU0oVTR++lM5V6fTmrJd6W5K63GMgPXk2Bsfm3ZmW07vt/VcaatL0usavsYsScH/qYzxTwSrntojTHZffTUm5nbzS1orPbzsHIxo+28qg4vVkmXXPayfQP/8ejbPhzwPCKE/tZShshYud9A4lr1kf3mHDcl/WPt2eaR/3b5lXxU4IpNx7YnvqiQj/kt84iO/Z4OT6bevS+EDjVYdOx5JoLXmnJYZH+Ens9z+lYnL/NsbG9cbMmrlZhKhxPHvIwhQpdHi2D2KxttXsJ9wPH+oeer2yG72uHevnO3otb5gc8VwwgsuiOSd0f/moowvaz0qSNiP8Vtt31+n2PLtTIFQA+NuOqm3FlXMkZIu32hHxaBmVbShQt3gbfppuH4838N3WdmMag0u87bZPlvlJ+bg/RW6MWdRce1q0TPZYe8oODUJJyvHo3Pswh3Fn1mXdLuQ4Qux7EYbZbFVaG68KcmmobC7dltjLs+LjEqi2yQ2hy5TpyFjghdKEYs75ja5VslC9XOQRCni7z52u2+r2GfFxqMoiXBPUSi1t22Y0dHf8OsREoCbM9HgWv8SbesbM2HBf1picjlhe5KkLMA21NiftguZOlW9Z0tRS77NdKWFrp9djWueF0tmnVQIpdx222EvqULi/RJKaLuCt1gI0gb1zQkq/4odB2bZBx7zPlF54WeOOnIJlO67JHb7kvYBPXzBlGXhf7DatSza4xZAC7qpqWdUn70XFbbArGNG3nnh5l0Wei2LmRc+TeNgHxfCdbWBgp9d92LQsY6U7ORUNtfWq9XMAPTF/+Fbp/5/WJ5/W+eu6ltuO3bnmfcy85004c33h/1HM3egHq3oe/KtvTaJPwOiT3fn/Bb4ZZl5r7jbFuzn8os6HJalSdZGbe2sNRxjevPlNyurNJueyIq4GqZ9wcFmusCkeanrzxkIc7m1yBgNsiIBcS1KLj3IPMq5rutxt+GGNWPi/LQdbd1IwfWu8f6O90m/Z0eKg4GzBWbfrE88g7y467us4/+/ysRC3r83rmw41efVkq7JYX+7NR931v1rsfni0rtwA4tr/lLIF+xqeklSdx7qxznW+SEbr9ryLjGPXybbkvENzg01yvbT23K7jXv2kznKz5lXs62hsCn2b9/rnVvc0T3bc3BRb9rfe7eo8smkl69ZhOnR7vspL1QZtkg4cPqtoWjjquX62qLfaH22WCzEsu9JS9yR5vM8I9q3V8nbVeJFtxEmR1mDrnKufV8VO93ol3Wes783DyzGOv1vd8bBnP953f3drzF99nLy8tpFzg7U6++bNHxNmUuqP1IaH8fF2x3I3FHzuaCljEnuL47Nvnl7z9GvsXoqkaMU+/ccTM4tD2HvEDkEAqyQi+eWyxiWHo8Ujlt7gu+rRmTARTxRzhCN9hmoeuVK5r4pq0pphnWHISJQhO6rfte/5BAUzHXdOHIkqw3NCT0xF+h27vv8Yl3nDYYr29UmBtigM+YUt1DQv/XX6EbbKadTnNZ9vOY6wZEPsJlBwdMCn4u1qdlp9f2I5ROsOli/aqJtpHIAo1Voqfcrhy8iNv0+2HJwYU11yWy3w/8jS4C+v1Ufbq16MbqNR/HGjGOBGObdTYIIXKQFvggmzt/EvCKW7Lo+7jje0Wrfi5e8WX2+76okQPQg5RO8P3T+2WgUNerzBfMHCqprXK09K9iLCmL7k7o5qGrVLDpevFzx4kO3ah/quIVS89Z467Fa9ehj0I/JXzcZl7krh+GIXTz4E9HRi822ocuCV2743MJkUsK/UMDj66X8RUJ+RaRQ8eoG4IuM3fdiUfp3qK/d6GjX3Ewa6qhexZd9+/LLEyMVPH08UbtV7IVngngjesOAP6D0AEQOgAgdABA6ACA0AEAoQMAQgcAhA4ACB0AoQMAQgcAhA4ACB0AEDoAIHQAQOgAgNABEDoAIHQAQOgAgNABAKEDAEIHAIQOAAgdAKEjdIDu838BBgAP9Pzi++BqOAAAAABJRU5ErkJggg==",_z="/assets/youtube-CpBI5AmY.png",Ez="/assets/deezer-Dzzytvkp.png",Tz="/assets/tidal-Dvc8GFJF.png",kz="/assets/vpn-DwO8ctKm.png",Nz="/assets/wintv-DVRyyyXO.png",Sz="/assets/applemusic-oPM8BG1t.png",Az="/assets/appletv-CnHYjknK.png",Cz="/assets/iptv-DuZZIyup.png",Iz="/assets/flujotv-BuBDxOy2.png",jz="/assets/vikirakuten-N9-l2Szt.png",Pz="/assets/pornhub-CExwxEGA.png",Rz="/assets/paramount-BdllqDdm.png",Dz="/assets/licencias-BVJh6MhK.png",Oz="/assets/capcut-CQ2qY_pe.png",Fz="/assets/duolingo-5bYI8P47.png",Lz="/assets/buscapersonas-lxj-Iky8.png",vd=[{src:sz,title:"Brooklyn Nine-Nine",description:"Comedia policial hilarante"},{src:iz,title:"Stranger Things",description:"Misterio y nostalgia ochentera"},{src:az,title:"Breaking Bad",description:"Un descenso al mundo del crimen"},{src:oz,title:"Naruto",description:"Aventuras ninja épicas"},{src:lz,title:"Alice in Borderland",description:"Juego de supervivencia intenso"}],tT=[{name:"Netflix",logo:cz,route:"/netflix",color:"#E50914"},{name:"Spotify",logo:uz,route:"/spotify",color:"#1DB954"},{name:"Disney+",logo:dz,route:"/disney",color:"#113CCF"},{name:"Max",logo:hz,route:"/max",color:"#002BE7"},{name:"Prime Video",logo:fz,route:"/primevideo",color:"#00A8E1"},{name:"Vix",logo:pz,route:"/vix",color:"#FF2E63"},{name:"Canva",logo:mz,route:"/canva",color:"#00C4B4"},{name:"ChatGPT",logo:gz,route:"/chatgpt",color:"#10A37F"},{name:"Crunchyroll",logo:xz,route:"/crunchyroll",color:"#F47521"},{name:"Redes Sociales",logo:yz,route:"/redessociales",color:"#3B5998"},{name:"Dgo",logo:vz,route:"/dgo",color:"#00A1D6"},{name:"Liga Max",logo:bz,route:"/ligamax",color:"#FFD700"},{name:"Movistar Play",logo:wz,route:"/movistarplay",color:"#005566"},{name:"Youtube",logo:_z,route:"/youtube",color:"#FF0000"},{name:"Deezer",logo:Ez,route:"/deezer",color:"#FEAA2D"},{name:"Tidal",logo:Tz,route:"/tidal",color:"#000000"},{name:"Vpn",logo:kz,route:"/vpn",color:"#4CAF50"},{name:"Win Tv",logo:Nz,route:"/wintv",color:"#9C27B0"},{name:"Apple Music",logo:Sz,route:"/applemusic",color:"#FA57C1"},{name:"Apple Tv",logo:Az,route:"/appletv",color:"#000000"},{name:"Iptv",logo:Cz,route:"/iptv",color:"#607D8B"},{name:"Flujo Tv",logo:Iz,route:"/flujotv",color:"#FF5722"},{name:"Viki Rakuten",logo:jz,route:"/vikirakuten",color:"#D81B60"},{name:"Pornhub",logo:Pz,route:"/pornhub",color:"#FF9000"},{name:"Paramount",logo:Rz,route:"/paramount",color:"#0064D2"},{name:"Licencias",logo:Dz,route:"/licencias",color:"#795548"},{name:"Cap cut",logo:Oz,route:"/capcut",color:"#00C4B4"},{name:"Duolingo",logo:Fz,route:"/duolingo",color:"#58CC02"},{name:"Busca Personas",logo:Lz,route:"/buscapersonas",color:"#3F51B5"}],Mz=(t,e=5e3)=>{const[r,n]=S.useState(0),[s,i]=S.useState(0),[o,u]=S.useState(!1);S.useEffect(()=>{if(o)return;const g=setInterval(()=>{i(v=>v>=100?0:v+100/(e/100))},100),y=setInterval(()=>{n(v=>(v+1)%t.length),i(0)},e);return()=>{clearInterval(g),clearInterval(y)}},[o,t.length,e]);const d=S.useCallback(g=>{n(g),i(0)},[]),h=S.useCallback(()=>{n(g=>(g-1+t.length)%t.length),i(0)},[t.length]),p=S.useCallback(()=>{n(g=>(g+1)%t.length),i(0)},[t.length]);return{currentIndex:r,progress:s,isPaused:o,setIsPaused:u,goToSlide:d,prevSlide:h,nextSlide:p}},B5=S.memo(({platform:t,theme:e})=>a.jsx(F5,{tiltMaxAngleX:8,tiltMaxAngleY:8,scale:1.03,transitionSpeed:300,children:a.jsx(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:`${e==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-xl overflow-hidden shadow-md cursor-pointer hover:shadow-xl hover:border-blue-500/50 transition-all duration-300 relative`,children:a.jsxs(gs,{to:t.route,title:t.name,className:"block",children:[a.jsx("img",{src:t.logo,alt:t.name,className:`w-full h-24 sm:h-28 lg:h-32 object-contain p-4 ${e==="dark"?"bg-white/95":"bg-gray-50/95"} transition-transform duration-300 hover:scale-105`,loading:"lazy"}),a.jsx("div",{className:"p-3 text-center",style:{background:`linear-gradient(180deg, ${t.color}20, ${t.color}50)`},children:a.jsx("h3",{className:`font-semibold text-sm sm:text-base ${e==="dark"?"text-gray-100":"text-gray-900"} tracking-tight`,children:t.name})})]})})}));B5.propTypes={platform:K.shape({name:K.string.isRequired,logo:K.string.isRequired,route:K.string.isRequired,color:K.string.isRequired}).isRequired,theme:K.string.isRequired};const U5=S.memo(({show:t,onClose:e,notifications:r,theme:n})=>{const s=n==="dark",i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}},o=u=>u.toLocaleString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});return a.jsx(zt,{children:t&&a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"notifications-title",children:a.jsxs(te.div,{variants:i,initial:"hidden",animate:"visible",exit:"hidden",className:`w-full max-w-md mx-4 ${s?"bg-gray-900/95 border-gray-700/50":"bg-white/95 border-gray-200/50"} rounded-2xl shadow-2xl p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md`,onClick:u=>u.stopPropagation(),children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar notificaciones",children:a.jsx(Us,{size:20})}),a.jsx("h2",{id:"notifications-title",className:`text-2xl font-bold mb-6 ${s?"text-white":"text-gray-900"} bg-clip-text text-transparent bg-gradient-to-r ${s?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Notificaciones"}),r.length>0?r.map(u=>a.jsxs(te.div,{variants:i,initial:"hidden",animate:"visible",whileHover:"hover",className:`border-b py-3 last:border-0 rounded-xl px-2 transition-all duration-300 ${s?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,children:[a.jsx("p",{className:`${s?"text-gray-300":"text-gray-700"}`,children:u.message}),a.jsx("p",{className:`text-xs mt-1 ${s?"text-gray-400":"text-gray-500"}`,children:o(u.updatedAt?.toDate?.()||new Date)})]},u.id)):a.jsx("p",{className:`py-2 ${s?"text-gray-400":"text-gray-500"}`,children:"No hay notificaciones"})]})})})});U5.propTypes={show:K.bool.isRequired,onClose:K.func.isRequired,notifications:K.arrayOf(K.shape({id:K.string.isRequired,message:K.string.isRequired,updatedAt:K.object})).isRequired,theme:K.string.isRequired};const z5=()=>{const{currentIndex:t,progress:e,setIsPaused:r,goToSlide:n,prevSlide:s,nextSlide:i}=Mz(vd,5e3),[o,u]=S.useState(""),[d,h]=S.useState(tT),[p,g]=S.useState(null),[y,v]=S.useState(0),[T,w]=S.useState(null),[E,O]=S.useState(!1),[M,U]=S.useState(!1),[P,X]=S.useState("dark"),[B,A]=S.useState(!1),[N,C]=S.useState(!1),[R,F]=S.useState([]),W=Li(),V=S.useRef(null);S.useEffect(()=>{const Y=Gl(Qr,J=>{g(J),J?(Ee(J.uid),Pe(J.uid)):(v(0),w(null),F([]))});return()=>Y()},[]);const Ee=async Y=>{try{const J=await Vo(yt(Ve,"users",Y));if(J.exists()){v(J.data().balance||0),w(J.data().role);const ee=J.data().username||"Usuario";g(ie=>({...ie,username:ee}))}}catch(J){console.error("Error fetching user data:",J)}},Pe=async Y=>{try{const J=hr(Pt(Ve,"users",Y,"notifications"),nv("updatedAt","desc")),ie=(await yn(J)).docs.map(Ae=>({id:Ae.id,message:Ae.data().message||"Sin mensaje",updatedAt:Ae.data().updatedAt}));F(ie)}catch(J){console.error("Error fetching notifications:",J)}};S.useEffect(()=>{const Y=tT.filter(J=>J.name.toLowerCase().includes(o.toLowerCase()));h(Y)},[o]),S.useEffect(()=>{const Y=()=>{U(window.scrollY>300)};return window.addEventListener("scroll",Y),()=>window.removeEventListener("scroll",Y)},[]),S.useEffect(()=>{const Y=V.current;let J=0;const ee=Ae=>{J=Ae.touches[0].clientX,r(!0)},ie=Ae=>{const De=Ae.changedTouches[0].clientX;J-De>50&&i(),De-J>50&&s(),setTimeout(()=>r(!1),500)};return Y?.addEventListener("touchstart",ee),Y?.addEventListener("touchend",ie),()=>{Y?.removeEventListener("touchstart",ee),Y?.removeEventListener("touchend",ie)}},[s,i,r]);const ze=S.useCallback(Y=>{Y.preventDefault(),o.trim()&&W(`/search?q=${encodeURIComponent(o)}`)},[o,W]),Le=S.useCallback(async()=>{try{await M0(Qr),W("/")}catch(Y){console.error("Error signing out:",Y)}},[W]),we=S.useCallback(()=>{X(Y=>Y==="dark"?"light":"dark")},[]),se=S.useCallback(Y=>Y?Y.split(" ").map(ee=>ee[0]).join("").slice(0,2).toUpperCase():"U",[]),de=S.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),ne=S.useCallback(()=>{switch(T){case"admin":return"/dashboard/admin";case"provider":return"/dashboard/provider";default:return"/dashboard/user"}},[T]),D=S.useCallback(Y=>{if(!T){Y.preventDefault();const J={id:Date.now().toString(),message:"Usuario no activado",updatedAt:new Date};return F(ee=>[...ee,J]),C(!0),!1}return!0},[T]);return a.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${P==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col font-inter relative overflow-hidden`,children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${P==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),a.jsx("div",{className:"particles",children:[...Array(25)].map((Y,J)=>a.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},J))})]}),a.jsxs("header",{className:`${P==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-4 px-4 sm:px-6 flex items-center justify-between shadow-lg fixed top-0 left-0 right-0 z-50 transition-all duration-300`,children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(te.img,{src:Zl,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${P==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),a.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),a.jsx("div",{className:"flex-1 mx-4 max-w-md hidden lg:block",children:a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:"text",placeholder:"Buscar plataformas...",value:o,onChange:Y=>u(Y.target.value),className:`w-full py-2.5 px-5 ${P==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-lg group-hover:${P==="dark"?"bg-gray-800/50":"bg-gray-100/90"}`,"aria-label":"Buscar plataformas",onKeyDown:Y=>Y.key==="Enter"&&ze(Y)}),a.jsx("button",{onClick:ze,className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${P==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Buscar",children:a.jsx(xu,{size:18})})]})}),a.jsxs("nav",{className:"flex items-center space-x-3 relative",children:[a.jsx("button",{onClick:we,className:`p-2 rounded-full ${P==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${P==="dark"?"claro":"oscuro"}`,children:P==="dark"?a.jsx(Jl,{size:20}):a.jsx(Ql,{size:20})}),p&&a.jsxs("button",{onClick:()=>C(!0),className:`p-2 rounded-full relative ${P==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Notificaciones (${R.length} nuevas)`,children:[a.jsx(Fl,{size:20}),R.length>0&&a.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:R.length})]}),a.jsx("button",{className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition duration-300",onClick:()=>A(!B),"aria-label":"Abrir menú móvil","aria-expanded":B,children:a.jsx(Sm,{size:20,className:P==="dark"?"text-gray-300":"text-gray-600"})}),a.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:p?a.jsxs("div",{className:"relative flex items-center space-x-4",children:[a.jsx(te.div,{className:`flex items-center space-x-2 ${P==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-lg transition-all duration-300`,whileHover:{scale:1.05},children:a.jsxs("span",{className:"text-sm font-semibold",children:["S/. ",y.toFixed(2)]})}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>O(!E),className:`flex items-center space-x-2 ${P==="dark"?"bg-gray-800/30 border-gray-600/30":"bg-gray-100/80 border-gray-200/30"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-lg transition-all duration-300`,"aria-label":"Menú de usuario","aria-haspopup":"true","aria-expanded":E,children:[a.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:p.photoURL?a.jsx("img",{src:p.photoURL,alt:"Avatar de usuario",className:"h-full w-full rounded-full",loading:"lazy"}):se(p.username||p.email)}),a.jsx("span",{className:`text-sm font-semibold ${P==="dark"?"text-gray-200":"text-gray-800"} truncate max-w-[120px]`,children:p.username||"Usuario"}),a.jsx(KU,{className:`ml-1 ${P==="dark"?"text-gray-400":"text-gray-600"}`,size:14})]}),a.jsx(zt,{children:E&&a.jsxs(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:`absolute right-0 mt-2 w-56 ${P==="dark"?"bg-gray-900/95 border-gray-600/30":"bg-white/95 border-gray-200/30"} backdrop-blur-xl rounded-lg shadow-xl py-3 z-50`,role:"menu",children:[a.jsxs(gs,{to:ne(),className:`w-full text-left px-4 py-2 text-sm hover:${P==="dark"?"bg-gray-800/80":"bg-gray-200/80"} flex items-center ${P==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,onClick:Y=>{D(Y),O(!1)},role:"menuitem","aria-label":"Ir al dashboard",children:[a.jsx(kp,{className:"mr-2"})," Dashboard"]}),a.jsxs("button",{onClick:Le,className:`w-full text-left px-4 py-2 text-sm hover:${P==="dark"?"bg-gray-800/80":"bg-gray-200/80"} flex items-center ${P==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Cerrar sesión",children:[a.jsx(vu,{className:"mr-2"})," Cerrar Sesión"]})]})})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs(gs,{to:"/login",className:`bg-blue-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-blue-700/95 text-sm border ${P==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,"aria-label":"Iniciar sesión",children:[a.jsx(Xy,{className:"mr-2"})," Ingresar"]}),a.jsxs(gs,{to:"/register",className:`bg-green-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-green-700/95 text-sm border ${P==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,"aria-label":"Registrarse",children:[a.jsx(Yy,{className:"mr-2"})," Registrarse"]})]})})]}),a.jsx(zt,{children:B&&a.jsx(te.nav,{initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},className:`lg:hidden absolute top-full left-0 right-0 ${P==="dark"?"bg-gray-900/95":"bg-white/95"} backdrop-blur-xl shadow-lg z-40 p-6`,role:"menu","aria-label":"Menú móvil",children:a.jsxs("div",{className:"flex flex-col space-y-4",children:[a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:"text",placeholder:"Buscar plataformas...",value:o,onChange:Y=>u(Y.target.value),className:`w-full py-2.5 px-5 ${P==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-lg group-hover:${P==="dark"?"bg-gray-800/50":"bg-gray-100/90"}`,"aria-label":"Buscar plataformas",onKeyDown:Y=>Y.key==="Enter"&&ze(Y)}),a.jsx("button",{onClick:ze,className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${P==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Buscar",children:a.jsx(xu,{size:18})})]}),p&&a.jsxs("button",{onClick:()=>{C(!0),A(!1)},className:`text-sm flex items-center ${P==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Ver notificaciones",children:[a.jsx(Fl,{className:"mr-2"})," Notificaciones"]}),p?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:`text-sm ${P==="dark"?"text-gray-300":"text-gray-700"} font-medium`,children:["Saldo: S/. ",y.toFixed(2)]}),a.jsxs(gs,{to:ne(),className:`text-sm flex items-center ${P==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,onClick:Y=>{D(Y)&&A(!1)},role:"menuitem","aria-label":"Ir al dashboard",children:[a.jsx(kp,{className:"mr-2"})," Dashboard"]}),a.jsxs("button",{onClick:()=>{Le(),A(!1)},className:`text-sm flex items-center ${P==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Cerrar sesión",children:[a.jsx(vu,{className:"mr-2"})," Cerrar Sesión"]})]}):a.jsxs(a.Fragment,{children:[a.jsxs(gs,{to:"/login",className:`bg-blue-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-blue-700/95 text-sm border ${P==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,onClick:()=>A(!1),role:"menuitem","aria-label":"Iniciar sesión",children:[a.jsx(Xy,{className:"mr-2"})," Ingresar"]}),a.jsxs(gs,{to:"/register",className:`bg-green-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-green-700/95 text-sm border ${P==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,onClick:()=>A(!1),role:"menuitem","aria-label":"Registrarse",children:[a.jsx(Yy,{className:"mr-2"})," Registrarse"]})]})]})})})]}),a.jsx(U5,{show:N&&!!p,onClose:()=>C(!1),notifications:R,theme:P}),a.jsxs("main",{className:"flex-1 px-4 sm:px-6 lg:px-8 py-10 pt-24 relative z-10",children:[a.jsxs("section",{ref:V,className:"relative h-64 sm:h-80 md:h-96 lg:h-[600px] mb-12 overflow-hidden rounded-2xl shadow-2xl",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),role:"region","aria-label":"Carrusel de contenido destacado",children:[a.jsx(zt,{initial:!1,children:a.jsx(te.div,{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${vd[t].src})`},initial:{opacity:0,x:300,scale:1.1},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:-300,scale:1.1},transition:{duration:.8,ease:"easeInOut"},children:a.jsxs("div",{className:`absolute inset-0 bg-gradient-to-t ${P==="dark"?"from-black/90 via-black/60 to-transparent":"from-white/90 via-white/60 to-transparent"} flex flex-col justify-end p-6 sm:p-8 md:p-10 lg:p-12`,children:[a.jsx(te.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.5},className:`text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-extrabold mb-2 bg-clip-text text-transparent bg-gradient-to-r ${P==="dark"?"from-white to-gray-200":"from-gray-900 to-gray-700"} tracking-tight drop-shadow-md`,children:vd[t].title}),a.jsx(te.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.5},className:`text-sm sm:text-base md:text-lg lg:text-xl max-w-md ${P==="dark"?"text-gray-300":"text-gray-700"} font-medium drop-shadow-sm`,children:vd[t].description})]})},t)}),a.jsx("button",{onClick:s,className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${P==="dark"?"bg-black/50 hover:bg-black/70":"bg-white/50 hover:bg-white/70"} backdrop-blur-lg p-3 rounded-full transition-all duration-300 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Diapositiva anterior",children:a.jsx(QU,{size:20})}),a.jsx("button",{onClick:i,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${P==="dark"?"bg-black/50 hover:bg-black/70":"bg-white/50 hover:bg-white/70"} backdrop-blur-lg p-3 rounded-full transition-all duration-300 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Diapositiva siguiente",children:a.jsx(JU,{size:20})}),a.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",role:"tablist",children:vd.map((Y,J)=>a.jsx("button",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full transition-all duration-300 ${t===J?"bg-blue-500 scale-125":P==="dark"?"bg-gray-500/50":"bg-gray-400/50"} focus:outline-none focus:ring-2 focus:ring-blue-500`,onClick:()=>n(J),role:"tab","aria-selected":t===J,"aria-label":`Ir a diapositiva ${J+1}`},J))}),a.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 ${P==="dark"?"bg-gray-800/50":"bg-gray-200/50"}`,children:a.jsx(te.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600",style:{width:`${e}%`},initial:{width:0},animate:{width:`${e}%`},transition:{duration:.1}})})]}),a.jsxs("section",{className:"relative",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold mb-10 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600 tracking-tight",children:"Categorías de Plataformas"}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4 sm:gap-6 lg:gap-8",children:d.length>0?d.map((Y,J)=>a.jsx(B5,{platform:Y,theme:P},J)):a.jsx("p",{className:`col-span-full text-center text-lg ${P==="dark"?"text-gray-400":"text-gray-600"} font-medium`,children:"No se encontraron plataformas."})})]})]}),a.jsx("footer",{className:`${P==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10`,children:a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[a.jsxs("p",{className:`${P==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",a.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),a.jsxs("div",{className:"flex justify-center space-x-8",children:[a.jsx("a",{href:"https://twitter.com",className:`${P==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:a.jsx(Yl,{size:24})}),a.jsx("a",{href:"https://instagram.com",className:`${P==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:a.jsx(Xl,{size:24})}),a.jsx("a",{href:"https://facebook.com",className:`${P==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:a.jsx(Kl,{size:24})})]})]})}),a.jsx(zt,{children:M&&a.jsx(te.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:de,className:`fixed bottom-6 left-6 bg-blue-600/90 backdrop-blur-lg p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 ${P==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Volver al inicio de la página",children:a.jsx(Nm,{size:20})})})]})};z5.propTypes={};const $z=()=>{const[t,e]=S.useState(""),[r,n]=S.useState(""),[s,i]=S.useState(!1),[o,u]=S.useState(""),[d,h]=S.useState(!1),[p,g]=S.useState(()=>localStorage.getItem("theme")||"dark"),y=Li(),v=S.useRef(null);S.useEffect(()=>{localStorage.setItem("theme",p),document.documentElement.classList.toggle("dark",p==="dark")},[p]),S.useEffect(()=>{const U=Qr.onAuthStateChanged(P=>{P&&y("/")});return()=>U()},[y]),S.useEffect(()=>{v.current?.focus()},[]);const T=S.useCallback(()=>t?r?r.length<6?"La contraseña debe tener al menos 6 caracteres":"":"Por favor, ingresa tu contraseña":"Por favor, ingresa tu nombre de usuario o correo electrónico",[t,r]),w=async U=>{try{const P=Pt(Ve,"users"),X=hr(P,br("username","==",U)),B=await yn(X);if(!B.empty){const A=B.docs[0].data();return{email:A.email,status:A.status||"active"}}return null}catch(P){return console.error("Error fetching username:",P),null}},E=S.useCallback(async U=>{U.preventDefault();const P=T();if(P){u(P);return}u(""),h(!0);try{let X=t,B="active";if(t.includes("@")){const A=Pt(Ve,"users"),N=hr(A,br("email","==",t)),C=await yn(N);C.empty||(B=C.docs[0].data().status||"active")}else{const A=await w(t);if(!A){u("Nombre de usuario no encontrado"),h(!1);return}X=A.email,B=A.status}if(B==="suspended"){u("Esta cuenta está suspendida y no se puede ingresar"),h(!1);return}await rF(Qr,X,r),e(""),n(""),y("/")}catch(X){u(X.code==="auth/wrong-password"?"Contraseña incorrecta":X.code==="auth/user-not-found"?"Usuario o correo electrónico no encontrado":X.code==="auth/too-many-requests"?"Demasiados intentos fallidos. Intenta de nuevo más tarde.":"Error al iniciar sesión. Por favor, intenta de nuevo.")}finally{h(!1)}},[t,r,y,T]),O=S.useCallback(()=>{g(U=>U==="dark"?"light":"dark")},[]),M=S.useCallback(()=>{i(U=>!U)},[]);return a.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${p==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[a.jsx("div",{className:"absolute bottom-4 right-4 z-20",children:a.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full backdrop-blur-sm ${p==="dark"?"bg-gray-800/50 text-gray-400 border border-gray-600/30":"bg-white/70 text-gray-600 border border-gray-300/30"}`,children:"V2.1.2"})}),a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${p==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),a.jsx("div",{className:"particles",children:[...Array(25)].map((U,P)=>a.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},P))})]}),a.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${p==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"login-title",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(te.img,{src:Zl,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${p==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),a.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),a.jsx("button",{onClick:O,className:`p-2 rounded-full ${p==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${p==="dark"?"claro":"oscuro"}`,children:p==="dark"?a.jsx(Jl,{size:20}):a.jsx(Ql,{size:20})})]}),a.jsx("h2",{id:"login-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Iniciar Sesión"}),a.jsx(zt,{children:o&&a.jsx(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${p==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:o})}),a.jsxs("form",{onSubmit:E,className:"space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ml,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400":"text-gray-600"}`}),a.jsx(te.input,{ref:v,type:"text",placeholder:"Nombre de usuario o correo electrónico",value:t,onChange:U=>e(U.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${p==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Nombre de usuario o correo electrónico",required:!0,whileFocus:{scale:1.02}})]}),a.jsxs("div",{className:"relative",children:[a.jsx(e2,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400":"text-gray-600"}`}),a.jsx(te.input,{type:s?"text":"password",placeholder:"Contraseña",value:r,onChange:U=>n(U.target.value),className:`w-full pl-12 pr-12 py-3 rounded-full ${p==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Contraseña",required:!0,whileFocus:{scale:1.02}}),a.jsx("button",{type:"button",onClick:M,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-800"} transition duration-200`,"aria-label":s?"Ocultar contraseña":"Mostrar contraseña",children:s?a.jsx($5,{size:18}):a.jsx(V5,{size:18})})]}),a.jsxs(te.button,{type:"submit",disabled:d,className:`w-full bg-blue-600/90 backdrop-blur-xl py-3 rounded-full ${d?"opacity-50 cursor-not-allowed":"hover:bg-blue-700/95"} text-sm border ${p==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Iniciar sesión",whileHover:{scale:d?1:1.05},whileTap:{scale:d?1:.95},children:[d?a.jsxs(te.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}):a.jsx(Xy,{className:"mr-2"}),d?"Cargando...":"Iniciar Sesión"]})]}),a.jsxs("div",{className:"text-center text-sm mt-6 space-y-3",children:[a.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿No tienes una cuenta?"," ",a.jsx(gs,{to:"/register",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a registrarse",children:"Regístrate aquí"})]}),a.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿Olvidaste tu contraseña?"," ",a.jsx(gs,{to:"/forgot-password",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Recuperar contraseña",children:"Recupérala aquí"})]})]})]})}),a.jsx("footer",{className:`${p==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[a.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",a.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),a.jsxs("div",{className:"flex justify-center space-x-8",children:[a.jsx("a",{href:"https://twitter.com",className:`${p==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:a.jsx(Yl,{size:24})}),a.jsx("a",{href:"https://instagram.com",className:`${p==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:a.jsx(Xl,{size:24})}),a.jsx("a",{href:"https://facebook.com",className:`${p==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:a.jsx(Kl,{size:24})})]})]})})]})},Vz=()=>{const t=[{name:"Perú",code:"+51",flag:"🇵🇪",pattern:/^\d{9}$/,length:9},{name:"Estados Unidos",code:"+1",flag:"🇺🇸",pattern:/^\d{10}$/,length:10},{name:"México",code:"+52",flag:"🇲🇽",pattern:/^\d{10}$/,length:10},{name:"Argentina",code:"+54",flag:"🇦🇷",pattern:/^\d{10}$/,length:10},{name:"Chile",code:"+56",flag:"🇨🇱",pattern:/^\d{9}$/,length:9},{name:"Colombia",code:"+57",flag:"🇨🇴",pattern:/^\d{10}$/,length:10}],[e,r]=S.useState(""),[n,s]=S.useState(""),[i,o]=S.useState(""),[u,d]=S.useState(""),[h,p]=S.useState(""),[g,y]=S.useState(t[0]),[v,T]=S.useState(!1),[w,E]=S.useState(""),[O,M]=S.useState(!1),[U,P]=S.useState(!1),[X,B]=S.useState(()=>localStorage.getItem("theme")||"dark"),A=Li(),N=S.useRef(null);S.useEffect(()=>{localStorage.setItem("theme",X),document.documentElement.classList.toggle("dark",X==="dark")},[X]),S.useEffect(()=>{const Ee=Qr.onAuthStateChanged(Pe=>{Pe&&!U&&A("/")});return()=>Ee()},[A,U]),S.useEffect(()=>{N.current?.focus()},[]);const C=S.useCallback(async()=>e?/^[a-zA-Z0-9_]{3,20}$/.test(e)?(await Vo(yt(Ve,"usernames",e.toLowerCase()))).exists()?"El nombre de usuario ya está en uso":n?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?i?g.pattern.test(i)?u?u.length<6?"La contraseña debe tener al menos 6 caracteres":"":"Por favor, ingresa una contraseña":`El número de teléfono debe tener exactamente ${g.length} dígitos`:"Por favor, ingresa tu número de teléfono":"Correo electrónico inválido":"Por favor, ingresa tu correo electrónico":"El nombre de usuario debe tener entre 3 y 20 caracteres alfanuméricos":"Por favor, ingresa un nombre de usuario",[e,n,i,u,g]),R=S.useCallback(async Ee=>{Ee.preventDefault();const Pe=await C();if(Pe){E(Pe);return}E(""),M(!0),P(!0);try{const Le=(await tF(Qr,n,u)).user;console.log("Usuario creado en Auth:",Le.uid),await sF(Le,{displayName:e}),console.log("Perfil actualizado con username:",e),await la(yt(Ve,"users",Le.uid),{username:e.toLowerCase(),email:n.toLowerCase(),phone:`${g.code}${i}`,phoneCountryCode:g.code,phoneCountryName:g.name,phoneDigits:i,referralCode:h||null,balance:0,createdAt:new Date}),console.log('Datos guardados en colección "users" con ID:',Le.uid),await la(yt(Ve,"usernames",e.toLowerCase()),{email:n.toLowerCase(),uid:Le.uid}),console.log('Mapping guardado en colección "usernames" con ID:',e.toLowerCase()),r(""),s(""),o(""),d(""),p(""),A("/")}catch(ze){console.error("Error en registro:",ze),E(ze.code==="auth/email-already-in-use"?"El correo electrónico ya está registrado":ze.code==="auth/invalid-email"?"Correo electrónico inválido":ze.code==="auth/weak-password"?"La contraseña es demasiado débil":"Error al registrarse. Por favor, intenta de nuevo.")}finally{M(!1),P(!1)}},[e,n,i,u,h,g,A,C]),F=S.useCallback(()=>{B(Ee=>Ee==="dark"?"light":"dark")},[]),W=S.useCallback(()=>{T(Ee=>!Ee)},[]),V=S.useCallback(Ee=>{const Pe=Ee.target.value,ze=t.find(Le=>Le.code===Pe)||g;y(ze),i.length>ze.length&&o(i.slice(0,ze.length))},[g,i]);return a.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${X==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[a.jsx("div",{className:"absolute bottom-4 right-4 z-20",children:a.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded-full backdrop-blur-sm ${X==="dark"?"bg-gray-800/50 text-gray-400 border border-gray-600/30":"bg-white/70 text-gray-600 border border-gray-300/30"}`,children:"V2.1.2"})}),a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${X==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),a.jsx("div",{className:"particles",children:[...Array(25)].map((Ee,Pe)=>a.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Pe))})]}),a.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${X==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"register-title",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(te.img,{src:Zl,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${X==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),a.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),a.jsx("button",{onClick:F,className:`p-2 rounded-full ${X==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${X==="dark"?"claro":"oscuro"}`,children:X==="dark"?a.jsx(Jl,{size:20}):a.jsx(Ql,{size:20})})]}),a.jsx(zt,{children:a.jsx(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},className:`${X==="dark"?"bg-green-900/30 border-green-600/30 text-green-200":"bg-green-100/50 border-green-300/30 text-green-800"} rounded-lg p-3 mb-6 text-center text-sm border-l-4 font-semibold`,role:"banner",children:"¡Regístrate gratis ahora!"})}),a.jsx("h2",{id:"register-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Registrarse"}),a.jsx(zt,{children:w&&a.jsx(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${X==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:w})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ml,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),a.jsx(te.input,{ref:N,type:"text",placeholder:"Elige un nombre de usuario",value:e,onChange:Ee=>r(Ee.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Nombre de usuario",required:!0,whileFocus:{scale:1.02}})]}),a.jsxs("div",{className:"relative",children:[a.jsx(gu,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),a.jsx(te.input,{type:"email",placeholder:"Tu correo electrónico",value:n,onChange:Ee=>s(Ee.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Correo electrónico",required:!0,whileFocus:{scale:1.02}})]}),a.jsxs("div",{className:"relative flex items-center",children:[a.jsx(ez,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),a.jsxs("div",{className:"flex w-full",children:[a.jsx("select",{value:g.code,onChange:V,className:`flex items-center pl-3 pr-3 py-3 rounded-l-full text-sm font-medium cursor-pointer appearance-none bg-transparent border border-r-0 focus:outline-none focus:ring-2 focus:ring-blue-500/50 backdrop-blur-xl transition-all duration-300 hover:shadow-lg ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"}`,children:t.map(Ee=>a.jsxs("option",{value:Ee.code,children:[Ee.flag," ",Ee.name," (",Ee.code,")"]},Ee.code))}),a.jsx(te.input,{type:"tel",placeholder:`Número de teléfono (${g.name})`,value:i,onChange:Ee=>o(Ee.target.value.replace(/\D/g,"")),className:`flex-1 pl-4 pr-4 py-3 rounded-r-full border border-l-0 focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"}`,"aria-label":"Número de teléfono",required:!0,maxLength:g.length,whileFocus:{scale:1.02}})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(e2,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),a.jsx(te.input,{type:v?"text":"password",placeholder:"Elige una contraseña",value:u,onChange:Ee=>d(Ee.target.value),className:`w-full pl-12 pr-12 py-3 rounded-full ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Contraseña",required:!0,whileFocus:{scale:1.02}}),a.jsx("button",{onClick:W,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-800"} transition duration-200`,"aria-label":v?"Ocultar contraseña":"Mostrar contraseña",children:v?a.jsx($5,{size:18}):a.jsx(V5,{size:18})})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Ml,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),a.jsx(te.input,{type:"text",placeholder:"Ingresa un código de referido",value:h,onChange:Ee=>p(Ee.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${X==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Código de referido",whileFocus:{scale:1.02}}),a.jsx("span",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-xs italic text-gray-500",children:"opcional"})]}),a.jsxs(te.button,{onClick:R,disabled:O,className:`w-full bg-green-600/90 backdrop-blur-xl py-3 rounded-full ${O?"opacity-50 cursor-not-allowed":"hover:bg-green-700/95"} text-sm border ${X==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Registrarse",whileHover:{scale:O?1:1.05},whileTap:{scale:O?1:.95},children:[O?a.jsxs(te.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V8h8a8 8 0 01-16 0z"})]}):a.jsx(Yy,{className:"mr-2"}),O?"Cargando...":"Registrarse"]})]}),a.jsxs("p",{className:`text-center text-sm mt-6 ${X==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿Ya tienes una cuenta?"," ",a.jsx(gs,{to:"/login",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a iniciar sesión",children:"Inicia sesión aquí"})]})]})}),a.jsx("footer",{className:`${X==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[a.jsxs("p",{className:`${X==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",a.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),a.jsxs("div",{className:"flex justify-center space-x-8",children:[a.jsx("a",{href:"https://twitter.com",className:`${X==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:a.jsx(Yl,{size:24})}),a.jsx("a",{href:"https://instagram.com",className:`${X==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:a.jsx(Xl,{size:24})}),a.jsx("a",{href:"https://facebook.com",className:`${X==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:a.jsx(Kl,{size:24})})]})]})})]})},Bz=()=>{const[t,e]=S.useState(""),[r,n]=S.useState(""),[s,i]=S.useState(""),[o,u]=S.useState(!1),[d,h]=S.useState(()=>localStorage.getItem("theme")||"dark"),p=Li(),g=S.useRef(null);S.useEffect(()=>{localStorage.setItem("theme",d),document.documentElement.classList.toggle("dark",d==="dark")},[d]),S.useEffect(()=>{const w=Qr.onAuthStateChanged(E=>{E&&p("/")});return()=>w()},[p]),S.useEffect(()=>{g.current?.focus()},[]);const y=S.useCallback(()=>t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"":"Correo electrónico inválido":"Por favor, ingresa tu correo electrónico",[t]),v=S.useCallback(async w=>{w.preventDefault();const E=y();if(E){n(E),i("");return}n(""),i(""),u(!0);try{await eF(Qr,t),i("Se ha enviado un enlace de restablecimiento de contraseña a tu correo electrónico."),e("")}catch(O){n(O.code==="auth/user-not-found"?"No se encontró un usuario con este correo electrónico":O.code==="auth/invalid-email"?"Correo electrónico inválido":O.code==="auth/too-many-requests"?"Demasiados intentos. Intenta de nuevo más tarde.":"Error al enviar el enlace de restablecimiento. Por favor, intenta de nuevo.")}finally{u(!1)}},[t,y]),T=S.useCallback(()=>{h(w=>w==="dark"?"light":"dark")},[]);return a.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${d==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${d==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),a.jsx("div",{className:"particles",children:[...Array(25)].map((w,E)=>a.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},E))})]}),a.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${d==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"forgot-password-title",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(te.img,{src:Zl,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${d==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),a.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),a.jsx("button",{onClick:T,className:`p-2 rounded-full ${d==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${d==="dark"?"claro":"oscuro"}`,children:d==="dark"?a.jsx(Jl,{size:20}):a.jsx(Ql,{size:20})})]}),a.jsx("h2",{id:"forgot-password-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Recuperar Contraseña"}),a.jsxs(zt,{children:[r&&a.jsx(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${d==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:r}),s&&a.jsx(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${d==="dark"?"bg-green-900/50 border-green-600/50":"bg-green-100/50 border-green-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-green-600 border-l-4`,role:"alert",children:s})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(gu,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${d==="dark"?"text-gray-400":"text-gray-600"}`}),a.jsx(te.input,{ref:g,type:"email",placeholder:"Tu correo electrónico",value:t,onChange:w=>e(w.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${d==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Correo electrónico",required:!0,whileFocus:{scale:1.02}})]}),a.jsxs(te.button,{onClick:v,disabled:o,className:`w-full bg-blue-600/90 backdrop-blur-xl py-3 rounded-full ${o?"opacity-50 cursor-not-allowed":"hover:bg-blue-700/95"} text-sm border ${d==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Enviar enlace de restablecimiento",whileHover:{scale:o?1:1.05},whileTap:{scale:o?1:.95},children:[o?a.jsxs(te.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}):a.jsx(gu,{className:"mr-2"}),o?"Cargando...":"Enviar Enlace de Restablecimiento"]})]}),a.jsxs("div",{className:"text-center text-sm mt-6 space-y-3",children:[a.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿Ya tienes una cuenta?"," ",a.jsx(gs,{to:"/login",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a iniciar sesión",children:"Inicia sesión aquí"})]}),a.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿No tienes una cuenta?"," ",a.jsx(gs,{to:"/register",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a registrarse",children:"Regístrate aquí"})]})]})]})}),a.jsx("footer",{className:`${d==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:a.jsxs(te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[a.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",a.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),a.jsxs("div",{className:"flex justify-center space-x-8",children:[a.jsx("a",{href:"https://twitter.com",className:`${d==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:a.jsx(Yl,{size:24})}),a.jsx("a",{href:"https://instagram.com",className:`${d==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:a.jsx(Xl,{size:24})}),a.jsx("a",{href:"https://facebook.com",className:`${d==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:a.jsx(Kl,{size:24})})]})]})})]})};function UJ(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(t)}function oi(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function p0(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function zJ(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function r2(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function bu(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function Uz(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function Am(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Cm(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function Du(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function zz(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(t)}function rT(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(t)}function $s(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function Im(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function H5(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function Hz(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(t)}function Wz(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function W5(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function HJ(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"},child:[]},{tag:"line",attr:{x1:"7",y1:"2",x2:"7",y2:"22"},child:[]},{tag:"line",attr:{x1:"17",y1:"2",x2:"17",y2:"22"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"2",y1:"7",x2:"7",y2:"7"},child:[]},{tag:"line",attr:{x1:"2",y1:"17",x2:"7",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"17",x2:"22",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"7",x2:"22",y2:"7"},child:[]}]})(t)}function WJ(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function Pa(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function qz(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function q5(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function qJ(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function Gz(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(t)}function G5(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(t)}function GJ(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(t)}function Np(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function Sp(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function n2(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function Kz(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function Hr(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(t)}function KJ(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function XJ(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 18V5l12-2v13"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"16",r:"3"},child:[]}]})(t)}function Xz(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function YJ(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"},child:[]},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"},child:[]},{tag:"path",attr:{d:"M2 2l7.586 7.586"},child:[]},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"},child:[]}]})(t)}function Ap(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function QJ(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"10 8 16 12 10 16 10 8"},child:[]}]})(t)}function nT(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function K5(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function X5(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 1 21 5 17 9"},child:[]},{tag:"path",attr:{d:"M3 11V9a4 4 0 0 1 4-4h14"},child:[]},{tag:"polyline",attr:{points:"7 23 3 19 7 15"},child:[]},{tag:"path",attr:{d:"M21 13v2a4 4 0 0 1-4 4H3"},child:[]}]})(t)}function ia(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function Y5(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function $l(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function Cp(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(t)}function Q5(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}function JJ(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(t)}function s2(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function sT(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function ZJ(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"},child:[]},{tag:"polyline",attr:{points:"17 2 12 7 7 2"},child:[]}]})(t)}function Ip(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function eZ(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function bs(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function jp(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function tZ(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"},child:[]},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"},child:[]}]})(t)}function Yz(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(t)}function zs(t){return We({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const Qz=({isOpen:t,message:e,title:r,onClose:n})=>t?a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:r}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:a.jsx(zs,{size:20})})]}),a.jsx("p",{className:"text-gray-300 mb-6",children:e}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,J5=({isOpen:t,user:e,onClose:r,onSave:n,theme:s="dark"})=>{const i=s==="dark",[o,u]=S.useState(e?.username||""),[d,h]=S.useState(""),p={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.95,transition:{duration:.2}}},g={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},y=v=>{if(v.preventDefault(),h(""),!o.trim()){h("El nombre de usuario no puede estar vacío.");return}n(e.id,o.trim())};return t?a.jsx(te.div,{className:`fixed inset-0 ${i?"bg-black/70":"bg-black/50"} flex items-center justify-center z-50 p-4`,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},role:"dialog","aria-modal":"true","aria-labelledby":"edit-profile-title",children:a.jsx(te.div,{className:`rounded-2xl shadow-md w-full max-w-md border ${i?"bg-gray-900/90 border-gray-700/50":"bg-white border-gray-300"}`,variants:p,initial:"hidden",animate:"visible",exit:"exit",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{id:"edit-profile-title",className:"text-xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Editar Perfil"}),a.jsx(te.button,{onClick:r,className:`${i?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,variants:g,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar modal",children:a.jsx(zs,{size:20})})]}),a.jsxs("form",{onSubmit:y,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:`block mb-2 font-semibold ${i?"text-gray-300":"text-gray-700"}`,children:"Nombre de usuario"}),a.jsx("input",{type:"text",value:o,onChange:v=>u(v.target.value),className:`w-full px-4 py-2 rounded-xl ${i?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300`,required:!0,"aria-label":"Nombre de usuario"}),d&&a.jsx("p",{className:`text-sm mt-2 ${i?"text-red-400":"text-red-600"}`,children:d})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(te.button,{type:"button",onClick:r,className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${i?"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-400":"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:g,whileHover:"hover",whileTap:"tap","aria-label":"Cancelar edición",children:"Cancelar"}),a.jsx(te.button,{type:"submit",className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${i?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:g,whileHover:"hover",whileTap:"tap","aria-label":"Guardar perfil",children:"Guardar"})]})]})]})})}):null};J5.propTypes={isOpen:K.bool.isRequired,user:K.shape({id:K.string.isRequired,username:K.string.isRequired}).isRequired,onClose:K.func.isRequired,onSave:K.func.isRequired,theme:K.oneOf(["light","dark"]).isRequired};const Z5=({isOpen:t,provider:e,onClose:r,onRate:n,theme:s="dark"})=>{const i=s==="dark",[o,u]=S.useState(0),[d,h]=S.useState(""),p={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}}},g={hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.2}}},y={hover:{scale:1.2,y:-5,transition:{duration:.2,type:"spring"}},tap:{scale:.95}},v={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},T=E=>{if(E.preventDefault(),h(""),o<1||o>5){h("Por favor, selecciona una calificación entre 1 y 5 estrellas.");return}n(e.id,o),u(0)},w=E=>{u(E),h("")};return t?a.jsx(zt,{children:a.jsx(te.div,{className:`fixed inset-0 ${i?"bg-black/70 backdrop-blur-sm":"bg-black/50 backdrop-blur-sm"} flex items-center justify-center z-50 p-4`,variants:p,initial:"hidden",animate:"visible",exit:"exit",onClick:r,role:"dialog","aria-modal":"true","aria-labelledby":"rate-provider-title",children:a.jsx(te.div,{className:`rounded-3xl shadow-2xl w-full max-w-md border ${i?"bg-gradient-to-br from-gray-900/95 to-gray-800/95 border-gray-700/50":"bg-gradient-to-br from-white to-gray-50 border-gray-200/50"}`,variants:g,initial:"hidden",animate:"visible",exit:"exit",onClick:E=>E.stopPropagation(),children:a.jsxs("div",{className:"p-6 sm:p-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx(te.h2,{id:"rate-provider-title",className:`text-xl sm:text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${i?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{x:-10},animate:{x:0},transition:{duration:.5},children:"Calificar Proveedor"}),a.jsx(te.button,{onClick:r,className:`p-2 rounded-2xl ${i?"text-gray-400 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200 hover:text-gray-900"} transition-all duration-300`,variants:v,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar modal",children:a.jsx(zs,{size:20})})]}),a.jsxs("form",{onSubmit:T,className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`inline-flex items-center gap-2 p-3 rounded-2xl mb-4 ${i?"bg-gray-800/50":"bg-gray-100"}`,children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:a.jsx(bs,{className:"text-white text-sm"})}),a.jsx("span",{className:`font-semibold ${i?"text-white":"text-gray-900"}`,children:e.name})]}),a.jsx("div",{className:"flex justify-center space-x-1 mb-4",children:[1,2,3,4,5].map(E=>a.jsx(te.button,{type:"button",onClick:()=>w(E),className:`p-1 focus:outline-none focus:ring-2 focus:ring-yellow-500/50 rounded-full transition-all duration-200 ${E<=o?i?"text-yellow-400 hover:text-yellow-300":"text-yellow-600 hover:text-yellow-500":i?"text-gray-500 hover:text-gray-400":"text-gray-400 hover:text-gray-500"}`,variants:y,whileHover:"hover",whileTap:"tap","aria-label":`Seleccionar ${E} estrella${E>1?"s":""}`,children:a.jsx(Cp,{size:28})},E))}),a.jsx("p",{className:`text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:o>0?`Calificación seleccionada: ${o} estrella${o>1?"s":""}`:"Selecciona una calificación"})]}),d&&a.jsx(te.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`p-3 rounded-xl ${i?"bg-red-900/50 border border-red-500/30 text-red-300":"bg-red-50 border border-red-200 text-red-700"}`,children:d}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200/50 dark:border-gray-700/50",children:[a.jsx(te.button,{type:"button",onClick:r,className:`px-6 py-3 rounded-2xl font-semibold transition-all duration-300 ${i?"bg-gray-600/70 hover:bg-gray-700/80 text-white focus:ring-gray-500/50":"bg-gray-400/70 hover:bg-gray-500/80 text-white focus:ring-gray-500/50"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:v,whileHover:"hover",whileTap:"tap","aria-label":"Cancelar calificación",children:"Cancelar"}),a.jsxs(te.button,{type:"submit",disabled:o===0,className:`px-6 py-3 rounded-2xl font-semibold flex items-center gap-2 transition-all duration-300 ${o>0?i?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-400":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-500":i?"bg-gray-600/70 text-gray-400 cursor-not-allowed":"bg-gray-400/70 text-gray-500 cursor-not-allowed"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:v,whileHover:o>0?"hover":{},whileTap:o>0?"tap":{},"aria-label":"Enviar calificación",children:[a.jsx(Cp,{size:18,className:"text-yellow-400"}),a.jsx("span",{children:"Enviar Calificación"})]})]})]})]})})})}):null};Z5.propTypes={isOpen:K.bool.isRequired,provider:K.shape({id:K.string.isRequired,name:K.string.isRequired}).isRequired,onClose:K.func.isRequired,onRate:K.func.isRequired,theme:K.oneOf(["light","dark"]).isRequired};const Jz=({userName:t,email:e,balance:r,orders:n,notifications:s,setActivePage:i,formatDate:o,theme:u="dark"})=>{const d=u==="dark",h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return a.jsxs(te.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${d?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",children:[a.jsxs(te.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r ${d?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Bienvenido, ",a.jsx("span",{className:"text-red-400",children:t.username})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-blue-400":"text-blue-600"}`,children:[a.jsx(bs,{size:20}),"Información de cuenta"]}),a.jsxs("div",{className:`space-y-4 ${d?"text-gray-300":"text-gray-700"}`,children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[a.jsx(bs,{className:"text-blue-400 flex-shrink-0",size:20}),a.jsx("span",{className:"font-medium",children:t.username})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[a.jsx(Hr,{className:"text-blue-400 flex-shrink-0",size:20}),a.jsx("span",{className:"font-medium",children:e})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[a.jsx(Ap,{className:"text-blue-400 flex-shrink-0",size:20}),a.jsx("span",{className:"font-medium",children:t.phone||"No especificado"})]})]})]}),a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-green-400":"text-green-600"}`,children:[a.jsx(Ap,{size:20}),"Saldo disponible"]}),a.jsxs("p",{className:`text-4xl font-bold ${d?"text-white":"text-gray-900"}`,children:["S/ ",r.toFixed(2)]}),a.jsx(te.button,{onClick:()=>i("recargar"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 ${d?"from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Recargar Saldo"})]}),a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-purple-400":"text-purple-600"}`,children:[a.jsx(Hr,{size:20}),"Pedidos activos"]}),a.jsx("p",{className:`text-4xl font-bold ${d?"text-white":"text-gray-900"}`,children:n.filter(g=>new Date(g.endDate)>new Date&&(g.status==="completed"||g.status==="active")).length}),a.jsx(te.button,{onClick:()=>i("pedidos"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${d?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver Pedidos"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(te.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-white":"text-gray-900"}`,children:[a.jsx(Hr,{size:20}),"Pedidos recientes"]}),a.jsx(zt,{children:n.length>0?n.slice(0,3).map((g,y)=>{const v=new Date(g.endDate)>new Date&&(g.status==="completed"||g.status==="active"),T=g.status==="pending";return a.jsxs(te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:y*.1},className:`mb-4 p-4 rounded-xl transition-all duration-300 border ${d?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,whileHover:{scale:1.02},children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:`font-semibold ${d?"text-white":"text-gray-900"}`,children:g.productName||"Producto sin nombre"}),a.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-medium ${g.status==="pending"?d?"bg-yellow-900/80 text-yellow-300 border border-yellow-500/30":"bg-yellow-100 text-yellow-800 border border-yellow-300":v?d?"bg-green-900/80 text-green-300 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300":d?"bg-red-900/80 text-red-300 border border-red-500/30":"bg-red-100 text-red-800 border border-red-300"}`,children:T?"A pedido":v?"Activo":"Expirado"})]}),a.jsxs("p",{className:`text-sm ${d?"text-gray-400":"text-gray-600"}`,children:["Vence: ",o(g.endDate)]})]},g.id)}):a.jsx(te.p,{initial:{opacity:0},animate:{opacity:1},className:`py-8 text-center ${d?"text-gray-400":"text-gray-500"}`,children:"No tienes pedidos recientes"})}),n.length>3&&a.jsx(te.button,{onClick:()=>i("pedidos"),className:`w-full mt-4 px-6 py-3 text-center text-sm transition-all duration-300 rounded-xl border-2 font-medium ${d?"border-blue-500/50 text-blue-400 hover:bg-blue-500/10":"border-blue-500/50 text-blue-600 hover:bg-blue-500/10"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver todos los pedidos"})]}),a.jsxs(te.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${d?"text-white":"text-gray-900"}`,children:[a.jsx(oi,{size:20}),"Notificaciones"]}),a.jsx(zt,{children:s.length>0?s.map((g,y)=>a.jsxs(te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,delay:y*.1},className:`mb-4 p-4 rounded-xl transition-all duration-300 border ${d?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,whileHover:{scale:1.02},children:[a.jsx("p",{className:`font-medium ${d?"text-gray-300":"text-gray-700"}`,children:g.message}),a.jsx("p",{className:`text-xs mt-2 ${d?"text-gray-400":"text-gray-500"}`,children:o(g.updatedAt?.toDate?.()||new Date)})]},g.id)):a.jsx(te.p,{initial:{opacity:0},animate:{opacity:1},className:`py-8 text-center ${d?"text-gray-400":"text-gray-500"}`,children:"No hay notificaciones"})})]})]}),a.jsxs(te.div,{className:`rounded-3xl p-6 shadow-2xl border backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[a.jsxs("h3",{className:`text-xl font-bold mb-6 flex items-center gap-2 ${d?"text-white":"text-gray-900"}`,children:[a.jsx(Hr,{size:24}),"Únete a nuestros grupos"]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{href:"https://chat.whatsapp.com/IG8v1E00lAD6RIOo7ZB5Kv",icon:Hr,title:"Avisos",subtitle:"Grupo de WhatsApp",color:"from-green-500 to-emerald-600"},{href:"https://chat.whatsapp.com/Gs6kTW4DBTi7dEMhnZV1yb",icon:Hr,title:"General",subtitle:"Grupo de WhatsApp",color:"from-blue-500 to-cyan-600"},{href:"https://chat.whatsapp.com/BqCOR6w8002695hbYXf5KA",icon:Hr,title:"Publicidad",subtitle:"Grupo de WhatsApp",color:"from-purple-500 to-pink-600"}].map((g,y)=>a.jsxs(te.a,{href:g.href,target:"_blank",rel:"noopener noreferrer",className:`flex items-center p-4 rounded-2xl transition-all duration-300 border group ${d?"bg-gray-700/50 hover:bg-gray-600/70 border-gray-600/50":"bg-gray-200/50 hover:bg-gray-300/70 border-gray-300/50"}`,whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:[a.jsx(te.div,{className:`flex-shrink-0 p-3 rounded-xl mr-4 bg-gradient-to-br ${g.color} text-white shadow-lg`,whileHover:{scale:1.1},children:a.jsx(g.icon,{size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:`font-semibold ${d?"text-white":"text-gray-900"} group-hover:text-blue-500 transition-colors`,children:g.title}),a.jsx("p",{className:`text-sm ${d?"text-gray-300":"text-gray-600"}`,children:g.subtitle})]})]},y))})]})]})},eA=({notifications:t,formatDate:e,theme:r="dark"})=>{const n=r==="dark",s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return a.jsxs(te.div,{className:`p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${n?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:s,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"notifications-title",children:[a.jsxs(te.h3,{id:"notifications-title",className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${n?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Notificaciones",a.jsx("span",{className:`ml-2 bg-gradient-to-r ${n?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:t.length})]}),a.jsx(zt,{children:t.length>0?a.jsx(te.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.map((o,u)=>a.jsx(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm transition-all duration-300 ${n?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:i,whileHover:"hover",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:u*.1},"aria-labelledby":`notification-${o.id}-title`,children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex-shrink-0 pt-1",children:a.jsx(p0,{className:`text-xl ${n?"text-blue-400":"text-blue-600"}`})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{id:`notification-${o.id}-title`,className:`font-semibold text-base ${n?"text-white":"text-gray-900"} mb-2`,children:o.message}),a.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:e(o.updatedAt?.toDate?.()||new Date)})]})]})},o.id))}):a.jsxs(te.div,{className:"text-center py-16",variants:i,initial:"hidden",animate:"visible",children:[a.jsx(te.div,{className:`mx-auto w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center mb-6 shadow-lg ${n?"bg-gray-700/50":"bg-gray-200/50"}`,animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:a.jsx(p0,{className:"text-white",size:32})}),a.jsx("h4",{className:`text-xl font-semibold mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"No hay notificaciones"}),a.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"No tienes mensajes nuevos. ¡Vuelve pronto para ver actualizaciones!"})]})})]})};eA.propTypes={notifications:K.arrayOf(K.shape({id:K.string.isRequired,message:K.string.isRequired,updatedAt:K.oneOfType([K.instanceOf(Date),K.shape({toDate:K.func})])})).isRequired,formatDate:K.func.isRequired,theme:K.oneOf(["light","dark"]).isRequired};const Zz="/assets/yape-sz-D-gX92Ca.png",eH="/assets/binance-sz-CGisVpHF.png",tA=({amount:t,setAmount:e,topUps:r,actionLoading:n,handleTopUpRequest:s,formatDate:i,theme:o="dark"})=>{const u=o==="dark",[d,h]=S.useState("PEN"),[p,g]=S.useState(3.75),[y,v]=S.useState(!1),[T,w]=S.useState(!1),[E,O]=S.useState(""),[M,U]=S.useState(5),P={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}}};S.useEffect(()=>{(async()=>{v(!0),w(!1);try{const W=await fetch("https://api.exchangerate-api.com/v4/latest/USD");if(!W.ok)throw new Error("API request failed");const Ee=(await W.json()).rates.PEN||3.75;g(Ee*1.1)}catch(W){console.error("Error fetching exchange rate:",W),w(!0)}finally{v(!1)}})()},[]),S.useEffect(()=>{const F=Math.ceil(M/(p/1.1));U(d==="PEN"?5:F)},[d,p]),S.useEffect(()=>{const F=parseFloat(E);if(isNaN(F))e("");else{const W=d==="USD"?F*p:F;e(W.toFixed(2))}},[E,d,p,e]);const X=F=>{const W=F.target.value;(/^\d*\.?\d{0,2}$/.test(W)||W==="")&&O(W)},B=parseFloat(E),A=d==="USD"?B*p:B,N=isNaN(A)?"0.00":A.toFixed(2),C=!isNaN(B)&&B>=M,R=`Hola 😊, he realizado una recarga a través de ${d==="PEN"?"Yape":"Binance"} por ${d==="PEN"?`S/ ${N}`:`$ ${B?.toFixed(2)||"0.00"} (equivalente a S/ ${N})`}. Por favor, confirma mi pago.`;return a.jsxs(te.div,{className:"space-y-8 max-w-6xl mx-auto px-4 sm:px-0",variants:P,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"topup-title",children:[a.jsxs("div",{className:`p-6 sm:p-8 rounded-3xl shadow-md border ${u?"bg-gray-900/80 border-gray-700/30":"bg-white border-gray-300"}`,children:[a.jsx("h3",{id:"topup-title",className:"text-2xl sm:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-6 text-center",children:"Recargar saldo"}),a.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Moneda"}),a.jsxs("select",{value:d,onChange:F=>{h(F.target.value),O(""),e("")},className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300`,"aria-label":"Seleccionar moneda",children:[a.jsx("option",{value:"PEN",children:"S/ (PEN)"}),a.jsx("option",{value:"USD",children:"$ (USD)"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:["Monto a recargar (",d==="PEN"?"S/":"$",")"]}),a.jsx("input",{type:"number",value:E,onChange:X,className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 ${!C&&E?"border-red-500 focus:ring-red-400":""}`,placeholder:`Mínimo ${d==="PEN"?"S/ 5.00":`$${M.toFixed(2)}`}`,min:M,step:"0.01","aria-label":`Monto a recargar en ${d}`,"aria-invalid":!C&&E}),d==="USD"&&!isNaN(B)&&a.jsxs("p",{className:`text-sm mt-2 ${T?"text-red-400":u?"text-gray-400":"text-gray-600"}`,children:[T?"Error al cargar tasa. Usando tasa por defecto.":`Equivalente: S/ ${N} (Tasa: 1 USD ≈ ${p.toFixed(2)} PEN)`,y&&" (Cargando tasa...)"]}),!C&&E&&a.jsxs("p",{className:"text-sm text-red-400 mt-1",children:["Monto mínimo: ",d==="PEN"?"S/ 5.00":`$${M.toFixed(2)}`]})]}),a.jsx(te.button,{onClick:s,disabled:n.topUp||!C,className:`w-full py-3 px-4 rounded-xl font-medium text-lg transition-all duration-300 ${C&&!n.topUp?u?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500":"bg-gray-300 text-gray-500 cursor-not-allowed"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,whileHover:{scale:C&&!n.topUp?1.05:1},whileTap:{scale:C&&!n.topUp?.95:1},"aria-label":"Solicitar recarga",children:n.topUp?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin h-6 w-6 border-3 border-white rounded-full border-t-transparent mr-2"}),"Procesando..."]}):"Solicitar recarga"})]}),a.jsx("div",{className:`mt-8 p-6 rounded-2xl border ${u?"bg-gray-800/50 border-gray-700/30":"bg-gray-100 border-gray-300"} max-w-lg mx-auto`,children:a.jsxs(te.div,{className:"animate-fade-in",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[a.jsxs("h4",{className:`text-lg font-semibold ${u?"text-blue-400":"text-blue-600"} mb-4 flex items-center`,children:[a.jsx($s,{className:"mr-2"})," Pago con ",d==="PEN"?"Yape":"Binance"]}),a.jsxs("p",{className:`mb-3 ${u?"text-gray-300":"text-gray-700"}`,children:["Escanea el código QR",d==="PEN"?" o usa Yape con el número:":"."]}),d==="PEN"&&a.jsx("p",{className:`text-xl font-bold ${u?"text-white":"text-gray-900"} mb-3 text-center`,children:"📱 940505969"}),a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:`p-4 rounded-xl shadow-md ${u?"bg-white border-4 border-blue-600":"bg-white border border-gray-300"}`,children:a.jsx("img",{src:d==="PEN"?Zz:eH,alt:`${d==="PEN"?"Yape":"Binance"} QR Code`,className:"w-48 h-48 object-contain",loading:"lazy"})})}),a.jsxs("p",{className:`mb-4 ${u?"text-gray-300":"text-gray-700"} text-center`,children:["Realiza el pago de ",d==="PEN"?`S/ ${N}`:`$ ${B?.toFixed(2)||"0.00"} (S/ ${N})`,". Confirma tu recarga vía WhatsApp."]}),a.jsxs(te.a,{href:`https://wa.me/51940505969?text=${encodeURIComponent(R)}`,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center justify-center w-full px-6 py-3 rounded-xl font-medium transition-all duration-300 ${u?"bg-green-500 hover:bg-green-600 text-white focus:ring-green-400":"bg-green-500 hover:bg-green-600 text-white focus:ring-green-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Confirmar pago por WhatsApp con ${d==="PEN"?"Yape":"Binance"}`,children:[a.jsx(Hr,{className:"mr-2"})," Confirmar por WhatsApp"]})]})})]}),a.jsxs("div",{className:`p-6 sm:p-8 rounded-3xl shadow-md border ${u?"bg-gray-900/80 border-gray-700/30":"bg-white border-gray-300"}`,children:[a.jsx("h3",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-6 text-center",children:"Historial de recargas"}),r.length>0?a.jsx("div",{className:"overflow-x-auto rounded-xl border",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[a.jsx("thead",{className:`${u?"bg-gray-800/50":"bg-gray-100"}`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Monto"}),a.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),a.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"})]})}),a.jsx("tbody",{className:`${u?"bg-gray-800/50":"bg-white"} divide-y ${u?"divide-gray-600/50":"divide-gray-200"}`,children:r.map(F=>{const W=F.status==="aprobado"?"Aprobado":F.status==="pendiente"?"Pendiente":"Rechazado",V=F.status==="aprobado"?"green":F.status==="pendiente"?"yellow":"red";return a.jsxs("tr",{className:`${u?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,children:[a.jsxs("td",{className:`px-4 py-4 whitespace-nowrap font-medium ${u?"text-white":"text-gray-900"}`,children:["S/ ",F.amount.toFixed(2)]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full capitalize ${u?`bg-${V}-900/80 text-${V}-400`:`bg-${V}-500/20 text-${V}-600`}`,children:W})}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${u?"text-gray-400":"text-gray-600"}`,children:i(F.date)})]},F.id)})})]})}):a.jsxs(te.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-12",children:[a.jsx($s,{className:`mx-auto text-4xl ${u?"text-gray-400":"text-gray-500"} mb-4`}),a.jsx("p",{className:`text-lg ${u?"text-gray-400":"text-gray-600"}`,children:"No hay recargas registradas"})]})]})]})};tA.propTypes={amount:K.oneOfType([K.string,K.number]).isRequired,setAmount:K.func.isRequired,topUps:K.arrayOf(K.shape({id:K.string.isRequired,amount:K.oneOfType([K.string,K.number]).isRequired,status:K.string.isRequired,date:K.oneOfType([K.instanceOf(Date),K.string]).isRequired})).isRequired,actionLoading:K.shape({topUp:K.bool}).isRequired,handleTopUpRequest:K.func.isRequired,formatDate:K.func.isRequired,theme:K.oneOf(["light","dark"]).isRequired};const rA=({providers:t,openRateProviderModal:e,deleteRatingProvider:r,theme:n="dark"})=>{const s=n==="dark",i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},o={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return a.jsxs(te.div,{className:`p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${s?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:i,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"providers-title",children:[a.jsxs(te.h3,{id:"providers-title",className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${s?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Proveedores",a.jsx("span",{className:`ml-2 bg-gradient-to-r ${s?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:t.length})]}),a.jsx(zt,{children:t.length>0?a.jsx(te.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.map((u,d)=>a.jsx(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm transition-all duration-300 ${s?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:o,whileHover:"hover","aria-labelledby":`provider-${u.id}-title`,children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg",children:a.jsx(bs,{className:"text-white",size:24})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{id:`provider-${u.id}-title`,className:`font-bold text-lg ${s?"text-white":"text-gray-900"}`,children:u.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(Ap,{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`}),a.jsx("span",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:u.phone})]}),u.hasRated&&a.jsx("div",{className:"flex items-center gap-2 mt-2",children:a.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((h,p)=>a.jsx(Cp,{size:16,className:`${p<u.rating?"text-yellow-400 fill-current":s?"text-gray-600":"text-gray-400"}`},p))})})]})]}),u.hasRated?a.jsxs(te.button,{onClick:()=>r(u),className:`px-4 py-2 rounded-xl font-semibold transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${s?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-400":"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-500"}`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Eliminar valoración del proveedor ${u.name}`,children:[a.jsx(s2,{size:16}),a.jsx("span",{className:"hidden sm:inline",children:"Eliminar"})]}):a.jsxs(te.button,{onClick:()=>e(u),className:`px-6 py-3 rounded-xl font-semibold transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${s?"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white focus:ring-purple-400":"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white focus:ring-purple-500"}`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Calificar al proveedor ${u.name}`,children:[a.jsx(Cp,{size:18}),a.jsx("span",{children:"Calificar"})]})]})},u.id))}):a.jsxs(te.div,{className:"text-center py-16",variants:o,initial:"hidden",animate:"visible",children:[a.jsx(te.div,{className:`mx-auto w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center mb-6 shadow-lg ${s?"bg-gray-700/50":"bg-gray-200/50"}`,animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:a.jsx(bs,{className:"text-white",size:32})}),a.jsx("h4",{className:`text-xl font-semibold mb-2 ${s?"text-gray-300":"text-gray-700"}`,children:"No hay proveedores"}),a.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-600"}`,children:"No has realizado compras con proveedores aún. ¡Tu primer pedido desbloqueará esta sección!"})]})})]})};rA.propTypes={providers:K.arrayOf(K.shape({id:K.string.isRequired,name:K.string.isRequired,phone:K.string.isRequired,hasRated:K.bool.isRequired,rating:K.number})).isRequired,openRateProviderModal:K.func.isRequired,deleteRatingProvider:K.func.isRequired,theme:K.oneOf(["light","dark"]).isRequired};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Pp={};Pp.version="0.18.5";var nA=1252,tH=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],sA=function(t){tH.indexOf(t)!=-1&&(nA=t)};function rH(){sA(1252)}var m0=function(t){sA(t)};function nH(){m0(1200),rH()}var bf=function(e){return String.fromCharCode(e)},iT=function(e){return String.fromCharCode(e)},Rp,No="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function g0(t){for(var e="",r=0,n=0,s=0,i=0,o=0,u=0,d=0,h=0;h<t.length;)r=t.charCodeAt(h++),i=r>>2,n=t.charCodeAt(h++),o=(r&3)<<4|n>>4,s=t.charCodeAt(h++),u=(n&15)<<2|s>>6,d=s&63,isNaN(n)?u=d=64:isNaN(s)&&(d=64),e+=No.charAt(i)+No.charAt(o)+No.charAt(u)+No.charAt(d);return e}function za(t){var e="",r=0,n=0,s=0,i=0,o=0,u=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<t.length;)i=No.indexOf(t.charAt(h++)),o=No.indexOf(t.charAt(h++)),r=i<<2|o>>4,e+=String.fromCharCode(r),u=No.indexOf(t.charAt(h++)),n=(o&15)<<4|u>>2,u!==64&&(e+=String.fromCharCode(n)),d=No.indexOf(t.charAt(h++)),s=(u&3)<<6|d,d!==64&&(e+=String.fromCharCode(s));return e}var ir=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ga=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Vl(t){return ir?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function aT(t){return ir?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Ni=function(e){return ir?Ga(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function jm(t){if(typeof ArrayBuffer>"u")return Ni(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function W0(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function sH(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Pn=ir?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ga(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),s=0;for(e=0,r=0;e<t.length;r+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function iH(t){for(var e=[],r=0,n=t.length+250,s=Vl(t.length+255),i=0;i<t.length;++i){var o=t.charCodeAt(i);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var u=t.charCodeAt(++i)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|u>>6&15|(o&3)<<4,s[r++]=128|u&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>n&&(e.push(s.slice(0,r)),r=0,s=Vl(65535),n=65530)}return e.push(s.slice(0,r)),Pn(e)}var Ud=/\u0000/g,wf=/[\u0001-\u0006]/g;function su(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Ci(t,e){var r=""+t;return r.length>=e?r:zr("0",e-r.length)+r}function i2(t,e){var r=""+t;return r.length>=e?r:zr(" ",e-r.length)+r}function Dp(t,e){var r=""+t;return r.length>=e?r:r+zr(" ",e-r.length)}function aH(t,e){var r=""+Math.round(t);return r.length>=e?r:zr("0",e-r.length)+r}function oH(t,e){var r=""+t;return r.length>=e?r:zr("0",e-r.length)+r}var oT=Math.pow(2,32);function Mc(t,e){if(t>oT||t<-oT)return aH(t,e);var r=Math.round(t);return oH(r,e)}function Op(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var lT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Gx=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function lH(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var qr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},cT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},cH={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Fp(t,e,r){for(var n=t<0?-1:1,s=t*n,i=0,o=1,u=0,d=1,h=0,p=0,g=Math.floor(s);h<e&&(g=Math.floor(s),u=g*o+i,p=g*h+d,!(s-g<5e-8));)s=1/(s-g),i=o,o=u,d=h,h=p;if(p>e&&(h>e?(p=d,u=i):(p=h,u=o)),!r)return[0,n*u,p];var y=Math.floor(n*u/p);return[y,n*u-y*p,p]}function _f(t,e,r){if(t>2958465||t<0)return null;var n=t|0,s=Math.floor(86400*(t-n)),i=0,o=[],u={D:n,T:s,u:86400*(t-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),e&&e.date1904&&(n+=1462),u.u>.9999&&(u.u=0,++s==86400&&(u.T=s=0,++n,++u.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),o=[d.getFullYear(),d.getMonth()+1,d.getDate()],i=d.getDay(),n<60&&(i=(i+6)%7),r&&(i=gH(d,o))}return u.y=o[0],u.m=o[1],u.d=o[2],u.S=s%60,s=Math.floor(s/60),u.M=s%60,s=Math.floor(s/60),u.H=s,u.q=i,u}var iA=new Date(1899,11,31,0,0,0),uH=iA.getTime(),dH=new Date(1900,2,1,0,0,0);function aA(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=dH&&(r+=1440*60*1e3),(r-(uH+(t.getTimezoneOffset()-iA.getTimezoneOffset())*6e4))/(1440*60*1e3)}function a2(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function hH(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function fH(t){var e=t<0?12:11,r=a2(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function pH(t){var e=a2(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function mH(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=fH(t):e===10?r=t.toFixed(10).substr(0,12):r=pH(t),a2(hH(r.toUpperCase()))}function Qy(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):mH(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return zo(14,aA(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function gH(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function xH(t,e,r,n){var s="",i=0,o=0,u=r.y,d,h=0;switch(t){case 98:u=r.y+543;case 121:switch(e.length){case 1:case 2:d=u%100,h=2;break;default:d=u%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:d=r.m,h=e.length;break;case 3:return Gx[r.m-1][1];case 5:return Gx[r.m-1][0];default:return Gx[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=r.d,h=e.length;break;case 3:return lT[r.q][0];default:return lT[r.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(r.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=r.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=r.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Ci(r.S,e.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),e==="s"?i===0?"0":""+i/o:(s=Ci(i,2+n),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:d=u,h=1;break}var p=h>0?Ci(d,h):"";return p}function So(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var oA=/%/g;function yH(t,e,r){var n=e.replace(oA,""),s=e.length-n.length;return Ra(t,n,r*Math.pow(10,2*s))+zr("%",s)}function vH(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Ra(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function lA(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+lA(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(e/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,h,p){return d+h+p.substr(0,(s+i)%s)+"."+p.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var cA=/# (\?+)( ?)\/( ?)(\d+)/;function bH(t,e,r){var n=parseInt(t[4],10),s=Math.round(e*n),i=Math.floor(s/n),o=s-i*n,u=n;return r+(i===0?"":""+i)+" "+(o===0?zr(" ",t[1].length+1+t[4].length):i2(o,t[1].length)+t[2]+"/"+t[3]+Ci(u,t[4].length))}function wH(t,e,r){return r+(e===0?"":""+e)+zr(" ",t[1].length+2+t[4].length)}var uA=/^#*0*\.([0#]+)/,dA=/\).*[0#]/,hA=/\(###\) ###\\?-####/;function Zn(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function uT(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function dT(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function _H(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function EH(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function ni(t,e,r){if(t.charCodeAt(0)===40&&!e.match(dA)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ni("n",n,r):"("+ni("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return vH(t,e,r);if(e.indexOf("%")!==-1)return yH(t,e,r);if(e.indexOf("E")!==-1)return lA(e,r);if(e.charCodeAt(0)===36)return"$"+ni(t,e.substr(e.charAt(1)==" "?2:1),r);var s,i,o,u,d=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+Mc(d,e.length);if(e.match(/^[#?]+$/))return s=Mc(r,0),s==="0"&&(s=""),s.length>e.length?s:Zn(e.substr(0,e.length-s.length))+s;if(i=e.match(cA))return bH(i,d,h);if(e.match(/^#+0+$/))return h+Mc(d,e.length-e.indexOf("0"));if(i=e.match(uA))return s=uT(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Zn(i[1])).replace(/\.$/,"."+Zn(i[1])).replace(/\.(\d*)$/,function(T,w){return"."+w+zr("0",Zn(i[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return h+uT(d,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return h+So(Mc(d,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ni(t,e,-r):So(""+(Math.floor(r)+_H(r,i[1].length)))+"."+Ci(dT(r,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return ni(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=su(ni(t,e.replace(/[\\-]/g,""),r)),o=0,su(su(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return o<s.length?s.charAt(o++):T==="0"?"0":""}));if(e.match(hA))return s=ni(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),u=Fp(d,Math.pow(10,o)-1,!1),s=""+h,p=Ra("n",i[1],u[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+i[2]+"/"+i[3],p=Dp(u[2],o),p.length<i[4].length&&(p=Zn(i[4].substr(i[4].length-p.length))+p),s+=p,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),u=Fp(d,Math.pow(10,o)-1,!0),h+(u[0]||(u[1]?"":"0"))+" "+(u[1]?i2(u[1],o)+i[2]+"/"+i[3]+Dp(u[2],o):zr(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=Mc(r,0),e.length<=s.length?s:Zn(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var g=e.indexOf(".")-o,y=e.length-s.length-g;return Zn(e.substr(0,g)+s+e.substr(e.length-y))}if(i=e.match(/^00,000\.([#0]*0)$/))return o=dT(r,i[1].length),r<0?"-"+ni(t,e,-r):So(EH(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Ci(0,3-T.length):"")+T})+"."+Ci(o,i[1].length);switch(e){case"###,##0.00":return ni(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var v=So(Mc(d,0));return v!=="0"?h+v:"";case"###,###.00":return ni(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ni(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function TH(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Ra(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function kH(t,e,r){var n=e.replace(oA,""),s=e.length-n.length;return Ra(t,n,r*Math.pow(10,2*s))+zr("%",s)}function fA(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+fA(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(e/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,h,p){return d+h+p.substr(0,(s+i)%s)+"."+p.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ki(t,e,r){if(t.charCodeAt(0)===40&&!e.match(dA)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ki("n",n,r):"("+Ki("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return TH(t,e,r);if(e.indexOf("%")!==-1)return kH(t,e,r);if(e.indexOf("E")!==-1)return fA(e,r);if(e.charCodeAt(0)===36)return"$"+Ki(t,e.substr(e.charAt(1)==" "?2:1),r);var s,i,o,u,d=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+Ci(d,e.length);if(e.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>e.length?s:Zn(e.substr(0,e.length-s.length))+s;if(i=e.match(cA))return wH(i,d,h);if(e.match(/^#+0+$/))return h+Ci(d,e.length-e.indexOf("0"));if(i=e.match(uA))return s=(""+r).replace(/^([^\.]+)$/,"$1."+Zn(i[1])).replace(/\.$/,"."+Zn(i[1])),s=s.replace(/\.(\d*)$/,function(T,w){return"."+w+zr("0",Zn(i[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return h+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return h+So(""+d);if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ki(t,e,-r):So(""+r)+"."+zr("0",i[1].length);if(i=e.match(/^#,#*,#0/))return Ki(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=su(Ki(t,e.replace(/[\\-]/g,""),r)),o=0,su(su(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return o<s.length?s.charAt(o++):T==="0"?"0":""}));if(e.match(hA))return s=Ki(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),u=Fp(d,Math.pow(10,o)-1,!1),s=""+h,p=Ra("n",i[1],u[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+i[2]+"/"+i[3],p=Dp(u[2],o),p.length<i[4].length&&(p=Zn(i[4].substr(i[4].length-p.length))+p),s+=p,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),u=Fp(d,Math.pow(10,o)-1,!0),h+(u[0]||(u[1]?"":"0"))+" "+(u[1]?i2(u[1],o)+i[2]+"/"+i[3]+Dp(u[2],o):zr(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=""+r,e.length<=s.length?s:Zn(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var g=e.indexOf(".")-o,y=e.length-s.length-g;return Zn(e.substr(0,g)+s+e.substr(e.length-y))}if(i=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ki(t,e,-r):So(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Ci(0,3-T.length):"")+T})+"."+Ci(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var v=So(""+d);return v!=="0"?h+v:"";default:if(e.match(/\.[0#?]*$/))return Ki(t,e.slice(0,e.lastIndexOf(".")),r)+Zn(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ra(t,e,r){return(r|0)===r?Ki(t,e,r):ni(t,e,r)}function NH(t){for(var e=[],r=!1,n=0,s=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(s,n-s),s=n+1}if(e[e.length]=t.substr(s),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var pA=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function mA(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":Op(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(pA))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function SH(t,e,r,n){for(var s=[],i="",o=0,u="",d="t",h,p,g,y="H";o<t.length;)switch(u=t.charAt(o)){case"G":if(!Op(t,o))throw new Error("unrecognized character "+u+" in "+t);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(g=t.charCodeAt(++o))!==34&&o<t.length;)i+=String.fromCharCode(g);s[s.length]={t:"t",v:i},++o;break;case"\\":var v=t.charAt(++o),T=v==="("||v===")"?v:"t";s[s.length]={t:T,v},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(h==null&&(h=_f(e,r,t.charAt(o+1)==="2"),h==null))return"";s[s.length]={t:"X",v:t.substr(o,2)},d=u,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=_f(e,r),h==null))return"";for(i=u;++o<t.length&&t.charAt(o).toLowerCase()===u;)i+=u;u==="m"&&d.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=y),s[s.length]={t:u,v:i},d=u;break;case"A":case"a":case"上":var w={t:u,v:u};if(h==null&&(h=_f(e,r)),t.substr(o,3).toUpperCase()==="A/P"?(h!=null&&(w.v=h.H>=12?"P":"A"),w.t="T",y="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(h!=null&&(w.v=h.H>=12?"PM":"AM"),w.t="T",o+=5,y="h"):t.substr(o,5).toUpperCase()==="上午/下午"?(h!=null&&(w.v=h.H>=12?"下午":"上午"),w.t="T",o+=5,y="h"):(w.t="t",++o),h==null&&w.t==="T")return"";s[s.length]=w,d=u;break;case"[":for(i=u;t.charAt(o++)!=="]"&&o<t.length;)i+=t.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(pA)){if(h==null&&(h=_f(e,r),h==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},d=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",mA(t)||(s[s.length]={t:"t",v:i}));break;case".":if(h!=null){for(i=u;++o<t.length&&(u=t.charAt(o))==="0";)i+=u;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=u;++o<t.length&&"0#?.,E+-%".indexOf(u=t.charAt(o))>-1;)i+=u;s[s.length]={t:"n",v:i};break;case"?":for(i=u;t.charAt(++o)===u;)i+=u;s[s.length]={t:u,v:i},d=u;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:n===1?"t":u,v:u},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=u;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)i+=t.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:u,v:u},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+t);s[s.length]={t:"t",v:u},++o;break}var E=0,O=0,M;for(o=s.length-1,d="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=y,d="h",E<1&&(E=1);break;case"s":(M=s[o].v.match(/\.0+$/))&&(O=Math.max(O,M[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":d=s[o].t;break;case"m":d==="s"&&(s[o].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&s[o].v.match(/[Hh]/)&&(E=1),E<2&&s[o].v.match(/[Mm]/)&&(E=2),E<3&&s[o].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var U="",P;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=xH(s[o].t.charCodeAt(0),s[o].v,h,O),s[o].t="t";break;case"n":case"?":for(P=o+1;s[P]!=null&&((u=s[P].t)==="?"||u==="D"||(u===" "||u==="t")&&s[P+1]!=null&&(s[P+1].t==="?"||s[P+1].t==="t"&&s[P+1].v==="/")||s[o].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(s[P].v==="/"||s[P].v===" "&&s[P+1]!=null&&s[P+1].t=="?"));)s[o].v+=s[P].v,s[P]={v:"",t:";"},++P;U+=s[o].v,o=P-1;break;case"G":s[o].t="t",s[o].v=Qy(e,r);break}var X="",B,A;if(U.length>0){U.charCodeAt(0)==40?(B=e<0&&U.charCodeAt(0)===45?-e:e,A=Ra("n",U,B)):(B=e<0&&n>1?-e:e,A=Ra("n",U,B),B<0&&s[0]&&s[0].t=="t"&&(A=A.substr(1),s[0].v="-"+s[0].v)),P=A.length-1;var N=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){N=o;break}var C=s.length;if(N===s.length&&A.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(P>=s[o].v.length-1?(P-=s[o].v.length,s[o].v=A.substr(P+1,s[o].v.length)):P<0?s[o].v="":(s[o].v=A.substr(0,P+1),P=-1),s[o].t="t",C=o);P>=0&&C<s.length&&(s[C].v=A.substr(0,P+1)+s[C].v)}else if(N!==s.length&&A.indexOf("E")===-1){for(P=A.indexOf(".")-1,o=N;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(p=s[o].v.indexOf(".")>-1&&o===N?s[o].v.indexOf(".")-1:s[o].v.length-1,X=s[o].v.substr(p+1);p>=0;--p)P>=0&&(s[o].v.charAt(p)==="0"||s[o].v.charAt(p)==="#")&&(X=A.charAt(P--)+X);s[o].v=X,s[o].t="t",C=o}for(P>=0&&C<s.length&&(s[C].v=A.substr(0,P+1)+s[C].v),P=A.indexOf(".")+1,o=N;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==N)){for(p=s[o].v.indexOf(".")>-1&&o===N?s[o].v.indexOf(".")+1:0,X=s[o].v.substr(0,p);p<s[o].v.length;++p)P<A.length&&(X+=A.charAt(P++));s[o].v=X,s[o].t="t",C=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(B=n>1&&e<0&&o>0&&s[o-1].v==="-"?-e:e,s[o].v=Ra(s[o].t,s[o].v,B),s[o].t="t");var R="";for(o=0;o!==s.length;++o)s[o]!=null&&(R+=s[o].v);return R}var hT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function fT(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function AH(t,e){var r=NH(t),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(hT),u=r[1].match(hT);return fT(e,o)?[n,r[0]]:fT(e,u)?[n,r[1]]:[n,r[o!=null&&u!=null?2:1]]}return[n,i]}function zo(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:qr)[t],n==null&&(n=r.table&&r.table[cT[t]]||qr[cT[t]]),n==null&&(n=cH[t]||"General");break}if(Op(n,0))return Qy(e,r);e instanceof Date&&(e=aA(e,r.date1904));var s=AH(n,e);if(Op(s[1]))return Qy(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return SH(s[1],e,r,s[0])}function gA(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(qr[r]==null){e<0&&(e=r);continue}if(qr[r]==t){e=r;break}}e<0&&(e=391)}return qr[e]=t,e}function Pm(t){for(var e=0;e!=392;++e)t[e]!==void 0&&gA(t[e],e)}function Rm(){qr=lH()}var xA=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function CH(t){var e=typeof t=="number"?qr[t]:t;return e=e.replace(xA,"(\\d+)"),new RegExp("^"+e+"$")}function IH(t,e,r){var n=-1,s=-1,i=-1,o=-1,u=-1,d=-1;(e.match(xA)||[]).forEach(function(g,y){var v=parseInt(r[y+1],10);switch(g.toLowerCase().charAt(0)){case"y":n=v;break;case"d":i=v;break;case"h":o=v;break;case"s":d=v;break;case"m":o>=0?u=v:s=v;break}}),d>=0&&u==-1&&s>=0&&(u=s,s=-1);var h=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var p=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return o==-1&&u==-1&&d==-1?h:n==-1&&s==-1&&i==-1?p:h+"T"+p}var jH=(function(){var t={};t.version="1.2.0";function e(){for(var A=0,N=new Array(256),C=0;C!=256;++C)A=C,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,N[C]=A;return typeof Int32Array<"u"?new Int32Array(N):N}var r=e();function n(A){var N=0,C=0,R=0,F=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)F[R]=A[R];for(R=0;R!=256;++R)for(C=A[R],N=256+R;N<4096;N+=256)C=F[N]=C>>>8^A[C&255];var W=[];for(R=1;R!=16;++R)W[R-1]=typeof Int32Array<"u"?F.subarray(R*256,R*256+256):F.slice(R*256,R*256+256);return W}var s=n(r),i=s[0],o=s[1],u=s[2],d=s[3],h=s[4],p=s[5],g=s[6],y=s[7],v=s[8],T=s[9],w=s[10],E=s[11],O=s[12],M=s[13],U=s[14];function P(A,N){for(var C=N^-1,R=0,F=A.length;R<F;)C=C>>>8^r[(C^A.charCodeAt(R++))&255];return~C}function X(A,N){for(var C=N^-1,R=A.length-15,F=0;F<R;)C=U[A[F++]^C&255]^M[A[F++]^C>>8&255]^O[A[F++]^C>>16&255]^E[A[F++]^C>>>24]^w[A[F++]]^T[A[F++]]^v[A[F++]]^y[A[F++]]^g[A[F++]]^p[A[F++]]^h[A[F++]]^d[A[F++]]^u[A[F++]]^o[A[F++]]^i[A[F++]]^r[A[F++]];for(R+=15;F<R;)C=C>>>8^r[(C^A[F++])&255];return~C}function B(A,N){for(var C=N^-1,R=0,F=A.length,W=0,V=0;R<F;)W=A.charCodeAt(R++),W<128?C=C>>>8^r[(C^W)&255]:W<2048?(C=C>>>8^r[(C^(192|W>>6&31))&255],C=C>>>8^r[(C^(128|W&63))&255]):W>=55296&&W<57344?(W=(W&1023)+64,V=A.charCodeAt(R++)&1023,C=C>>>8^r[(C^(240|W>>8&7))&255],C=C>>>8^r[(C^(128|W>>2&63))&255],C=C>>>8^r[(C^(128|V>>6&15|(W&3)<<4))&255],C=C>>>8^r[(C^(128|V&63))&255]):(C=C>>>8^r[(C^(224|W>>12&15))&255],C=C>>>8^r[(C^(128|W>>6&63))&255],C=C>>>8^r[(C^(128|W&63))&255]);return~C}return t.table=r,t.bstr=P,t.buf=X,t.str=B,t})(),gr=(function(){var e={};e.version="1.2.1";function r(j,z){for(var H=j.split("/"),G=z.split("/"),Z=0,Q=0,ce=Math.min(H.length,G.length);Z<ce;++Z){if(Q=H[Z].length-G[Z].length)return Q;if(H[Z]!=G[Z])return H[Z]<G[Z]?-1:1}return H.length-G.length}function n(j){if(j.charAt(j.length-1)=="/")return j.slice(0,-1).indexOf("/")===-1?j:n(j.slice(0,-1));var z=j.lastIndexOf("/");return z===-1?j:j.slice(0,z+1)}function s(j){if(j.charAt(j.length-1)=="/")return s(j.slice(0,-1));var z=j.lastIndexOf("/");return z===-1?j:j.slice(z+1)}function i(j,z){typeof z=="string"&&(z=new Date(z));var H=z.getHours();H=H<<6|z.getMinutes(),H=H<<5|z.getSeconds()>>>1,j.write_shift(2,H);var G=z.getFullYear()-1980;G=G<<4|z.getMonth()+1,G=G<<5|z.getDate(),j.write_shift(2,G)}function o(j){var z=j.read_shift(2)&65535,H=j.read_shift(2)&65535,G=new Date,Z=H&31;H>>>=5;var Q=H&15;H>>>=4,G.setMilliseconds(0),G.setFullYear(H+1980),G.setMonth(Q-1),G.setDate(Z);var ce=z&31;z>>>=5;var me=z&63;return z>>>=6,G.setHours(z),G.setMinutes(me),G.setSeconds(ce<<1),G}function u(j){Ds(j,0);for(var z={},H=0;j.l<=j.length-4;){var G=j.read_shift(2),Z=j.read_shift(2),Q=j.l+Z,ce={};switch(G){case 21589:H=j.read_shift(1),H&1&&(ce.mtime=j.read_shift(4)),Z>5&&(H&2&&(ce.atime=j.read_shift(4)),H&4&&(ce.ctime=j.read_shift(4))),ce.mtime&&(ce.mt=new Date(ce.mtime*1e3));break}j.l=Q,z[G]=ce}return z}var d;function h(){return d||(d={})}function p(j,z){if(j[0]==80&&j[1]==75)return kt(j,z);if((j[0]|32)==109&&(j[1]|32)==105)return qs(j,z);if(j.length<512)throw new Error("CFB file size "+j.length+" < 512");var H=3,G=512,Z=0,Q=0,ce=0,me=0,ue=0,pe=[],ge=j.slice(0,512);Ds(ge,0);var Oe=g(ge);switch(H=Oe[0],H){case 3:G=512;break;case 4:G=4096;break;case 0:if(Oe[1]==0)return kt(j,z);default:throw new Error("Major Version: Expected 3 or 4 saw "+H)}G!==512&&(ge=j.slice(0,G),Ds(ge,28));var Ye=j.slice(0,G);y(ge,H);var rt=ge.read_shift(4,"i");if(H===3&&rt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+rt);ge.l+=4,ce=ge.read_shift(4,"i"),ge.l+=4,ge.chk("00100000","Mini Stream Cutoff Size: "),me=ge.read_shift(4,"i"),Z=ge.read_shift(4,"i"),ue=ge.read_shift(4,"i"),Q=ge.read_shift(4,"i");for(var He=-1,Be=0;Be<109&&(He=ge.read_shift(4,"i"),!(He<0));++Be)pe[Be]=He;var Nt=v(j,G);E(ue,Q,Nt,G,pe);var Zt=M(Nt,ce,pe,G);Zt[ce].name="!Directory",Z>0&&me!==V&&(Zt[me].name="!MiniFAT"),Zt[pe[0]].name="!FAT",Zt.fat_addrs=pe,Zt.ssz=G;var Xt={},er=[],Ns=[],Gs=[];U(ce,Zt,Nt,er,Z,Xt,Ns,me),T(Ns,Gs,er),er.shift();var Xn={FileIndex:Ns,FullPaths:Gs};return z&&z.raw&&(Xn.raw={header:Ye,sectors:Nt}),Xn}function g(j){if(j[j.l]==80&&j[j.l+1]==75)return[0,0];j.chk(Ee,"Header Signature: "),j.l+=16;var z=j.read_shift(2,"u");return[j.read_shift(2,"u"),z]}function y(j,z){var H=9;switch(j.l+=2,H=j.read_shift(2)){case 9:if(z!=3)throw new Error("Sector Shift: Expected 9 saw "+H);break;case 12:if(z!=4)throw new Error("Sector Shift: Expected 12 saw "+H);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+H)}j.chk("0600","Mini Sector Shift: "),j.chk("000000000000","Reserved: ")}function v(j,z){for(var H=Math.ceil(j.length/z)-1,G=[],Z=1;Z<H;++Z)G[Z-1]=j.slice(Z*z,(Z+1)*z);return G[H-1]=j.slice(H*z),G}function T(j,z,H){for(var G=0,Z=0,Q=0,ce=0,me=0,ue=H.length,pe=[],ge=[];G<ue;++G)pe[G]=ge[G]=G,z[G]=H[G];for(;me<ge.length;++me)G=ge[me],Z=j[G].L,Q=j[G].R,ce=j[G].C,pe[G]===G&&(Z!==-1&&pe[Z]!==Z&&(pe[G]=pe[Z]),Q!==-1&&pe[Q]!==Q&&(pe[G]=pe[Q])),ce!==-1&&(pe[ce]=G),Z!==-1&&G!=pe[G]&&(pe[Z]=pe[G],ge.lastIndexOf(Z)<me&&ge.push(Z)),Q!==-1&&G!=pe[G]&&(pe[Q]=pe[G],ge.lastIndexOf(Q)<me&&ge.push(Q));for(G=1;G<ue;++G)pe[G]===G&&(Q!==-1&&pe[Q]!==Q?pe[G]=pe[Q]:Z!==-1&&pe[Z]!==Z&&(pe[G]=pe[Z]));for(G=1;G<ue;++G)if(j[G].type!==0){if(me=G,me!=pe[me])do me=pe[me],z[G]=z[me]+"/"+z[G];while(me!==0&&pe[me]!==-1&&me!=pe[me]);pe[G]=-1}for(z[0]+="/",G=1;G<ue;++G)j[G].type!==2&&(z[G]+="/")}function w(j,z,H){for(var G=j.start,Z=j.size,Q=[],ce=G;H&&Z>0&&ce>=0;)Q.push(z.slice(ce*W,ce*W+W)),Z-=W,ce=bl(H,ce*4);return Q.length===0?Te(0):Pn(Q).slice(0,j.size)}function E(j,z,H,G,Z){var Q=V;if(j===V){if(z!==0)throw new Error("DIFAT chain shorter than expected")}else if(j!==-1){var ce=H[j],me=(G>>>2)-1;if(!ce)return;for(var ue=0;ue<me&&(Q=bl(ce,ue*4))!==V;++ue)Z.push(Q);E(bl(ce,G-4),z-1,H,G,Z)}}function O(j,z,H,G,Z){var Q=[],ce=[];Z||(Z=[]);var me=G-1,ue=0,pe=0;for(ue=z;ue>=0;){Z[ue]=!0,Q[Q.length]=ue,ce.push(j[ue]);var ge=H[Math.floor(ue*4/G)];if(pe=ue*4&me,G<4+pe)throw new Error("FAT boundary crossed: "+ue+" 4 "+G);if(!j[ge])break;ue=bl(j[ge],pe)}return{nodes:Q,data:wT([ce])}}function M(j,z,H,G){var Z=j.length,Q=[],ce=[],me=[],ue=[],pe=G-1,ge=0,Oe=0,Ye=0,rt=0;for(ge=0;ge<Z;++ge)if(me=[],Ye=ge+z,Ye>=Z&&(Ye-=Z),!ce[Ye]){ue=[];var He=[];for(Oe=Ye;Oe>=0;){He[Oe]=!0,ce[Oe]=!0,me[me.length]=Oe,ue.push(j[Oe]);var Be=H[Math.floor(Oe*4/G)];if(rt=Oe*4&pe,G<4+rt)throw new Error("FAT boundary crossed: "+Oe+" 4 "+G);if(!j[Be]||(Oe=bl(j[Be],rt),He[Oe]))break}Q[Ye]={nodes:me,data:wT([ue])}}return Q}function U(j,z,H,G,Z,Q,ce,me){for(var ue=0,pe=G.length?2:0,ge=z[j].data,Oe=0,Ye=0,rt;Oe<ge.length;Oe+=128){var He=ge.slice(Oe,Oe+128);Ds(He,64),Ye=He.read_shift(2),rt=d2(He,0,Ye-pe),G.push(rt);var Be={name:rt,type:He.read_shift(1),color:He.read_shift(1),L:He.read_shift(4,"i"),R:He.read_shift(4,"i"),C:He.read_shift(4,"i"),clsid:He.read_shift(16),state:He.read_shift(4,"i"),start:0,size:0},Nt=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);Nt!==0&&(Be.ct=P(He,He.l-8));var Zt=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);Zt!==0&&(Be.mt=P(He,He.l-8)),Be.start=He.read_shift(4,"i"),Be.size=He.read_shift(4,"i"),Be.size<0&&Be.start<0&&(Be.size=Be.type=0,Be.start=V,Be.name=""),Be.type===5?(ue=Be.start,Z>0&&ue!==V&&(z[ue].name="!StreamData")):Be.size>=4096?(Be.storage="fat",z[Be.start]===void 0&&(z[Be.start]=O(H,Be.start,z.fat_addrs,z.ssz)),z[Be.start].name=Be.name,Be.content=z[Be.start].data.slice(0,Be.size)):(Be.storage="minifat",Be.size<0?Be.size=0:ue!==V&&Be.start!==V&&z[ue]&&(Be.content=w(Be,z[ue].data,(z[me]||{}).data))),Be.content&&Ds(Be.content,0),Q[rt]=Be,ce.push(Be)}}function P(j,z){return new Date((Fs(j,z+4)/1e7*Math.pow(2,32)+Fs(j,z)/1e7-11644473600)*1e3)}function X(j,z){return h(),p(d.readFileSync(j),z)}function B(j,z){var H=z&&z.type;switch(H||ir&&Buffer.isBuffer(j)&&(H="buffer"),H||"base64"){case"file":return X(j,z);case"base64":return p(Ni(za(j)),z);case"binary":return p(Ni(j),z)}return p(j,z)}function A(j,z){var H=z||{},G=H.root||"Root Entry";if(j.FullPaths||(j.FullPaths=[]),j.FileIndex||(j.FileIndex=[]),j.FullPaths.length!==j.FileIndex.length)throw new Error("inconsistent CFB structure");j.FullPaths.length===0&&(j.FullPaths[0]=G+"/",j.FileIndex[0]={name:G,type:5}),H.CLSID&&(j.FileIndex[0].clsid=H.CLSID),N(j)}function N(j){var z="Sh33tJ5";if(!gr.find(j,"/"+z)){var H=Te(4);H[0]=55,H[1]=H[3]=50,H[2]=54,j.FileIndex.push({name:z,type:2,content:H,size:4,L:69,R:69,C:69}),j.FullPaths.push(j.FullPaths[0]+z),C(j)}}function C(j,z){A(j);for(var H=!1,G=!1,Z=j.FullPaths.length-1;Z>=0;--Z){var Q=j.FileIndex[Z];switch(Q.type){case 0:G?H=!0:(j.FileIndex.pop(),j.FullPaths.pop());break;case 1:case 2:case 5:G=!0,isNaN(Q.R*Q.L*Q.C)&&(H=!0),Q.R>-1&&Q.L>-1&&Q.R==Q.L&&(H=!0);break;default:H=!0;break}}if(!(!H&&!z)){var ce=new Date(1987,1,19),me=0,ue=Object.create?Object.create(null):{},pe=[];for(Z=0;Z<j.FullPaths.length;++Z)ue[j.FullPaths[Z]]=!0,j.FileIndex[Z].type!==0&&pe.push([j.FullPaths[Z],j.FileIndex[Z]]);for(Z=0;Z<pe.length;++Z){var ge=n(pe[Z][0]);G=ue[ge],G||(pe.push([ge,{name:s(ge).replace("/",""),type:1,clsid:ze,ct:ce,mt:ce,content:null}]),ue[ge]=!0)}for(pe.sort(function(rt,He){return r(rt[0],He[0])}),j.FullPaths=[],j.FileIndex=[],Z=0;Z<pe.length;++Z)j.FullPaths[Z]=pe[Z][0],j.FileIndex[Z]=pe[Z][1];for(Z=0;Z<pe.length;++Z){var Oe=j.FileIndex[Z],Ye=j.FullPaths[Z];if(Oe.name=s(Ye).replace("/",""),Oe.L=Oe.R=Oe.C=-(Oe.color=1),Oe.size=Oe.content?Oe.content.length:0,Oe.start=0,Oe.clsid=Oe.clsid||ze,Z===0)Oe.C=pe.length>1?1:-1,Oe.size=0,Oe.type=5;else if(Ye.slice(-1)=="/"){for(me=Z+1;me<pe.length&&n(j.FullPaths[me])!=Ye;++me);for(Oe.C=me>=pe.length?-1:me,me=Z+1;me<pe.length&&n(j.FullPaths[me])!=n(Ye);++me);Oe.R=me>=pe.length?-1:me,Oe.type=1}else n(j.FullPaths[Z+1]||"")==n(Ye)&&(Oe.R=Z+1),Oe.type=2}}}function R(j,z){var H=z||{};if(H.fileType=="mad")return mr(j,H);switch(C(j),H.fileType){case"zip":return Ft(j,H)}var G=(function(rt){for(var He=0,Be=0,Nt=0;Nt<rt.FileIndex.length;++Nt){var Zt=rt.FileIndex[Nt];if(Zt.content){var Xt=Zt.content.length;Xt>0&&(Xt<4096?He+=Xt+63>>6:Be+=Xt+511>>9)}}for(var er=rt.FullPaths.length+3>>2,Ns=He+7>>3,Gs=He+127>>7,Xn=Ns+Be+er+Gs,Or=Xn+127>>7,Ka=Or<=109?0:Math.ceil((Or-109)/127);Xn+Or+Ka+127>>7>Or;)Ka=++Or<=109?0:Math.ceil((Or-109)/127);var Nr=[1,Ka,Or,Gs,er,Be,He,0];return rt.FileIndex[0].size=He<<6,Nr[7]=(rt.FileIndex[0].start=Nr[0]+Nr[1]+Nr[2]+Nr[3]+Nr[4]+Nr[5])+(Nr[6]+7>>3),Nr})(j),Z=Te(G[7]<<9),Q=0,ce=0;{for(Q=0;Q<8;++Q)Z.write_shift(1,Pe[Q]);for(Q=0;Q<8;++Q)Z.write_shift(2,0);for(Z.write_shift(2,62),Z.write_shift(2,3),Z.write_shift(2,65534),Z.write_shift(2,9),Z.write_shift(2,6),Q=0;Q<3;++Q)Z.write_shift(2,0);for(Z.write_shift(4,0),Z.write_shift(4,G[2]),Z.write_shift(4,G[0]+G[1]+G[2]+G[3]-1),Z.write_shift(4,0),Z.write_shift(4,4096),Z.write_shift(4,G[3]?G[0]+G[1]+G[2]-1:V),Z.write_shift(4,G[3]),Z.write_shift(-4,G[1]?G[0]-1:V),Z.write_shift(4,G[1]),Q=0;Q<109;++Q)Z.write_shift(-4,Q<G[2]?G[1]+Q:-1)}if(G[1])for(ce=0;ce<G[1];++ce){for(;Q<236+ce*127;++Q)Z.write_shift(-4,Q<G[2]?G[1]+Q:-1);Z.write_shift(-4,ce===G[1]-1?V:ce+1)}var me=function(rt){for(ce+=rt;Q<ce-1;++Q)Z.write_shift(-4,Q+1);rt&&(++Q,Z.write_shift(-4,V))};for(ce=Q=0,ce+=G[1];Q<ce;++Q)Z.write_shift(-4,Le.DIFSECT);for(ce+=G[2];Q<ce;++Q)Z.write_shift(-4,Le.FATSECT);me(G[3]),me(G[4]);for(var ue=0,pe=0,ge=j.FileIndex[0];ue<j.FileIndex.length;++ue)ge=j.FileIndex[ue],ge.content&&(pe=ge.content.length,!(pe<4096)&&(ge.start=ce,me(pe+511>>9)));for(me(G[6]+7>>3);Z.l&511;)Z.write_shift(-4,Le.ENDOFCHAIN);for(ce=Q=0,ue=0;ue<j.FileIndex.length;++ue)ge=j.FileIndex[ue],ge.content&&(pe=ge.content.length,!(!pe||pe>=4096)&&(ge.start=ce,me(pe+63>>6)));for(;Z.l&511;)Z.write_shift(-4,Le.ENDOFCHAIN);for(Q=0;Q<G[4]<<2;++Q){var Oe=j.FullPaths[Q];if(!Oe||Oe.length===0){for(ue=0;ue<17;++ue)Z.write_shift(4,0);for(ue=0;ue<3;++ue)Z.write_shift(4,-1);for(ue=0;ue<12;++ue)Z.write_shift(4,0);continue}ge=j.FileIndex[Q],Q===0&&(ge.start=ge.size?ge.start-1:V);var Ye=Q===0&&H.root||ge.name;if(pe=2*(Ye.length+1),Z.write_shift(64,Ye,"utf16le"),Z.write_shift(2,pe),Z.write_shift(1,ge.type),Z.write_shift(1,ge.color),Z.write_shift(-4,ge.L),Z.write_shift(-4,ge.R),Z.write_shift(-4,ge.C),ge.clsid)Z.write_shift(16,ge.clsid,"hex");else for(ue=0;ue<4;++ue)Z.write_shift(4,0);Z.write_shift(4,ge.state||0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,ge.start),Z.write_shift(4,ge.size),Z.write_shift(4,0)}for(Q=1;Q<j.FileIndex.length;++Q)if(ge=j.FileIndex[Q],ge.size>=4096)if(Z.l=ge.start+1<<9,ir&&Buffer.isBuffer(ge.content))ge.content.copy(Z,Z.l,0,ge.size),Z.l+=ge.size+511&-512;else{for(ue=0;ue<ge.size;++ue)Z.write_shift(1,ge.content[ue]);for(;ue&511;++ue)Z.write_shift(1,0)}for(Q=1;Q<j.FileIndex.length;++Q)if(ge=j.FileIndex[Q],ge.size>0&&ge.size<4096)if(ir&&Buffer.isBuffer(ge.content))ge.content.copy(Z,Z.l,0,ge.size),Z.l+=ge.size+63&-64;else{for(ue=0;ue<ge.size;++ue)Z.write_shift(1,ge.content[ue]);for(;ue&63;++ue)Z.write_shift(1,0)}if(ir)Z.l=Z.length;else for(;Z.l<Z.length;)Z.write_shift(1,0);return Z}function F(j,z){var H=j.FullPaths.map(function(ue){return ue.toUpperCase()}),G=H.map(function(ue){var pe=ue.split("/");return pe[pe.length-(ue.slice(-1)=="/"?2:1)]}),Z=!1;z.charCodeAt(0)===47?(Z=!0,z=H[0].slice(0,-1)+z):Z=z.indexOf("/")!==-1;var Q=z.toUpperCase(),ce=Z===!0?H.indexOf(Q):G.indexOf(Q);if(ce!==-1)return j.FileIndex[ce];var me=!Q.match(wf);for(Q=Q.replace(Ud,""),me&&(Q=Q.replace(wf,"!")),ce=0;ce<H.length;++ce)if((me?H[ce].replace(wf,"!"):H[ce]).replace(Ud,"")==Q||(me?G[ce].replace(wf,"!"):G[ce]).replace(Ud,"")==Q)return j.FileIndex[ce];return null}var W=64,V=-2,Ee="d0cf11e0a1b11ae1",Pe=[208,207,17,224,161,177,26,225],ze="00000000000000000000000000000000",Le={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:V,FREESECT:-1,HEADER_SIGNATURE:Ee,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ze,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function we(j,z,H){h();var G=R(j,H);d.writeFileSync(z,G)}function se(j){for(var z=new Array(j.length),H=0;H<j.length;++H)z[H]=String.fromCharCode(j[H]);return z.join("")}function de(j,z){var H=R(j,z);switch(z&&z.type||"buffer"){case"file":return h(),d.writeFileSync(z.filename,H),H;case"binary":return typeof H=="string"?H:se(H);case"base64":return g0(typeof H=="string"?H:se(H));case"buffer":if(ir)return Buffer.isBuffer(H)?H:Ga(H);case"array":return typeof H=="string"?Ni(H):H}return H}var ne;function D(j){try{var z=j.InflateRaw,H=new z;if(H._processChunk(new Uint8Array([3,0]),H._finishFlushFlag),H.bytesRead)ne=j;else throw new Error("zlib does not expose bytesRead")}catch(G){console.error("cannot use native zlib: "+(G.message||G))}}function Y(j,z){if(!ne)return jr(j,z);var H=ne.InflateRaw,G=new H,Z=G._processChunk(j.slice(j.l),G._finishFlushFlag);return j.l+=G.bytesRead,Z}function J(j){return ne?ne.deflateRawSync(j):ye(j)}var ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function De(j){var z=(j<<1|j<<11)&139536|(j<<5|j<<15)&558144;return(z>>16|z>>8|z)&255}for(var ke=typeof Uint8Array<"u",je=ke?new Uint8Array(256):[],nt=0;nt<256;++nt)je[nt]=De(nt);function dt(j,z){var H=je[j&255];return z<=8?H>>>8-z:(H=H<<8|je[j>>8&255],z<=16?H>>>16-z:(H=H<<8|je[j>>16&255],H>>>24-z))}function pt(j,z){var H=z&7,G=z>>>3;return(j[G]|(H<=6?0:j[G+1]<<8))>>>H&3}function Fe(j,z){var H=z&7,G=z>>>3;return(j[G]|(H<=5?0:j[G+1]<<8))>>>H&7}function wr(j,z){var H=z&7,G=z>>>3;return(j[G]|(H<=4?0:j[G+1]<<8))>>>H&15}function Dt(j,z){var H=z&7,G=z>>>3;return(j[G]|(H<=3?0:j[G+1]<<8))>>>H&31}function Ge(j,z){var H=z&7,G=z>>>3;return(j[G]|(H<=1?0:j[G+1]<<8))>>>H&127}function ar(j,z,H){var G=z&7,Z=z>>>3,Q=(1<<H)-1,ce=j[Z]>>>G;return H<8-G||(ce|=j[Z+1]<<8-G,H<16-G)||(ce|=j[Z+2]<<16-G,H<24-G)||(ce|=j[Z+3]<<24-G),ce&Q}function St(j,z,H){var G=z&7,Z=z>>>3;return G<=5?j[Z]|=(H&7)<<G:(j[Z]|=H<<G&255,j[Z+1]=(H&7)>>8-G),z+3}function Kt(j,z,H){var G=z&7,Z=z>>>3;return H=(H&1)<<G,j[Z]|=H,z+1}function le(j,z,H){var G=z&7,Z=z>>>3;return H<<=G,j[Z]|=H&255,H>>>=8,j[Z+1]=H,z+8}function Ze(j,z,H){var G=z&7,Z=z>>>3;return H<<=G,j[Z]|=H&255,H>>>=8,j[Z+1]=H&255,j[Z+2]=H>>>8,z+16}function ct(j,z){var H=j.length,G=2*H>z?2*H:z+5,Z=0;if(H>=z)return j;if(ir){var Q=aT(G);if(j.copy)j.copy(Q);else for(;Z<j.length;++Z)Q[Z]=j[Z];return Q}else if(ke){var ce=new Uint8Array(G);if(ce.set)ce.set(j);else for(;Z<H;++Z)ce[Z]=j[Z];return ce}return j.length=G,j}function it(j){for(var z=new Array(j),H=0;H<j;++H)z[H]=0;return z}function bt(j,z,H){var G=1,Z=0,Q=0,ce=0,me=0,ue=j.length,pe=ke?new Uint16Array(32):it(32);for(Q=0;Q<32;++Q)pe[Q]=0;for(Q=ue;Q<H;++Q)j[Q]=0;ue=j.length;var ge=ke?new Uint16Array(ue):it(ue);for(Q=0;Q<ue;++Q)pe[Z=j[Q]]++,G<Z&&(G=Z),ge[Q]=0;for(pe[0]=0,Q=1;Q<=G;++Q)pe[Q+16]=me=me+pe[Q-1]<<1;for(Q=0;Q<ue;++Q)me=j[Q],me!=0&&(ge[Q]=pe[me+16]++);var Oe=0;for(Q=0;Q<ue;++Q)if(Oe=j[Q],Oe!=0)for(me=dt(ge[Q],G)>>G-Oe,ce=(1<<G+4-Oe)-1;ce>=0;--ce)z[me|ce<<Oe]=Oe&15|Q<<4;return G}var mt=ke?new Uint16Array(512):it(512),tt=ke?new Uint16Array(32):it(32);if(!ke){for(var ht=0;ht<512;++ht)mt[ht]=0;for(ht=0;ht<32;++ht)tt[ht]=0}(function(){for(var j=[],z=0;z<32;z++)j.push(5);bt(j,tt,32);var H=[];for(z=0;z<=143;z++)H.push(8);for(;z<=255;z++)H.push(9);for(;z<=279;z++)H.push(7);for(;z<=287;z++)H.push(8);bt(H,mt,288)})();var Se=(function(){for(var z=ke?new Uint8Array(32768):[],H=0,G=0;H<Ae.length-1;++H)for(;G<Ae[H+1];++G)z[G]=H;for(;G<32768;++G)z[G]=29;var Z=ke?new Uint8Array(259):[];for(H=0,G=0;H<ie.length-1;++H)for(;G<ie[H+1];++G)Z[G]=H;function Q(me,ue){for(var pe=0;pe<me.length;){var ge=Math.min(65535,me.length-pe),Oe=pe+ge==me.length;for(ue.write_shift(1,+Oe),ue.write_shift(2,ge),ue.write_shift(2,~ge&65535);ge-- >0;)ue[ue.l++]=me[pe++]}return ue.l}function ce(me,ue){for(var pe=0,ge=0,Oe=ke?new Uint16Array(32768):[];ge<me.length;){var Ye=Math.min(65535,me.length-ge);if(Ye<10){for(pe=St(ue,pe,+(ge+Ye==me.length)),pe&7&&(pe+=8-(pe&7)),ue.l=pe/8|0,ue.write_shift(2,Ye),ue.write_shift(2,~Ye&65535);Ye-- >0;)ue[ue.l++]=me[ge++];pe=ue.l*8;continue}pe=St(ue,pe,+(ge+Ye==me.length)+2);for(var rt=0;Ye-- >0;){var He=me[ge];rt=(rt<<5^He)&32767;var Be=-1,Nt=0;if((Be=Oe[rt])&&(Be|=ge&-32768,Be>ge&&(Be-=32768),Be<ge))for(;me[Be+Nt]==me[ge+Nt]&&Nt<250;)++Nt;if(Nt>2){He=Z[Nt],He<=22?pe=le(ue,pe,je[He+1]>>1)-1:(le(ue,pe,3),pe+=5,le(ue,pe,je[He-23]>>5),pe+=3);var Zt=He<8?0:He-4>>2;Zt>0&&(Ze(ue,pe,Nt-ie[He]),pe+=Zt),He=z[ge-Be],pe=le(ue,pe,je[He]>>3),pe-=3;var Xt=He<4?0:He-2>>1;Xt>0&&(Ze(ue,pe,ge-Be-Ae[He]),pe+=Xt);for(var er=0;er<Nt;++er)Oe[rt]=ge&32767,rt=(rt<<5^me[ge])&32767,++ge;Ye-=Nt-1}else He<=143?He=He+48:pe=Kt(ue,pe,1),pe=le(ue,pe,je[He]),Oe[rt]=ge&32767,++ge}pe=le(ue,pe,0)-1}return ue.l=(pe+7)/8|0,ue.l}return function(ue,pe){return ue.length<8?Q(ue,pe):ce(ue,pe)}})();function ye(j){var z=Te(50+Math.floor(j.length*1.1)),H=Se(j,z);return z.slice(0,H)}var Ce=ke?new Uint16Array(32768):it(32768),Xe=ke?new Uint16Array(32768):it(32768),wt=ke?new Uint16Array(128):it(128),Ht=1,Lt=1;function Ot(j,z){var H=Dt(j,z)+257;z+=5;var G=Dt(j,z)+1;z+=5;var Z=wr(j,z)+4;z+=4;for(var Q=0,ce=ke?new Uint8Array(19):it(19),me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ue=1,pe=ke?new Uint8Array(8):it(8),ge=ke?new Uint8Array(8):it(8),Oe=ce.length,Ye=0;Ye<Z;++Ye)ce[ee[Ye]]=Q=Fe(j,z),ue<Q&&(ue=Q),pe[Q]++,z+=3;var rt=0;for(pe[0]=0,Ye=1;Ye<=ue;++Ye)ge[Ye]=rt=rt+pe[Ye-1]<<1;for(Ye=0;Ye<Oe;++Ye)(rt=ce[Ye])!=0&&(me[Ye]=ge[rt]++);var He=0;for(Ye=0;Ye<Oe;++Ye)if(He=ce[Ye],He!=0){rt=je[me[Ye]]>>8-He;for(var Be=(1<<7-He)-1;Be>=0;--Be)wt[rt|Be<<He]=He&7|Ye<<3}var Nt=[];for(ue=1;Nt.length<H+G;)switch(rt=wt[Ge(j,z)],z+=rt&7,rt>>>=3){case 16:for(Q=3+pt(j,z),z+=2,rt=Nt[Nt.length-1];Q-- >0;)Nt.push(rt);break;case 17:for(Q=3+Fe(j,z),z+=3;Q-- >0;)Nt.push(0);break;case 18:for(Q=11+Ge(j,z),z+=7;Q-- >0;)Nt.push(0);break;default:Nt.push(rt),ue<rt&&(ue=rt);break}var Zt=Nt.slice(0,H),Xt=Nt.slice(H);for(Ye=H;Ye<286;++Ye)Zt[Ye]=0;for(Ye=G;Ye<30;++Ye)Xt[Ye]=0;return Ht=bt(Zt,Ce,286),Lt=bt(Xt,Xe,30),z}function xt(j,z){if(j[0]==3&&!(j[1]&3))return[Vl(z),2];for(var H=0,G=0,Z=aT(z||1<<18),Q=0,ce=Z.length>>>0,me=0,ue=0;(G&1)==0;){if(G=Fe(j,H),H+=3,G>>>1)G>>1==1?(me=9,ue=5):(H=Ot(j,H),me=Ht,ue=Lt);else{H&7&&(H+=8-(H&7));var pe=j[H>>>3]|j[(H>>>3)+1]<<8;if(H+=32,pe>0)for(!z&&ce<Q+pe&&(Z=ct(Z,Q+pe),ce=Z.length);pe-- >0;)Z[Q++]=j[H>>>3],H+=8;continue}for(;;){!z&&ce<Q+32767&&(Z=ct(Z,Q+32767),ce=Z.length);var ge=ar(j,H,me),Oe=G>>>1==1?mt[ge]:Ce[ge];if(H+=Oe&15,Oe>>>=4,(Oe>>>8&255)===0)Z[Q++]=Oe;else{if(Oe==256)break;Oe-=257;var Ye=Oe<8?0:Oe-4>>2;Ye>5&&(Ye=0);var rt=Q+ie[Oe];Ye>0&&(rt+=ar(j,H,Ye),H+=Ye),ge=ar(j,H,ue),Oe=G>>>1==1?tt[ge]:Xe[ge],H+=Oe&15,Oe>>>=4;var He=Oe<4?0:Oe-2>>1,Be=Ae[Oe];for(He>0&&(Be+=ar(j,H,He),H+=He),!z&&ce<rt&&(Z=ct(Z,rt+100),ce=Z.length);Q<rt;)Z[Q]=Z[Q-Be],++Q}}}return z?[Z,H+7>>>3]:[Z.slice(0,Q),H+7>>>3]}function jr(j,z){var H=j.slice(j.l||0),G=xt(H,z);return j.l+=G[1],G[0]}function rr(j,z){if(j)typeof console<"u"&&console.error(z);else throw new Error(z)}function kt(j,z){var H=j;Ds(H,0);var G=[],Z=[],Q={FileIndex:G,FullPaths:Z};A(Q,{root:z.root});for(var ce=H.length-4;(H[ce]!=80||H[ce+1]!=75||H[ce+2]!=5||H[ce+3]!=6)&&ce>=0;)--ce;H.l=ce+4,H.l+=4;var me=H.read_shift(2);H.l+=6;var ue=H.read_shift(4);for(H.l=ue,ce=0;ce<me;++ce){H.l+=20;var pe=H.read_shift(4),ge=H.read_shift(4),Oe=H.read_shift(2),Ye=H.read_shift(2),rt=H.read_shift(2);H.l+=8;var He=H.read_shift(4),Be=u(H.slice(H.l+Oe,H.l+Oe+Ye));H.l+=Oe+Ye+rt;var Nt=H.l;H.l=He+4,$t(H,pe,ge,Q,Be),H.l=Nt}return Q}function $t(j,z,H,G,Z){j.l+=2;var Q=j.read_shift(2),ce=j.read_shift(2),me=o(j);if(Q&8257)throw new Error("Unsupported ZIP encryption");for(var ue=j.read_shift(4),pe=j.read_shift(4),ge=j.read_shift(4),Oe=j.read_shift(2),Ye=j.read_shift(2),rt="",He=0;He<Oe;++He)rt+=String.fromCharCode(j[j.l++]);if(Ye){var Be=u(j.slice(j.l,j.l+Ye));(Be[21589]||{}).mt&&(me=Be[21589].mt),((Z||{})[21589]||{}).mt&&(me=Z[21589].mt)}j.l+=Ye;var Nt=j.slice(j.l,j.l+pe);switch(ce){case 8:Nt=Y(j,ge);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ce)}var Zt=!1;Q&8&&(ue=j.read_shift(4),ue==134695760&&(ue=j.read_shift(4),Zt=!0),pe=j.read_shift(4),ge=j.read_shift(4)),pe!=z&&rr(Zt,"Bad compressed size: "+z+" != "+pe),ge!=H&&rr(Zt,"Bad uncompressed size: "+H+" != "+ge),Gr(G,rt,Nt,{unsafe:!0,mt:me})}function Ft(j,z){var H=z||{},G=[],Z=[],Q=Te(1),ce=H.compression?8:0,me=0,ue=0,pe=0,ge=0,Oe=0,Ye=j.FullPaths[0],rt=Ye,He=j.FileIndex[0],Be=[],Nt=0;for(ue=1;ue<j.FullPaths.length;++ue)if(rt=j.FullPaths[ue].slice(Ye.length),He=j.FileIndex[ue],!(!He.size||!He.content||rt=="Sh33tJ5")){var Zt=ge,Xt=Te(rt.length);for(pe=0;pe<rt.length;++pe)Xt.write_shift(1,rt.charCodeAt(pe)&127);Xt=Xt.slice(0,Xt.l),Be[Oe]=jH.buf(He.content,0);var er=He.content;ce==8&&(er=J(er)),Q=Te(30),Q.write_shift(4,67324752),Q.write_shift(2,20),Q.write_shift(2,me),Q.write_shift(2,ce),He.mt?i(Q,He.mt):Q.write_shift(4,0),Q.write_shift(-4,Be[Oe]),Q.write_shift(4,er.length),Q.write_shift(4,He.content.length),Q.write_shift(2,Xt.length),Q.write_shift(2,0),ge+=Q.length,G.push(Q),ge+=Xt.length,G.push(Xt),ge+=er.length,G.push(er),Q=Te(46),Q.write_shift(4,33639248),Q.write_shift(2,0),Q.write_shift(2,20),Q.write_shift(2,me),Q.write_shift(2,ce),Q.write_shift(4,0),Q.write_shift(-4,Be[Oe]),Q.write_shift(4,er.length),Q.write_shift(4,He.content.length),Q.write_shift(2,Xt.length),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(4,0),Q.write_shift(4,Zt),Nt+=Q.l,Z.push(Q),Nt+=Xt.length,Z.push(Xt),++Oe}return Q=Te(22),Q.write_shift(4,101010256),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(2,Oe),Q.write_shift(2,Oe),Q.write_shift(4,Nt),Q.write_shift(4,ge),Q.write_shift(2,0),Pn([Pn(G),Pn(Z),Q])}var Tr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function kr(j,z){if(j.ctype)return j.ctype;var H=j.name||"",G=H.match(/\.([^\.]+)$/);return G&&Tr[G[1]]||z&&(G=(H=z).match(/[\.\\]([^\.\\])+$/),G&&Tr[G[1]])?Tr[G[1]]:"application/octet-stream"}function is(j){for(var z=g0(j),H=[],G=0;G<z.length;G+=76)H.push(z.slice(G,G+76));return H.join(`\r
`)+`\r
`}function Ts(j){var z=j.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(pe){var ge=pe.charCodeAt(0).toString(16).toUpperCase();return"="+(ge.length==1?"0"+ge:ge)});z=z.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),z.charAt(0)==`
`&&(z="=0D"+z.slice(1)),z=z.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var H=[],G=z.split(`\r
`),Z=0;Z<G.length;++Z){var Q=G[Z];if(Q.length==0){H.push("");continue}for(var ce=0;ce<Q.length;){var me=76,ue=Q.slice(ce,ce+me);ue.charAt(me-1)=="="?me--:ue.charAt(me-2)=="="?me-=2:ue.charAt(me-3)=="="&&(me-=3),ue=Q.slice(ce,ce+me),ce+=me,ce<Q.length&&(ue+="="),H.push(ue)}}return H.join(`\r
`)}function Ws(j){for(var z=[],H=0;H<j.length;++H){for(var G=j[H];H<=j.length&&G.charAt(G.length-1)=="=";)G=G.slice(0,G.length-1)+j[++H];z.push(G)}for(var Z=0;Z<z.length;++Z)z[Z]=z[Z].replace(/[=][0-9A-Fa-f]{2}/g,function(Q){return String.fromCharCode(parseInt(Q.slice(1),16))});return Ni(z.join(`\r
`))}function dn(j,z,H){for(var G="",Z="",Q="",ce,me=0;me<10;++me){var ue=z[me];if(!ue||ue.match(/^\s*$/))break;var pe=ue.match(/^(.*?):\s*([^\s].*)$/);if(pe)switch(pe[1].toLowerCase()){case"content-location":G=pe[2].trim();break;case"content-type":Q=pe[2].trim();break;case"content-transfer-encoding":Z=pe[2].trim();break}}switch(++me,Z.toLowerCase()){case"base64":ce=Ni(za(z.slice(me).join("")));break;case"quoted-printable":ce=Ws(z.slice(me));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Z)}var ge=Gr(j,G.slice(H.length),ce,{unsafe:!0});Q&&(ge.ctype=Q)}function qs(j,z){if(se(j.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var H=z&&z.root||"",G=(ir&&Buffer.isBuffer(j)?j.toString("binary"):se(j)).split(`\r
`),Z=0,Q="";for(Z=0;Z<G.length;++Z)if(Q=G[Z],!!/^Content-Location:/i.test(Q)&&(Q=Q.slice(Q.indexOf("file")),H||(H=Q.slice(0,Q.lastIndexOf("/")+1)),Q.slice(0,H.length)!=H))for(;H.length>0&&(H=H.slice(0,H.length-1),H=H.slice(0,H.lastIndexOf("/")+1),Q.slice(0,H.length)!=H););var ce=(G[1]||"").match(/boundary="(.*?)"/);if(!ce)throw new Error("MAD cannot find boundary");var me="--"+(ce[1]||""),ue=[],pe=[],ge={FileIndex:ue,FullPaths:pe};A(ge);var Oe,Ye=0;for(Z=0;Z<G.length;++Z){var rt=G[Z];rt!==me&&rt!==me+"--"||(Ye++&&dn(ge,G.slice(Oe,Z),H),Oe=Z)}return ge}function mr(j,z){var H=z||{},G=H.boundary||"SheetJS";G="------="+G;for(var Z=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+G.slice(2)+'"',"","",""],Q=j.FullPaths[0],ce=Q,me=j.FileIndex[0],ue=1;ue<j.FullPaths.length;++ue)if(ce=j.FullPaths[ue].slice(Q.length),me=j.FileIndex[ue],!(!me.size||!me.content||ce=="Sh33tJ5")){ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Nt){return"_x"+Nt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Nt){return"_u"+Nt.charCodeAt(0).toString(16)+"_"});for(var pe=me.content,ge=ir&&Buffer.isBuffer(pe)?pe.toString("binary"):se(pe),Oe=0,Ye=Math.min(1024,ge.length),rt=0,He=0;He<=Ye;++He)(rt=ge.charCodeAt(He))>=32&&rt<128&&++Oe;var Be=Oe>=Ye*4/5;Z.push(G),Z.push("Content-Location: "+(H.root||"file:///C:/SheetJS/")+ce),Z.push("Content-Transfer-Encoding: "+(Be?"quoted-printable":"base64")),Z.push("Content-Type: "+kr(me,ce)),Z.push(""),Z.push(Be?Ts(ge):is(ge))}return Z.push(G+`--\r
`),Z.join(`\r
`)}function as(j){var z={};return A(z,j),z}function Gr(j,z,H,G){var Z=G&&G.unsafe;Z||A(j);var Q=!Z&&gr.find(j,z);if(!Q){var ce=j.FullPaths[0];z.slice(0,ce.length)==ce?ce=z:(ce.slice(-1)!="/"&&(ce+="/"),ce=(ce+z).replace("//","/")),Q={name:s(z),type:2},j.FileIndex.push(Q),j.FullPaths.push(ce),Z||gr.utils.cfb_gc(j)}return Q.content=H,Q.size=H?H.length:0,G&&(G.CLSID&&(Q.clsid=G.CLSID),G.mt&&(Q.mt=G.mt),G.ct&&(Q.ct=G.ct)),Q}function ks(j,z){A(j);var H=gr.find(j,z);if(H){for(var G=0;G<j.FileIndex.length;++G)if(j.FileIndex[G]==H)return j.FileIndex.splice(G,1),j.FullPaths.splice(G,1),!0}return!1}function be(j,z,H){A(j);var G=gr.find(j,z);if(G){for(var Z=0;Z<j.FileIndex.length;++Z)if(j.FileIndex[Z]==G)return j.FileIndex[Z].name=s(H),j.FullPaths[Z]=H,!0}return!1}function Ne(j){C(j,!0)}return e.find=F,e.read=B,e.parse=p,e.write=de,e.writeFile=we,e.utils={cfb_new:as,cfb_add:Gr,cfb_del:ks,cfb_mov:be,cfb_gc:Ne,ReadShift:Hd,CheckField:OA,prep_blob:Ds,bconcat:Pn,use_zlib:D,_deflateRaw:ye,_inflateRaw:jr,consts:Le},e})();function PH(t){return typeof t=="string"?jm(t):Array.isArray(t)?sH(t):t}function q0(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=jm(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?y0(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var s=new Blob([PH(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(t);return u.open("w"),u.encoding="binary",Array.isArray(e)&&(e=W0(e)),u.write(e),u.close(),e}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+t)}function Ln(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function pT(t,e){for(var r=[],n=Ln(t),s=0;s!==n.length;++s)r[t[n[s]][e]]==null&&(r[t[n[s]][e]]=n[s]);return r}function o2(t){for(var e=[],r=Ln(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function Dm(t){for(var e=[],r=Ln(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function RH(t){for(var e=[],r=Ln(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var Lp=new Date(1899,11,30,0,0,0);function _s(t,e){var r=t.getTime(),n=Lp.getTime()+(t.getTimezoneOffset()-Lp.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var yA=new Date,DH=Lp.getTime()+(yA.getTimezoneOffset()-Lp.getTimezoneOffset())*6e4,mT=yA.getTimezoneOffset();function vA(t){var e=new Date;return e.setTime(t*24*60*60*1e3+DH),e.getTimezoneOffset()!==mT&&e.setTime(e.getTime()+(e.getTimezoneOffset()-mT)*6e4),e}var gT=new Date("2017-02-19T19:06:09.000Z"),bA=isNaN(gT.getFullYear())?new Date("2/19/17"):gT,OH=bA.getFullYear()==2017;function ss(t,e){var r=new Date(t);if(OH)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(bA.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Om(t,e){if(ir&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],s=0;s!=t.length;++s)n.push(String.fromCharCode(t[s]));return n.join("")}function Es(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Es(t[r]));return e}function zr(t,e){for(var r="";r.length<e;)r+=t;return r}function Da(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(e=Number(n)))?e/r:e}var FH=["january","february","march","april","may","june","july","august","september","october","november","december"];function x0(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),s=e.getMonth(),i=e.getDate();if(isNaN(i))return r;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&FH.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||i>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Mt(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return ir?n=Ga(r):n=iH(r),gr.utils.cfb_add(t,e,n)}gr.utils.cfb_add(t,e,r)}else t.file(e,r)}function l2(){return gr.utils.cfb_new()}var sn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,LH={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},c2=o2(LH),u2=/[&<>'"]/g,MH=/[\u0000-\u0008\u000b-\u001f]/g;function fr(t){var e=t+"";return e.replace(u2,function(r){return c2[r]}).replace(MH,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function xT(t){return fr(t).replace(/ /g,"_x0020_")}var wA=/[\u0000-\u001f]/g;function $H(t){var e=t+"";return e.replace(u2,function(r){return c2[r]}).replace(/\n/g,"<br/>").replace(wA,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function VH(t){var e=t+"";return e.replace(u2,function(r){return c2[r]}).replace(wA,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function BH(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function UH(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Kx(t){for(var e="",r=0,n=0,s=0,i=0,o=0,u=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(s=t.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=s&63,e+=String.fromCharCode(o);continue}if(i=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);continue}o=t.charCodeAt(r++),u=((n&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(u>>>10&1023)),e+=String.fromCharCode(56320+(u&1023))}return e}function yT(t){var e=Vl(2*t.length),r,n,s=1,i=0,o=0,u;for(n=0;n<t.length;n+=s)s=1,(u=t.charCodeAt(n))<128?r=u:u<224?(r=(u&31)*64+(t.charCodeAt(n+1)&63),s=2):u<240?(r=(u&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),s=3):(s=4,r=(u&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(e[i++]=o&255,e[i++]=o>>>8,o=0),e[i++]=r%256,e[i++]=r>>>8;return e.slice(0,i).toString("ucs2")}function vT(t){return Ga(t,"binary").toString("utf8")}var Ef="foo bar bazâð£",zd=ir&&(vT(Ef)==Kx(Ef)&&vT||yT(Ef)==Kx(Ef)&&yT)||Kx,y0=ir?function(t){return Ga(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,s=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},zH=(function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)n=n.replace(t[s][0],t[s][1]);return n}})(),_A=/(^\s|\s$|\n)/;function Rn(t,e){return"<"+t+(e.match(_A)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function v0(t){return Ln(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Qe(t,e,r){return"<"+t+(r!=null?v0(r):"")+(e!=null?(e.match(_A)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Jy(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function HH(t,e){switch(typeof t){case"string":var r=Qe("vt:lpwstr",fr(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Qe((t|0)==t?"vt:i4":"vt:r8",fr(String(t)));case"boolean":return Qe("vt:bool",t?"true":"false")}if(t instanceof Date)return Qe("vt:filetime",Jy(t));throw new Error("Unable to serialize "+t)}var vn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Ou=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Os={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function WH(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,i=5;i>=0;--i)s=s*256+t[e+i];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function qH(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,s=0,i=0,o=n?-e:e;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(e)?26985:0);for(var u=0;u<=5;++u,i/=256)t[r+u]=i&255;t[r+6]=(s&15)<<4|i&15,t[r+7]=s>>4|n}var bT=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var s=0,i=t[0][n].length;s<i;s+=r)e.push.apply(e,t[0][n].slice(s,s+r));return e},wT=ir?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ga(e)})):bT(t)}:bT,_T=function(t,e,r){for(var n=[],s=e;s<r;s+=2)n.push(String.fromCharCode(Cd(t,s)));return n.join("").replace(Ud,"")},d2=ir?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Ud,""):_T(t,e,r)}:_T,ET=function(t,e,r){for(var n=[],s=e;s<e+r;++s)n.push(("0"+t[s].toString(16)).slice(-2));return n.join("")},EA=ir?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):ET(t,e,r)}:ET,TT=function(t,e,r){for(var n=[],s=e;s<r;s++)n.push(String.fromCharCode(Wc(t,s)));return n.join("")},G0=ir?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):TT(e,r,n)}:TT,TA=function(t,e){var r=Fs(t,e);return r>0?G0(t,e+4,e+4+r-1):""},kA=TA,NA=function(t,e){var r=Fs(t,e);return r>0?G0(t,e+4,e+4+r-1):""},SA=NA,AA=function(t,e){var r=2*Fs(t,e);return r>0?G0(t,e+4,e+4+r-1):""},CA=AA,IA=function(e,r){var n=Fs(e,r);return n>0?d2(e,r+4,r+4+n):""},jA=IA,PA=function(t,e){var r=Fs(t,e);return r>0?G0(t,e+4,e+4+r):""},RA=PA,DA=function(t,e){return WH(t,e)},Mp=DA,h2=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};ir&&(kA=function(e,r){if(!Buffer.isBuffer(e))return TA(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},SA=function(e,r){if(!Buffer.isBuffer(e))return NA(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},CA=function(e,r){if(!Buffer.isBuffer(e))return AA(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},jA=function(e,r){if(!Buffer.isBuffer(e))return IA(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},RA=function(e,r){if(!Buffer.isBuffer(e))return PA(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},Mp=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):DA(e,r)},h2=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Wc=function(t,e){return t[e]},Cd=function(t,e){return t[e+1]*256+t[e]},GH=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Fs=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},bl=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},KH=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Hd(t,e){var r="",n,s,i=[],o,u,d,h;switch(e){case"dbcs":if(h=this.l,ir&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)r+=String.fromCharCode(Cd(this,h)),h+=2;t*=2;break;case"utf8":r=G0(this,this.l,this.l+t);break;case"utf16le":t*=2,r=d2(this,this.l,this.l+t);break;case"wstr":return Hd.call(this,t,"dbcs");case"lpstr-ansi":r=kA(this,this.l),t=4+Fs(this,this.l);break;case"lpstr-cp":r=SA(this,this.l),t=4+Fs(this,this.l);break;case"lpwstr":r=CA(this,this.l),t=4+2*Fs(this,this.l);break;case"lpp4":t=4+Fs(this,this.l),r=jA(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Fs(this,this.l),r=RA(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(o=Wc(this,this.l+t++))!==0;)i.push(bf(o));r=i.join("");break;case"_wstr":for(t=0,r="";(o=Cd(this,this.l+t))!==0;)i.push(bf(o)),t+=2;t+=2,r=i.join("");break;case"dbcs-cont":for(r="",h=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return o=Wc(this,h),this.l=h+1,u=Hd.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),i.join("")+u;i.push(bf(Cd(this,h))),h+=2}r=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",h=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return o=Wc(this,h),this.l=h+1,u=Hd.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),i.join("")+u;i.push(bf(Wc(this,h))),h+=1}r=i.join("");break;default:switch(t){case 1:return n=Wc(this,this.l),this.l++,n;case 2:return n=(e==="i"?GH:Cd)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?bl:KH)(this,this.l),this.l+=4,n):(s=Fs(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=Mp(this,this.l):s=Mp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:r=EA(this,this.l,t);break}}return this.l+=t,r}var XH=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},YH=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},QH=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function JH(t,e,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=e.length;++s)QH(this,e.charCodeAt(s),this.l+2*s);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;n=e.length}else if(r==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var o=e.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,XH(this,e,this.l);break;case 8:if(n=8,r==="f"){qH(this,e,this.l);break}case 16:break;case-4:n=4,YH(this,e,this.l);break}return this.l+=n,this}function OA(t,e){var r=EA(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Ds(t,e){t.l=e,t.read_shift=Hd,t.chk=OA,t.write_shift=JH}function ua(t,e){t.l+=e}function Te(t){var e=Vl(t);return Ds(e,0),e}function ws(){var t=[],e=ir?256:2048,r=function(h){var p=Te(h);return Ds(p,0),p},n=r(e),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},i=function(h){return n&&h<n.length-n.l?n:(s(),n=r(Math.max(h+1,e)))},o=function(){return s(),Pn(t)},u=function(h){s(),n=h,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:u,end:o,_bufs:t}}function Me(t,e,r,n){var s=+e,i;if(!isNaN(s)){n||(n=WY[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=t.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var u=0;u!=4;++u)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&h2(r)&&t.push(r)}}function Wd(t,e,r){var n=Es(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function kT(t,e,r){var n=Es(t);return n.s=Wd(n.s,e.s,r),n.e=Wd(n.e,e.s,r),n}function qd(t,e){if(t.cRel&&t.c<0)for(t=Es(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Es(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=pr(t);return!t.cRel&&t.cRel!=null&&(r=tW(r)),!t.rRel&&t.rRel!=null&&(r=ZH(r)),r}function Xx(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+qn(t.s.c)+":"+(t.e.cRel?"":"$")+qn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+On(t.s.r)+":"+(t.e.rRel?"":"$")+On(t.e.r):qd(t.s,e.biff)+":"+qd(t.e,e.biff)}function f2(t){return parseInt(eW(t),10)-1}function On(t){return""+(t+1)}function ZH(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function eW(t){return t.replace(/\$(\d+)$/,"$1")}function p2(t){for(var e=rW(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function qn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function tW(t){return t.replace(/^([A-Z])/,"$$$1")}function rW(t){return t.replace(/^\$([A-Z])/,"$1")}function nW(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function bn(t){for(var e=0,r=0,n=0;n<t.length;++n){var s=t.charCodeAt(n);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:e-1}}function pr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Hs(t){var e=t.indexOf(":");return e==-1?{s:bn(t),e:bn(t)}:{s:bn(t.slice(0,e)),e:bn(t.slice(e+1))}}function nn(t,e){return typeof e>"u"||typeof e=="number"?nn(t.s,t.e):(typeof t!="string"&&(t=pr(t)),typeof e!="string"&&(e=pr(e)),t==e?t:t+":"+e)}function Ir(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,i=t.length;for(r=0;n<i&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.s.c=--r,r=0;n<i&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(e.s.r=--r,n===i||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=i&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.e.c=--r,r=0;n!=i&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return e.e.r=--r,e}function NT(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=zo(t.z,r?_s(e):e)}catch{}try{return t.w=zo((t.XF||{}).numFmtId||(r?14:0),r?_s(e):e)}catch{return""+e}}function Ha(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?K0[t.v]||t.v:e==null?NT(t,t.v):NT(t,e))}function ec(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function FA(t,e,r){var n=r||{},s=t?Array.isArray(t):n.dense,i=t||(s?[]:{}),o=0,u=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var d=typeof n.origin=="string"?bn(n.origin):n.origin;o=d.r,u=d.c}i["!ref"]||(i["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var p=Ir(i["!ref"]);h.s.c=p.s.c,h.s.r=p.s.r,h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),o==-1&&(h.e.r=o=p.e.r+1)}for(var g=0;g!=e.length;++g)if(e[g]){if(!Array.isArray(e[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[g].length;++y)if(!(typeof e[g][y]>"u")){var v={v:e[g][y]},T=o+g,w=u+y;if(h.s.r>T&&(h.s.r=T),h.s.c>w&&(h.s.c=w),h.e.r<T&&(h.e.r=T),h.e.c<w&&(h.e.c=w),e[g][y]&&typeof e[g][y]=="object"&&!Array.isArray(e[g][y])&&!(e[g][y]instanceof Date))v=e[g][y];else if(Array.isArray(v.v)&&(v.f=e[g][y][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(n.nullError)v.t="e",v.v=0;else if(n.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=n.dateNF||qr[14],n.cellDates?(v.t="d",v.w=zo(v.z,_s(v.v))):(v.t="n",v.v=_s(v.v),v.w=zo(v.z,v.v))):v.t="s";if(s)i[T]||(i[T]=[]),i[T][w]&&i[T][w].z&&(v.z=i[T][w].z),i[T][w]=v;else{var E=pr({c:w,r:T});i[E]&&i[E].z&&(v.z=i[E].z),i[E]=v}}}return h.s.c<1e7&&(i["!ref"]=nn(h)),i}function Fu(t,e){return FA(null,t,e)}function sW(t){return t.read_shift(4,"i")}function ji(t,e){return e||(e=Te(4)),e.write_shift(4,t),e}function Gn(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function wn(t,e){var r=!1;return e==null&&(r=!0,e=Te(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function iW(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function aW(t,e){return e||(e=Te(4)),e.write_shift(2,0),e.write_shift(2,0),e}function m2(t,e){var r=t.l,n=t.read_shift(1),s=Gn(t),i=[],o={t:s,h:s};if((n&1)!==0){for(var u=t.read_shift(4),d=0;d!=u;++d)i.push(iW(t));o.r=i}else o.r=[{ich:0,ifnt:0}];return t.l=r+e,o}function oW(t,e){var r=!1;return e==null&&(r=!0,e=Te(15+4*t.t.length)),e.write_shift(1,0),wn(t.t,e),r?e.slice(0,e.l):e}var lW=m2;function cW(t,e){var r=!1;return e==null&&(r=!0,e=Te(23+4*t.t.length)),e.write_shift(1,1),wn(t.t,e),e.write_shift(4,1),aW({},e),r?e.slice(0,e.l):e}function di(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function tc(t,e){return e==null&&(e=Te(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function rc(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function nc(t,e){return e==null&&(e=Te(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var uW=Gn,LA=wn;function g2(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function $p(t,e){var r=!1;return e==null&&(r=!0,e=Te(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var dW=Gn,Zy=g2,x2=$p;function MA(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var s=n===0?Mp([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):bl(e,0)>>2;return r?s/100:s}function $A(t,e){e==null&&(e=Te(4));var r=0,n=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?s:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function VA(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function hW(t,e){return e||(e=Te(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var sc=VA,Lu=hW;function Mu(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Bl(t,e){return(e||Te(8)).write_shift(8,t,"f")}function fW(t){var e={},r=t.read_shift(1),n=r>>>1,s=t.read_shift(1),i=t.read_shift(2,"i"),o=t.read_shift(1),u=t.read_shift(1),d=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=s;var h=_W[s];h&&(e.rgb=LT(h));break;case 2:e.rgb=LT([o,u,d]);break;case 3:e.theme=s;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function Vp(t,e){if(e||(e=Te(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function pW(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function mW(t,e){e||(e=Te(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var BA=2,Rs=3,Tf=11,Bp=19,kf=64,gW=65,xW=71,yW=4108,vW=4126,An=80,ST={1:{n:"CodePage",t:BA},2:{n:"Category",t:An},3:{n:"PresentationFormat",t:An},4:{n:"ByteCount",t:Rs},5:{n:"LineCount",t:Rs},6:{n:"ParagraphCount",t:Rs},7:{n:"SlideCount",t:Rs},8:{n:"NoteCount",t:Rs},9:{n:"HiddenCount",t:Rs},10:{n:"MultimediaClipCount",t:Rs},11:{n:"ScaleCrop",t:Tf},12:{n:"HeadingPairs",t:yW},13:{n:"TitlesOfParts",t:vW},14:{n:"Manager",t:An},15:{n:"Company",t:An},16:{n:"LinksUpToDate",t:Tf},17:{n:"CharacterCount",t:Rs},19:{n:"SharedDoc",t:Tf},22:{n:"HyperlinksChanged",t:Tf},23:{n:"AppVersion",t:Rs,p:"version"},24:{n:"DigSig",t:gW},26:{n:"ContentType",t:An},27:{n:"ContentStatus",t:An},28:{n:"Language",t:An},29:{n:"Version",t:An},255:{},2147483648:{n:"Locale",t:Bp},2147483651:{n:"Behavior",t:Bp},1919054434:{}},AT={1:{n:"CodePage",t:BA},2:{n:"Title",t:An},3:{n:"Subject",t:An},4:{n:"Author",t:An},5:{n:"Keywords",t:An},6:{n:"Comments",t:An},7:{n:"Template",t:An},8:{n:"LastAuthor",t:An},9:{n:"RevNumber",t:An},10:{n:"EditTime",t:kf},11:{n:"LastPrinted",t:kf},12:{n:"CreatedDate",t:kf},13:{n:"ModifiedDate",t:kf},14:{n:"PageCount",t:Rs},15:{n:"WordCount",t:Rs},16:{n:"CharCount",t:Rs},17:{n:"Thumbnail",t:xW},18:{n:"Application",t:An},19:{n:"DocSecurity",t:Rs},255:{},2147483648:{n:"Locale",t:Bp},2147483651:{n:"Behavior",t:Bp},1919054434:{}};function bW(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var wW=bW([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),_W=Es(wW),K0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},EW={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Nf={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function UA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function zA(t,e){var r=RH(EW),n=[],s;n[n.length]=sn,n[n.length]=Qe("Types",null,{xmlns:vn.CT,"xmlns:xsd":vn.xsd,"xmlns:xsi":vn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return Qe("Default",null,{Extension:d[0],ContentType:d[1]})}));var i=function(d){t[d]&&t[d].length>0&&(s=t[d][0],n[n.length]=Qe("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:Nf[d][e.bookType]||Nf[d].xlsx}))},o=function(d){(t[d]||[]).forEach(function(h){n[n.length]=Qe("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Nf[d][e.bookType]||Nf[d].xlsx})})},u=function(d){(t[d]||[]).forEach(function(h){n[n.length]=Qe("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:r[d][0]})})};return i("workbooks"),o("sheets"),o("charts"),u("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),o("metadata"),u("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var sr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function HA(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function iu(t){var e=[sn,Qe("Relationships",null,{xmlns:vn.RELS})];return Ln(t["!id"]).forEach(function(r){e[e.length]=Qe("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function ur(t,e,r,n,s,i){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=n,s.Target=r,[sr.HLINK,sr.XPATH,sr.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}function TW(t){var e=[sn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function CT(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function kW(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function NW(t){var e=[sn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(CT(t[r][0],t[r][1])),e.push(kW("",t[r][0]));return e.push(CT("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function WA(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Pp.version+"</meta:generator></office:meta></office:document-meta>"}var Sl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Yx(t,e,r,n,s){s[t]!=null||e==null||e===""||(s[t]=e,e=fr(e),n[n.length]=r?Qe(t,e,r):Rn(t,e))}function qA(t,e){var r=e||{},n=[sn,Qe("cp:coreProperties",null,{"xmlns:cp":vn.CORE_PROPS,"xmlns:dc":vn.dc,"xmlns:dcterms":vn.dcterms,"xmlns:dcmitype":vn.dcmitype,"xmlns:xsi":vn.xsi})],s={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&Yx("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Jy(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),t.ModifiedDate!=null&&Yx("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Jy(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var i=0;i!=Sl.length;++i){var o=Sl[i],u=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:t?t[o[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&Yx(o[0],u,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var au=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],GA=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function KA(t){var e=[],r=Qe;return t||(t={}),t.Application="SheetJS",e[e.length]=sn,e[e.length]=Qe("Properties",null,{xmlns:vn.EXT_PROPS,"xmlns:vt":vn.vt}),au.forEach(function(n){if(t[n[1]]!==void 0){var s;switch(n[2]){case"string":s=fr(String(t[n[1]]));break;case"bool":s=t[n[1]]?"true":"false";break}s!==void 0&&(e[e.length]=r(n[0],s))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+fr(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function XA(t){var e=[sn,Qe("Properties",null,{xmlns:vn.CUST_PROPS,"xmlns:vt":vn.vt})];if(!t)return e.join("");var r=1;return Ln(t).forEach(function(s){++r,e[e.length]=Qe("property",HH(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:fr(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var IT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function SW(t,e){var r=[];return Ln(IT).map(function(n){for(var s=0;s<Sl.length;++s)if(Sl[s][1]==n)return Sl[s];for(s=0;s<au.length;++s)if(au[s][1]==n)return au[s];throw n}).forEach(function(n){if(t[n[1]]!=null){var s=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(Rn(IT[n[1]]||n[1],s))}}),Qe("DocumentProperties",r.join(""),{xmlns:Os.o})}function AW(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return t&&Ln(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)){for(var o=0;o<Sl.length;++o)if(i==Sl[o][1])return;for(o=0;o<au.length;++o)if(i==au[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var u=t[i],d="string";typeof u=="number"?(d="float",u=String(u)):u===!0||u===!1?(d="boolean",u=u?"1":"0"):u=String(u),s.push(Qe(xT(i),u,{"dt:dt":d}))}}),e&&Ln(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)&&!(t&&Object.prototype.hasOwnProperty.call(t,i))){var o=e[i],u="string";typeof o=="number"?(u="float",o=String(o)):o===!0||o===!1?(u="boolean",o=o?"1":"0"):o instanceof Date?(u="dateTime.tz",o=o.toISOString()):o=String(o),s.push(Qe(xT(i),o,{"dt:dt":u}))}}),"<"+n+' xmlns="'+Os.o+'">'+s.join("")+"</"+n+">"}function CW(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),s+=i);var o=Te(8);return o.write_shift(4,n),o.write_shift(4,s),o}function jT(t,e){var r=Te(4),n=Te(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Te(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=CW(e);break;case 31:case 80:for(n=Te(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Pn([r,n])}var YA=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function IW(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function PT(t,e,r){var n=Te(8),s=[],i=[],o=8,u=0,d=Te(8),h=Te(8);if(d.write_shift(4,2),d.write_shift(4,1200),h.write_shift(4,1),i.push(d),s.push(h),o+=8+d.length,!e){h=Te(8),h.write_shift(4,0),s.unshift(h);var p=[Te(4)];for(p[0].write_shift(4,t.length),u=0;u<t.length;++u){var g=t[u][0];for(d=Te(8+2*(g.length+1)+(g.length%2?0:2)),d.write_shift(4,u+2),d.write_shift(4,g.length+1),d.write_shift(0,g,"dbcs");d.l!=d.length;)d.write_shift(1,0);p.push(d)}d=Pn(p),i.unshift(d),o+=8+d.length}for(u=0;u<t.length;++u)if(!(e&&!e[t[u][0]])&&!(YA.indexOf(t[u][0])>-1||GA.indexOf(t[u][0])>-1)&&t[u][1]!=null){var y=t[u][1],v=0;if(e){v=+e[t[u][0]];var T=r[v];if(T.p=="version"&&typeof y=="string"){var w=y.split(".");y=(+w[0]<<16)+(+w[1]||0)}d=jT(T.t,y)}else{var E=IW(y);E==-1&&(E=31,y=String(y)),d=jT(E,y)}i.push(d),h=Te(8),h.write_shift(4,e?v:2+u),s.push(h),o+=8+d.length}var O=8*(i.length+1);for(u=0;u<i.length;++u)s[u].write_shift(4,O),O+=i[u].length;return n.write_shift(4,o),n.write_shift(4,i.length),Pn([n].concat(s).concat(i))}function RT(t,e,r,n,s,i){var o=Te(s?68:48),u=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,gr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,s?68:48);var d=PT(t,r,n);if(u.push(d),s){var h=PT(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+d.length),u.push(h)}return Pn(u)}function jW(t,e){e||(e=Te(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function PW(t,e){return t.read_shift(e)===1}function es(t,e){return e||(e=Te(2)),e.write_shift(2,+!!t),e}function QA(t){return t.read_shift(2,"u")}function ii(t,e){return e||(e=Te(2)),e.write_shift(2,t),e}function JA(t,e,r){return r||(r=Te(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function ZA(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=t.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=n?t.read_shift(n,s):"";return o}function RW(t){var e=t.t||"",r=Te(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Te(2*e.length);n.write_shift(2*e.length,e,"utf16le");var s=[r,n];return Pn(s)}function DW(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function OW(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):DW(t,n,r)}function FW(t,e,r){if(r.biff>5)return OW(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function e6(t,e,r){return r||(r=Te(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function DT(t,e){e||(e=Te(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function LW(t){var e=Te(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),i=s>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}e.write_shift(4,2),e.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)e.write_shift(4,o[r]);if(i==28)n=n.slice(1),DT(n,e);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));var u=s>-1?n.slice(0,s):n;for(e.write_shift(4,2*(u.length+1)),r=0;r<u.length;++r)e.write_shift(2,u.charCodeAt(r));e.write_shift(2,0),i&8&&DT(s>-1?n.slice(s+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));for(var d=0;n.slice(d*3,d*3+3)=="../"||n.slice(d*3,d*3+3)=="..\\";)++d;for(e.write_shift(2,d),e.write_shift(4,n.length-3*d+1),r=0;r<n.length-3*d;++r)e.write_shift(1,n.charCodeAt(r+3*d)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function Ul(t,e,r,n){return n||(n=Te(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function MW(t,e,r){var n=r.biff>8?4:2,s=t.read_shift(n),i=t.read_shift(n,"i"),o=t.read_shift(n,"i");return[s,i,o]}function $W(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),s=t.read_shift(2);return{s:{c:n,r:e},e:{c:s,r}}}function t6(t,e){return e||(e=Te(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function y2(t,e,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Te(s);return i.write_shift(2,n),i.write_shift(2,e),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function VW(t,e){var r=!e||e.biff==8,n=Te(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function BW(t,e){var r=!e||e.biff>=8?2:1,n=Te(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function UW(t,e){var r=Te(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],s=0;s<t.length;++s)n[s]=RW(t[s]);var i=Pn([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function zW(){var t=Te(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function HW(t){var e=Te(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function WW(t,e){var r=t.name||"Arial",n=e&&e.biff==5,s=n?15+r.length:16+2*r.length,i=Te(s);return i.write_shift(2,t.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function qW(t,e,r,n){var s=Te(10);return Ul(t,e,n,s),s.write_shift(4,r),s}function GW(t,e,r,n,s){var i=!s||s.biff==8,o=Te(8+ +i+(1+i)*r.length);return Ul(t,e,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function KW(t,e,r,n){var s=r&&r.biff==5;n||(n=Te(s?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(s?1:2,e.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function XW(t,e){var r=e.biff==8||!e.biff?4:2,n=Te(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function OT(t,e,r,n){var s=r&&r.biff==5;n||(n=Te(s?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var i=0;return t.numFmtId>0&&s&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function YW(t){var e=Te(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function QW(t,e,r,n,s,i){var o=Te(8);return Ul(t,e,n,o),JA(r,i,o),o}function JW(t,e,r,n){var s=Te(14);return Ul(t,e,n,s),Bl(r,s),s}function ZW(t,e,r){if(r.biff<8)return eq(t,e,r);for(var n=[],s=t.l+e,i=t.read_shift(r.biff>8?4:2);i--!==0;)n.push(MW(t,r.biff>8?12:6,r));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return n}function eq(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=ZA(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function tq(t){var e=Te(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)t6(t[r],e);return e}function rq(t){var e=Te(24),r=bn(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(n[s],16));return Pn([e,LW(t[1])])}function nq(t){var e=t[1].Tooltip,r=Te(10+2*(e.length+1));r.write_shift(2,2048);var n=bn(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<e.length;++s)r.write_shift(2,e.charCodeAt(s));return r.write_shift(2,0),r}function sq(t){return t||(t=Te(4)),t.write_shift(2,1),t.write_shift(2,1),t}function iq(t,e,r){if(!r.cellStyles)return ua(t,e);var n=r&&r.biff>=12?4:2,s=t.read_shift(n),i=t.read_shift(n),o=t.read_shift(n),u=t.read_shift(n),d=t.read_shift(2);n==2&&(t.l+=2);var h={s,e:i,w:o,ixfe:u,flags:d};return(r.biff>=5||!r.biff)&&(h.level=d>>8&7),h}function aq(t,e){var r=Te(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function oq(t){for(var e=Te(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function lq(t,e,r){var n=Te(15);return Y0(n,t,e),n.write_shift(8,r,"f"),n}function cq(t,e,r){var n=Te(9);return Y0(n,t,e),n.write_shift(2,r),n}var uq=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=o2({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(u,d){var h=[],p=Vl(1);switch(d.type){case"base64":p=Ni(za(u));break;case"binary":p=Ni(u);break;case"buffer":case"array":p=u;break}Ds(p,0);var g=p.read_shift(1),y=!!(g&136),v=!1,T=!1;switch(g){case 2:break;case 3:break;case 48:v=!0,y=!0;break;case 49:v=!0,y=!0;break;case 131:break;case 139:break;case 140:T=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var w=0,E=521;g==2&&(w=p.read_shift(2)),p.l+=3,g!=2&&(w=p.read_shift(4)),w>1048576&&(w=1e6),g!=2&&(E=p.read_shift(2));var O=p.read_shift(2),M=d.codepage||1252;g!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(M=t[p[p.l]]),p.l+=1,p.l+=2),T&&(p.l+=36);for(var U=[],P={},X=Math.min(p.length,g==2?521:E-10-(v?264:0)),B=T?32:11;p.l<X&&p[p.l]!=13;)switch(P={},P.name=Rp.utils.decode(M,p.slice(p.l,p.l+B)).replace(/[\u0000\r\n].*$/g,""),p.l+=B,P.type=String.fromCharCode(p.read_shift(1)),g!=2&&!T&&(P.offset=p.read_shift(4)),P.len=p.read_shift(1),g==2&&(P.offset=p.read_shift(2)),P.dec=p.read_shift(1),P.name.length&&U.push(P),g!=2&&(p.l+=T?13:14),P.type){case"B":(!v||P.len!=8)&&d.WTF&&console.log("Skipping "+P.name+":"+P.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+P.name+":"+P.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+P.type)}if(p[p.l]!==13&&(p.l=E-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=E;var A=0,N=0;for(h[0]=[],N=0;N!=U.length;++N)h[0][N]=U[N].name;for(;w-- >0;){if(p[p.l]===42){p.l+=O;continue}for(++p.l,h[++A]=[],N=0,N=0;N!=U.length;++N){var C=p.slice(p.l,p.l+U[N].len);p.l+=U[N].len,Ds(C,0);var R=Rp.utils.decode(M,C);switch(U[N].type){case"C":R.trim().length&&(h[A][N]=R.replace(/\s+$/,""));break;case"D":R.length===8?h[A][N]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):h[A][N]=R;break;case"F":h[A][N]=parseFloat(R.trim());break;case"+":case"I":h[A][N]=T?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":h[A][N]=!0;break;case"N":case"F":h[A][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));h[A][N]="##MEMO##"+(T?parseInt(R.trim(),10):C.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(h[A][N]=+R||0);break;case"@":h[A][N]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":h[A][N]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":h[A][N]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[A][N]=-C.read_shift(-8,"f");break;case"B":if(v&&U[N].len==8){h[A][N]=C.read_shift(8,"f");break}case"G":case"P":C.l+=U[N].len;break;case"0":if(U[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+U[N].type)}}}if(g!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return d&&d.sheetRows&&(h=h.slice(0,d.sheetRows)),d.DBF=U,h}function n(u,d){var h=d||{};h.dateNF||(h.dateNF="yyyymmdd");var p=Fu(r(u,h),h);return p["!cols"]=h.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete h.DBF,p}function s(u,d){try{return ec(n(u,d),d)}catch(h){if(d&&d.WTF)throw h}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(u,d){var h=d||{};if(+h.codepage>=0&&m0(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var p=ws(),g=qp(u,{header:1,raw:!0,cellDates:!0}),y=g[0],v=g.slice(1),T=u["!cols"]||[],w=0,E=0,O=0,M=1;for(w=0;w<y.length;++w){if(((T[w]||{}).DBF||{}).name){y[w]=T[w].DBF.name,++O;continue}if(y[w]!=null){if(++O,typeof y[w]=="number"&&(y[w]=y[w].toString(10)),typeof y[w]!="string")throw new Error("DBF Invalid column name "+y[w]+" |"+typeof y[w]+"|");if(y.indexOf(y[w])!==w){for(E=0;E<1024;++E)if(y.indexOf(y[w]+"_"+E)==-1){y[w]+="_"+E;break}}}}var U=Ir(u["!ref"]),P=[],X=[],B=[];for(w=0;w<=U.e.c-U.s.c;++w){var A="",N="",C=0,R=[];for(E=0;E<v.length;++E)v[E][w]!=null&&R.push(v[E][w]);if(R.length==0||y[w]==null){P[w]="?";continue}for(E=0;E<R.length;++E){switch(typeof R[E]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=R[E]instanceof Date?"D":"C";break;default:N="C"}C=Math.max(C,String(R[E]).length),A=A&&A!=N?"C":N}C>250&&(C=250),N=((T[w]||{}).DBF||{}).type,N=="C"&&T[w].DBF.len>C&&(C=T[w].DBF.len),A=="B"&&N=="N"&&(A="N",B[w]=T[w].DBF.dec,C=T[w].DBF.len),X[w]=A=="C"||N=="N"?C:i[A]||0,M+=X[w],P[w]=A}var F=p.next(32);for(F.write_shift(4,318902576),F.write_shift(4,v.length),F.write_shift(2,296+32*O),F.write_shift(2,M),w=0;w<4;++w)F.write_shift(4,0);for(F.write_shift(4,0|(+e[nA]||3)<<8),w=0,E=0;w<y.length;++w)if(y[w]!=null){var W=p.next(32),V=(y[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);W.write_shift(1,V,"sbcs"),W.write_shift(1,P[w]=="?"?"C":P[w],"sbcs"),W.write_shift(4,E),W.write_shift(1,X[w]||i[P[w]]||0),W.write_shift(1,B[w]||0),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(1,0),W.write_shift(4,0),W.write_shift(4,0),E+=X[w]||i[P[w]]||0}var Ee=p.next(264);for(Ee.write_shift(4,13),w=0;w<65;++w)Ee.write_shift(4,0);for(w=0;w<v.length;++w){var Pe=p.next(M);for(Pe.write_shift(1,0),E=0;E<y.length;++E)if(y[E]!=null)switch(P[E]){case"L":Pe.write_shift(1,v[w][E]==null?63:v[w][E]?84:70);break;case"B":Pe.write_shift(8,v[w][E]||0,"f");break;case"N":var ze="0";for(typeof v[w][E]=="number"&&(ze=v[w][E].toFixed(B[E]||0)),O=0;O<X[E]-ze.length;++O)Pe.write_shift(1,32);Pe.write_shift(1,ze,"sbcs");break;case"D":v[w][E]?(Pe.write_shift(4,("0000"+v[w][E].getFullYear()).slice(-4),"sbcs"),Pe.write_shift(2,("00"+(v[w][E].getMonth()+1)).slice(-2),"sbcs"),Pe.write_shift(2,("00"+v[w][E].getDate()).slice(-2),"sbcs")):Pe.write_shift(8,"00000000","sbcs");break;case"C":var Le=String(v[w][E]!=null?v[w][E]:"").slice(0,X[E]);for(Pe.write_shift(1,Le,"sbcs"),O=0;O<X[E]-Le.length;++O)Pe.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:s,to_sheet:n,from_sheet:o}})(),dq=(function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ln(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(y,v){var T=t[v];return typeof T=="number"?iT(T):T},n=function(y,v,T){var w=v.charCodeAt(0)-32<<4|T.charCodeAt(0)-48;return w==59?y:iT(w)};t["|"]=254;function s(y,v){switch(v.type){case"base64":return i(za(y),v);case"binary":return i(y,v);case"buffer":return i(ir&&Buffer.isBuffer(y)?y.toString("binary"):W0(y),v);case"array":return i(Om(y),v)}throw new Error("Unrecognized type "+v.type)}function i(y,v){var T=y.split(/[\n\r]+/),w=-1,E=-1,O=0,M=0,U=[],P=[],X=null,B={},A=[],N=[],C=[],R=0,F;for(+v.codepage>=0&&m0(+v.codepage);O!==T.length;++O){R=0;var W=T[O].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),V=W.replace(/;;/g,"\0").split(";").map(function(ee){return ee.replace(/\u0000/g,";")}),Ee=V[0],Pe;if(W.length>0)switch(Ee){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":V[1].charAt(0)=="P"&&P.push(W.slice(3).replace(/;;/g,";"));break;case"C":var ze=!1,Le=!1,we=!1,se=!1,de=-1,ne=-1;for(M=1;M<V.length;++M)switch(V[M].charAt(0)){case"A":break;case"X":E=parseInt(V[M].slice(1))-1,Le=!0;break;case"Y":for(w=parseInt(V[M].slice(1))-1,Le||(E=0),F=U.length;F<=w;++F)U[F]=[];break;case"K":Pe=V[M].slice(1),Pe.charAt(0)==='"'?Pe=Pe.slice(1,Pe.length-1):Pe==="TRUE"?Pe=!0:Pe==="FALSE"?Pe=!1:isNaN(Da(Pe))?isNaN(x0(Pe).getDate())||(Pe=ss(Pe)):(Pe=Da(Pe),X!==null&&mA(X)&&(Pe=vA(Pe))),ze=!0;break;case"E":se=!0;var D=cG(V[M].slice(1),{r:w,c:E});U[w][E]=[U[w][E],D];break;case"S":we=!0,U[w][E]=[U[w][E],"S5S"];break;case"G":break;case"R":de=parseInt(V[M].slice(1))-1;break;case"C":ne=parseInt(V[M].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+W)}if(ze&&(U[w][E]&&U[w][E].length==2?U[w][E][0]=Pe:U[w][E]=Pe,X=null),we){if(se)throw new Error("SYLK shared formula cannot have own formula");var Y=de>-1&&U[de][ne];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");U[w][E][1]=uG(Y[1],{r:w-de,c:E-ne})}break;case"F":var J=0;for(M=1;M<V.length;++M)switch(V[M].charAt(0)){case"X":E=parseInt(V[M].slice(1))-1,++J;break;case"Y":for(w=parseInt(V[M].slice(1))-1,F=U.length;F<=w;++F)U[F]=[];break;case"M":R=parseInt(V[M].slice(1))/20;break;case"F":break;case"G":break;case"P":X=P[parseInt(V[M].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=V[M].slice(1).split(" "),F=parseInt(C[0],10);F<=parseInt(C[1],10);++F)R=parseInt(C[2],10),N[F-1]=R===0?{hidden:!0}:{wch:R},v2(N[F-1]);break;case"C":E=parseInt(V[M].slice(1))-1,N[E]||(N[E]={});break;case"R":w=parseInt(V[M].slice(1))-1,A[w]||(A[w]={}),R>0?(A[w].hpt=R,A[w].hpx=a6(R)):R===0&&(A[w].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+W)}J<1&&(X=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+W)}}return A.length>0&&(B["!rows"]=A),N.length>0&&(B["!cols"]=N),v&&v.sheetRows&&(U=U.slice(0,v.sheetRows)),[U,B]}function o(y,v){var T=s(y,v),w=T[0],E=T[1],O=Fu(w,v);return Ln(E).forEach(function(M){O[M]=E[M]}),O}function u(y,v){return ec(o(y,v),v)}function d(y,v,T,w){var E="C;Y"+(T+1)+";X"+(w+1)+";K";switch(y.t){case"n":E+=y.v||0,y.f&&!y.F&&(E+=";E"+w2(y.f,{r:T,c:w}));break;case"b":E+=y.v?"TRUE":"FALSE";break;case"e":E+=y.w||y.v;break;case"d":E+='"'+(y.w||y.v)+'"';break;case"s":E+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function h(y,v){v.forEach(function(T,w){var E="F;W"+(w+1)+" "+(w+1)+" ";T.hidden?E+="0":(typeof T.width=="number"&&!T.wpx&&(T.wpx=Up(T.width)),typeof T.wpx=="number"&&!T.wch&&(T.wch=zp(T.wpx)),typeof T.wch=="number"&&(E+=Math.round(T.wch))),E.charAt(E.length-1)!=" "&&y.push(E)})}function p(y,v){v.forEach(function(T,w){var E="F;";T.hidden?E+="M0;":T.hpt?E+="M"+20*T.hpt+";":T.hpx&&(E+="M"+20*Hp(T.hpx)+";"),E.length>2&&y.push(E+"R"+(w+1))})}function g(y,v){var T=["ID;PWXL;N;E"],w=[],E=Ir(y["!ref"]),O,M=Array.isArray(y),U=`\r
`;T.push("P;PGeneral"),T.push("F;P0;DG0G8;M255"),y["!cols"]&&h(T,y["!cols"]),y["!rows"]&&p(T,y["!rows"]),T.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var P=E.s.r;P<=E.e.r;++P)for(var X=E.s.c;X<=E.e.c;++X){var B=pr({r:P,c:X});O=M?(y[P]||[])[X]:y[B],!(!O||O.v==null&&(!O.f||O.F))&&w.push(d(O,y,P,X))}return T.join(U)+U+w.join(U)+U+"E"+U}return{to_workbook:u,to_sheet:o,from_sheet:g}})(),hq=(function(){function t(i,o){switch(o.type){case"base64":return e(za(i),o);case"binary":return e(i,o);case"buffer":return e(ir&&Buffer.isBuffer(i)?i.toString("binary"):W0(i),o);case"array":return e(Om(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){for(var u=i.split(`
`),d=-1,h=-1,p=0,g=[];p!==u.length;++p){if(u[p].trim()==="BOT"){g[++d]=[],h=0;continue}if(!(d<0)){var y=u[p].trim().split(","),v=y[0],T=y[1];++p;for(var w=u[p]||"";(w.match(/["]/g)||[]).length&1&&p<u.length-1;)w+=`
`+u[++p];switch(w=w.trim(),+v){case-1:if(w==="BOT"){g[++d]=[],h=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?g[d][h]=!0:w==="FALSE"?g[d][h]=!1:isNaN(Da(T))?isNaN(x0(T).getDate())?g[d][h]=T:g[d][h]=ss(T):g[d][h]=Da(T),++h;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),g[d][h++]=w!==""?w:null;break}if(w==="EOD")break}}return o&&o.sheetRows&&(g=g.slice(0,o.sheetRows)),g}function r(i,o){return Fu(t(i,o),o)}function n(i,o){return ec(r(i,o),o)}var s=(function(){var i=function(d,h,p,g,y){d.push(h),d.push(p+","+g),d.push('"'+y.replace(/"/g,'""')+'"')},o=function(d,h,p,g){d.push(h+","+p),d.push(h==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(d){var h=[],p=Ir(d["!ref"]),g,y=Array.isArray(d);i(h,"TABLE",0,1,"sheetjs"),i(h,"VECTORS",0,p.e.r-p.s.r+1,""),i(h,"TUPLES",0,p.e.c-p.s.c+1,""),i(h,"DATA",0,0,"");for(var v=p.s.r;v<=p.e.r;++v){o(h,-1,0,"BOT");for(var T=p.s.c;T<=p.e.c;++T){var w=pr({r:v,c:T});if(g=y?(d[v]||[])[T]:d[w],!g){o(h,1,0,"");continue}switch(g.t){case"n":var E=g.w;!E&&g.v!=null&&(E=g.v),E==null?g.f&&!g.F?o(h,1,0,"="+g.f):o(h,1,0,""):o(h,0,E,"V");break;case"b":o(h,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":o(h,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=zo(g.z||qr[14],_s(ss(g.v)))),o(h,0,g.w,"V");break;default:o(h,1,0,"")}}}o(h,-1,0,"EOD");var O=`\r
`,M=h.join(O);return M}})();return{to_workbook:n,to_sheet:r,from_sheet:s}})(),r6=(function(){function t(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(g,y){for(var v=g.split(`
`),T=-1,w=-1,E=0,O=[];E!==v.length;++E){var M=v[E].trim().split(":");if(M[0]==="cell"){var U=bn(M[1]);if(O.length<=U.r)for(T=O.length;T<=U.r;++T)O[T]||(O[T]=[]);switch(T=U.r,w=U.c,M[2]){case"t":O[T][w]=t(M[3]);break;case"v":O[T][w]=+M[3];break;case"vtf":var P=M[M.length-1];case"vtc":switch(M[3]){case"nl":O[T][w]=!!+M[4];break;default:O[T][w]=+M[4];break}M[2]=="vtf"&&(O[T][w]=[O[T][w],P])}}}return y&&y.sheetRows&&(O=O.slice(0,y.sheetRows)),O}function n(g,y){return Fu(r(g,y),y)}function s(g,y){return ec(n(g,y),y)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function h(g){if(!g||!g["!ref"])return"";for(var y=[],v=[],T,w="",E=Hs(g["!ref"]),O=Array.isArray(g),M=E.s.r;M<=E.e.r;++M)for(var U=E.s.c;U<=E.e.c;++U)if(w=pr({r:M,c:U}),T=O?(g[M]||[])[U]:g[w],!(!T||T.v==null||T.t==="z")){switch(v=["cell",w,"t"],T.t){case"s":case"str":v.push(e(T.v));break;case"n":T.f?(v[2]="vtf",v[3]="n",v[4]=T.v,v[5]=e(T.f)):(v[2]="v",v[3]=T.v);break;case"b":v[2]="vt"+(T.f?"f":"c"),v[3]="nl",v[4]=T.v?"1":"0",v[5]=e(T.f||(T.v?"TRUE":"FALSE"));break;case"d":var P=_s(ss(T.v));v[2]="vtc",v[3]="nd",v[4]=""+P,v[5]=T.w||zo(T.z||qr[14],P);break;case"e":continue}y.push(v.join(":"))}return y.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function p(g){return[i,o,u,o,h(g),d].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:p}})(),fq=(function(){function t(p,g,y,v,T){T.raw?g[y][v]=p:p===""||(p==="TRUE"?g[y][v]=!0:p==="FALSE"?g[y][v]=!1:isNaN(Da(p))?isNaN(x0(p).getDate())?g[y][v]=p:g[y][v]=ss(p):g[y][v]=Da(p))}function e(p,g){var y=g||{},v=[];if(!p||p.length===0)return v;for(var T=p.split(/[\r\n]/),w=T.length-1;w>=0&&T[w].length===0;)--w;for(var E=10,O=0,M=0;M<=w;++M)O=T[M].indexOf(" "),O==-1?O=T[M].length:O++,E=Math.max(E,O);for(M=0;M<=w;++M){v[M]=[];var U=0;for(t(T[M].slice(0,E).trim(),v,M,U,y),U=1;U<=(T[M].length-E)/10+1;++U)t(T[M].slice(E+(U-1)*10,E+U*10).trim(),v,M,U,y)}return y.sheetRows&&(v=v.slice(0,y.sheetRows)),v}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(p){for(var g={},y=!1,v=0,T=0;v<p.length;++v)(T=p.charCodeAt(v))==34?y=!y:!y&&T in r&&(g[T]=(g[T]||0)+1);T=[];for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&T.push([g[v],v]);if(!T.length){g=n;for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&T.push([g[v],v])}return T.sort(function(w,E){return w[0]-E[0]||n[w[1]]-n[E[1]]}),r[T.pop()[1]]||44}function i(p,g){var y=g||{},v="",T=y.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(v=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(v=p.charAt(4),p=p.slice(6)):v=s(p.slice(0,1024)):y&&y.FS?v=y.FS:v=s(p.slice(0,1024));var E=0,O=0,M=0,U=0,P=0,X=v.charCodeAt(0),B=!1,A=0,N=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var C=y.dateNF!=null?CH(y.dateNF):null;function R(){var F=p.slice(U,P),W={};if(F.charAt(0)=='"'&&F.charAt(F.length-1)=='"'&&(F=F.slice(1,-1).replace(/""/g,'"')),F.length===0)W.t="z";else if(y.raw)W.t="s",W.v=F;else if(F.trim().length===0)W.t="s",W.v=F;else if(F.charCodeAt(0)==61)F.charCodeAt(1)==34&&F.charCodeAt(F.length-1)==34?(W.t="s",W.v=F.slice(2,-1).replace(/""/g,'"')):dG(F)?(W.t="n",W.f=F.slice(1)):(W.t="s",W.v=F);else if(F=="TRUE")W.t="b",W.v=!0;else if(F=="FALSE")W.t="b",W.v=!1;else if(!isNaN(M=Da(F)))W.t="n",y.cellText!==!1&&(W.w=F),W.v=M;else if(!isNaN(x0(F).getDate())||C&&F.match(C)){W.z=y.dateNF||qr[14];var V=0;C&&F.match(C)&&(F=IH(F,y.dateNF,F.match(C)||[]),V=1),y.cellDates?(W.t="d",W.v=ss(F,V)):(W.t="n",W.v=_s(ss(F,V))),y.cellText!==!1&&(W.w=zo(W.z,W.v instanceof Date?_s(W.v):W.v)),y.cellNF||delete W.z}else W.t="s",W.v=F;if(W.t=="z"||(y.dense?(T[E]||(T[E]=[]),T[E][O]=W):T[pr({c:O,r:E})]=W),U=P+1,N=p.charCodeAt(U),w.e.c<O&&(w.e.c=O),w.e.r<E&&(w.e.r=E),A==X)++O;else if(O=0,++E,y.sheetRows&&y.sheetRows<=E)return!0}e:for(;P<p.length;++P)switch(A=p.charCodeAt(P)){case 34:N===34&&(B=!B);break;case X:case 10:case 13:if(!B&&R())break e;break}return P-U>0&&R(),T["!ref"]=nn(w),T}function o(p,g){return!(g&&g.PRN)||g.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?i(p,g):Fu(e(p,g),g)}function u(p,g){var y="",v=g.type=="string"?[0,0,0,0]:kQ(p,g);switch(g.type){case"base64":y=za(p);break;case"binary":y=p;break;case"buffer":g.codepage==65001?y=p.toString("utf8"):g.codepage&&typeof Rp<"u"||(y=ir&&Buffer.isBuffer(p)?p.toString("binary"):W0(p));break;case"array":y=Om(p);break;case"string":y=p;break;default:throw new Error("Unrecognized type "+g.type)}return v[0]==239&&v[1]==187&&v[2]==191?y=zd(y.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?y=zd(y):g.type=="binary"&&typeof Rp<"u",y.slice(0,19)=="socialcalc:version:"?r6.to_sheet(g.type=="string"?y:zd(y),g):o(y,g)}function d(p,g){return ec(u(p,g),g)}function h(p){for(var g=[],y=Ir(p["!ref"]),v,T=Array.isArray(p),w=y.s.r;w<=y.e.r;++w){for(var E=[],O=y.s.c;O<=y.e.c;++O){var M=pr({r:w,c:O});if(v=T?(p[w]||[])[O]:p[M],!v||v.v==null){E.push("          ");continue}for(var U=(v.w||(Ha(v),v.w)||"").slice(0,10);U.length<10;)U+=" ";E.push(U+(O===0?" ":""))}g.push(E.join(""))}return g.join(`
`)}return{to_workbook:d,to_sheet:u,from_sheet:h}})(),FT=(function(){function t(D,Y,J){if(D){Ds(D,D.l||0);for(var ee=J.Enum||de;D.l<D.length;){var ie=D.read_shift(2),Ae=ee[ie]||ee[65535],De=D.read_shift(2),ke=D.l+De,je=Ae.f&&Ae.f(D,De,J);if(D.l=ke,Y(je,Ae,ie))return}}}function e(D,Y){switch(Y.type){case"base64":return r(Ni(za(D)),Y);case"binary":return r(Ni(D),Y);case"buffer":case"array":return r(D,Y)}throw"Unsupported type "+Y.type}function r(D,Y){if(!D)return D;var J=Y||{},ee=J.dense?[]:{},ie="Sheet1",Ae="",De=0,ke={},je=[],nt=[],dt={s:{r:0,c:0},e:{r:0,c:0}},pt=J.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)J.Enum=de,t(D,function(Ge,ar,St){switch(St){case 0:J.vers=Ge,Ge>=4096&&(J.qpro=!0);break;case 6:dt=Ge;break;case 204:Ge&&(Ae=Ge);break;case 222:Ae=Ge;break;case 15:case 51:J.qpro||(Ge[1].v=Ge[1].v.slice(1));case 13:case 14:case 16:St==14&&(Ge[2]&112)==112&&(Ge[2]&15)>1&&(Ge[2]&15)<15&&(Ge[1].z=J.dateNF||qr[14],J.cellDates&&(Ge[1].t="d",Ge[1].v=vA(Ge[1].v))),J.qpro&&Ge[3]>De&&(ee["!ref"]=nn(dt),ke[ie]=ee,je.push(ie),ee=J.dense?[]:{},dt={s:{r:0,c:0},e:{r:0,c:0}},De=Ge[3],ie=Ae||"Sheet"+(De+1),Ae="");var Kt=J.dense?(ee[Ge[0].r]||[])[Ge[0].c]:ee[pr(Ge[0])];if(Kt){Kt.t=Ge[1].t,Kt.v=Ge[1].v,Ge[1].z!=null&&(Kt.z=Ge[1].z),Ge[1].f!=null&&(Kt.f=Ge[1].f);break}J.dense?(ee[Ge[0].r]||(ee[Ge[0].r]=[]),ee[Ge[0].r][Ge[0].c]=Ge[1]):ee[pr(Ge[0])]=Ge[1];break}},J);else if(D[2]==26||D[2]==14)J.Enum=ne,D[2]==14&&(J.qpro=!0,D.l=0),t(D,function(Ge,ar,St){switch(St){case 204:ie=Ge;break;case 22:Ge[1].v=Ge[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ge[3]>De&&(ee["!ref"]=nn(dt),ke[ie]=ee,je.push(ie),ee=J.dense?[]:{},dt={s:{r:0,c:0},e:{r:0,c:0}},De=Ge[3],ie="Sheet"+(De+1)),pt>0&&Ge[0].r>=pt)break;J.dense?(ee[Ge[0].r]||(ee[Ge[0].r]=[]),ee[Ge[0].r][Ge[0].c]=Ge[1]):ee[pr(Ge[0])]=Ge[1],dt.e.c<Ge[0].c&&(dt.e.c=Ge[0].c),dt.e.r<Ge[0].r&&(dt.e.r=Ge[0].r);break;case 27:Ge[14e3]&&(nt[Ge[14e3][0]]=Ge[14e3][1]);break;case 1537:nt[Ge[0]]=Ge[1],Ge[0]==De&&(ie=Ge[1]);break}},J);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(ee["!ref"]=nn(dt),ke[Ae||ie]=ee,je.push(Ae||ie),!nt.length)return{SheetNames:je,Sheets:ke};for(var Fe={},wr=[],Dt=0;Dt<nt.length;++Dt)ke[je[Dt]]?(wr.push(nt[Dt]||je[Dt]),Fe[nt[Dt]]=ke[nt[Dt]]||ke[je[Dt]]):(wr.push(nt[Dt]),Fe[nt[Dt]]={"!ref":"A1"});return{SheetNames:wr,Sheets:Fe}}function n(D,Y){var J=Y||{};if(+J.codepage>=0&&m0(+J.codepage),J.type=="string")throw new Error("Cannot write WK1 to JS string");var ee=ws(),ie=Ir(D["!ref"]),Ae=Array.isArray(D),De=[];Je(ee,0,i(1030)),Je(ee,6,d(ie));for(var ke=Math.min(ie.e.r,8191),je=ie.s.r;je<=ke;++je)for(var nt=On(je),dt=ie.s.c;dt<=ie.e.c;++dt){je===ie.s.r&&(De[dt]=qn(dt));var pt=De[dt]+nt,Fe=Ae?(D[je]||[])[dt]:D[pt];if(!(!Fe||Fe.t=="z"))if(Fe.t=="n")(Fe.v|0)==Fe.v&&Fe.v>=-32768&&Fe.v<=32767?Je(ee,13,v(je,dt,Fe.v)):Je(ee,14,w(je,dt,Fe.v));else{var wr=Ha(Fe);Je(ee,15,g(je,dt,wr.slice(0,239)))}}return Je(ee,1),ee.end()}function s(D,Y){var J=Y||{};if(+J.codepage>=0&&m0(+J.codepage),J.type=="string")throw new Error("Cannot write WK3 to JS string");var ee=ws();Je(ee,0,o(D));for(var ie=0,Ae=0;ie<D.SheetNames.length;++ie)(D.Sheets[D.SheetNames[ie]]||{})["!ref"]&&Je(ee,27,se(D.SheetNames[ie],Ae++));var De=0;for(ie=0;ie<D.SheetNames.length;++ie){var ke=D.Sheets[D.SheetNames[ie]];if(!(!ke||!ke["!ref"])){for(var je=Ir(ke["!ref"]),nt=Array.isArray(ke),dt=[],pt=Math.min(je.e.r,8191),Fe=je.s.r;Fe<=pt;++Fe)for(var wr=On(Fe),Dt=je.s.c;Dt<=je.e.c;++Dt){Fe===je.s.r&&(dt[Dt]=qn(Dt));var Ge=dt[Dt]+wr,ar=nt?(ke[Fe]||[])[Dt]:ke[Ge];if(!(!ar||ar.t=="z"))if(ar.t=="n")Je(ee,23,R(Fe,Dt,De,ar.v));else{var St=Ha(ar);Je(ee,22,A(Fe,Dt,De,St.slice(0,239)))}}++De}}return Je(ee,1),ee.end()}function i(D){var Y=Te(2);return Y.write_shift(2,D),Y}function o(D){var Y=Te(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var J=0,ee=0,ie=0,Ae=0;Ae<D.SheetNames.length;++Ae){var De=D.SheetNames[Ae],ke=D.Sheets[De];if(!(!ke||!ke["!ref"])){++ie;var je=Hs(ke["!ref"]);J<je.e.r&&(J=je.e.r),ee<je.e.c&&(ee=je.e.c)}}return J>8191&&(J=8191),Y.write_shift(2,J),Y.write_shift(1,ie),Y.write_shift(1,ee),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function u(D,Y,J){var ee={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&J.qpro?(ee.s.c=D.read_shift(1),D.l++,ee.s.r=D.read_shift(2),ee.e.c=D.read_shift(1),D.l++,ee.e.r=D.read_shift(2),ee):(ee.s.c=D.read_shift(2),ee.s.r=D.read_shift(2),Y==12&&J.qpro&&(D.l+=2),ee.e.c=D.read_shift(2),ee.e.r=D.read_shift(2),Y==12&&J.qpro&&(D.l+=2),ee.s.c==65535&&(ee.s.c=ee.e.c=ee.s.r=ee.e.r=0),ee)}function d(D){var Y=Te(8);return Y.write_shift(2,D.s.c),Y.write_shift(2,D.s.r),Y.write_shift(2,D.e.c),Y.write_shift(2,D.e.r),Y}function h(D,Y,J){var ee=[{c:0,r:0},{t:"n",v:0},0,0];return J.qpro&&J.vers!=20768?(ee[0].c=D.read_shift(1),ee[3]=D.read_shift(1),ee[0].r=D.read_shift(2),D.l+=2):(ee[2]=D.read_shift(1),ee[0].c=D.read_shift(2),ee[0].r=D.read_shift(2)),ee}function p(D,Y,J){var ee=D.l+Y,ie=h(D,Y,J);if(ie[1].t="s",J.vers==20768){D.l++;var Ae=D.read_shift(1);return ie[1].v=D.read_shift(Ae,"utf8"),ie}return J.qpro&&D.l++,ie[1].v=D.read_shift(ee-D.l,"cstr"),ie}function g(D,Y,J){var ee=Te(7+J.length);ee.write_shift(1,255),ee.write_shift(2,Y),ee.write_shift(2,D),ee.write_shift(1,39);for(var ie=0;ie<ee.length;++ie){var Ae=J.charCodeAt(ie);ee.write_shift(1,Ae>=128?95:Ae)}return ee.write_shift(1,0),ee}function y(D,Y,J){var ee=h(D,Y,J);return ee[1].v=D.read_shift(2,"i"),ee}function v(D,Y,J){var ee=Te(7);return ee.write_shift(1,255),ee.write_shift(2,Y),ee.write_shift(2,D),ee.write_shift(2,J,"i"),ee}function T(D,Y,J){var ee=h(D,Y,J);return ee[1].v=D.read_shift(8,"f"),ee}function w(D,Y,J){var ee=Te(13);return ee.write_shift(1,255),ee.write_shift(2,Y),ee.write_shift(2,D),ee.write_shift(8,J,"f"),ee}function E(D,Y,J){var ee=D.l+Y,ie=h(D,Y,J);if(ie[1].v=D.read_shift(8,"f"),J.qpro)D.l=ee;else{var Ae=D.read_shift(2);P(D.slice(D.l,D.l+Ae),ie),D.l+=Ae}return ie}function O(D,Y,J){var ee=Y&32768;return Y&=-32769,Y=(ee?D:0)+(Y>=8192?Y-16384:Y),(ee?"":"$")+(J?qn(Y):On(Y))}var M={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},U=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function P(D,Y){Ds(D,0);for(var J=[],ee=0,ie="",Ae="",De="",ke="";D.l<D.length;){var je=D[D.l++];switch(je){case 0:J.push(D.read_shift(8,"f"));break;case 1:Ae=O(Y[0].c,D.read_shift(2),!0),ie=O(Y[0].r,D.read_shift(2),!1),J.push(Ae+ie);break;case 2:{var nt=O(Y[0].c,D.read_shift(2),!0),dt=O(Y[0].r,D.read_shift(2),!1);Ae=O(Y[0].c,D.read_shift(2),!0),ie=O(Y[0].r,D.read_shift(2),!1),J.push(nt+dt+":"+Ae+ie)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:J.push("("+J.pop()+")");break;case 5:J.push(D.read_shift(2));break;case 6:{for(var pt="";je=D[D.l++];)pt+=String.fromCharCode(je);J.push('"'+pt.replace(/"/g,'""')+'"')}break;case 8:J.push("-"+J.pop());break;case 23:J.push("+"+J.pop());break;case 22:J.push("NOT("+J.pop()+")");break;case 20:case 21:ke=J.pop(),De=J.pop(),J.push(["AND","OR"][je-20]+"("+De+","+ke+")");break;default:if(je<32&&U[je])ke=J.pop(),De=J.pop(),J.push(De+U[je]+ke);else if(M[je]){if(ee=M[je][1],ee==69&&(ee=D[D.l++]),ee>J.length){console.error("WK1 bad formula parse 0x"+je.toString(16)+":|"+J.join("|")+"|");return}var Fe=J.slice(-ee);J.length-=ee,J.push(M[je][0]+"("+Fe.join(",")+")")}else return je<=7?console.error("WK1 invalid opcode "+je.toString(16)):je<=24?console.error("WK1 unsupported op "+je.toString(16)):je<=30?console.error("WK1 invalid opcode "+je.toString(16)):je<=115?console.error("WK1 unsupported function opcode "+je.toString(16)):console.error("WK1 unrecognized opcode "+je.toString(16))}}J.length==1?Y[1].f=""+J[0]:console.error("WK1 bad formula parse |"+J.join("|")+"|")}function X(D){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=D.read_shift(2),Y[3]=D[D.l++],Y[0].c=D[D.l++],Y}function B(D,Y){var J=X(D);return J[1].t="s",J[1].v=D.read_shift(Y-4,"cstr"),J}function A(D,Y,J,ee){var ie=Te(6+ee.length);ie.write_shift(2,D),ie.write_shift(1,J),ie.write_shift(1,Y),ie.write_shift(1,39);for(var Ae=0;Ae<ee.length;++Ae){var De=ee.charCodeAt(Ae);ie.write_shift(1,De>=128?95:De)}return ie.write_shift(1,0),ie}function N(D,Y){var J=X(D);J[1].v=D.read_shift(2);var ee=J[1].v>>1;if(J[1].v&1)switch(ee&7){case 0:ee=(ee>>3)*5e3;break;case 1:ee=(ee>>3)*500;break;case 2:ee=(ee>>3)/20;break;case 3:ee=(ee>>3)/200;break;case 4:ee=(ee>>3)/2e3;break;case 5:ee=(ee>>3)/2e4;break;case 6:ee=(ee>>3)/16;break;case 7:ee=(ee>>3)/64;break}return J[1].v=ee,J}function C(D,Y){var J=X(D),ee=D.read_shift(4),ie=D.read_shift(4),Ae=D.read_shift(2);if(Ae==65535)return ee===0&&ie===3221225472?(J[1].t="e",J[1].v=15):ee===0&&ie===3489660928?(J[1].t="e",J[1].v=42):J[1].v=0,J;var De=Ae&32768;return Ae=(Ae&32767)-16446,J[1].v=(1-De*2)*(ie*Math.pow(2,Ae+32)+ee*Math.pow(2,Ae)),J}function R(D,Y,J,ee){var ie=Te(14);if(ie.write_shift(2,D),ie.write_shift(1,J),ie.write_shift(1,Y),ee==0)return ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(2,65535),ie;var Ae=0,De=0,ke=0,je=0;return ee<0&&(Ae=1,ee=-ee),De=Math.log2(ee)|0,ee/=Math.pow(2,De-31),je=ee>>>0,(je&2147483648)==0&&(ee/=2,++De,je=ee>>>0),ee-=je,je|=2147483648,je>>>=0,ee*=Math.pow(2,32),ke=ee>>>0,ie.write_shift(4,ke),ie.write_shift(4,je),De+=16383+(Ae?32768:0),ie.write_shift(2,De),ie}function F(D,Y){var J=C(D);return D.l+=Y-14,J}function W(D,Y){var J=X(D),ee=D.read_shift(4);return J[1].v=ee>>6,J}function V(D,Y){var J=X(D),ee=D.read_shift(8,"f");return J[1].v=ee,J}function Ee(D,Y){var J=V(D);return D.l+=Y-10,J}function Pe(D,Y){return D[D.l+Y-1]==0?D.read_shift(Y,"cstr"):""}function ze(D,Y){var J=D[D.l++];J>Y-1&&(J=Y-1);for(var ee="";ee.length<J;)ee+=String.fromCharCode(D[D.l++]);return ee}function Le(D,Y,J){if(!(!J.qpro||Y<21)){var ee=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var ie=D.read_shift(Y-21,"cstr");return[ee,ie]}}function we(D,Y){for(var J={},ee=D.l+Y;D.l<ee;){var ie=D.read_shift(2);if(ie==14e3){for(J[ie]=[0,""],J[ie][0]=D.read_shift(2);D[D.l];)J[ie][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return J}function se(D,Y){var J=Te(5+D.length);J.write_shift(2,14e3),J.write_shift(2,Y);for(var ee=0;ee<D.length;++ee){var ie=D.charCodeAt(ee);J[J.l++]=ie>127?95:ie}return J[J.l++]=0,J}var de={0:{n:"BOF",f:QA},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:T},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Pe},222:{n:"SHEETNAMELP",f:ze},65535:{n:""}},ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:B},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:F},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:we},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:W},38:{n:"??"},39:{n:"NUMBER27",f:V},40:{n:"FORMULA28",f:Ee},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Pe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Le},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:e}})(),pq=/^\s|\s$|[\t\n\r]/;function n6(t,e){if(!e.bookSST)return"";var r=[sn];r[r.length]=Qe("sst",null,{xmlns:Ou[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var s=t[n],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(pq)&&(i+=' xml:space="preserve"'),i+=">"+fr(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function mq(t){return[t.read_shift(4),t.read_shift(4)]}function gq(t,e){return e||(e=Te(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var xq=oW;function yq(t){var e=ws();Me(e,159,gq(t));for(var r=0;r<t.length;++r)Me(e,19,xq(t[r]));return Me(e,160),e.end()}function vq(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function s6(t){var e=0,r,n=vq(t),s=n.length+1,i,o,u,d,h;for(r=Vl(s),r[0]=n.length,i=1;i!=s;++i)r[i]=n[i-1];for(i=s-1;i>=0;--i)o=r[i],u=(e&16384)===0?0:1,d=e<<1&32767,h=u|d,e=h^o;return e^52811}var bq=(function(){function t(s,i){switch(i.type){case"base64":return e(za(s),i);case"binary":return e(s,i);case"buffer":return e(ir&&Buffer.isBuffer(s)?s.toString("binary"):W0(s),i);case"array":return e(Om(s),i)}throw new Error("Unrecognized type "+i.type)}function e(s,i){var o=i||{},u=o.dense?[]:{},d=s.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(p,g){Array.isArray(u)&&(u[g]=[]);for(var y=/\\\w+\b/g,v=0,T,w=-1;T=y.exec(p);){switch(T[0]){case"\\cell":var E=p.slice(v,y.lastIndex-T[0].length);if(E[0]==" "&&(E=E.slice(1)),++w,E.length){var O={v:E,t:"s"};Array.isArray(u)?u[g][w]=O:u[pr({r:g,c:w})]=O}break}v=y.lastIndex}w>h.e.c&&(h.e.c=w)}),u["!ref"]=nn(h),u}function r(s,i){return ec(t(s,i),i)}function n(s){for(var i=["{\\rtf1\\ansi"],o=Ir(s["!ref"]),u,d=Array.isArray(s),h=o.s.r;h<=o.e.r;++h){i.push("\\trowd\\trautofit1");for(var p=o.s.c;p<=o.e.c;++p)i.push("\\cellx"+(p+1));for(i.push("\\pard\\intbl"),p=o.s.c;p<=o.e.c;++p){var g=pr({r:h,c:p});u=d?(s[h]||[])[p]:s[g],!(!u||u.v==null&&(!u.f||u.F))&&(i.push(" "+(u.w||(Ha(u),u.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function LT(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var wq=6,Oa=wq;function Up(t){return Math.floor((t+Math.round(128/Oa)/256)*Oa)}function zp(t){return Math.floor((t-5)/Oa*100+.5)/100}function e1(t){return Math.round((t*Oa+5)/Oa*256)/256}function v2(t){t.width?(t.wpx=Up(t.width),t.wch=zp(t.wpx),t.MDW=Oa):t.wpx?(t.wch=zp(t.wpx),t.width=e1(t.wch),t.MDW=Oa):typeof t.wch=="number"&&(t.width=e1(t.wch),t.wpx=Up(t.width),t.MDW=Oa),t.customWidth&&delete t.customWidth}var _q=96,i6=_q;function Hp(t){return t*96/i6}function a6(t){return t*i6/96}function Eq(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=Qe("numFmt",null,{numFmtId:n,formatCode:fr(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Qe("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Tq(t){var e=[];return e[e.length]=Qe("cellXfs",null),t.forEach(function(r){e[e.length]=Qe("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Qe("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function o6(t,e){var r=[sn,Qe("styleSheet",null,{xmlns:Ou[0],"xmlns:vt":vn.vt})],n;return t.SSF&&(n=Eq(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Tq(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function kq(t,e){var r=t.read_shift(2),n=Gn(t);return[r,n]}function Nq(t,e,r){r||(r=Te(6+4*e.length)),r.write_shift(2,t),wn(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Sq(t,e,r){var n={};n.sz=t.read_shift(2)/20;var s=pW(t);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var i=t.read_shift(2);switch(i===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(n.underline=o);var u=t.read_shift(1);u>0&&(n.family=u);var d=t.read_shift(1);switch(d>0&&(n.charset=d),t.l++,n.color=fW(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Gn(t),n}function Aq(t,e){e||(e=Te(153)),e.write_shift(2,t.sz*20),mW(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Vp(t.color,e);var n=0;return n=2,e.write_shift(1,n),wn(t.name,e),e.length>e.l?e.slice(0,e.l):e}var Cq=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Qx,Iq=ua;function MT(t,e){e||(e=Te(84)),Qx||(Qx=o2(Cq));var r=Qx[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(Vp({auto:1},e),Vp({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function jq(t,e){var r=t.l+e,n=t.read_shift(2),s=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:s}}function l6(t,e,r){r||(r=Te(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function bd(t,e){return e||(e=Te(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Pq=ua;function Rq(t,e){return e||(e=Te(51)),e.write_shift(1,0),bd(null,e),bd(null,e),bd(null,e),bd(null,e),bd(null,e),e.length>e.l?e.slice(0,e.l):e}function Dq(t,e){return e||(e=Te(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),$p(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Oq(t,e,r){var n=Te(2052);return n.write_shift(4,t),$p(e,n),$p(r,n),n.length>n.l?n.slice(0,n.l):n}function Fq(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&++r}),r!=0&&(Me(t,615,ji(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&Me(t,44,Nq(s,e[s]))}),Me(t,616))}}function Lq(t){var e=1;Me(t,611,ji(e)),Me(t,43,Aq({sz:12,color:{theme:1},name:"Calibri",family:2})),Me(t,612)}function Mq(t){var e=2;Me(t,603,ji(e)),Me(t,45,MT({patternType:"none"})),Me(t,45,MT({patternType:"gray125"})),Me(t,604)}function $q(t){var e=1;Me(t,613,ji(e)),Me(t,46,Rq()),Me(t,614)}function Vq(t){var e=1;Me(t,626,ji(e)),Me(t,47,l6({numFmtId:0},65535)),Me(t,627)}function Bq(t,e){Me(t,617,ji(e.length)),e.forEach(function(r){Me(t,47,l6(r,0))}),Me(t,618)}function Uq(t){var e=1;Me(t,619,ji(e)),Me(t,48,Dq({xfId:0,name:"Normal"})),Me(t,620)}function zq(t){var e=0;Me(t,505,ji(e)),Me(t,506)}function Hq(t){var e=0;Me(t,508,Oq(e,"TableStyleMedium9","PivotStyleMedium4")),Me(t,509)}function Wq(t,e){var r=ws();return Me(r,278),Fq(r,t.SSF),Lq(r),Mq(r),$q(r),Vq(r),Bq(r,e.cellXfs),Uq(r),zq(r),Hq(r),Me(r,279),r.end()}function c6(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[sn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function qq(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Gn(t)}}function Gq(t){var e=Te(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),wn(t.name,e),e.slice(0,e.l)}function Kq(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function Xq(t){var e=Te(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function Yq(t,e){var r=Te(8+2*e.length);return r.write_shift(4,t),wn(e,r),r.slice(0,r.l)}function Qq(t){return t.l+=4,t.read_shift(4)!=0}function Jq(t,e){var r=Te(8);return r.write_shift(4,t),r.write_shift(4,1),r}function Zq(){var t=ws();return Me(t,332),Me(t,334,ji(1)),Me(t,335,Gq({name:"XLDAPR",version:12e4,flags:3496657072})),Me(t,336),Me(t,339,Yq(1,"XLDAPR")),Me(t,52),Me(t,35,ji(514)),Me(t,4096,ji(0)),Me(t,4097,ii(1)),Me(t,36),Me(t,53),Me(t,340),Me(t,337,Jq(1)),Me(t,51,Xq([[1,0]])),Me(t,338),Me(t,333),t.end()}function u6(){var t=[sn];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function eG(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=pr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Zc=1024;function d6(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[Qe("xml",null,{"xmlns:v":Os.v,"xmlns:o":Os.o,"xmlns:x":Os.x,"xmlns:mv":Os.mv}).replace(/\/>/,">"),Qe("o:shapelayout",Qe("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Qe("v:shapetype",[Qe("v:stroke",null,{joinstyle:"miter"}),Qe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Zc<t*1e3;)Zc+=1e3;return e.forEach(function(i){var o=bn(i[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var d=u.type=="gradient"?Qe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=Qe("v:fill",d,u),p={on:"t",obscured:"t"};++Zc,s=s.concat(["<v:shape"+v0({id:"_x0000_s"+Zc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,Qe("v:shadow",null,p),Qe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Rn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Rn("x:AutoFill","False"),Rn("x:Row",String(o.r)),Rn("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function h6(t){var e=[sn,Qe("comments",null,{xmlns:Ou[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(s){var i=fr(s.a);r.indexOf(i)==-1&&(r.push(i),e.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var s=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(d){d.a&&(s=r.indexOf(fr(d.a))),i.push(d.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),i.length<=1)e.push(Rn("t",fr(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,u=1;u<i.length;++u)o+=`Reply:
    `+i[u]+`
`;e.push(Rn("t",fr(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function tG(t,e,r){var n=[sn,Qe("ThreadedComments",null,{xmlns:vn.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,u){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var d={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};u==0?i=d.id:d.parentId=i,o.ID=d.id,o.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),n.push(Qe("threadedComment",Rn("text",o.t||""),d))})}),n.push("</ThreadedComments>"),n.join("")}function rG(t){var e=[sn,Qe("personList",null,{xmlns:vn.TCMNT,"xmlns:x":Ou[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(Qe("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function nG(t){var e={};e.iauthor=t.read_shift(4);var r=sc(t);return e.rfx=r.s,e.ref=pr(r.s),t.l+=16,e}function sG(t,e){return e==null&&(e=Te(36)),e.write_shift(4,t[1].iauthor),Lu(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var iG=Gn;function aG(t){return wn(t.slice(0,54))}function oG(t){var e=ws(),r=[];return Me(e,628),Me(e,630),t.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),Me(e,632,aG(s.a)))})}),Me(e,631),Me(e,633),t.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:bn(n[0]),e:bn(n[0])};Me(e,635,sG([i,s])),s.t&&s.t.length>0&&Me(e,637,cW(s)),Me(e,636),delete s.iauthor})}),Me(e,634),Me(e,629),e.end()}function lG(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&gr.utils.cfb_add(t,s,e.FileIndex[n].content)}})}var f6=["xlsb","xlsm","xlam","biff8","xla"],cG=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,s,i,o){var u=!1,d=!1;i.length==0?d=!0:i.charAt(0)=="["&&(d=!0,i=i.slice(1,-1)),o.length==0?u=!0:o.charAt(0)=="["&&(u=!0,o=o.slice(1,-1));var h=i.length>0?parseInt(i,10)|0:0,p=o.length>0?parseInt(o,10)|0:0;return u?p+=e.c:--p,d?h+=e.r:--h,s+(u?"":"$")+qn(p)+(d?"":"$")+On(h)}return function(s,i){return e=i,s.replace(t,r)}})(),b2=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,w2=(function(){return function(e,r){return e.replace(b2,function(n,s,i,o,u,d){var h=p2(o)-(i?0:r.c),p=f2(d)-(u?0:r.r),g=p==0?"":u?p+1:"["+p+"]",y=h==0?"":i?h+1:"["+h+"]";return s+"R"+g+"C"+y})}})();function uG(t,e){return t.replace(b2,function(r,n,s,i,o,u){return n+(s=="$"?s+i:qn(p2(i)+e.c))+(o=="$"?o+u:On(f2(u)+e.r))})}function dG(t){return t.length!=1}function en(t){t.l+=1}function Ho(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function p6(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return m6(t);r.biff==12&&(n=4)}var s=t.read_shift(n),i=t.read_shift(n),o=Ho(t),u=Ho(t);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:u[0],cRel:u[1],rRel:u[2]}}}function m6(t){var e=Ho(t),r=Ho(t),n=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function hG(t,e,r){if(r.biff<8)return m6(t);var n=t.read_shift(r.biff==12?4:2),s=t.read_shift(r.biff==12?4:2),i=Ho(t),o=Ho(t);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function g6(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return fG(t);var n=t.read_shift(r&&r.biff==12?4:2),s=Ho(t);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function fG(t){var e=Ho(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function pG(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function mG(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return gG(t);var s=t.read_shift(n>=12?4:2),i=t.read_shift(2),o=(i&16384)>>14,u=(i&32768)>>15;if(i&=16383,u==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:u}}function gG(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),s==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:s,rRel:n}}function xG(t,e,r){var n=(t[t.l++]&96)>>5,s=p6(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function yG(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var o=p6(t,i,r);return[n,s,o]}function vG(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function bG(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[n,s]}function wG(t,e,r){var n=(t[t.l++]&96)>>5,s=hG(t,e-1,r);return[n,s]}function _G(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function $T(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function EG(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=n;++i)s.push(t.read_shift(r&&r.biff==2?1:2));return s}function TG(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function kG(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function NG(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function SG(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function x6(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function AG(t){return t.read_shift(2),x6(t)}function CG(t){return t.read_shift(2),x6(t)}function IG(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=g6(t,0,r);return[n,s]}function jG(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=mG(t,0,r);return[n,s]}function PG(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var i=g6(t,0,r);return[n,s,i]}function RG(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(r&&r.biff<=3?1:2);return[RK[s],b6[s],n]}function DG(t,e,r){var n=t[t.l++],s=t.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:OG(t);return[s,(i[0]===0?b6:PK)[i[1]]]}function OG(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function FG(t,e,r){t.l+=r&&r.biff==2?3:4}function LG(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function MG(t){return t.l++,K0[t.read_shift(1)]}function $G(t){return t.l++,t.read_shift(2)}function VG(t){return t.l++,t.read_shift(1)!==0}function BG(t){return t.l++,Mu(t)}function UG(t,e,r){return t.l++,ZA(t,e-1,r)}function zG(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=PW(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=K0[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Mu(t);break;case 2:r[1]=FW(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function HG(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),s=[],i=0;i!=n;++i)s.push((r.biff==12?sc:$W)(t));return s}function WG(t,e,r){var n=0,s=0;r.biff==12?(n=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var u=0;u!=s;++u)o[i][u]=zG(t,r.biff);return o}function qG(t,e,r){var n=t.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=t.read_shift(s);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,i]}function GG(t,e,r){if(r.biff==5)return KG(t);var n=t.read_shift(1)>>>5&3,s=t.read_shift(2),i=t.read_shift(4);return[n,s,i]}function KG(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function XG(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function YG(t,e,r){var n=t.read_shift(1)>>>5&3,s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function QG(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function JG(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[n,s]}var ZG=ua,eK=ua,tK=ua;function X0(t,e,r){return t.l+=2,[pG(t)]}function _2(t){return t.l+=6,[]}var rK=X0,nK=_2,sK=_2,iK=X0;function y6(t){return t.l+=2,[QA(t),t.read_shift(2)&1]}var aK=X0,oK=y6,lK=_2,cK=X0,uK=X0,dK=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function hK(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),s=t.read_shift(2),i=t.read_shift(2),o=dK[r>>2&31];return{ixti:e,coltype:r&3,rt:o,idx:n,c:s,C:i}}function fK(t){return t.l+=2,[t.read_shift(4)]}function pK(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function mK(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function gK(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function xK(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function yK(t){return t.l+=4,[0,0]}var VT={1:{n:"PtgExp",f:LG},2:{n:"PtgTbl",f:tK},3:{n:"PtgAdd",f:en},4:{n:"PtgSub",f:en},5:{n:"PtgMul",f:en},6:{n:"PtgDiv",f:en},7:{n:"PtgPower",f:en},8:{n:"PtgConcat",f:en},9:{n:"PtgLt",f:en},10:{n:"PtgLe",f:en},11:{n:"PtgEq",f:en},12:{n:"PtgGe",f:en},13:{n:"PtgGt",f:en},14:{n:"PtgNe",f:en},15:{n:"PtgIsect",f:en},16:{n:"PtgUnion",f:en},17:{n:"PtgRange",f:en},18:{n:"PtgUplus",f:en},19:{n:"PtgUminus",f:en},20:{n:"PtgPercent",f:en},21:{n:"PtgParen",f:en},22:{n:"PtgMissArg",f:en},23:{n:"PtgStr",f:UG},26:{n:"PtgSheet",f:pK},27:{n:"PtgEndSheet",f:mK},28:{n:"PtgErr",f:MG},29:{n:"PtgBool",f:VG},30:{n:"PtgInt",f:$G},31:{n:"PtgNum",f:BG},32:{n:"PtgArray",f:_G},33:{n:"PtgFunc",f:RG},34:{n:"PtgFuncVar",f:DG},35:{n:"PtgName",f:qG},36:{n:"PtgRef",f:IG},37:{n:"PtgArea",f:xG},38:{n:"PtgMemArea",f:XG},39:{n:"PtgMemErr",f:ZG},40:{n:"PtgMemNoMem",f:eK},41:{n:"PtgMemFunc",f:YG},42:{n:"PtgRefErr",f:QG},43:{n:"PtgAreaErr",f:vG},44:{n:"PtgRefN",f:jG},45:{n:"PtgAreaN",f:wG},46:{n:"PtgMemAreaN",f:gK},47:{n:"PtgMemNoMemN",f:xK},57:{n:"PtgNameX",f:GG},58:{n:"PtgRef3d",f:PG},59:{n:"PtgArea3d",f:yG},60:{n:"PtgRefErr3d",f:JG},61:{n:"PtgAreaErr3d",f:bG},255:{}},vK={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},bK={1:{n:"PtgElfLel",f:y6},2:{n:"PtgElfRw",f:cK},3:{n:"PtgElfCol",f:rK},6:{n:"PtgElfRwV",f:uK},7:{n:"PtgElfColV",f:iK},10:{n:"PtgElfRadical",f:aK},11:{n:"PtgElfRadicalS",f:lK},13:{n:"PtgElfColS",f:nK},15:{n:"PtgElfColSV",f:sK},16:{n:"PtgElfRadicalLel",f:oK},25:{n:"PtgList",f:hK},29:{n:"PtgSxName",f:fK},255:{}},wK={0:{n:"PtgAttrNoop",f:yK},1:{n:"PtgAttrSemi",f:SG},2:{n:"PtgAttrIf",f:kG},4:{n:"PtgAttrChoose",f:EG},8:{n:"PtgAttrGoto",f:TG},16:{n:"PtgAttrSum",f:FG},32:{n:"PtgAttrBaxcel",f:$T},33:{n:"PtgAttrBaxcel",f:$T},64:{n:"PtgAttrSpace",f:AG},65:{n:"PtgAttrSpaceSemi",f:CG},128:{n:"PtgAttrIfError",f:NG},255:{}};function _K(t,e,r,n){if(n.biff<8)return ua(t,e);for(var s=t.l+e,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=WG(t,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=HG(t,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=t.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return e=s-t.l,e!==0&&i.push(ua(t,e)),i}function EK(t,e,r){for(var n=t.l+e,s,i,o=[];n!=t.l;)e=n-t.l,i=t[t.l],s=VT[i]||VT[vK[i]],(i===24||i===25)&&(s=(i===24?bK:wK)[t[t.l+1]]),!s||!s.f?ua(t,e):o.push([s.n,s.f(t,e,r)]);return o}function TK(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],s=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var kK={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function NK(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function v6(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(t[n[0]][0]){case 357:return s=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[n[0]][0][3]?(s=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function BT(t,e,r){var n=v6(t,e,r);return n=="#REF"?n:NK(n,r)}function wu(t,e,r,n,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},u=[],d,h,p,g=0,y=0,v,T="";if(!t[0]||!t[0][0])return"";for(var w=-1,E="",O=0,M=t[0].length;O<M;++O){var U=t[0][O];switch(U[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=u.pop(),h=u.pop(),w>=0){switch(t[0][w][1][0]){case 0:E=zr(" ",t[0][w][1][1]);break;case 1:E=zr("\r",t[0][w][1][1]);break;default:if(E="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}h=h+E,w=-1}u.push(h+kK[U[0]]+d);break;case"PtgIsect":d=u.pop(),h=u.pop(),u.push(h+" "+d);break;case"PtgUnion":d=u.pop(),h=u.pop(),u.push(h+","+d);break;case"PtgRange":d=u.pop(),h=u.pop(),u.push(h+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=Wd(U[1][1],o,s),u.push(qd(p,i));break;case"PtgRefN":p=r?Wd(U[1][1],r,s):U[1][1],u.push(qd(p,i));break;case"PtgRef3d":g=U[1][1],p=Wd(U[1][2],o,s),T=BT(n,g,s),u.push(T+"!"+qd(p,i));break;case"PtgFunc":case"PtgFuncVar":var P=U[1][0],X=U[1][1];P||(P=0),P&=127;var B=P==0?[]:u.slice(-P);u.length-=P,X==="User"&&(X=B.shift()),u.push(X+"("+B.join(",")+")");break;case"PtgBool":u.push(U[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(U[1]);break;case"PtgNum":u.push(String(U[1]));break;case"PtgStr":u.push('"'+U[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(U[1]);break;case"PtgAreaN":v=kT(U[1][1],r?{s:r}:o,s),u.push(Xx(v,s));break;case"PtgArea":v=kT(U[1][1],o,s),u.push(Xx(v,s));break;case"PtgArea3d":g=U[1][1],v=U[1][2],T=BT(n,g,s),u.push(T+"!"+Xx(v,s));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=U[1][2];var A=(n.names||[])[y-1]||(n[0]||[])[y],N=A?A.Name:"SH33TJSNAME"+String(y);N&&N.slice(0,6)=="_xlfn."&&!s.xlfn&&(N=N.slice(6)),u.push(N);break;case"PtgNameX":var C=U[1][1];y=U[1][2];var R;if(s.biff<=5)C<0&&(C=-C),n[C]&&(R=n[C][y]);else{var F="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][y]&&n[C][y].itab>0&&(F=n.SheetNames[n[C][y].itab-1]+"!"):F=n.SheetNames[y-1]+"!"),n[C]&&n[C][y])F+=n[C][y].Name;else if(n[0]&&n[0][y])F+=n[0][y].Name;else{var W=(v6(n,C,s)||"").split(";;");W[y-1]?F=W[y-1]:F+="SH33TJSERRX"}u.push(F);break}R||(R={Name:"SH33TJSERRY"}),u.push(R.Name);break;case"PtgParen":var V="(",Ee=")";if(w>=0){switch(E="",t[0][w][1][0]){case 2:V=zr(" ",t[0][w][1][1])+V;break;case 3:V=zr("\r",t[0][w][1][1])+V;break;case 4:Ee=zr(" ",t[0][w][1][1])+Ee;break;case 5:Ee=zr("\r",t[0][w][1][1])+Ee;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}w=-1}u.push(V+u.pop()+Ee);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":p={c:U[1][1],r:U[1][0]};var Pe={c:r.c,r:r.r};if(n.sharedf[pr(p)]){var ze=n.sharedf[pr(p)];u.push(wu(ze,o,Pe,n,s))}else{var Le=!1;for(d=0;d!=n.arrayf.length;++d)if(h=n.arrayf[d],!(p.c<h[0].s.c||p.c>h[0].e.c)&&!(p.r<h[0].s.r||p.r>h[0].e.r)){u.push(wu(h[1],o,Pe,n,s)),Le=!0;break}Le||u.push(U[1])}break;case"PtgArray":u.push("{"+TK(U[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=O;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+U[1].idx+"[#"+U[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(U));default:throw new Error("Unrecognized Formula Token: "+String(U))}var we=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&w>=0&&we.indexOf(t[0][O][0])==-1){U=t[0][w];var se=!0;switch(U[1][0]){case 4:se=!1;case 0:E=zr(" ",U[1][1]);break;case 5:se=!1;case 1:E=zr("\r",U[1][1]);break;default:if(E="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+U[1][0])}u.push((se?E:"")+u.pop()+(se?"":E)),w=-1}}if(u.length>1&&s.WTF)throw new Error("bad formula stack");return u[0]}function SK(t){if(t==null){var e=Te(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Bl(t);return Bl(0)}function AK(t,e,r,n,s){var i=Ul(e,r,s),o=SK(t.v),u=Te(6),d=33;u.write_shift(2,d),u.write_shift(4,0);for(var h=Te(t.bf.length),p=0;p<t.bf.length;++p)h[p]=t.bf[p];var g=Pn([i,o,u,h]);return g}function Fm(t,e,r){var n=t.read_shift(4),s=EK(t,n,r),i=t.read_shift(4),o=i>0?_K(t,i,s,r):null;return[s,o]}var CK=Fm,Lm=Fm,IK=Fm,jK=Fm,PK={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},b6={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},RK={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function DK(t){var e="of:="+t.replace(b2,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function OK(t){return t.replace(/\./,"!")}var Gd=typeof Map<"u";function E2(t,e,r){var n=0,s=t.length;if(r){if(Gd?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var i=Gd?r.get(e):r[e];n<i.length;++n)if(t[i[n]].t===e)return t.Count++,i[n]}}else for(;n<s;++n)if(t[n].t===e)return t.Count++,n;return t[s]={t:e},t.Count++,t.Unique++,r&&(Gd?(r.has(e)||r.set(e,[]),r.get(e).push(s)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(s))),s}function Mm(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Oa=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=zp(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=e1(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function w6(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Jo(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],s=60,i=t.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){gA(e.z,s),r.ssf[s]=e.z,r.revssf[e.z]=n=s;break}}for(s=0;s!=i;++s)if(t[s].numFmtId===n)return s;return t[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function FK(t,e,r){if(t&&t["!ref"]){var n=Ir(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function LK(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+nn(t[r])+'"/>';return e+"</mergeCells>"}function MK(t,e,r,n,s){var i=!1,o={},u=null;if(n.bookType!=="xlsx"&&e.vbaraw){var d=e.SheetNames[r];try{e.Workbook&&(d=e.Workbook.Sheets[r].CodeName||d)}catch{}i=!0,o.codeName=y0(fr(d))}if(t&&t["!outline"]){var h={summaryBelow:1,summaryRight:1};t["!outline"].above&&(h.summaryBelow=0),t["!outline"].left&&(h.summaryRight=0),u=(u||"")+Qe("outlinePr",null,h)}!i&&!u||(s[s.length]=Qe("sheetPr",u,o))}var $K=["objects","scenarios","selectLockedCells","selectUnlockedCells"],VK=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function BK(t){var e={sheet:1};return $K.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),VK.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=s6(t.password).toString(16).toUpperCase()),Qe("sheetProtection",null,e)}function UK(t){return w6(t),Qe("pageMargins",null,t)}function zK(t,e){for(var r=["<cols>"],n,s=0;s!=e.length;++s)(n=e[s])&&(r[r.length]=Qe("col",null,Mm(s,n)));return r[r.length]="</cols>",r.join("")}function HK(t,e,r,n){var s=typeof t.ref=="string"?t.ref:nn(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Hs(s);o.s.r==o.e.r&&(o.e.r=Hs(e["!ref"]).e.r,s=nn(o));for(var u=0;u<i.length;++u){var d=i[u];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return u==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Qe("autoFilter",null,{ref:s})}function WK(t,e,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Qe("sheetViews",Qe("sheetView",null,s),{})}function qK(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",i=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=K0[t.v];break;case"d":n&&n.cellDates?s=ss(t.v,-1).toISOString():(t=Es(t),t.t="n",s=""+(t.v=_s(ss(t.v)))),typeof t.z>"u"&&(t.z=qr[14]);break;default:s=t.v;break}var u=Rn("v",fr(s)),d={r:e},h=Jo(n.cellXfs,t,n);switch(h!==0&&(d.s=h),t.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){u=Rn("v",""+E2(n.Strings,t.v,n.revStrings)),d.t="s";break}d.t="str";break}if(t.t!=i&&(t.t=i,t.v=o),typeof t.f=="string"&&t.f){var p=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;u=Qe("f",fr(t.f),p)+(t.v!=null?u:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(d.cm=1),Qe("c",u,d)}function GK(t,e,r,n){var s=[],i=[],o=Ir(t["!ref"]),u="",d,h="",p=[],g=0,y=0,v=t["!rows"],T=Array.isArray(t),w={r:h},E,O=-1;for(y=o.s.c;y<=o.e.c;++y)p[y]=qn(y);for(g=o.s.r;g<=o.e.r;++g){for(i=[],h=On(g),y=o.s.c;y<=o.e.c;++y){d=p[y]+h;var M=T?(t[g]||[])[y]:t[d];M!==void 0&&(u=qK(M,d,t,e))!=null&&i.push(u)}(i.length>0||v&&v[g])&&(w={r:h},v&&v[g]&&(E=v[g],E.hidden&&(w.hidden=1),O=-1,E.hpx?O=Hp(E.hpx):E.hpt&&(O=E.hpt),O>-1&&(w.ht=O,w.customHeight=1),E.level&&(w.outlineLevel=E.level)),s[s.length]=Qe("row",i.join(""),w))}if(v)for(;g<v.length;++g)v&&v[g]&&(w={r:g+1},E=v[g],E.hidden&&(w.hidden=1),O=-1,E.hpx?O=Hp(E.hpx):E.hpt&&(O=E.hpt),O>-1&&(w.ht=O,w.customHeight=1),E.level&&(w.outlineLevel=E.level),s[s.length]=Qe("row","",w));return s.join("")}function _6(t,e,r,n){var s=[sn,Qe("worksheet",null,{xmlns:Ou[0],"xmlns:r":vn.r})],i=r.SheetNames[t],o=0,u="",d=r.Sheets[i];d==null&&(d={});var h=d["!ref"]||"A1",p=Ir(h);if(p.e.c>16383||p.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),h=nn(p)}n||(n={}),d["!comments"]=[];var g=[];MK(d,r,t,e,s),s[s.length]=Qe("dimension",null,{ref:h}),s[s.length]=WK(d,e,t,r),e.sheetFormat&&(s[s.length]=Qe("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(s[s.length]=zK(d,d["!cols"])),s[o=s.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(u=GK(d,e),u.length>0&&(s[s.length]=u)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),d["!protect"]&&(s[s.length]=BK(d["!protect"])),d["!autofilter"]!=null&&(s[s.length]=HK(d["!autofilter"],d,r,t)),d["!merges"]!=null&&d["!merges"].length>0&&(s[s.length]=LK(d["!merges"]));var y=-1,v,T=-1;return d["!links"].length>0&&(s[s.length]="<hyperlinks>",d["!links"].forEach(function(w){w[1].Target&&(v={ref:w[0]},w[1].Target.charAt(0)!="#"&&(T=ur(n,-1,fr(w[1].Target).replace(/#.*$/,""),sr.HLINK),v["r:id"]="rId"+T),(y=w[1].Target.indexOf("#"))>-1&&(v.location=fr(w[1].Target.slice(y+1))),w[1].Tooltip&&(v.tooltip=fr(w[1].Tooltip)),s[s.length]=Qe("hyperlink",null,v))}),s[s.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(s[s.length]=UK(d["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=Rn("ignoredErrors",Qe("ignoredError",null,{numberStoredAsText:1,sqref:h}))),g.length>0&&(T=ur(n,-1,"../drawings/drawing"+(t+1)+".xml",sr.DRAW),s[s.length]=Qe("drawing",null,{"r:id":"rId"+T}),d["!drawing"]=g),d["!comments"].length>0&&(T=ur(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",sr.VML),s[s.length]=Qe("legacyDrawing",null,{"r:id":"rId"+T}),d["!legacy"]=T),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function KK(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function XK(t,e,r){var n=Te(145),s=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var i=320;s.hpx?i=Hp(s.hpx)*20:s.hpt&&(i=s.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var u=0,d=n.l;n.l+=4;for(var h={r:t,c:0},p=0;p<16;++p)if(!(e.s.c>p+1<<10||e.e.c<p<<10)){for(var g=-1,y=-1,v=p<<10;v<p+1<<10;++v){h.c=v;var T=Array.isArray(r)?(r[h.r]||[])[h.c]:r[pr(h)];T&&(g<0&&(g=v),y=v)}g<0||(++u,n.write_shift(4,g),n.write_shift(4,y))}var w=n.l;return n.l=d,n.write_shift(4,u),n.l=w,n.length>n.l?n.slice(0,n.l):n}function YK(t,e,r,n){var s=XK(n,r,e);(s.length>17||(e["!rows"]||[])[n])&&Me(t,0,s)}var QK=sc,JK=Lu;function ZK(){}function eX(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=uW(t),r}function tX(t,e,r){r==null&&(r=Te(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return Vp({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),LA(t,r),r.slice(0,r.l)}function rX(t){var e=di(t);return[e]}function nX(t,e,r){return r==null&&(r=Te(8)),tc(e,r)}function sX(t){var e=rc(t);return[e]}function iX(t,e,r){return r==null&&(r=Te(4)),nc(e,r)}function aX(t){var e=di(t),r=t.read_shift(1);return[e,r,"b"]}function oX(t,e,r){return r==null&&(r=Te(9)),tc(e,r),r.write_shift(1,t.v?1:0),r}function lX(t){var e=rc(t),r=t.read_shift(1);return[e,r,"b"]}function cX(t,e,r){return r==null&&(r=Te(5)),nc(e,r),r.write_shift(1,t.v?1:0),r}function uX(t){var e=di(t),r=t.read_shift(1);return[e,r,"e"]}function dX(t,e,r){return r==null&&(r=Te(9)),tc(e,r),r.write_shift(1,t.v),r}function hX(t){var e=rc(t),r=t.read_shift(1);return[e,r,"e"]}function fX(t,e,r){return r==null&&(r=Te(8)),nc(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function pX(t){var e=di(t),r=t.read_shift(4);return[e,r,"s"]}function mX(t,e,r){return r==null&&(r=Te(12)),tc(e,r),r.write_shift(4,e.v),r}function gX(t){var e=rc(t),r=t.read_shift(4);return[e,r,"s"]}function xX(t,e,r){return r==null&&(r=Te(8)),nc(e,r),r.write_shift(4,e.v),r}function yX(t){var e=di(t),r=Mu(t);return[e,r,"n"]}function vX(t,e,r){return r==null&&(r=Te(16)),tc(e,r),Bl(t.v,r),r}function bX(t){var e=rc(t),r=Mu(t);return[e,r,"n"]}function wX(t,e,r){return r==null&&(r=Te(12)),nc(e,r),Bl(t.v,r),r}function _X(t){var e=di(t),r=MA(t);return[e,r,"n"]}function EX(t,e,r){return r==null&&(r=Te(12)),tc(e,r),$A(t.v,r),r}function TX(t){var e=rc(t),r=MA(t);return[e,r,"n"]}function kX(t,e,r){return r==null&&(r=Te(8)),nc(e,r),$A(t.v,r),r}function NX(t){var e=di(t),r=m2(t);return[e,r,"is"]}function SX(t){var e=di(t),r=Gn(t);return[e,r,"str"]}function AX(t,e,r){return r==null&&(r=Te(12+4*t.v.length)),tc(e,r),wn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function CX(t){var e=rc(t),r=Gn(t);return[e,r,"str"]}function IX(t,e,r){return r==null&&(r=Te(8+4*t.v.length)),nc(e,r),wn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function jX(t,e,r){var n=t.l+e,s=di(t);s.r=r["!row"];var i=t.read_shift(1),o=[s,i,"b"];if(r.cellFormula){t.l+=2;var u=Lm(t,n-t.l,r);o[3]=wu(u,null,s,r.supbooks,r)}else t.l=n;return o}function PX(t,e,r){var n=t.l+e,s=di(t);s.r=r["!row"];var i=t.read_shift(1),o=[s,i,"e"];if(r.cellFormula){t.l+=2;var u=Lm(t,n-t.l,r);o[3]=wu(u,null,s,r.supbooks,r)}else t.l=n;return o}function RX(t,e,r){var n=t.l+e,s=di(t);s.r=r["!row"];var i=Mu(t),o=[s,i,"n"];if(r.cellFormula){t.l+=2;var u=Lm(t,n-t.l,r);o[3]=wu(u,null,s,r.supbooks,r)}else t.l=n;return o}function DX(t,e,r){var n=t.l+e,s=di(t);s.r=r["!row"];var i=Gn(t),o=[s,i,"str"];if(r.cellFormula){t.l+=2;var u=Lm(t,n-t.l,r);o[3]=wu(u,null,s,r.supbooks,r)}else t.l=n;return o}var OX=sc,FX=Lu;function LX(t,e){return e==null&&(e=Te(4)),e.write_shift(4,t),e}function MX(t,e){var r=t.l+e,n=sc(t),s=g2(t),i=Gn(t),o=Gn(t),u=Gn(t);t.l=r;var d={rfx:n,relId:s,loc:i,display:u};return o&&(d.Tooltip=o),d}function $X(t,e){var r=Te(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Lu({s:bn(t[0]),e:bn(t[0])},r),x2("rId"+e,r);var n=t[1].Target.indexOf("#"),s=n==-1?"":t[1].Target.slice(n+1);return wn(s||"",r),wn(t[1].Tooltip||"",r),wn("",r),r.slice(0,r.l)}function VX(){}function BX(t,e,r){var n=t.l+e,s=VA(t),i=t.read_shift(1),o=[s];if(o[2]=i,r.cellFormula){var u=CK(t,n-t.l,r);o[1]=u}else t.l=n;return o}function UX(t,e,r){var n=t.l+e,s=sc(t),i=[s];if(r.cellFormula){var o=jK(t,n-t.l,r);i[1]=o,t.l=n}else t.l=n;return i}function zX(t,e,r){r==null&&(r=Te(18));var n=Mm(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),r.write_shift(2,s),r}var E6=["left","right","top","bottom","header","footer"];function HX(t){var e={};return E6.forEach(function(r){e[r]=Mu(t)}),e}function WX(t,e){return e==null&&(e=Te(48)),w6(t),E6.forEach(function(r){Bl(t[r],e)}),e}function qX(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function GX(t,e,r){r==null&&(r=Te(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function KX(t){var e=Te(24);return e.write_shift(4,4),e.write_shift(4,1),Lu(t,e),e}function XX(t,e){return e==null&&(e=Te(66)),e.write_shift(2,t.password?s6(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function YX(){}function QX(){}function JX(t,e,r,n,s,i,o){if(e.v===void 0)return!1;var u="";switch(e.t){case"b":u=e.v?"1":"0";break;case"d":e=Es(e),e.z=e.z||qr[14],e.v=_s(ss(e.v)),e.t="n";break;case"n":case"e":u=""+e.v;break;default:u=e.v;break}var d={r,c:n};switch(d.s=Jo(s.cellXfs,e,s),e.l&&i["!links"].push([pr(d),e.l]),e.c&&i["!comments"].push([pr(d),e.c]),e.t){case"s":case"str":return s.bookSST?(u=E2(s.Strings,e.v,s.revStrings),d.t="s",d.v=u,o?Me(t,18,xX(e,d)):Me(t,7,mX(e,d))):(d.t="str",o?Me(t,17,IX(e,d)):Me(t,6,AX(e,d))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?Me(t,13,kX(e,d)):Me(t,2,EX(e,d)):o?Me(t,16,wX(e,d)):Me(t,5,vX(e,d)),!0;case"b":return d.t="b",o?Me(t,15,cX(e,d)):Me(t,4,oX(e,d)),!0;case"e":return d.t="e",o?Me(t,14,fX(e,d)):Me(t,3,dX(e,d)),!0}return o?Me(t,12,iX(e,d)):Me(t,1,nX(e,d)),!0}function ZX(t,e,r,n){var s=Ir(e["!ref"]||"A1"),i,o="",u=[];Me(t,145);var d=Array.isArray(e),h=s.e.r;e["!rows"]&&(h=Math.max(s.e.r,e["!rows"].length-1));for(var p=s.s.r;p<=h;++p){o=On(p),YK(t,e,s,p);var g=!1;if(p<=s.e.r)for(var y=s.s.c;y<=s.e.c;++y){p===s.s.r&&(u[y]=qn(y)),i=u[y]+o;var v=d?(e[p]||[])[y]:e[i];if(!v){g=!1;continue}g=JX(t,v,p,y,n,e,g)}}Me(t,146)}function eY(t,e){!e||!e["!merges"]||(Me(t,177,LX(e["!merges"].length)),e["!merges"].forEach(function(r){Me(t,176,FX(r))}),Me(t,178))}function tY(t,e){!e||!e["!cols"]||(Me(t,390),e["!cols"].forEach(function(r,n){r&&Me(t,60,zX(n,r))}),Me(t,391))}function rY(t,e){!e||!e["!ref"]||(Me(t,648),Me(t,649,KX(Ir(e["!ref"]))),Me(t,650))}function nY(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var s=ur(r,-1,n[1].Target.replace(/#.*$/,""),sr.HLINK);Me(t,494,$X(n,s))}}),delete e["!links"]}function sY(t,e,r,n){if(e["!comments"].length>0){var s=ur(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",sr.VML);Me(t,551,x2("rId"+s)),e["!legacy"]=s}}function iY(t,e,r,n){if(e["!autofilter"]){var s=e["!autofilter"],i=typeof s.ref=="string"?s.ref:nn(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,u=Hs(i);u.s.r==u.e.r&&(u.e.r=Hs(e["!ref"]).e.r,i=nn(u));for(var d=0;d<o.length;++d){var h=o[d];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==n){h.Ref="'"+r.SheetNames[n]+"'!"+i;break}}d==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Me(t,161,Lu(Ir(i))),Me(t,162)}}function aY(t,e,r){Me(t,133),Me(t,137,GX(e,r)),Me(t,138),Me(t,134)}function oY(t,e){e["!protect"]&&Me(t,535,XX(e["!protect"]))}function lY(t,e,r,n){var s=ws(),i=r.SheetNames[t],o=r.Sheets[i]||{},u=i;try{r&&r.Workbook&&(u=r.Workbook.Sheets[t].CodeName||u)}catch{}var d=Ir(o["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Me(s,129),(r.vbaraw||o["!outline"])&&Me(s,147,tX(u,o["!outline"])),Me(s,148,JK(d)),aY(s,o,r.Workbook),tY(s,o),ZX(s,o,t,e),oY(s,o),iY(s,o,r,t),eY(s,o),nY(s,o,n),o["!margins"]&&Me(s,476,WX(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&rY(s,o),sY(s,o,t,n),Me(s,130),s.end()}function cY(t,e){t.l+=10;var r=Gn(t);return{name:r}}var uY=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function dY(t){return!t.Workbook||!t.Workbook.WBProps?"false":UH(t.Workbook.WBProps.date1904)?"true":"false"}var hY="][*?/\\".split("");function T6(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return hY.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function fY(t,e,r){t.forEach(function(n,s){T6(n);for(var i=0;i<s;++i)if(n==t[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=e&&e[s]&&e[s].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function pY(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];fY(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)FK(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function k6(t){var e=[sn];e[e.length]=Qe("workbook",null,{xmlns:Ou[0],"xmlns:r":vn.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(uY.forEach(function(u){t.Workbook.WBProps[u[0]]!=null&&t.Workbook.WBProps[u[0]]!=u[1]&&(n[u[0]]=t.Workbook.WBProps[u[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Qe("workbookPr",null,n);var s=t.Workbook&&t.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",i=0;i!=t.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==t.SheetNames.length&&(i=0),e[e.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",i=0;i!=t.SheetNames.length;++i){var o={name:fr(t.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=Qe("sheet",null,o)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(u){var d={name:u.Name};u.Comment&&(d.comment=u.Comment),u.Sheet!=null&&(d.localSheetId=""+u.Sheet),u.Hidden&&(d.hidden="1"),u.Ref&&(e[e.length]=Qe("definedName",fr(u.Ref),d))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function mY(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Zy(t),r.name=Gn(t),r}function gY(t,e){return e||(e=Te(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),x2(t.strRelID,e),wn(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function xY(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var s=e>8?Gn(t):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function yY(t,e){e||(e=Te(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),LA(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function vY(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),i=dW(t),o=IK(t,0,r),u=g2(t);t.l=n;var d={Name:i,Ptg:o};return s<268435455&&(d.Sheet=s),u&&(d.Comment=u),d}function bY(t,e){Me(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Me(t,156,gY(s))}Me(t,144)}function wY(t,e){e||(e=Te(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return wn("SheetJS",e),wn(Pp.version,e),wn(Pp.version,e),wn("7262",e),e.length>e.l?e.slice(0,e.l):e}function _Y(t,e){e||(e=Te(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function EY(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,s=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&i==-1&&(i=n);i>s||(Me(t,135),Me(t,158,_Y(s)),Me(t,136))}}function TY(t,e){var r=ws();return Me(r,131),Me(r,128,wY()),Me(r,153,yY(t.Workbook&&t.Workbook.WBProps||null)),EY(r,t),bY(r,t),Me(r,132),r.end()}function kY(t,e,r){return(e.slice(-4)===".bin"?TY:k6)(t)}function NY(t,e,r,n,s){return(e.slice(-4)===".bin"?lY:_6)(t,r,n,s)}function SY(t,e,r){return(e.slice(-4)===".bin"?Wq:o6)(t,r)}function AY(t,e,r){return(e.slice(-4)===".bin"?yq:n6)(t,r)}function CY(t,e,r){return(e.slice(-4)===".bin"?oG:h6)(t)}function IY(t){return(t.slice(-4)===".bin"?Zq:u6)()}function jY(t,e){var r=[];return t.Props&&r.push(SW(t.Props,e)),t.Custprops&&r.push(AW(t.Props,t.Custprops)),r.join("")}function PY(){return""}function RY(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,s){var i=[];i.push(Qe("NumberFormat",null,{"ss:Format":fr(qr[n.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(Qe("Style",i.join(""),o))}),Qe("Styles",r.join(""))}function N6(t){return Qe("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+w2(t.Ref,{r:0,c:0})})}function DY(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var s=e[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(N6(s)))}return Qe("Names",r.join(""))}function OY(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,i=[],o=0;o<s.length;++o){var u=s[o];u.Sheet==r&&(u.Name.match(/^_xlfn\./)||i.push(N6(u)))}return i.join("")}function FY(t,e,r,n){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(Qe("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(Qe("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(Qe("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(Qe("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(Rn("ProtectContents","True")),t["!protect"].objects&&s.push(Rn("ProtectObjects","True")),t["!protect"].scenarios&&s.push(Rn("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push(Rn("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push(Rn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":Qe("WorksheetOptions",s.join(""),{xmlns:Os.x})}function LY(t){return t.map(function(e){var r=BH(e.t||""),n=Qe("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Qe("Comment",n,{"ss:Author":e.a})}).join("")}function MY(t,e,r,n,s,i,o){if(!t||t.v==null&&t.f==null)return"";var u={};if(t.f&&(u["ss:Formula"]="="+fr(w2(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var d=bn(t.F.slice(e.length+1));u["ss:ArrayRange"]="RC:R"+(d.r==o.r?"":"["+(d.r-o.r)+"]")+"C"+(d.c==o.c?"":"["+(d.c-o.c)+"]")}if(t.l&&t.l.Target&&(u["ss:HRef"]=fr(t.l.Target),t.l.Tooltip&&(u["x:HRefScreenTip"]=fr(t.l.Tooltip))),r["!merges"])for(var h=r["!merges"],p=0;p!=h.length;++p)h[p].s.c!=o.c||h[p].s.r!=o.r||(h[p].e.c>h[p].s.c&&(u["ss:MergeAcross"]=h[p].e.c-h[p].s.c),h[p].e.r>h[p].s.r&&(u["ss:MergeDown"]=h[p].e.r-h[p].s.r));var g="",y="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":g="Number",y=String(t.v);break;case"b":g="Boolean",y=t.v?"1":"0";break;case"e":g="Error",y=K0[t.v];break;case"d":g="DateTime",y=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||qr[14]);break;case"s":g="String",y=VH(t.v||"");break}var v=Jo(n.cellXfs,t,n);u["ss:StyleID"]="s"+(21+v),u["ss:Index"]=o.c+1;var T=t.v!=null?y:"",w=t.t=="z"?"":'<Data ss:Type="'+g+'">'+T+"</Data>";return(t.c||[]).length>0&&(w+=LY(t.c)),Qe("Cell",w,u)}function $Y(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=a6(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function VY(t,e,r,n){if(!t["!ref"])return"";var s=Ir(t["!ref"]),i=t["!merges"]||[],o=0,u=[];t["!cols"]&&t["!cols"].forEach(function(E,O){v2(E);var M=!!E.width,U=Mm(O,E),P={"ss:Index":O+1};M&&(P["ss:Width"]=Up(U.width)),E.hidden&&(P["ss:Hidden"]="1"),u.push(Qe("Column",null,P))});for(var d=Array.isArray(t),h=s.s.r;h<=s.e.r;++h){for(var p=[$Y(h,(t["!rows"]||[])[h])],g=s.s.c;g<=s.e.c;++g){var y=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>g)&&!(i[o].s.r>h)&&!(i[o].e.c<g)&&!(i[o].e.r<h)){(i[o].s.c!=g||i[o].s.r!=h)&&(y=!0);break}if(!y){var v={r:h,c:g},T=pr(v),w=d?(t[h]||[])[g]:t[T];p.push(MY(w,T,t,e,r,n,v))}}p.push("</Row>"),p.length>2&&u.push(p.join(""))}return u.join("")}function BY(t,e,r){var n=[],s=r.SheetNames[t],i=r.Sheets[s],o=i?OY(i,e,t,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?VY(i,e,t,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(FY(i,e,t,r)),n.join("")}function UY(t,e){e||(e={}),t.SSF||(t.SSF=Es(qr)),t.SSF&&(Rm(),Pm(t.SSF),e.revssf=Dm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Jo(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(jY(t,e)),r.push(PY()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(Qe("Worksheet",BY(n,e,t),{"ss:Name":fr(t.SheetNames[n])}));return r[2]=RY(t,e),r[3]=DY(t),sn+Qe("Workbook",r.join(""),{xmlns:Os.ss,"xmlns:o":Os.o,"xmlns:x":Os.x,"xmlns:ss":Os.ss,"xmlns:dt":Os.dt,"xmlns:html":Os.html})}var Jx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function zY(t,e){var r=[],n=[],s=[],i=0,o,u=pT(ST,"n"),d=pT(AT,"n");if(t.Props)for(o=Ln(t.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(u,o[i])?r:Object.prototype.hasOwnProperty.call(d,o[i])?n:s).push([o[i],t.Props[o[i]]]);if(t.Custprops)for(o=Ln(t.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(t.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(u,o[i])?r:Object.prototype.hasOwnProperty.call(d,o[i])?n:s).push([o[i],t.Custprops[o[i]]]);var h=[];for(i=0;i<s.length;++i)YA.indexOf(s[i][0])>-1||GA.indexOf(s[i][0])>-1||s[i][1]!=null&&h.push(s[i]);n.length&&gr.utils.cfb_add(e,"/SummaryInformation",RT(n,Jx.SI,d,AT)),(r.length||h.length)&&gr.utils.cfb_add(e,"/DocumentSummaryInformation",RT(r,Jx.DSI,u,ST,h.length?h:null,Jx.UDI))}function HY(t,e){var r=e||{},n=gr.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return gr.utils.cfb_add(n,s,S6(t,r)),r.biff==8&&(t.Props||t.Custprops)&&zY(t,n),r.biff==8&&t.vbaraw&&lG(n,gr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var WY={0:{f:KK},1:{f:rX},2:{f:_X},3:{f:uX},4:{f:aX},5:{f:yX},6:{f:SX},7:{f:pX},8:{f:DX},9:{f:RX},10:{f:jX},11:{f:PX},12:{f:sX},13:{f:TX},14:{f:hX},15:{f:lX},16:{f:bX},17:{f:CX},18:{f:gX},19:{f:m2},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:vY},40:{},42:{},43:{f:Sq},44:{f:kq},45:{f:Iq},46:{f:Pq},47:{f:jq},48:{},49:{f:sW},50:{},51:{f:Kq},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:iq},62:{f:NX},63:{f:eG},64:{f:YX},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ua,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:qX},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:eX},148:{f:QK,p:16},151:{f:VX},152:{},153:{f:xY},154:{},155:{},156:{f:mY},157:{},158:{},159:{T:1,f:mq},160:{T:-1},161:{T:1,f:sc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:OX},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:qq},336:{T:-1},337:{f:Qq,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Zy},357:{},358:{},359:{},360:{T:1},361:{},362:{f:ZW},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:BX},427:{f:UX},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:HX},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ZK},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:MX},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Zy},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:iG},633:{T:1},634:{T:-1},635:{T:1,f:nG},636:{T:-1},637:{f:lW},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:cY},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:QX},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Je(t,e,r,n){var s=e;if(!isNaN(s)){var i=n||(r||[]).length||0,o=t.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&h2(r)&&t.push(r)}}function qY(t,e,r,n){var s=(r||[]).length||0;if(s<=8224)return Je(t,e,r,s);var i=e;if(!isNaN(i)){for(var o=r.parts||[],u=0,d=0,h=0;h+(o[u]||8224)<=8224;)h+=o[u]||8224,u++;var p=t.next(4);for(p.write_shift(2,i),p.write_shift(2,h),t.push(r.slice(d,d+h)),d+=h;d<s;){for(p=t.next(4),p.write_shift(2,60),h=0;h+(o[u]||8224)<=8224;)h+=o[u]||8224,u++;p.write_shift(2,h),t.push(r.slice(d,d+h)),d+=h}}}function Y0(t,e,r){return t||(t=Te(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function GY(t,e,r,n){var s=Te(9);return Y0(s,t,e),JA(r,n||"b",s),s}function KY(t,e,r){var n=Te(8+2*r.length);return Y0(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function XY(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?_s(ss(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?Je(t,2,cq(r,n,s)):Je(t,3,lq(r,n,s));return;case"b":case"e":Je(t,5,GY(r,n,e.v,e.t));return;case"s":case"str":Je(t,4,KY(r,n,(e.v||"").slice(0,255)));return}Je(t,1,Y0(null,r,n))}function YY(t,e,r,n){var s=Array.isArray(e),i=Ir(e["!ref"]||"A1"),o,u="",d=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=nn(i)}for(var h=i.s.r;h<=i.e.r;++h){u=On(h);for(var p=i.s.c;p<=i.e.c;++p){h===i.s.r&&(d[p]=qn(p)),o=d[p]+u;var g=s?(e[h]||[])[p]:e[o];g&&XY(t,g,h,p)}}}function QY(t,e){for(var r=e||{},n=ws(),s=0,i=0;i<t.SheetNames.length;++i)t.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Je(n,r.biff==4?1033:r.biff==3?521:9,y2(t,16,r)),YY(n,t.Sheets[t.SheetNames[s]],s,r),Je(n,10),n.end()}function JY(t,e,r){Je(t,49,WW({sz:12,name:"Arial"},r))}function ZY(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&Je(t,1054,KW(s,e[s],r))})}function eQ(t,e){var r=Te(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Je(t,2151,r),r=Te(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),t6(Ir(e["!ref"]||"A1"),r),r.write_shift(4,4),Je(t,2152,r)}function tQ(t,e){for(var r=0;r<16;++r)Je(t,224,OT({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Je(t,224,OT(n,0,e))})}function rQ(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];Je(t,440,rq(n)),n[1].Tooltip&&Je(t,2048,nq(n))}delete e["!links"]}function nQ(t,e){if(e){var r=0;e.forEach(function(n,s){++r<=256&&n&&Je(t,125,aq(Mm(s,n),s))})}}function sQ(t,e,r,n,s){var i=16+Jo(s.cellXfs,e,s);if(e.v==null&&!e.bf){Je(t,513,Ul(r,n,i));return}if(e.bf)Je(t,6,AK(e,r,n,s,i));else switch(e.t){case"d":case"n":var o=e.t=="d"?_s(ss(e.v)):e.v;Je(t,515,JW(r,n,o,i));break;case"b":case"e":Je(t,517,QW(r,n,e.v,i,s,e.t));break;case"s":case"str":if(s.bookSST){var u=E2(s.Strings,e.v,s.revStrings);Je(t,253,qW(r,n,u,i))}else Je(t,516,GW(r,n,(e.v||"").slice(0,255),i,s));break;default:Je(t,513,Ul(r,n,i))}}function iQ(t,e,r){var n=ws(),s=r.SheetNames[t],i=r.Sheets[s]||{},o=(r||{}).Workbook||{},u=(o.Sheets||[])[t]||{},d=Array.isArray(i),h=e.biff==8,p,g="",y=[],v=Ir(i["!ref"]||"A1"),T=h?65536:16384;if(v.e.c>255||v.e.r>=T){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,T-1)}Je(n,2057,y2(r,16,e)),Je(n,13,ii(1)),Je(n,12,ii(100)),Je(n,15,es(!0)),Je(n,17,es(!1)),Je(n,16,Bl(.001)),Je(n,95,es(!0)),Je(n,42,es(!1)),Je(n,43,es(!1)),Je(n,130,ii(1)),Je(n,128,YW()),Je(n,131,es(!1)),Je(n,132,es(!1)),h&&nQ(n,i["!cols"]),Je(n,512,XW(v,e)),h&&(i["!links"]=[]);for(var w=v.s.r;w<=v.e.r;++w){g=On(w);for(var E=v.s.c;E<=v.e.c;++E){w===v.s.r&&(y[E]=qn(E)),p=y[E]+g;var O=d?(i[w]||[])[E]:i[p];O&&(sQ(n,O,w,E,e),h&&O.l&&i["!links"].push([p,O.l]))}}var M=u.CodeName||u.name||s;return h&&Je(n,574,HW((o.Views||[])[0])),h&&(i["!merges"]||[]).length&&Je(n,229,tq(i["!merges"])),h&&rQ(n,i),Je(n,442,e6(M)),h&&eQ(n,i),Je(n,10),n.end()}function aQ(t,e,r){var n=ws(),s=(t||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},u=r.biff==8,d=r.biff==5;if(Je(n,2057,y2(t,5,r)),r.bookType=="xla"&&Je(n,135),Je(n,225,u?ii(1200):null),Je(n,193,jW(2)),d&&Je(n,191),d&&Je(n,192),Je(n,226),Je(n,92,VW("SheetJS",r)),Je(n,66,ii(u?1200:1252)),u&&Je(n,353,ii(0)),u&&Je(n,448),Je(n,317,oq(t.SheetNames.length)),u&&t.vbaraw&&Je(n,211),u&&t.vbaraw){var h=o.CodeName||"ThisWorkbook";Je(n,442,e6(h))}Je(n,156,ii(17)),Je(n,25,es(!1)),Je(n,18,es(!1)),Je(n,19,ii(0)),u&&Je(n,431,es(!1)),u&&Je(n,444,ii(0)),Je(n,61,zW()),Je(n,64,es(!1)),Je(n,141,ii(0)),Je(n,34,es(dY(t)=="true")),Je(n,14,es(!0)),u&&Je(n,439,es(!1)),Je(n,218,ii(0)),JY(n,t,r),ZY(n,t.SSF,r),tQ(n,r),u&&Je(n,352,es(!1));var p=n.end(),g=ws();u&&Je(g,140,sq()),u&&r.Strings&&qY(g,252,UW(r.Strings)),Je(g,10);var y=g.end(),v=ws(),T=0,w=0;for(w=0;w<t.SheetNames.length;++w)T+=(u?12:11)+(u?2:1)*t.SheetNames[w].length;var E=p.length+T+y.length;for(w=0;w<t.SheetNames.length;++w){var O=i[w]||{};Je(v,133,BW({pos:E,hs:O.Hidden||0,dt:0,name:t.SheetNames[w]},r)),E+=e[w].length}var M=v.end();if(T!=M.length)throw new Error("BS8 "+T+" != "+M.length);var U=[];return p.length&&U.push(p),M.length&&U.push(M),y.length&&U.push(y),Pn(U)}function oQ(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Es(qr)),t&&t.SSF&&(Rm(),Pm(t.SSF),r.revssf=Dm(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,T2(r),r.cellXfs=[],Jo(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)n[n.length]=iQ(s,r,t);return n.unshift(aQ(t,n,r)),Pn(n)}function S6(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var s=Hs(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=e||{};switch(i.biff||2){case 8:case 5:return oQ(t,e);case 4:case 3:case 2:return QY(t,e)}throw new Error("invalid type "+i.bookType+" for BIFF")}function lQ(t,e,r,n){for(var s=t["!merges"]||[],i=[],o=e.s.c;o<=e.e.c;++o){for(var u=0,d=0,h=0;h<s.length;++h)if(!(s[h].s.r>r||s[h].s.c>o)&&!(s[h].e.r<r||s[h].e.c<o)){if(s[h].s.r<r||s[h].s.c<o){u=-1;break}u=s[h].e.r-s[h].s.r+1,d=s[h].e.c-s[h].s.c+1;break}if(!(u<0)){var p=pr({r,c:o}),g=n.dense?(t[r]||[])[o]:t[p],y=g&&g.v!=null&&(g.h||$H(g.w||(Ha(g),g.w)||""))||"",v={};u>1&&(v.rowspan=u),d>1&&(v.colspan=d),n.editable?y='<span contenteditable="true">'+y+"</span>":g&&(v["data-t"]=g&&g.t||"z",g.v!=null&&(v["data-v"]=g.v),g.z!=null&&(v["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+g.l.Target+'">'+y+"</a>")),v.id=(n.id||"sjs")+"-"+p,i.push(Qe("td",y,v))}}var T="<tr>";return T+i.join("")+"</tr>"}var cQ='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',uQ="</body></html>";function dQ(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function A6(t,e){var r=e||{},n=r.header!=null?r.header:cQ,s=r.footer!=null?r.footer:uQ,i=[n],o=Hs(t["!ref"]);r.dense=Array.isArray(t),i.push(dQ(t,o,r));for(var u=o.s.r;u<=o.e.r;++u)i.push(lQ(t,o,u,r));return i.push("</table>"+s),i.join("")}function C6(t,e,r){var n=r||{},s=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var o=typeof n.origin=="string"?bn(n.origin):n.origin;s=o.r,i=o.c}var u=e.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,u.length),h={s:{r:0,c:0},e:{r:s,c:i}};if(t["!ref"]){var p=Hs(t["!ref"]);h.s.r=Math.min(h.s.r,p.s.r),h.s.c=Math.min(h.s.c,p.s.c),h.e.r=Math.max(h.e.r,p.e.r),h.e.c=Math.max(h.e.c,p.e.c),s==-1&&(h.e.r=s=p.e.r+1)}var g=[],y=0,v=t["!rows"]||(t["!rows"]=[]),T=0,w=0,E=0,O=0,M=0,U=0;for(t["!cols"]||(t["!cols"]=[]);T<u.length&&w<d;++T){var P=u[T];if(UT(P)){if(n.display)continue;v[w]={hidden:!0}}var X=P.children;for(E=O=0;E<X.length;++E){var B=X[E];if(!(n.display&&UT(B))){var A=B.hasAttribute("data-v")?B.getAttribute("data-v"):B.hasAttribute("v")?B.getAttribute("v"):zH(B.innerHTML),N=B.getAttribute("data-z")||B.getAttribute("z");for(y=0;y<g.length;++y){var C=g[y];C.s.c==O+i&&C.s.r<w+s&&w+s<=C.e.r&&(O=C.e.c+1-i,y=-1)}U=+B.getAttribute("colspan")||1,((M=+B.getAttribute("rowspan")||1)>1||U>1)&&g.push({s:{r:w+s,c:O+i},e:{r:w+s+(M||1)-1,c:O+i+(U||1)-1}});var R={t:"s",v:A},F=B.getAttribute("data-t")||B.getAttribute("t")||"";A!=null&&(A.length==0?R.t=F||"z":n.raw||A.trim().length==0||F=="s"||(A==="TRUE"?R={t:"b",v:!0}:A==="FALSE"?R={t:"b",v:!1}:isNaN(Da(A))?isNaN(x0(A).getDate())||(R={t:"d",v:ss(A)},n.cellDates||(R={t:"n",v:_s(R.v)}),R.z=n.dateNF||qr[14]):R={t:"n",v:Da(A)})),R.z===void 0&&N!=null&&(R.z=N);var W="",V=B.getElementsByTagName("A");if(V&&V.length)for(var Ee=0;Ee<V.length&&!(V[Ee].hasAttribute("href")&&(W=V[Ee].getAttribute("href"),W.charAt(0)!="#"));++Ee);W&&W.charAt(0)!="#"&&(R.l={Target:W}),n.dense?(t[w+s]||(t[w+s]=[]),t[w+s][O+i]=R):t[pr({c:O+i,r:w+s})]=R,h.e.c<O+i&&(h.e.c=O+i),O+=U}}++w}return g.length&&(t["!merges"]=(t["!merges"]||[]).concat(g)),h.e.r=Math.max(h.e.r,w-1+s),t["!ref"]=nn(h),w>=d&&(t["!fullref"]=nn((h.e.r=u.length-T+w-1+s,h))),t}function I6(t,e){var r=e||{},n=r.dense?[]:{};return C6(n,t,e)}function hQ(t,e){return ec(I6(t,e),e)}function UT(t){var e="",r=fQ(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function fQ(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var pQ=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+v0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return sn+e}})(),zT=(function(){var t=function(i){return fr(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,u){var d=[];d.push('      <table:table table:name="'+fr(o.SheetNames[u])+`" table:style-name="ta1">
`);var h=0,p=0,g=Hs(i["!ref"]||"A1"),y=i["!merges"]||[],v=0,T=Array.isArray(i);if(i["!cols"])for(p=0;p<=g.e.c;++p)d.push("        <table:table-column"+(i["!cols"][p]?' table:style-name="co'+i["!cols"][p].ods+'"':"")+`></table:table-column>
`);var w="",E=i["!rows"]||[];for(h=0;h<g.s.r;++h)w=E[h]?' table:style-name="ro'+E[h].ods+'"':"",d.push("        <table:table-row"+w+`></table:table-row>
`);for(;h<=g.e.r;++h){for(w=E[h]?' table:style-name="ro'+E[h].ods+'"':"",d.push("        <table:table-row"+w+`>
`),p=0;p<g.s.c;++p)d.push(e);for(;p<=g.e.c;++p){var O=!1,M={},U="";for(v=0;v!=y.length;++v)if(!(y[v].s.c>p)&&!(y[v].s.r>h)&&!(y[v].e.c<p)&&!(y[v].e.r<h)){(y[v].s.c!=p||y[v].s.r!=h)&&(O=!0),M["table:number-columns-spanned"]=y[v].e.c-y[v].s.c+1,M["table:number-rows-spanned"]=y[v].e.r-y[v].s.r+1;break}if(O){d.push(r);continue}var P=pr({r:h,c:p}),X=T?(i[h]||[])[p]:i[P];if(X&&X.f&&(M["table:formula"]=fr(DK(X.f)),X.F&&X.F.slice(0,P.length)==P)){var B=Hs(X.F);M["table:number-matrix-columns-spanned"]=B.e.c-B.s.c+1,M["table:number-matrix-rows-spanned"]=B.e.r-B.s.r+1}if(!X){d.push(e);continue}switch(X.t){case"b":U=X.v?"TRUE":"FALSE",M["office:value-type"]="boolean",M["office:boolean-value"]=X.v?"true":"false";break;case"n":U=X.w||String(X.v||0),M["office:value-type"]="float",M["office:value"]=X.v||0;break;case"s":case"str":U=X.v==null?"":X.v,M["office:value-type"]="string";break;case"d":U=X.w||ss(X.v).toISOString(),M["office:value-type"]="date",M["office:date-value"]=ss(X.v).toISOString(),M["table:style-name"]="ce1";break;default:d.push(e);continue}var A=t(U);if(X.l&&X.l.Target){var N=X.l.Target;N=N.charAt(0)=="#"?"#"+OK(N.slice(1)):N,N.charAt(0)!="#"&&!N.match(/^\w+:/)&&(N="../"+N),A=Qe("text:a",A,{"xlink:href":N.replace(/&/g,"&amp;")})}d.push("          "+Qe("table:table-cell",Qe("text:p",A,{}),M)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var u=0;o.SheetNames.map(function(h){return o.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var p=0;p<h["!cols"].length;++p)if(h["!cols"][p]){var g=h["!cols"][p];if(g.width==null&&g.wpx==null&&g.wch==null)continue;v2(g),g.ods=u;var y=h["!cols"][p].wpx+"px";i.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),i.push(`  </style:style>
`),++u}}});var d=0;o.SheetNames.map(function(h){return o.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var p=0;p<h["!rows"].length;++p)if(h["!rows"][p]){h["!rows"][p].ods=d;var g=h["!rows"][p].hpx+"px";i.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),i.push(`  </style:style>
`),++d}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,u){var d=[sn],h=v0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=v0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(d.push("<office:document"+h+p+`>
`),d.push(WA().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+h+`>
`),s(d,o),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var g=0;g!=o.SheetNames.length;++g)d.push(n(o.Sheets[o.SheetNames[g]],o,g));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),u.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}})();function j6(t,e){if(e.bookType=="fods")return zT(t,e);var r=l2(),n="",s=[],i=[];return n="mimetype",Mt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Mt(r,n,zT(t,e)),s.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Mt(r,n,pQ(t,e)),s.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Mt(r,n,sn+WA()),s.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Mt(r,n,NW(i)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Mt(r,n,TW(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Wp(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function mQ(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Ni(y0(t))}function gQ(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Wo(t){var e=t.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(s){r.set(s,n),n+=s.length}),r}function xQ(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var i=0;s>=1;++i,s/=256)t[e+i]=s&255;t[e+15]|=r>=0?0:128}function b0(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function cr(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function ou(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function cn(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],s=b0(t,r),i=s&7;s=Math.floor(s/8);var o=0,u;if(s==0)break;switch(i){case 0:{for(var d=r[0];t[r[0]++]>=128;);u=t.slice(d,r[0])}break;case 5:o=4,u=t.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,u=t.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=b0(t,r),u=t.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(n))}var h={data:u,type:i};e[s]==null?e[s]=[h]:e[s].push(h)}return e}function Nn(t){var e=[];return t.forEach(function(r,n){r.forEach(function(s){s.data&&(e.push(cr(n*8+s.type)),s.type==2&&e.push(cr(s.data.length)),e.push(s.data))})}),Wo(e)}function Ei(t){for(var e,r=[],n=[0];n[0]<t.length;){var s=b0(t,n),i=cn(t.slice(n[0],n[0]+s));n[0]+=s;var o={id:ou(i[1][0].data),messages:[]};i[2].forEach(function(u){var d=cn(u.data),h=ou(d[3][0].data);o.messages.push({meta:d,data:t.slice(n[0],n[0]+h)}),n[0]+=h}),(e=i[3])!=null&&e[0]&&(o.merge=ou(i[3][0].data)>>>0>0),r.push(o)}return r}function $c(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:cr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:cr(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:cr(o.data.length)}],n[2].push({data:Nn(o.meta),type:2})});var i=Nn(n);e.push(cr(i.length)),e.push(i),s.forEach(function(o){return e.push(o)})}),Wo(e)}function yQ(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=b0(e,r),s=[];r[0]<e.length;){var i=e[r[0]]&3;if(i==0){var o=e[r[0]++]>>2;if(o<60)++o;else{var u=o-59;o=e[r[0]],u>1&&(o|=e[r[0]+1]<<8),u>2&&(o|=e[r[0]+2]<<16),u>3&&(o|=e[r[0]+3]<<24),o>>>=0,o++,r[0]+=u}s.push(e.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var d=0,h=0;if(i==1?(h=(e[r[0]]>>2&7)+4,d=(e[r[0]++]&224)<<3,d|=e[r[0]++]):(h=(e[r[0]++]>>2)+1,i==2?(d=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(d=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),s=[Wo(s)],d==0)throw new Error("Invalid offset 0");if(d>s[0].length)throw new Error("Invalid offset beyond length");if(h>=d)for(s.push(s[0].slice(-d)),h-=d;h>=s[s.length-1].length;)s.push(s[s.length-1]),h-=s[s.length-1].length;s.push(s[0].slice(-d,-d+h))}}var p=Wo(s);if(p.length!=n)throw new Error("Unexpected length: ".concat(p.length," != ").concat(n));return p}function Ti(t){for(var e=[],r=0;r<t.length;){var n=t[r++],s=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(yQ(n,t.slice(r,r+s))),r+=s}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Wo(e)}function Vc(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),s=new Uint8Array(4);e.push(s);var i=cr(n),o=i.length;e.push(i),n<=60?(o++,e.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),o+=n,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=n}return Wo(e)}function Zx(t,e){var r=new Uint8Array(32),n=Wp(r),s=12,i=0;switch(r[0]=5,t.t){case"n":r[1]=2,xQ(r,s,t.v),i|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,t.v?1:0,!0),i|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(s,e.indexOf(t.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,i,!0),r.slice(0,s)}function ey(t,e){var r=new Uint8Array(32),n=Wp(r),s=12,i=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(s,t.v,!0),i|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,t.v?1:0,!0),i|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(s,e.indexOf(t.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,i,!0),r.slice(0,s)}function vo(t){var e=cn(t);return b0(e[1][0].data)}function vQ(t,e,r){var n,s,i,o;if(!((n=t[6])!=null&&n[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var u=((o=(i=t[8])==null?void 0:i[0])==null?void 0:o.data)&&ou(t[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var d=0,h=Wp(t[7][0].data),p=0,g=[],y=Wp(t[4][0].data),v=0,T=[],w=0;w<e.length;++w){if(e[w]==null){h.setUint16(w*2,65535,!0),y.setUint16(w*2,65535);continue}h.setUint16(w*2,p,!0),y.setUint16(w*2,v,!0);var E,O;switch(typeof e[w]){case"string":E=Zx({t:"s",v:e[w]},r),O=ey({t:"s",v:e[w]},r);break;case"number":E=Zx({t:"n",v:e[w]},r),O=ey({t:"n",v:e[w]},r);break;case"boolean":E=Zx({t:"b",v:e[w]},r),O=ey({t:"b",v:e[w]},r);break;default:throw new Error("Unsupported value "+e[w])}g.push(E),p+=E.length,T.push(O),v+=O.length,++d}for(t[2][0].data=cr(d);w<t[7][0].data.length/2;++w)h.setUint16(w*2,65535,!0),y.setUint16(w*2,65535,!0);return t[6][0].data=Wo(g),t[3][0].data=Wo(T),d}function bQ(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Hs(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(nn(n)));var i=qp(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(Y){return Y.forEach(function(J){typeof J=="string"&&o.push(J)})});var u={},d=[],h=gr.read(e.numbers,{type:"base64"});h.FileIndex.map(function(Y,J){return[Y,h.FullPaths[J]]}).forEach(function(Y){var J=Y[0],ee=Y[1];if(J.type==2&&J.name.match(/\.iwa/)){var ie=J.content,Ae=Ti(ie),De=Ei(Ae);De.forEach(function(ke){d.push(ke.id),u[ke.id]={deps:[],location:ee,type:ou(ke.messages[0].meta[1][0].data)}})}}),d.sort(function(Y,J){return Y-J});var p=d.filter(function(Y){return Y>1}).map(function(Y){return[Y,cr(Y)]});h.FileIndex.map(function(Y,J){return[Y,h.FullPaths[J]]}).forEach(function(Y){var J=Y[0];if(Y[1],!!J.name.match(/\.iwa/)){var ee=Ei(Ti(J.content));ee.forEach(function(ie){ie.messages.forEach(function(Ae){p.forEach(function(De){ie.messages.some(function(ke){return ou(ke.meta[1][0].data)!=11006&&gQ(ke.data,De[1])})&&u[De[0]].deps.push(ie.id)})})})}});for(var g=gr.find(h,u[1].location),y=Ei(Ti(g.content)),v,T=0;T<y.length;++T){var w=y[T];w.id==1&&(v=w)}var E=vo(cn(v.messages[0].data)[1][0].data);for(g=gr.find(h,u[E].location),y=Ei(Ti(g.content)),T=0;T<y.length;++T)w=y[T],w.id==E&&(v=w);for(E=vo(cn(v.messages[0].data)[2][0].data),g=gr.find(h,u[E].location),y=Ei(Ti(g.content)),T=0;T<y.length;++T)w=y[T],w.id==E&&(v=w);for(E=vo(cn(v.messages[0].data)[2][0].data),g=gr.find(h,u[E].location),y=Ei(Ti(g.content)),T=0;T<y.length;++T)w=y[T],w.id==E&&(v=w);var O=cn(v.messages[0].data);{O[6][0].data=cr(n.e.r+1),O[7][0].data=cr(n.e.c+1);var M=vo(O[46][0].data),U=gr.find(h,u[M].location),P=Ei(Ti(U.content));{for(var X=0;X<P.length&&P[X].id!=M;++X);if(P[X].id!=M)throw"Bad ColumnRowUIDMapArchive";var B=cn(P[X].messages[0].data);B[1]=[],B[2]=[],B[3]=[];for(var A=0;A<=n.e.c;++A){var N=[];N[1]=N[2]=[{type:0,data:cr(A+420690)}],B[1].push({type:2,data:Nn(N)}),B[2].push({type:0,data:cr(A)}),B[3].push({type:0,data:cr(A)})}B[4]=[],B[5]=[],B[6]=[];for(var C=0;C<=n.e.r;++C)N=[],N[1]=N[2]=[{type:0,data:cr(C+726270)}],B[4].push({type:2,data:Nn(N)}),B[5].push({type:0,data:cr(C)}),B[6].push({type:0,data:cr(C)});P[X].messages[0].data=Nn(B)}U.content=Vc($c(P)),U.size=U.content.length,delete O[46];var R=cn(O[4][0].data);{R[7][0].data=cr(n.e.r+1);var F=cn(R[1][0].data),W=vo(F[2][0].data);U=gr.find(h,u[W].location),P=Ei(Ti(U.content));{if(P[0].id!=W)throw"Bad HeaderStorageBucket";var V=cn(P[0].messages[0].data);for(C=0;C<i.length;++C){var Ee=cn(V[2][0].data);Ee[1][0].data=cr(C),Ee[4][0].data=cr(i[C].length),V[2][C]={type:V[2][0].type,data:Nn(Ee)}}P[0].messages[0].data=Nn(V)}U.content=Vc($c(P)),U.size=U.content.length;var Pe=vo(R[2][0].data);U=gr.find(h,u[Pe].location),P=Ei(Ti(U.content));{if(P[0].id!=Pe)throw"Bad HeaderStorageBucket";for(V=cn(P[0].messages[0].data),A=0;A<=n.e.c;++A)Ee=cn(V[2][0].data),Ee[1][0].data=cr(A),Ee[4][0].data=cr(n.e.r+1),V[2][A]={type:V[2][0].type,data:Nn(Ee)};P[0].messages[0].data=Nn(V)}U.content=Vc($c(P)),U.size=U.content.length;var ze=vo(R[4][0].data);(function(){for(var Y=gr.find(h,u[ze].location),J=Ei(Ti(Y.content)),ee,ie=0;ie<J.length;++ie){var Ae=J[ie];Ae.id==ze&&(ee=Ae)}var De=cn(ee.messages[0].data);{De[3]=[];var ke=[];o.forEach(function(dt,pt){ke[1]=[{type:0,data:cr(pt)}],ke[2]=[{type:0,data:cr(1)}],ke[3]=[{type:2,data:mQ(dt)}],De[3].push({type:2,data:Nn(ke)})})}ee.messages[0].data=Nn(De);var je=$c(J),nt=Vc(je);Y.content=nt,Y.size=Y.content.length})();var Le=cn(R[3][0].data);{var we=Le[1][0];delete Le[2];var se=cn(we.data);{var de=vo(se[2][0].data);(function(){for(var Y=gr.find(h,u[de].location),J=Ei(Ti(Y.content)),ee,ie=0;ie<J.length;++ie){var Ae=J[ie];Ae.id==de&&(ee=Ae)}var De=cn(ee.messages[0].data);{delete De[6],delete Le[7];var ke=new Uint8Array(De[5][0].data);De[5]=[];for(var je=0,nt=0;nt<=n.e.r;++nt){var dt=cn(ke);je+=vQ(dt,i[nt],o),dt[1][0].data=cr(nt),De[5].push({data:Nn(dt),type:2})}De[1]=[{type:0,data:cr(n.e.c+1)}],De[2]=[{type:0,data:cr(n.e.r+1)}],De[3]=[{type:0,data:cr(je)}],De[4]=[{type:0,data:cr(n.e.r+1)}]}ee.messages[0].data=Nn(De);var pt=$c(J),Fe=Vc(pt);Y.content=Fe,Y.size=Y.content.length})()}we.data=Nn(se)}R[3][0].data=Nn(Le)}O[4][0].data=Nn(R)}v.messages[0].data=Nn(O);var ne=$c(y),D=Vc(ne);return g.content=D,g.size=g.content.length,h}function wQ(t){return function(r){for(var n=0;n!=t.length;++n){var s=t[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function T2(t){wQ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function _Q(t,e){return e.bookType=="ods"?j6(t,e):e.bookType=="numbers"?bQ(t,e):e.bookType=="xlsb"?EQ(t,e):TQ(t,e)}function EQ(t,e){Zc=1024,t&&!t.SSF&&(t.SSF=Es(qr)),t&&t.SSF&&(Rm(),Pm(t.SSF),e.revssf=Dm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Gd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=f6.indexOf(e.bookType)>-1,s=UA();T2(e=e||{});var i=l2(),o="",u=0;if(e.cellXfs=[],Jo(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Mt(i,o,qA(t.Props,e)),s.coreprops.push(o),ur(e.rels,2,o,sr.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}for(t.Props.Worksheets=t.Props.SheetNames.length,Mt(i,o,KA(t.Props)),s.extprops.push(o),ur(e.rels,3,o,sr.EXT_PROPS),t.Custprops!==t.Props&&Ln(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Mt(i,o,XA(t.Custprops)),s.custprops.push(o),ur(e.rels,4,o,sr.CUST_PROPS)),u=1;u<=t.SheetNames.length;++u){var p={"!id":{}},g=t.Sheets[t.SheetNames[u-1]],y=(g||{})["!type"]||"sheet";switch(y){case"chart":default:o="xl/worksheets/sheet"+u+"."+r,Mt(i,o,NY(u-1,o,e,t,p)),s.sheets.push(o),ur(e.wbrels,-1,"worksheets/sheet"+u+"."+r,sr.WS[0])}if(g){var v=g["!comments"],T=!1,w="";v&&v.length>0&&(w="xl/comments"+u+"."+r,Mt(i,w,CY(v,w)),s.comments.push(w),ur(p,-1,"../comments"+u+"."+r,sr.CMNT),T=!0),g["!legacy"]&&T&&Mt(i,"xl/drawings/vmlDrawing"+u+".vml",d6(u,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&Mt(i,HA(o),iu(p))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,Mt(i,o,AY(e.Strings,o,e)),s.strs.push(o),ur(e.wbrels,-1,"sharedStrings."+r,sr.SST)),o="xl/workbook."+r,Mt(i,o,kY(t,o)),s.workbooks.push(o),ur(e.rels,1,o,sr.WB),o="xl/theme/theme1.xml",Mt(i,o,c6(t.Themes,e)),s.themes.push(o),ur(e.wbrels,-1,"theme/theme1.xml",sr.THEME),o="xl/styles."+r,Mt(i,o,SY(t,o,e)),s.styles.push(o),ur(e.wbrels,-1,"styles."+r,sr.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",Mt(i,o,t.vbaraw),s.vba.push(o),ur(e.wbrels,-1,"vbaProject.bin",sr.VBA)),o="xl/metadata."+r,Mt(i,o,IY(o)),s.metadata.push(o),ur(e.wbrels,-1,"metadata."+r,sr.XLMETA),Mt(i,"[Content_Types].xml",zA(s,e)),Mt(i,"_rels/.rels",iu(e.rels)),Mt(i,"xl/_rels/workbook."+r+".rels",iu(e.wbrels)),delete e.revssf,delete e.ssf,i}function TQ(t,e){Zc=1024,t&&!t.SSF&&(t.SSF=Es(qr)),t&&t.SSF&&(Rm(),Pm(t.SSF),e.revssf=Dm(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Gd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=f6.indexOf(e.bookType)>-1,s=UA();T2(e=e||{});var i=l2(),o="",u=0;if(e.cellXfs=[],Jo(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Mt(i,o,qA(t.Props,e)),s.coreprops.push(o),ur(e.rels,2,o,sr.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}t.Props.Worksheets=t.Props.SheetNames.length,Mt(i,o,KA(t.Props)),s.extprops.push(o),ur(e.rels,3,o,sr.EXT_PROPS),t.Custprops!==t.Props&&Ln(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Mt(i,o,XA(t.Custprops)),s.custprops.push(o),ur(e.rels,4,o,sr.CUST_PROPS));var p=["SheetJ5"];for(e.tcid=0,u=1;u<=t.SheetNames.length;++u){var g={"!id":{}},y=t.Sheets[t.SheetNames[u-1]],v=(y||{})["!type"]||"sheet";switch(v){case"chart":default:o="xl/worksheets/sheet"+u+"."+r,Mt(i,o,_6(u-1,e,t,g)),s.sheets.push(o),ur(e.wbrels,-1,"worksheets/sheet"+u+"."+r,sr.WS[0])}if(y){var T=y["!comments"],w=!1,E="";if(T&&T.length>0){var O=!1;T.forEach(function(M){M[1].forEach(function(U){U.T==!0&&(O=!0)})}),O&&(E="xl/threadedComments/threadedComment"+u+"."+r,Mt(i,E,tG(T,p,e)),s.threadedcomments.push(E),ur(g,-1,"../threadedComments/threadedComment"+u+"."+r,sr.TCMNT)),E="xl/comments"+u+"."+r,Mt(i,E,h6(T)),s.comments.push(E),ur(g,-1,"../comments"+u+"."+r,sr.CMNT),w=!0}y["!legacy"]&&w&&Mt(i,"xl/drawings/vmlDrawing"+u+".vml",d6(u,y["!comments"])),delete y["!comments"],delete y["!legacy"]}g["!id"].rId1&&Mt(i,HA(o),iu(g))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,Mt(i,o,n6(e.Strings,e)),s.strs.push(o),ur(e.wbrels,-1,"sharedStrings."+r,sr.SST)),o="xl/workbook."+r,Mt(i,o,k6(t)),s.workbooks.push(o),ur(e.rels,1,o,sr.WB),o="xl/theme/theme1.xml",Mt(i,o,c6(t.Themes,e)),s.themes.push(o),ur(e.wbrels,-1,"theme/theme1.xml",sr.THEME),o="xl/styles."+r,Mt(i,o,o6(t,e)),s.styles.push(o),ur(e.wbrels,-1,"styles."+r,sr.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",Mt(i,o,t.vbaraw),s.vba.push(o),ur(e.wbrels,-1,"vbaProject.bin",sr.VBA)),o="xl/metadata."+r,Mt(i,o,u6()),s.metadata.push(o),ur(e.wbrels,-1,"metadata."+r,sr.XLMETA),p.length>1&&(o="xl/persons/person.xml",Mt(i,o,rG(p)),s.people.push(o),ur(e.wbrels,-1,"persons/person.xml",sr.PEOPLE)),Mt(i,"[Content_Types].xml",zA(s,e)),Mt(i,"_rels/.rels",iu(e.rels)),Mt(i,"xl/_rels/workbook."+r+".rels",iu(e.wbrels)),delete e.revssf,delete e.ssf,i}function kQ(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=za(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function P6(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return q0(e.file,gr.write(t,{type:ir?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return gr.write(t,e)}function NQ(t,e){var r=Es(e||{}),n=_Q(t,r);return SQ(n,r)}function SQ(t,e){var r={},n=ir?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?gr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(jm(s))}return e.password&&typeof encrypt_agile<"u"?P6(encrypt_agile(s,e.password),e):e.type==="file"?q0(e.file,s):e.type=="string"?zd(s):s}function AQ(t,e){var r=e||{},n=HY(t,r);return P6(n,r)}function Xi(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return g0(y0(n));case"binary":return y0(n);case"string":return t;case"file":return q0(e.file,n,"utf8");case"buffer":return ir?Ga(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Xi(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function CQ(t,e){switch(e.type){case"base64":return g0(t);case"binary":return t;case"string":return t;case"file":return q0(e.file,t,"binary");case"buffer":return ir?Ga(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Sf(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?g0(r):e.type=="string"?zd(r):r;case"file":return q0(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function R6(t,e){nH(),pY(t);var r=Es(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=R6(t,r);return r.type="array",jm(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=t.SheetNames.indexOf(r.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Xi(UY(t,r),r);case"slk":case"sylk":return Xi(dq.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"htm":case"html":return Xi(A6(t.Sheets[t.SheetNames[s]],r),r);case"txt":return CQ(D6(t.Sheets[t.SheetNames[s]],r),r);case"csv":return Xi(k2(t.Sheets[t.SheetNames[s]],r),r,"\uFEFF");case"dif":return Xi(hq.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"dbf":return Sf(uq.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"prn":return Xi(fq.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"rtf":return Xi(bq.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"eth":return Xi(r6.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"fods":return Xi(j6(t,r),r);case"wk1":return Sf(FT.sheet_to_wk1(t.Sheets[t.SheetNames[s]],r),r);case"wk3":return Sf(FT.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Sf(S6(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),AQ(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return NQ(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function IQ(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function $m(t,e,r){var n={};return n.type="file",n.file=e,IQ(n),R6(t,n)}function jQ(t,e,r,n,s,i,o,u){var d=On(r),h=u.defval,p=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),g=!0,y=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:r,enumerable:!1})}catch{y.__rowNum__=r}else y.__rowNum__=r;if(!o||t[r])for(var v=e.s.c;v<=e.e.c;++v){var T=o?t[r][v]:t[n[v]+d];if(T===void 0||T.t===void 0){if(h===void 0)continue;i[v]!=null&&(y[i[v]]=h);continue}var w=T.v;switch(T.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+T.t)}if(i[v]!=null){if(w==null)if(T.t=="e"&&w===null)y[i[v]]=null;else if(h!==void 0)y[i[v]]=h;else if(p&&w===null)y[i[v]]=null;else continue;else y[i[v]]=p&&(T.t!=="n"||T.t==="n"&&u.rawNumbers!==!1)?w:Ha(T,w,u);w!=null&&(g=!1)}}return{row:y,isempty:g}}function qp(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,i=[],o=0,u="",d={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},p=h.range!=null?h.range:t["!ref"];switch(h.header===1?n=1:h.header==="A"?n=2:Array.isArray(h.header)?n=3:h.header==null&&(n=0),typeof p){case"string":d=Ir(p);break;case"number":d=Ir(t["!ref"]),d.s.r=p;break;default:d=p}n>0&&(s=0);var g=On(d.s.r),y=[],v=[],T=0,w=0,E=Array.isArray(t),O=d.s.r,M=0,U={};E&&!t[O]&&(t[O]=[]);var P=h.skipHidden&&t["!cols"]||[],X=h.skipHidden&&t["!rows"]||[];for(M=d.s.c;M<=d.e.c;++M)if(!(P[M]||{}).hidden)switch(y[M]=qn(M),r=E?t[O][M]:t[y[M]+g],n){case 1:i[M]=M-d.s.c;break;case 2:i[M]=y[M];break;case 3:i[M]=h.header[M-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),u=o=Ha(r,null,h),w=U[o]||0,!w)U[o]=1;else{do u=o+"_"+w++;while(U[u]);U[o]=w,U[u]=1}i[M]=u}for(O=d.s.r+s;O<=d.e.r;++O)if(!(X[O]||{}).hidden){var B=jQ(t,d,O,y,n,i,E,h);(B.isempty===!1||(n===1?h.blankrows!==!1:h.blankrows))&&(v[T++]=B.row)}return v.length=T,v}var HT=/"/g;function PQ(t,e,r,n,s,i,o,u){for(var d=!0,h=[],p="",g=On(r),y=e.s.c;y<=e.e.c;++y)if(n[y]){var v=u.dense?(t[r]||[])[y]:t[n[y]+g];if(v==null)p="";else if(v.v!=null){d=!1,p=""+(u.rawNumbers&&v.t=="n"?v.v:Ha(v,null,u));for(var T=0,w=0;T!==p.length;++T)if((w=p.charCodeAt(T))===s||w===i||w===34||u.forceQuotes){p='"'+p.replace(HT,'""')+'"';break}p=="ID"&&(p='"ID"')}else v.f!=null&&!v.F?(d=!1,p="="+v.f,p.indexOf(",")>=0&&(p='"'+p.replace(HT,'""')+'"')):p="";h.push(p)}return u.blankrows===!1&&d?null:h.join(o)}function k2(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var s=Ir(t["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),u=n.RS!==void 0?n.RS:`
`,d=u.charCodeAt(0),h=new RegExp((i=="|"?"\\|":i)+"+$"),p="",g=[];n.dense=Array.isArray(t);for(var y=n.skipHidden&&t["!cols"]||[],v=n.skipHidden&&t["!rows"]||[],T=s.s.c;T<=s.e.c;++T)(y[T]||{}).hidden||(g[T]=qn(T));for(var w=0,E=s.s.r;E<=s.e.r;++E)(v[E]||{}).hidden||(p=PQ(t,s,E,g,o,d,i,n),p!=null&&(n.strip&&(p=p.replace(h,"")),(p||n.blankrows!==!1)&&r.push((w++?u:"")+p)));return delete n.dense,r.join("")}function D6(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=k2(t,e);return r}function RQ(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var s=Ir(t["!ref"]),i="",o=[],u,d=[],h=Array.isArray(t);for(u=s.s.c;u<=s.e.c;++u)o[u]=qn(u);for(var p=s.s.r;p<=s.e.r;++p)for(i=On(p),u=s.s.c;u<=s.e.c;++u)if(e=o[u]+i,r=h?(t[p]||[])[u]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}d[d.length]=e+"="+n}return d}function O6(t,e,r){var n=r||{},s=+!n.skipHeader,i=t||{},o=0,u=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var d=typeof n.origin=="string"?bn(n.origin):n.origin;o=d.r,u=d.c}var h,p={s:{c:0,r:0},e:{c:u,r:o+e.length-1+s}};if(i["!ref"]){var g=Ir(i["!ref"]);p.e.c=Math.max(p.e.c,g.e.c),p.e.r=Math.max(p.e.r,g.e.r),o==-1&&(o=g.e.r+1,p.e.r=o+e.length-1+s)}else o==-1&&(o=0,p.e.r=e.length-1+s);var y=n.header||[],v=0;e.forEach(function(w,E){Ln(w).forEach(function(O){(v=y.indexOf(O))==-1&&(y[v=y.length]=O);var M=w[O],U="z",P="",X=pr({c:u+v,r:o+E+s});h=w0(i,X),M&&typeof M=="object"&&!(M instanceof Date)?i[X]=M:(typeof M=="number"?U="n":typeof M=="boolean"?U="b":typeof M=="string"?U="s":M instanceof Date?(U="d",n.cellDates||(U="n",M=_s(M)),P=n.dateNF||qr[14]):M===null&&n.nullError&&(U="e",M=0),h?(h.t=U,h.v=M,delete h.w,delete h.R,P&&(h.z=P)):i[X]=h={t:U,v:M},P&&(h.z=P))})}),p.e.c=Math.max(p.e.c,u+y.length-1);var T=On(o);if(s)for(v=0;v<y.length;++v)i[qn(v+u)+T]={t:"s",v:y[v]};return i["!ref"]=nn(p),i}function DQ(t,e){return O6(null,t,e)}function w0(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=bn(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?w0(t,pr(e)):w0(t,pr({r:e,c:r||0}))}function OQ(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function FQ(){return{SheetNames:[],Sheets:{}}}function LQ(t,e,r,n){var s=1;if(!r)for(;s<=65535&&t.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||r;for(++s;s<=65535&&t.SheetNames.indexOf(r=o+s)!=-1;++s);}if(T6(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function MQ(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=OQ(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function $Q(t,e){return t.z=e,t}function F6(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function VQ(t,e,r){return F6(t,"#"+e,r)}function BQ(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function UQ(t,e,r,n){for(var s=typeof e!="string"?e:Ir(e),i=typeof e=="string"?e:nn(e),o=s.s.r;o<=s.e.r;++o)for(var u=s.s.c;u<=s.e.c;++u){var d=w0(t,o,u);d.t="n",d.F=i,delete d.v,o==s.s.r&&u==s.s.c&&(d.f=r,n&&(d.D=!0))}return t}var li={encode_col:qn,encode_row:On,encode_cell:pr,encode_range:nn,decode_col:p2,decode_row:f2,split_cell:nW,decode_cell:bn,decode_range:Hs,format_cell:Ha,sheet_add_aoa:FA,sheet_add_json:O6,sheet_add_dom:C6,aoa_to_sheet:Fu,json_to_sheet:DQ,table_to_sheet:I6,table_to_book:hQ,sheet_to_csv:k2,sheet_to_txt:D6,sheet_to_json:qp,sheet_to_html:A6,sheet_to_formulae:RQ,sheet_to_row_object_array:qp,sheet_get_cell:w0,book_new:FQ,book_append_sheet:LQ,book_set_sheet_visibility:MQ,cell_set_number_format:$Q,cell_set_hyperlink:F6,cell_set_internal_link:VQ,cell_add_comment:BQ,sheet_set_array_formula:UQ,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const L6=({orders:t,setOrders:e,fetchOrders:r,searchQuery:n,setSearchQuery:s,formatDate:i,handleRenewal:o,actionLoading:u,balance:d,theme:h="dark"})=>{const[p,g]=S.useState(!1),[y,v]=S.useState(null),[T,w]=S.useState(""),[E,O]=S.useState(!1),[M,U]=S.useState({key:null,direction:"asc"}),P=h==="dark",X={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},B={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:P?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},A={hidden:{opacity:0,scale:.95,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.25,ease:"easeOut"}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.15}}},N={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.15}}},C=S.useMemo(()=>{let se=[...t].filter(de=>(de.productName||"").toLowerCase().includes(n.toLowerCase())||(de.orderId||"").toLowerCase().includes(n.toLowerCase()));return M.key&&se.sort((de,ne)=>{let D=de[M.key]||"",Y=ne[M.key]||"";return typeof D=="string"&&(D=D.toLowerCase()),typeof Y=="string"&&(Y=Y.toLowerCase()),D<Y?M.direction==="asc"?-1:1:D>Y?M.direction==="asc"?1:-1:0}),se},[t,n,M]),R=se=>{const de={netflix:{bg:P?"bg-red-900/30":"bg-red-100",text:P?"text-red-300":"text-red-800"},disney:{bg:P?"bg-blue-900/30":"bg-blue-100",text:P?"text-blue-300":"text-blue-800"},max:{bg:P?"bg-yellow-900/30":"bg-yellow-100",text:P?"text-yellow-300":"text-yellow-800"},spotify:{bg:P?"bg-green-900/30":"bg-green-100",text:P?"text-green-300":"text-green-800"},default:{bg:P?"bg-gray-900/30":"bg-gray-100",text:P?"text-gray-300":"text-gray-700"}};return de[se?.toLowerCase()]||de.default},F=se=>({netflix:"Netflix",disney:"Disney+",max:"Max",spotify:"Spotify"})[se?.toLowerCase()]||se||"N/A",W=(se,de)=>{const ne=se.status||"pending",D=new Date(se.endDate)>new Date;let Y,J,ee;return ne==="soporte"?(Y="En soporte",J=de?"text-blue-400":"text-blue-600",ee=a.jsx(Pa,{className:J,title:"En Soporte"})):ne==="rechazado"?(Y="No aplica soporte",J=de?"text-amber-700":"text-amber-900",ee=a.jsx(oi,{className:J,title:"No aplica soporte"})):ne==="pending"?(Y="Pendiente a activacion",J=de?"text-yellow-400":"text-yellow-600",ee=a.jsx(Du,{className:J,title:"Pendiente a activacion"})):D?(Y="Activo",J=de?"text-green-400":"text-green-600",ee=a.jsx(bu,{className:J,title:"Activo"})):(Y="Expirado",J=de?"text-red-400":"text-red-600",ee=a.jsx(oi,{className:J,title:"Expirado"})),{text:Y,color:J,icon:ee}},V=se=>{U(de=>({key:se,direction:de.key===se&&de.direction==="asc"?"desc":"asc"}))},Ee=se=>M.key!==se?null:M.direction==="asc"?a.jsx(Cm,{className:"ml-1"}):a.jsx(Am,{className:"ml-1"}),Pe=()=>{const se=C.map(Y=>{const J=parseFloat(Y.price)||0,ee=parseFloat(Y.renewalPrice)||J,ie=Y.status||"pending",Ae=ie==="pending",De=ie==="soporte",ke=ie==="rechazado",je=new Date(Y.endDate)>new Date,nt=Math.max(0,Y.daysRemaining||0);let dt;De?dt="En soporte":ke?dt="No aplica soporte":Ae?dt="Pendiente a activacion":je?dt="Activo":dt="Expirado";const pt=De||ke||Ae;let Fe;return pt?Fe=dt:Fe=`${nt} día${nt===1?"":"s"}`,{Estado:dt,Producto:Y.productName||"Sin nombre",Categoría:F(Y.category),"N° Pedido":Y.orderId||"N/A",Precio:`S/ ${J.toFixed(2)}`,"Precio Renovación":ee!==J?`S/ ${ee.toFixed(2)}`:"N/A","Tiempo Restante":Fe,"Fecha de Inicio":i(Y.startDate),"Fecha de Vencimiento":i(Y.endDate),Email:Y.account?.email||"N/A",Contraseña:Y.account?.password||"N/A",Perfil:Y.account?.profile||"N/A",PIN:Y.account?.pin||"N/A",Proveedor:Y.provider||"N/A",Nombre:Y.client?.customerName||"N/A","Teléfono Cliente":Y.client?.phone||"N/A"}}),de=li.json_to_sheet(se),ne=li.book_new();li.book_append_sheet(ne,de,"Pedidos");const D=new Date().toISOString().slice(0,10).replace(/-/g,"");$m(ne,`mis_pedidos_export_${D}.xlsx`)},ze=se=>{v(se),w(""),g(!0)},Le=()=>{g(!1),v(null),w(""),O(!1)},we=async()=>{if(!T.trim()){alert("El mensaje es obligatorio.");return}if(!y||!y.id){alert("Error: No se encontró el ID del pedido.");return}O(!0);try{await la(yt(Ve,"sales",y.id),{status:"soporte",soporteMessage:T,soporteCreatedAt:new Date},{merge:!0}),console.log(`Documento actualizado exitosamente para order ID: ${y.id}`),typeof e=="function"&&e(se=>{const de=se.map(D=>String(D.id)===String(y.id)?{...D,status:"soporte",soporteMessage:T,soporteCreatedAt:new Date}:D);console.log("Orders actualizados localmente:",de);const ne=de.find(D=>String(D.id)===String(y.id));return console.log(`Mensaje agregado localmente para ${y.id}:`,ne?.soporteMessage),de}),typeof r=="function"&&setTimeout(async()=>{await r()},500),alert(`Soporte enviado para "${y.productName}". El pedido ahora está en estado "En soporte".`)}catch(se){console.error("Error detallado en sendSupport:",se),alert("Hubo un error al enviar a soporte. Verifica la consola del navegador para más detalles. Asegúrate de que el ID del pedido sea correcto y que tengas permisos en Firebase.")}finally{O(!1)}Le()};return a.jsxs(te.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-7xl mx-auto border ${P?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:X,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"orders-title",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[a.jsxs("h3",{id:"orders-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${P?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[a.jsx(ia,{className:"mr-2"})," Mis Pedidos",a.jsx("span",{className:`ml-2 bg-gradient-to-r ${P?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:C.length})]}),a.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[a.jsxs("div",{className:"relative flex-1 lg:w-80",children:[a.jsx("input",{type:"text",placeholder:"Buscar pedidos por nombre o ID...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${P?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:n,onChange:se=>s(se.target.value),"aria-label":"Buscar pedidos por nombre o ID"}),a.jsx(ia,{className:`absolute left-3 top-3.5 ${P?"text-gray-400":"text-gray-500"}`,size:18})]}),a.jsxs(te.button,{onClick:Pe,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${P?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos como Excel","aria-label":"Exportar pedidos a Excel",children:[a.jsx(Im,{size:18}),a.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),a.jsx(zt,{children:C.length>0?a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:a.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:a.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${P?"bg-gray-800/50":"bg-white/50"}`,children:[a.jsx("thead",{className:`${P?"bg-gray-700/60":"bg-gray-50/60"}`,children:a.jsx("tr",{children:[{key:"status",label:"Estado"},{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:"orderId",label:"N° Pedido"},{key:"price",label:"Precio"},{key:"daysRemaining",label:"Tiempo Restante"},{key:"startDate",label:"Inicio"},{key:"endDate",label:"Vencimiento"},{key:"email",label:"Email"},{key:"password",label:"Contraseña"},{key:"profile",label:"Perfil"},{key:"pin",label:"PIN"},{key:"provider",label:"Proveedor"},{key:"customerName",label:"Nombre Cliente"},{key:"phone",label:"Teléfono Cliente"},{label:"Acciones"}].map(({key:se,label:de})=>a.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${P?"text-gray-300":"text-gray-700"} cursor-pointer hover:text-blue-400 transition-colors`,onClick:()=>se&&V(se),children:a.jsxs("div",{className:"flex items-center justify-between",children:[de,se&&Ee(se)]})},se||de))})}),a.jsx("tbody",{className:"divide-y divide-gray-200/30",children:C.map(se=>{const de=parseFloat(se.price)||0,ne=parseFloat(se.renewalPrice)||de,D=se.status||"pending",Y=D==="pending",J=D==="soporte",ee=D==="rechazado",ie=new Date(se.endDate)>new Date,Ae=Math.max(0,se.daysRemaining||0),De=Math.min(se.timeElapsedPercentage||0,100),ke=W(se,P),je=R(se.category);let nt;De<70?nt=P?"bg-green-500":"bg-green-600":De<90?nt=P?"bg-orange-500":"bg-orange-600":nt=P?"bg-red-500":"bg-red-600";const dt=!["En soporte","No aplica soporte","Pendiente a activacion"].includes(ke.text),Fe=J||ee||Y?ke.text:`${Ae} día${Ae===1?"":"s"}`,wr=dt?nt.replace("bg-","text-"):ke.color,Dt=ke.text,Ge=encodeURIComponent(`*Consulta sobre Pedido - ${se.productName||"Sin nombre"}*

*N° Pedido:* ${se.orderId||"No especificado"}
*Producto:* ${se.productName||"Sin nombre"}
*Precio:* S/ ${de.toFixed(2)}
`+(ne?`*Precio de Renovación:* S/ ${ne.toFixed(2)}
`:"")+`*Estado:* ${Dt}
*Fecha de Inicio:* ${i(se.startDate)}
*Fecha de Vencimiento:* ${i(se.endDate)}
`+(Y?`Hola 😊, he comprado un producto a pedido (${se.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),ar=!(Y||J||ee),St=Y?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:J?`*Nota:* Este pedido está "En Soporte". El proveedor lo está revisando.

`:ee?`*Nota:* Este pedido ha sido rechazado. No aplica soporte.

`:"",Kt=encodeURIComponent(`😊 Estimado/a ${se.client?.customerName||"Cliente"} 😊

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📌 Tipo: ${se.productName||"Sin nombre"}.
🔢 Código: ${se.orderId||"No especificado"}
`+(ar?`📧 Correo: ${se.account?.email||"No especificado"}
🔐 Contraseña: ${se.account?.password||"No especificado"}
👤 Perfil: ${se.account?.profile||"No especificado"}
📌 PIN: ${se.account?.pin||"No especificado"}
`:"")+`🌐 URL: Sin URL
📅 Fecha de creación: ${i(se.startDate)}
📅 Fecha de vencimiento: ${i(se.endDate)}
🏁 Días contratados: ${se.durationDays||30} días.

`+St+`*Términos y Condiciones:*
${se.termsAndConditions||"No se especificaron términos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),le=se.providerPhone?se.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999",Ze=se.client?.phone?se.client.phone.replace(/^\+/,"").replace(/\D/g,""):"51999999999";return a.jsxs(te.tr,{className:`transition-colors duration-200 ${P?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:B,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${se.id}-title`,children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`p-1.5 rounded-full ${ke.color.replace("text-","bg-").replace("-600","/20").replace("-400","/20")}`,children:ke.icon}),a.jsx("span",{className:`${ke.color} font-medium`,children:ke.text})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("h4",{id:`order-${se.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:se.productName||"Sin nombre"})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${je.bg} ${je.text}`,children:F(se.category)})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:se.orderId||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"font-bold text-lg",children:["S/ ",de.toFixed(2)]}),ne!==de&&a.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 bg-gray-100/50 dark:bg-gray-800/50 px-2 py-1 rounded-full",children:[a.jsx(X5,{size:12,className:"text-gray-400"}),a.jsxs("span",{children:["S/ ",ne.toFixed(2)]})]})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[dt&&a.jsx("div",{className:"relative",children:a.jsx("div",{className:`w-20 h-2 rounded-full overflow-hidden ${P?"bg-gray-600/40":"bg-gray-300/40"}`,children:a.jsx(te.div,{className:`h-2 rounded-full ${nt}`,initial:{width:0},animate:{width:`${De}%`},transition:{duration:1.5,ease:"easeInOut"}})})}),a.jsx("span",{className:`text-sm font-medium ${wr}`,children:Fe})]})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:i(se.startDate)}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:i(se.endDate)}),a.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:se.account?.email||"N/A",children:se.account?.email||"N/A"}),a.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:se.account?.password||"N/A",children:se.account?.password||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:se.account?.profile||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-mono",children:se.account?.pin||"N/A"}),a.jsx("td",{className:"px-4 py-4 text-sm font-medium text-teal-600",children:se.provider||"N/A"}),a.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:se.client?.customerName||"N/A",children:se.client?.customerName||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:se.client?.phone||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:["soporte","rechazado"].includes(D)?a.jsx("div",{className:"flex gap-2",children:a.jsx("span",{className:"text-gray-400 text-xs",children:"Sin acciones"})}):a.jsxs("div",{className:"flex gap-2",children:[a.jsx(te.a,{href:`https://wa.me/51${le}?text=${Ge}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar proveedor","aria-label":`Contactar proveedor para el pedido ${se.orderId||se.productName}`,children:a.jsx(Hr,{size:16})}),ie&&se.renewable&&a.jsx(te.button,{onClick:()=>o(se),disabled:u[`renew_${se.id}`]||d<ne,className:`p-2.5 rounded-xl shadow-md flex items-center justify-center ${u[`renew_${se.id}`]||d<ne?"bg-gray-300/50 text-gray-500 cursor-not-allowed":"bg-blue-500/80 hover:bg-blue-600/90 text-white"} transition-all duration-200`,whileHover:{scale:u[`renew_${se.id}`]||d<ne?1:1.1},whileTap:{scale:u[`renew_${se.id}`]||d<ne?1:.9},title:"Renovar pedido","aria-label":`Renovar pedido ${se.orderId||se.productName} por S/ ${ne.toFixed(2)}`,children:u[`renew_${se.id}`]?a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):a.jsx(K5,{size:16})}),a.jsx(te.a,{href:`https://wa.me/51${Ze}?text=${Kt}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-amber-500/80 hover:bg-amber-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar cliente","aria-label":`Contactar cliente para el pedido ${se.orderId||se.productName}`,children:a.jsx(Hr,{size:16})}),a.jsx(te.button,{onClick:()=>ze(se),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-purple-500/80 hover:bg-purple-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Soporte","aria-label":`Abrir soporte para el pedido ${se.orderId||se.productName}`,children:a.jsx(Pa,{size:16})})]})})]},se.id)})})]})})}):a.jsxs(te.div,{className:"text-center py-16",variants:X,initial:"hidden",animate:"visible",children:[a.jsx(te.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:a.jsx(ia,{className:`mx-auto text-6xl ${P?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),a.jsx("h4",{className:`text-xl font-semibold ${P?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos encontrados"}),a.jsx("p",{className:`text-sm ${P?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu búsqueda o realiza tu primer pedido."})]})}),a.jsx(zt,{children:p&&y&&a.jsxs(a.Fragment,{children:[a.jsx(te.div,{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",variants:N,initial:"hidden",animate:"visible",exit:"exit",onClick:Le}),a.jsxs(te.div,{className:`relative w-full max-w-md p-6 rounded-3xl shadow-2xl border z-[10000] ${P?"bg-gray-800/95 border-gray-700/50 text-white":"bg-white/95 border-gray-200/50 text-gray-900"}`,variants:A,initial:"hidden",animate:"visible",exit:"exit",onClick:se=>se.stopPropagation(),children:[a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx(te.button,{onClick:Le,className:`p-2 rounded-full ${P?"bg-gray-700/50 hover:bg-gray-600/50":"bg-gray-200/50 hover:bg-gray-300/50"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(oi,{size:18,className:P?"text-gray-300":"text-gray-600"})})}),a.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[a.jsx(Pa,{className:"text-purple-500"}),"Soporte para: ",y.productName||"Sin nombre"]}),a.jsx("textarea",{value:T,onChange:se=>w(se.target.value),placeholder:"Escribe tu mensaje de soporte detallado (obligatorio)...",className:`w-full p-4 rounded-2xl resize-none transition-all duration-200 ${P?"bg-gray-700/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-purple-500/50":"bg-gray-100/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-purple-500/50"} focus:ring-2 focus:ring-purple-500/30 focus:outline-none`,rows:5,required:!0,disabled:E}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx(te.button,{onClick:Le,className:`px-6 py-2.5 rounded-xl font-medium transition-all duration-200 ${P?"bg-gray-600/70 hover:bg-gray-700/80 text-white":"bg-gray-300/70 hover:bg-gray-400/80 text-gray-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},disabled:E,children:"Cancelar"}),a.jsx(te.button,{onClick:we,className:`px-6 py-2.5 rounded-xl font-medium flex items-center gap-2 transition-all duration-200 ${!T.trim()||E?"bg-gray-400/70 cursor-not-allowed text-gray-500":"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white"}`,whileHover:!T.trim()||E?{}:{scale:1.05},whileTap:!T.trim()||E?{}:{scale:.95},disabled:!T.trim()||E,children:E?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}),"Enviando..."]}):"Enviar Soporte"})]})]})]})})]})};L6.propTypes={orders:K.arrayOf(K.shape({id:K.string.isRequired,productName:K.string,category:K.string,orderId:K.string,price:K.oneOfType([K.string,K.number]),renewalPrice:K.oneOfType([K.string,K.number]),status:K.string,startDate:K.oneOfType([K.string,K.instanceOf(Date)]),endDate:K.oneOfType([K.string,K.instanceOf(Date)]),daysRemaining:K.number,timeElapsedPercentage:K.number,account:K.shape({email:K.string,password:K.string,profile:K.string,pin:K.string}),client:K.shape({customerName:K.string,phone:K.string}),provider:K.string,providerPhone:K.string,renewable:K.bool,termsAndConditions:K.string,durationDays:K.number,soporteMessage:K.string,soporteCreatedAt:K.oneOfType([K.string,K.instanceOf(Date)])})).isRequired,setOrders:K.func.isRequired,fetchOrders:K.func,searchQuery:K.string.isRequired,setSearchQuery:K.func.isRequired,formatDate:K.func.isRequired,handleRenewal:K.func.isRequired,actionLoading:K.object.isRequired,balance:K.number.isRequired,theme:K.oneOf(["light","dark"]).isRequired};const M6=({userName:t,email:e,actionLoading:r,handleUpdatePassword:n,openEditProfileModal:s,handleLogout:i,theme:o="dark"})=>{const u=o==="dark",d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},p={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}};return a.jsxs(te.div,{className:`p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"settings-title",children:[a.jsx(te.h3,{id:"settings-title",className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:"Configuración"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:h,whileHover:"hover",children:[a.jsxs("h4",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-blue-400":"text-blue-600"}`,children:[a.jsx(bs,{size:20}),"Perfil"]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl ${u?"bg-gray-800/30":"bg-gray-100"}`,children:[a.jsx(bs,{className:"text-blue-400 flex-shrink-0",size:20}),a.jsxs("div",{children:[a.jsx("span",{className:`font-medium ${u?"text-white":"text-gray-900"}`,children:"Nombre:"}),a.jsx("span",{className:`ml-2 ${u?"text-gray-300":"text-gray-700"}`,children:t.username})]})]}),a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl ${u?"bg-gray-800/30":"bg-gray-100"}`,children:[a.jsx(n2,{className:"text-blue-400 flex-shrink-0",size:20}),a.jsxs("div",{children:[a.jsx("span",{className:`font-medium ${u?"text-white":"text-gray-900"}`,children:"Correo:"}),a.jsx("span",{className:`ml-2 ${u?"text-gray-300":"text-gray-700"}`,children:e})]})]}),a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl ${u?"bg-gray-800/30":"bg-gray-100"}`,children:[a.jsx(Ap,{className:"text-blue-400 flex-shrink-0",size:20}),a.jsxs("div",{children:[a.jsx("span",{className:`font-medium ${u?"text-white":"text-gray-900"}`,children:"Teléfono:"}),a.jsx("span",{className:`ml-2 ${u?"text-gray-300":"text-gray-700"}`,children:t.phone||"No especificado"})]})]})]}),a.jsxs(te.button,{onClick:()=>s({id:t.id,username:t.username,phone:t.phone}),className:`w-full px-6 py-3 rounded-xl font-semibold transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white focus:ring-blue-400":"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white focus:ring-blue-500"}`,variants:p,whileHover:"hover",whileTap:"tap","aria-label":"Editar perfil",children:[a.jsx(Hz,{size:18,className:"inline mr-2"}),"Editar Perfil"]})]}),a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:h,whileHover:"hover",children:[a.jsxs("h4",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-green-400":"text-green-600"}`,children:[a.jsx(Np,{size:20}),"Seguridad"]}),a.jsxs("form",{onSubmit:n,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Nueva Contraseña"}),a.jsx("input",{type:"password",name:"password",className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all duration-300`,placeholder:"Ingrese nueva contraseña (mínimo 6 caracteres)","aria-label":"Nueva contraseña"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Nuevo Teléfono"}),a.jsx("input",{type:"tel",name:"phone",className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all duration-300`,placeholder:"Ingrese nuevo teléfono (ej: +51 940 505 969)",defaultValue:t.phone||"","aria-label":"Nuevo teléfono"})]}),a.jsx(te.button,{type:"submit",disabled:r.password,className:`w-full py-3 px-6 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${r.password?"bg-gray-300 text-gray-500 cursor-not-allowed":u?"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-400":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white focus:ring-green-500"}`,variants:p,whileHover:r.password?{}:"hover",whileTap:r.password?{}:"tap","aria-label":"Guardar cambios de seguridad",children:r.password?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}),a.jsx("span",{children:"Guardando..."})]}):"Guardar Cambios"})]})]}),a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50 hover:bg-gray-700/70":"bg-white/70 border-gray-200/50 hover:bg-gray-50/70"}`,variants:h,whileHover:"hover",children:[a.jsxs("h4",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-red-400":"text-red-600"}`,children:[a.jsx(Sp,{size:20}),"Sesión"]}),a.jsxs(te.button,{onClick:i,className:`w-full py-3 px-6 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2 shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 ${u?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-400":"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white focus:ring-red-500"}`,variants:p,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar sesión",children:[a.jsx(Sp,{size:18}),"Cerrar Sesión"]})]})]})]})};M6.propTypes={userName:K.shape({id:K.string.isRequired,username:K.string.isRequired,phone:K.string}).isRequired,email:K.string.isRequired,actionLoading:K.shape({password:K.bool}).isRequired,handleUpdatePassword:K.func.isRequired,openEditProfileModal:K.func.isRequired,handleLogout:K.func.isRequired,theme:K.oneOf(["light","dark"]).isRequired};const $6=({orders:t=[],setOrders:e=()=>{},fetchOrders:r,searchQuery:n="",setSearchQuery:s=()=>{},formatDate:i=p=>p?new Date(p).toLocaleDateString("es-PE"):"",handleRenewal:o=()=>{},actionLoading:u={},balance:d=0,theme:h="dark"})=>{const[p,g]=S.useState({key:null,direction:"asc"}),y=h==="dark",v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},T={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:y?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},w=S.useMemo(()=>{let A=[...t.filter(N=>N.status==="soporte")].filter(N=>(N.productName||"").toLowerCase().includes(n.toLowerCase())||(N.orderId||"").toLowerCase().includes(n.toLowerCase()));return p.key&&A.sort((N,C)=>{let R=N[p.key]||"",F=C[p.key]||"";return p.key==="soporteMessage"?(R=N.soporteMessage||"",F=C.soporteMessage||""):p.key==="category"&&(R=O(N.category),F=O(C.category)),typeof R=="string"&&(R=R.toLowerCase()),typeof F=="string"&&(F=F.toLowerCase()),R<F?p.direction==="asc"?-1:1:R>F?p.direction==="asc"?1:-1:0}),A},[t,n,p]),E=B=>{const A={netflix:{bg:y?"bg-red-900/30":"bg-red-100",text:y?"text-red-300":"text-red-800"},disney:{bg:y?"bg-blue-900/30":"bg-blue-100",text:y?"text-blue-300":"text-blue-800"},max:{bg:y?"bg-yellow-900/30":"bg-yellow-100",text:y?"text-yellow-300":"text-yellow-800"},spotify:{bg:y?"bg-green-900/30":"bg-green-100",text:y?"text-green-300":"text-green-800"},default:{bg:y?"bg-gray-900/30":"bg-gray-100",text:y?"text-gray-300":"text-gray-700"}};return A[B?.toLowerCase()]||A.default},O=B=>({netflix:"Netflix",disney:"Disney+",max:"Max",spotify:"Spotify"})[B?.toLowerCase()]||B||"N/A",M=(B,A)=>{const N=B.status||"pending",C=new Date(B.endDate)>new Date;let R,F,W;return N==="soporte"?(R="En soporte",F=A?"text-blue-400":"text-blue-600",W=a.jsx(Pa,{className:F,title:"En Soporte"})):N==="rechazado"?(R="No aplica soporte",F=A?"text-amber-700":"text-amber-900",W=a.jsx(oi,{className:F,title:"No aplica soporte"})):C?(R="Activo",F=A?"text-green-400":"text-green-600",W=a.jsx(bu,{className:F,title:"Activo"})):N==="pending"?(R="Pendiente a activacion",F=A?"text-yellow-400":"text-yellow-600",W=a.jsx(Du,{className:F,title:"Pendiente a activacion"})):(R="Expirado",F=A?"text-red-400":"text-red-600",W=a.jsx(oi,{className:F,title:"Expirado"})),{text:R,color:F,icon:W}},U=B=>{g(A=>({key:B,direction:A.key===B&&A.direction==="asc"?"desc":"asc"}))},P=B=>p.key!==B?null:p.direction==="asc"?a.jsx(Cm,{className:"ml-1"}):a.jsx(Am,{className:"ml-1"}),X=()=>{const B=w.map(R=>{const F=parseFloat(R.price)||0,W=parseFloat(R.renewalPrice)||F,V=R.status||"pending",Ee=V==="pending",Pe=V==="soporte",ze=V==="rechazado",Le=new Date(R.endDate)>new Date,we=Math.max(0,R.daysRemaining||0);let se;Pe?se="En Soporte":ze?se="No aplica soporte":Le?se="Activo":Ee?se="Pendiente a activacion":se="Expirado";const de=Pe||ze||Ee&&!Le;let ne;return de?ne=se:ne=`${we} día${we===1?"":"s"}`,{Estado:se,Producto:R.productName||"Sin nombre",Categoría:O(R.category),"N° Pedido":R.orderId||"N/A",Precio:`S/ ${F.toFixed(2)}`,"Precio Renovación":W!==F?`S/ ${W.toFixed(2)}`:"N/A","Tiempo Restante":ne,"Fecha de Inicio":i(R.startDate),"Fecha de Vencimiento":i(R.endDate),Email:R.account?.email||"N/A",Contraseña:R.account?.password||"N/A",Perfil:R.account?.profile||"N/A",PIN:R.account?.pin||"N/A",Proveedor:R.provider||"N/A","Mensaje de Soporte":R.soporteMessage||"Sin mensaje"}}),A=li.json_to_sheet(B),N=li.book_new();li.book_append_sheet(N,A,"Pedidos");const C=new Date().toISOString().slice(0,10).replace(/-/g,"");$m(N,`mis_pedidos_soporte_export_${C}.xlsx`)};return a.jsxs(te.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-7xl mx-auto border ${y?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:v,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"support-title",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[a.jsxs("h3",{id:"support-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${y?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[a.jsx(Pa,{className:"mr-2"})," Pedidos en Soporte",a.jsx("span",{className:`ml-2 bg-gradient-to-r ${y?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:w.length})]}),a.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[a.jsxs("div",{className:"relative flex-1 lg:w-80",children:[a.jsx("input",{type:"text",placeholder:"Buscar pedidos en soporte por nombre o ID...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${y?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:n,onChange:B=>s(B.target.value),"aria-label":"Buscar pedidos en soporte por nombre o ID"}),a.jsx(ia,{className:`absolute left-3 top-3.5 ${y?"text-gray-400":"text-gray-500"}`,size:18})]}),a.jsxs(te.button,{onClick:X,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${y?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos en soporte como Excel","aria-label":"Exportar pedidos en soporte a Excel",children:[a.jsx(Im,{size:18}),a.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),a.jsx(zt,{children:w.length>0?a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:a.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:a.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${y?"bg-gray-800/50":"bg-white/50"}`,children:[a.jsx("thead",{className:`${y?"bg-gray-700/60":"bg-gray-50/60"}`,children:a.jsx("tr",{children:[{key:null,label:"Estado"},{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:"orderId",label:"N° Pedido"},{key:"price",label:"Precio"},{key:"daysRemaining",label:"Tiempo Restante"},{key:"startDate",label:"Inicio"},{key:"endDate",label:"Vencimiento"},{key:"email",label:"Email"},{key:"password",label:"Contraseña"},{key:"profile",label:"Perfil"},{key:"pin",label:"PIN"},{key:"provider",label:"Proveedor"},{key:"soporteMessage",label:"Mensaje de Soporte"},{label:"Acciones"}].map(({key:B,label:A})=>a.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${y?"text-gray-300":"text-gray-700"} ${B?"cursor-pointer hover:text-blue-400 transition-colors":""}`,onClick:()=>B&&U(B),children:a.jsxs("div",{className:"flex items-center justify-between",children:[A,B&&P(B)]})},B||A))})}),a.jsx("tbody",{className:"divide-y divide-gray-200/30",children:w.map(B=>{const A=parseFloat(B.price)||0,N=parseFloat(B.renewalPrice)||A,C=B.status||"pending",R=C==="pending",F=C==="soporte",W=C==="rechazado",V=new Date(B.endDate)>new Date,Ee=Math.max(0,B.daysRemaining||0),Pe=Math.min(B.timeElapsedPercentage||0,100),ze=M(B,y),Le=E(B.category);let we;Pe<70?we=y?"bg-green-500":"bg-green-600":Pe<90?we=y?"bg-orange-500":"bg-orange-600":we=y?"bg-red-500":"bg-red-600";const se=!["En soporte","No aplica soporte","Pendiente a activacion"].includes(ze.text),ne=F||W||R&&!V?ze.text:`${Ee} día${Ee===1?"":"s"}`,D=se?we.replace("bg-","text-"):ze.color,Y=encodeURIComponent(`*Consulta de Soporte - Pedido ${B.orderId||"N/A"}*

*Producto:* ${B.productName||"Sin nombre"}
*Cliente:* ${B.client?.customerName||"N/A"}
*Mensaje del Cliente:* ${B.soporteMessage||"Sin mensaje"}

Por favor, proporciona una solución o actualización para este soporte. ¡Gracias!`),J=B.providerPhone?B.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return a.jsxs(te.tr,{className:`transition-colors duration-200 ${y?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:T,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${B.id}-title`,children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`p-1.5 rounded-full ${ze.color.replace("text-","bg-").replace("-600","/20").replace("-400","/20")}`,children:ze.icon}),a.jsx("span",{className:`${ze.color} font-medium`,children:ze.text})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsx("h4",{id:`order-${B.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:B.productName||"Sin nombre"})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Le.bg} ${Le.text}`,children:O(B.category)})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:B.orderId||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"font-bold text-lg",children:["S/ ",A.toFixed(2)]}),N!==A&&a.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 bg-gray-100/50 dark:bg-gray-800/50 px-2 py-1 rounded-full",children:[a.jsx(X5,{size:12,className:"text-gray-400"}),a.jsxs("span",{children:["S/ ",N.toFixed(2)]})]})]})}),a.jsx("td",{className:"px-4 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[se&&a.jsx("div",{className:"relative",children:a.jsx("div",{className:`w-20 h-2 rounded-full overflow-hidden ${y?"bg-gray-600/40":"bg-gray-300/40"}`,children:a.jsx(te.div,{className:`h-2 rounded-full ${we}`,initial:{width:0},animate:{width:`${Pe}%`},transition:{duration:1.5,ease:"easeInOut"}})})}),a.jsx("span",{className:`text-sm font-medium ${D}`,children:ne})]})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:i(B.startDate)}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:i(B.endDate)}),a.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:B.account?.email||"N/A",children:B.account?.email||"N/A"}),a.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:B.account?.password||"N/A",children:B.account?.password||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:B.account?.profile||"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-mono",children:B.account?.pin||"N/A"}),a.jsx("td",{className:"px-4 py-4 text-sm font-medium text-teal-600",children:B.provider||"N/A"}),a.jsxs("td",{className:"px-4 py-4 max-w-xs",children:[a.jsx("p",{className:"text-sm break-words line-clamp-3 bg-gray-100/30 dark:bg-gray-800/30 p-2 rounded",title:B.soporteMessage||"Sin mensaje",children:B.soporteMessage||"Sin mensaje"}),B.soporteCreatedAt&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i(B.soporteCreatedAt)})]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex gap-2",children:a.jsx(te.a,{href:`https://wa.me/51${J}?text=${Y}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar proveedor por WhatsApp","aria-label":`Contactar proveedor para el pedido ${B.orderId||B.productName}`,children:a.jsx(Hr,{size:16})})})})]},B.id)})})]})})}):a.jsxs(te.div,{className:"text-center py-16",variants:v,initial:"hidden",animate:"visible",children:[a.jsx(te.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:a.jsx(Pa,{className:`mx-auto text-6xl ${y?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),a.jsx("h4",{className:`text-xl font-semibold ${y?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos en soporte encontrados"}),a.jsx("p",{className:`text-sm ${y?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu búsqueda o verifica si hay pedidos en estado de soporte."})]})})]})};$6.propTypes={orders:K.arrayOf(K.shape({id:K.string.isRequired,productName:K.string,category:K.string,orderId:K.string,price:K.oneOfType([K.string,K.number]),renewalPrice:K.oneOfType([K.string,K.number]),status:K.string,startDate:K.oneOfType([K.string,K.instanceOf(Date)]),endDate:K.oneOfType([K.string,K.instanceOf(Date)]),daysRemaining:K.number,timeElapsedPercentage:K.number,account:K.shape({email:K.string,password:K.string,profile:K.string,pin:K.string}),client:K.shape({customerName:K.string}),provider:K.string,providerPhone:K.string,renewable:K.bool,termsAndConditions:K.string,durationDays:K.number,soporteMessage:K.string,soporteCreatedAt:K.oneOfType([K.string,K.instanceOf(Date)])})),setOrders:K.func,fetchOrders:K.func,searchQuery:K.string,setSearchQuery:K.func,formatDate:K.func,handleRenewal:K.func,actionLoading:K.object,balance:K.number,theme:K.oneOf(["light","dark"])};const zQ=Ii.memo(({show:t,onClose:e,title:r,message:n,theme:s})=>a.jsx(zt,{children:t&&a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:a.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${s==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:i=>i.stopPropagation(),children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:a.jsx(Us,{size:20})}),a.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${s==="dark"?"text-white":"text-gray-900"}`,children:r}),a.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));zQ.propTypes={show:K.bool.isRequired,onClose:K.func.isRequired,title:K.string.isRequired,message:K.string.isRequired,theme:K.string.isRequired};const V6=()=>{const[t,e]=S.useState(!1),[r,n]=S.useState(""),[s,i]=S.useState([]),[o,u]=S.useState({username:"",phone:""}),[d,h]=S.useState(""),[p,g]=S.useState(0),[y,v]=S.useState(null),[T,w]=S.useState("inicio"),[E,O]=S.useState([]),[M,U]=S.useState({}),[P,X]=S.useState([]),[B,A]=S.useState(!0),[N,C]=S.useState({}),[R,F]=S.useState(null),[W,V]=S.useState({isOpen:!1,message:"",title:""}),[Ee,Pe]=S.useState({isOpen:!1,user:null}),[ze,Le]=S.useState({isOpen:!1,provider:null}),[we,se]=S.useState(""),[de,ne]=S.useState([]),[D,Y]=S.useState("dark"),[J,ee]=S.useState(!1),[ie,Ae]=S.useState(!1),[De,ke]=S.useState(!1),je=Li();S.useEffect(()=>{const Se=()=>ke(window.innerWidth<1024);return Se(),window.addEventListener("resize",Se),()=>window.removeEventListener("resize",Se)},[]);const nt=S.useCallback(()=>{Y(Se=>Se==="dark"?"light":"dark")},[]),dt=S.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),pt=S.useCallback((Se,ye)=>{V({isOpen:!0,title:Se,message:ye})},[]),Fe=S.useCallback(()=>{V({isOpen:!1,message:"",title:""})},[]),wr=S.useCallback(Se=>{Pe({isOpen:!0,user:Se})},[]),Dt=S.useCallback(()=>{Pe({isOpen:!1,user:null})},[]),Ge=S.useCallback(Se=>{Le({isOpen:!0,provider:Se})},[]),ar=S.useCallback(()=>{Le({isOpen:!1,provider:null})},[]),St=S.useCallback(Se=>{if(!Se)return"No especificada";try{const ye=Se instanceof Date?Se:new Date(Se);return isNaN(ye.getTime())?"Fecha inválida":ye.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},[]),Kt=S.useCallback(async()=>{if(y)try{const Se=hr(Pt(Ve,"sales"),br("customerId","==",y)),ye=await yn(Se),Ce=new Set,Xe=[];ye.forEach(Ot=>{const xt=Ot.data();xt.providerId&&!Ce.has(xt.providerId)&&(Ce.add(xt.providerId),Xe.push({id:xt.providerId,name:xt.provider||"Proveedor desconocido",phone:xt.providerPhone||"No especificado"}))});const wt=hr(Pt(Ve,"ratings"),br("userId","==",y)),Lt=(await yn(wt)).docs.map(Ot=>Ot.data().providerId);Xe.forEach(Ot=>{Ot.hasRated=Lt.includes(Ot.id)}),ne(Xe)}catch(Se){console.error("Error fetching providers:",Se),F("Error al cargar proveedores: "+Se.message)}},[y]),le=S.useCallback(async(Se,ye)=>{try{C(Xe=>({...Xe,profile:!0}));const Ce=yt(Ve,"users",Se);await Wr(Ce,{username:ye,updatedAt:Cr()}),u(Xe=>({...Xe,username:ye})),pt("Éxito","Perfil actualizado exitosamente"),Dt()}catch(Ce){console.error("Error al actualizar perfil:",Ce),pt("Error",Ce.message||"Error al actualizar el perfil")}finally{C(Ce=>({...Ce,profile:!1}))}},[pt,Dt]),Ze=S.useCallback(async(Se,ye)=>{try{C(Ce=>({...Ce,[`rate_${Se}`]:!0})),await Po(Pt(Ve,"ratings"),{userId:y,providerId:Se,rating:ye,ratedAt:Cr()}),ne(Ce=>Ce.map(Xe=>Xe.id===Se?{...Xe,hasRated:!0}:Xe)),pt("Éxito","Calificación enviada exitosamente"),ar()}catch(Ce){console.error("Error al calificar proveedor:",Ce),pt("Error",Ce.message||"Error al enviar la calificación")}finally{C(Ce=>({...Ce,[`rate_${Se}`]:!1}))}},[y,pt,ar]),ct=S.useCallback(async Se=>{try{C(Xe=>({...Xe,[`delete_${Se.id}`]:!0}));const ye=hr(Pt(Ve,"ratings"),br("userId","==",y),br("providerId","==",Se.id)),Ce=await yn(ye);if(Ce.empty){pt("Error","No se encontró la calificación para eliminar");return}await Sa(Ce.docs[0].ref),ne(Xe=>Xe.map(wt=>wt.id===Se.id?{...wt,hasRated:!1}:wt)),Ge(Se),pt("Éxito","Calificación anterior eliminada. Ahora puedes volver a calificar.")}catch(ye){console.error("Error al eliminar calificación:",ye),pt("Error",ye.message||"Error al eliminar la calificación")}finally{C(ye=>({...ye,[`delete_${Se.id}`]:!1}))}},[y,pt,Ge]),it=S.useCallback(async Se=>{try{C(rr=>({...rr,[`renew_${Se.id}`]:!0}));const ye=parseFloat(Se.renewalPrice)||parseFloat(Se.price)||0;if(p<ye){pt("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const Ce=parseInt(Se.durationDays)||30,Xe=xr.now(),wt=Xe.toDate(),Ht=wt,Lt=new Date(Ht.getTime()+Ce*24*60*60*1e3),Ot=xr.fromDate(Lt),xt=yt(Ve,"sales",Se.id);await Wr(xt,{startDate:Xe,endDate:Ot,renewedAt:Xe,status:"completed",updatedAt:Cr()});const jr=yt(Ve,"users",y);await Wr(jr,{balance:p-ye}),g(rr=>rr-ye),O(rr=>rr.map(kt=>kt.id===Se.id?{...kt,startDate:Ht,endDate:Lt,renewedAt:wt,status:"completed",daysRemaining:Ce,totalDays:Ce,timeElapsedPercentage:0}:kt)),pt("Éxito",`¡Pedido renovado exitosamente! Nueva fecha de vencimiento: ${St(Lt)}`)}catch(ye){console.error("Error al renovar el pedido:",ye),pt("Error","Error al renovar el pedido: "+ye.message)}finally{C(ye=>({...ye,[`renew_${Se.id}`]:!1}))}},[p,y,pt,St]);S.useEffect(()=>{(async()=>{try{const ye=hr(Pt(Ve,"products")),Ce=await yn(ye),Xe={};Ce.forEach(wt=>{Xe[wt.id]=wt.data()}),U(Xe)}catch(ye){console.error("Error fetching products:",ye),F("Error al cargar productos: "+ye.message)}})()},[]),S.useEffect(()=>{const Se=dr(yt(Ve,"notifications","adminMessage"),ye=>{if(ye.exists()){const Ce=ye.data();Ce.roles&&Ce.roles.includes("user")?X([{id:ye.id,...Ce,timestamp:Ce.updatedAt?.toDate()}]):X([])}else X([])},ye=>{console.error("Error in notifications listener:",ye),F("Error al cargar notificaciones: "+ye.message)});return()=>Se()},[]),S.useEffect(()=>{Kt()},[Kt]);const bt=S.useCallback(async()=>{try{await M0(Qr),je("/")}catch(Se){console.error("Error al cerrar sesión:",Se),pt("Error",Se.message||"Error al cerrar sesión")}},[je,pt]);S.useEffect(()=>{const Se=Gl(Qr,ye=>{ye?(v(ye.uid),h(ye.email||"No especificado"),A(!1)):je("/login")});return()=>Se()},[je]),S.useEffect(()=>{if(!y)return;const Se=yt(Ve,"users",y),ye=dr(Se,Ce=>{if(Ce.exists()){const Xe=Ce.data();u({username:Xe.username||"Usuario",phone:Xe.phone||""}),h(Xe.email||"No especificado"),g(Number(Xe.balance)||0)}else F("Usuario no encontrado")},Ce=>{console.error("Error in user data listener:",Ce),F("Error al cargar datos del usuario: "+Ce.message)});return()=>ye()},[y]),S.useEffect(()=>{if(!y)return;const Se=hr(Pt(Ve,"sales"),br("customerId","==",y)),ye=dr(Se,async Xe=>{if(Xe.empty){O([]),A(!1);return}const wt=new Date,Ht=7200*60*1e3;for(const Ot of Xe.docs){const jr=Ot.data().endDate?.toDate?.()||new Date;if(jr<wt&&wt.getTime()-jr.getTime()>Ht)try{await Sa(yt(Ve,"sales",Ot.id)),console.log(`Deleted expired order: ${Ot.id}`)}catch(rr){console.error(`Error deleting order ${Ot.id}:`,rr)}}const Lt=Xe.docs.map(Ot=>{const xt=Ot.data(),rr=xt.saleDate?.toDate?.()||xt.createdAt?.toDate?.()||new Date;let kt=xt.startDate?.toDate?.(),$t=kt||rr,Ft=!1;kt||(Ft=!0);const Tr=xt.durationDays||30;let kr;xt.endDate?kr=xt.endDate.toDate?xt.endDate.toDate():new Date(xt.endDate):(kr=new Date($t.getTime()+Tr*24*60*60*1e3),Ft=!0),Ft&&Wr(yt(Ve,"sales",Ot.id),{startDate:kt||xr.fromDate(rr),endDate:xr.fromDate(kr),durationDays:Tr}).catch(ks=>{console.error("Error al actualizar startDate/endDate en Firestore:",ks)});const is=kr.getTime()-$t.getTime(),Ts=wt.getTime()-$t.getTime(),Ws=kr.getTime()-wt.getTime(),dn=Math.ceil(is/(1e3*60*60*24)),qs=Math.max(0,Math.ceil(Ws/(1e3*60*60*24))),mr=Math.ceil(Ts/(1e3*60*60*24)),as=dn>0?mr/dn*100:100,Gr=M[xt.providerId]?.terms||"No se especificaron términos y condiciones.";return{id:Ot.id,productName:xt.productName||"Producto sin nombre",category:xt.type||"netflix",price:parseFloat(xt.price)||0,renewalPrice:parseFloat(xt.renewalPrice)||0,provider:xt.provider||"No especificado",providerId:xt.providerId||"",providerPhone:xt.providerPhone||xt.providerWhatsapp||"51999999999",status:xt.status||"completed",saleDate:rr,startDate:$t,endDate:kr,durationDays:Tr,daysRemaining:qs,totalDays:dn,timeElapsedPercentage:as,account:{email:xt.accountDetails?.email||"No especificado",password:xt.accountDetails?.password||"No especificado",profile:xt.accountDetails?.profile||"No especificado",pin:xt.accountDetails?.pin||"No especificado"},client:{customerName:xt.customerName||"Cliente desconocido",email:xt.customerEmail||"No especificado",phone:xt.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BLK-${Ot.id.slice(0,8).toUpperCase()}`,termsAndConditions:Gr,renewable:xt.renewable!==void 0?xt.renewable:!0}}).filter(Ot=>{const xt=new Date(Ot.endDate);return!(xt<wt&&wt.getTime()-xt.getTime()>Ht)});O(Lt),A(!1)},Xe=>{console.error("Error al obtener pedidos:",Xe),F("Error al cargar pedidos: "+Xe.message),A(!1)}),Ce=setInterval(()=>{const Xe=new Date,wt=7200*60*1e3;O(Ht=>Ht.map(Lt=>{const Ot=new Date(Lt.endDate).getTime()-new Date(Lt.startDate).getTime(),xt=Xe.getTime()-new Date(Lt.startDate).getTime(),jr=new Date(Lt.endDate).getTime()-Xe.getTime(),rr=Math.ceil(Ot/(1e3*60*60*24)),kt=Math.max(0,Math.ceil(jr/(1e3*60*60*24))),$t=Math.ceil(xt/(1e3*60*60*24)),Ft=rr>0?$t/rr*100:100;return{...Lt,daysRemaining:kt,totalDays:rr,timeElapsedPercentage:Ft}}).filter(Lt=>{const Ot=new Date(Lt.endDate);return!(Ot<Xe&&Xe.getTime()-Ot.getTime()>wt)}))},6e4);return()=>{ye(),clearInterval(Ce)}},[y,M]),S.useEffect(()=>{if(!y)return;const Se=hr(Pt(Ve,"pendingTopUps"),br("userId","==",y)),ye=dr(Se,Ce=>{const Xe=Ce.docs.map(wt=>({id:wt.id,...wt.data(),date:wt.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(wt.data().amount)||0}));i(Xe)},Ce=>{console.error("Error al obtener recargas:",Ce),F("Error al cargar recargas: "+Ce.message)});return()=>ye()},[y]);const mt=S.useCallback(async()=>{try{if(C(ye=>({...ye,topUp:!0})),!r||isNaN(r)){pt("Error","Ingrese un monto válido");return}const Se=parseFloat(r);if(Se<5){pt("Error","El monto mínimo de recarga es S/ 5.00");return}await Po(Pt(Ve,"pendingTopUps"),{userId:y,username:o.username,amount:Se,status:"pendiente",requestedAt:Cr()}),n(""),pt("Éxito","Solicitud de recarga enviada correctamente")}catch(Se){console.error("Error al solicitar recarga:",Se),pt("Error",Se.message||"Error al enviar solicitud de recarga")}finally{C(Se=>({...Se,topUp:!1}))}},[r,y,o.username,pt]),tt=S.useCallback(async Se=>{Se.preventDefault();try{C(Lt=>({...Lt,password:!0}));const ye=Se.target.password.value,Ce=Se.target.phone.value,Xe=Qr.currentUser,wt=yt(Ve,"users",y),Ht={};if(ye){if(ye.length<6){pt("Error","La contraseña debe tener al menos 6 caracteres");return}await pv(Xe,ye),Ht.updatedAt=Cr()}Ce&&(Ht.phone=Ce,Ht.updatedAt=Cr()),Object.keys(Ht).length>0&&await Wr(wt,Ht),u(Lt=>({...Lt,phone:Ce||Lt.phone})),pt("Éxito","Cambios guardados correctamente"),Se.target.reset()}catch(ye){console.error("Error al actualizar los datos:",ye),pt("Error",ye.message||"Error al guardar los cambios")}finally{C(ye=>({...ye,password:!1}))}},[y,pt]);S.useEffect(()=>{const Se=()=>{ee(window.scrollY>300)};return window.addEventListener("scroll",Se),()=>window.removeEventListener("scroll",Se)},[]);const ht=()=>B?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):R?a.jsxs("div",{className:`bg-${D==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${D==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsx(Ll,{className:"mx-auto text-4xl text-red-400 mb-4"}),a.jsx("h3",{className:`text-xl font-bold ${D==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),a.jsx("p",{className:`text-base ${D==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:R}),a.jsx("button",{onClick:()=>F(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):a.jsx("div",{className:`bg-${D==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 lg:p-10 rounded-2xl shadow-md max-w-6xl mx-auto border ${D==="dark"?"border-gray-700/50":"border-gray-300"} w-full`,children:(()=>{switch(T){case"inicio":return a.jsx(Jz,{userName:o,email:d,balance:p,orders:E,notifications:P,setActivePage:w,formatDate:St});case"notificaciones":return a.jsx(eA,{notifications:P,formatDate:St});case"recargar":return a.jsx(tA,{amount:r,setAmount:n,topUps:s,actionLoading:N,handleTopUpRequest:mt,formatDate:St,showModal:pt});case"proveedores":return a.jsx(rA,{providers:de,openRateProviderModal:Ge,deleteRatingProvider:ct,theme:D});case"pedidos":return a.jsx(L6,{orders:E,setOrders:O,balance:p,searchQuery:we,setSearchQuery:se,formatDate:St,handleRenewal:it,actionLoading:N,theme:D});case"configuracion":return a.jsx(M6,{userName:o,email:d,actionLoading:N,handleUpdatePassword:tt,openEditProfileModal:wr,handleLogout:bt});case"soporte":return a.jsx($6,{orders:E,setOrders:O,searchQuery:we,setSearchQuery:se,formatDate:St,handleRenewal:it,actionLoading:N,balance:p,theme:D});default:return a.jsxs("div",{className:`bg-${D==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${D==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsx(Ll,{className:"mx-auto text-4xl text-red-400 mb-4"}),a.jsx("h3",{className:`text-xl font-bold ${D==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Sección no encontrada"}),a.jsx("p",{className:`text-base ${D==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La sección que estás buscando no existe o no está disponible."}),a.jsx("button",{onClick:()=>w("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()});return a.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${D==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${D==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),a.jsx("div",{className:"particles",children:[...Array(15)].map((Se,ye)=>a.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},ye))})]}),a.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${D==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:a.jsxs("div",{className:"p-4 flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("button",{onClick:()=>{je("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),a.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:a.jsx(Us,{className:"text-lg"})})]}),a.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${D==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:o.username.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${D==="dark"?"text-white":"text-gray-900"}`,children:o.username}),a.jsx("p",{className:`text-xs ${D==="dark"?"text-gray-400":"text-gray-600"}`,children:"Usuario"})]})]}),a.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Zv},{id:"notificaciones",label:"Notificaciones",icon:Fl},{id:"recargar",label:"Recargar saldo",icon:sa},{id:"pedidos",label:"Mis pedidos",icon:yu},{id:"proveedores",label:"Proveedores",icon:Ml},{id:"soporte",label:"Soporte",icon:rz},{id:"configuracion",label:"Configuración",icon:kp}].map(Se=>a.jsxs("button",{onClick:()=>{w(Se.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${T===Se.id?"bg-blue-100 text-blue-600 border border-blue-300":D==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":T===Se.id?"page":void 0,children:[a.jsx(Se.icon,{className:"text-lg"}),a.jsx("span",{children:Se.label})]},Se.id))}),a.jsx("div",{className:"mt-auto pt-6",children:a.jsxs("button",{onClick:()=>{bt(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${D==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[a.jsx(vu,{className:"text-lg"}),a.jsx("span",{children:"Cerrar Sesión"})]})})]})}),a.jsxs("header",{className:`${D==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(te.img,{src:Zl,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border cursor-pointer ${D==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy",onClick:()=>je("/")}),a.jsx("button",{onClick:()=>{De?je("/"):w("inicio")},className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300 cursor-pointer","aria-label":De?"Go to BlackStreaming homepage":"Ir al inicio del dashboard",children:"BlackStreaming"})]}),a.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:we,onChange:Se=>se(Se.target.value),className:`w-full py-2.5 px-5 ${D==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:Se=>Se.key==="Enter"&&w("pedidos")}),a.jsx("button",{onClick:()=>w("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${D==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:a.jsx(xu,{size:18})})]})}),a.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[a.jsx("button",{onClick:nt,className:`p-2 rounded-full ${D==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${D==="dark"?"light":"dark"} theme`,children:D==="dark"?a.jsx(Jl,{size:20}):a.jsx(Ql,{size:20})}),a.jsxs("button",{onClick:()=>Ae(!0),className:`p-2 rounded-full relative ${D==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${P.length} new)`,children:[a.jsx(Fl,{size:20}),P.length>0&&a.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:P.length})]}),a.jsx("button",{className:`lg:hidden p-2 rounded-full ${D==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:a.jsx(Sm,{size:20,className:D==="dark"?"text-gray-300":"text-gray-600"})}),a.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:a.jsx("div",{className:"relative",children:a.jsxs("button",{className:`flex items-center space-x-2 ${D==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[a.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:o.username.charAt(0).toUpperCase()}),a.jsx("span",{className:`text-sm font-semibold ${D==="dark"?"text-gray-200":"text-gray-800"}`,children:o.username})]})})})]})]}),a.jsx(zt,{children:ie&&a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>Ae(!1),role:"dialog","aria-labelledby":"notifications-title",children:a.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${D==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${D==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Se=>Se.stopPropagation(),children:[a.jsx("button",{onClick:()=>Ae(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:a.jsx(Us,{size:20})}),a.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${D==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),P.length>0?P.map(Se=>a.jsxs("div",{className:`p-4 mb-2 rounded-md ${D==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${D==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[a.jsx("h3",{className:`font-semibold ${D==="dark"?"text-gray-200":"text-gray-800"}`,children:Se.title||"Nueva Notificación"}),a.jsx("p",{className:`text-sm ${D==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:Se.message}),Se.roles&&Se.roles.length>0&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",Se.roles.join(", ")]}),Se.timestamp&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:St(Se.timestamp)})]},Se.id)):a.jsx("p",{className:`text-center ${D==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),a.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:ht()}),a.jsxs("footer",{className:`${D==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${D==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),a.jsxs("p",{className:`text-base sm:text-lg ${D==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",a.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),a.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[a.jsx("a",{href:"https://twitter.com",className:`${D==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:a.jsx(Yl,{size:28})}),a.jsx("a",{href:"https://instagram.com",className:`${D==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:a.jsx(Xl,{size:28})}),a.jsx("a",{href:"https://facebook.com",className:`${D==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:a.jsx(Kl,{size:28})})]}),a.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[a.jsx("a",{href:"#",className:`text-sm ${D==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Política de Privacidad"}),a.jsx("a",{href:"#",className:`text-sm ${D==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Términos de Servicio"}),a.jsx("a",{href:"#",className:`text-sm ${D==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contáctanos"})]})]}),a.jsxs("p",{className:`text-sm ${D==="dark"?"text-gray-500":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Hecho con pasión."]})]}),a.jsx(zt,{children:J&&a.jsx(te.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:dt,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:a.jsx(Nm,{size:20})})}),a.jsx(Qz,{isOpen:W.isOpen,title:W.title,message:W.message,onClose:Fe,theme:D}),Ee.isOpen&&a.jsx(J5,{isOpen:Ee.isOpen,user:Ee.user,onClose:Dt,onSave:le,theme:D}),ze.isOpen&&a.jsx(Z5,{isOpen:ze.isOpen,provider:ze.provider,onClose:ar,onRate:Ze,theme:D}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};V6.propTypes={};const HQ=({isOpen:t,message:e,title:r,onClose:n})=>t?a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:r}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:a.jsx(zs,{size:20})})]}),a.jsx("p",{className:"text-gray-300 mb-6",children:e}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,WQ=({isOpen:t,user:e,onClose:r,onSave:n})=>{const[s,i]=S.useState(e?.username||""),[o,u]=S.useState(""),d=h=>{if(h.preventDefault(),u(""),!s.trim()){u("El nombre de usuario no puede estar vacío.");return}n(e.id,s.trim())};return t?a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Editar Perfil"}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-all duration-300",children:a.jsx(zs,{size:20})})]}),a.jsxs("form",{onSubmit:d,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),a.jsx("input",{type:"text",value:s,onChange:h=>i(h.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0}),o&&a.jsx("p",{className:"text-red-400 text-sm mt-2",children:o})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},qQ=()=>{const[t,e]=S.useState(!1),[r,n]=S.useState("inicio"),[s,i]=S.useState(""),[o,u]=S.useState(""),[d,h]=S.useState(""),[p,g]=S.useState([]),[y,v]=S.useState(0),[T,w]=S.useState(0),[E,O]=S.useState(null),[M,U]=S.useState(!0),[P,X]=S.useState({}),[B,A]=S.useState(null),[N,C]=S.useState([]),[R,F]=S.useState(!1),[W,V]=S.useState(""),[Ee,Pe]=S.useState(""),[ze,Le]=S.useState([]),[we,se]=S.useState([]),[de,ne]=S.useState({}),[D,Y]=S.useState([]),[J,ee]=S.useState({isOpen:!1,message:"",title:""}),[ie,Ae]=S.useState({isOpen:!1,user:null}),De=Li(),ke=(le,Ze)=>{ee({isOpen:!0,title:le,message:Ze})},je=()=>{ee({isOpen:!1,message:"",title:""})},nt=le=>{Ae({isOpen:!0,user:le})},dt=()=>{Ae({isOpen:!1,user:null})},pt=async(le,Ze)=>{try{X(bt=>({...bt,profile:!0}));const ct=yt(Ve,"users",le),it=yt(Ve,"affiliates",le);await Wr(ct,{username:Ze,updatedAt:Cr()}),await Wr(it,{username:Ze,updatedAt:Cr()}),i(Ze),ke("Éxito","Perfil actualizado exitosamente"),dt()}catch(ct){console.error("Error al actualizar perfil:",ct),ke("Error",ct.message||"Error al actualizar el perfil")}finally{X(ct=>({...ct,profile:!1}))}};S.useEffect(()=>{const le=Gl(Qr,Ze=>{Ze?(O(Ze.uid),u(Ze.email||"No especificado"),U(!1)):De("/login")});return()=>le()},[De]),S.useEffect(()=>{(async()=>{try{const Ze=hr(Pt(Ve,"products")),ct=await yn(Ze),it={};ct.forEach(bt=>{it[bt.id]=bt.data()}),ne(it)}catch(Ze){console.error("Error fetching products:",Ze),A("Error al cargar productos")}})()},[]),S.useEffect(()=>{dr(yt(Ve,"notifications","adminMessage"),ct=>{if(ct.exists()){const it=ct.data();it.roles&&it.roles.includes("affiliate")?Y([{id:ct.id,...it}]):Y([])}else Y([])})},[]),S.useEffect(()=>{(async()=>{if(E)try{const Ze=yt(Ve,"users",E),ct=await Vo(Ze);if(ct.exists()){const mt=ct.data();i(mt.username||"Usuario"),w(Number(mt.balance)||0)}const it=yt(Ve,"affiliates",E),bt=await Vo(it);if(bt.exists()){const mt=bt.data();h(mt.affiliateCode||""),v(Number(mt.earnings)||0)}else{const mt=`AFF-${Math.random().toString(36).substring(2,8).toUpperCase()}`;await la(it,{username:s||"Nuevo Afiliado",email:o,affiliateCode:mt,earnings:0,createdAt:Cr(),updatedAt:Cr()}),h(mt)}}catch(Ze){console.error("Error al manejar datos:",Ze),A("Error al cargar datos")}finally{U(!1)}})()},[E,o,s]),S.useEffect(()=>{if(!E)return;(()=>{const Ze=hr(Pt(Ve,"pendingTopUps"),br("userId","==",E));return dr(Ze,it=>{const bt=it.docs.map(mt=>({id:mt.id,...mt.data(),date:mt.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(mt.data().amount)||0}));Le(bt)},it=>{console.error("Error al obtener recargas:",it),A("Error al cargar recargas")})})()},[E]),S.useEffect(()=>{if(!d)return;const le=hr(Pt(Ve,"users"),br("referrerCode","==",d),nv("createdAt","desc"),q7(5)),Ze=dr(le,ct=>{const it=ct.docs.map(bt=>({id:bt.id,...bt.data(),joinDate:bt.data().createdAt?.toDate()||new Date}));C(it)});return()=>Ze()},[d]),S.useEffect(()=>{if(!d)return;const le=hr(Pt(Ve,"users"),br("referrerCode","==",d)),Ze=dr(le,ct=>{const it=ct.docs.map(bt=>({id:bt.id,...bt.data(),joinDate:bt.data().createdAt?.toDate()||new Date}));g(it)});return()=>Ze()},[d]),S.useEffect(()=>{if(!E)return;(()=>{const Ze=hr(Pt(Ve,"sales"),br("customerId","==",E)),ct=dr(Ze,bt=>{if(bt.empty){se([]),U(!1);return}const mt=bt.docs.map(tt=>{const ht=tt.data(),ye=ht.saleDate?.toDate?.()||ht.createdAt?.toDate?.()||new Date;let Ce=ht.startDate?.toDate?.(),Xe=Ce||ye,wt=!1;Ce||(wt=!0);const Ht=ht.durationDays||30;let Lt;ht.endDate?Lt=new Date(ht.endDate):(Lt=new Date(Xe.getTime()+Ht*24*60*60*1e3),wt=!0),wt&&Wr(yt(Ve,"sales",tt.id),{startDate:Ce||xr.fromDate(ye),endDate:Lt.toISOString(),durationDays:Ht}).catch(is=>{console.error("Error al actualizar startDate/endDate en Firestore:",is)});const Ot=new Date,xt=Lt.getTime()-Xe.getTime(),jr=Ot.getTime()-Xe.getTime(),rr=Lt.getTime()-Ot.getTime(),kt=Math.ceil(xt/(1e3*60*60*24)),$t=Math.max(0,Math.ceil(rr/(1e3*60*60*24))),Ft=Math.ceil(jr/(1e3*60*60*24)),Tr=kt>0?Ft/kt*100:100,kr=de[ht.providerId]?.terms||"No se especificaron términos y condiciones.";return{id:tt.id,productName:ht.productName||"Producto sin nombre",category:ht.type||"netflix",price:parseFloat(ht.price)||0,provider:ht.provider||"No especificado",providerId:ht.providerId||"",providerPhone:ht.providerPhone||ht.providerWhatsapp||"51999999999",status:ht.status||"completed",saleDate:ye,startDate:Xe,endDate:Lt,durationDays:Ht,daysRemaining:$t,totalDays:kt,timeElapsedPercentage:Tr,account:{email:ht.accountDetails?.email||"No especificado",password:ht.accountDetails?.password||"No especificado",profile:ht.accountDetails?.profile||"No especificado",pin:ht.accountDetails?.pin||"No especificado"},client:{name:ht.customerName||"Cliente desconocido",email:ht.customerEmail||"No especificado",phone:ht.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BS-${tt.id.slice(0,8).toUpperCase()}`,termsAndConditions:kr,renewable:ht.renewable!==void 0?ht.renewable:!0}});se(mt),U(!1)},bt=>{console.error("Error al obtener pedidos:",bt),A("Error al cargar pedidos: "+bt.message),U(!1)}),it=setInterval(()=>{se(bt=>bt.map(mt=>{const tt=new Date,ht=new Date(mt.endDate).getTime()-new Date(mt.startDate).getTime(),Se=tt.getTime()-new Date(mt.startDate).getTime(),ye=new Date(mt.endDate).getTime()-tt.getTime(),Ce=Math.ceil(ht/(1e3*60*60*24)),Xe=Math.max(0,Math.ceil(ye/(1e3*60*60*24))),wt=Math.ceil(Se/(1e3*60*60*24)),Ht=Ce>0?wt/Ce*100:100;return{...mt,daysRemaining:Xe,totalDays:Ce,timeElapsedPercentage:Ht}}))},6e4);return()=>{ct(),clearInterval(it)}})()},[E,de]);const Fe=async()=>{try{if(X(Ze=>({...Ze,topUp:!0})),!Ee||isNaN(Ee)){ke("Error","Ingrese un monto válido");return}const le=parseFloat(Ee);if(le<10){ke("Error","El monto mínimo de recarga es S/ 10.00");return}await Po(Pt(Ve,"pendingTopUps"),{userId:E,username:s,amount:le,status:"pendiente",requestedAt:Cr(),processed:!1}),Pe(""),ke("Éxito","Solicitud de recarga enviada correctamente")}catch(le){console.error("Error al solicitar recarga:",le),ke("Error",le.message||"Error al enviar solicitud de recarga")}finally{X(le=>({...le,topUp:!1}))}},wr=async le=>{try{X(Ce=>({...Ce,[`renew_${le.id}`]:!0}));const Ze=parseFloat(le.price)||0;if(T<Ze){ke("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const ct=parseInt(le.durationDays)||30,it=xr.now(),bt=it.toDate(),mt=new Date(bt.getTime()+ct*24*60*60*1e3),tt=mt.toISOString(),ht={customerId:E,customerName:le.client?.name||"Cliente desconocido",customerEmail:le.client?.email||o,phoneNumber:le.client?.phone||"No especificado",productName:le.productName||"Producto sin nombre",type:le.category||"netflix",price:Ze,accountDetails:{email:le.account?.email||"No especificado",password:le.account?.password||"No especificado",profile:le.account?.profile||"No especificado",pin:le.account?.pin||"No especificado"},provider:le.provider||"Proveedor desconocido",providerId:le.providerId||"",providerPhone:le.providerPhone||le.providerWhatsapp||"51999999999",status:"completed",createdAt:it,saleDate:it,startDate:it,endDate:tt,durationDays:ct,renewedAt:it,renewable:le.renewable!==void 0?le.renewable:!0},Se=await Po(Pt(Ve,"sales"),ht),ye=yt(Ve,"users",E);await Wr(ye,{balance:T-Ze}),w(Ce=>Ce-Ze),se(Ce=>[...Ce,{...ht,id:Se.id,saleDate:bt,startDate:bt,endDate:mt,account:ht.accountDetails,client:{name:ht.customerName,email:ht.customerEmail,phone:ht.phoneNumber},orderId:`BS-${Se.id.slice(0,8).toUpperCase()}`,renewable:ht.renewable,daysRemaining:ct,totalDays:ct,timeElapsedPercentage:0,termsAndConditions:de[ht.providerId]?.terms||"No se especificaron términos y condiciones."}]),ke("Éxito","¡Pedido renovado exitosamente!")}catch(Ze){console.error("Error al renovar el pedido:",Ze),ke("Error","Error al renovar el pedido: "+Ze.message)}finally{X(Ze=>({...Ze,[`renew_${le.id}`]:!1}))}},Dt=()=>{d&&(navigator.clipboard.writeText(d),F(!0),setTimeout(()=>F(!1),2e3))},Ge=le=>{if(!le)return"No especificada";try{const Ze=le instanceof Date?le:new Date(le);return isNaN(Ze.getTime())?"Fecha inválida":Ze.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},ar=async()=>{try{await M0(Qr),De("/")}catch(le){console.error("Error al cerrar sesión:",le),ke("Error",le.message||"Error al cerrar sesión")}},St=async le=>{le.preventDefault();try{X(it=>({...it,password:!0}));const Ze=le.target.password.value;if(!Ze){ke("Error","Por favor, ingrese una nueva contraseña");return}if(Ze.length<6){ke("Error","La contraseña debe tener al menos 6 caracteres");return}const ct=Qr.currentUser;ct&&(await pv(ct,Ze),ke("Éxito","Contraseña actualizada correctamente"),le.target.reset())}catch(Ze){console.error("Error al actualizar la contraseña:",Ze),ke("Error",Ze.message||"Error al actualizar la contraseña")}finally{X(Ze=>({...Ze,password:!1}))}},Kt=()=>{if(M)return a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(B)return a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[a.jsx(oi,{className:"mx-auto text-4xl text-red-400 mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),a.jsx("p",{className:"text-gray-300 mb-4",children:B}),a.jsx("button",{onClick:()=>A(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(r){case"inicio":return a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",a.jsx("span",{className:"text-cyan-400",children:s})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Información de cuenta"}),a.jsxs("div",{className:"space-y-2 text-gray-300",children:[a.jsxs("p",{className:"flex items-center",children:[a.jsx(bs,{className:"mr-2 text-cyan-400"}),a.jsx("span",{children:s})]}),a.jsxs("p",{className:"flex items-center",children:[a.jsx(Hr,{className:"mr-2 text-cyan-400"}),a.jsx("span",{children:o})]})]})]}),a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Saldo disponible"}),a.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",T.toFixed(2)]}),a.jsx("button",{onClick:()=>n("recargas"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Recargar"})]}),a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[a.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Ganancias totales"}),a.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",y.toFixed(2)]}),a.jsx("button",{onClick:()=>n("ganancias"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Ver ganancias"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tu código de afiliado"}),a.jsxs("button",{onClick:Dt,disabled:!d,className:`flex items-center gap-2 px-3 py-1 rounded-xl transition-all duration-300 ${d?"bg-cyan-900/80 text-cyan-400 hover:bg-cyan-800/80":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(zz,{size:16}),R?"¡Copiado!":"Copiar"]})]}),a.jsx("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 border border-gray-600/50",children:a.jsx("p",{className:"text-2xl font-bold text-center tracking-wider text-white",children:d||"Generando código..."})}),a.jsx("p",{className:"text-gray-300 mb-4",children:"Comparte este código con tus amigos para que se registren y ganes comisiones por sus compras."}),a.jsxs("div",{className:"bg-cyan-900/30 p-4 rounded-xl border border-cyan-800/50",children:[a.jsx("h4",{className:"font-medium text-cyan-400 mb-2",children:"Enlace de afiliado:"}),a.jsx("p",{className:"text-sm bg-gray-800/50 p-2 rounded-xl border border-gray-600/50 overflow-x-auto text-gray-300",children:d?`https://blackkstreaming.com/register?ref=${d}`:"Generando enlace..."})]})]}),a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Referidos recientes"}),N.length>0?N.map(le=>a.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"font-medium text-white",children:le.username||"Sin nombre"}),a.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-900/80 text-green-400",children:"Activo"})]}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Unido: ",Ge(le.joinDate)]})]},le.id)):a.jsx("p",{className:"text-gray-400 py-2",children:"No tienes referidos recientes"}),N.length>0&&a.jsx("button",{onClick:()=>n("referidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los referidos"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Pedidos recientes"}),we.length>0?we.slice(0,3).map(le=>{const Ze=new Date(le.endDate)>new Date&&le.status==="completed",ct=le.status==="pending";return a.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:"font-medium text-white",children:le.productName}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${ct?"bg-yellow-900/80 text-yellow-400":Ze?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:ct?"A pedido":Ze?"Activo":"Expirado"})]}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Vence: ",Ge(le.endDate)]})]},le.id)}):a.jsx("p",{className:"text-gray-400 py-2",children:"No tienes pedidos recientes"}),we.length>3&&a.jsx("button",{onClick:()=>n("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]}),a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Notificaciones"}),D.length>0?D.map(le=>a.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[a.jsx("p",{className:"text-gray-300",children:le.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Ge(le.updatedAt)})]},le.id)):a.jsx("p",{className:"text-gray-400 py-2",children:"No hay notificaciones"})]})]})]});case"notificaciones":return a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Notificaciones"}),D.length>0?a.jsx("div",{className:"space-y-4",children:D.map(le=>a.jsxs("div",{className:"border border-gray-600/50 rounded-2xl p-4 hover:bg-gray-700/50 transition-all duration-300",children:[a.jsx("p",{className:"text-gray-300",children:le.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:Ge(le.updatedAt)})]},le.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(p0,{className:"mx-auto text-4xl text-gray-400 mb-3"}),a.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay notificaciones"}),a.jsx("p",{className:"text-gray-400",children:"No tienes mensajes nuevos"})]})]});case"recargas":return a.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Recargar saldo"}),a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),a.jsx("input",{type:"number",value:Ee,onChange:le=>Pe(le.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mínimo S/ 10.00",min:"10",step:"0.01"})]}),a.jsx("button",{onClick:Fe,disabled:P.topUp||!Ee||parseFloat(Ee)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${Ee&&parseFloat(Ee)>=10&&!P.topUp?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:P.topUp?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Solicitar recarga"}),a.jsxs("div",{className:"mt-6 bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[a.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[a.jsx($s,{className:"mr-2"})," ¿Cómo realizar tu recarga?"]}),a.jsxs("p",{className:"text-gray-300 mb-2",children:["Realiza tu pago mediante ",a.jsx("span",{className:"font-semibold text-white",children:"Yape"})," al número:"]}),a.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"📱 931757531"}),a.jsx("p",{className:"text-gray-300 mb-3",children:"Una vez realizado el pago, por favor contáctanos vía WhatsApp al mismo número para confirmar tu recarga."}),a.jsxs("a",{href:`https://wa.me/51931757531?text=${encodeURIComponent("Hola 😊, he realizado una recarga a través de Yape. Por favor, confirma mi pago.")}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300",children:[a.jsx(Hr,{className:"mr-2"})," Confirmar por WhatsApp"]})]})]})]}),a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),ze.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[a.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acción"})]})}),a.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:ze.map(le=>{const Ze=encodeURIComponent(`Hola, he pedido una recarga de S/ ${le.amount?.toFixed(2)||"0.00"} con el nombre ${s}. Adjunto la captura de mi pago, por favor.`);return a.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",le.amount?.toFixed(2)||"0.00"]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${le.status==="aprobado"?"bg-green-900/80 text-green-400":le.status==="pendiente"?"bg-yellow-900/80 text-yellow-400":"bg-red-900/80 text-red-400"}`,children:le.status})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-400",children:Ge(le.date)}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:le.status==="pendiente"?a.jsxs("a",{href:`https://wa.me/51940505969?text=${Ze}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300 text-sm",children:[a.jsx(Hr,{className:"mr-2"})," Enviar captura"]}):a.jsx("span",{className:"text-gray-400 text-sm",children:"—"})})]},le.id)})})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx($s,{className:"mx-auto text-4xl text-gray-400 mb-3"}),a.jsx("p",{className:"text-gray-400",children:"No hay recargas registradas"})]})]})]});case"pedidos":return a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:"Mis pedidos"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Buscar pedidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:W,onChange:le=>V(le.target.value)}),a.jsx(ia,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),we.length>0?a.jsx("div",{className:"space-y-6",children:we.filter(le=>(le.productName||"").toLowerCase().includes(W.toLowerCase())||(le.orderId||"").toLowerCase().includes(W.toLowerCase())).map(le=>{const Ze=parseFloat(le.price)||0,ct=new Date(le.endDate)>new Date&&le.status==="completed",it=le.status==="pending",bt=le.daysRemaining||0,mt=le.timeElapsedPercentage||0;let tt="bg-green-400";mt>70&&mt<=90?tt="bg-yellow-400":mt>90&&(tt="bg-red-400");const ht=it?a.jsx(Du,{className:"text-yellow-400"}):ct?a.jsx(bu,{className:"text-green-400"}):a.jsx(oi,{className:"text-red-400"}),Se=encodeURIComponent(`*Consulta sobre Pedido - ${le.productName||"Sin nombre"}*

*N° Pedido:* ${le.orderId||"No especificado"}
*Producto:* ${le.productName||"No especificado"}
*Precio:* S/ ${Ze.toFixed(2)}
*Estado:* ${it?"A pedido":ct?"Activo":"Expirado"}
*Fecha de Inicio:* ${Ge(le.startDate)}
*Fecha de Vencimiento:* ${Ge(le.endDate)}

`+(it?`Hola 😊, he comprado un producto a pedido (${le.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),ye=encodeURIComponent(`😊 Estimado/a ${le.client?.name||"Cliente"} 😊

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📌 Tipo: ${le.productName||"Sin nombre"}.
🔢 Código: ${le.orderId||"No especificado"}
`+(it?"":`📧 Correo: ${le.account?.email||"No especificado"}
🔐 Contraseña: ${le.account?.password||"No especificado"}
👤 Perfil: ${le.account?.profile||"No especificado"}
📌 PIN: ${le.account?.pin||"No especificado"}
`)+`🌐 URL: Sin URL
📅 Fecha de creación: ${Ge(le.startDate)}
📅 Fecha de vencimiento: ${Ge(le.endDate)}
🏁 Días contratados: ${le.durationDays||30} días.

`+(it?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:"")+`*Términos y Condiciones:*
${le.termsAndConditions||"No se especificaron términos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),Ce=le.providerPhone?le.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return a.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[ht,a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-white",children:le.productName||"Producto sin nombre"}),le.orderId&&a.jsxs("p",{className:"text-xs text-gray-400",children:["N° Pedido: ",le.orderId]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",Ze.toFixed(2)]}),a.jsx("p",{className:`text-xs font-medium ${it?"text-yellow-400":tt.replace("bg-","text-")}`,children:it?"Pendiente de activación":`${bt} día${bt===1?"":"s"} restante${bt===1?"":"s"}`})]})]}),a.jsxs("div",{className:"p-4 bg-gray-700/50 backdrop-blur-sm",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"w-full bg-gray-600/50 rounded-full h-2.5",children:a.jsx("div",{className:`h-2.5 rounded-full ${tt}`,style:{width:`${Math.min(mt,100)}%`}})}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-right",children:[mt.toFixed(0),"% completado"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[a.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[a.jsx(bs,{className:"mr-2"})," Detalles de la Cuenta"]}),a.jsx("div",{className:"space-y-2 text-gray-300",children:it?a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Usuario:"}),a.jsx("span",{className:"block text-white",children:"Por completar"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),a.jsx("span",{className:"block text-white",children:"Por completar"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),a.jsx("span",{className:"block text-white",children:"Por completar"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),a.jsx("span",{className:"block text-white",children:"Por completar"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),a.jsx("span",{className:"block text-white break-all",children:le.account?.email||"No especificado"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),a.jsx("span",{className:"block text-white break-all",children:le.account?.password||"No especificado"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),a.jsx("span",{className:"block text-white",children:le.account?.profile||"No especificado"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),a.jsx("span",{className:"block text-white",children:le.account?.pin||"No especificado"})]})]})})]}),a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[a.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[a.jsx(W5,{className:"mr-2"})," Información del Pedido"]}),a.jsxs("div",{className:"space-y-2 text-gray-300",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),a.jsx("span",{className:"block text-white",children:le.provider||"No especificado"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono del Proveedor:"}),a.jsx("span",{className:"block text-white",children:le.providerPhone||"No especificado"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Estado:"}),a.jsx("span",{className:`block px-2 py-1 text-xs rounded-full ${it?"bg-yellow-900/80 text-yellow-400":ct?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:it?"A pedido":ct?"Activo":"Expirado"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Método de Pago:"}),a.jsx("span",{className:"block text-white",children:"BlackStreaming"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de inicio:"}),a.jsx("span",{className:"block text-white",children:Ge(le.startDate)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de vencimiento:"}),a.jsx("span",{className:"block text-white",children:Ge(le.endDate)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Días restantes:"}),a.jsx("span",{className:`block ${tt.replace("bg-","text-")}`,children:bt})]})]})]}),a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[a.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[a.jsx(bs,{className:"mr-2"})," Información del Cliente"]}),a.jsxs("div",{className:"space-y-2 text-gray-300",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),a.jsx("span",{className:"block text-white",children:le.client?.name||"No especificado"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono:"}),a.jsx("span",{className:"block text-white",children:le.client?.phone||"No especificado"})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),a.jsx("span",{className:"block text-white",children:le.client?.email||"No especificado"})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("a",{href:`https://wa.me/51${Ce}?text=${Se}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[a.jsx(Hr,{size:18})," Contactar Proveedor"]}),le.renewable&&a.jsx("button",{onClick:()=>wr(le),disabled:P[`renew_${le.id}`],className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 ${P[`renew_${le.id}`]?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:P[`renew_${le.id}`]?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):a.jsxs(a.Fragment,{children:[a.jsx(K5,{size:18})," Renovar Pedido"]})}),le.client?.phone&&a.jsxs("a",{href:`https://wa.me/${le.client.phone.replace(/^\+/,"")}?text=${ye}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[a.jsx(Hr,{size:18})," Contactar Cliente"]})]})]})]},le.id)})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx($l,{className:"mx-auto text-4xl text-gray-400 mb-3"}),a.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes pedidos registrados"}),a.jsx("p",{className:"text-gray-400",children:"Realiza tu primer pedido en nuestra tienda"})]})]});case"referidos":return a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:["Todos tus referidos (",p.length,")"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Buscar referidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:W,onChange:le=>V(le.target.value)}),a.jsx(ia,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),p.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[a.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha de registro"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),a.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:p.filter(le=>{const Ze=le.username||"",ct=le.email||"";return Ze.toLowerCase().includes(W.toLowerCase())||ct.toLowerCase().includes(W.toLowerCase())}).map(le=>a.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:le.username||"Sin nombre"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:le.email||"Sin email"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:le.joinDate?Ge(le.joinDate):"No especificada"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900/80 text-green-400",children:le.status||"Activo"})})]},le.id))})]})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(jp,{className:"mx-auto text-4xl text-gray-400 mb-3"}),a.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes referidos aún"}),a.jsx("p",{className:"text-gray-400",children:"Comparte tu código de afiliado para empezar a ganar comisiones"})]})]});case"ganancias":return a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Reporte de ganancias"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[a.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias hoy"}),a.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),a.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde ayer"})]}),a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[a.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias esta semana"}),a.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),a.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde la semana pasada"})]}),a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[a.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias totales"}),a.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",y.toFixed(2)]}),a.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[p.length," referidos"]})]})]}),a.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[a.jsxs("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[a.jsx(sT,{className:"mr-2 text-cyan-400"})," Historial de comisiones"]}),p.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[a.jsx("thead",{className:"bg-gray-800/50 backdrop-blur-sm",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Referido"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Origen"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),a.jsx("tbody",{className:"bg-gray-700/50 divide-y divide-gray-600/50",children:p.map(le=>a.jsxs("tr",{className:"hover:bg-gray-600/50 transition-all duration-300",children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:le.username||"Usuario sin nombre"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:le.joinDate?Ge(le.joinDate):"No especificada"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:"S/ 0.00"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:"Registro"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-900/80 text-yellow-400",children:"Pendiente"})})]},le.id))})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx($s,{className:"mx-auto text-4xl text-gray-400 mb-3"}),a.jsx("p",{className:"text-gray-400",children:"No hay comisiones registradas"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gana comisiones cuando tus referidos realicen compras"})]})]})]});case"configuracion":return a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuración de cuenta"}),a.jsxs("form",{onSubmit:St,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("input",{type:"text",value:s,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"}),a.jsx("button",{type:"button",onClick:()=>nt({id:E,username:s}),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-all duration-300",title:"Editar Nombre",children:a.jsx(Wz,{size:16})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico"}),a.jsx("input",{type:"email",value:o,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contraseña (opcional)"}),a.jsx("input",{type:"password",name:"password",placeholder:"Nueva contraseña",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),a.jsx("button",{type:"submit",disabled:P.password,className:"w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium mt-4 transition-all duration-300 disabled:bg-cyan-800",children:P.password?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar cambios"})]}),a.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:a.jsxs("button",{onClick:ar,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[a.jsx(Sp,{})," Cerrar sesión"]})})]});default:return a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[a.jsx(oi,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),a.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),a.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[a.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:a.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:a.jsx(Kz,{className:"text-xl"})})}),a.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:a.jsxs("div",{className:"p-4 flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),a.jsx("button",{onClick:()=>e(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:a.jsx(zs,{className:"text-lg"})})]}),a.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:s.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-white",children:s}),a.jsx("p",{className:"text-xs text-gray-400",children:"Afiliador"})]})]}),a.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:qz},{id:"notificaciones",label:"Notificaciones",icon:p0},{id:"recargas",label:"Recargas",icon:$s},{id:"pedidos",label:"Pedidos",icon:$l},{id:"referidos",label:"Referidos",icon:jp},{id:"ganancias",label:"Ganancias",icon:sT},{id:"configuracion",label:"Configuración",icon:Y5}].map(le=>a.jsxs("button",{onClick:()=>{n(le.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===le.id?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"text-gray-300 hover:bg-gray-800/50 hover:text-cyan-400"}`,children:[a.jsx(le.icon,{className:"text-lg"}),a.jsx("span",{children:le.label})]},le.id))}),a.jsx("div",{className:"mt-auto pt-6",children:a.jsxs("button",{onClick:ar,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-900/20 rounded-xl transition-all duration-300 border border-red-900/50",children:[a.jsx(Sp,{className:"text-lg"}),a.jsx("span",{children:"Cerrar Sesión"})]})})]})}),a.jsx("main",{className:"md:ml-64 p-4 sm:p-6 min-h-screen",children:Kt()}),a.jsx(HQ,{isOpen:J.isOpen,title:J.title,message:J.message,onClose:je}),a.jsx(WQ,{isOpen:ie.isOpen,user:ie.user,onClose:dt,onSave:pt}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>e(!1)})]})},GQ=({isOpen:t,message:e,title:r,onClose:n})=>t?a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:r}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:a.jsx(zs,{size:20})})]}),a.jsx("p",{className:"text-gray-300 mb-6",children:e}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,B6=({username:t="Usuario",products:e=[],orders:r=[],providerBalance:n=0,balanceLoading:s=!1,totalStock:i=0,totalEarnings:o=0,isAdmin:u=!1,email:d="",notifications:h=[],setActiveSection:p=()=>{},formatDate:g=v=>new Date(v).toLocaleDateString(),theme:y="dark"})=>{const v=y==="dark",T={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return a.jsxs(te.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${v?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:T,initial:"hidden",animate:"visible",children:[a.jsxs(te.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${v?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Bienvenido, ",a.jsx("span",{className:"text-red-400",children:t})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-blue-400":"text-blue-600"}`,children:[a.jsx(r2,{size:20}),"Inventario"]}),a.jsx("p",{className:`text-4xl font-bold ${v?"text-white":"text-gray-900"} mb-2`,children:e.length}),a.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"} mb-1`,children:"Productos registrados"}),a.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:["Stock total: ",i]}),a.jsx(te.button,{onClick:()=>p("inventario"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${v?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver Inventario"})]}),a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-green-400":"text-green-600"}`,children:[a.jsx($s,{size:20}),"Ganancias"]}),s?a.jsxs("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"}),a.jsx("span",{className:`ml-2 ${v?"text-gray-400":"text-gray-600"}`,children:"Cargando..."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:`text-4xl font-bold ${v?"text-white":"text-gray-900"} mb-2`,children:["S/ ",o.toFixed(2)]}),a.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"} mb-1`,children:[r.length," ventas realizadas"]}),a.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:["Disponible: S/ ",n.toFixed(2)]}),a.jsx(te.button,{onClick:()=>p("ganancias"),className:`mt-6 w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 ${v?"from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver Ganancias"})]})]}),a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-purple-400":"text-purple-600"}`,children:[a.jsx(bs,{size:20}),"Mi Cuenta"]}),a.jsxs("div",{className:`space-y-3 ${v?"text-gray-300":"text-gray-700"} mb-6`,children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[a.jsx(bs,{className:"text-purple-400 flex-shrink-0",size:18}),a.jsx("span",{className:"font-medium",children:t})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/20 dark:bg-gray-700/20",children:[a.jsx(Hr,{className:"text-purple-400 flex-shrink-0",size:18}),a.jsx("span",{className:"font-medium",children:d})]}),a.jsx("div",{className:`px-3 py-2 rounded-full text-sm font-medium ${u?v?"bg-purple-900/50 text-purple-300 border border-purple-500/30":"bg-purple-100 text-purple-800 border border-purple-300":v?"bg-gray-700/50 text-gray-300 border border-gray-500/30":"bg-gray-200 text-gray-700 border border-gray-300"}`,children:u?"Administrador":"Proveedor"})]}),a.jsx(te.button,{onClick:()=>p("configuracion"),className:`w-full px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${v?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Editar Perfil"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(te.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-indigo-400":"text-indigo-600"}`,children:[a.jsx($l,{size:20}),"Pedidos recientes"]}),a.jsx(zt,{children:r.length===0?a.jsxs(te.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[a.jsx(te.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:a.jsx($l,{className:"text-white",size:24})}),a.jsx("h4",{className:`text-xl font-semibold mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"No hay pedidos recientes"}),a.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:"Tus pedidos aparecerán aquí"})]}):a.jsxs("div",{className:"overflow-x-auto rounded-xl border",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[a.jsx("thead",{className:`${v?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Comprador"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Monto"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Estado"})]})}),a.jsx("tbody",{className:`${v?"bg-gray-800/70":"bg-white/70"} divide-y divide-gray-700/50`,children:r.slice(0,3).map((E,O)=>{const M=new Date(E.endDate)>new Date&&E.status==="completed",U=E.status==="pending";return a.jsxs(te.tr,{className:"transition-all duration-300 hover:bg-indigo-500/5",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:O*.1},children:[a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-medium ${v?"text-white":"text-gray-900"} truncate max-w-xs`,children:E.productName}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${v?"text-gray-300":"text-gray-700"}`,children:E.buyer}),a.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-semibold ${v?"text-indigo-400":"text-indigo-600"}`,children:["S/ ",(E.amount||0).toFixed(2)]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${U?v?"bg-yellow-900/80 text-yellow-300 border border-yellow-500/30":"bg-yellow-100 text-yellow-800 border border-yellow-300":M?v?"bg-green-900/80 text-green-300 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300":v?"bg-red-900/80 text-red-300 border border-red-500/30":"bg-red-100 text-red-800 border border-red-300"}`,children:U?"A pedido":M?"Activo":"Expirado"})})]},E.id||O)})})]}),r.length>3&&a.jsx(te.button,{onClick:()=>p("pedidos"),className:`w-full mt-4 px-6 py-3 text-center text-sm transition-all duration-300 rounded-xl border-2 font-medium ${v?"border-indigo-500/50 text-indigo-400 hover:bg-indigo-500/10":"border-indigo-500/50 text-indigo-600 hover:bg-indigo-500/10"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Ver todos los pedidos"})]})})]}),a.jsxs(te.div,{className:`rounded-2xl p-6 shadow-xl border backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:w,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${v?"text-pink-400":"text-pink-600"}`,children:[a.jsx(Hr,{size:20}),"Notificaciones"]}),a.jsx(zt,{children:h.length>0?h.map((E,O)=>a.jsx(te.div,{className:`border-b py-4 last:border-0 hover:rounded-xl hover:px-2 transition-all duration-300 ${v?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,delay:O*.1},whileHover:{backgroundColor:v?"rgba(55, 65, 81, 0.5)":"rgba(229, 231, 235, 0.5)"},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 pt-1",children:a.jsx(Hr,{className:"text-pink-400",size:18})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:`font-medium ${v?"text-gray-300":"text-gray-700"} mb-1`,children:E.message}),a.jsx("p",{className:`text-xs ${v?"text-gray-400":"text-gray-500"}`,children:g(E.updatedAt?.toDate?.()||new Date)})]})]})},E.id)):a.jsxs(te.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[a.jsx(te.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:a.jsx(Hr,{className:"text-white",size:24})}),a.jsx("h4",{className:`text-xl font-semibold mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"No hay notificaciones"}),a.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:"Tus notificaciones aparecerán aquí"})]})})]})]})]})};B6.propTypes={username:K.string.isRequired,products:K.arrayOf(K.object).isRequired,orders:K.arrayOf(K.object).isRequired,providerBalance:K.number.isRequired,balanceLoading:K.bool.isRequired,totalStock:K.number.isRequired,totalEarnings:K.number.isRequired,isAdmin:K.bool.isRequired,email:K.string.isRequired,notifications:K.arrayOf(K.object).isRequired,setActiveSection:K.func.isRequired,formatDate:K.func.isRequired,theme:K.oneOf(["light","dark"]).isRequired};const U6=({products:t,setActiveSection:e,handleEdit:r,handleDelete:n,getCategoryDisplayName:s,totalStock:i,theme:o="dark"})=>{const u=o==="dark",d=y=>{const v={netflix:{bg:u?"bg-red-900/30":"bg-red-100",text:u?"text-red-300":"text-red-800"},disney:{bg:u?"bg-blue-900/30":"bg-blue-100",text:u?"text-blue-300":"text-blue-800"},max:{bg:u?"bg-yellow-900/30":"bg-yellow-100",text:u?"text-yellow-300":"text-yellow-800"},spotify:{bg:u?"bg-green-900/30":"bg-green-100",text:u?"text-green-300":"text-green-800"},default:{bg:u?"bg-gray-900/30":"bg-gray-100",text:u?"text-gray-300":"text-gray-700"}};return v[y?.toLowerCase()]||v.default},h={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},g={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:u?"rgba(55, 65, 81, 0.5)":"rgba(229, 231, 235, 0.5)",transition:{duration:.2}}};return a.jsxs(te.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-4",children:[a.jsxs(te.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:["Inventario",a.jsxs("span",{className:`ml-2 bg-gradient-to-r ${u?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:[t.length," productos"]})]}),a.jsxs(te.button,{onClick:()=>e("subirProducto"),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 flex items-center ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(nT,{className:"mr-2",size:18}),"Nuevo Producto"]})]}),t.length>0?a.jsx("div",{className:"overflow-x-auto rounded-2xl border shadow-lg",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200/30",children:[a.jsx("thead",{className:`${u?"bg-gray-700/60":"bg-gray-50/60"}`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Producto"}),a.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Precio"}),a.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Stock"}),a.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Categoría"}),a.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Estado"}),a.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200/30",children:a.jsx(zt,{children:t.map((y,v)=>{const T=d(y.category);return a.jsxs(te.tr,{className:`transition-colors duration-200 ${u?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:g,initial:"hidden",animate:"visible",whileHover:"hover",exit:{opacity:0,x:-20},transition:{duration:.3,delay:v*.05},children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-3",children:[y.image?a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{className:"w-10 h-10 rounded-full object-cover shadow-md",src:y.image,alt:y.name,loading:"lazy"})}):a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-md",children:a.jsx(Xz,{className:"text-white",size:16})}),a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("div",{className:`text-sm font-semibold ${u?"text-white":"text-gray-900"} truncate`,children:y.name})})]})}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[a.jsxs("div",{className:"text-sm font-semibold text-green-500",children:["S/ ",(parseFloat(y.price)||0).toFixed(2)]}),y.renewalPrice&&parseFloat(y.renewalPrice)!==parseFloat(y.price)&&a.jsxs("div",{className:`text-xs ${u?"text-gray-400":"text-gray-600"}`,children:["Ren: S/ ",parseFloat(y.renewalPrice).toFixed(2)]})]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(y.stock||0)>0?u?"bg-green-900/50 text-green-400":"bg-green-100 text-green-800":u?"bg-red-900/50 text-red-400":"bg-red-100 text-red-800"}`,children:y.stock||0})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T.bg} ${T.text}`,children:s(y.category)})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${y.status==="En stock"?u?"bg-green-900/80 text-green-400 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300":y.status==="A pedido"?u?"bg-yellow-900/80 text-yellow-400 border border-yellow-500/30":"bg-yellow-100 text-yellow-800 border border-yellow-300":u?"bg-red-900/80 text-red-400 border border-red-500/30":"bg-red-100 text-red-800 border border-red-300"}`,children:y.status||"En stock"})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(te.button,{onClick:()=>r(y),className:"p-2 rounded-xl bg-blue-500/80 hover:bg-blue-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Editar","aria-label":"Editar producto",children:a.jsx(H5,{size:16})}),a.jsx(te.button,{onClick:()=>n(y.id),className:"p-2 rounded-xl bg-red-500/80 hover:bg-red-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Eliminar","aria-label":"Eliminar producto",children:a.jsx(s2,{size:16})})]})})]},y.id||v)})})})]})}):a.jsxs(te.div,{className:`text-center py-16 rounded-2xl border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",whileHover:"hover",children:[a.jsx(te.div,{className:`mx-auto w-20 h-20 rounded-2xl bg-gradient-to-br from-gray-400 to-gray-500 flex items-center justify-center mb-6 shadow-lg ${u?"bg-gray-700/50":"bg-gray-200/50"}`,animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:a.jsx(r2,{className:"text-white",size:32})}),a.jsx("h4",{className:`text-xl font-semibold mb-2 ${u?"text-gray-300":"text-gray-700"}`,children:"No tienes productos registrados"}),a.jsx("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"} mb-6`,children:"Agrega tu primer producto para comenzar a vender"}),a.jsxs(te.button,{onClick:()=>e("subirProducto"),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 flex items-center ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[a.jsx(nT,{className:"mr-2",size:18}),"Agregar Producto"]})]})]})};U6.propTypes={products:K.arrayOf(K.shape({id:K.string.isRequired,name:K.string.isRequired,price:K.oneOfType([K.string,K.number]).isRequired,stock:K.oneOfType([K.string,K.number]),status:K.string,category:K.string,image:K.string})).isRequired,setActiveSection:K.func.isRequired,handleEdit:K.func.isRequired,handleDelete:K.func.isRequired,getCategoryDisplayName:K.func.isRequired,totalStock:K.number.isRequired,theme:K.oneOf(["light","dark"]).isRequired};const KQ=({soldAccounts:t,formatDate:e,theme:r="dark"})=>{const n=r==="dark",s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return a.jsxs(te.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${n?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:s,initial:"hidden",animate:"visible",children:[a.jsxs(te.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${n?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[a.jsx(rT,{className:"inline mr-2",size:32}),"Cuentas Vendidas"]}),a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${n?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:i,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${n?"text-blue-400":"text-blue-600"}`,children:[a.jsx(r2,{size:20}),"Registro de Ventas"]}),a.jsx(zt,{children:t.length===0?a.jsxs(te.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[a.jsx(te.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:a.jsx(rT,{className:"text-white",size:24})}),a.jsx("h4",{className:`text-xl font-semibold mb-2 ${n?"text-gray-300":"text-gray-700"}`,children:"No hay cuentas vendidas"}),a.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"Las cuentas vendidas aparecerán aquí"})]}):a.jsx("div",{className:"overflow-x-auto rounded-xl border",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[a.jsx("thead",{className:`${n?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Email"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Perfil"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${n?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Fecha de Venta"})]})}),a.jsx("tbody",{className:`${n?"bg-gray-800/70":"bg-white/70"} divide-y divide-gray-700/50`,children:t.map((o,u)=>a.jsxs(te.tr,{className:"transition-all duration-300 hover:bg-blue-500/5",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:u*.1},children:[a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-medium ${n?"text-white":"text-gray-900"} truncate max-w-xs`,children:o.productName}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-700"}`,children:o.email}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-700"}`,children:o.profile||"N/A"}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-700"}`,children:e(o.saleDate)})]},o.id||u))})]})})})]})]})},XQ=({product:t,setProduct:e,handleChange:r,handleFileChange:n,handleStockChange:s,handleAccountFieldChange:i,handleSubmit:o,setActiveSection:u,theme:d="dark"})=>{const h=d==="dark",p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return a.jsxs(te.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${h?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",children:[a.jsxs(te.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${h?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[a.jsx(Ip,{className:"inline mr-2",size:32}),"Subir Nuevo Producto"]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-blue-400":"text-blue-600"}`,children:[a.jsx(q5,{size:20}),"Imagen del producto"]}),a.jsx("div",{className:`flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl ${h?"bg-gray-900/80 border-gray-700/50":"bg-gray-200/80 border-gray-300/50"}`,children:t.image?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:t.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain",loading:"lazy"}),a.jsx(te.button,{type:"button",onClick:()=>e({...t,image:""}),className:`absolute top-0 right-0 ${h?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(zs,{size:16})})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ip,{className:`mx-auto h-12 w-12 ${h?"text-gray-400":"text-gray-500"}`}),a.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:a.jsxs("label",{htmlFor:"file-upload",className:`relative cursor-pointer rounded-xl font-medium ${h?"bg-gray-900/50 text-blue-400 hover:text-blue-500":"bg-gray-200/50 text-blue-600 hover:text-blue-700"} focus-within:outline-none`,children:[a.jsx("span",{children:"Subir una imagen"}),a.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:y=>n(y),accept:"image/*"})]})}),a.jsx("p",{className:`text-xs ${h?"text-gray-500":"text-gray-600"}`,children:"PNG, JPG, GIF hasta 10MB"})]})})]}),a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-purple-400":"text-purple-600"}`,children:[a.jsx(Q5,{size:20}),"Información Básica"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Nombre del producto*"}),a.jsx("input",{type:"text",name:"name",value:t.name,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Categoría*"}),a.jsxs("select",{name:"category",value:t.category,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[a.jsx("option",{value:"Netflix",children:"Netflix"}),a.jsx("option",{value:"Spotify",children:"Spotify"}),a.jsx("option",{value:"Disney",children:"Disney+"}),a.jsx("option",{value:"Max",children:"Max"}),a.jsx("option",{value:"Prime Video",children:"Prime Video"}),a.jsx("option",{value:"Vix",children:"Vix"}),a.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),a.jsx("option",{value:"Canva",children:"Canva"}),a.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),a.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),a.jsx("option",{value:"Dgo",children:"DGO"}),a.jsx("option",{value:"Liga Max",children:"Liga Max"}),a.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),a.jsx("option",{value:"Youtube",children:"YouTube"}),a.jsx("option",{value:"Deezer",children:"Deezer"}),a.jsx("option",{value:"Tidal",children:"Tidal"}),a.jsx("option",{value:"Vpn",children:"VPN"}),a.jsx("option",{value:"WinTv",children:"WinTV"}),a.jsx("option",{value:"Apple Music",children:"Apple Music"}),a.jsx("option",{value:"Apple Tv",children:"Apple TV"}),a.jsx("option",{value:"Iptv",children:"IPTV"}),a.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),a.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),a.jsx("option",{value:"Pornhub",children:"Pornhub"}),a.jsx("option",{value:"Paramount",children:"Paramount"}),a.jsx("option",{value:"Licencias",children:"Licencias"}),a.jsx("option",{value:"Capcut",children:"Capcut"}),a.jsx("option",{value:"Duolingo",children:"Duolingo"}),a.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Tipo de cuenta*"}),a.jsxs("select",{name:"accountType",value:t.accountType,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[a.jsx("option",{value:"Premium",children:"Premium"}),a.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Estado*"}),a.jsxs("select",{name:"status",value:t.status,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[a.jsx("option",{value:"En stock",children:"En stock"}),a.jsx("option",{value:"A pedido",children:"A pedido"}),a.jsx("option",{value:"Agotado",children:"Agotado"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Stock*"}),a.jsx("input",{type:"number",name:"stock",value:t.status==="Agotado"?0:t.stock,onChange:s,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all ${t.status==="Agotado"?"opacity-50 cursor-not-allowed":""} placeholder-gray-500`,min:"0",required:!0,disabled:t.status==="Agotado"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio (S/)*"}),a.jsx("input",{type:"number",name:"price",value:t.price,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"renewal",checked:t.renewal,onChange:r,className:`h-4 w-4 rounded ${h?"text-purple-400 focus:ring-purple-400 border-gray-600/50":"text-purple-600 focus:ring-purple-600 border-gray-300/50"}`}),a.jsx("label",{className:`ml-2 text-sm ${h?"text-gray-300":"text-gray-700"}`,children:"¿Tiene renovación?"})]})]}),t.renewal&&a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio de renovación (S/)*"}),a.jsx("input",{type:"number",name:"renewalPrice",value:t.renewalPrice,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-8",children:[a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-green-400":"text-green-600"}`,children:[a.jsx(Du,{size:20}),"Duración y Contacto"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Duración (días)"}),a.jsx("input",{type:"number",name:"duration",value:t.duration,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Dejar vacío para ilimitado",min:"1"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:["Teléfono de contacto ",t.status==="A pedido"?"*":""]}),a.jsx("input",{type:"text",name:"providerPhone",value:t.providerPhone,onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Ej: +51 987654321",required:t.status==="A pedido"})]})]})]}),a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-indigo-400":"text-indigo-600"}`,children:[a.jsx(G5,{size:20}),"Enlaces y Descripciones"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"URL del producto (opcional)"}),a.jsx("input",{type:"url",name:"productUrl",value:t.productUrl||"",onChange:r,className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Ej: https://www.ejemplo.com/producto"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Detalles del producto"}),a.jsx("textarea",{name:"details",value:t.details,onChange:r,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Describe los detalles y características del producto"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${h?"text-gray-300":"text-gray-700"} mb-2`,children:"Términos y condiciones"}),a.jsx("textarea",{name:"terms",value:t.terms,onChange:r,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Especifica los términos y condiciones de uso"})]})]})]}),t.status==="En stock"&&a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:g,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${h?"text-pink-400":"text-pink-600"}`,children:[a.jsx(jp,{size:20}),"Cuentas Asociadas"]}),a.jsx("p",{className:`text-sm mb-4 ${h?"text-gray-400":"text-gray-600"}`,children:"Debe completar todas las cuentas según el stock indicado"}),a.jsx(zt,{children:a.jsx("div",{className:"space-y-4",children:t.accounts.map((y,v)=>a.jsxs(te.div,{className:`border rounded-xl p-4 ${h?"bg-gray-900/70 border-gray-700/50":"bg-gray-200/70 border-gray-300/50"} backdrop-blur-sm`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:v*.1},children:[a.jsxs("h4",{className:`text-sm font-medium ${h?"text-white":"text-gray-900"} mb-3 flex items-center gap-2`,children:["Cuenta ",v+1]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Correo electrónico*"}),a.jsx("input",{type:"email",value:y.email,onChange:T=>i(v,"email",T.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Contraseña*"}),a.jsx("input",{type:"text",value:y.password,onChange:T=>i(v,"password",T.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Perfil (opcional)"}),a.jsx("input",{type:"text",value:y.profile,onChange:T=>i(v,"profile",T.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: Perfil 1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"PIN (opcional)"}),a.jsx("input",{type:"text",value:y.pin,onChange:T=>i(v,"pin",T.target.value),className:`w-full px-3 py-2 rounded-xl border ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: 1234"})]})]})]},v))})})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[a.jsx(te.button,{onClick:()=>u("inventario"),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${h?"from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500":"from-gray-300 to-gray-400 hover:from-gray-400 hover:to-gray-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancelar"}),a.jsx(te.button,{onClick:o,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-pink-500/50 ${h?"from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700":"from-pink-600 to-purple-800 hover:from-pink-700 hover:to-purple-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Subir Producto"})]})]})},YQ=({orders:t,totalEarnings:e,providerBalance:r,balanceLoading:n,getCategoryDisplayName:s,formatDate:i,theme:o="dark"})=>{const u=o==="dark",d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return a.jsxs(te.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",children:[a.jsxs(te.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[a.jsx($s,{className:"inline mr-2",size:32}),"Ganancias"]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-green-400":"text-green-600"}`,children:[a.jsx($s,{size:20}),"Resumen Financiero"]}),a.jsxs("p",{className:`text-4xl font-bold ${u?"text-white":"text-gray-900"} mb-2`,children:["S/ ",e.toFixed(2)]}),a.jsxs("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"} mb-1`,children:[t.length," ventas realizadas"]}),n?a.jsxs("div",{className:"flex items-center justify-center py-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-500 mr-2"}),a.jsx("span",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:"Cargando saldo..."})]}):a.jsxs("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:["Disponible: S/ ",r.toFixed(2)]})]}),a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:h,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${u?"text-indigo-400":"text-indigo-600"}`,children:[a.jsx($l,{size:20}),"Historial de Ventas"]}),a.jsx(zt,{children:t.length===0?a.jsxs(te.div,{className:"text-center py-12",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[a.jsx(te.div,{className:"mx-auto w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mb-4 shadow-lg",animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:a.jsx($l,{className:"text-white",size:24})}),a.jsx("h4",{className:`text-xl font-semibold mb-2 ${u?"text-gray-300":"text-gray-700"}`,children:"No hay ventas registradas"}),a.jsx("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:"Tus ventas aparecerán aquí"})]}):a.jsxs("div",{className:"overflow-x-auto rounded-xl border",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[a.jsx("thead",{className:`${u?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Categoría"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Comprador"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Contacto"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Fecha"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Monto"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-semibold ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Estado"})]})}),a.jsx("tbody",{className:`${u?"bg-gray-800/70":"bg-white/70"} divide-y divide-gray-700/50`,children:t.slice(0,10).map((p,g)=>a.jsxs(te.tr,{className:"transition-all duration-300 hover:bg-indigo-500/5",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:g*.1},children:[a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-gray-900"} truncate max-w-xs`,children:p.productName}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:s(p.category)}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[a.jsx("div",{className:`text-sm font-medium ${u?"text-white":"text-gray-900"}`,children:p.buyer}),a.jsx("div",{className:`text-xs ${u?"text-gray-400":"text-gray-600"}`,children:p.buyerEmail})]}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:p.buyerPhone}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:i(p.saleDate)}),a.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-semibold ${u?"text-indigo-400":"text-indigo-600"}`,children:["S/ ",(p.amount||0).toFixed(2)]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${u?"bg-green-900/80 text-green-300 border border-green-500/30":"bg-green-100 text-green-800 border border-green-300"}`,children:"Completado"})})]},p.id||g))})]}),t.length>10&&a.jsxs("p",{className:`text-center mt-4 text-sm ${u?"text-gray-400":"text-gray-600"}`,children:["Mostrando las primeras 10 ventas. Hay ",t.length," en total."]})]})})]})]})]})},z6=({orders:t,searchQuery:e,setSearchQuery:r,getCategoryDisplayName:n,formatDate:s,handleEditOrder:i,handleActivateOrder:o,handleDeleteOrder:u,theme:d="dark"})=>{const[h,p]=S.useState({key:null,direction:"asc"}),g=d==="dark",y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},v={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:g?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},T=S.useMemo(()=>{let P=[...t].filter(X=>(X.productName||"").toLowerCase().includes(e.toLowerCase())||(X.category||"").toLowerCase().includes(e.toLowerCase())||(X.provider||"").toLowerCase().includes(e.toLowerCase())||(X.buyer||"").toLowerCase().includes(e.toLowerCase())||(X.accountDetails?.email||"").toLowerCase().includes(e.toLowerCase()));return h.key&&P.sort((X,B)=>{let A=X[h.key]||"",N=B[h.key]||"";return typeof A=="string"&&(A=A.toLowerCase()),typeof N=="string"&&(N=N.toLowerCase()),A<N?h.direction==="asc"?-1:1:A>N?h.direction==="asc"?1:-1:0}),P},[t,e,h]),w=P=>{const X={netflix:{bg:g?"bg-red-900/30":"bg-red-100",text:g?"text-red-300":"text-red-800"},disney:{bg:g?"bg-blue-900/30":"bg-blue-100",text:g?"text-blue-300":"text-blue-800"},max:{bg:g?"bg-yellow-900/30":"bg-yellow-100",text:g?"text-yellow-300":"text-yellow-800"},spotify:{bg:g?"bg-green-900/30":"bg-green-100",text:g?"text-green-300":"text-green-800"},default:{bg:g?"bg-gray-900/30":"bg-gray-100",text:g?"text-gray-300":"text-gray-700"}};return X[P?.toLowerCase()]||X.default},E=(P,X)=>{const B=P.status||"pending",N=(P.daysRemaining||0)>0;let C,R,F;return B==="soporte"?(C="En soporte",R=X?"text-blue-400":"text-blue-600",F=a.jsx(Pa,{className:R,title:"En Soporte"})):B==="rechazado"?(C="No aplica soporte",R=X?"text-amber-700":"text-amber-900",F=a.jsx(oi,{className:R,title:"No aplica soporte"})):B==="refunded"?(C="Reembolsado",R=X?"text-gray-400":"text-gray-600",F=a.jsx(oi,{className:R,title:"Reembolsado"})):B==="pending"?(C="Pendiente",R=X?"text-yellow-400":"text-yellow-600",F=a.jsx(Du,{className:R,title:"Pendiente"})):N?(C="Activo",R=X?"text-green-400":"text-green-600",F=a.jsx(bu,{className:R,title:"Activo"})):(C="Expirado",R=X?"text-red-400":"text-red-600",F=a.jsx(oi,{className:R,title:"Expirado"})),{text:C,color:R,icon:F}},O=P=>{p(X=>({key:P,direction:X.key===P&&X.direction==="asc"?"desc":"asc"}))},M=P=>h.key!==P?null:h.direction==="asc"?a.jsx(Cm,{className:"ml-1"}):a.jsx(Am,{className:"ml-1"}),U=()=>{const P=T.map(N=>{const C=N.status||"pending",R=C==="pending",F=C==="soporte",W=C==="rechazado",V=C==="refunded",Ee=N.daysRemaining||0,Pe=Ee>0;let ze;F?ze="En Soporte":W?ze="No aplica soporte":V?ze="Reembolsado":Pe?ze="Activo":R?ze="Pendiente":ze="Expirado";const Le=F||W||V||R&&!Pe;let we;return Le?we=ze:we=`${Ee} día${Ee===1?"":"s"}`,{Estado:ze,Producto:N.productName||"Sin nombre",Categoría:n(N.category),Proveedor:N.provider||"N/A",Monto:`S/ ${(N.amount||0).toFixed(2)}`,"Tiempo Restante":we,"Fecha de Inicio":N.startDate?s(N.startDate):"N/A","Fecha de Vencimiento":N.endDate?s(N.endDate):"N/A",Comprador:N.buyer||"N/A",Teléfono:N.buyerPhone||"N/A",Email:N.accountDetails?.email||"N/A",Contraseña:N.accountDetails?.password||"N/A",Perfil:N.accountDetails?.profile||"N/A",PIN:N.accountDetails?.pin||"N/A"}}),X=li.json_to_sheet(P),B=li.book_new();li.book_append_sheet(B,X,"Pedidos");const A=new Date().toISOString().slice(0,10).replace(/-/g,"");$m(B,`orders_export_${A}.xlsx`)};return a.jsxs(te.div,{className:`backdrop-blur-md p-2 sm:p-4 md:p-6 lg:p-8 rounded-3xl shadow-2xl w-full border ${g?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:y,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"orders-title",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[a.jsxs("h3",{id:"orders-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${g?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[a.jsx($l,{className:"mr-2"})," Mis Pedidos",a.jsx("span",{className:`ml-2 bg-gradient-to-r ${g?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:T.length})]}),a.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[a.jsxs("div",{className:"relative flex-1 md:w-64 lg:w-80",children:[a.jsx("input",{type:"text",placeholder:"Buscar pedidos por nombre, categoría, proveedor, cliente o email...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${g?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:e,onChange:P=>r(P.target.value),"aria-label":"Buscar pedidos por nombre, categoría, proveedor, cliente o email"}),a.jsx(ia,{className:`absolute left-3 top-3.5 ${g?"text-gray-400":"text-gray-500"}`,size:18})]}),a.jsxs(te.button,{onClick:U,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${g?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos como Excel","aria-label":"Exportar pedidos a Excel",children:[a.jsx(Im,{size:18}),a.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),a.jsx(zt,{children:T.length>0?a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:a.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:a.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${g?"bg-gray-800/50":"bg-white/50"}`,children:[a.jsx("thead",{className:`${g?"bg-gray-700/60":"bg-gray-50/60"}`,children:a.jsx("tr",{children:[{key:"status",label:"Estado"},{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:"provider",label:"Proveedor"},{key:"amount",label:"Monto"},{key:"daysRemaining",label:"Tiempo Restante"},{key:"startDate",label:"Inicio"},{key:"endDate",label:"Vencimiento"},{key:"buyer",label:"Comprador"},{key:"buyerPhone",label:"Teléfono"},{key:"email",label:"Email"},{key:"password",label:"Contraseña"},{key:"profile",label:"Perfil"},{key:"pin",label:"PIN"},{label:"Acciones"}].map(({key:P,label:X})=>a.jsx("th",{className:`px-2 sm:px-3 md:px-4 py-3 sm:py-4 text-left text-xs font-semibold uppercase tracking-wider ${g?"text-gray-300":"text-gray-700"} cursor-pointer hover:text-blue-400 transition-colors`,onClick:()=>P&&O(P),children:a.jsxs("div",{className:"flex items-center justify-between",children:[X,P&&M(P)]})},P||X))})}),a.jsx("tbody",{className:"divide-y divide-gray-200/30",children:T.map(P=>{const X=parseFloat(P.amount)||0,B=P.status||"pending",A=B==="pending",N=B==="soporte",C=B==="rechazado",R=B==="refunded",F=P.daysRemaining||0,W=Math.min(P.timeElapsedPercentage||0,100),V=E(P,g),Ee=w(P.category);let Pe;W<70?Pe=g?"bg-green-500":"bg-green-600":W<90?Pe=g?"bg-orange-500":"bg-orange-600":Pe=g?"bg-red-500":"bg-red-600";const ze=!["En soporte","No aplica soporte","Reembolsado","Pendiente"].includes(V.text),Le=N||C||R||A,we=Le?V.text:`${F} día${F===1?"":"s"}`,se=ze?Pe.replace("bg-","text-"):V.color,de=P.provider||"BlackStreaming",ne=P.buyerPhone?P.buyerPhone.replace(/[^0-9]/g,""):null,D=P.soporteMessage?`

📝 *Nota de Soporte*: ${P.soporteMessage}`:"",Y=encodeURIComponent(`¡Hola! 👋 Soy ${de} de BlackStreaming.

🔧 *Necesito contactarte* sobre tu pedido de *${P.productName||"Sin nombre"}*.
🆔 *Pedido*: ${P.id||"N/A"}
📞 ¿Podrías confirmarme algunos detalles o resolver una duda rápida?

¡Gracias por tu paciencia! 🙏`),J=encodeURIComponent(`¡Hola! 👋 *${de}* de BlackStreaming aquí.

🎉 *¡Tu cuenta está lista!* Has adquirido:
📺 *${P.productName||"Sin nombre"}*
💰 *Precio*: S/ ${X.toFixed(2)}
⏰ *Duración*: ${P.durationDays||30} días

🍿 Tu suscripción a *${P.productName||"Sin nombre"}* (${de}) sigue activa! 🎬
⏳ *Te quedan*: ${Le?N?"En Soporte":C?"No aplica soporte":R?"Reembolsado":"Pendiente de activación":`${F} día${F===1?"":"s"}`} para disfrutar! 🕒
📋 *Detalles*:
✉️ *Usuario*: ${P.accountDetails?.email||"N/A"}
🔐 *Contraseña*: ${P.accountDetails?.password||"N/A"}
👥 *Perfil*: ${P.accountDetails?.profile||"N/A"}
🔢 *PIN*: ${P.accountDetails?.pin||"N/A"}
🗓 *Compra*: ${P.startDate?s(P.startDate):"N/A"}
🗓 *Vencimiento*: ${P.endDate?s(P.endDate):"N/A"}
📞 *Teléfono*: ${P.buyerPhone||"N/A"}

`+D+`👤 *${de}* te recomienda renovar a tiempo para no perderte nada! 😊
🚀 ¡Sigue disfrutando y contáctanos si necesitas ayuda! 🎉`);return a.jsxs(te.tr,{className:`transition-colors duration-200 ${g?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:v,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${P.id}-title`,children:[a.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`p-1.5 rounded-full ${V.color.replace("text-","bg-").replace("-600","/20").replace("-400","/20")}`,children:V.icon}),a.jsx("span",{className:`${V.color} font-medium`,children:V.text})]})}),a.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4",children:a.jsx("h4",{id:`order-${P.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:P.productName||"Sin nombre"})}),a.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ee.bg} ${Ee.text}`,children:n(P.category)})}),a.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap font-mono text-sm",children:P.provider||"N/A"}),a.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:a.jsx("div",{className:"space-y-1",children:a.jsxs("p",{className:"font-bold text-lg",children:["S/ ",X.toFixed(2)]})})}),a.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[ze&&a.jsx("div",{className:"relative",children:a.jsx("div",{className:`w-20 h-2 rounded-full overflow-hidden ${g?"bg-gray-600/40":"bg-gray-300/40"}`,children:a.jsx(te.div,{className:`h-2 rounded-full ${Pe}`,initial:{width:0},animate:{width:`${W}%`},transition:{duration:1.5,ease:"easeInOut"}})})}),a.jsx("span",{className:`text-sm font-medium ${se}`,children:we})]})}),a.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm text-gray-500",children:P.startDate?s(P.startDate):"N/A"}),a.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm text-gray-500",children:P.endDate?s(P.endDate):"N/A"}),a.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 max-w-sm md:max-w-md truncate",title:P.buyer||"N/A",children:P.buyer||"N/A"}),a.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm text-gray-500",children:P.buyerPhone||"N/A"}),a.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 max-w-sm md:max-w-md truncate",title:P.accountDetails?.email||"N/A",children:P.accountDetails?.email||"N/A"}),a.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 max-w-sm md:max-w-md truncate",title:P.accountDetails?.password||"N/A",children:P.accountDetails?.password||"N/A"}),a.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm",children:P.accountDetails?.profile||"N/A"}),a.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap text-sm font-mono",children:P.accountDetails?.pin||"N/A"}),a.jsx("td",{className:"px-2 sm:px-3 md:px-4 py-3 sm:py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(te.button,{onClick:()=>i(P),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-blue-500/80 hover:bg-blue-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Editar cuenta","aria-label":`Editar cuenta para el pedido ${P.id}`,children:a.jsx(H5,{size:16})}),A&&a.jsx(te.button,{onClick:()=>o(P.id),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-green-500/80 hover:bg-green-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Activar pedido","aria-label":`Activar pedido ${P.id}`,children:a.jsx(bu,{size:16})}),ne&&a.jsxs(a.Fragment,{children:[a.jsx(te.a,{href:`https://wa.me/${ne}?text=${Y}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar cliente","aria-label":`Contactar cliente para el pedido ${P.id}`,children:a.jsx(Hr,{size:16})}),!R&&!N&&!C&&a.jsx(te.a,{href:`https://wa.me/${ne}?text=${J}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-amber-500/80 hover:bg-amber-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Notificar cliente sobre estado o vencimiento","aria-label":`Notificar cliente para el pedido ${P.id}`,children:a.jsx(p0,{size:16})})]}),a.jsx(te.button,{onClick:()=>u(P.id),className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-red-500/80 hover:bg-red-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Eliminar pedido","aria-label":`Eliminar pedido ${P.id}`,children:a.jsx(s2,{size:16})})]})})]},P.id)})})]})})}):a.jsxs(te.div,{className:"text-center py-16",variants:y,initial:"hidden",animate:"visible",children:[a.jsx(te.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:a.jsx(ia,{className:`mx-auto text-6xl ${g?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),a.jsx("h4",{className:`text-xl font-semibold ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos encontrados"}),a.jsx("p",{className:`text-sm ${g?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu búsqueda o realiza tu primer pedido."})]})})]})};z6.propTypes={orders:K.arrayOf(K.shape({id:K.string.isRequired,productName:K.string,category:K.string,provider:K.string,amount:K.oneOfType([K.string,K.number]),status:K.string,startDate:K.oneOfType([K.string,K.instanceOf(Date)]),endDate:K.oneOfType([K.string,K.instanceOf(Date)]),daysRemaining:K.number,timeElapsedPercentage:K.number,accountDetails:K.shape({email:K.string,password:K.string,profile:K.string,pin:K.string}),buyer:K.string,buyerPhone:K.string,durationDays:K.number,soporteMessage:K.string})).isRequired,searchQuery:K.string.isRequired,setSearchQuery:K.func.isRequired,getCategoryDisplayName:K.func.isRequired,formatDate:K.func.isRequired,handleEditOrder:K.func.isRequired,handleActivateOrder:K.func.isRequired,handleDeleteOrder:K.func.isRequired,theme:K.oneOf(["light","dark"]).isRequired};const QQ=({accountDetails:t,handleAccountChange:e,handleUpdateAccount:r,theme:n="dark"})=>{const s=n==="dark",i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},o={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return a.jsxs(te.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${s?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:i,initial:"hidden",animate:"visible",children:[a.jsxs(te.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-8 bg-clip-text text-transparent bg-gradient-to-r ${s?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"} text-center`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[a.jsx(Y5,{className:"inline mr-2",size:32}),"Configuración"]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${s?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:o,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${s?"text-blue-400":"text-blue-600"}`,children:[a.jsx(n2,{size:20}),"Información de Cuenta"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"} mb-2`,children:"Correo electrónico"}),a.jsx("input",{type:"email",value:t.email,disabled:!0,className:`w-full px-4 py-2 rounded-xl border ${s?"bg-gray-700/50 text-gray-400 border-gray-600/50":"bg-gray-200/50 text-gray-600 border-gray-300/50"} cursor-not-allowed focus:ring-0`})]}),a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"} mb-2 flex items-center gap-2`,children:[a.jsx(Np,{size:16}),"Nueva contraseña (opcional)"]}),a.jsx("input",{type:"password",name:"password",value:t.password,onChange:e,className:`w-full px-4 py-2 rounded-xl border ${s?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Dejar en blanco para no cambiar"})]})]})]}),a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${s?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:o,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${s?"text-purple-400":"text-purple-600"}`,children:[a.jsx(W5,{size:20}),"Preferencias"]}),a.jsx("textarea",{name:"preferences",value:t.preferences,onChange:e,rows:"6",className:`w-full px-4 py-2 rounded-xl border resize-none ${s?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Especifica tus preferencias o notas"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(te.button,{onClick:r,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-pink-500/50 ${s?"from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700":"from-pink-600 to-purple-800 hover:from-pink-700 hover:to-purple-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Guardar Cambios"})})]})},H6=({orders:t=[],setOrders:e,fetchOrders:r,searchQuery:n,setSearchQuery:s,getCategoryDisplayName:i,formatDate:o,theme:u="dark"})=>{const[d,h]=S.useState({}),[p,g]=S.useState({key:null,direction:"asc"}),y=u==="dark",v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},T={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:y?"#1F2937":"#F3F4F6",transition:{duration:.2},scale:1.005}},w=B=>{const A={netflix:{bg:y?"bg-red-900/30":"bg-red-100",text:y?"text-red-300":"text-red-800"},disney:{bg:y?"bg-blue-900/30":"bg-blue-100",text:y?"text-blue-300":"text-blue-800"},max:{bg:y?"bg-yellow-900/30":"bg-yellow-100",text:y?"text-yellow-300":"text-yellow-800"},spotify:{bg:y?"bg-green-900/30":"bg-green-100",text:y?"text-green-300":"text-green-800"},default:{bg:y?"bg-gray-900/30":"bg-gray-100",text:y?"text-gray-300":"text-gray-700"}};return A[B?.toLowerCase()]||A.default},E=S.useMemo(()=>{let A=[...t.filter(N=>N.status==="soporte")].filter(N=>(N.productName||"").toLowerCase().includes(n.toLowerCase())||(N.customerName||N.buyerName||"").toLowerCase().includes(n.toLowerCase()));return p.key&&A.sort((N,C)=>{let R=N[p.key]||"",F=C[p.key]||"";return p.key==="soporteMessage"?(R=N.soporteMessage||"",F=C.soporteMessage||""):p.key==="category"&&(R=i(N.category),F=i(C.category)),typeof R=="string"&&(R=R.toLowerCase()),typeof F=="string"&&(F=F.toLowerCase()),R<F?p.direction==="asc"?-1:1:R>F?p.direction==="asc"?1:-1:0}),A},[t,n,p,i]),O=B=>{g(A=>({key:B,direction:A.key===B&&A.direction==="asc"?"desc":"asc"}))},M=B=>p.key!==B?null:p.direction==="asc"?a.jsx(Cm,{className:"ml-1"}):a.jsx(Am,{className:"ml-1"}),U=()=>{const B=E.map(R=>{const F=R.customerName||R.buyerName||"N/A";return{Producto:R.productName||"Sin nombre",Categoría:i(R.category),Comprador:F,Teléfono:R.buyerPhone||"N/A",Email:R.accountDetails?.email||"N/A","Mensaje de Soporte":R.soporteMessage||"Sin mensaje","Fecha de Inicio":R.startDate?o(R.startDate):"N/A","Fecha de Vencimiento":R.endDate?o(R.endDate):"N/A"}}),A=li.json_to_sheet(B),N=li.book_new();li.book_append_sheet(N,A,"Pedidos en Soporte");const C=new Date().toISOString().slice(0,10).replace(/-/g,"");$m(N,`pedidos_soporte_export_${C}.xlsx`)},P=async B=>{h(A=>({...A,[`reject_${B}`]:!0}));try{await la(yt(Ve,"sales",B),{status:"rechazado"},{merge:!0}),e(A=>A.map(N=>N.id===B?{...N,status:"rechazado"}:N)),r&&await r(),alert("Pedido rechazado exitosamente.")}catch(A){console.error("Error rejecting support:",A),alert("Error al rechazar el soporte.")}finally{h(A=>({...A,[`reject_${B}`]:!1}))}},X=async B=>{h(A=>({...A,[`solve_${B}`]:!0}));try{await la(yt(Ve,"sales",B),{status:"active"},{merge:!0}),e(A=>A.map(N=>N.id===B?{...N,status:"active"}:N)),r&&await r(),alert("Soporte solucionado y pedido activado exitosamente.")}catch(A){console.error("Error solving support:",A),alert("Error al solucionar el soporte.")}finally{h(A=>({...A,[`solve_${B}`]:!1}))}};return a.jsxs(te.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-7xl mx-auto border ${y?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:v,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"support-title",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[a.jsxs("h3",{id:"support-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${y?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,children:[a.jsx(Pa,{className:"mr-2"})," Pedidos en Soporte",a.jsx("span",{className:`ml-2 bg-gradient-to-r ${y?"from-blue-400/20 to-purple-600/20":"from-blue-600/20 to-purple-800/20"} px-2 py-1 rounded-full text-sm font-medium`,children:E.length})]}),a.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[a.jsxs("div",{className:"relative flex-1 lg:w-80",children:[a.jsx("input",{type:"text",placeholder:"Buscar en soporte...",className:`w-full pl-10 pr-4 py-3 rounded-2xl shadow-md transition-all duration-300 ${y?"bg-gray-800/70 text-white border border-gray-600/50 placeholder-gray-400 focus:border-blue-500/50":"bg-white/70 text-gray-900 border border-gray-300/50 placeholder-gray-500 focus:border-blue-500/50"} focus:ring-2 focus:ring-blue-500/30 focus:outline-none`,value:n,onChange:B=>s(B.target.value),"aria-label":"Buscar en soporte"}),a.jsx(ia,{className:`absolute left-3 top-3.5 ${y?"text-gray-400":"text-gray-500"}`,size:18})]}),a.jsxs(te.button,{onClick:U,className:`p-3 rounded-2xl shadow-lg flex items-center gap-2 ${y?"bg-green-600/80 hover:bg-green-700/90 text-white":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-300`,whileHover:{scale:1.05},whileTap:{scale:.95},title:"Descargar pedidos en soporte como Excel","aria-label":"Exportar pedidos en soporte a Excel",children:[a.jsx(Im,{size:18}),a.jsx("span",{className:"hidden sm:inline text-sm",children:"Exportar"})]})]})]}),a.jsx(zt,{children:E.length>0?a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:a.jsx("div",{className:"overflow-x-auto rounded-2xl border border-gray-200/50 shadow-lg",children:a.jsxs("table",{className:`min-w-full divide-y divide-gray-200/30 ${y?"bg-gray-800/50":"bg-white/50"}`,children:[a.jsx("thead",{className:`${y?"bg-gray-700/60":"bg-gray-50/60"}`,children:a.jsx("tr",{children:[{key:"productName",label:"Producto"},{key:"category",label:"Categoría"},{key:null,label:"Comprador"},{key:null,label:"Teléfono"},{key:null,label:"Email"},{key:"soporteMessage",label:"Mensaje de Soporte"},{key:"startDate",label:"Fecha de Inicio"},{key:"endDate",label:"Fecha de Vencimiento"},{label:"Acciones"}].map(({key:B,label:A})=>a.jsx("th",{className:`px-4 py-4 text-left text-xs font-semibold uppercase tracking-wider ${y?"text-gray-300":"text-gray-700"} ${B?"cursor-pointer hover:text-blue-400 transition-colors":""}`,onClick:()=>B&&O(B),children:a.jsxs("div",{className:"flex items-center justify-between",children:[A,B&&M(B)]})},B||A))})}),a.jsx("tbody",{className:"divide-y divide-gray-200/30",children:E.map(B=>{const A=B.buyerPhone?B.buyerPhone.replace(/^\+/,"").replace(/\D/g,""):null,N=B.customerName||B.buyerName||"N/A",C=encodeURIComponent(`Hola ${N}! 👋

📋 *Soporte para tu pedido de ${B.productName||"Sin nombre"}*:

Estamos revisando tu consulta. Por favor, describe el problema o pregunta para ayudarte mejor.

Detalles del pedido:
✉️ *Usuario*: ${B.accountDetails?.email||"N/A"}
🗓 *Inicio*: ${B.startDate?o(B.startDate):"N/A"}
🗓 *Vencimiento*: ${B.endDate?o(B.endDate):"N/A"}

¡Gracias por tu paciencia! 😊`),R=w(B.category);return a.jsxs(te.tr,{className:`transition-colors duration-200 ${y?"text-gray-300 hover:bg-gray-700/50":"text-gray-700 hover:bg-gray-50/50"}`,variants:T,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${B.id}-title`,children:[a.jsx("td",{className:"px-4 py-4",children:a.jsx("h4",{id:`order-${B.id}-title`,className:"font-semibold text-blue-500 hover:text-blue-600 transition-colors",children:B.productName||"Sin nombre"})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R.bg} ${R.text}`,children:i(B.category)})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:N}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap font-mono text-sm",children:B.buyerPhone||"N/A"}),a.jsx("td",{className:"px-4 py-4 max-w-xs truncate",title:B.accountDetails?.email||"N/A",children:B.accountDetails?.email||"N/A"}),a.jsxs("td",{className:"px-4 py-4 max-w-xs",children:[a.jsx("p",{className:"text-sm break-words line-clamp-3 bg-gray-100/30 dark:bg-gray-800/30 p-2 rounded",title:B.soporteMessage||"Sin mensaje",children:B.soporteMessage||"Sin mensaje"}),B.soporteCreatedAt&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o(B.soporteCreatedAt)})]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:B.startDate?o(B.startDate):"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-500",children:B.endDate?o(B.endDate):"N/A"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex gap-2",children:[A&&a.jsx(te.a,{href:`https://wa.me/${A}?text=${C}`,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-xl shadow-md flex items-center justify-center bg-teal-500/80 hover:bg-teal-600/90 text-white transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Comunicarse con el usuario","aria-label":`Comunicarse con el usuario para el pedido ${B.productName}`,children:a.jsx(Hr,{size:16})}),a.jsx(te.button,{onClick:()=>P(B.id),disabled:d[`reject_${B.id}`],className:`p-2.5 rounded-xl shadow-md flex items-center justify-center ${d[`reject_${B.id}`]?"bg-gray-400 text-gray-500 cursor-not-allowed":"bg-red-500/80 hover:bg-red-600/90 text-white"} transition-all duration-200`,whileHover:d[`reject_${B.id}`]?{}:{scale:1.1},whileTap:d[`reject_${B.id}`]?{}:{scale:.9},title:"Rechazar soporte","aria-label":"Rechazar soporte",children:d[`reject_${B.id}`]?a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):a.jsx(Yz,{size:16})}),a.jsx(te.button,{onClick:()=>X(B.id),disabled:d[`solve_${B.id}`],className:`p-2.5 rounded-xl shadow-md flex items-center justify-center ${d[`solve_${B.id}`]?"bg-gray-400 text-gray-500 cursor-not-allowed":"bg-green-500/80 hover:bg-green-600/90 text-white"} transition-all duration-200`,whileHover:d[`solve_${B.id}`]?{}:{scale:1.1},whileTap:d[`solve_${B.id}`]?{}:{scale:.9},title:"Solucionar soporte","aria-label":"Solucionar soporte",children:d[`solve_${B.id}`]?a.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):a.jsx(bu,{size:16})})]})})]},B.id)})})]})})}):a.jsxs(te.div,{className:"text-center py-16",variants:v,initial:"hidden",animate:"visible",children:[a.jsx(te.div,{animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:a.jsx(Pa,{className:`mx-auto text-6xl ${y?"text-gray-400":"text-gray-500"} mb-4`,"aria-hidden":"true"})}),a.jsx("h4",{className:`text-xl font-semibold ${y?"text-gray-300":"text-gray-700"} mb-2`,children:"No hay pedidos en soporte"}),a.jsx("p",{className:`text-sm ${y?"text-gray-400":"text-gray-600"}`,children:"Los pedidos en soporte aparecerán aquí"})]})})]})};H6.propTypes={orders:K.array.isRequired,setOrders:K.func,fetchOrders:K.func,searchQuery:K.string,setSearchQuery:K.func,getCategoryDisplayName:K.func.isRequired,formatDate:K.func.isRequired,theme:K.oneOf(["light","dark"])};const JQ=({editModalOpen:t,setEditModalOpen:e,selectedProduct:r,setSelectedProduct:n,editError:s,setEditError:i,handleFileChange:o,handleEditStockChange:u,handleEditAccountFieldChange:d,handleUpdateProduct:h,theme:p="dark"})=>{const g=p==="dark",y={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}}},v={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},T={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},w=E=>{const{name:O,value:M,type:U,checked:P}=E.target;n(X=>({...X,[O]:U==="checkbox"?P:M,...O==="status"&&{stock:M==="Agotado"?0:X.stock||1,accounts:M==="En stock"?X.accounts.length?X.accounts:Array(X.stock||1).fill({email:"",password:"",profile:"",pin:""}):[]}}))};return t?a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs(te.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl w-full max-w-6xl border max-h-[90vh] overflow-y-auto ${g?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:y,initial:"hidden",animate:"visible",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs(te.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${g?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[a.jsx(Ip,{className:"inline mr-2",size:32}),"Editar Producto"]}),a.jsx(te.button,{onClick:()=>e(!1),className:`${g?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(zs,{size:20})})]}),a.jsx(zt,{children:s&&a.jsx(te.div,{className:`mb-8 p-4 border rounded-2xl ${g?"bg-red-900/30 border-red-700/50 text-red-300":"bg-red-100/30 border-red-300/50 text-red-700"}`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:s})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",variants:v,initial:"hidden",animate:"visible",children:[a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:T,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-blue-400":"text-blue-600"}`,children:[a.jsx(q5,{size:20}),"Imagen del producto"]}),a.jsx("div",{className:`flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl ${g?"bg-gray-900/80 border-gray-700/50":"bg-gray-200/80 border-gray-300/50"}`,children:r.image?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:r.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain",loading:"lazy"}),a.jsx(te.button,{type:"button",onClick:()=>n({...r,image:""}),className:`absolute top-0 right-0 ${g?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(zs,{size:16})})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ip,{className:`mx-auto h-12 w-12 ${g?"text-gray-400":"text-gray-500"}`}),a.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:a.jsxs("label",{htmlFor:"edit-file-upload",className:`relative cursor-pointer rounded-xl font-medium ${g?"bg-gray-900/50 text-blue-400 hover:text-blue-500":"bg-gray-200/50 text-blue-600 hover:text-blue-700"} focus-within:outline-none`,children:[a.jsx("span",{children:"Subir una imagen"}),a.jsx("input",{id:"edit-file-upload",name:"edit-file-upload",type:"file",className:"sr-only",onChange:E=>o(E,!0),accept:"image/*"})]})}),a.jsx("p",{className:`text-xs ${g?"text-gray-500":"text-gray-600"}`,children:"PNG, JPG, GIF hasta 10MB"})]})})]}),a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:T,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-purple-400":"text-purple-600"}`,children:[a.jsx(Q5,{size:20}),"Información Básica"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Nombre del producto*"}),a.jsx("input",{type:"text",name:"name",value:r.name,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Categoría*"}),a.jsxs("select",{name:"category",value:r.category,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[a.jsx("option",{value:"Netflix",children:"Netflix"}),a.jsx("option",{value:"Spotify",children:"Spotify"}),a.jsx("option",{value:"Disney",children:"Disney+"}),a.jsx("option",{value:"Max",children:"Max"}),a.jsx("option",{value:"Prime Video",children:"Prime Video"}),a.jsx("option",{value:"Vix",children:"Vix"}),a.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),a.jsx("option",{value:"Canva",children:"Canva"}),a.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),a.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),a.jsx("option",{value:"Dgo",children:"DGO"}),a.jsx("option",{value:"Liga Max",children:"Liga Max"}),a.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),a.jsx("option",{value:"Youtube",children:"YouTube"}),a.jsx("option",{value:"Deezer",children:"Deezer"}),a.jsx("option",{value:"Tidal",children:"Tidal"}),a.jsx("option",{value:"Vpn",children:"VPN"}),a.jsx("option",{value:"WinTv",children:"WinTV"}),a.jsx("option",{value:"Apple Music",children:"Apple Music"}),a.jsx("option",{value:"Apple Tv",children:"Apple TV"}),a.jsx("option",{value:"Iptv",children:"IPTV"}),a.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),a.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),a.jsx("option",{value:"Pornhub",children:"Pornhub"}),a.jsx("option",{value:"Paramount",children:"Paramount"}),a.jsx("option",{value:"Licencias",children:"Licencias"}),a.jsx("option",{value:"Capcut",children:"Capcut"}),a.jsx("option",{value:"Duolingo",children:"Duolingo"}),a.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Tipo de cuenta*"}),a.jsxs("select",{name:"accountType",value:r.accountType,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[a.jsx("option",{value:"Premium",children:"Premium"}),a.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Estado*"}),a.jsxs("select",{name:"status",value:r.status,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all`,children:[a.jsx("option",{value:"En stock",children:"En stock"}),a.jsx("option",{value:"A pedido",children:"A pedido"}),a.jsx("option",{value:"Agotado",children:"Agotado"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Stock*"}),a.jsx("input",{type:"number",name:"stock",value:r.status==="Agotado"?0:r.stock,onChange:u,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all ${r.status==="Agotado"?"opacity-50 cursor-not-allowed":""} placeholder-gray-500`,min:"0",required:!0,disabled:r.status==="Agotado"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio (S/)*"}),a.jsx("input",{type:"number",name:"price",value:r.price,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",name:"renewal",checked:r.renewal,onChange:w,className:`h-4 w-4 rounded ${g?"text-purple-400 focus:ring-purple-400 border-gray-600/50":"text-purple-600 focus:ring-purple-600 border-gray-300/50"}`}),a.jsx("label",{className:`ml-2 text-sm ${g?"text-gray-300":"text-gray-700"}`,children:"¿Tiene renovación?"})]})]}),r.renewal&&a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Precio de renovación (S/)*"}),a.jsx("input",{type:"number",name:"renewalPrice",value:r.renewalPrice,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500`,placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-8",variants:v,initial:"hidden",animate:"visible",children:[a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:T,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-green-400":"text-green-600"}`,children:[a.jsx(Du,{size:20}),"Duración y Contacto"]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Duración (días)"}),a.jsx("input",{type:"number",name:"duration",value:r.duration,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Dejar vacío para ilimitado",min:"1"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:["Teléfono de contacto ",r.status==="A pedido"?"*":""]}),a.jsx("input",{type:"text",name:"providerPhone",value:r.providerPhone,onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500`,placeholder:"Ej: +51 987654321",required:r.status==="A pedido"})]})]})]}),a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:T,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-indigo-400":"text-indigo-600"}`,children:[a.jsx(G5,{size:20}),"Enlaces y Descripciones"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"URL del producto (opcional)"}),a.jsx("input",{type:"url",name:"productUrl",value:r.productUrl||"",onChange:w,className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Ej: https://www.ejemplo.com/producto"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Detalles del producto"}),a.jsx("textarea",{name:"details",value:r.details,onChange:w,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Describe los detalles y características del producto"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${g?"text-gray-300":"text-gray-700"} mb-2`,children:"Términos y condiciones"}),a.jsx("textarea",{name:"terms",value:r.terms,onChange:w,rows:"3",className:`w-full px-4 py-2 rounded-xl border ${g?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all placeholder-gray-500`,placeholder:"Especifica los términos y condiciones de uso"})]})]})]}),r.status==="En stock"&&a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${g?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:T,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${g?"text-pink-400":"text-pink-600"}`,children:[a.jsx(jp,{size:20}),"Cuentas Asociadas"]}),a.jsx("p",{className:`text-sm mb-4 ${g?"text-gray-400":"text-gray-600"}`,children:"Debe completar todas las cuentas según el stock indicado"}),a.jsx(zt,{children:a.jsx("div",{className:"space-y-4",children:r.accounts.map((E,O)=>a.jsxs(te.div,{className:`border rounded-xl p-4 ${g?"bg-gray-900/70 border-gray-700/50":"bg-gray-200/70 border-gray-300/50"} backdrop-blur-sm`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:O*.1},children:[a.jsxs("h4",{className:`text-sm font-medium ${g?"text-white":"text-gray-900"} mb-3 flex items-center gap-2`,children:["Cuenta ",O+1]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"Correo electrónico*"}),a.jsx("input",{type:"email",value:E.email,onChange:M=>d(O,"email",M.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"Contraseña*"}),a.jsx("input",{type:"text",value:E.password,onChange:M=>d(O,"password",M.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"Perfil (opcional)"}),a.jsx("input",{type:"text",value:E.profile,onChange:M=>d(O,"profile",M.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: Perfil 1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-xs font-medium ${g?"text-gray-400":"text-gray-600"} mb-1`,children:"PIN (opcional)"}),a.jsx("input",{type:"text",value:E.pin,onChange:M=>d(O,"pin",M.target.value),className:`w-full px-3 py-2 rounded-xl border ${g?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-pink-400 focus:border-pink-400 transition-all text-sm`,placeholder:"Ej: 1234"})]})]})]},O))})})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[a.jsx(te.button,{onClick:()=>e(!1),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${g?"from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500":"from-gray-300 to-gray-400 hover:from-gray-400 hover:to-gray-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancelar"}),a.jsx(te.button,{onClick:h,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${g?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Actualizar Producto"})]})]})}):null},ZQ=({editOrderModalOpen:t,setEditOrderModalOpen:e,selectedOrder:r,handleOrderAccountChange:n,editOrderError:s,setEditOrderError:i,handleUpdateOrder:o,theme:u="dark"})=>{const d=u==="dark",h={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}}},p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return t?a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs(te.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl w-full max-w-md border max-h-[90vh] overflow-y-auto ${d?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs(te.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${d?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:[a.jsx(Np,{className:"inline mr-2",size:32}),"Editar Detalles de Cuenta"]}),a.jsx(te.button,{onClick:()=>e(!1),className:`${d?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(zs,{size:20})})]}),a.jsx(zt,{children:s&&a.jsx(te.div,{className:`mb-8 p-4 border rounded-2xl ${d?"bg-red-900/30 border-red-700/50 text-red-300":"bg-red-100/30 border-red-300/50 text-red-700"}`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:s})}),a.jsx(te.div,{className:`border rounded-2xl p-6 shadow-xl backdrop-blur-sm ${d?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"} space-y-4`,variants:p,initial:"hidden",animate:"visible",children:a.jsxs(te.div,{className:"space-y-4",variants:g,whileHover:"hover",children:[a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[a.jsx(n2,{size:16}),"Correo electrónico*"]}),a.jsx("input",{type:"email",name:"email",value:r.accountDetails.email,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: usuario@ejemplo.com",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[a.jsx(Np,{size:16}),"Contraseña*"]}),a.jsx("input",{type:"text",name:"password",value:r.accountDetails.password,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: contraseña123",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[a.jsx(bs,{size:16}),"Perfil (opcional)"]}),a.jsx("input",{type:"text",name:"profile",value:r.accountDetails.profile,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: Perfil 1"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium mb-2 flex items-center gap-2 ${d?"text-gray-300":"text-gray-700"}`,children:[a.jsx(Gz,{size:16}),"PIN (opcional)"]}),a.jsx("input",{type:"text",name:"pin",value:r.accountDetails.pin,onChange:n,className:`w-full px-4 py-2 rounded-xl border ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: 1234"})]})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[a.jsx(te.button,{onClick:()=>e(!1),className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 ${d?"from-gray-700 to-gray-600 hover:from-gray-600 hover:to-gray-500":"from-gray-300 to-gray-400 hover:from-gray-400 hover:to-gray-500"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancelar"}),a.jsx(te.button,{onClick:o,className:`px-6 py-3 text-white rounded-2xl transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 ${d?"from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700":"from-purple-600 to-pink-800 hover:from-purple-700 hover:to-pink-900"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:"Guardar Cambios"})]})]})}):null},eJ=({users:t,providerBalance:e,handleRecharge:r,theme:n,userSearch:s,setUserSearch:i})=>{const o=n==="dark",u={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}},d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},[h,p]=S.useState({}),g=(v,T)=>{p(w=>({...w,[v]:T}))},y=v=>{const T=parseFloat(h[v]);T&&T>0&&T<=e&&(r(v,T),p(w=>({...w,[v]:""})))};return a.jsxs(te.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-3xl shadow-2xl max-w-6xl mx-auto border ${o?"bg-gradient-to-br from-gray-900/80 to-gray-800/80 border-gray-700/50":"bg-gradient-to-br from-white/80 to-gray-50/80 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",children:[a.jsx(te.h2,{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r ${o?"from-blue-400 via-purple-500 to-pink-500":"from-blue-600 via-purple-700 to-pink-600"}`,initial:{y:-10},animate:{y:0},transition:{duration:.5},children:"Gestión de Recargas"}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative group",children:[a.jsx(ia,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 ${o?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,size:18}),a.jsx("input",{type:"text",placeholder:"Buscar usuarios por nombre o email...",value:s,onChange:v=>i(v.target.value),className:`w-full pl-10 pr-4 py-2.5 ${o?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${o?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${o?"text-green-400":"text-green-600"}`,children:[a.jsx($s,{size:20}),"Tu Saldo Disponible"]}),a.jsxs("p",{className:`text-4xl font-bold ${o?"text-white":"text-gray-900"}`,children:["S/ ",e.toFixed(2)]}),a.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"} mt-2`,children:"Usa para recargar saldos de usuarios"})]}),a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${o?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${o?"text-blue-400":"text-blue-600"}`,children:[a.jsx(bs,{size:20}),"Total Usuarios"]}),a.jsx("p",{className:`text-4xl font-bold ${o?"text-white":"text-gray-900"}`,children:t.length}),a.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"} mt-2`,children:'Usuarios con rol "Usuario"'})]}),a.jsxs(te.div,{className:`rounded-2xl p-6 border shadow-xl backdrop-blur-sm ${o?"bg-gray-800/70 border-gray-700/50":"bg-white/70 border-gray-200/50"}`,variants:u,whileHover:"hover",children:[a.jsxs("h3",{className:`text-lg font-semibold mb-4 flex items-center gap-2 ${o?"text-purple-400":"text-purple-600"}`,children:[a.jsx($s,{size:20}),"Saldo Total Distribuido"]}),a.jsxs("p",{className:`text-4xl font-bold ${o?"text-white":"text-gray-900"}`,children:["S/ ",t.reduce((v,T)=>v+(T.balance||0),0).toFixed(2)]}),a.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"} mt-2`,children:"Suma de saldos de usuarios"})]})]}),a.jsxs(te.div,{className:`bg-${o?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${o?"border-gray-700/50":"border-gray-300"}`,variants:u,whileHover:"hover",children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${o?"text-white":"text-gray-900"}`,children:["Lista de"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Usuarios"})," ","(",t.length,")"]})}),t.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[a.jsx("thead",{className:`${o?"bg-gray-800/50":"bg-gray-100"} backdrop-blur-sm`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${o?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Ml,{})," Usuario"]})}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${o?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(gu,{})," Email"]})}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${o?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx($s,{})," Saldo"]})}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${o?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Acciones"})]})}),a.jsx("tbody",{className:`${o?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:t.map(v=>a.jsxs("tr",{className:`hover:bg-${o?"gray-700/50":"gray-100"} transition-all duration-300`,children:[a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${o?"text-white":"text-gray-900"}`,children:v.username||"Sin nombre"}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${o?"text-gray-300":"text-gray-600"}`,children:v.email}),a.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${o?"text-white":"text-gray-900"}`,children:["S/ ",(v.balance||0).toFixed(2)]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap flex space-x-2",children:a.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[a.jsx("input",{type:"number",placeholder:"Monto",value:h[v.id]||"",onChange:T=>g(v.id,T.target.value),className:`w-20 px-2 py-1 rounded ${o?"bg-gray-700/50 border-gray-500/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} text-sm focus:outline-none focus:ring-2 focus:ring-blue-400`,min:"0",step:"0.01",max:e}),a.jsx(te.button,{onClick:()=>y(v.id),className:`px-3 py-1 text-white rounded text-xs transition-all duration-300 bg-gradient-to-r shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 ${o?"from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700":"from-green-600 to-emerald-700 hover:from-green-700 hover:to-emerald-800"}`,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!h[v.id]||parseFloat(h[v.id])<=0||parseFloat(h[v.id])>e,children:"Recargar"})]})})]},v.id))})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(f0,{className:`mx-auto text-4xl ${o?"text-blue-400":"text-blue-600"} mb-3`}),a.jsx("p",{className:`${o?"text-gray-300":"text-gray-600"}`,children:"No hay usuarios disponibles"})]})]})]})},tJ=Ii.memo(({show:t,onClose:e,title:r,message:n,theme:s})=>a.jsx(zt,{children:t&&a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:a.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${s==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:i=>i.stopPropagation(),children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:a.jsx(Us,{size:20})}),a.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${s==="dark"?"text-white":"text-gray-900"}`,children:r}),a.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));tJ.propTypes={show:K.bool.isRequired,onClose:K.func.isRequired,title:K.string.isRequired,message:K.string.isRequired,theme:K.string.isRequired};const W6=()=>{const[t,e]=S.useState(!1),[r,n]=S.useState("inicio"),[s,i]=S.useState("Usuario"),[o,u]=S.useState(""),[d,h]=S.useState(""),[p,g]=S.useState([]),[y,v]=S.useState([]),[T,w]=S.useState([]),[E,O]=S.useState([]),[M,U]=S.useState(!0),[P,X]=S.useState(""),[B,A]=S.useState({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:Array(1).fill({email:"",password:"",profile:"",pin:""})}),[N,C]=S.useState(null),[R,F]=S.useState(!1),[W,V]=S.useState(""),[Ee,Pe]=S.useState(""),[ze,Le]=S.useState(""),[we,se]=S.useState({isOpen:!1,message:"",title:""}),[de,ne]=S.useState({email:"",password:"",preferences:"",balance:0}),[D,Y]=S.useState(!1),[J,ee]=S.useState(!0),[ie,Ae]=S.useState(0),[De,ke]=S.useState(!1),[je,nt]=S.useState(null),[dt,pt]=S.useState(""),[Fe,wr]=S.useState("dark"),[Dt,Ge]=S.useState(!1),[ar,St]=S.useState(!1),[Kt,le]=S.useState([]),Ze=Li(),ct=xv(),it=S.useCallback(be=>{const Ne=new Date(be);return Ne.setUTCHours(23,59,59,999),Ne},[]),bt=S.useCallback(()=>{wr(be=>be==="dark"?"light":"dark")},[]),mt=S.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),tt=S.useCallback((be,Ne)=>{se({isOpen:!0,title:be,message:Ne})},[]),ht=S.useCallback(()=>{se({isOpen:!1,message:"",title:""})},[]),Se=S.useCallback(be=>{if(!be)return"No especificada";try{const Ne=be instanceof Date?be:be?.toDate?.()||new Date(be);return isNaN(Ne.getTime())?"Fecha inválida":Ne.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(Ne){return console.error("Error formatting date:",Ne),"Fecha inválida"}},[]),ye=S.useCallback(be=>({netflix:"Netflix",spotify:"Spotify",disney:"Disney",max:"Max",primevideo:"Prime Video",vix:"Vix",crunchyroll:"Crunchyroll",canva:"Canva",chatgpt:"ChatGPT",redessociales:"Redes Sociales",dgo:"Dgo",ligamax:"Liga Max",movistarplay:"Movistar Play",youtube:"Youtube",deezer:"Deezer",tidal:"Tidal",vpn:"Vpn",wintv:"WinTv",applemusic:"Apple Music",appletv:"Apple TV",iptv:"Iptv",flujotv:"Flujo Tv",vikirakuten:"Viki Rakuten",pornhub:"Pornhub",paramount:"Paramount",licencias:"Licencias",capcut:"Capcut",duolingo:"Duolingo",buscapersonas:"BuscaPersonas"})[be?.toLowerCase()]||"Otro",[]);S.useEffect(()=>{const be=Gl(ct,Ne=>{Ne?(u(Ne.email||""),h(Ne.uid),Ce(Ne.uid)):Ze("/login")});return()=>be()},[ct,Ze]);const Ce=async be=>{try{const Ne=yt(Ve,"users",be),j=await Vo(Ne);if(j.exists()){const z=j.data();i(z.username||"Usuario"),ne({email:z.email||"",password:"",preferences:z.preferences||"",balance:z.balance||0})}U(!1)}catch(Ne){X("Error al cargar datos del usuario"),console.error("Error fetching user data:",Ne),U(!1)}};S.useEffect(()=>{if(!d)return;const be=yt(Ve,"users",d);return dr(be,j=>{if(j.exists()){const z=j.data();ne(H=>({...H,email:z.email||H.email,preferences:z.preferences||H.preferences,balance:z.balance||0})),i(z.username||prev.username)}},j=>{console.error("Error listening to user data:",j)})},[d]),S.useEffect(()=>{o&&(async Ne=>{try{const j=await Vo(yt(Ve,"admins",Ne));Y(j.exists())}catch(j){console.error("Error checking admin status:",j)}})(o)},[o]),S.useEffect(()=>{const be=dr(yt(Ve,"notifications","adminMessage"),Ne=>{if(Ne.exists()){const j=Ne.data(),z=D?"admin":"provider";j.roles&&j.roles.includes(z)?le([{id:Ne.id,...j,timestamp:j.updatedAt?.toDate()}]):le([])}else le([])},Ne=>{console.error("Error in notifications listener:",Ne),X("Error al cargar notificaciones: "+Ne.message)});return()=>be()},[D]),S.useEffect(()=>{const be=hr(Pt(Ve,"users"),br("role","==","user")),Ne=dr(be,j=>{const z=j.docs.map(H=>({id:H.id,...H.data()}));O(z)},j=>{console.error("Error fetching users:",j),X("Error al cargar usuarios")});return()=>Ne()},[]),S.useEffect(()=>{if(!s)return;const be=hr(Pt(Ve,"products"),br("provider","==",s)),Ne=dr(be,j=>{const z=j.docs.map(H=>({id:H.id,...H.data()}));v(z)},j=>{console.error("Error fetching products:",j),X("Error al cargar productos")});return()=>Ne()},[s]),S.useEffect(()=>{if(!d)return;const be=hr(Pt(Ve,"sales"),br("providerId","==",d)),Ne=dr(be,async z=>{if(z.empty){g([]),ee(!1);return}const H=new Date,G=7200*60*1e3;for(const ce of z.docs){let ue=ce.data().endDate,pe=ue instanceof xr?ue.toDate():typeof ue=="string"?new Date(ue):new Date(ue);const ge=it(pe);if(ge<H&&H.getTime()-ge.getTime()>G)try{await Sa(yt(Ve,"sales",ce.id)),console.log(`Deleted expired order: ${ce.id}`)}catch(Oe){console.error(`Error deleting order ${ce.id}:`,Oe)}}const Z=z.docs.map(ce=>{const me=ce.data(),pe=me.saleDate?.toDate?.()||me.createdAt?.toDate?.()||new Date;let ge=me.startDate?.toDate?.(),Oe=ge||pe,Ye=!ge;const rt=Number(me.durationDays)||30;let He;me.endDate?He=typeof me.endDate=="string"?new Date(me.endDate):me.endDate.toDate?.()||new Date(me.endDate):(He=new Date(Oe.getTime()+rt*24*60*60*1e3),Ye=!0),Ye&&Wr(yt(Ve,"sales",ce.id),{startDate:ge||xr.fromDate(pe),endDate:xr.fromDate(it(He)),durationDays:rt}).catch(Or=>{console.error("Error al actualizar startDate/endDate en Firestore:",Or)});const Be=it(He),Nt=Be.getTime()-Oe.getTime(),Zt=H.getTime()-Oe.getTime(),Xt=Be.getTime()-H.getTime(),er=Math.max(1,Math.ceil(Nt/(1e3*60*60*24))),Ns=Math.max(0,Math.ceil(Xt/(1e3*60*60*24))),Gs=Math.ceil(Zt/(1e3*60*60*24)),Xn=er>0?Math.min(100,Gs/er*100):100;return{id:ce.id,...me,productName:me.productName||"Producto sin nombre",category:me.type||"netflix",amount:parseFloat(me.price)||0,buyer:me.buyerName||me.customerName||"Comprador desconocido",buyerPhone:me.buyerPhone||"No especificado",buyerEmail:me.customerEmail||"No especificado",status:me.status||"completed",saleDate:pe,startDate:Oe,endDate:He,durationDays:rt,daysRemaining:Ns,totalDays:er,timeElapsedPercentage:Xn,accountDetails:me.accountDetails||{email:"No disponible",password:"No disponible",profile:"N/A",pin:""},balance:parseFloat(me.price)||0}}).filter(ce=>{const me=it(ce.endDate);return!(me<H&&H.getTime()-me.getTime()>G)});g(Z);const Q=Z.filter(ce=>ce.status==="completed"&&ce.accountDetails).map(ce=>({...ce.accountDetails,productName:ce.productName,saleDate:ce.saleDate,orderId:ce.id}));w(Q),ee(!1)},z=>{console.error("Error fetching sales:",z),X("Error al cargar ventas"),ee(!1)}),j=setInterval(()=>{g(z=>z.map(H=>{const G=new Date,Z=it(H.endDate),Q=Z.getTime()-new Date(H.startDate).getTime(),ce=G.getTime()-new Date(H.startDate).getTime(),me=Z.getTime()-G.getTime(),ue=Math.max(1,Math.ceil(Q/(1e3*60*60*24))),pe=Math.max(0,Math.ceil(me/(1e3*60*60*24))),ge=Math.ceil(ce/(1e3*60*60*24)),Oe=ue>0?Math.min(100,ge/ue*100):100;return{...H,daysRemaining:pe,totalDays:ue,timeElapsedPercentage:Oe}}).filter(H=>{const G=it(H.endDate),Z=new Date,Q=7200*60*1e3;return!(G<Z&&Z.getTime()-G.getTime()>Q)}))},6e4);return()=>{Ne(),clearInterval(j)}},[d,it]),S.useEffect(()=>{if(!s)return;const be=yt(Ve,"providerBalances",s),Ne=dr(be,j=>{j.exists()?Ae(j.data().balance||0):(la(be,{balance:0,provider:s,updatedAt:Cr()}),Ae(0)),ee(!1)},j=>{console.error("Error fetching provider balance:",j),X("Error al cargar el saldo del proveedor"),ee(!1)});return()=>Ne()},[s]);const Xe=S.useCallback(async(be,Ne)=>{if(!Ne||Ne<=0){tt("Error","El monto debe ser mayor a 0");return}if(Ne>de.balance){tt("Error","Saldo insuficiente en tu cuenta");return}try{await J7(Ve,async j=>{const z=yt(Ve,"users",d),H=yt(Ve,"users",be),G=await j.get(z),Z=await j.get(H);if(!G.exists())throw new Error("Cuenta no encontrada");if(!Z.exists())throw new Error("Usuario destino no encontrado");const Q=(G.data().balance||0)-Ne,ce=(Z.data().balance||0)+Ne;if(Q<0)throw new Error("Saldo insuficiente");j.update(z,{balance:Q,updatedAt:Cr()}),j.update(H,{balance:ce,updatedAt:Cr()})}),ne(j=>({...j,balance:j.balance-Ne})),O(j=>j.map(z=>z.id===be?{...z,balance:(z.balance||0)+Ne}:z)),tt("Éxito",`Transferencia de S/ ${Ne.toFixed(2)} exitosa`)}catch(j){console.error("Error en recarga:",j),tt("Error",j.message||"Error al procesar la recarga")}},[de.balance,d,tt]),wt=S.useCallback(async()=>{try{await M0(ct),Ze("/login")}catch(be){console.error("Error al cerrar sesión:",be),tt("Error",be.message||"Error al cerrar sesión")}},[Ze,tt]),Ht=S.useCallback(be=>{const{name:Ne,value:j,type:z,checked:H}=be.target;A(G=>({...G,[Ne]:z==="checkbox"?H:j}))},[]),Lt=S.useCallback(be=>{const{name:Ne,value:j}=be.target;ne(z=>({...z,[Ne]:j}))},[]),Ot=S.useCallback((be,Ne=!1)=>{const j=be.target.files[0];if(j){if(j.size>10485760){Ne?V("La imagen no debe exceder los 10MB"):X("La imagen no debe exceder los 10MB");return}const H=new FileReader;H.onloadend=()=>{Ne?C(G=>({...G,image:H.result})):A(G=>({...G,image:H.result}))},H.readAsDataURL(j)}},[]),xt=S.useCallback(be=>{const Ne=parseInt(be.target.value)||1,j=B.accounts||[];if(Ne>j.length){const z=[...j];for(;z.length<Ne;)z.push({email:"",password:"",profile:"",pin:""});A({...B,stock:Ne,accounts:z})}else if(Ne<j.length){const z=j.slice(0,Math.max(Ne,1));A({...B,stock:Ne,accounts:z})}else A({...B,stock:Ne})},[B]),jr=S.useCallback(be=>{const Ne=parseInt(be.target.value)||1;let z=[...N.accounts||[]];if(Ne>z.length)for(;z.length<Ne;)z.push({email:"",password:"",profile:"",pin:""});else Ne<z.length&&(z=z.slice(0,Math.max(Ne,1)));C({...N,stock:Ne,accounts:z})},[N]),rr=S.useCallback((be,Ne,j)=>{const z=[...B.accounts];z[be]={...z[be],[Ne]:j},A({...B,accounts:z})},[B]),kt=S.useCallback((be,Ne,j)=>{C(z=>({...z,accounts:z.accounts.map((H,G)=>G===be?{...H,[Ne]:j}:H)}))},[]),$t=S.useCallback(be=>{const{name:Ne,value:j}=be.target;nt(z=>({...z,accountDetails:{...z.accountDetails,[Ne]:j}}))},[]),Ft=S.useCallback(async()=>{if(X(""),!B.name||!B.price){tt("Error","Por favor complete todos los campos obligatorios");return}if(B.renewal&&!B.renewalPrice){tt("Error","Por favor ingrese el precio de renovación");return}if(B.status==="En stock"&&B.accounts.some(Ne=>!Ne.email||!Ne.password)){tt("Error","Por favor complete todos los campos de las cuentas");return}try{const be={...B,provider:s,providerId:d,providerPhone:B.status==="En stock"?B.providerPhone||"":B.providerPhone||"No especificado",createdAt:Cr(),availableAccounts:B.status==="En stock"?B.accounts.length:0},Ne=await Po(Pt(Ve,"products"),be);if(B.status==="En stock"){const j=Pt(Ve,`products/${Ne.id}/accounts`);for(const z of B.accounts)await Po(j,{email:z.email,password:z.password,profile:z.profile||"",pin:z.pin||"",status:"available"})}A({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:[{email:"",password:"",profile:"",pin:""}]}),n("inventario"),tt("Éxito","Producto subido exitosamente!")}catch(be){console.error("Error al subir el producto:",be),tt("Error",`Error al subir el producto: ${be.message}`)}},[B,s,d,tt]),Tr=S.useCallback(async be=>{V("");try{const Ne=hr(Pt(Ve,"sales"),br("providerId","==",d),br("productName","==",be.name)),z=(await yn(Ne)).docs.filter(Q=>Q.data().status==="completed"&&Q.data().accountDetails?.email).map(Q=>Q.data().accountDetails.email),H=Pt(Ve,`products/${be.id}/accounts`),Z=(await yn(H)).docs.filter(Q=>Q.data().status==="available").map(Q=>({email:Q.data().email||"",password:Q.data().password||"",profile:Q.data().profile||"",pin:Q.data().pin||""}));C({id:be.id,name:be.name||"",image:be.image||"",category:be.category||"Netflix",accountType:be.accountType||"Premium",status:be.status||"En stock",stock:Z.length||be.stock||1,price:be.price||"",renewal:be.renewal||!1,renewalPrice:be.renewalPrice||"",duration:be.duration||"",providerPhone:be.providerPhone||"",details:be.details||"",terms:be.terms||"",providerId:be.providerId||d,accounts:be.status==="En stock"?Z.length>0?Z:Array(Math.max(be.stock||1,1)).fill({email:"",password:"",profile:"",pin:""}):[]}),F(!0)}catch(Ne){console.error("Error al preparar edición del producto:",Ne),V("Error al preparar edición del producto")}},[d]),kr=S.useCallback(async()=>{if(V(""),!N.name||!N.price){V("Por favor complete todos los campos obligatorios");return}if(N.renewal&&!N.renewalPrice){V("Por favor ingrese el precio de renovación");return}if(N.status==="En stock"&&N.accounts.some(Ne=>!Ne.email||!Ne.password)){V("Por favor complete todos los campos de las cuentas");return}try{const be=yt(Ve,"products",N.id);if(await la(be,{...N,providerId:N.providerId||d,availableAccounts:N.status==="En stock"&&N.accounts?.length||0},{merge:!0}),N.status==="En stock"){const Ne=Pt(Ve,`products/${N.id}/accounts`),j=await yn(Ne);for(const z of j.docs)await Sa(z.ref);for(const z of N.accounts)await Po(Ne,{email:z.email,password:z.password,profile:z.profile||"",pin:z.pin||"",status:"available"})}F(!1),tt("Éxito","Producto actualizado exitosamente!")}catch(be){console.error("Error al actualizar el producto:",be),V(`Error al actualizar el producto: ${be.message}`)}},[N,d,tt]),is=S.useCallback(be=>{nt(be),ke(!0)},[]),Ts=S.useCallback(async()=>{if(je)try{const be=yt(Ve,"sales",je.id);await Wr(be,{...je,updatedAt:Cr()}),ke(!1),tt("Éxito","Pedido actualizado exitosamente!")}catch(be){console.error("Error al actualizar el pedido:",be),pt(`Error al actualizar el pedido: ${be.message}`)}},[je,tt]),Ws=S.useCallback(async be=>{try{const Ne=yt(Ve,"sales",be);await Wr(Ne,{status:"completed"}),tt("Éxito","Pedido activado exitosamente!")}catch(Ne){console.error("Error al activar el pedido:",Ne),tt("Error",`Error al activar el pedido: ${Ne.message}`)}},[tt]),dn=S.useCallback(async be=>{try{await Sa(yt(Ve,"sales",be)),tt("Éxito","Pedido eliminado exitosamente!")}catch(Ne){console.error("Error al eliminar el pedido:",Ne),tt("Error",`Error al eliminar el pedido: ${Ne.message}`)}},[tt]),qs=S.useCallback(async be=>{be.preventDefault();try{const Ne={updatedAt:Cr()};de.email&&(Ne.email=de.email),de.preferences&&(Ne.preferences=de.preferences),await Wr(yt(Ve,"users",d),Ne),tt("Éxito","Cuenta actualizada exitosamente!")}catch(Ne){console.error("Error al actualizar la cuenta:",Ne),tt("Error",`Error al actualizar la cuenta: ${Ne.message}`)}},[de,d,tt]),mr=S.useCallback(async be=>{try{await Sa(yt(Ve,"products",be)),tt("Éxito","Producto eliminado exitosamente!")}catch(Ne){console.error("Error al eliminar el producto:",Ne),tt("Error",`Error al eliminar el producto: ${Ne.message}`)}},[tt]),as=S.useMemo(()=>y.reduce((be,Ne)=>be+(Ne.availableAccounts||0),0),[y]),Gr=S.useMemo(()=>p.reduce((be,Ne)=>be+(Ne.balance||0),0),[p]),ks=S.useCallback(()=>{if(M)return a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(P)return a.jsxs("div",{className:`bg-${Fe==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${Fe==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsx(Ll,{className:"mx-auto text-4xl text-red-400 mb-4"}),a.jsx("h3",{className:`text-xl font-bold ${Fe==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),a.jsx("p",{className:`text-base ${Fe==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:P}),a.jsx("button",{onClick:()=>X(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]});const be=E.filter(Ne=>Ne.username?.toLowerCase().includes(ze.toLowerCase())||Ne.email?.toLowerCase().includes(ze.toLowerCase()));return a.jsx("div",{className:`bg-${Fe==="dark"?"black/50":"white"}
    backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md 
    w-full xl:max-w-full border ${Fe==="dark"?"border-gray-700/50":"border-gray-300"} overflow-x-auto`,children:(()=>{switch(r){case"inicio":return a.jsx(B6,{username:s,products:y,orders:p,providerBalance:ie,balanceLoading:J,totalStock:as,totalEarnings:Gr,isAdmin:D,email:o,setActiveSection:n,formatDate:Se,notifications:Kt,theme:Fe});case"inventario":return a.jsx(U6,{products:y,setActiveSection:n,handleEdit:Tr,handleDelete:mr,getCategoryDisplayName:ye,totalStock:as,theme:Fe});case"cuentas":return a.jsx(KQ,{soldAccounts:T,formatDate:Se});case"subirProducto":return a.jsx(XQ,{product:B,setProduct:A,handleChange:Ht,handleFileChange:Ot,handleStockChange:xt,handleAccountFieldChange:rr,handleSubmit:Ft,setActiveSection:n});case"ganancias":return a.jsx(YQ,{orders:p,totalEarnings:Gr,providerBalance:ie,balanceLoading:J,getCategoryDisplayName:ye,formatDate:Se});case"pedidos":return a.jsx(z6,{orders:p,searchQuery:Ee,setSearchQuery:Pe,getCategoryDisplayName:ye,formatDate:Se,handleEditOrder:is,handleActivateOrder:Ws,handleDeleteOrder:dn,theme:Fe});case"recargas":return a.jsx(eJ,{users:be,providerBalance:de.balance||0,handleRecharge:Xe,formatDate:Se,theme:Fe,userSearch:ze,setUserSearch:Le});case"configuracion":return a.jsx(QQ,{accountDetails:de,handleAccountChange:Lt,handleUpdateAccount:qs});case"soporte":return a.jsx(H6,{orders:p,setOrders:g,searchQuery:Ee,setSearchQuery:Pe,getCategoryDisplayName:ye,formatDate:Se,theme:Fe,username:s,email:o,showModal:tt});default:return a.jsxs("div",{className:`bg-${Fe==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${Fe==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsx(Ll,{className:"mx-auto text-4xl text-red-400 mb-4"}),a.jsx("h3",{className:`text-xl font-bold ${Fe==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Sección no encontrada"}),a.jsx("p",{className:`text-base ${Fe==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La sección que estás buscando no existe o no está disponible."}),a.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()})},[M,P,Fe,r,s,y,p,ie,J,as,Gr,D,o,n,Se,Tr,mr,ye,T,B,A,Ht,Ot,xt,rr,Ft,Ee,Pe,is,Ws,dn,de,Lt,qs,tt,Kt,E,ze,Xe]);return S.useEffect(()=>{const be=()=>{Ge(window.scrollY>300)};return window.addEventListener("scroll",be),()=>window.removeEventListener("scroll",be)},[]),a.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${Fe==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${Fe==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),a.jsx("div",{className:"particles",children:[...Array(15)].map((be,Ne)=>a.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Ne))})]}),a.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${Fe==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:a.jsxs("div",{className:"p-4 flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("button",{onClick:()=>{Ze("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),a.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:a.jsx(Us,{className:"text-lg"})})]}),a.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${Fe==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:s.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${Fe==="dark"?"text-white":"text-gray-900"}`,children:s}),a.jsx("p",{className:`text-xs ${Fe==="dark"?"text-gray-400":"text-gray-600"}`,children:D?"Admin":"Proveedor"})]})]}),a.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Zv},{id:"inventario",label:"Inventario",icon:GU},{id:"cuentas",label:"Cuentas Vendidas",icon:yu},{id:"pedidos",label:"Pedidos",icon:yu},{id:"recargas",label:"Recargas",icon:sa},{id:"ganancias",label:"Ganancias",icon:sa},{id:"subirProducto",label:"Subir Producto",icon:nz},{id:"soporte",label:"Soporte",icon:tz},{id:"configuracion",label:"Configuración",icon:kp}].map(be=>a.jsxs("button",{onClick:()=>{n(be.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===be.id?"bg-blue-100 text-blue-600 border border-blue-300":Fe==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":r===be.id?"page":void 0,children:[a.jsx(be.icon,{className:"text-lg"}),a.jsx("span",{children:be.label})]},be.id))}),a.jsx("div",{className:"mt-auto pt-6",children:a.jsxs("button",{onClick:()=>{wt(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${Fe==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[a.jsx(vu,{className:"text-lg"}),a.jsx("span",{children:"Cerrar Sesión"})]})})]})}),a.jsxs("header",{className:`${Fe==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(te.img,{src:Zl,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border ${Fe==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),a.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),a.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:Ee,onChange:be=>Pe(be.target.value),className:`w-full py-2.5 px-5 ${Fe==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:be=>be.key==="Enter"&&n("pedidos")}),a.jsx("button",{onClick:()=>n("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${Fe==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:a.jsx(xu,{size:18})})]})}),a.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[a.jsx("button",{onClick:bt,className:`p-2 rounded-full ${Fe==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${Fe==="dark"?"light":"dark"} theme`,children:Fe==="dark"?a.jsx(Jl,{size:20}):a.jsx(Ql,{size:20})}),a.jsxs("button",{onClick:()=>St(!0),className:`p-2 rounded-full relative ${Fe==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${Kt.length} new)`,children:[a.jsx(Fl,{size:20}),Kt.length>0&&a.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:Kt.length})]}),a.jsx("button",{className:`lg:hidden p-2 rounded-full ${Fe==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:a.jsx(Sm,{size:20,className:Fe==="dark"?"text-gray-300":"text-gray-600"})}),a.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:a.jsx("div",{className:"relative",children:a.jsxs("button",{className:`flex items-center space-x-2 ${Fe==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[a.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:s.charAt(0).toUpperCase()}),a.jsx("span",{className:`text-sm font-semibold ${Fe==="dark"?"text-gray-200":"text-gray-800"}`,children:s})]})})})]})]}),a.jsx(zt,{children:ar&&a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>St(!1),role:"dialog","aria-labelledby":"notifications-title",children:a.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${Fe==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${Fe==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:be=>be.stopPropagation(),children:[a.jsx("button",{onClick:()=>St(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:a.jsx(Us,{size:20})}),a.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${Fe==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),Kt.length>0?Kt.map(be=>a.jsxs("div",{className:`p-4 mb-2 rounded-md ${Fe==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${Fe==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[a.jsx("h3",{className:`font-semibold ${Fe==="dark"?"text-gray-200":"text-gray-800"}`,children:be.title||"Nueva Notificación"}),a.jsx("p",{className:`text-sm ${Fe==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:be.message}),be.roles&&be.roles.length>0&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",be.roles.join(", ")]}),be.timestamp&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Se(be.timestamp)})]},be.id)):a.jsx("p",{className:`text-center ${Fe==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),a.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:ks()}),a.jsxs("footer",{className:`${Fe==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${Fe==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),a.jsxs("p",{className:`text-base sm:text-lg ${Fe==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",a.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),a.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[a.jsx("a",{href:"https://twitter.com",className:`${Fe==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:a.jsx(Yl,{size:28})}),a.jsx("a",{href:"https://instagram.com",className:`${Fe==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:a.jsx(Xl,{size:28})}),a.jsx("a",{href:"https://facebook.com",className:`${Fe==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:a.jsx(Kl,{size:28})})]}),a.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[a.jsx("a",{href:"#",className:`text-sm ${Fe==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Política de Privacidad"}),a.jsx("a",{href:"#",className:`text-sm ${Fe==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Términos de Servicio"}),a.jsx("a",{href:"#",className:`text-sm ${Fe==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contáctanos"})]})]}),a.jsxs("p",{className:`text-sm ${Fe==="dark"?"text-gray-500":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Hecho con pasión."]})]}),a.jsx(zt,{children:Dt&&a.jsx(te.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:mt,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:a.jsx(Nm,{size:20})})}),a.jsx(GQ,{isOpen:we.isOpen,title:we.title,message:we.message,onClose:ht}),a.jsx(JQ,{editModalOpen:R,setEditModalOpen:F,selectedProduct:N,setSelectedProduct:C,editError:W,setEditError:V,handleFileChange:Ot,handleEditStockChange:jr,handleEditAccountFieldChange:kt,handleUpdateProduct:kr}),a.jsx(ZQ,{editOrderModalOpen:De,setEditOrderModalOpen:ke,selectedOrder:je,handleOrderAccountChange:$t,editOrderError:dt,setEditOrderError:pt,handleUpdateOrder:Ts}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};W6.propTypes={};const rJ=()=>{const[t,e]=S.useState(""),[r,n]=S.useState(""),[s,i]=S.useState(0),[o,u]=S.useState([]),[d,h]=S.useState([]),[p,g]=S.useState([]),[y,v]=S.useState([]),[T,w]=S.useState([]),[E,O]=S.useState(0),[M,U]=S.useState({day:0,week:0,month:0,total:0}),[P,X]=S.useState(!0),[B,A]=S.useState(null),[N,C]=S.useState("dark"),R=Li();S.useEffect(()=>{const V=Gl(Qr,Ee=>{Ee?(n(Ee.email||"No especificado"),F(Ee.uid),X(!1)):R("/login")});return()=>V()},[R]);const F=async V=>{try{const Ee=yt(Ve,"users",V),Pe=await Vo(Ee);if(Pe.exists()){const ze=Pe.data();e(ze.username||ze.email.split("@")[0])}else A("Usuario no encontrado en la base de datos")}catch(Ee){console.error("Error al obtener el nombre de usuario:",Ee),A("Error al cargar datos del usuario")}},W=V=>{const Pe=V*5,ze=Pe*.25,Le=Pe*.05;U({day:Le,week:ze,month:Pe,total:Pe})};return S.useEffect(()=>{(async()=>{try{const se=await yn(Pt(Ve,"users")),de=se.size,ne=se.docs.map(nt=>({id:nt.id,...nt.data()}));i(de),u(ne.slice(-5)),W(de);const D=hr(Pt(Ve,"pendingRegistrations"),br("status","==","pending")),Y=await yn(D);h(Y.docs.map(nt=>({id:nt.id,...nt.data()})));const J=hr(Pt(Ve,"pendingTopUps"),br("status","==","pendiente")),ee=await yn(J);g(ee.docs.map(nt=>({id:nt.id,...nt.data()})));const ie=hr(Pt(Ve,"withdrawals"),br("status","==","pending")),Ae=await yn(ie);v(Ae.docs.map(nt=>({id:nt.id,...nt.data()})));const ke=(await yn(Pt(Ve,"sales"))).docs.map(nt=>({id:nt.id,...nt.data()}));w(ke);const je=ke.reduce((nt,dt)=>nt+(parseFloat(dt.price)||0),0);O(je)}catch(se){console.error("Error al obtener datos:",se),A("Error al cargar datos")}})();const Ee=dr(Pt(Ve,"users"),se=>{const de=se.size,ne=se.docs.map(D=>({id:D.id,...D.data()}));i(de),u(ne.slice(-5)),W(de)}),Pe=dr(hr(Pt(Ve,"pendingRegistrations"),br("status","==","pending")),se=>{h(se.docs.map(de=>({id:de.id,...de.data()})))}),ze=dr(hr(Pt(Ve,"pendingTopUps"),br("status","==","pendiente")),se=>{g(se.docs.map(de=>({id:de.id,...de.data()})))}),Le=dr(hr(Pt(Ve,"withdrawals"),br("status","==","pending")),se=>{v(se.docs.map(de=>({id:de.id,...de.data()})))}),we=dr(Pt(Ve,"sales"),se=>{const de=se.docs.map(D=>({id:D.id,...D.data()}));w(de);const ne=de.reduce((D,Y)=>D+(parseFloat(Y.price)||0),0);O(ne)});return()=>{Ee(),Pe(),ze(),Le(),we()}},[]),P?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):B?a.jsxs("div",{className:`bg-${N==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${N==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsx(Ll,{className:"mx-auto text-4xl text-blue-400 mb-4"}),a.jsx("h3",{className:`text-xl font-bold ${N==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),a.jsx("p",{className:`text-base ${N==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:B}),a.jsx("button",{onClick:()=>A(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):a.jsxs("div",{className:`bg-${N==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${N==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsxs("h2",{className:`text-2xl sm:text-3xl font-bold ${N==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Bienvenido a BlackStreaming,"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:t})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:`${N==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[a.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[a.jsx(f0,{className:"mr-2"})," Total Usuarios"]}),a.jsx("p",{className:`text-3xl font-bold ${N==="dark"?"text-white":"text-gray-900"}`,children:s}),a.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",onClick:()=>R("/usuarios"),children:"Ver usuarios"})]}),a.jsxs("div",{className:`${N==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[a.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[a.jsx(yu,{className:"mr-2"})," Total Ventas"]}),a.jsxs("p",{className:`text-3xl font-bold ${N==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",E.toFixed(2)]}),a.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",onClick:()=>R("/pedidos"),children:"Ver ventas"})]}),a.jsxs("div",{className:`${N==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[a.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[a.jsx(sa,{className:"mr-2"})," Ganancias del Mes"]}),a.jsxs("p",{className:`text-3xl font-bold ${N==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",M.month.toFixed(2)]}),a.jsx("p",{className:`text-sm ${N==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:"(5 soles por usuario)"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:`${N==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[a.jsx("h3",{className:`text-lg font-semibold ${N==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Últimos Usuarios"}),o.length>0?o.map(V=>a.jsxs("div",{className:`border-b ${N==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${N==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:`font-medium ${N==="dark"?"text-white":"text-gray-900"}`,children:V.username||"Sin nombre"}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${N==="dark"?"bg-blue-900/80 text-blue-400":"bg-blue-100/80 text-blue-600"}`,children:V.role||"usuario"})]}),a.jsx("p",{className:`text-sm ${N==="dark"?"text-gray-400":"text-gray-600"}`,children:V.email})]},V.id)):a.jsx("p",{className:`text-${N==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay usuarios registrados"})]}),a.jsxs("div",{className:`${N==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[a.jsx("h3",{className:`text-lg font-semibold ${N==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Solicitudes Pendientes"}),d.length>0?d.slice(0,3).map(V=>a.jsxs("div",{className:`border-b ${N==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${N==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:`font-medium ${N==="dark"?"text-white":"text-gray-900"}`,children:V.username||"Sin nombre"}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${N==="dark"?"bg-purple-900/80 text-purple-400":"bg-purple-100/80 text-purple-600"}`,children:V.role||"usuario"})]}),a.jsx("p",{className:`text-sm ${N==="dark"?"text-gray-400":"text-gray-600"}`,children:V.email})]},V.id)):a.jsx("p",{className:`text-${N==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay solicitudes pendientes"})]}),a.jsxs("div",{className:`${N==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[a.jsx("h3",{className:`text-lg font-semibold ${N==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Retiros Pendientes"}),y.length>0?y.slice(0,3).map(V=>a.jsxs("div",{className:`border-b ${N==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${N==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("p",{className:`font-medium ${N==="dark"?"text-white":"text-gray-900"}`,children:V.provider||"Sin proveedor"}),a.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${N==="dark"?"bg-yellow-900/80 text-yellow-400":"bg-yellow-100/80 text-yellow-600"}`,children:["S/ ",(V.amount||0).toFixed(2)]})]}),a.jsxs("p",{className:`text-sm ${N==="dark"?"text-gray-400":"text-gray-600"}`,children:["Método: ",V.method||"No especificado"]})]},V.id)):a.jsx("p",{className:`text-${N==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay retiros pendientes"})]})]})]})},nJ=({notificationForm:t={message:"",roles:{user:!1,affiliate:!1,provider:!1,admin:!1}},setNotificationForm:e=()=>{},theme:r="dark"})=>{const[n,s]=S.useState(""),[i,o]=S.useState(""),[u,d]=S.useState(!1),h=t.roles||{user:!1,affiliate:!1,provider:!1,admin:!1},p=Object.values(h).some(y=>y),g=S.useCallback(async y=>{if(y.preventDefault(),!p){s("Selecciona al menos un rol para enviar la notificación");return}if(!t.message.trim()){s("El mensaje de la notificación no puede estar vacío");return}s(""),o(""),d(!0);try{await Po(Pt(Ve,"notifications"),{message:t.message.trim(),roles:{user:h.user,affiliate:h.affiliate,provider:h.provider,admin:h.admin},createdAt:Cr()}),e({message:"",roles:{user:!1,affiliate:!1,provider:!1,admin:!1}}),o("Notificación enviada exitosamente")}catch(v){s("Error al enviar la notificación. Por favor, intenta de nuevo."),console.error("Error sending notification:",v)}finally{d(!1)}},[t,h,e]);return a.jsxs("div",{className:`bg-${r==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-2xl mx-auto border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Enviar Notificación -"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),a.jsxs(zt,{children:[n&&a.jsx(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${r==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:n}),i&&a.jsx(te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${r==="dark"?"bg-green-900/50 border-green-600/50":"bg-green-100/50 border-green-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-green-600 border-l-4`,role:"alert",children:i})]}),a.jsxs("form",{onSubmit:g,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${r==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Mensaje de la Notificación"}),a.jsx("textarea",{value:t.message||"",onChange:y=>e({...t,message:y.target.value}),className:`w-full px-4 py-2 rounded-xl ${r==="dark"?"bg-gray-800/50 text-gray-200 border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-800 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all resize-y`,rows:"5",placeholder:"Escribe el mensaje para los usuarios...",required:!0,"aria-label":"Mensaje de la notificación"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${r==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Enviar a los siguientes roles"}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:["user","affiliate","provider","admin"].map(y=>a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:h[y]||!1,onChange:v=>e({...t,roles:{...h,[y]:v.target.checked}}),className:`h-4 w-4 ${r==="dark"?"text-blue-400 focus:ring-blue-400 border-gray-600":"text-blue-600 focus:ring-blue-600 border-gray-300"} rounded`,"aria-label":`Enviar a rol ${y}`}),a.jsx("span",{className:`text-sm capitalize ${r==="dark"?"text-gray-300":"text-gray-700"}`,children:y})]},y))})]}),a.jsx(te.button,{type:"submit",disabled:u||!p,className:`w-full py-3 px-4 ${u||!p?r==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"} text-white rounded-xl font-medium transition-all duration-300`,"aria-label":"Enviar notificación",whileHover:{scale:u||!p?1:1.05},whileTap:{scale:u||!p?1:.95},children:u?a.jsx(te.div,{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}):"Enviar Notificación"}),!p&&a.jsx("p",{className:`text-sm text-center ${r==="dark"?"text-blue-400":"text-blue-600"}`,children:"Selecciona al menos un rol para enviar la notificación"})]})]})},q6=[{value:"user",label:"Usuario"},{value:"affiliate",label:"Afiliador"},{value:"provider",label:"Proveedor"},{value:"admin",label:"Administrador"}],sJ=t=>{const e=q6.find(r=>r.value===t);return e?e.label:t},G6=({isOpen:t,user:e,onClose:r,onSave:n,loading:s,theme:i})=>{const[o,u]=S.useState(e?.balance||0),[d,h]=S.useState("");S.useEffect(()=>{u(e?.balance||0),h("")},[e]);const p=g=>{if(g.preventDefault(),h(""),isNaN(o)||o<0){h("Por favor, ingrese un saldo válido (número no negativo).");return}n(e.id,parseFloat(o))};return!t||!e?null:a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:`bg-${i==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${i==="dark"?"border-gray-800/50":"border-gray-300"}`,children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:`text-xl font-bold ${i==="dark"?"text-white":"text-gray-900"}`,children:["Editar Saldo de ",e.username]}),a.jsx("button",{onClick:r,className:`${i==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar modal",children:"✕"})]}),a.jsxs("form",{onSubmit:p,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:`block text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Nuevo Saldo (S/)"}),a.jsx("input",{type:"number",value:o,onChange:g=>u(g.target.value),className:`w-full px-4 py-2 rounded-xl ${i==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,min:"0",step:"0.01",required:!0,"aria-label":"Nuevo saldo"}),d&&a.jsx("p",{className:`text-sm mt-2 ${i==="dark"?"text-blue-400":"text-blue-600"}`,children:d})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 ${i==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"} rounded-xl transition-all duration-300`,"aria-label":"Cancelar",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 ${s?i==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Guardar saldo",children:s?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})};G6.propTypes={isOpen:K.bool.isRequired,user:K.object,onClose:K.func.isRequired,onSave:K.func.isRequired,loading:K.bool,theme:K.oneOf(["dark","light"])};const K6=({isOpen:t,user:e,onClose:r,onSave:n,loading:s,theme:i})=>{const[o,u]=S.useState(e?.role||"user");return S.useEffect(()=>{u(e?.role||"user")},[e]),!t||!e?null:a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:`bg-${i==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${i==="dark"?"border-gray-800/50":"border-gray-300"}`,children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:`text-xl font-bold ${i==="dark"?"text-white":"text-gray-900"}`,children:["Cambiar Rol de ",e.username]}),a.jsx("button",{onClick:r,className:`${i==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar modal",children:"✕"})]}),a.jsxs("form",{onSubmit:d=>{d.preventDefault(),n(e.id,o)},children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:`block text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Nuevo Rol"}),a.jsx("select",{value:o,onChange:d=>u(d.target.value),className:`w-full px-4 py-2 rounded-xl ${i==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,"aria-label":"Seleccionar nuevo rol",children:q6.map(d=>a.jsx("option",{value:d.value,children:d.label},d.value))})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 ${i==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"} rounded-xl transition-all duration-300`,"aria-label":"Cancelar",children:"Cancelar"}),a.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 ${s?i==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Guardar rol",children:s?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})};K6.propTypes={isOpen:K.bool.isRequired,user:K.object,onClose:K.func.isRequired,onSave:K.func.isRequired,loading:K.bool,theme:K.oneOf(["dark","light"])};const X6=({theme:t="dark"})=>{const[e,r]=S.useState([]),[n,s]=S.useState(""),[i,o]=S.useState({isOpen:!1,user:null}),[u,d]=S.useState({isOpen:!1,user:null}),[h,p]=S.useState(!0),[g,y]=S.useState({}),[v,T]=S.useState(null);S.useEffect(()=>{(async()=>{p(!0);try{const N=await yn(Pt(Ve,"users")),C=await Promise.all(N.docs.map(async R=>{const F={id:R.id,...R.data()},W=hr(Pt(Ve,"sales"),br("userId","==",R.id)),V=await yn(W);return{...F,orderCount:V.size}}));r(C)}catch(N){T("No se pudieron obtener los usuarios: "+N.message)}p(!1)})()},[]);const w=A=>o({isOpen:!0,user:A}),E=()=>o({isOpen:!1,user:null}),O=A=>d({isOpen:!0,user:A}),M=()=>d({isOpen:!1,user:null}),U=async(A,N)=>{y(C=>({...C,[`balance_${A}`]:!0}));try{const C=yt(Ve,"users",A);await Wr(C,{balance:N}),r(R=>R.map(F=>F.id===A?{...F,balance:N}:F)),E()}catch(C){T("Error al actualizar saldo: "+C.message)}y(C=>({...C,[`balance_${A}`]:!1}))},P=async(A,N)=>{y(C=>({...C,[`role_${A}`]:!0}));try{const C=yt(Ve,"users",A);await Wr(C,{role:N}),r(R=>R.map(F=>F.id===A?{...F,role:N}:F)),M()}catch(C){T("Error al actualizar rol: "+C.message)}y(C=>({...C,[`role_${A}`]:!1}))},X=async(A,N)=>{y(C=>({...C,[`status_${A}`]:!0}));try{const C=yt(Ve,"users",A),R=N==="suspended"?"active":"suspended";await Wr(C,{status:R}),r(F=>F.map(W=>W.id===A?{...W,status:R}:W))}catch(C){T("Error al cambiar estado: "+C.message)}y(C=>({...C,[`status_${A}`]:!1}))},B=async A=>{y(N=>({...N,[`delete_${A}`]:!0}));try{const N=yt(Ve,"users",A);await Sa(N),r(C=>C.filter(R=>R.id!==A))}catch(N){T("Error al eliminar usuario: "+N.message)}y(N=>({...N,[`delete_${A}`]:!1}))};return a.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[a.jsxs("div",{className:`bg-${t==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${t==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${t==="dark"?"text-white":"text-gray-900"}`,children:["Lista de"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Usuarios"})," ","(",e.length,")"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Buscar usuarios...",className:`px-4 py-2 rounded-xl ${t==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400 placeholder-gray-500":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600 placeholder-gray-400"} focus:ring-2 transition-all text-sm`,value:n,onChange:A=>s(A.target.value),"aria-label":"Buscar usuarios"}),a.jsx(xu,{className:`absolute right-3 top-2.5 ${t==="dark"?"text-blue-400":"text-blue-600"}`})]})]}),h?a.jsx("div",{className:"flex justify-center items-center h-40",children:a.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 ${t==="dark"?"border-blue-500":"border-blue-600"}`})}):v?a.jsx("div",{className:`text-center py-4 ${t==="dark"?"text-blue-400":"text-blue-600"}`,children:v}):e.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[a.jsx("thead",{className:`${t==="dark"?"bg-gray-800/50":"bg-gray-100"} backdrop-blur-sm`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Ml,{})," Usuario"]})}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(gu,{})," Email"]})}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(f0,{})," Rol"]})}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(sa,{})," Saldo"]})}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Órdenes"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Acciones"})]})}),a.jsx("tbody",{className:`${t==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:e.filter(A=>(A.username||"").toLowerCase().includes(n.toLowerCase())||(A.email||"").toLowerCase().includes(n.toLowerCase())).map(A=>a.jsxs("tr",{className:`${A.status==="suspended"?t==="dark"?"bg-red-900/20":"bg-red-100/50":""} hover:bg-${t==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:A.username||"Sin nombre"}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:A.email}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t==="dark"?"bg-blue-900/80 text-blue-400":"bg-blue-100/80 text-blue-600"}`,children:sJ(A.role)}),a.jsx("button",{onClick:()=>O(A),disabled:g[`role_${A.id}`],className:`ml-2 p-1 ${t==="dark"?"bg-blue-700 hover:bg-blue-800 text-blue-200 disabled:bg-blue-900":"bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-300"} rounded-xl transition-all duration-300`,title:"Editar Rol","aria-label":`Editar rol de ${A.username}`,children:a.jsx(eT,{size:14})})]}),a.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(A.balance||0).toFixed(2)]}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:A.orderCount||0}),a.jsxs("td",{className:"px-4 py-4 whitespace-nowrap flex space-x-2",children:[a.jsx("button",{onClick:()=>w(A),disabled:g[`balance_${A.id}`],className:`p-2 ${t==="dark"?"bg-blue-600 hover:bg-blue-700 text-white disabled:bg-blue-800":"bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-300"} rounded-xl transition-all duration-300`,title:"Editar Saldo","aria-label":`Editar saldo de ${A.username}`,children:a.jsx(eT,{size:16})}),a.jsx("button",{onClick:()=>X(A.id,A.status),disabled:g[`status_${A.id}`],className:`p-2 ${A.status==="suspended"?t==="dark"?"bg-green-600 hover:bg-green-700 text-white disabled:bg-green-800":"bg-green-500 hover:bg-green-600 text-white disabled:bg-green-300":t==="dark"?"bg-yellow-600 hover:bg-yellow-700 text-white disabled:bg-yellow-800":"bg-yellow-500 hover:bg-yellow-600 text-white disabled:bg-yellow-300"} rounded-xl transition-all duration-300`,title:A.status==="suspended"?"Activar Cuenta":"Suspender Cuenta","aria-label":A.status==="suspended"?`Activar cuenta de ${A.username}`:`Suspender cuenta de ${A.username}`,children:A.status==="suspended"?a.jsx(XU,{size:16}):a.jsx(qU,{size:16})}),a.jsx("button",{onClick:()=>B(A.id),disabled:g[`delete_${A.id}`],className:`p-2 ${t==="dark"?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-800":"bg-red-500 hover:bg-red-600 text-white disabled:bg-red-300"} rounded-xl transition-all duration-300`,title:"Eliminar Cuenta","aria-label":`Eliminar cuenta de ${A.username}`,children:a.jsx(t2,{size:16})})]})]},A.id))})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(f0,{className:`mx-auto text-4xl ${t==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),a.jsx("p",{className:`${t==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay usuarios registrados"})]})]}),a.jsx(G6,{isOpen:i.isOpen,user:i.user,onClose:E,onSave:U,loading:g[`balance_${i.user?.id}`],theme:t}),a.jsx(K6,{isOpen:u.isOpen,user:u.user,onClose:M,onSave:P,loading:g[`role_${u.user?.id}`],theme:t})]})};X6.propTypes={theme:K.oneOf(["dark","light"])};const Y6=({isOpen:t,message:e,title:r,onClose:n})=>t?a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:r}),a.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:a.jsx(Us,{size:20})})]}),a.jsx("p",{className:"text-gray-300 mb-6",children:e}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null;Y6.propTypes={isOpen:K.bool.isRequired,message:K.string.isRequired,title:K.string.isRequired,onClose:K.func.isRequired};const Q6=({formatDate:t=r=>{if(!r)return"No especificada";try{const n=r.toDate?r.toDate():new Date(r);return isNaN(n.getTime())?"Fecha inválida":n.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},theme:e="dark"})=>{const[r,n]=S.useState([]),[s,i]=S.useState([]),[o,u]=S.useState({}),[d,h]=S.useState({isOpen:!1,message:"",title:""}),p=(T,w)=>{h({isOpen:!0,title:T,message:w})},g=()=>{h({isOpen:!1,message:"",title:""})};S.useEffect(()=>{const T=dr(hr(Pt(Ve,"pendingTopUps"),br("status","==","pendiente")),E=>{n(E.docs.map(O=>({id:O.id,...O.data()})))}),w=dr(Pt(Ve,"topUpsHistory"),E=>{i(E.docs.map(O=>({id:O.id,...O.data()})))});return()=>{T(),w()}},[]);const y=async T=>{try{u(M=>({...M,[T]:!0}));const w=yt(Ve,"pendingTopUps",T),E=r.find(M=>M.id===T);if(!E?.userId)throw new Error("Usuario no encontrado para la recarga");await Wr(w,{status:"aprobado",updatedAt:Cr()});const O=yt(Ve,"users",E.userId);await Wr(O,{balance:Z7(E.amount||0)}),await la(yt(Ve,"topUpsHistory",T),{...E,status:"aprobado",updatedAt:Cr()}),p("Éxito","Recarga aprobada exitosamente")}catch(w){console.error("Error al aprobar recarga:",w),p("Error",w.message||"Error al aprobar la recarga")}finally{u(w=>({...w,[T]:!1}))}},v=async T=>{try{u(O=>({...O,[T]:!0}));const w=yt(Ve,"pendingTopUps",T);await Wr(w,{status:"rechazado",updatedAt:Cr()});const E=r.find(O=>O.id===T);await la(yt(Ve,"topUpsHistory",T),{...E,status:"rechazado",updatedAt:Cr()}),p("Éxito","Recarga rechazada exitosamente")}catch(w){console.error("Error al rechazar recarga:",w),p("Error",w.message||"Error al rechazar la recarga")}finally{u(w=>({...w,[T]:!1}))}};return a.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[a.jsxs("div",{className:`bg-${e==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${e==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${e==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Recargas"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Pendientes - BlackStreaming"})]}),Array.isArray(r)&&r.length>0?a.jsx("div",{className:"space-y-4",children:r.map(T=>a.jsxs("div",{className:`border ${e==="dark"?"border-gray-600/50":"border-gray-300"} rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300`,children:[a.jsxs("div",{className:`${e==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm px-4 py-3 border-b ${e==="dark"?"border-gray-600/50":"border-gray-300"} flex justify-between items-center`,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-10 h-10 ${e==="dark"?"bg-blue-900/80":"bg-blue-100/80"} rounded-full flex items-center justify-center ${e==="dark"?"text-blue-400":"text-blue-600"}`,children:a.jsx(sa,{size:18})}),a.jsxs("div",{children:[a.jsx("h4",{className:`font-semibold ${e==="dark"?"text-white":"text-gray-900"}`,children:T.username||"Sin nombre"}),a.jsxs("p",{className:`text-xs ${e==="dark"?"text-gray-400":"text-gray-600"}`,children:["Solicitado: ",t(T.requestedAt)]})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:`text-lg font-medium ${e==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(T.amount||0).toFixed(2)]})})]}),a.jsx("div",{className:`p-4 ${e==="dark"?"bg-gray-700/50":"bg-gray-50"} backdrop-blur-sm`,children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx("button",{onClick:()=>y(T.id),disabled:o[T.id],className:`flex-1 ${e==="dark"?"bg-green-600 hover:bg-green-700 disabled:bg-green-800":"bg-green-500 hover:bg-green-600 disabled:bg-green-300"} text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300`,"aria-label":`Aprobar recarga de ${T.username}`,children:o[T.id]?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):a.jsxs(a.Fragment,{children:[a.jsx(YU,{size:18})," Aprobar Recarga"]})}),a.jsx("button",{onClick:()=>v(T.id),disabled:o[T.id],className:`flex-1 ${e==="dark"?"bg-red-600 hover:bg-red-700 disabled:bg-red-800":"bg-red-500 hover:bg-red-600 disabled:bg-red-300"} text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300`,"aria-label":`Rechazar recarga de ${T.username}`,children:o[T.id]?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):a.jsxs(a.Fragment,{children:[a.jsx(Us,{size:18})," Rechazar Recarga"]})})]})})]},T.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(sa,{className:`mx-auto text-4xl ${e==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),a.jsx("h4",{className:`text-lg font-medium ${e==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay recargas pendientes"}),a.jsx("p",{className:`${e==="dark"?"text-gray-400":"text-gray-500"}`,children:"Todas las solicitudes han sido procesadas"})]})]}),a.jsxs("div",{className:`bg-${e==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${e==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${e==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Historial de"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Recargas - BlackStreaming"})]}),Array.isArray(s)&&s.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[a.jsx("thead",{className:`${e==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Usuario"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Monto"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"})]})}),a.jsx("tbody",{className:`${e==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:s.map(T=>a.jsxs("tr",{className:`hover:bg-${e==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-white":"text-gray-900"}`,children:T.username||"Sin nombre"}),a.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(T.amount||0).toFixed(2)]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${T.status==="aprobado"?e==="dark"?"bg-green-900/80 text-green-400":"bg-green-100/80 text-green-600":e==="dark"?"bg-red-900/80 text-red-400":"bg-red-100/80 text-red-600"}`,children:T.status||"Desconocido"})}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-gray-300":"text-gray-600"}`,children:t(T.updatedAt)})]},T.id))})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(sa,{className:`mx-auto text-4xl ${e==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),a.jsx("p",{className:`${e==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay historial de recargas"})]})]}),a.jsx(Y6,{isOpen:d.isOpen,title:d.title,message:d.message,onClose:g})]})};Q6.propTypes={formatDate:K.func,theme:K.oneOf(["dark","light"])};const iJ=({withdrawals:t,formatDate:e,actionLoading:r,setActionLoading:n,showNotificationModal:s})=>{const i=async(o,u)=>{try{n(h=>({...h,[o]:!0}));const d=yt(Ve,"withdrawals",o);await Wr(d,{status:u==="approve"?"completed":"rejected",updatedAt:Cr()}),s("Éxito",`Retiro ${u==="approve"?"aprobado":"rechazado"} exitosamente`)}catch(d){s("Error",d.message||`Error al ${u==="approve"?"aprobar":"rechazar"} el retiro`)}finally{n(d=>({...d,[o]:!1}))}};return a.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Retiros ",a.jsx("span",{className:"text-red-400",children:"Pendientes"})]}),t.length===0?a.jsxs("div",{className:"text-center text-gray-300 py-8",children:[a.jsx($s,{className:"mx-auto text-4xl text-red-400 mb-4"}),a.jsx("p",{children:"No hay retiros pendientes"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-gray-300",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-600/50",children:[a.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Usuario"}),a.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Monto"}),a.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Fecha"}),a.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Acciones"})]})}),a.jsx("tbody",{children:t.map(o=>a.jsxs("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30 transition-all duration-300",children:[a.jsx("td",{className:"py-3 px-4",children:o.userEmail||"No especificado"}),a.jsxs("td",{className:"py-3 px-4",children:["S/ ",o.amount?.toFixed(2)||"0.00"]}),a.jsx("td",{className:"py-3 px-4",children:e(o.createdAt)}),a.jsxs("td",{className:"py-3 px-4 flex space-x-2",children:[a.jsxs("button",{onClick:()=>i(o.id,"approve"),disabled:r[o.id],className:`px-3 py-1 rounded-xl text-white flex items-center space-x-1 transition-all duration-300 ${r[o.id]?"bg-gray-600 cursor-not-allowed":"bg-green-500 hover:bg-green-600"}`,children:[a.jsx(Uz,{}),a.jsx("span",{children:"Aprobar"})]}),a.jsxs("button",{onClick:()=>i(o.id,"reject"),disabled:r[o.id],className:`px-3 py-1 rounded-xl text-white flex items-center space-x-1 transition-all duration-300 ${r[o.id]?"bg-gray-600 cursor-not-allowed":"bg-red-500 hover:bg-red-600"}`,children:[a.jsx(zs,{}),a.jsx("span",{children:"Rechazar"})]})]})]},o.id))})]})})]})},J6=({sales:t=[],totalSales:e=0,formatDate:r=i=>"No especificada",getOrderStatus:n=()=>"Desconocido",theme:s="dark"})=>{const[i,o]=S.useState({}),[u,d]=S.useState(null),h=async p=>{o(g=>({...g,[`delete_${p}`]:!0}));try{const g=yt(Ve,"sales",p);await Sa(g),window.dispatchEvent(new CustomEvent("saleDeleted",{detail:{saleId:p}}))}catch(g){d("Error al eliminar pedido: "+g.message)}o(g=>({...g,[`delete_${p}`]:!1}))};return a.jsxs("div",{className:`bg-${s==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${s==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Ventas"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"General - BlackStreaming"})]}),a.jsxs("div",{className:`${s==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-6 text-center mb-6 border ${s==="dark"?"border-gray-600/50":"border-gray-300"}`,children:[a.jsx("h4",{className:`text-lg font-semibold ${s==="dark"?"text-blue-400":"text-blue-600"} mb-2`,children:"Total Ventas"}),a.jsxs("p",{className:`text-3xl font-bold ${s==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",e.toFixed(2)]}),a.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-600"} mt-2`,children:"Suma de todos los pedidos realizados"})]}),a.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${s==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Historial de"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Pedidos - BlackStreaming"})]}),u&&a.jsx("div",{className:`text-center py-4 ${s==="dark"?"text-blue-400":"text-blue-600"}`,children:u}),t.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[a.jsx("thead",{className:`${s==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Nombre del Producto"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Precio"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Proveedor"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Usuario Comprador"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Acciones"})]})}),a.jsx("tbody",{className:`${s==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:t.map(p=>a.jsxs("tr",{className:`hover:bg-${s==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-white":"text-gray-900"}`,children:p.productName||"Sin nombre"}),a.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(p.price||0).toFixed(2)]}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:p.provider||"Sin proveedor"}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:p.buyerName||"Sin comprador"}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:r(p.createdAt)}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${n(p)==="Pendiente"?s==="dark"?"bg-yellow-900/80 text-yellow-400":"bg-yellow-100/80 text-yellow-600":n(p)==="Activo"?s==="dark"?"bg-green-900/80 text-green-400":"bg-green-100/80 text-green-600":s==="dark"?"bg-red-900/80 text-red-400":"bg-red-100/80 text-red-600"}`,children:n(p)})}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("button",{onClick:()=>h(p.id),disabled:i[`delete_${p.id}`],className:`p-2 ${s==="dark"?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-800":"bg-red-500 hover:bg-red-600 text-white disabled:bg-red-300"} rounded-xl transition-all duration-300`,title:"Eliminar Pedido","aria-label":`Eliminar pedido ${p.productName||"sin nombre"}`,children:i[`delete_${p.id}`]?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):a.jsx(t2,{size:16})})})]},p.id))})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(yu,{className:`mx-auto text-4xl ${s==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),a.jsx("p",{className:`${s==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay pedidos registrados"})]})]})};J6.propTypes={sales:K.array,totalSales:K.number,formatDate:K.func,getOrderStatus:K.func,theme:K.oneOf(["dark","light"])};const Z6=({earnings:t={day:0,week:0,month:0,total:0},totalUsers:e=0,theme:r="dark"})=>a.jsxs("div",{className:`bg-${r==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Ganancias -"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[a.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[a.jsx(Ad,{className:"mr-2","aria-hidden":"true"})," Ganancias Diarias"]}),a.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias diarias",children:["S/ ",(t.day||0).toFixed(2)]}),a.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por día"})]}),a.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[a.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[a.jsx(Ad,{className:"mr-2","aria-hidden":"true"})," Ganancias Semanales"]}),a.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias semanales",children:["S/ ",(t.week||0).toFixed(2)]}),a.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por semana"})]}),a.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[a.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[a.jsx(Ad,{className:"mr-2","aria-hidden":"true"})," Ganancias Mensuales"]}),a.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias mensuales",children:["S/ ",(t.month||0).toFixed(2)]}),a.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por mes"})]}),a.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[a.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[a.jsx(Ad,{className:"mr-2","aria-hidden":"true"})," Ganancias Totales"]}),a.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias totales",children:["S/ ",(t.total||0).toFixed(2)]}),a.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Total acumulado"})]})]}),a.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[a.jsx("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2`,children:"Resumen"}),a.jsxs("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"}`,children:["Total de usuarios registrados:"," ",a.jsx("span",{className:`font-medium ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Total de usuarios registrados",children:e})]}),a.jsxs("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:["Ganancia por usuario:"," ",a.jsx("span",{className:`font-medium ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancia por usuario",children:"S/ 5.00"})]}),a.jsx("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Las ganancias se calculan asumiendo S/ 5.00 por cada usuario registrado. Las estimaciones diarias y semanales son proporciones del total (5% y 25%, respectivamente)."})]})]});Z6.propTypes={earnings:K.shape({day:K.number,week:K.number,month:K.number,total:K.number}),totalUsers:K.number,theme:K.oneOf(["dark","light"])};const eC=({userName:t="",setUserName:e=()=>{},email:r="",handleSaveChanges:n=()=>{},handleLogout:s=()=>{},actionLoading:i={},theme:o="dark"})=>a.jsxs("div",{className:`bg-${o==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-2xl mx-auto border ${o==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${o==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Configuración -"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),a.jsxs("form",{onSubmit:n,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium ${o==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[a.jsx(Ml,{className:`mr-2 ${o==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Nombre de usuario"]}),a.jsx("input",{type:"text",value:t,onChange:u=>e(u.target.value),className:`w-full px-4 py-2 rounded-xl ${o==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,placeholder:"Ingresa tu nombre de usuario",required:!0,"aria-label":"Nombre de usuario"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium ${o==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[a.jsx(gu,{className:`mr-2 ${o==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Correo electrónico"]}),a.jsx("input",{type:"email",value:r,disabled:!0,className:`w-full px-4 py-2 rounded-xl ${o==="dark"?"bg-gray-700/50 text-gray-400 border-gray-600/50":"bg-gray-100 text-gray-500 border-gray-300"} cursor-not-allowed`,"aria-label":"Correo electrónico (solo lectura)"}),a.jsx("p",{className:`text-sm ${o==="dark"?"text-gray-400":"text-gray-500"} mt-1`,children:"El correo no puede ser modificado."})]}),a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium ${o==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[a.jsx(e2,{className:`mr-2 ${o==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Nueva contraseña (opcional)"]}),a.jsx("input",{type:"password",name:"password",className:`w-full px-4 py-2 rounded-xl ${o==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,placeholder:"Ingresa una nueva contraseña","aria-label":"Nueva contraseña"}),a.jsx("p",{className:`text-sm ${o==="dark"?"text-gray-400":"text-gray-500"} mt-1`,children:"Mínimo 6 caracteres. Déjalo en blanco para no cambiarla."})]}),a.jsx("button",{type:"submit",disabled:i.config,className:`w-full py-3 px-4 ${o==="dark"?"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-800":"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300"} text-white rounded-xl font-medium transition-all duration-300`,"aria-label":"Guardar cambios",children:i.config?a.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar Cambios"})]}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{onClick:s,className:`w-full py-3 px-4 ${o==="dark"?"bg-red-600 hover:bg-red-700 disabled:bg-red-800":"bg-red-500 hover:bg-red-600 disabled:bg-red-300"} text-white rounded-xl font-medium transition-all duration-300 flex items-center justify-center gap-2`,"aria-label":"Cerrar sesión",children:[a.jsx(vu,{size:18})," Cerrar Sesión"]})})]});eC.propTypes={userName:K.string,setUserName:K.func,email:K.string,handleSaveChanges:K.func,handleLogout:K.func,actionLoading:K.object,theme:K.oneOf(["dark","light"])};const tC=({isOpen:t,message:e,title:r,onClose:n,theme:s="dark"})=>t?a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:`bg-${s==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${s==="dark"?"border-gray-800/50":"border-gray-300"}`,children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:`text-xl font-bold ${s==="dark"?"text-white":"text-gray-900"}`,children:[r||"Notificación"," -"," ",a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),a.jsx("button",{onClick:n,className:`${s==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar notificación",children:a.jsx(Us,{size:20})})]}),a.jsx("p",{className:`mb-6 ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:e||"No se proporcionó ningún mensaje."}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:n,className:`px-4 py-2 ${s==="dark"?"bg-blue-500 hover:bg-blue-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Aceptar notificación",children:"Aceptar"})})]})})}):null;tC.propTypes={isOpen:K.bool.isRequired,message:K.string,title:K.string,onClose:K.func.isRequired,theme:K.oneOf(["dark","light"])};const aJ=({isOpen:t,user:e,onClose:r,onSave:n})=>{const[s,i]=S.useState(e?.balance||0),[o,u]=S.useState(""),d=h=>{if(h.preventDefault(),u(""),isNaN(s)||s<0){u("Por favor, ingrese un saldo válido (número no negativo).");return}n(e.id,parseFloat(s))};return t?a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-xl font-bold text-white",children:["Editar Saldo de ",e.username]}),a.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-all duration-300",children:a.jsx(zs,{size:20})})]}),a.jsxs("form",{onSubmit:d,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuevo Saldo (S/)"}),a.jsx("input",{type:"number",value:s,onChange:h=>i(h.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",min:"0",step:"0.01",required:!0}),o&&a.jsx("p",{className:"text-red-400 text-sm mt-2",children:o})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},rC=({theme:t,products:e,loadingProducts:r,searchQuery:n,setSearchQuery:s,handleDeleteProduct:i})=>{const o=t==="dark",u=e.filter(d=>d.name?.toLowerCase().includes(n.toLowerCase())||d.category?.toLowerCase().includes(n.toLowerCase()));return r?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a.jsxs(te.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl max-w-6xl mx-auto border ${o?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[a.jsx("h3",{className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${o?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Gestión de Productos"}),a.jsx("div",{className:"relative w-full sm:w-64 mt-4 sm:mt-0",children:a.jsx("input",{type:"text",placeholder:"Buscar productos...",value:n,onChange:d=>s(d.target.value),className:`w-full px-3 py-2 rounded-xl ${o?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 text-sm placeholder-gray-500`,"aria-label":"Search products"})})]}),u.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[a.jsx("thead",{className:`backdrop-blur-sm ${o?"bg-gray-900/80":"bg-gray-200/80"}`,children:a.jsxs("tr",{children:[a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Imagen"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Nombre"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Categoría"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Tipo"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Proveedor"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Estado"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Stock"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Precio"}),a.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Acciones"})]})}),a.jsx("tbody",{className:`divide-y divide-gray-700/50 ${o?"bg-gray-800/70":"bg-gray-100/70"}`,children:u.map((d,h)=>a.jsxs("tr",{className:"hover:bg-blue-500/10 transition-all duration-300",children:[a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:d.image?a.jsx("img",{src:d.image,alt:d.name,className:"h-12 w-12 rounded-lg object-cover",loading:"lazy"}):a.jsx("div",{className:"h-12 w-12 bg-gray-300 rounded-lg flex items-center justify-center",children:a.jsx(Ky,{className:"text-gray-500",size:20})})}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${o?"text-white":"text-gray-900"}`,children:d.name||"Sin nombre"}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-gray-300":"text-gray-600"}`,children:d.category||"Sin categoría"}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-gray-300":"text-gray-600"}`,children:d.accountType||"N/A"}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-gray-300":"text-gray-600"}`,children:d.provider||"Sin proveedor"}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${d.status==="En stock"?"bg-green-500/20 text-green-400 border-green-500/50":d.status==="A pedido"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/50":"bg-red-500/20 text-red-400 border-red-500/50"} border`,children:d.status||"Desconocido"})}),a.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-gray-300":"text-gray-600"}`,children:d.stock!=null?d.stock:"0"}),a.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-white":"text-gray-900"}`,children:["S/ ",parseFloat(d.price||0).toFixed(2)]}),a.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("button",{onClick:()=>i(d.id),className:`p-2 rounded-full ${o?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-red-100 text-red-600 hover:bg-red-200"} transition-all duration-300`,title:"Eliminar producto","aria-label":`Eliminar producto ${d.name}`,children:a.jsx(t2,{size:14})})})]},d.id||h))})]})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ky,{className:`mx-auto text-4xl ${o?"text-gray-400":"text-gray-500"} mb-3`}),a.jsx("h4",{className:`text-lg font-medium ${o?"text-gray-300":"text-gray-700"}`,children:"No hay productos registrados"}),a.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"}`,children:"Los productos aparecerán aquí cuando los agregues."})]})]})};rC.propTypes={theme:K.string.isRequired,products:K.array.isRequired,loadingProducts:K.bool.isRequired,searchQuery:K.string.isRequired,setSearchQuery:K.func.isRequired,handleDeleteProduct:K.func.isRequired};const oJ=Ii.memo(({show:t,onClose:e,title:r,message:n,theme:s})=>a.jsx(zt,{children:t&&a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:a.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${s==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:i=>i.stopPropagation(),children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:a.jsx(Us,{size:20})}),a.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${s==="dark"?"text-white":"text-gray-900"}`,children:r}),a.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));oJ.propTypes={show:K.bool.isRequired,onClose:K.func.isRequired,title:K.string.isRequired,message:K.string.isRequired,theme:K.string.isRequired};const nC=()=>{const[t,e]=S.useState(!1),[r,n]=S.useState("inicio"),[s,i]=S.useState(""),[o,u]=S.useState(""),[d,h]=S.useState([]),[p,g]=S.useState([]),[y,v]=S.useState([]),[T,w]=S.useState([]),[E,O]=S.useState([]),[M,U]=S.useState([]),[P,X]=S.useState(0),[B,A]=S.useState(0),[N,C]=S.useState(0),[R,F]=S.useState(0),[W,V]=S.useState({day:0,week:0,month:0,total:0}),[Ee,Pe]=S.useState(!0),[ze,Le]=S.useState(!0),[we,se]=S.useState(null),[de,ne]=S.useState({}),[D,Y]=S.useState({isOpen:!1,message:"",title:""}),[J,ee]=S.useState({isOpen:!1,user:null}),[ie,Ae]=S.useState("dark"),[De,ke]=S.useState(!1),[je,nt]=S.useState(!1),[dt,pt]=S.useState(""),[Fe,wr]=S.useState(""),Dt=Li(),Ge=S.useCallback(()=>{Ae(ye=>ye==="dark"?"light":"dark")},[]),ar=S.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),St=S.useCallback((ye,Ce)=>{Y({isOpen:!0,title:ye,message:Ce})},[]),Kt=S.useCallback(()=>{Y({isOpen:!1,message:"",title:""})},[]),le=S.useCallback(ye=>{ee({isOpen:!0,user:ye})},[]),Ze=S.useCallback(()=>{ee({isOpen:!1,user:null})},[]),ct=S.useCallback(ye=>{if(!ye)return"No especificada";try{const Ce=ye instanceof Date?ye:new Date(ye);return isNaN(Ce.getTime())?"Fecha inválida":Ce.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},[]),it=S.useCallback(async ye=>{if(window.confirm("¿Estás seguro de que quieres eliminar este producto?"))try{ne(Ce=>({...Ce,deleteProduct:!0})),await Sa(yt(Ve,"products",ye)),St("Éxito","Producto eliminado correctamente")}catch(Ce){console.error("Error al eliminar producto:",Ce),St("Error",Ce.message||"Error al eliminar el producto")}finally{ne(Ce=>({...Ce,deleteProduct:!1}))}},[St]),bt=S.useCallback(async(ye,Ce)=>{try{ne(wt=>({...wt,balance:!0}));const Xe=yt(Ve,"users",ye);await Wr(Xe,{balance:Ce,updatedAt:Cr()}),St("Éxito","Saldo actualizado exitosamente"),Ze()}catch(Xe){console.error("Error al actualizar saldo:",Xe),St("Error",Xe.message||"Error al actualizar el saldo")}finally{ne(Xe=>({...Xe,balance:!1}))}},[St,Ze]),mt=S.useCallback(async ye=>{ye.preventDefault();try{ne(Ht=>({...Ht,config:!0}));const Ce=ye.target.password.value,Xe=yt(Ve,"users",Qr.currentUser.uid),wt={username:s,updatedAt:Cr()};if(Ce){if(Ce.length<6){St("Error","La contraseña debe tener al menos 6 caracteres");return}await pv(Qr.currentUser,Ce)}await Wr(Xe,wt),St("Éxito","Cambios guardados correctamente"),ye.target.reset()}catch(Ce){console.error("Error al guardar cambios:",Ce),St("Error",Ce.message||"Error al guardar los cambios")}finally{ne(Ce=>({...Ce,config:!1}))}},[s,St]),tt=S.useCallback(async()=>{try{await M0(Qr),Dt("/")}catch(ye){console.error("Error al cerrar sesión:",ye),St("Error",ye.message||"Error al cerrar sesión")}},[Dt,St]);S.useEffect(()=>{const ye=Gl(Qr,Ce=>{Ce?(u(Ce.email||"No especificado"),Pe(!1)):Dt("/login")});return()=>ye()},[Dt]),S.useEffect(()=>{if(!Qr.currentUser)return;const ye=yt(Ve,"users",Qr.currentUser.uid),Ce=dr(ye,Xe=>{if(Xe.exists()){const wt=Xe.data();i(wt.username||"Admin")}else se("Usuario no encontrado")},Xe=>{console.error("Error al cargar datos del usuario:",Xe),se("Error al cargar datos del usuario: "+Xe.message)});return()=>Ce()},[]),S.useEffect(()=>{const ye=Pt(Ve,"users"),Ce=Pt(Ve,"sales"),Xe=hr(Pt(Ve,"pendingTopUps"),br("status","==","pendiente")),wt=hr(Pt(Ve,"withdrawals"),br("status","==","pendiente")),Ht=hr(Pt(Ve,"products"),nv("createdAt","desc")),Lt=dr(ye,kt=>{const $t=kt.docs.map(Ft=>({id:Ft.id,...Ft.data()}));h($t),X($t.length)},kt=>{console.error("Error al cargar usuarios:",kt),se("Error al cargar usuarios: "+kt.message)}),Ot=dr(Ce,kt=>{const $t=kt.docs.map(Tr=>({id:Tr.id,...Tr.data()}));g($t);const Ft=$t.reduce((Tr,kr)=>Tr+(parseFloat(kr.price)||0),0);A(Ft)},kt=>{console.error("Error al cargar ventas:",kt),se("Error al cargar ventas: "+kt.message)}),xt=dr(Xe,kt=>{const $t=kt.docs.map(Ft=>({id:Ft.id,...Ft.data(),date:Ft.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(Ft.data().amount)||0}));v($t),C($t.length)},kt=>{console.error("Error al cargar recargas:",kt),se("Error al cargar recargas: "+kt.message)}),jr=dr(wt,kt=>{const $t=kt.docs.map(Ft=>({id:Ft.id,...Ft.data(),date:Ft.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(Ft.data().amount)||0}));w($t),F($t.length)},kt=>{console.error("Error al cargar retiros:",kt),se("Error al cargar retiros: "+kt.message)}),rr=dr(Ht,kt=>{const $t=kt.docs.map(Ft=>({id:Ft.id,...Ft.data(),createdAt:Ft.data().createdAt?.toDate?.()||new Date}));O($t),Le(!1)},kt=>{console.error("Error al cargar productos:",kt),se("Error al cargar productos: "+kt.message),Le(!1)});return()=>{Lt(),Ot(),xt(),jr(),rr()}},[]),S.useEffect(()=>{const ye=dr(yt(Ve,"notifications","adminMessage"),Ce=>{if(Ce.exists()){const Xe=Ce.data();U([{id:Ce.id,...Xe,timestamp:Xe.updatedAt?.toDate()}])}else U([])},Ce=>{console.error("Error al cargar notificaciones:",Ce),se("Error al cargar notificaciones: "+Ce.message)});return()=>ye()},[]),S.useEffect(()=>{const ye=P*5;V({day:ye*.05,week:ye*.25,month:ye,total:ye})},[P]),S.useEffect(()=>{const ye=()=>{ke(window.scrollY>300)};return window.addEventListener("scroll",ye),()=>window.removeEventListener("scroll",ye)},[]);const ht=S.useCallback(ye=>{const Ce=ye.endDate?.toDate?.()||new Date,Xe=new Date;return ye.status==="pending"?"Pendiente":Ce>Xe&&ye.status==="completed"?"Activo":"Expirado"},[]),Se=S.useCallback(()=>Ee?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):we?a.jsxs("div",{className:`bg-${ie==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${ie==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsx(Ll,{className:"mx-auto text-4xl text-blue-400 mb-4"}),a.jsx("h3",{className:`text-xl font-bold ${ie==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),a.jsx("p",{className:`text-base ${ie==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:we}),a.jsx("button",{onClick:()=>se(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):a.jsx("div",{className:`bg-${ie==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 lg:p-10 rounded-2xl shadow-md max-w-6xl mx-auto border ${ie==="dark"?"border-gray-700/50":"border-gray-300"} w-full`,children:(()=>{switch(r){case"inicio":return a.jsx(rJ,{totalUsers:P,totalSales:B,pendingTopUps:N,pendingWithdrawals:R});case"notificaciones":return a.jsx(nJ,{notifications:M,formatDate:ct});case"usuarios":return a.jsx(X6,{users:d,openEditBalanceModal:le});case"recargas":return a.jsx(Q6,{topUps:y,formatDate:ct,actionLoading:de,setActionLoading:ne,showNotificationModal:St});case"retiros":return a.jsx(iJ,{withdrawals:T,formatDate:ct,actionLoading:de,setActionLoading:ne,showNotificationModal:St});case"pedidos":return a.jsx(J6,{sales:p,totalSales:B,formatDate:ct,getOrderStatus:ht});case"productos":return a.jsx(rC,{theme:ie,products:E,loadingProducts:ze,searchQuery:Fe,setSearchQuery:wr,handleDeleteProduct:it});case"ganancias":return a.jsx(Z6,{earnings:W,totalUsers:P});case"configuracion":return a.jsx(eC,{userName:s,setUserName:i,email:o,handleSaveChanges:mt,handleLogout:tt,actionLoading:de});default:return a.jsxs("div",{className:`bg-${ie==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${ie==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[a.jsx(Ll,{className:"mx-auto text-4xl text-blue-400 mb-4"}),a.jsx("h3",{className:`text-xl font-bold ${ie==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Sección no encontrada"}),a.jsx("p",{className:`text-base ${ie==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La sección que estás buscando no existe o no está disponible."}),a.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()}),[Ee,we,ie,r,P,B,N,R,M,ct,d,le,y,de,St,T,p,ht,W,s,i,o,mt,tt,E,ze,Fe,it]);return a.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${ie==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${ie==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),a.jsx("div",{className:"particles",children:[...Array(15)].map((ye,Ce)=>a.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Ce))})]}),a.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${ie==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:a.jsxs("div",{className:"p-4 flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("button",{onClick:()=>{Dt("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),a.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:a.jsx(Us,{className:"text-lg"})})]}),a.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${ie==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:s.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${ie==="dark"?"text-white":"text-gray-900"}`,children:s}),a.jsx("p",{className:`text-xs ${ie==="dark"?"text-gray-400":"text-gray-600"}`,children:"Administrador"})]})]}),a.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Zv},{id:"notificaciones",label:"Notificaciones",icon:Fl},{id:"usuarios",label:"Usuarios",icon:f0},{id:"recargas",label:"Recargas",icon:sa},{id:"retiros",label:"Retiros",icon:sa},{id:"pedidos",label:"Pedidos",icon:yu},{id:"productos",label:"Productos",icon:Ky},{id:"ganancias",label:"Ganancias",icon:Ad},{id:"configuracion",label:"Configuración",icon:ZU}].map(ye=>a.jsxs("button",{onClick:()=>{n(ye.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===ye.id?"bg-blue-100 text-blue-600 border border-blue-300":ie==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":r===ye.id?"page":void 0,children:[a.jsx(ye.icon,{className:"text-lg"}),a.jsx("span",{children:ye.label})]},ye.id))}),a.jsx("div",{className:"mt-auto pt-6",children:a.jsxs("button",{onClick:()=>{tt(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${ie==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[a.jsx(vu,{className:"text-lg"}),a.jsx("span",{children:"Cerrar Sesión"})]})})]})}),a.jsxs("header",{className:`${ie==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(te.img,{src:Zl,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border ${ie==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),a.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),a.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:a.jsxs("div",{className:"relative group",children:[a.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:dt,onChange:ye=>pt(ye.target.value),className:`w-full py-2.5 px-5 ${ie==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:ye=>ye.key==="Enter"&&n("pedidos")}),a.jsx("button",{onClick:()=>n("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${ie==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:a.jsx(xu,{size:18})})]})}),a.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[a.jsx("button",{onClick:Ge,className:`p-2 rounded-full ${ie==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${ie==="dark"?"light":"dark"} theme`,children:ie==="dark"?a.jsx(Jl,{size:20}):a.jsx(Ql,{size:20})}),a.jsxs("button",{onClick:()=>nt(!0),className:`p-2 rounded-full relative ${ie==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${M.length} new)`,children:[a.jsx(Fl,{size:20}),M.length>0&&a.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:M.length})]}),a.jsx("button",{className:`lg:hidden p-2 rounded-full ${ie==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:a.jsx(Sm,{size:20,className:ie==="dark"?"text-gray-300":"text-gray-600"})}),a.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:a.jsx("div",{className:"relative",children:a.jsxs("button",{className:`flex items-center space-x-2 ${ie==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[a.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:s.charAt(0).toUpperCase()}),a.jsx("span",{className:`text-sm font-semibold ${ie==="dark"?"text-gray-200":"text-gray-800"}`,children:s})]})})})]})]}),a.jsx(zt,{children:je&&a.jsx(te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>nt(!1),role:"dialog","aria-labelledby":"notifications-title",children:a.jsxs(te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${ie==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${ie==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:ye=>ye.stopPropagation(),children:[a.jsx("button",{onClick:()=>nt(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:a.jsx(Us,{size:20})}),a.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${ie==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),M.length>0?M.map(ye=>a.jsxs("div",{className:`p-4 mb-2 rounded-md ${ie==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${ie==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[a.jsx("h3",{className:`font-semibold ${ie==="dark"?"text-gray-200":"text-gray-800"}`,children:ye.title||"Nueva Notificación"}),a.jsx("p",{className:`text-sm ${ie==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:ye.message}),ye.roles&&ye.roles.length>0&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",ye.roles.join(", ")]}),ye.timestamp&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ct(ye.timestamp)})]},ye.id)):a.jsx("p",{className:`text-center ${ie==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),a.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:Se()}),a.jsxs("footer",{className:`${ie==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${ie==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),a.jsxs("p",{className:`text-base sm:text-lg ${ie==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",a.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),a.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[a.jsx("a",{href:"https://twitter.com",className:`${ie==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:a.jsx(Yl,{size:28})}),a.jsx("a",{href:"https://instagram.com",className:`${ie==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:a.jsx(Xl,{size:28})}),a.jsx("a",{href:"https://facebook.com",className:`${ie==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:a.jsx(Kl,{size:28})})]}),a.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[a.jsx("a",{href:"#",className:`text-sm ${ie==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Política de Privacidad"}),a.jsx("a",{href:"#",className:`text-sm ${ie==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Términos de Servicio"}),a.jsx("a",{href:"#",className:`text-sm ${ie==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contáctanos"})]})]}),a.jsxs("p",{className:`text-sm ${ie==="dark"?"text-gray-500":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Hecho con pasión."]})]}),a.jsx(zt,{children:De&&a.jsx(te.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:ar,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:a.jsx(Nm,{size:20})})}),a.jsx(tC,{isOpen:D.isOpen,title:D.title,message:D.message,onClose:Kt}),a.jsx(aJ,{isOpen:J.isOpen,user:J.user,onClose:Ze,onSave:bt}),t&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};nC.propTypes={};const sC=S.createContext(),lJ=({children:t})=>{const e=xv(V0),[r,n]=S.useState(null),[s,i]=S.useState(null),[o,u]=S.useState(!0);return S.useEffect(()=>{const d=Gl(e,async h=>{if(h){n(h);try{const p=await Vo(yt(Ve,"users",h.uid));p.exists()?i(p.data().role):i("user")}catch(p){console.error("Error fetching role:",p),i("user")}}else n(null),i(null);u(!1)});return()=>d()},[]),a.jsx(sC.Provider,{value:{user:r,role:s,loading:o},children:!o&&t})},Af=()=>{const t=S.useContext(sC);if(t===void 0)throw new Error("useAuth debe usarse dentro de un AuthProvider");return t},cJ=S.lazy(()=>or(()=>import("./Netflix-XA7S5KGH.js"),[])),uJ=S.lazy(()=>or(()=>import("./Disney-BrJcXv8K.js"),[])),dJ=S.lazy(()=>or(()=>import("./Max-D5BpOg9x.js"),[])),hJ=S.lazy(()=>or(()=>import("./Spotify-B5FXnbIM.js"),[])),fJ=S.lazy(()=>or(()=>import("./PrimeVideo-Bm9GBleh.js"),[])),pJ=S.lazy(()=>or(()=>import("./Vix-BVrYrQzb.js"),[])),mJ=S.lazy(()=>or(()=>import("./canva-BuqArh4z.js"),[])),gJ=S.lazy(()=>or(()=>import("./ChatGPT-CiHlrxxb.js"),[])),xJ=S.lazy(()=>or(()=>import("./Crunchyroll-D7w-f5HU.js"),[])),yJ=S.lazy(()=>or(()=>import("./RedesSociales-DO6e7qa_.js"),[])),vJ=S.lazy(()=>or(()=>import("./AppleMusic-BSlDABN0.js"),[])),bJ=S.lazy(()=>or(()=>import("./AppleTv-DyssgssE.js"),[])),wJ=S.lazy(()=>or(()=>import("./IPTV-CQCGNjE8.js"),[])),_J=S.lazy(()=>or(()=>import("./FlujoTv-CT5eB8ht.js"),[])),EJ=S.lazy(()=>or(()=>import("./VikiRakuten-Bqzsm38X.js"),[])),TJ=S.lazy(()=>or(()=>import("./Pornhub-K1OV8iC1.js"),[])),kJ=S.lazy(()=>or(()=>import("./Paramount-CvxqzK1Z.js"),[])),NJ=S.lazy(()=>or(()=>import("./Licencias-CF5dzVIy.js"),[])),SJ=S.lazy(()=>or(()=>import("./Capcut-DwI-hgyO.js"),[])),AJ=S.lazy(()=>or(()=>import("./Duolingo-BGGJTcv8.js"),[])),CJ=S.lazy(()=>or(()=>import("./Dgo-lMUyH1OO.js"),[])),IJ=S.lazy(()=>or(()=>import("./LigaMax-V8nbWmvP.js"),[])),jJ=S.lazy(()=>or(()=>import("./MovistarPlay-h7WATYs3.js"),[])),PJ=S.lazy(()=>or(()=>import("./Youtube-OQHoTPf5.js"),[])),RJ=S.lazy(()=>or(()=>import("./Deezer-gXvaSP0h.js"),[])),DJ=S.lazy(()=>or(()=>import("./Tidal-DeK2ail6.js"),[])),OJ=S.lazy(()=>or(()=>import("./Vpn-C1iOGjIw.js"),[])),FJ=S.lazy(()=>or(()=>import("./WinTv-CUIIIft7.js"),[])),LJ=S.lazy(()=>or(()=>import("./Buscapersonas-tDZ93ff7.js"),[]));S.lazy(()=>or(()=>import("./Maintenance-DXXtEJxb.js"),[]));const MJ=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Página no encontrada"}),a.jsx("a",{href:"/",className:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600",children:"Volver al inicio"})]})}),$J=()=>{const t=({children:s,redirectTo:i})=>{const{user:o,role:u,loading:d}=Af();return d?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Cargando..."}):o&&u==="user"?s:a.jsx(of,{to:i||"/login",replace:!0})},e=({children:s,redirectTo:i})=>{const{user:o,role:u,loading:d}=Af();return d?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Cargando..."}):o&&u==="admin"?s:a.jsx(of,{to:i||"/login",replace:!0})},r=({children:s,redirectTo:i})=>{const{user:o,role:u,loading:d}=Af();return d?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Cargando..."}):o&&u==="affiliate"?s:a.jsx(of,{to:i||"/login",replace:!0})},n=({children:s,redirectTo:i})=>{const{user:o,role:u,loading:d}=Af();return d?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Cargando..."}):o&&u==="provider"?s:a.jsx(of,{to:i||"/login",replace:!0})};return a.jsx(cj,{children:a.jsxs(a.Fragment,{children:[a.jsx(Vt,{path:"/",element:a.jsx(z5,{})}),a.jsx(Vt,{path:"/login",element:a.jsx($z,{})}),a.jsx(Vt,{path:"/register",element:a.jsx(Vz,{})}),a.jsx(Vt,{path:"/forgot-password",element:a.jsx(Bz,{})}),a.jsx(Vt,{path:"/dashboard/user",element:a.jsx(t,{children:a.jsx(V6,{})})}),a.jsx(Vt,{path:"/dashboard/affiliate",element:a.jsx(r,{children:a.jsx(qQ,{})})}),a.jsx(Vt,{path:"/dashboard/provider",element:a.jsx(n,{children:a.jsx(W6,{})})}),a.jsx(Vt,{path:"/dashboard/admin",element:a.jsx(e,{children:a.jsx(nC,{})})}),a.jsx(Vt,{path:"/netflix",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(cJ,{})})}),a.jsx(Vt,{path:"/disney",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(uJ,{})})}),a.jsx(Vt,{path:"/max",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(dJ,{})})}),a.jsx(Vt,{path:"/spotify",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(hJ,{})})}),a.jsx(Vt,{path:"/primevideo",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(fJ,{})})}),a.jsx(Vt,{path:"/vix",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(pJ,{})})}),a.jsx(Vt,{path:"/canva",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(mJ,{})})}),a.jsx(Vt,{path:"/chatgpt",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(gJ,{})})}),a.jsx(Vt,{path:"/crunchyroll",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(xJ,{})})}),a.jsx(Vt,{path:"/redessociales",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(yJ,{})})}),a.jsx(Vt,{path:"/applemusic",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(vJ,{})})}),a.jsx(Vt,{path:"/appletv",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(bJ,{})})}),a.jsx(Vt,{path:"/iptv",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(wJ,{})})}),a.jsx(Vt,{path:"/flujotv",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(_J,{})})}),a.jsx(Vt,{path:"/vikirakuten",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(EJ,{})})}),a.jsx(Vt,{path:"/pornhub",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(TJ,{})})}),a.jsx(Vt,{path:"/paramount",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(kJ,{})})}),a.jsx(Vt,{path:"/licencias",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(NJ,{})})}),a.jsx(Vt,{path:"/capcut",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(SJ,{})})}),a.jsx(Vt,{path:"/duolingo",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(AJ,{})})}),a.jsx(Vt,{path:"/dgo",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(CJ,{})})}),a.jsx(Vt,{path:"/ligamax",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(IJ,{})})}),a.jsx(Vt,{path:"/movistarplay",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(jJ,{})})}),a.jsx(Vt,{path:"/youtube",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(PJ,{})})}),a.jsx(Vt,{path:"/deezer",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(RJ,{})})}),a.jsx(Vt,{path:"/tidal",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(DJ,{})})}),a.jsx(Vt,{path:"/vpn",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(OJ,{})})}),a.jsx(Vt,{path:"/wintv",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(FJ,{})})}),a.jsx(Vt,{path:"/buscapersonas",element:a.jsx(S.Suspense,{fallback:a.jsx("div",{children:"Cargando..."}),children:a.jsx(LJ,{})})}),a.jsx(Vt,{path:"*",element:a.jsx(MJ,{})})]})})};vI.createRoot(document.getElementById("root")).render(a.jsx(Ii.StrictMode,{children:a.jsx(Pj,{children:a.jsx(lJ,{children:a.jsx($J,{})})})}));export{nv as $,oi as A,te as B,Zl as C,xu as D,Jl as E,Cp as F,Ql as G,Fl as H,Kz as I,KU as J,zt as K,kp as L,vu as M,gs as N,Xy as O,Yy as P,Us as Q,Du as R,eZ as S,UJ as T,qJ as U,$l as V,Nm as W,Yl as X,Xl as Y,Kl as Z,Vo as _,dr as a,yn as a0,K as a1,q7 as a2,Z7 as a3,Ii as a4,JJ as a5,bs as a6,Sp as a7,J7 as b,Pt as c,Ve as d,yt as e,M0 as f,Qr as g,HJ as h,XJ as i,a as j,ZJ as k,tZ as l,QJ as m,zJ as n,Gl as o,YJ as p,hr as q,S as r,Cr as s,KJ as t,Li as u,WJ as v,br as w,W5 as x,ia as y,GJ as z};
