import{j as e,r as t,u as $a,F as we,o as Sa,q as Q,w as Z,c as j,a as ie,b as Ae,d as m,e as y,a2 as Ia,a0 as Ue,s as ne,a3 as qe,f as Da,g as Le,h as Ne,i as de,k as B,l as Ce,m as Oe,n as He,p as Ve,t as Pa,v as Ge,x as _e,y as Ta,z as Qe,A as Fa,B as n,C as za,D as We,E as Ba,G as Ma,H as Ye,I as Ea,J as Ra,K as F,L as Ke,M as $e,N as W,O as Je,P as Xe,Q as O,R as Aa,S as Ua,T as qa,U as La,V as Oa,W as Ha,X as Va,Y as Ga,Z as _a,_ as Ze,$ as Qa,a1 as N}from"./index-C8uXYC0t.js";const ea=t.createContext({theme:"dark",toggleTheme:()=>{}}),Wa=({children:M})=>{const[v,I]=t.useState(()=>localStorage.getItem("theme")||"dark"),S=t.useCallback(()=>{const k=v==="dark"?"light":"dark";I(k),localStorage.setItem("theme",k)},[v]);return t.useEffect(()=>{document.documentElement.classList.toggle("dark",v==="dark")},[v]),e.jsx(ea.Provider,{value:{theme:v,toggleTheme:S},children:M})},aa=t.memo(({isOpen:M,message:v,onClose:I,theme:S})=>e.jsx(F,{children:M&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:I,role:"dialog","aria-labelledby":"modal-title",children:e.jsxs(n.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${S==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${S==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:k=>k.stopPropagation(),children:[e.jsx("button",{onClick:I,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:e.jsx(O,{size:20})}),e.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${S==="dark"?"text-white":"text-gray-900"}`,children:"Notificación"}),e.jsx("p",{className:`text-sm ${S==="dark"?"text-gray-300":"text-gray-700"}`,children:v})]})})}));aa.propTypes={isOpen:N.bool.isRequired,message:N.string.isRequired,onClose:N.func.isRequired,theme:N.string.isRequired};const ra=t.memo(({show:M,onClose:v,notifications:I,theme:S})=>{const k=S==="dark",ee={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}},s=C=>C.toLocaleString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});return e.jsx(F,{children:M&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:v,role:"dialog","aria-labelledby":"notifications-title",children:e.jsxs(n.div,{variants:ee,initial:"hidden",animate:"visible",exit:"hidden",className:`w-full max-w-md mx-4 ${k?"bg-gray-900/95 border-gray-700/50":"bg-white/95 border-gray-200/50"} rounded-2xl shadow-2xl p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md`,onClick:C=>C.stopPropagation(),children:[e.jsx("button",{onClick:v,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar notificaciones",children:e.jsx(O,{size:20})}),e.jsx("h2",{id:"notifications-title",className:`text-2xl font-bold mb-6 ${k?"text-white":"text-gray-900"} bg-clip-text text-transparent bg-gradient-to-r ${k?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Notificaciones"}),I.length>0?I.map(C=>e.jsxs(n.div,{variants:ee,initial:"hidden",animate:"visible",whileHover:"hover",className:`border-b py-3 last:border-0 rounded-xl px-2 transition-all duration-300 ${k?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,children:[e.jsx("p",{className:`${k?"text-gray-300":"text-gray-700"}`,children:C.message}),e.jsx("p",{className:`text-xs mt-1 ${k?"text-gray-400":"text-gray-500"}`,children:s(C.updatedAt?.toDate?.()||new Date)})]},C.id)):e.jsx("p",{className:`py-2 ${k?"text-gray-400":"text-gray-500"}`,children:"No hay notificaciones"})]})})})});ra.propTypes={show:N.bool.isRequired,onClose:N.func.isRequired,notifications:N.arrayOf(N.shape({id:N.string.isRequired,message:N.string.isRequired,updatedAt:N.object})).isRequired,theme:N.string.isRequired};const ta=()=>{const[M,v]=t.useState(!1),[I,S]=t.useState([]),[k,ee]=t.useState([]),[s,C]=t.useState(null),[Y,ce]=t.useState(0),[ue,Se]=t.useState(null),[ae,me]=t.useState(!0),[re,H]=t.useState(null),[p,E]=t.useState(null),[D,P]=t.useState(null),[Ie,K]=t.useState(!1),[sa,te]=t.useState(!1),[se,R]=t.useState(null),[d,De]=t.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,Pe]=t.useState(""),[Te,oa]=t.useState({}),[la,ia]=t.useState(!1),[xe,pe]=t.useState(!1),[be,A]=t.useState(!1),[na,ge]=t.useState(!1),[oe,Fe]=t.useState([]),w=$a(),{theme:r,toggleTheme:da}=t.useContext(ea),ca=t.useRef(null),ua=t.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);t.useEffect(()=>{const a=()=>{ia(window.scrollY>300)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);const he=t.useCallback(a=>{const u=Number(a);return isNaN(u)?"0.00":u.toFixed(2)},[]),ma=t.useCallback(a=>{const u=Math.floor(a),o=a%1>=.5,b=5-u-(o?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(u)].map((g,$)=>e.jsx(we,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${$}`)),o&&e.jsx(we,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:r==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(b)].map((g,$)=>e.jsx(we,{className:r==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${$}`))]})},[r]);t.useEffect(()=>{const a=Sa(Le,async u=>{if(C(u),u)try{const o=await Ze(y(m,"users",u.uid));if(o.exists()){const b=o.data();C({id:u.uid,name:b.username||"Usuario",email:u.email,role:b.role||"user",phone:b.phone||"",username:b.username||"Usuario"}),ce(Number(b.balance)||0),Se(b.role||"user"),xa(u.uid)}else H("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(o){H("Error al cargar datos del usuario"),console.error(o)}else C(null),ce(0),Se(null),Fe([]);me(!1)});return()=>a()},[]);const xa=async a=>{try{const u=Q(j(m,"users",a,"notifications"),Qa("updatedAt","desc")),b=(await Ue(u)).docs.map(g=>({id:g.id,message:g.data().message||"Sin mensaje",updatedAt:g.data().updatedAt}));Fe(b)}catch(u){console.error("Error fetching notifications:",u)}};t.useEffect(()=>{const a=Q(j(m,"products"),Z("category","==","Max")),u=ie(a,async x=>{const f=x.docs.map(c=>{const l=c.data();return{id:c.id,...l,price:Number(l.price)||0,stock:Number(l.stock||l.available||0),accountDetails:l.email||l.details||"Detalles no disponibles",terms:l.terms||"Términos del proveedor",provider:l.provider||"Proveedor no especificado",providerId:l.providerId||"",providerPhone:l.providerPhone||"",acceptsOrders:l.status==="A pedido",duration:l.duration||"1 mes",accountType:l.accountType||"No especificado",status:l.status||"En stock",image:l.image||"https://via.placeholder.com/300",renewal:l.renewal||!1,renewalPrice:Number(l.renewalPrice)||Number(l.price)*.9}}),i=await Promise.all(f.map(async c=>{let l={provider:c.provider,providerPhone:c.providerPhone};if(!c.provider||c.provider==="Proveedor no especificado")try{if(c.providerId){const h=await Ze(y(m,"users",c.providerId));h.exists()&&(l={provider:h.data().username||h.data().email||c.provider,providerPhone:h.data().phoneNumber||c.providerPhone})}}catch(h){console.error("Error al cargar datos del proveedor:",h)}return{...c,...l}}));S(i),De(c=>({...c,max:i.length}))},x=>{H("Error al cargar productos de Max"),console.error(x)}),o=Q(j(m,"ratings")),b=ie(o,x=>{const f={};x.docs.forEach(c=>{const l=c.data(),h=l.providerId;f[h]||(f[h]=[]),f[h].push(Number(l.rating)||0)});const i={};Object.keys(f).forEach(c=>{const l=f[c],h=l.length?l.reduce((T,q)=>T+q,0)/l.length:1;i[c]=Math.min(Math.max(h,1),5)}),oa(i)},x=>{console.error("Error al cargar calificaciones de proveedores:",x)}),g=Q(j(m,"max_accounts"),Z("status","==","available")),$=ie(g,x=>{const f=x.docs.map(i=>({id:i.id,...i.data(),productId:i.data().productId||"",providerId:i.data().providerId||""}));ee(f)},x=>{console.error("Error al cargar cuentas:",x)}),z=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","WinTv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(x=>{const f=x.toLowerCase().replace(/\s+/g,""),i=Q(j(m,"products"),Z("category","==",x));return ie(i,c=>{De(l=>({...l,[f]:c.docs.length}))},c=>{console.error(`Error al cargar productos de ${x}:`,c)})});return()=>{u(),b(),$(),z.forEach(x=>x())}},[]);const pa=t.useCallback(a=>{if(!s){R({message:"Por favor, inicia sesión para realizar una compra en BlackStreaming.",onClose:()=>w("/login")});return}if(ue==="provider"){R({message:"Los proveedores no pueden realizar compras en BlackStreaming."});return}if(Y<a.price){R({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){R({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de BlackStreaming."});return}E({product:a,customerName:s.name,phoneNumber:""})},[s,Y,w]),ba=t.useCallback(async()=>{if(!document.getElementById("termsCheck").checked){H("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(p.phoneNumber)){H("El número de WhatsApp debe tener 9 dígitos");return}try{me(!0);const a=p.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let u=null;a.status==="En stock"?u=await Ae(m,async o=>{const b=y(m,"products",a.id),g=await o.get(b);if(!g.exists())throw new Error("Producto no encontrado");const $=g.data();if($.availableAccounts<=0&&$.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const U=Q(j(m,"max_accounts"),Z("productId","==",a.id),Z("status","==","available"),Ia(1)),z=await Ue(U);if(z.empty)throw new Error("No hay cuentas disponibles");const x=z.docs[0],f=x.ref,i=x.data(),c=y(m,"users",s.id),l=await o.get(c);if(!l.exists())throw new Error("Usuario no encontrado");const h=y(m,"users",a.providerId),T=await o.get(h);if(!T.exists())throw new Error("Proveedor no encontrado");const q=y(m,"providerBalances",a.providerId),G=await o.get(q);let fe=0;G.exists()?fe=parseFloat(G.data().balance)||0:o.set(q,{balance:0,provider:a.providerId,updatedAt:ne()});let L=a.providerPhone||"";L||(L=T.data().phoneNumber||""),o.update(f,{status:"unavailable",assignedTo:s.id,assignedAt:new Date().toISOString()}),o.update(b,{availableAccounts:qe(-1),stock:qe(-1)});const J=(Number(l.data().balance)||0)-a.price;if(J<0)throw new Error("Saldo insuficiente");const ve=l.data().orderIds||[],_={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:L,status:"active",customerName:p.customerName,customerId:s.id,phoneNumber:p.phoneNumber,buyerName:s.name,buyerId:s.id,buyerPhone:s.phone,createdAt:new Date().toISOString(),accountDetails:{email:i.email||"No proporcionado",password:i.password||"No proporcionado",profile:i.profile||"No proporcionado",pin:i.pin||"No proporcionado"},terms:a.terms,type:"max"},je=j(m,"users",s.id,"orders"),X=y(je);o.set(X,{..._,id:X.id}),o.update(c,{balance:J,orderIds:[...ve,X.id]});const ja=(Number(T.data().balance)||0)+a.price,ka=T.data().salesIds||[],Re={saleId:y(j(m,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:L,customerId:s.id,customerName:p.customerName,customerPhone:p.phoneNumber,buyerName:s.name,buyerId:s.id,buyerPhone:s.phone,accountDetails:{email:i.email||"No proporcionado",password:i.password||"No proporcionado",profile:i.profile||"No proporcionado",pin:i.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image},wa=j(m,"users",a.providerId,"sales"),ke=y(wa);o.set(ke,{...Re,id:ke.id}),o.update(h,{balance:ja,salesIds:[...ka,ke.id]});const Na=fe+a.price;o.set(q,{balance:Na,provider:a.providerId,updatedAt:ne()},{merge:!0});const Ca=y(j(m,"sales"));return o.set(Ca,{..._,provider:a.provider,providerId:a.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:i.email||"No proporcionado",password:i.password||"No proporcionado",profile:i.profile||"No proporcionado",pin:i.pin||"No proporcionado"},saleId:Re.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),i}):await Ae(m,async o=>{const b=y(m,"users",s.id),g=await o.get(b);if(!g.exists())throw new Error("Usuario no encontrado");const $=y(m,"users",a.providerId),U=await o.get($);if(!U.exists())throw new Error("Proveedor no encontrado");const z=y(m,"providerBalances",a.providerId),x=await o.get(z);let f=0;x.exists()?f=parseFloat(x.data().balance)||0:o.set(z,{balance:0,provider:a.providerId,updatedAt:ne()});let i=a.providerPhone||"";i||(i=U.data().phoneNumber||"");const l=(Number(g.data().balance)||0)-a.price;if(l<0)throw new Error("Saldo insuficiente");const h=g.data().orderIds||[],T={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:i,status:"pending",customerName:p.customerName,customerId:s.id,phoneNumber:p.phoneNumber,buyerName:s.name,buyerId:s.id,buyerPhone:s.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"max"},q=j(m,"users",s.id,"orders"),G=y(q);o.set(G,{...T,id:G.id}),o.update(b,{balance:l,orderIds:[...h,G.id]});const L=(Number(U.data().balance)||0)+a.price,Ee=U.data().salesIds||[],J={saleId:y(j(m,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:i,customerId:s.id,customerName:p.customerName,customerPhone:p.phoneNumber,buyerName:s.name,buyerId:s.id,buyerPhone:s.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image},ve=j(m,"users",a.providerId,"sales"),_=y(ve);o.set(_,{...J,id:_.id}),o.update($,{balance:L,salesIds:[...Ee,_.id]});const je=f+a.price;o.set(z,{balance:je,provider:a.providerId,updatedAt:ne()},{merge:!0});const X=y(j(m,"sales"));o.set(X,{...T,provider:a.provider,providerId:a.providerId,providerPhone:i,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),ce(o=>o-a.price),E(null),R({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){H(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{me(!1)}},[p,s]),ga=t.useCallback(a=>{P({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},[]),ha=t.useCallback(a=>{P({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),K(!0)},[]),ze=t.useCallback(()=>{if(!s){w("/login");return}switch(ue){case"admin":w("/dashboard/admin");break;case"provider":w("/dashboard/provider");break;case"affiliate":w("/dashboard/affiliate");break;default:w("/dashboard/user")}},[s,ue,w]),le=t.useCallback(a=>{a.preventDefault(),V.trim()&&w(`/search?q=${encodeURIComponent(V)}&category=Max`)},[V,w]),ye=t.useCallback(async()=>{try{await Da(Le),w("/")}catch(a){console.error("Error al cerrar sesión:",a),R({message:a.message||"Error al cerrar sesión"})}},[w]),ya=t.useCallback(a=>{if(!a||typeof a!="string")return"30 días";const u=a.match(/(\d+)\s*(mes|meses)/i);if(u)return`${parseInt(u[1],10)*30} días`;const o=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(o)return`${parseInt(o[1],10)} días`;const b=a.match(/(\d+)/);return b?`${parseInt(b[1],10)} días`:"30 días"},[]),fa=t.useCallback(a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),[]),Be=I.filter(a=>a.name.toLowerCase().includes(V.toLowerCase())),va=t.useCallback(a=>a?a.split(" ").map(o=>o[0]).join("").slice(0,2).toUpperCase():"U",[]),Me=[{id:"netflix",label:"Netflix",icon:Ne,count:d.netflix},{id:"spotify",label:"Spotify",icon:de,count:d.spotify},{id:"disney",label:"Disney+",icon:B,count:d.disney},{id:"max",label:"Max",icon:Ce,count:d.max},{id:"primevideo",label:"Prime Video",icon:Oe,count:d.primevideo},{id:"vix",label:"Vix",icon:B,count:d.vix},{id:"crunchyroll",label:"Crunchyroll",icon:He,count:d.crunchyroll},{id:"canva",label:"Canva",icon:Ve,count:d.canva},{id:"chatgpt",label:"ChatGPT",icon:Pa,count:d.chatgpt},{id:"redessociales",label:"Redes Sociales",icon:Ge,count:d.redessociales},{id:"dgo",label:"Dgo",icon:B,count:d.dgo},{id:"ligamax",label:"Liga Max",icon:Oe,count:d.ligamax},{id:"movistarplay",label:"Movistar Play",icon:B,count:d.movistarplay},{id:"youtube",label:"Youtube",icon:Ce,count:d.youtube},{id:"deezer",label:"Deezer",icon:de,count:d.deezer},{id:"tidal",label:"Tidal",icon:de,count:d.tidal},{id:"vpn",label:"Vpn",icon:Ge,count:d.vpn},{id:"wintv",label:"Win Tv",icon:B,count:d.wintv},{id:"applemusic",label:"Apple Music",icon:de,count:d.applemusic},{id:"appletv",label:"Apple Tv",icon:B,count:d.appletv},{id:"iptv",label:"Iptv",icon:B,count:d.iptv},{id:"flujotv",label:"Flujo Tv",icon:B,count:d.flujotv},{id:"vikirakuten",label:"Viki Rakuten",icon:Ne,count:d.vikirakuten},{id:"pornhub",label:"Pornhub",icon:Ce,count:d.pornhub},{id:"paramount",label:"Paramount",icon:Ne,count:d.paramount},{id:"licencias",label:"Licencias",icon:_e,count:d.licencias},{id:"capcut",label:"Capcut",icon:Ve,count:d.capcut},{id:"duolingo",label:"Duolingo",icon:He,count:d.duolingo},{id:"buscapersonas",label:"Busca Personas",icon:Ta,count:d.buscapersonas}];return ae?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${r==="dark"?"bg-gradient-to-b from-gray-900 via-gray-800 to-black text-white":"bg-gradient-to-b from-gray-50 to-gray-50 text-gray-900"}`,children:[e.jsx(Qe,{className:"animate-spin text-5xl text-blue-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):re?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${r==="dark"?"bg-gradient-to-b from-gray-900 via-gray-800 to-black text-white":"bg-gradient-to-b from-gray-50 to-gray-50 text-gray-900"} p-4`,children:[e.jsx(Fa,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:re}),e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${r==="dark"?"bg-gradient-to-b from-gray-900 via-gray-800 to-black text-white":"bg-gradient-to-b from-gray-50 to-gray-50 text-gray-900"} relative overflow-x-hidden`,children:[e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${r==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),e.jsx("div",{className:"particles",children:[...Array(15)].map((a,u)=>e.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},u))})]}),e.jsxs("header",{className:`${r==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-4 px-4 sm:px-6 flex items-center justify-between shadow-lg fixed top-0 left-0 right-0 z-50 transition-all duration-300 md:ml-64`,children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(n.img,{src:za,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${r==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),e.jsx("div",{className:"flex-1 mx-4 max-w-md hidden lg:block",children:e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Max...",value:V,onChange:a=>Pe(a.target.value),className:`w-full py-2.5 px-5 ${r==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-lg group-hover:${r==="dark"?"bg-gray-800/50":"bg-gray-100/90"}`,"aria-label":"Buscar en Max",onKeyDown:a=>a.key==="Enter"&&le(a)}),e.jsx("button",{onClick:le,className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${r==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Buscar",children:e.jsx(We,{size:18})})]})}),e.jsxs("nav",{className:"flex items-center space-x-3 relative",children:[e.jsx("button",{onClick:da,className:`p-2 rounded-full ${r==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${r==="dark"?"claro":"oscuro"}`,children:r==="dark"?e.jsx(Ba,{size:20}):e.jsx(Ma,{size:20})}),s&&e.jsxs("button",{onClick:()=>ge(!0),className:`p-2 rounded-full relative ${r==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Notificaciones (${oe.length} nuevas)`,children:[e.jsx(Ye,{size:20}),oe.length>0&&e.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:oe.length})]}),e.jsx("button",{className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition duration-300",onClick:()=>A(!be),"aria-label":"Abrir menú móvil","aria-expanded":be,children:e.jsx(Ea,{size:20,className:r==="dark"?"text-gray-300":"text-gray-600"})}),e.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:s?e.jsxs("div",{className:"relative flex items-center space-x-4",children:[e.jsx(n.div,{className:`flex items-center space-x-2 ${r==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-lg transition-all duration-300`,whileHover:{scale:1.05},children:e.jsxs("span",{className:"text-sm font-semibold",children:["S/. ",Y.toFixed(2)]})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>pe(!xe),className:`flex items-center space-x-2 ${r==="dark"?"bg-gray-800/30 border-gray-600/30":"bg-gray-100/80 border-gray-200/30"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-lg transition-all duration-300`,"aria-label":"Menú de usuario","aria-haspopup":"true","aria-expanded":xe,children:[e.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:s.photoURL?e.jsx("img",{src:s.photoURL,alt:"Avatar de usuario",className:"h-full w-full rounded-full",loading:"lazy"}):va(s.name||s.email)}),e.jsx("span",{className:`text-sm font-semibold ${r==="dark"?"text-gray-200":"text-gray-800"} truncate max-w-[120px]`,children:s.name||"Usuario"}),e.jsx(Ra,{className:`ml-1 ${r==="dark"?"text-gray-400":"text-gray-600"}`,size:14})]}),e.jsx(F,{children:xe&&e.jsxs(n.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:`absolute right-0 mt-2 w-56 ${r==="dark"?"bg-gray-900/95 border-gray-600/30":"bg-white/95 border-gray-200/30"} backdrop-blur-xl rounded-lg shadow-xl py-3 z-50`,role:"menu",children:[e.jsxs("button",{onClick:()=>{ze(),pe(!1)},className:`w-full text-left px-4 py-2 text-sm hover:${r==="dark"?"bg-gray-800/80":"bg-gray-200/80"} flex items-center ${r==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Ir al dashboard",children:[e.jsx(Ke,{className:"mr-2"})," Dashboard"]}),e.jsxs("button",{onClick:()=>{ye(),pe(!1)},className:`w-full text-left px-4 py-2 text-sm hover:${r==="dark"?"bg-gray-800/80":"bg-gray-200/80"} flex items-center ${r==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Cerrar sesión",children:[e.jsx($e,{className:"mr-2"})," Cerrar Sesión"]})]})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(W,{to:"/login",className:`bg-blue-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-blue-700/95 text-sm border ${r==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,"aria-label":"Iniciar sesión",children:[e.jsx(Je,{className:"mr-2"})," Ingresar"]}),e.jsxs(W,{to:"/register",className:`bg-green-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-green-700/95 text-sm border ${r==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,"aria-label":"Registrarse",children:[e.jsx(Xe,{className:"mr-2"})," Registrarse"]})]})})]}),e.jsx(F,{children:be&&e.jsx(n.nav,{initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},className:`lg:hidden absolute top-full left-0 right-0 ${r==="dark"?"bg-gray-900/95":"bg-white/95"} backdrop-blur-xl shadow-lg z-40 p-6`,role:"menu","aria-label":"Menú móvil",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Max...",value:V,onChange:a=>Pe(a.target.value),className:`w-full py-2.5 px-5 ${r==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-lg group-hover:${r==="dark"?"bg-gray-800/50":"bg-gray-100/90"}`,"aria-label":"Buscar en Max",onKeyDown:a=>a.key==="Enter"&&le(a)}),e.jsx("button",{onClick:le,className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${r==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Buscar",children:e.jsx(We,{size:18})})]}),s&&e.jsxs("button",{onClick:()=>{ge(!0),A(!1)},className:`text-sm flex items-center ${r==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Ver notificaciones",children:[e.jsx(Ye,{className:"mr-2"})," Notificaciones"]}),e.jsxs("div",{className:"flex flex-col space-y-2 max-h-[50vh] overflow-y-auto",children:[e.jsx("h3",{className:`text-sm font-semibold ${r==="dark"?"text-gray-200":"text-gray-800"}`,children:"Categorías"}),Me.map(a=>e.jsxs(W,{to:`/${a.id}`,onClick:()=>A(!1),className:`flex items-center justify-between space-x-3 px-4 py-2 rounded-xl transition-all duration-300 ${a.id==="max"?"bg-blue-100 text-blue-600 border border-blue-300":r==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":a.id==="max"?"page":void 0,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(a.icon,{className:"text-lg"}),e.jsx("span",{children:a.label})]}),e.jsx("span",{className:"bg-blue-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:a.count})]},a.id))]}),s?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"} font-medium`,children:["Saldo: S/. ",Y.toFixed(2)]}),e.jsxs("button",{onClick:()=>{ze(),A(!1)},className:`text-sm flex items-center ${r==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Ir al dashboard",children:[e.jsx(Ke,{className:"mr-2"})," Dashboard"]}),e.jsxs("button",{onClick:()=>{ye(),A(!1)},className:`text-sm flex items-center ${r==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Cerrar sesión",children:[e.jsx($e,{className:"mr-2"})," Cerrar Sesión"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(W,{to:"/login",className:`bg-blue-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-blue-700/95 text-sm border ${r==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,onClick:()=>A(!1),role:"menuitem","aria-label":"Iniciar sesión",children:[e.jsx(Je,{className:"mr-2"})," Ingresar"]}),e.jsxs(W,{to:"/register",className:`bg-green-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-green-700/95 text-sm border ${r==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,onClick:()=>A(!1),role:"menuitem","aria-label":"Registrarse",children:[e.jsx(Xe,{className:"mr-2"})," Registrarse"]})]})]})})})]}),e.jsx("aside",{ref:ca,className:`fixed inset-y-0 left-0 transform ${M?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${r==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r md:shadow-md h-screen flex flex-col`,children:e.jsxs("div",{className:"p-4 flex flex-col min-h-screen",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("button",{onClick:()=>{w("/"),v(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>v(!1),className:"md:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:e.jsx(O,{className:"text-lg"})})]}),s&&e.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${r==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:s.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${r==="dark"?"text-white":"text-gray-900"}`,children:s.name}),e.jsxs("p",{className:`text-xs ${r==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/. ",Y.toFixed(2)]})]})]}),e.jsx("nav",{className:"flex-1 space-y-2 overflow-y-auto",children:Me.map(a=>e.jsxs(W,{to:`/${a.id}`,onClick:()=>v(!1),className:`w-full flex items-center justify-between space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${a.id==="max"?"bg-blue-100 text-blue-600 border border-blue-300":r==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":a.id==="max"?"page":void 0,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(a.icon,{className:"text-lg"}),e.jsx("span",{children:a.label})]}),e.jsx("span",{className:"bg-blue-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:a.count})]},a.id))}),s&&e.jsx("div",{className:"mt-auto pt-6",children:e.jsxs("button",{onClick:()=>{ye(),v(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${r==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[e.jsx($e,{className:"text-lg"}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})}),e.jsx("main",{className:"md:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start overflow-y-auto",children:e.jsxs("div",{className:`bg-${r==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 lg:p-10 rounded-2xl shadow-md max-w-6xl mx-auto border ${r==="dark"?"border-gray-700/50":"border-gray-300"} w-full`,children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1489599091523-2c8c3f1e2e1e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(n.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Max"}),e.jsx(n.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${r==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de películas y series premium con nuestras cuentas de Max"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:`text-2xl sm:text-3xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,children:"Planes Disponibles"}),e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>te(!0),className:`text-sm sm:text-base ${r==="dark"?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Be.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${r==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 w-full",children:Be.map(a=>e.jsxs(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${r==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-blue-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-purple-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(n.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),fa(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${r==="dark"?"text-blue-400 bg-blue-500/20":"text-purple-600 bg-purple-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${r==="dark"?"text-gray-400":"text-gray-600"}`,children:[e.jsx(Aa,{className:"text-blue-500",size:13}),ya(a.duration)]})]}),e.jsx("h3",{className:`font-extrabold text-lg ${r==="dark"?"text-white":"text-gray-900"} mb-2 truncate leading-tight drop-shadow`,children:a.name}),e.jsxs("div",{className:"flex items-center gap-1 mb-1.5",children:[ma(Te[a.providerId]||1),e.jsx("span",{className:`ml-1 text-xs ${r==="dark"?"text-gray-400":"text-gray-600"}`,children:(Te[a.providerId]||1).toFixed(1)})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:`flex items-center text-xs ${r==="dark"?"text-gray-300":"text-gray-600"} gap-1`,children:[e.jsx(Ua,{className:"text-blue-500",size:13}),a.provider]}),e.jsxs("span",{className:`flex items-center text-xs ${r==="dark"?"text-gray-400":"text-gray-600"} gap-1`,children:[e.jsx(qa,{className:"text-blue-500",size:13}),a.status]})]}),e.jsx("div",{className:"flex items-center mb-2",children:a.renewal?e.jsxs("span",{className:"text-green-500 text-xs font-medium",children:["Renovación S/. ",he(a.renewalPrice)]}):e.jsx("span",{className:"text-yellow-500 text-xs font-medium",children:"Sin renovación"})}),e.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[e.jsx("div",{className:"flex items-end justify-between mb-2",children:e.jsxs("span",{className:`font-bold text-xl tracking-tight drop-shadow ${r==="dark"?"text-blue-400":"text-purple-600"}`,children:["S/. ",he(a.price)]})}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ga(a),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${r==="dark"?"bg-gray-800/60 hover:bg-blue-500/20":"bg-gray-200/60 hover:bg-purple-600/20"} text-gray-100 transition-all border border-blue-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[e.jsx(La,{className:"text-blue-500",size:14}),e.jsx("span",{children:"Detalles"})]}),e.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ha(a),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${r==="dark"?"bg-gray-800/60 hover:bg-blue-500/20":"bg-gray-200/60 hover:bg-purple-600/20"} text-gray-100 transition-all border border-blue-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[e.jsx(_e,{className:"text-blue-500",size:14}),e.jsx("span",{children:"Términos"})]})]}),e.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>pa(a),className:`w-full py-2 px-3 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 shadow-lg transition-all duration-200 ${Number(a.stock)>0||a.status==="A pedido"?"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white":"bg-gray-800/60 text-gray-400 cursor-not-allowed"}`,disabled:Number(a.stock)<=0&&a.status!=="A pedido",children:[e.jsx(Oa,{size:16}),a.status==="A pedido"?"Pedir Ahora":"Comprar"]})]})]})]},a.id))})]})]})}),e.jsx(F,{children:p&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>E(null),role:"dialog","aria-labelledby":"purchase-modal-title",children:e.jsxs(n.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${r==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[e.jsx("button",{onClick:()=>E(null),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar modal de compra",children:e.jsx(O,{size:20})}),e.jsx("h2",{id:"purchase-modal-title",className:`text-xl font-bold mb-4 ${r==="dark"?"text-white":"text-gray-900"}`,children:"Confirmar Compra"}),e.jsxs("p",{className:`mb-4 ${r==="dark"?"text-gray-300":"text-gray-700"}`,children:["Estás a punto de comprar: ",e.jsx("strong",{children:p.product.name})]}),e.jsxs("p",{className:`mb-4 ${r==="dark"?"text-gray-300":"text-gray-700"}`,children:["Precio: S/. ",he(p.product.price)]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"customerName",className:`block text-sm font-medium ${r==="dark"?"text-gray-300":"text-gray-700"} mb-1`,children:"Nombre"}),e.jsx("input",{id:"customerName",type:"text",value:p.customerName,onChange:a=>E({...p,customerName:a.target.value}),className:`w-full py-2 px-3 rounded-lg ${r==="dark"?"bg-gray-800/50 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50`,"aria-required":"true"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"phoneNumber",className:`block text-sm font-medium ${r==="dark"?"text-gray-300":"text-gray-700"} mb-1`,children:"Número de WhatsApp"}),e.jsx("input",{id:"phoneNumber",type:"tel",value:p.phoneNumber,onChange:a=>E({...p,phoneNumber:a.target.value}),className:`w-full py-2 px-3 rounded-lg ${r==="dark"?"bg-gray-800/50 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50`,placeholder:"9 dígitos",pattern:"\\d{9}","aria-required":"true"})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{id:"termsCheck",type:"checkbox",className:"h-4 w-4 text-blue-500 focus:ring-blue-500 border-gray-300 rounded","aria-required":"true"}),e.jsxs("span",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"}`,children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>{K(!0),P({name:p.product.name,terms:p.product.terms,provider:p.product.provider,accountType:p.product.accountType})},className:"underline text-blue-500 hover:text-blue-400",children:"términos y condiciones"})]})]})}),re&&e.jsx("p",{className:"text-red-400 text-sm mb-4",children:re}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>E(null),className:`flex-1 py-2 px-4 rounded-xl ${r==="dark"?"bg-gray-700/50 hover:bg-gray-600/50 text-gray-200 border-gray-600/30":"bg-gray-200 hover:bg-gray-300 text-gray-800 border-gray-300"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cancelar compra",children:"Cancelar"}),e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ba,disabled:ae,className:`flex-1 py-2 px-4 rounded-xl ${ae?"bg-gray-500/50 cursor-not-allowed text-gray-400":r==="dark"?"bg-green-600/90 hover:bg-green-700/95 text-white border-green-500/30":"bg-green-500/90 hover:bg-green-600/95 text-white border-green-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300 flex items-center justify-center gap-2`,"aria-label":"Confirmar compra",children:ae?e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"animate-spin",size:16}),"Procesando..."]}):"Confirmar"})]})]})})}),e.jsx(F,{children:D&&!Ie&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>P(null),role:"dialog","aria-labelledby":"detail-modal-title",children:e.jsxs(n.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${r==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[e.jsx("button",{onClick:()=>P(null),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar detalles",children:e.jsx(O,{size:20})}),e.jsxs("h2",{id:"detail-modal-title",className:`text-xl font-bold mb-4 ${r==="dark"?"text-white":"text-gray-900"}`,children:["Detalles de ",D.name]}),e.jsxs("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"}`,children:[e.jsx("strong",{children:"Tipo de Cuenta:"})," ",D.accountType]}),e.jsxs("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[e.jsx("strong",{children:"Proveedor:"})," ",D.provider]}),e.jsxs("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[e.jsx("strong",{children:"Detalles:"})," ",D.accountDetails]}),e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>P(null),className:`mt-6 w-full py-2 px-4 rounded-xl ${r==="dark"?"bg-blue-600/90 hover:bg-blue-700/95 text-white border-blue-500/30":"bg-blue-500/90 hover:bg-blue-600/95 text-white border-blue-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cerrar detalles",children:"Cerrar"})]})})}),e.jsx(F,{children:Ie&&D&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>{K(!1),P(null)},role:"dialog","aria-labelledby":"terms-modal-title",children:e.jsxs(n.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${r==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[e.jsx("button",{onClick:()=>{K(!1),P(null)},className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar términos",children:e.jsx(O,{size:20})}),e.jsx("h2",{id:"terms-modal-title",className:`text-xl font-bold mb-4 ${r==="dark"?"text-white":"text-gray-900"}`,children:"Términos y Condiciones"}),e.jsxs("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"}`,children:[e.jsx("strong",{children:"Producto:"})," ",D.name]}),e.jsxs("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[e.jsx("strong",{children:"Proveedor:"})," ",D.provider]}),e.jsxs("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[e.jsx("strong",{children:"Términos:"})," ",D.terms]}),e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{K(!1),P(null)},className:`mt-6 w-full py-2 px-4 rounded-xl ${r==="dark"?"bg-blue-600/90 hover:bg-blue-700/95 text-white border-blue-500/30":"bg-blue-500/90 hover:bg-blue-600/95 text-white border-blue-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cerrar términos",children:"Cerrar"})]})})}),e.jsx(F,{children:sa&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>te(!1),role:"dialog","aria-labelledby":"general-terms-modal-title",children:e.jsxs(n.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${r==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[e.jsx("button",{onClick:()=>te(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar términos generales",children:e.jsx(O,{size:20})}),e.jsx("h2",{id:"general-terms-modal-title",className:`text-xl font-bold mb-4 ${r==="dark"?"text-white":"text-gray-900"}`,children:"Términos Generales"}),e.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"}`,children:"Al adquirir cualquier producto en BlackStreaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"} mt-2 list-disc pl-5`,children:[e.jsx("li",{children:"Los productos son proporcionados por terceros y BlackStreaming actúa como intermediario."}),e.jsx("li",{children:"El tiempo de entrega puede variar según el proveedor y el tipo de producto."}),e.jsx("li",{children:"Las cuentas compartidas deben usarse según las instrucciones del proveedor."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregada la cuenta, salvo en casos de incumplimiento del proveedor."}),e.jsx("li",{children:"BlackStreaming no se responsabiliza por cambios en las políticas de las plataformas de streaming."})]}),e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>te(!1),className:`mt-6 w-full py-2 px-4 rounded-xl ${r==="dark"?"bg-blue-600/90 hover:bg-blue-700/95 text-white border-blue-500/30":"bg-blue-500/90 hover:bg-blue-600/95 text-white border-blue-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cerrar términos generales",children:"Cerrar"})]})})}),e.jsx(aa,{isOpen:!!se,message:se?.message||"",onClose:()=>{se?.onClose&&se.onClose(),R(null)},theme:r}),e.jsx(ra,{show:na,onClose:()=>ge(!1),notifications:oe,theme:r}),e.jsx(F,{children:la&&e.jsx(n.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:ua,className:`fixed bottom-6 right-6 p-3 rounded-full ${r==="dark"?"bg-blue-600/90":"bg-blue-500/90"} text-white shadow-lg hover:bg-blue-700/95 transition-all duration-300 z-40 backdrop-blur-md`,"aria-label":"Volver arriba",children:e.jsx(Ha,{size:20})})}),e.jsx("footer",{className:`mt-12 py-8 ${r==="dark"?"bg-gray-900/50":"bg-gray-100"} backdrop-blur-md border-t ${r==="dark"?"border-gray-700/50":"border-gray-300"} md:ml-64`,children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-semibold ${r==="dark"?"text-white":"text-gray-900"} mb-4`,children:"BlackStreaming"}),e.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"}`,children:"Tu plataforma confiable para cuentas premium de streaming a precios accesibles."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-semibold ${r==="dark"?"text-white":"text-gray-900"} mb-4`,children:"Síguenos"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:`${r==="dark"?"text-gray-300 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-colors duration-200`,"aria-label":"Twitter",children:e.jsx(Va,{size:24})}),e.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:`${r==="dark"?"text-gray-300 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-colors duration-200`,"aria-label":"Instagram",children:e.jsx(Ga,{size:24})}),e.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:`${r==="dark"?"text-gray-300 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-colors duration-200`,"aria-label":"Facebook",children:e.jsx(_a,{size:24})})]})]})]}),e.jsx("div",{className:`mt-8 pt-6 border-t ${r==="dark"?"border-gray-700/50":"border-gray-300"} text-center`,children:e.jsxs("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Desarrollado por Saiph."]})})]})})]})};ta.propTypes={};const Ja=()=>e.jsx(Wa,{children:e.jsx(ta,{})});export{Ja as default};
