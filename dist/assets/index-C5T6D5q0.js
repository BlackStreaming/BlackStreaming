(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const XC="modulepreload",YC=function(t){return"/"+t},Ew={},sr=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let d=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=o?.nonce||o?.getAttribute("nonce");s=d(r.map(h=>{if(h=YC(h),h in Ew)return;Ew[h]=!0;const p=h.endsWith(".css"),x=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${x}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":XC,p||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((v,T)=>{y.addEventListener("load",v),y.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return s.then(o=>{for(const u of o||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};function Gy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tx={exports:{}},pd={},rx={exports:{}},Bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function QC(){if(Tw)return Bt;Tw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function y(te){return te===null||typeof te!="object"?null:(te=x&&te[x]||te["@@iterator"],typeof te=="function"?te:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,w={};function _(te,R,X){this.props=te,this.context=R,this.refs=w,this.updater=X||v}_.prototype.isReactComponent={},_.prototype.setState=function(te,R){if(typeof te!="object"&&typeof te!="function"&&te!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,te,R,"setState")},_.prototype.forceUpdate=function(te){this.updater.enqueueForceUpdate(this,te,"forceUpdate")};function C(){}C.prototype=_.prototype;function j(te,R,X){this.props=te,this.context=R,this.refs=w,this.updater=X||v}var O=j.prototype=new C;O.constructor=j,T(O,_.prototype),O.isPureReactComponent=!0;var M=Array.isArray,Y=Object.prototype.hasOwnProperty,ne={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function S(te,R,X){var Q,J={},re=null,Ae=null;if(R!=null)for(Q in R.ref!==void 0&&(Ae=R.ref),R.key!==void 0&&(re=""+R.key),R)Y.call(R,Q)&&!A.hasOwnProperty(Q)&&(J[Q]=R[Q]);var Re=arguments.length-2;if(Re===1)J.children=X;else if(1<Re){for(var Se=Array(Re),pe=0;pe<Re;pe++)Se[pe]=arguments[pe+2];J.children=Se}if(te&&te.defaultProps)for(Q in Re=te.defaultProps,Re)J[Q]===void 0&&(J[Q]=Re[Q]);return{$$typeof:t,type:te,key:re,ref:Ae,props:J,_owner:ne.current}}function I(te,R){return{$$typeof:t,type:te.type,key:R,ref:te.ref,props:te.props,_owner:te._owner}}function V(te){return typeof te=="object"&&te!==null&&te.$$typeof===t}function B(te){var R={"=":"=0",":":"=2"};return"$"+te.replace(/[=:]/g,function(X){return R[X]})}var H=/\/+/g;function D(te,R){return typeof te=="object"&&te!==null&&te.key!=null?B(""+te.key):R.toString(36)}function ae(te,R,X,Q,J){var re=typeof te;(re==="undefined"||re==="boolean")&&(te=null);var Ae=!1;if(te===null)Ae=!0;else switch(re){case"string":case"number":Ae=!0;break;case"object":switch(te.$$typeof){case t:case e:Ae=!0}}if(Ae)return Ae=te,J=J(Ae),te=Q===""?"."+D(Ae,0):Q,M(J)?(X="",te!=null&&(X=te.replace(H,"$&/")+"/"),ae(J,R,X,"",function(pe){return pe})):J!=null&&(V(J)&&(J=I(J,X+(!J.key||Ae&&Ae.key===J.key?"":(""+J.key).replace(H,"$&/")+"/")+te)),R.push(J)),1;if(Ae=0,Q=Q===""?".":Q+":",M(te))for(var Re=0;Re<te.length;Re++){re=te[Re];var Se=Q+D(re,Re);Ae+=ae(re,R,X,Se,J)}else if(Se=y(te),typeof Se=="function")for(te=Se.call(te),Re=0;!(re=te.next()).done;)re=re.value,Se=Q+D(re,Re++),Ae+=ae(re,R,X,Se,J);else if(re==="object")throw R=String(te),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(te).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return Ae}function Ce(te,R,X){if(te==null)return te;var Q=[],J=0;return ae(te,Q,"","",function(re){return R.call(X,re,J++)}),Q}function Ge(te){if(te._status===-1){var R=te._result;R=R(),R.then(function(X){(te._status===0||te._status===-1)&&(te._status=1,te._result=X)},function(X){(te._status===0||te._status===-1)&&(te._status=2,te._result=X)}),te._status===-1&&(te._status=0,te._result=R)}if(te._status===1)return te._result.default;throw te._result}var ke={current:null},ce={transition:null},ye={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:ce,ReactCurrentOwner:ne};function be(){throw Error("act(...) is not supported in production builds of React.")}return Bt.Children={map:Ce,forEach:function(te,R,X){Ce(te,function(){R.apply(this,arguments)},X)},count:function(te){var R=0;return Ce(te,function(){R++}),R},toArray:function(te){return Ce(te,function(R){return R})||[]},only:function(te){if(!V(te))throw Error("React.Children.only expected to receive a single React element child.");return te}},Bt.Component=_,Bt.Fragment=r,Bt.Profiler=s,Bt.PureComponent=j,Bt.StrictMode=n,Bt.Suspense=d,Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Bt.act=be,Bt.cloneElement=function(te,R,X){if(te==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+te+".");var Q=T({},te.props),J=te.key,re=te.ref,Ae=te._owner;if(R!=null){if(R.ref!==void 0&&(re=R.ref,Ae=ne.current),R.key!==void 0&&(J=""+R.key),te.type&&te.type.defaultProps)var Re=te.type.defaultProps;for(Se in R)Y.call(R,Se)&&!A.hasOwnProperty(Se)&&(Q[Se]=R[Se]===void 0&&Re!==void 0?Re[Se]:R[Se])}var Se=arguments.length-2;if(Se===1)Q.children=X;else if(1<Se){Re=Array(Se);for(var pe=0;pe<Se;pe++)Re[pe]=arguments[pe+2];Q.children=Re}return{$$typeof:t,type:te.type,key:J,ref:re,props:Q,_owner:Ae}},Bt.createContext=function(te){return te={$$typeof:o,_currentValue:te,_currentValue2:te,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},te.Provider={$$typeof:i,_context:te},te.Consumer=te},Bt.createElement=S,Bt.createFactory=function(te){var R=S.bind(null,te);return R.type=te,R},Bt.createRef=function(){return{current:null}},Bt.forwardRef=function(te){return{$$typeof:u,render:te}},Bt.isValidElement=V,Bt.lazy=function(te){return{$$typeof:p,_payload:{_status:-1,_result:te},_init:Ge}},Bt.memo=function(te,R){return{$$typeof:h,type:te,compare:R===void 0?null:R}},Bt.startTransition=function(te){var R=ce.transition;ce.transition={};try{te()}finally{ce.transition=R}},Bt.unstable_act=be,Bt.useCallback=function(te,R){return ke.current.useCallback(te,R)},Bt.useContext=function(te){return ke.current.useContext(te)},Bt.useDebugValue=function(){},Bt.useDeferredValue=function(te){return ke.current.useDeferredValue(te)},Bt.useEffect=function(te,R){return ke.current.useEffect(te,R)},Bt.useId=function(){return ke.current.useId()},Bt.useImperativeHandle=function(te,R,X){return ke.current.useImperativeHandle(te,R,X)},Bt.useInsertionEffect=function(te,R){return ke.current.useInsertionEffect(te,R)},Bt.useLayoutEffect=function(te,R){return ke.current.useLayoutEffect(te,R)},Bt.useMemo=function(te,R){return ke.current.useMemo(te,R)},Bt.useReducer=function(te,R,X){return ke.current.useReducer(te,R,X)},Bt.useRef=function(te){return ke.current.useRef(te)},Bt.useState=function(te){return ke.current.useState(te)},Bt.useSyncExternalStore=function(te,R,X){return ke.current.useSyncExternalStore(te,R,X)},Bt.useTransition=function(){return ke.current.useTransition()},Bt.version="18.3.1",Bt}var Nw;function Ky(){return Nw||(Nw=1,rx.exports=QC()),rx.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kw;function JC(){if(kw)return pd;kw=1;var t=Ky(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(u,d,h){var p,x={},y=null,v=null;h!==void 0&&(y=""+h),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)n.call(d,p)&&!i.hasOwnProperty(p)&&(x[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)x[p]===void 0&&(x[p]=d[p]);return{$$typeof:e,type:u,key:y,ref:v,props:x,_owner:s.current}}return pd.Fragment=r,pd.jsx=o,pd.jsxs=o,pd}var Sw;function ZC(){return Sw||(Sw=1,tx.exports=JC()),tx.exports}var l=ZC(),k=Ky();const ki=Gy(k);var rf={},nx={exports:{}},gs={},sx={exports:{}},ix={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function eI(){return Aw||(Aw=1,(function(t){function e(ce,ye){var be=ce.length;ce.push(ye);e:for(;0<be;){var te=be-1>>>1,R=ce[te];if(0<s(R,ye))ce[te]=ye,ce[be]=R,be=te;else break e}}function r(ce){return ce.length===0?null:ce[0]}function n(ce){if(ce.length===0)return null;var ye=ce[0],be=ce.pop();if(be!==ye){ce[0]=be;e:for(var te=0,R=ce.length,X=R>>>1;te<X;){var Q=2*(te+1)-1,J=ce[Q],re=Q+1,Ae=ce[re];if(0>s(J,be))re<R&&0>s(Ae,J)?(ce[te]=Ae,ce[re]=be,te=re):(ce[te]=J,ce[Q]=be,te=Q);else if(re<R&&0>s(Ae,be))ce[te]=Ae,ce[re]=be,te=re;else break e}}return ye}function s(ce,ye){var be=ce.sortIndex-ye.sortIndex;return be!==0?be:ce.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var d=[],h=[],p=1,x=null,y=3,v=!1,T=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(ce){for(var ye=r(h);ye!==null;){if(ye.callback===null)n(h);else if(ye.startTime<=ce)n(h),ye.sortIndex=ye.expirationTime,e(d,ye);else break;ye=r(h)}}function M(ce){if(w=!1,O(ce),!T)if(r(d)!==null)T=!0,Ge(Y);else{var ye=r(h);ye!==null&&ke(M,ye.startTime-ce)}}function Y(ce,ye){T=!1,w&&(w=!1,C(S),S=-1),v=!0;var be=y;try{for(O(ye),x=r(d);x!==null&&(!(x.expirationTime>ye)||ce&&!B());){var te=x.callback;if(typeof te=="function"){x.callback=null,y=x.priorityLevel;var R=te(x.expirationTime<=ye);ye=t.unstable_now(),typeof R=="function"?x.callback=R:x===r(d)&&n(d),O(ye)}else n(d);x=r(d)}if(x!==null)var X=!0;else{var Q=r(h);Q!==null&&ke(M,Q.startTime-ye),X=!1}return X}finally{x=null,y=be,v=!1}}var ne=!1,A=null,S=-1,I=5,V=-1;function B(){return!(t.unstable_now()-V<I)}function H(){if(A!==null){var ce=t.unstable_now();V=ce;var ye=!0;try{ye=A(!0,ce)}finally{ye?D():(ne=!1,A=null)}}else ne=!1}var D;if(typeof j=="function")D=function(){j(H)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Ce=ae.port2;ae.port1.onmessage=H,D=function(){Ce.postMessage(null)}}else D=function(){_(H,0)};function Ge(ce){A=ce,ne||(ne=!0,D())}function ke(ce,ye){S=_(function(){ce(t.unstable_now())},ye)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ce){ce.callback=null},t.unstable_continueExecution=function(){T||v||(T=!0,Ge(Y))},t.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ce?Math.floor(1e3/ce):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(ce){switch(y){case 1:case 2:case 3:var ye=3;break;default:ye=y}var be=y;y=ye;try{return ce()}finally{y=be}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ce,ye){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var be=y;y=ce;try{return ye()}finally{y=be}},t.unstable_scheduleCallback=function(ce,ye,be){var te=t.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?te+be:te):be=te,ce){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=be+R,ce={id:p++,callback:ye,priorityLevel:ce,startTime:be,expirationTime:R,sortIndex:-1},be>te?(ce.sortIndex=be,e(h,ce),r(d)===null&&ce===r(h)&&(w?(C(S),S=-1):w=!0,ke(M,be-te))):(ce.sortIndex=R,e(d,ce),T||v||(T=!0,Ge(Y))),ce},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(ce){var ye=y;return function(){var be=y;y=ye;try{return ce.apply(this,arguments)}finally{y=be}}}})(ix)),ix}var Cw;function tI(){return Cw||(Cw=1,sx.exports=eI()),sx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw;function rI(){if(Iw)return gs;Iw=1;var t=Ky(),e=tI();function r(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function i(a,c){o(a,c),o(a+"Capture",c)}function o(a,c){for(s[a]=c,a=0;a<c.length;a++)n.add(c[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},x={};function y(a){return d.call(x,a)?!0:d.call(p,a)?!1:h.test(a)?x[a]=!0:(p[a]=!0,!1)}function v(a,c,f,g){if(f!==null&&f.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function T(a,c,f,g){if(c===null||typeof c>"u"||v(a,c,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function w(a,c,f,g,b,N,F){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=g,this.attributeNamespace=b,this.mustUseProperty=f,this.propertyName=a,this.type=c,this.sanitizeURL=N,this.removeEmptyString=F}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){_[a]=new w(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];_[c]=new w(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){_[a]=new w(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){_[a]=new w(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){_[a]=new w(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){_[a]=new w(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){_[a]=new w(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){_[a]=new w(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){_[a]=new w(a,5,!1,a.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function j(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(C,j);_[c]=new w(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(C,j);_[c]=new w(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(C,j);_[c]=new w(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){_[a]=new w(a,1,!1,a.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){_[a]=new w(a,1,!1,a.toLowerCase(),null,!0,!0)});function O(a,c,f,g){var b=_.hasOwnProperty(c)?_[c]:null;(b!==null?b.type!==0:g||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(T(c,f,b,g)&&(f=null),g||b===null?y(c)&&(f===null?a.removeAttribute(c):a.setAttribute(c,""+f)):b.mustUseProperty?a[b.propertyName]=f===null?b.type===3?!1:"":f:(c=b.attributeName,g=b.attributeNamespace,f===null?a.removeAttribute(c):(b=b.type,f=b===3||b===4&&f===!0?"":""+f,g?a.setAttributeNS(g,c,f):a.setAttribute(c,f))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),ne=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),B=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),Ge=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),ce=Symbol.iterator;function ye(a){return a===null||typeof a!="object"?null:(a=ce&&a[ce]||a["@@iterator"],typeof a=="function"?a:null)}var be=Object.assign,te;function R(a){if(te===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);te=c&&c[1]||""}return`
`+te+a}var X=!1;function Q(a,c){if(!a||X)return"";X=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ve){var g=ve}Reflect.construct(a,[],c)}else{try{c.call()}catch(ve){g=ve}a.call(c.prototype)}else{try{throw Error()}catch(ve){g=ve}a()}}catch(ve){if(ve&&g&&typeof ve.stack=="string"){for(var b=ve.stack.split(`
`),N=g.stack.split(`
`),F=b.length-1,Z=N.length-1;1<=F&&0<=Z&&b[F]!==N[Z];)Z--;for(;1<=F&&0<=Z;F--,Z--)if(b[F]!==N[Z]){if(F!==1||Z!==1)do if(F--,Z--,0>Z||b[F]!==N[Z]){var se=`
`+b[F].replace(" at new "," at ");return a.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",a.displayName)),se}while(1<=F&&0<=Z);break}}}finally{X=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?R(a):""}function J(a){switch(a.tag){case 5:return R(a.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return a=Q(a.type,!1),a;case 11:return a=Q(a.type.render,!1),a;case 1:return a=Q(a.type,!0),a;default:return""}}function re(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case ne:return"Portal";case I:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case ae:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case B:return(a.displayName||"Context")+".Consumer";case V:return(a._context.displayName||"Context")+".Provider";case H:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Ce:return c=a.displayName||null,c!==null?c:re(a.type)||"Memo";case Ge:c=a._payload,a=a._init;try{return re(a(c))}catch{}}return null}function Ae(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return re(c);case 8:return c===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Re(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Se(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function pe(a){var c=Se(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),g=""+a[c];if(!a.hasOwnProperty(c)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,N=f.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return b.call(this)},set:function(F){g=""+F,N.call(this,F)}}),Object.defineProperty(a,c,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(F){g=""+F},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Qe(a){a._valueTracker||(a._valueTracker=pe(a))}function yt(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var f=c.getValue(),g="";return a&&(g=Se(a)?a.checked?"true":"false":a.value),a=g,a!==f?(c.setValue(a),!0):!1}function Gt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Et(a,c){var f=c.checked;return be({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??a._wrapperState.initialChecked})}function dr(a,c){var f=c.defaultValue==null?"":c.defaultValue,g=c.checked!=null?c.checked:c.defaultChecked;f=Re(c.value!=null?c.value:f),a._wrapperState={initialChecked:g,initialValue:f,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function kt(a,c){c=c.checked,c!=null&&O(a,"checked",c,!1)}function Ue(a,c){kt(a,c);var f=Re(c.value),g=c.type;if(f!=null)g==="number"?(f===0&&a.value===""||a.value!=f)&&(a.value=""+f):a.value!==""+f&&(a.value=""+f);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?Ot(a,c.type,f):c.hasOwnProperty("defaultValue")&&Ot(a,c.type,Re(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function nr(a,c,f){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var g=c.type;if(!(g!=="submit"&&g!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,f||c===a.value||(a.value=c),a.defaultValue=c}f=a.name,f!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,f!==""&&(a.name=f)}function Ot(a,c,f){(c!=="number"||Gt(a.ownerDocument)!==a)&&(f==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+f&&(a.defaultValue=""+f))}var vr=Array.isArray;function le(a,c,f,g){if(a=a.options,c){c={};for(var b=0;b<f.length;b++)c["$"+f[b]]=!0;for(f=0;f<a.length;f++)b=c.hasOwnProperty("$"+a[f].value),a[f].selected!==b&&(a[f].selected=b),b&&g&&(a[f].defaultSelected=!0)}else{for(f=""+Re(f),c=null,b=0;b<a.length;b++){if(a[b].value===f){a[b].selected=!0,g&&(a[b].defaultSelected=!0);return}c!==null||a[b].disabled||(c=a[b])}c!==null&&(c.selected=!0)}}function Me(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(r(91));return be({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function ht(a,c){var f=c.value;if(f==null){if(f=c.children,c=c.defaultValue,f!=null){if(c!=null)throw Error(r(92));if(vr(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),f=c}a._wrapperState={initialValue:Re(f)}}function it(a,c){var f=Re(c.value),g=Re(c.defaultValue);f!=null&&(f=""+f,f!==a.value&&(a.value=f),c.defaultValue==null&&a.defaultValue!==f&&(a.defaultValue=f)),g!=null&&(a.defaultValue=""+g)}function Te(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function Ie(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xe(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?Ie(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var ze,Rt=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,f,g,b){MSApp.execUnsafeLocalFunction(function(){return a(c,f,g,b)})}:a})(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(ze=ze||document.createElement("div"),ze.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=ze.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function Oe(a,c){if(c){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=c;return}}a.textContent=c}var He={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mt=["Webkit","ms","Moz","O"];Object.keys(He).forEach(function(a){mt.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),He[c]=He[a]})});function pt(a,c,f){return c==null||typeof c=="boolean"||c===""?"":f||typeof c!="number"||c===0||He.hasOwnProperty(a)&&He[a]?(""+c).trim():c+"px"}function hr(a,c){a=a.style;for(var f in c)if(c.hasOwnProperty(f)){var g=f.indexOf("--")===0,b=pt(f,c[f],g);f==="float"&&(f="cssFloat"),g?a.setProperty(f,b):a[f]=b}}var Ht=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Er(a,c){if(c){if(Ht[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(r(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(r(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(r(61))}if(c.style!=null&&typeof c.style!="object")throw Error(r(62))}}function qr(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $r=null;function Zr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var St=null,Wt=null,$t=null;function Br(a){if(a=Zu(a)){if(typeof St!="function")throw Error(r(280));var c=a.stateNode;c&&(c=xh(c),St(a.stateNode,a.type,c))}}function Pr(a){Wt?$t?$t.push(a):$t=[a]:Wt=a}function Qn(){if(Wt){var a=Wt,c=$t;if($t=Wt=null,Br(a),c)for(a=0;a<c.length;a++)Br(c[a])}}function Jn(a,c){return a(c)}function ai(){}var we=!1;function Be(a,c,f){if(we)return a(c,f);we=!0;try{return Jn(a,c,f)}finally{we=!1,(Wt!==null||$t!==null)&&(ai(),Qn())}}function at(a,c){var f=a.stateNode;if(f===null)return null;var g=xh(f);if(g===null)return null;f=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(r(231,c,typeof f));return f}var ut=!1;if(u)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){ut=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch{ut=!1}function Rr(a,c,f,g,b,N,F,Z,se){var ve=Array.prototype.slice.call(arguments,3);try{c.apply(f,ve)}catch(Ve){this.onError(Ve)}}var pr=!1,jt=null,L=!1,q=null,z={onError:function(a){pr=!0,jt=a}};function W(a,c,f,g,b,N,F,Z,se){pr=!1,jt=null,Rr.apply(z,arguments)}function G(a,c,f,g,b,N,F,Z,se){if(W.apply(this,arguments),pr){if(pr){var ve=jt;pr=!1,jt=null}else throw Error(r(198));L||(L=!0,q=ve)}}function K(a){var c=a,f=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(f=c.return),a=c.return;while(a)}return c.tag===3?f:null}function ue(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function _e(a){if(K(a)!==a)throw Error(r(188))}function fe(a){var c=a.alternate;if(!c){if(c=K(a),c===null)throw Error(r(188));return c!==a?null:a}for(var f=a,g=c;;){var b=f.return;if(b===null)break;var N=b.alternate;if(N===null){if(g=b.return,g!==null){f=g;continue}break}if(b.child===N.child){for(N=b.child;N;){if(N===f)return _e(b),a;if(N===g)return _e(b),c;N=N.sibling}throw Error(r(188))}if(f.return!==g.return)f=b,g=N;else{for(var F=!1,Z=b.child;Z;){if(Z===f){F=!0,f=b,g=N;break}if(Z===g){F=!0,g=b,f=N;break}Z=Z.sibling}if(!F){for(Z=N.child;Z;){if(Z===f){F=!0,f=N,g=b;break}if(Z===g){F=!0,g=N,f=b;break}Z=Z.sibling}if(!F)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?a:c}function me(a){return a=fe(a),a!==null?xe(a):null}function xe(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=xe(a);if(c!==null)return c;a=a.sibling}return null}var Fe=e.unstable_scheduleCallback,Ze=e.unstable_cancelCallback,nt=e.unstable_shouldYield,Ke=e.unstable_requestPaint,$e=e.unstable_now,At=e.unstable_getCurrentPriorityLevel,tr=e.unstable_ImmediatePriority,Jt=e.unstable_UserBlockingPriority,ir=e.unstable_NormalPriority,oi=e.unstable_LowPriority,Oi=e.unstable_IdlePriority,Ns=null,Gr=null;function qa(a){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(Ns,a,void 0,(a.current.flags&128)===128)}catch{}}var Tr=Math.clz32?Math.clz32:X0,Lu=Math.log,K0=Math.LN2;function X0(a){return a>>>=0,a===0?32:31-(Lu(a)/K0|0)|0}var rc=64,nc=4194304;function Ga(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Qo(a,c){var f=a.pendingLanes;if(f===0)return 0;var g=0,b=a.suspendedLanes,N=a.pingedLanes,F=f&268435455;if(F!==0){var Z=F&~b;Z!==0?g=Ga(Z):(N&=F,N!==0&&(g=Ga(N)))}else F=f&~b,F!==0?g=Ga(F):N!==0&&(g=Ga(N));if(g===0)return 0;if(c!==0&&c!==g&&(c&b)===0&&(b=g&-g,N=c&-c,b>=N||b===16&&(N&4194240)!==0))return c;if((g&4)!==0&&(g|=f&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=g;0<c;)f=31-Tr(c),b=1<<f,g|=a[f],c&=~b;return g}function Pm(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function la(a,c){for(var f=a.suspendedLanes,g=a.pingedLanes,b=a.expirationTimes,N=a.pendingLanes;0<N;){var F=31-Tr(N),Z=1<<F,se=b[F];se===-1?((Z&f)===0||(Z&g)!==0)&&(b[F]=Pm(Z,c)):se<=c&&(a.expiredLanes|=Z),N&=~Z}}function ks(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Jo(){var a=rc;return rc<<=1,(rc&4194240)===0&&(rc=64),a}function Ka(a){for(var c=[],f=0;31>f;f++)c.push(a);return c}function Xa(a,c,f){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-Tr(c),a[c]=f}function mr(a,c){var f=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<f;){var b=31-Tr(f),N=1<<b;c[b]=0,g[b]=-1,a[b]=-1,f&=~N}}function Ya(a,c){var f=a.entangledLanes|=c;for(a=a.entanglements;f;){var g=31-Tr(f),b=1<<g;b&c|a[g]&c&&(a[g]|=c),f&=~b}}var qt=0;function Qa(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Y0,sc,Q0,J0,Z0,Mu=!1,Fi=[],En=null,li=null,ci=null,Ja=new Map,zs=new Map,Li=[],Rm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eh(a,c){switch(a){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":Ja.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(c.pointerId)}}function cs(a,c,f,g,b,N){return a===null||a.nativeEvent!==N?(a={blockedOn:c,domEventName:f,eventSystemFlags:g,nativeEvent:N,targetContainers:[b]},c!==null&&(c=Zu(c),c!==null&&sc(c)),a):(a.eventSystemFlags|=g,c=a.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),a)}function jm(a,c,f,g,b){switch(c){case"focusin":return En=cs(En,a,c,f,g,b),!0;case"dragenter":return li=cs(li,a,c,f,g,b),!0;case"mouseover":return ci=cs(ci,a,c,f,g,b),!0;case"pointerover":var N=b.pointerId;return Ja.set(N,cs(Ja.get(N)||null,a,c,f,g,b)),!0;case"gotpointercapture":return N=b.pointerId,zs.set(N,cs(zs.get(N)||null,a,c,f,g,b)),!0}return!1}function th(a){var c=nl(a.target);if(c!==null){var f=K(c);if(f!==null){if(c=f.tag,c===13){if(c=ue(f),c!==null){a.blockedOn=c,Z0(a.priority,function(){Q0(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ca(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var f=ic(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(f===null){f=a.nativeEvent;var g=new f.constructor(f.type,f);$r=g,f.target.dispatchEvent(g),$r=null}else return c=Zu(f),c!==null&&sc(c),a.blockedOn=f,!1;c.shift()}return!0}function Zo(a,c,f){ca(a)&&f.delete(c)}function rh(){Mu=!1,En!==null&&ca(En)&&(En=null),li!==null&&ca(li)&&(li=null),ci!==null&&ca(ci)&&(ci=null),Ja.forEach(Zo),zs.forEach(Zo)}function ui(a,c){a.blockedOn===c&&(a.blockedOn=null,Mu||(Mu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rh)))}function di(a){function c(b){return ui(b,a)}if(0<Fi.length){ui(Fi[0],a);for(var f=1;f<Fi.length;f++){var g=Fi[f];g.blockedOn===a&&(g.blockedOn=null)}}for(En!==null&&ui(En,a),li!==null&&ui(li,a),ci!==null&&ui(ci,a),Ja.forEach(c),zs.forEach(c),f=0;f<Li.length;f++)g=Li[f],g.blockedOn===a&&(g.blockedOn=null);for(;0<Li.length&&(f=Li[0],f.blockedOn===null);)th(f),f.blockedOn===null&&Li.shift()}var ua=M.ReactCurrentBatchConfig,Za=!0;function Ar(a,c,f,g){var b=qt,N=ua.transition;ua.transition=null;try{qt=1,Vu(a,c,f,g)}finally{qt=b,ua.transition=N}}function Dm(a,c,f,g){var b=qt,N=ua.transition;ua.transition=null;try{qt=4,Vu(a,c,f,g)}finally{qt=b,ua.transition=N}}function Vu(a,c,f,g){if(Za){var b=ic(a,c,f,g);if(b===null)Wm(a,c,g,el,f),eh(a,g);else if(jm(b,a,c,f,g))g.stopPropagation();else if(eh(a,g),c&4&&-1<Rm.indexOf(a)){for(;b!==null;){var N=Zu(b);if(N!==null&&Y0(N),N=ic(a,c,f,g),N===null&&Wm(a,c,g,el,f),N===b)break;b=N}b!==null&&g.stopPropagation()}else Wm(a,c,g,null,f)}}var el=null;function ic(a,c,f,g){if(el=null,a=Zr(g),a=nl(a),a!==null)if(c=K(a),c===null)a=null;else if(f=c.tag,f===13){if(a=ue(c),a!==null)return a;a=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return el=a,null}function $u(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(At()){case tr:return 1;case Jt:return 4;case ir:case oi:return 16;case Oi:return 536870912;default:return 16}default:return 16}}var Ss=null,ac=null,us=null;function Bu(){if(us)return us;var a,c=ac,f=c.length,g,b="value"in Ss?Ss.value:Ss.textContent,N=b.length;for(a=0;a<f&&c[a]===b[a];a++);var F=f-a;for(g=1;g<=F&&c[f-g]===b[N-g];g++);return us=b.slice(a,1<g?1-g:void 0)}function oc(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Mi(){return!0}function Uu(){return!1}function Tn(a){function c(f,g,b,N,F){this._reactName=f,this._targetInst=b,this.type=g,this.nativeEvent=N,this.target=F,this.currentTarget=null;for(var Z in a)a.hasOwnProperty(Z)&&(f=a[Z],this[Z]=f?f(N):N[Z]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Mi:Uu,this.isPropagationStopped=Uu,this}return be(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),c}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lc=Tn(hi),Vi=be({},hi,{view:0,detail:0}),Om=Tn(Vi),cc,da,eo,tl=be({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$i,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==eo&&(eo&&a.type==="mousemove"?(cc=a.screenX-eo.screenX,da=a.screenY-eo.screenY):da=cc=0,eo=a),cc)},movementY:function(a){return"movementY"in a?a.movementY:da}}),uc=Tn(tl),zu=be({},tl,{dataTransfer:0}),nh=Tn(zu),dc=be({},Vi,{relatedTarget:0}),hc=Tn(dc),sh=be({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),ha=Tn(sh),ih=be({},hi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ah=Tn(ih),oh=be({},hi,{data:0}),Hu=Tn(oh),fc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ch(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=lh[a])?!!c[a]:!1}function $i(){return ch}var m=be({},Vi,{key:function(a){if(a.key){var c=fc[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=oc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Zn[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$i,charCode:function(a){return a.type==="keypress"?oc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?oc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),E=Tn(m),P=be({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=Tn(P),de=be({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$i}),Ee=Tn(de),rt=be({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ar=Tn(rt),ln=be({},tl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Kt=Tn(ln),fn=[9,13,27,32],en=u&&"CompositionEvent"in window,Hs=null;u&&"documentMode"in document&&(Hs=document.documentMode);var As=u&&"TextEvent"in window&&!Hs,rl=u&&(!en||Hs&&8<Hs&&11>=Hs),pc=" ",x2=!1;function y2(a,c){switch(a){case"keyup":return fn.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v2(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var mc=!1;function q6(a,c){switch(a){case"compositionend":return v2(c);case"keypress":return c.which!==32?null:(x2=!0,pc);case"textInput":return a=c.data,a===pc&&x2?null:a;default:return null}}function G6(a,c){if(mc)return a==="compositionend"||!en&&y2(a,c)?(a=Bu(),us=ac=Ss=null,mc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return rl&&c.locale!=="ko"?null:c.data;default:return null}}var K6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b2(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!K6[a.type]:c==="textarea"}function w2(a,c,f,g){Pr(g),c=ph(c,"onChange"),0<c.length&&(f=new lc("onChange","change",null,f,g),a.push({event:f,listeners:c}))}var Wu=null,qu=null;function X6(a){V2(a,0)}function uh(a){var c=bc(a);if(yt(c))return a}function Y6(a,c){if(a==="change")return c}var _2=!1;if(u){var Fm;if(u){var Lm="oninput"in document;if(!Lm){var E2=document.createElement("div");E2.setAttribute("oninput","return;"),Lm=typeof E2.oninput=="function"}Fm=Lm}else Fm=!1;_2=Fm&&(!document.documentMode||9<document.documentMode)}function T2(){Wu&&(Wu.detachEvent("onpropertychange",N2),qu=Wu=null)}function N2(a){if(a.propertyName==="value"&&uh(qu)){var c=[];w2(c,qu,a,Zr(a)),Be(X6,c)}}function Q6(a,c,f){a==="focusin"?(T2(),Wu=c,qu=f,Wu.attachEvent("onpropertychange",N2)):a==="focusout"&&T2()}function J6(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return uh(qu)}function Z6(a,c){if(a==="click")return uh(c)}function eC(a,c){if(a==="input"||a==="change")return uh(c)}function tC(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var fi=typeof Object.is=="function"?Object.is:tC;function Gu(a,c){if(fi(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var f=Object.keys(a),g=Object.keys(c);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var b=f[g];if(!d.call(c,b)||!fi(a[b],c[b]))return!1}return!0}function k2(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function S2(a,c){var f=k2(a);a=0;for(var g;f;){if(f.nodeType===3){if(g=a+f.textContent.length,a<=c&&g>=c)return{node:f,offset:c-a};a=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=k2(f)}}function A2(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?A2(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function C2(){for(var a=window,c=Gt();c instanceof a.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)a=c.contentWindow;else break;c=Gt(a.document)}return c}function Mm(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function rC(a){var c=C2(),f=a.focusedElem,g=a.selectionRange;if(c!==f&&f&&f.ownerDocument&&A2(f.ownerDocument.documentElement,f)){if(g!==null&&Mm(f)){if(c=g.start,a=g.end,a===void 0&&(a=c),"selectionStart"in f)f.selectionStart=c,f.selectionEnd=Math.min(a,f.value.length);else if(a=(c=f.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var b=f.textContent.length,N=Math.min(g.start,b);g=g.end===void 0?N:Math.min(g.end,b),!a.extend&&N>g&&(b=g,g=N,N=b),b=S2(f,N);var F=S2(f,g);b&&F&&(a.rangeCount!==1||a.anchorNode!==b.node||a.anchorOffset!==b.offset||a.focusNode!==F.node||a.focusOffset!==F.offset)&&(c=c.createRange(),c.setStart(b.node,b.offset),a.removeAllRanges(),N>g?(a.addRange(c),a.extend(F.node,F.offset)):(c.setEnd(F.node,F.offset),a.addRange(c)))}}for(c=[],a=f;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<c.length;f++)a=c[f],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var nC=u&&"documentMode"in document&&11>=document.documentMode,gc=null,Vm=null,Ku=null,$m=!1;function I2(a,c,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;$m||gc==null||gc!==Gt(g)||(g=gc,"selectionStart"in g&&Mm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ku&&Gu(Ku,g)||(Ku=g,g=ph(Vm,"onSelect"),0<g.length&&(c=new lc("onSelect","select",null,c,f),a.push({event:c,listeners:g}),c.target=gc)))}function dh(a,c){var f={};return f[a.toLowerCase()]=c.toLowerCase(),f["Webkit"+a]="webkit"+c,f["Moz"+a]="moz"+c,f}var xc={animationend:dh("Animation","AnimationEnd"),animationiteration:dh("Animation","AnimationIteration"),animationstart:dh("Animation","AnimationStart"),transitionend:dh("Transition","TransitionEnd")},Bm={},P2={};u&&(P2=document.createElement("div").style,"AnimationEvent"in window||(delete xc.animationend.animation,delete xc.animationiteration.animation,delete xc.animationstart.animation),"TransitionEvent"in window||delete xc.transitionend.transition);function hh(a){if(Bm[a])return Bm[a];if(!xc[a])return a;var c=xc[a],f;for(f in c)if(c.hasOwnProperty(f)&&f in P2)return Bm[a]=c[f];return a}var R2=hh("animationend"),j2=hh("animationiteration"),D2=hh("animationstart"),O2=hh("transitionend"),F2=new Map,L2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(a,c){F2.set(a,c),i(c,[a])}for(var Um=0;Um<L2.length;Um++){var zm=L2[Um],sC=zm.toLowerCase(),iC=zm[0].toUpperCase()+zm.slice(1);to(sC,"on"+iC)}to(R2,"onAnimationEnd"),to(j2,"onAnimationIteration"),to(D2,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to(O2,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xu));function M2(a,c,f){var g=a.type||"unknown-event";a.currentTarget=f,G(g,c,void 0,a),a.currentTarget=null}function V2(a,c){c=(c&4)!==0;for(var f=0;f<a.length;f++){var g=a[f],b=g.event;g=g.listeners;e:{var N=void 0;if(c)for(var F=g.length-1;0<=F;F--){var Z=g[F],se=Z.instance,ve=Z.currentTarget;if(Z=Z.listener,se!==N&&b.isPropagationStopped())break e;M2(b,Z,ve),N=se}else for(F=0;F<g.length;F++){if(Z=g[F],se=Z.instance,ve=Z.currentTarget,Z=Z.listener,se!==N&&b.isPropagationStopped())break e;M2(b,Z,ve),N=se}}}if(L)throw a=q,L=!1,q=null,a}function Nr(a,c){var f=c[Qm];f===void 0&&(f=c[Qm]=new Set);var g=a+"__bubble";f.has(g)||($2(c,a,2,!1),f.add(g))}function Hm(a,c,f){var g=0;c&&(g|=4),$2(f,a,g,c)}var fh="_reactListening"+Math.random().toString(36).slice(2);function Yu(a){if(!a[fh]){a[fh]=!0,n.forEach(function(f){f!=="selectionchange"&&(aC.has(f)||Hm(f,!1,a),Hm(f,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[fh]||(c[fh]=!0,Hm("selectionchange",!1,c))}}function $2(a,c,f,g){switch($u(c)){case 1:var b=Ar;break;case 4:b=Dm;break;default:b=Vu}f=b.bind(null,c,f,a),b=void 0,!ut||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),g?b!==void 0?a.addEventListener(c,f,{capture:!0,passive:b}):a.addEventListener(c,f,!0):b!==void 0?a.addEventListener(c,f,{passive:b}):a.addEventListener(c,f,!1)}function Wm(a,c,f,g,b){var N=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var F=g.tag;if(F===3||F===4){var Z=g.stateNode.containerInfo;if(Z===b||Z.nodeType===8&&Z.parentNode===b)break;if(F===4)for(F=g.return;F!==null;){var se=F.tag;if((se===3||se===4)&&(se=F.stateNode.containerInfo,se===b||se.nodeType===8&&se.parentNode===b))return;F=F.return}for(;Z!==null;){if(F=nl(Z),F===null)return;if(se=F.tag,se===5||se===6){g=N=F;continue e}Z=Z.parentNode}}g=g.return}Be(function(){var ve=N,Ve=Zr(f),We=[];e:{var Le=F2.get(a);if(Le!==void 0){var ot=lc,dt=a;switch(a){case"keypress":if(oc(f)===0)break e;case"keydown":case"keyup":ot=E;break;case"focusin":dt="focus",ot=hc;break;case"focusout":dt="blur",ot=hc;break;case"beforeblur":case"afterblur":ot=hc;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=Ee;break;case R2:case j2:case D2:ot=ha;break;case O2:ot=ar;break;case"scroll":ot=Om;break;case"wheel":ot=Kt;break;case"copy":case"cut":case"paste":ot=ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=U}var ft=(c&4)!==0,Kr=!ft&&a==="scroll",he=ft?Le!==null?Le+"Capture":null:Le;ft=[];for(var oe=ve,ge;oe!==null;){ge=oe;var Ye=ge.stateNode;if(ge.tag===5&&Ye!==null&&(ge=Ye,he!==null&&(Ye=at(oe,he),Ye!=null&&ft.push(Qu(oe,Ye,ge)))),Kr)break;oe=oe.return}0<ft.length&&(Le=new ot(Le,dt,null,f,Ve),We.push({event:Le,listeners:ft}))}}if((c&7)===0){e:{if(Le=a==="mouseover"||a==="pointerover",ot=a==="mouseout"||a==="pointerout",Le&&f!==$r&&(dt=f.relatedTarget||f.fromElement)&&(nl(dt)||dt[fa]))break e;if((ot||Le)&&(Le=Ve.window===Ve?Ve:(Le=Ve.ownerDocument)?Le.defaultView||Le.parentWindow:window,ot?(dt=f.relatedTarget||f.toElement,ot=ve,dt=dt?nl(dt):null,dt!==null&&(Kr=K(dt),dt!==Kr||dt.tag!==5&&dt.tag!==6)&&(dt=null)):(ot=null,dt=ve),ot!==dt)){if(ft=uc,Ye="onMouseLeave",he="onMouseEnter",oe="mouse",(a==="pointerout"||a==="pointerover")&&(ft=U,Ye="onPointerLeave",he="onPointerEnter",oe="pointer"),Kr=ot==null?Le:bc(ot),ge=dt==null?Le:bc(dt),Le=new ft(Ye,oe+"leave",ot,f,Ve),Le.target=Kr,Le.relatedTarget=ge,Ye=null,nl(Ve)===ve&&(ft=new ft(he,oe+"enter",dt,f,Ve),ft.target=ge,ft.relatedTarget=Kr,Ye=ft),Kr=Ye,ot&&dt)t:{for(ft=ot,he=dt,oe=0,ge=ft;ge;ge=yc(ge))oe++;for(ge=0,Ye=he;Ye;Ye=yc(Ye))ge++;for(;0<oe-ge;)ft=yc(ft),oe--;for(;0<ge-oe;)he=yc(he),ge--;for(;oe--;){if(ft===he||he!==null&&ft===he.alternate)break t;ft=yc(ft),he=yc(he)}ft=null}else ft=null;ot!==null&&B2(We,Le,ot,ft,!1),dt!==null&&Kr!==null&&B2(We,Kr,dt,ft,!0)}}e:{if(Le=ve?bc(ve):window,ot=Le.nodeName&&Le.nodeName.toLowerCase(),ot==="select"||ot==="input"&&Le.type==="file")var gt=Y6;else if(b2(Le))if(_2)gt=eC;else{gt=J6;var bt=Q6}else(ot=Le.nodeName)&&ot.toLowerCase()==="input"&&(Le.type==="checkbox"||Le.type==="radio")&&(gt=Z6);if(gt&&(gt=gt(a,ve))){w2(We,gt,f,Ve);break e}bt&&bt(a,Le,ve),a==="focusout"&&(bt=Le._wrapperState)&&bt.controlled&&Le.type==="number"&&Ot(Le,"number",Le.value)}switch(bt=ve?bc(ve):window,a){case"focusin":(b2(bt)||bt.contentEditable==="true")&&(gc=bt,Vm=ve,Ku=null);break;case"focusout":Ku=Vm=gc=null;break;case"mousedown":$m=!0;break;case"contextmenu":case"mouseup":case"dragend":$m=!1,I2(We,f,Ve);break;case"selectionchange":if(nC)break;case"keydown":case"keyup":I2(We,f,Ve)}var wt;if(en)e:{switch(a){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else mc?y2(a,f)&&(It="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(It="onCompositionStart");It&&(rl&&f.locale!=="ko"&&(mc||It!=="onCompositionStart"?It==="onCompositionEnd"&&mc&&(wt=Bu()):(Ss=Ve,ac="value"in Ss?Ss.value:Ss.textContent,mc=!0)),bt=ph(ve,It),0<bt.length&&(It=new Hu(It,a,null,f,Ve),We.push({event:It,listeners:bt}),wt?It.data=wt:(wt=v2(f),wt!==null&&(It.data=wt)))),(wt=As?q6(a,f):G6(a,f))&&(ve=ph(ve,"onBeforeInput"),0<ve.length&&(Ve=new Hu("onBeforeInput","beforeinput",null,f,Ve),We.push({event:Ve,listeners:ve}),Ve.data=wt))}V2(We,c)})}function Qu(a,c,f){return{instance:a,listener:c,currentTarget:f}}function ph(a,c){for(var f=c+"Capture",g=[];a!==null;){var b=a,N=b.stateNode;b.tag===5&&N!==null&&(b=N,N=at(a,f),N!=null&&g.unshift(Qu(a,N,b)),N=at(a,c),N!=null&&g.push(Qu(a,N,b))),a=a.return}return g}function yc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function B2(a,c,f,g,b){for(var N=c._reactName,F=[];f!==null&&f!==g;){var Z=f,se=Z.alternate,ve=Z.stateNode;if(se!==null&&se===g)break;Z.tag===5&&ve!==null&&(Z=ve,b?(se=at(f,N),se!=null&&F.unshift(Qu(f,se,Z))):b||(se=at(f,N),se!=null&&F.push(Qu(f,se,Z)))),f=f.return}F.length!==0&&a.push({event:c,listeners:F})}var oC=/\r\n?/g,lC=/\u0000|\uFFFD/g;function U2(a){return(typeof a=="string"?a:""+a).replace(oC,`
`).replace(lC,"")}function mh(a,c,f){if(c=U2(c),U2(a)!==c&&f)throw Error(r(425))}function gh(){}var qm=null,Gm=null;function Km(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Xm=typeof setTimeout=="function"?setTimeout:void 0,cC=typeof clearTimeout=="function"?clearTimeout:void 0,z2=typeof Promise=="function"?Promise:void 0,uC=typeof queueMicrotask=="function"?queueMicrotask:typeof z2<"u"?function(a){return z2.resolve(null).then(a).catch(dC)}:Xm;function dC(a){setTimeout(function(){throw a})}function Ym(a,c){var f=c,g=0;do{var b=f.nextSibling;if(a.removeChild(f),b&&b.nodeType===8)if(f=b.data,f==="/$"){if(g===0){a.removeChild(b),di(c);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=b}while(f);di(c)}function ro(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function H2(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(c===0)return a;c--}else f==="/$"&&c++}a=a.previousSibling}return null}var vc=Math.random().toString(36).slice(2),Bi="__reactFiber$"+vc,Ju="__reactProps$"+vc,fa="__reactContainer$"+vc,Qm="__reactEvents$"+vc,hC="__reactListeners$"+vc,fC="__reactHandles$"+vc;function nl(a){var c=a[Bi];if(c)return c;for(var f=a.parentNode;f;){if(c=f[fa]||f[Bi]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(a=H2(a);a!==null;){if(f=a[Bi])return f;a=H2(a)}return c}a=f,f=a.parentNode}return null}function Zu(a){return a=a[Bi]||a[fa],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function bc(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(r(33))}function xh(a){return a[Ju]||null}var Jm=[],wc=-1;function no(a){return{current:a}}function kr(a){0>wc||(a.current=Jm[wc],Jm[wc]=null,wc--)}function br(a,c){wc++,Jm[wc]=a.current,a.current=c}var so={},Vn=no(so),ds=no(!1),sl=so;function _c(a,c){var f=a.type.contextTypes;if(!f)return so;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===c)return g.__reactInternalMemoizedMaskedChildContext;var b={},N;for(N in f)b[N]=c[N];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=b),b}function hs(a){return a=a.childContextTypes,a!=null}function yh(){kr(ds),kr(Vn)}function W2(a,c,f){if(Vn.current!==so)throw Error(r(168));br(Vn,c),br(ds,f)}function q2(a,c,f){var g=a.stateNode;if(c=c.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var b in g)if(!(b in c))throw Error(r(108,Ae(a)||"Unknown",b));return be({},f,g)}function vh(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||so,sl=Vn.current,br(Vn,a),br(ds,ds.current),!0}function G2(a,c,f){var g=a.stateNode;if(!g)throw Error(r(169));f?(a=q2(a,c,sl),g.__reactInternalMemoizedMergedChildContext=a,kr(ds),kr(Vn),br(Vn,a)):kr(ds),br(ds,f)}var pa=null,bh=!1,Zm=!1;function K2(a){pa===null?pa=[a]:pa.push(a)}function pC(a){bh=!0,K2(a)}function io(){if(!Zm&&pa!==null){Zm=!0;var a=0,c=qt;try{var f=pa;for(qt=1;a<f.length;a++){var g=f[a];do g=g(!0);while(g!==null)}pa=null,bh=!1}catch(b){throw pa!==null&&(pa=pa.slice(a+1)),Fe(tr,io),b}finally{qt=c,Zm=!1}}return null}var Ec=[],Tc=0,wh=null,_h=0,Ws=[],qs=0,il=null,ma=1,ga="";function al(a,c){Ec[Tc++]=_h,Ec[Tc++]=wh,wh=a,_h=c}function X2(a,c,f){Ws[qs++]=ma,Ws[qs++]=ga,Ws[qs++]=il,il=a;var g=ma;a=ga;var b=32-Tr(g)-1;g&=~(1<<b),f+=1;var N=32-Tr(c)+b;if(30<N){var F=b-b%5;N=(g&(1<<F)-1).toString(32),g>>=F,b-=F,ma=1<<32-Tr(c)+b|f<<b|g,ga=N+a}else ma=1<<N|f<<b|g,ga=a}function eg(a){a.return!==null&&(al(a,1),X2(a,1,0))}function tg(a){for(;a===wh;)wh=Ec[--Tc],Ec[Tc]=null,_h=Ec[--Tc],Ec[Tc]=null;for(;a===il;)il=Ws[--qs],Ws[qs]=null,ga=Ws[--qs],Ws[qs]=null,ma=Ws[--qs],Ws[qs]=null}var Cs=null,Is=null,Cr=!1,pi=null;function Y2(a,c){var f=Ys(5,null,null,0);f.elementType="DELETED",f.stateNode=c,f.return=a,c=a.deletions,c===null?(a.deletions=[f],a.flags|=16):c.push(f)}function Q2(a,c){switch(a.tag){case 5:var f=a.type;return c=c.nodeType!==1||f.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Cs=a,Is=ro(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Cs=a,Is=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(f=il!==null?{id:ma,overflow:ga}:null,a.memoizedState={dehydrated:c,treeContext:f,retryLane:1073741824},f=Ys(18,null,null,0),f.stateNode=c,f.return=a,a.child=f,Cs=a,Is=null,!0):!1;default:return!1}}function rg(a){return(a.mode&1)!==0&&(a.flags&128)===0}function ng(a){if(Cr){var c=Is;if(c){var f=c;if(!Q2(a,c)){if(rg(a))throw Error(r(418));c=ro(f.nextSibling);var g=Cs;c&&Q2(a,c)?Y2(g,f):(a.flags=a.flags&-4097|2,Cr=!1,Cs=a)}}else{if(rg(a))throw Error(r(418));a.flags=a.flags&-4097|2,Cr=!1,Cs=a}}}function J2(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Cs=a}function Eh(a){if(a!==Cs)return!1;if(!Cr)return J2(a),Cr=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!Km(a.type,a.memoizedProps)),c&&(c=Is)){if(rg(a))throw Z2(),Error(r(418));for(;c;)Y2(a,c),c=ro(c.nextSibling)}if(J2(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"){if(c===0){Is=ro(a.nextSibling);break e}c--}else f!=="$"&&f!=="$!"&&f!=="$?"||c++}a=a.nextSibling}Is=null}}else Is=Cs?ro(a.stateNode.nextSibling):null;return!0}function Z2(){for(var a=Is;a;)a=ro(a.nextSibling)}function Nc(){Is=Cs=null,Cr=!1}function sg(a){pi===null?pi=[a]:pi.push(a)}var mC=M.ReactCurrentBatchConfig;function ed(a,c,f){if(a=f.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var g=f.stateNode}if(!g)throw Error(r(147,a));var b=g,N=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===N?c.ref:(c=function(F){var Z=b.refs;F===null?delete Z[N]:Z[N]=F},c._stringRef=N,c)}if(typeof a!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,a))}return a}function Th(a,c){throw a=Object.prototype.toString.call(c),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function eb(a){var c=a._init;return c(a._payload)}function tb(a){function c(he,oe){if(a){var ge=he.deletions;ge===null?(he.deletions=[oe],he.flags|=16):ge.push(oe)}}function f(he,oe){if(!a)return null;for(;oe!==null;)c(he,oe),oe=oe.sibling;return null}function g(he,oe){for(he=new Map;oe!==null;)oe.key!==null?he.set(oe.key,oe):he.set(oe.index,oe),oe=oe.sibling;return he}function b(he,oe){return he=po(he,oe),he.index=0,he.sibling=null,he}function N(he,oe,ge){return he.index=ge,a?(ge=he.alternate,ge!==null?(ge=ge.index,ge<oe?(he.flags|=2,oe):ge):(he.flags|=2,oe)):(he.flags|=1048576,oe)}function F(he){return a&&he.alternate===null&&(he.flags|=2),he}function Z(he,oe,ge,Ye){return oe===null||oe.tag!==6?(oe=Xg(ge,he.mode,Ye),oe.return=he,oe):(oe=b(oe,ge),oe.return=he,oe)}function se(he,oe,ge,Ye){var gt=ge.type;return gt===A?Ve(he,oe,ge.props.children,Ye,ge.key):oe!==null&&(oe.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===Ge&&eb(gt)===oe.type)?(Ye=b(oe,ge.props),Ye.ref=ed(he,oe,ge),Ye.return=he,Ye):(Ye=Kh(ge.type,ge.key,ge.props,null,he.mode,Ye),Ye.ref=ed(he,oe,ge),Ye.return=he,Ye)}function ve(he,oe,ge,Ye){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ge.containerInfo||oe.stateNode.implementation!==ge.implementation?(oe=Yg(ge,he.mode,Ye),oe.return=he,oe):(oe=b(oe,ge.children||[]),oe.return=he,oe)}function Ve(he,oe,ge,Ye,gt){return oe===null||oe.tag!==7?(oe=pl(ge,he.mode,Ye,gt),oe.return=he,oe):(oe=b(oe,ge),oe.return=he,oe)}function We(he,oe,ge){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=Xg(""+oe,he.mode,ge),oe.return=he,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Y:return ge=Kh(oe.type,oe.key,oe.props,null,he.mode,ge),ge.ref=ed(he,null,oe),ge.return=he,ge;case ne:return oe=Yg(oe,he.mode,ge),oe.return=he,oe;case Ge:var Ye=oe._init;return We(he,Ye(oe._payload),ge)}if(vr(oe)||ye(oe))return oe=pl(oe,he.mode,ge,null),oe.return=he,oe;Th(he,oe)}return null}function Le(he,oe,ge,Ye){var gt=oe!==null?oe.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number")return gt!==null?null:Z(he,oe,""+ge,Ye);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case Y:return ge.key===gt?se(he,oe,ge,Ye):null;case ne:return ge.key===gt?ve(he,oe,ge,Ye):null;case Ge:return gt=ge._init,Le(he,oe,gt(ge._payload),Ye)}if(vr(ge)||ye(ge))return gt!==null?null:Ve(he,oe,ge,Ye,null);Th(he,ge)}return null}function ot(he,oe,ge,Ye,gt){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return he=he.get(ge)||null,Z(oe,he,""+Ye,gt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case Y:return he=he.get(Ye.key===null?ge:Ye.key)||null,se(oe,he,Ye,gt);case ne:return he=he.get(Ye.key===null?ge:Ye.key)||null,ve(oe,he,Ye,gt);case Ge:var bt=Ye._init;return ot(he,oe,ge,bt(Ye._payload),gt)}if(vr(Ye)||ye(Ye))return he=he.get(ge)||null,Ve(oe,he,Ye,gt,null);Th(oe,Ye)}return null}function dt(he,oe,ge,Ye){for(var gt=null,bt=null,wt=oe,It=oe=0,gn=null;wt!==null&&It<ge.length;It++){wt.index>It?(gn=wt,wt=null):gn=wt.sibling;var Zt=Le(he,wt,ge[It],Ye);if(Zt===null){wt===null&&(wt=gn);break}a&&wt&&Zt.alternate===null&&c(he,wt),oe=N(Zt,oe,It),bt===null?gt=Zt:bt.sibling=Zt,bt=Zt,wt=gn}if(It===ge.length)return f(he,wt),Cr&&al(he,It),gt;if(wt===null){for(;It<ge.length;It++)wt=We(he,ge[It],Ye),wt!==null&&(oe=N(wt,oe,It),bt===null?gt=wt:bt.sibling=wt,bt=wt);return Cr&&al(he,It),gt}for(wt=g(he,wt);It<ge.length;It++)gn=ot(wt,he,It,ge[It],Ye),gn!==null&&(a&&gn.alternate!==null&&wt.delete(gn.key===null?It:gn.key),oe=N(gn,oe,It),bt===null?gt=gn:bt.sibling=gn,bt=gn);return a&&wt.forEach(function(mo){return c(he,mo)}),Cr&&al(he,It),gt}function ft(he,oe,ge,Ye){var gt=ye(ge);if(typeof gt!="function")throw Error(r(150));if(ge=gt.call(ge),ge==null)throw Error(r(151));for(var bt=gt=null,wt=oe,It=oe=0,gn=null,Zt=ge.next();wt!==null&&!Zt.done;It++,Zt=ge.next()){wt.index>It?(gn=wt,wt=null):gn=wt.sibling;var mo=Le(he,wt,Zt.value,Ye);if(mo===null){wt===null&&(wt=gn);break}a&&wt&&mo.alternate===null&&c(he,wt),oe=N(mo,oe,It),bt===null?gt=mo:bt.sibling=mo,bt=mo,wt=gn}if(Zt.done)return f(he,wt),Cr&&al(he,It),gt;if(wt===null){for(;!Zt.done;It++,Zt=ge.next())Zt=We(he,Zt.value,Ye),Zt!==null&&(oe=N(Zt,oe,It),bt===null?gt=Zt:bt.sibling=Zt,bt=Zt);return Cr&&al(he,It),gt}for(wt=g(he,wt);!Zt.done;It++,Zt=ge.next())Zt=ot(wt,he,It,Zt.value,Ye),Zt!==null&&(a&&Zt.alternate!==null&&wt.delete(Zt.key===null?It:Zt.key),oe=N(Zt,oe,It),bt===null?gt=Zt:bt.sibling=Zt,bt=Zt);return a&&wt.forEach(function(KC){return c(he,KC)}),Cr&&al(he,It),gt}function Kr(he,oe,ge,Ye){if(typeof ge=="object"&&ge!==null&&ge.type===A&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case Y:e:{for(var gt=ge.key,bt=oe;bt!==null;){if(bt.key===gt){if(gt=ge.type,gt===A){if(bt.tag===7){f(he,bt.sibling),oe=b(bt,ge.props.children),oe.return=he,he=oe;break e}}else if(bt.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===Ge&&eb(gt)===bt.type){f(he,bt.sibling),oe=b(bt,ge.props),oe.ref=ed(he,bt,ge),oe.return=he,he=oe;break e}f(he,bt);break}else c(he,bt);bt=bt.sibling}ge.type===A?(oe=pl(ge.props.children,he.mode,Ye,ge.key),oe.return=he,he=oe):(Ye=Kh(ge.type,ge.key,ge.props,null,he.mode,Ye),Ye.ref=ed(he,oe,ge),Ye.return=he,he=Ye)}return F(he);case ne:e:{for(bt=ge.key;oe!==null;){if(oe.key===bt)if(oe.tag===4&&oe.stateNode.containerInfo===ge.containerInfo&&oe.stateNode.implementation===ge.implementation){f(he,oe.sibling),oe=b(oe,ge.children||[]),oe.return=he,he=oe;break e}else{f(he,oe);break}else c(he,oe);oe=oe.sibling}oe=Yg(ge,he.mode,Ye),oe.return=he,he=oe}return F(he);case Ge:return bt=ge._init,Kr(he,oe,bt(ge._payload),Ye)}if(vr(ge))return dt(he,oe,ge,Ye);if(ye(ge))return ft(he,oe,ge,Ye);Th(he,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"?(ge=""+ge,oe!==null&&oe.tag===6?(f(he,oe.sibling),oe=b(oe,ge),oe.return=he,he=oe):(f(he,oe),oe=Xg(ge,he.mode,Ye),oe.return=he,he=oe),F(he)):f(he,oe)}return Kr}var kc=tb(!0),rb=tb(!1),Nh=no(null),kh=null,Sc=null,ig=null;function ag(){ig=Sc=kh=null}function og(a){var c=Nh.current;kr(Nh),a._currentValue=c}function lg(a,c,f){for(;a!==null;){var g=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),a===f)break;a=a.return}}function Ac(a,c){kh=a,ig=Sc=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(fs=!0),a.firstContext=null)}function Gs(a){var c=a._currentValue;if(ig!==a)if(a={context:a,memoizedValue:c,next:null},Sc===null){if(kh===null)throw Error(r(308));Sc=a,kh.dependencies={lanes:0,firstContext:a}}else Sc=Sc.next=a;return c}var ol=null;function cg(a){ol===null?ol=[a]:ol.push(a)}function nb(a,c,f,g){var b=c.interleaved;return b===null?(f.next=f,cg(c)):(f.next=b.next,b.next=f),c.interleaved=f,xa(a,g)}function xa(a,c){a.lanes|=c;var f=a.alternate;for(f!==null&&(f.lanes|=c),f=a,a=a.return;a!==null;)a.childLanes|=c,f=a.alternate,f!==null&&(f.childLanes|=c),f=a,a=a.return;return f.tag===3?f.stateNode:null}var ao=!1;function ug(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sb(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ya(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function oo(a,c,f){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Qt&2)!==0){var b=g.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),g.pending=c,xa(a,f)}return b=g.interleaved,b===null?(c.next=c,cg(g)):(c.next=b.next,b.next=c),g.interleaved=c,xa(a,f)}function Sh(a,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194240)!==0)){var g=c.lanes;g&=a.pendingLanes,f|=g,c.lanes=f,Ya(a,f)}}function ib(a,c){var f=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var b=null,N=null;if(f=f.firstBaseUpdate,f!==null){do{var F={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};N===null?b=N=F:N=N.next=F,f=f.next}while(f!==null);N===null?b=N=c:N=N.next=c}else b=N=c;f={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:N,shared:g.shared,effects:g.effects},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=c}function Ah(a,c,f,g){var b=a.updateQueue;ao=!1;var N=b.firstBaseUpdate,F=b.lastBaseUpdate,Z=b.shared.pending;if(Z!==null){b.shared.pending=null;var se=Z,ve=se.next;se.next=null,F===null?N=ve:F.next=ve,F=se;var Ve=a.alternate;Ve!==null&&(Ve=Ve.updateQueue,Z=Ve.lastBaseUpdate,Z!==F&&(Z===null?Ve.firstBaseUpdate=ve:Z.next=ve,Ve.lastBaseUpdate=se))}if(N!==null){var We=b.baseState;F=0,Ve=ve=se=null,Z=N;do{var Le=Z.lane,ot=Z.eventTime;if((g&Le)===Le){Ve!==null&&(Ve=Ve.next={eventTime:ot,lane:0,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null});e:{var dt=a,ft=Z;switch(Le=c,ot=f,ft.tag){case 1:if(dt=ft.payload,typeof dt=="function"){We=dt.call(ot,We,Le);break e}We=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=ft.payload,Le=typeof dt=="function"?dt.call(ot,We,Le):dt,Le==null)break e;We=be({},We,Le);break e;case 2:ao=!0}}Z.callback!==null&&Z.lane!==0&&(a.flags|=64,Le=b.effects,Le===null?b.effects=[Z]:Le.push(Z))}else ot={eventTime:ot,lane:Le,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ve===null?(ve=Ve=ot,se=We):Ve=Ve.next=ot,F|=Le;if(Z=Z.next,Z===null){if(Z=b.shared.pending,Z===null)break;Le=Z,Z=Le.next,Le.next=null,b.lastBaseUpdate=Le,b.shared.pending=null}}while(!0);if(Ve===null&&(se=We),b.baseState=se,b.firstBaseUpdate=ve,b.lastBaseUpdate=Ve,c=b.shared.interleaved,c!==null){b=c;do F|=b.lane,b=b.next;while(b!==c)}else N===null&&(b.shared.lanes=0);ul|=F,a.lanes=F,a.memoizedState=We}}function ab(a,c,f){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var g=a[c],b=g.callback;if(b!==null){if(g.callback=null,g=f,typeof b!="function")throw Error(r(191,b));b.call(g)}}}var td={},Ui=no(td),rd=no(td),nd=no(td);function ll(a){if(a===td)throw Error(r(174));return a}function dg(a,c){switch(br(nd,c),br(rd,a),br(Ui,td),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Xe(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Xe(c,a)}kr(Ui),br(Ui,c)}function Cc(){kr(Ui),kr(rd),kr(nd)}function ob(a){ll(nd.current);var c=ll(Ui.current),f=Xe(c,a.type);c!==f&&(br(rd,a),br(Ui,f))}function hg(a){rd.current===a&&(kr(Ui),kr(rd))}var jr=no(0);function Ch(a){for(var c=a;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var fg=[];function pg(){for(var a=0;a<fg.length;a++)fg[a]._workInProgressVersionPrimary=null;fg.length=0}var Ih=M.ReactCurrentDispatcher,mg=M.ReactCurrentBatchConfig,cl=0,Dr=null,cn=null,pn=null,Ph=!1,sd=!1,id=0,gC=0;function $n(){throw Error(r(321))}function gg(a,c){if(c===null)return!1;for(var f=0;f<c.length&&f<a.length;f++)if(!fi(a[f],c[f]))return!1;return!0}function xg(a,c,f,g,b,N){if(cl=N,Dr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Ih.current=a===null||a.memoizedState===null?bC:wC,a=f(g,b),sd){N=0;do{if(sd=!1,id=0,25<=N)throw Error(r(301));N+=1,pn=cn=null,c.updateQueue=null,Ih.current=_C,a=f(g,b)}while(sd)}if(Ih.current=Dh,c=cn!==null&&cn.next!==null,cl=0,pn=cn=Dr=null,Ph=!1,c)throw Error(r(300));return a}function yg(){var a=id!==0;return id=0,a}function zi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Dr.memoizedState=pn=a:pn=pn.next=a,pn}function Ks(){if(cn===null){var a=Dr.alternate;a=a!==null?a.memoizedState:null}else a=cn.next;var c=pn===null?Dr.memoizedState:pn.next;if(c!==null)pn=c,cn=a;else{if(a===null)throw Error(r(310));cn=a,a={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},pn===null?Dr.memoizedState=pn=a:pn=pn.next=a}return pn}function ad(a,c){return typeof c=="function"?c(a):c}function vg(a){var c=Ks(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var g=cn,b=g.baseQueue,N=f.pending;if(N!==null){if(b!==null){var F=b.next;b.next=N.next,N.next=F}g.baseQueue=b=N,f.pending=null}if(b!==null){N=b.next,g=g.baseState;var Z=F=null,se=null,ve=N;do{var Ve=ve.lane;if((cl&Ve)===Ve)se!==null&&(se=se.next={lane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),g=ve.hasEagerState?ve.eagerState:a(g,ve.action);else{var We={lane:Ve,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null};se===null?(Z=se=We,F=g):se=se.next=We,Dr.lanes|=Ve,ul|=Ve}ve=ve.next}while(ve!==null&&ve!==N);se===null?F=g:se.next=Z,fi(g,c.memoizedState)||(fs=!0),c.memoizedState=g,c.baseState=F,c.baseQueue=se,f.lastRenderedState=g}if(a=f.interleaved,a!==null){b=a;do N=b.lane,Dr.lanes|=N,ul|=N,b=b.next;while(b!==a)}else b===null&&(f.lanes=0);return[c.memoizedState,f.dispatch]}function bg(a){var c=Ks(),f=c.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var g=f.dispatch,b=f.pending,N=c.memoizedState;if(b!==null){f.pending=null;var F=b=b.next;do N=a(N,F.action),F=F.next;while(F!==b);fi(N,c.memoizedState)||(fs=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),f.lastRenderedState=N}return[N,g]}function lb(){}function cb(a,c){var f=Dr,g=Ks(),b=c(),N=!fi(g.memoizedState,b);if(N&&(g.memoizedState=b,fs=!0),g=g.queue,wg(hb.bind(null,f,g,a),[a]),g.getSnapshot!==c||N||pn!==null&&pn.memoizedState.tag&1){if(f.flags|=2048,od(9,db.bind(null,f,g,b,c),void 0,null),mn===null)throw Error(r(349));(cl&30)!==0||ub(f,c,b)}return b}function ub(a,c,f){a.flags|=16384,a={getSnapshot:c,value:f},c=Dr.updateQueue,c===null?(c={lastEffect:null,stores:null},Dr.updateQueue=c,c.stores=[a]):(f=c.stores,f===null?c.stores=[a]:f.push(a))}function db(a,c,f,g){c.value=f,c.getSnapshot=g,fb(c)&&pb(a)}function hb(a,c,f){return f(function(){fb(c)&&pb(a)})}function fb(a){var c=a.getSnapshot;a=a.value;try{var f=c();return!fi(a,f)}catch{return!0}}function pb(a){var c=xa(a,1);c!==null&&yi(c,a,1,-1)}function mb(a){var c=zi();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ad,lastRenderedState:a},c.queue=a,a=a.dispatch=vC.bind(null,Dr,a),[c.memoizedState,a]}function od(a,c,f,g){return a={tag:a,create:c,destroy:f,deps:g,next:null},c=Dr.updateQueue,c===null?(c={lastEffect:null,stores:null},Dr.updateQueue=c,c.lastEffect=a.next=a):(f=c.lastEffect,f===null?c.lastEffect=a.next=a:(g=f.next,f.next=a,a.next=g,c.lastEffect=a)),a}function gb(){return Ks().memoizedState}function Rh(a,c,f,g){var b=zi();Dr.flags|=a,b.memoizedState=od(1|c,f,void 0,g===void 0?null:g)}function jh(a,c,f,g){var b=Ks();g=g===void 0?null:g;var N=void 0;if(cn!==null){var F=cn.memoizedState;if(N=F.destroy,g!==null&&gg(g,F.deps)){b.memoizedState=od(c,f,N,g);return}}Dr.flags|=a,b.memoizedState=od(1|c,f,N,g)}function xb(a,c){return Rh(8390656,8,a,c)}function wg(a,c){return jh(2048,8,a,c)}function yb(a,c){return jh(4,2,a,c)}function vb(a,c){return jh(4,4,a,c)}function bb(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function wb(a,c,f){return f=f!=null?f.concat([a]):null,jh(4,4,bb.bind(null,c,a),f)}function _g(){}function _b(a,c){var f=Ks();c=c===void 0?null:c;var g=f.memoizedState;return g!==null&&c!==null&&gg(c,g[1])?g[0]:(f.memoizedState=[a,c],a)}function Eb(a,c){var f=Ks();c=c===void 0?null:c;var g=f.memoizedState;return g!==null&&c!==null&&gg(c,g[1])?g[0]:(a=a(),f.memoizedState=[a,c],a)}function Tb(a,c,f){return(cl&21)===0?(a.baseState&&(a.baseState=!1,fs=!0),a.memoizedState=f):(fi(f,c)||(f=Jo(),Dr.lanes|=f,ul|=f,a.baseState=!0),c)}function xC(a,c){var f=qt;qt=f!==0&&4>f?f:4,a(!0);var g=mg.transition;mg.transition={};try{a(!1),c()}finally{qt=f,mg.transition=g}}function Nb(){return Ks().memoizedState}function yC(a,c,f){var g=ho(a);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},kb(a))Sb(c,f);else if(f=nb(a,c,f,g),f!==null){var b=ts();yi(f,a,g,b),Ab(f,c,g)}}function vC(a,c,f){var g=ho(a),b={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(kb(a))Sb(c,b);else{var N=a.alternate;if(a.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var F=c.lastRenderedState,Z=N(F,f);if(b.hasEagerState=!0,b.eagerState=Z,fi(Z,F)){var se=c.interleaved;se===null?(b.next=b,cg(c)):(b.next=se.next,se.next=b),c.interleaved=b;return}}catch{}finally{}f=nb(a,c,b,g),f!==null&&(b=ts(),yi(f,a,g,b),Ab(f,c,g))}}function kb(a){var c=a.alternate;return a===Dr||c!==null&&c===Dr}function Sb(a,c){sd=Ph=!0;var f=a.pending;f===null?c.next=c:(c.next=f.next,f.next=c),a.pending=c}function Ab(a,c,f){if((f&4194240)!==0){var g=c.lanes;g&=a.pendingLanes,f|=g,c.lanes=f,Ya(a,f)}}var Dh={readContext:Gs,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},bC={readContext:Gs,useCallback:function(a,c){return zi().memoizedState=[a,c===void 0?null:c],a},useContext:Gs,useEffect:xb,useImperativeHandle:function(a,c,f){return f=f!=null?f.concat([a]):null,Rh(4194308,4,bb.bind(null,c,a),f)},useLayoutEffect:function(a,c){return Rh(4194308,4,a,c)},useInsertionEffect:function(a,c){return Rh(4,2,a,c)},useMemo:function(a,c){var f=zi();return c=c===void 0?null:c,a=a(),f.memoizedState=[a,c],a},useReducer:function(a,c,f){var g=zi();return c=f!==void 0?f(c):c,g.memoizedState=g.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},g.queue=a,a=a.dispatch=yC.bind(null,Dr,a),[g.memoizedState,a]},useRef:function(a){var c=zi();return a={current:a},c.memoizedState=a},useState:mb,useDebugValue:_g,useDeferredValue:function(a){return zi().memoizedState=a},useTransition:function(){var a=mb(!1),c=a[0];return a=xC.bind(null,a[1]),zi().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,f){var g=Dr,b=zi();if(Cr){if(f===void 0)throw Error(r(407));f=f()}else{if(f=c(),mn===null)throw Error(r(349));(cl&30)!==0||ub(g,c,f)}b.memoizedState=f;var N={value:f,getSnapshot:c};return b.queue=N,xb(hb.bind(null,g,N,a),[a]),g.flags|=2048,od(9,db.bind(null,g,N,f,c),void 0,null),f},useId:function(){var a=zi(),c=mn.identifierPrefix;if(Cr){var f=ga,g=ma;f=(g&~(1<<32-Tr(g)-1)).toString(32)+f,c=":"+c+"R"+f,f=id++,0<f&&(c+="H"+f.toString(32)),c+=":"}else f=gC++,c=":"+c+"r"+f.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},wC={readContext:Gs,useCallback:_b,useContext:Gs,useEffect:wg,useImperativeHandle:wb,useInsertionEffect:yb,useLayoutEffect:vb,useMemo:Eb,useReducer:vg,useRef:gb,useState:function(){return vg(ad)},useDebugValue:_g,useDeferredValue:function(a){var c=Ks();return Tb(c,cn.memoizedState,a)},useTransition:function(){var a=vg(ad)[0],c=Ks().memoizedState;return[a,c]},useMutableSource:lb,useSyncExternalStore:cb,useId:Nb,unstable_isNewReconciler:!1},_C={readContext:Gs,useCallback:_b,useContext:Gs,useEffect:wg,useImperativeHandle:wb,useInsertionEffect:yb,useLayoutEffect:vb,useMemo:Eb,useReducer:bg,useRef:gb,useState:function(){return bg(ad)},useDebugValue:_g,useDeferredValue:function(a){var c=Ks();return cn===null?c.memoizedState=a:Tb(c,cn.memoizedState,a)},useTransition:function(){var a=bg(ad)[0],c=Ks().memoizedState;return[a,c]},useMutableSource:lb,useSyncExternalStore:cb,useId:Nb,unstable_isNewReconciler:!1};function mi(a,c){if(a&&a.defaultProps){c=be({},c),a=a.defaultProps;for(var f in a)c[f]===void 0&&(c[f]=a[f]);return c}return c}function Eg(a,c,f,g){c=a.memoizedState,f=f(g,c),f=f==null?c:be({},c,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var Oh={isMounted:function(a){return(a=a._reactInternals)?K(a)===a:!1},enqueueSetState:function(a,c,f){a=a._reactInternals;var g=ts(),b=ho(a),N=ya(g,b);N.payload=c,f!=null&&(N.callback=f),c=oo(a,N,b),c!==null&&(yi(c,a,b,g),Sh(c,a,b))},enqueueReplaceState:function(a,c,f){a=a._reactInternals;var g=ts(),b=ho(a),N=ya(g,b);N.tag=1,N.payload=c,f!=null&&(N.callback=f),c=oo(a,N,b),c!==null&&(yi(c,a,b,g),Sh(c,a,b))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var f=ts(),g=ho(a),b=ya(f,g);b.tag=2,c!=null&&(b.callback=c),c=oo(a,b,g),c!==null&&(yi(c,a,g,f),Sh(c,a,g))}};function Cb(a,c,f,g,b,N,F){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,N,F):c.prototype&&c.prototype.isPureReactComponent?!Gu(f,g)||!Gu(b,N):!0}function Ib(a,c,f){var g=!1,b=so,N=c.contextType;return typeof N=="object"&&N!==null?N=Gs(N):(b=hs(c)?sl:Vn.current,g=c.contextTypes,N=(g=g!=null)?_c(a,b):so),c=new c(f,N),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Oh,a.stateNode=c,c._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=N),c}function Pb(a,c,f,g){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,g),c.state!==a&&Oh.enqueueReplaceState(c,c.state,null)}function Tg(a,c,f,g){var b=a.stateNode;b.props=f,b.state=a.memoizedState,b.refs={},ug(a);var N=c.contextType;typeof N=="object"&&N!==null?b.context=Gs(N):(N=hs(c)?sl:Vn.current,b.context=_c(a,N)),b.state=a.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(Eg(a,c,N,f),b.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(c=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),c!==b.state&&Oh.enqueueReplaceState(b,b.state,null),Ah(a,f,b,g),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308)}function Ic(a,c){try{var f="",g=c;do f+=J(g),g=g.return;while(g);var b=f}catch(N){b=`
Error generating stack: `+N.message+`
`+N.stack}return{value:a,source:c,stack:b,digest:null}}function Ng(a,c,f){return{value:a,source:null,stack:f??null,digest:c??null}}function kg(a,c){try{console.error(c.value)}catch(f){setTimeout(function(){throw f})}}var EC=typeof WeakMap=="function"?WeakMap:Map;function Rb(a,c,f){f=ya(-1,f),f.tag=3,f.payload={element:null};var g=c.value;return f.callback=function(){Uh||(Uh=!0,Bg=g),kg(a,c)},f}function jb(a,c,f){f=ya(-1,f),f.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var b=c.value;f.payload=function(){return g(b)},f.callback=function(){kg(a,c)}}var N=a.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(f.callback=function(){kg(a,c),typeof g!="function"&&(co===null?co=new Set([this]):co.add(this));var F=c.stack;this.componentDidCatch(c.value,{componentStack:F!==null?F:""})}),f}function Db(a,c,f){var g=a.pingCache;if(g===null){g=a.pingCache=new EC;var b=new Set;g.set(c,b)}else b=g.get(c),b===void 0&&(b=new Set,g.set(c,b));b.has(f)||(b.add(f),a=LC.bind(null,a,c,f),c.then(a,a))}function Ob(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function Fb(a,c,f,g,b){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(c=ya(-1,1),c.tag=2,oo(f,c,1))),f.lanes|=1),a):(a.flags|=65536,a.lanes=b,a)}var TC=M.ReactCurrentOwner,fs=!1;function es(a,c,f,g){c.child=a===null?rb(c,null,f,g):kc(c,a.child,f,g)}function Lb(a,c,f,g,b){f=f.render;var N=c.ref;return Ac(c,b),g=xg(a,c,f,g,N,b),f=yg(),a!==null&&!fs?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~b,va(a,c,b)):(Cr&&f&&eg(c),c.flags|=1,es(a,c,g,b),c.child)}function Mb(a,c,f,g,b){if(a===null){var N=f.type;return typeof N=="function"&&!Kg(N)&&N.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(c.tag=15,c.type=N,Vb(a,c,N,g,b)):(a=Kh(f.type,null,g,c,c.mode,b),a.ref=c.ref,a.return=c,c.child=a)}if(N=a.child,(a.lanes&b)===0){var F=N.memoizedProps;if(f=f.compare,f=f!==null?f:Gu,f(F,g)&&a.ref===c.ref)return va(a,c,b)}return c.flags|=1,a=po(N,g),a.ref=c.ref,a.return=c,c.child=a}function Vb(a,c,f,g,b){if(a!==null){var N=a.memoizedProps;if(Gu(N,g)&&a.ref===c.ref)if(fs=!1,c.pendingProps=g=N,(a.lanes&b)!==0)(a.flags&131072)!==0&&(fs=!0);else return c.lanes=a.lanes,va(a,c,b)}return Sg(a,c,f,g,b)}function $b(a,c,f){var g=c.pendingProps,b=g.children,N=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},br(Rc,Ps),Ps|=f;else{if((f&1073741824)===0)return a=N!==null?N.baseLanes|f:f,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,br(Rc,Ps),Ps|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=N!==null?N.baseLanes:f,br(Rc,Ps),Ps|=g}else N!==null?(g=N.baseLanes|f,c.memoizedState=null):g=f,br(Rc,Ps),Ps|=g;return es(a,c,b,f),c.child}function Bb(a,c){var f=c.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(c.flags|=512,c.flags|=2097152)}function Sg(a,c,f,g,b){var N=hs(f)?sl:Vn.current;return N=_c(c,N),Ac(c,b),f=xg(a,c,f,g,N,b),g=yg(),a!==null&&!fs?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~b,va(a,c,b)):(Cr&&g&&eg(c),c.flags|=1,es(a,c,f,b),c.child)}function Ub(a,c,f,g,b){if(hs(f)){var N=!0;vh(c)}else N=!1;if(Ac(c,b),c.stateNode===null)Lh(a,c),Ib(c,f,g),Tg(c,f,g,b),g=!0;else if(a===null){var F=c.stateNode,Z=c.memoizedProps;F.props=Z;var se=F.context,ve=f.contextType;typeof ve=="object"&&ve!==null?ve=Gs(ve):(ve=hs(f)?sl:Vn.current,ve=_c(c,ve));var Ve=f.getDerivedStateFromProps,We=typeof Ve=="function"||typeof F.getSnapshotBeforeUpdate=="function";We||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Z!==g||se!==ve)&&Pb(c,F,g,ve),ao=!1;var Le=c.memoizedState;F.state=Le,Ah(c,g,F,b),se=c.memoizedState,Z!==g||Le!==se||ds.current||ao?(typeof Ve=="function"&&(Eg(c,f,Ve,g),se=c.memoizedState),(Z=ao||Cb(c,f,Z,g,Le,se,ve))?(We||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(c.flags|=4194308)):(typeof F.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=se),F.props=g,F.state=se,F.context=ve,g=Z):(typeof F.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{F=c.stateNode,sb(a,c),Z=c.memoizedProps,ve=c.type===c.elementType?Z:mi(c.type,Z),F.props=ve,We=c.pendingProps,Le=F.context,se=f.contextType,typeof se=="object"&&se!==null?se=Gs(se):(se=hs(f)?sl:Vn.current,se=_c(c,se));var ot=f.getDerivedStateFromProps;(Ve=typeof ot=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Z!==We||Le!==se)&&Pb(c,F,g,se),ao=!1,Le=c.memoizedState,F.state=Le,Ah(c,g,F,b);var dt=c.memoizedState;Z!==We||Le!==dt||ds.current||ao?(typeof ot=="function"&&(Eg(c,f,ot,g),dt=c.memoizedState),(ve=ao||Cb(c,f,ve,g,Le,dt,se)||!1)?(Ve||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(g,dt,se),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(g,dt,se)),typeof F.componentDidUpdate=="function"&&(c.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof F.componentDidUpdate!="function"||Z===a.memoizedProps&&Le===a.memoizedState||(c.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Z===a.memoizedProps&&Le===a.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=dt),F.props=g,F.state=dt,F.context=se,g=ve):(typeof F.componentDidUpdate!="function"||Z===a.memoizedProps&&Le===a.memoizedState||(c.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Z===a.memoizedProps&&Le===a.memoizedState||(c.flags|=1024),g=!1)}return Ag(a,c,f,g,N,b)}function Ag(a,c,f,g,b,N){Bb(a,c);var F=(c.flags&128)!==0;if(!g&&!F)return b&&G2(c,f,!1),va(a,c,N);g=c.stateNode,TC.current=c;var Z=F&&typeof f.getDerivedStateFromError!="function"?null:g.render();return c.flags|=1,a!==null&&F?(c.child=kc(c,a.child,null,N),c.child=kc(c,null,Z,N)):es(a,c,Z,N),c.memoizedState=g.state,b&&G2(c,f,!0),c.child}function zb(a){var c=a.stateNode;c.pendingContext?W2(a,c.pendingContext,c.pendingContext!==c.context):c.context&&W2(a,c.context,!1),dg(a,c.containerInfo)}function Hb(a,c,f,g,b){return Nc(),sg(b),c.flags|=256,es(a,c,f,g),c.child}var Cg={dehydrated:null,treeContext:null,retryLane:0};function Ig(a){return{baseLanes:a,cachePool:null,transitions:null}}function Wb(a,c,f){var g=c.pendingProps,b=jr.current,N=!1,F=(c.flags&128)!==0,Z;if((Z=F)||(Z=a!==null&&a.memoizedState===null?!1:(b&2)!==0),Z?(N=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(b|=1),br(jr,b&1),a===null)return ng(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(F=g.children,a=g.fallback,N?(g=c.mode,N=c.child,F={mode:"hidden",children:F},(g&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=F):N=Xh(F,g,0,null),a=pl(a,g,f,null),N.return=c,a.return=c,N.sibling=a,c.child=N,c.child.memoizedState=Ig(f),c.memoizedState=Cg,a):Pg(c,F));if(b=a.memoizedState,b!==null&&(Z=b.dehydrated,Z!==null))return NC(a,c,F,g,Z,b,f);if(N){N=g.fallback,F=c.mode,b=a.child,Z=b.sibling;var se={mode:"hidden",children:g.children};return(F&1)===0&&c.child!==b?(g=c.child,g.childLanes=0,g.pendingProps=se,c.deletions=null):(g=po(b,se),g.subtreeFlags=b.subtreeFlags&14680064),Z!==null?N=po(Z,N):(N=pl(N,F,f,null),N.flags|=2),N.return=c,g.return=c,g.sibling=N,c.child=g,g=N,N=c.child,F=a.child.memoizedState,F=F===null?Ig(f):{baseLanes:F.baseLanes|f,cachePool:null,transitions:F.transitions},N.memoizedState=F,N.childLanes=a.childLanes&~f,c.memoizedState=Cg,g}return N=a.child,a=N.sibling,g=po(N,{mode:"visible",children:g.children}),(c.mode&1)===0&&(g.lanes=f),g.return=c,g.sibling=null,a!==null&&(f=c.deletions,f===null?(c.deletions=[a],c.flags|=16):f.push(a)),c.child=g,c.memoizedState=null,g}function Pg(a,c){return c=Xh({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function Fh(a,c,f,g){return g!==null&&sg(g),kc(c,a.child,null,f),a=Pg(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function NC(a,c,f,g,b,N,F){if(f)return c.flags&256?(c.flags&=-257,g=Ng(Error(r(422))),Fh(a,c,F,g)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(N=g.fallback,b=c.mode,g=Xh({mode:"visible",children:g.children},b,0,null),N=pl(N,b,F,null),N.flags|=2,g.return=c,N.return=c,g.sibling=N,c.child=g,(c.mode&1)!==0&&kc(c,a.child,null,F),c.child.memoizedState=Ig(F),c.memoizedState=Cg,N);if((c.mode&1)===0)return Fh(a,c,F,null);if(b.data==="$!"){if(g=b.nextSibling&&b.nextSibling.dataset,g)var Z=g.dgst;return g=Z,N=Error(r(419)),g=Ng(N,g,void 0),Fh(a,c,F,g)}if(Z=(F&a.childLanes)!==0,fs||Z){if(g=mn,g!==null){switch(F&-F){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(g.suspendedLanes|F))!==0?0:b,b!==0&&b!==N.retryLane&&(N.retryLane=b,xa(a,b),yi(g,a,b,-1))}return Gg(),g=Ng(Error(r(421))),Fh(a,c,F,g)}return b.data==="$?"?(c.flags|=128,c.child=a.child,c=MC.bind(null,a),b._reactRetry=c,null):(a=N.treeContext,Is=ro(b.nextSibling),Cs=c,Cr=!0,pi=null,a!==null&&(Ws[qs++]=ma,Ws[qs++]=ga,Ws[qs++]=il,ma=a.id,ga=a.overflow,il=c),c=Pg(c,g.children),c.flags|=4096,c)}function qb(a,c,f){a.lanes|=c;var g=a.alternate;g!==null&&(g.lanes|=c),lg(a.return,c,f)}function Rg(a,c,f,g,b){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:b}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=g,N.tail=f,N.tailMode=b)}function Gb(a,c,f){var g=c.pendingProps,b=g.revealOrder,N=g.tail;if(es(a,c,g.children,f),g=jr.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&qb(a,f,c);else if(a.tag===19)qb(a,f,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(br(jr,g),(c.mode&1)===0)c.memoizedState=null;else switch(b){case"forwards":for(f=c.child,b=null;f!==null;)a=f.alternate,a!==null&&Ch(a)===null&&(b=f),f=f.sibling;f=b,f===null?(b=c.child,c.child=null):(b=f.sibling,f.sibling=null),Rg(c,!1,b,f,N);break;case"backwards":for(f=null,b=c.child,c.child=null;b!==null;){if(a=b.alternate,a!==null&&Ch(a)===null){c.child=b;break}a=b.sibling,b.sibling=f,f=b,b=a}Rg(c,!0,f,null,N);break;case"together":Rg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Lh(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function va(a,c,f){if(a!==null&&(c.dependencies=a.dependencies),ul|=c.lanes,(f&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(r(153));if(c.child!==null){for(a=c.child,f=po(a,a.pendingProps),c.child=f,f.return=c;a.sibling!==null;)a=a.sibling,f=f.sibling=po(a,a.pendingProps),f.return=c;f.sibling=null}return c.child}function kC(a,c,f){switch(c.tag){case 3:zb(c),Nc();break;case 5:ob(c);break;case 1:hs(c.type)&&vh(c);break;case 4:dg(c,c.stateNode.containerInfo);break;case 10:var g=c.type._context,b=c.memoizedProps.value;br(Nh,g._currentValue),g._currentValue=b;break;case 13:if(g=c.memoizedState,g!==null)return g.dehydrated!==null?(br(jr,jr.current&1),c.flags|=128,null):(f&c.child.childLanes)!==0?Wb(a,c,f):(br(jr,jr.current&1),a=va(a,c,f),a!==null?a.sibling:null);br(jr,jr.current&1);break;case 19:if(g=(f&c.childLanes)!==0,(a.flags&128)!==0){if(g)return Gb(a,c,f);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),br(jr,jr.current),g)break;return null;case 22:case 23:return c.lanes=0,$b(a,c,f)}return va(a,c,f)}var Kb,jg,Xb,Yb;Kb=function(a,c){for(var f=c.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},jg=function(){},Xb=function(a,c,f,g){var b=a.memoizedProps;if(b!==g){a=c.stateNode,ll(Ui.current);var N=null;switch(f){case"input":b=Et(a,b),g=Et(a,g),N=[];break;case"select":b=be({},b,{value:void 0}),g=be({},g,{value:void 0}),N=[];break;case"textarea":b=Me(a,b),g=Me(a,g),N=[];break;default:typeof b.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=gh)}Er(f,g);var F;f=null;for(ve in b)if(!g.hasOwnProperty(ve)&&b.hasOwnProperty(ve)&&b[ve]!=null)if(ve==="style"){var Z=b[ve];for(F in Z)Z.hasOwnProperty(F)&&(f||(f={}),f[F]="")}else ve!=="dangerouslySetInnerHTML"&&ve!=="children"&&ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&ve!=="autoFocus"&&(s.hasOwnProperty(ve)?N||(N=[]):(N=N||[]).push(ve,null));for(ve in g){var se=g[ve];if(Z=b?.[ve],g.hasOwnProperty(ve)&&se!==Z&&(se!=null||Z!=null))if(ve==="style")if(Z){for(F in Z)!Z.hasOwnProperty(F)||se&&se.hasOwnProperty(F)||(f||(f={}),f[F]="");for(F in se)se.hasOwnProperty(F)&&Z[F]!==se[F]&&(f||(f={}),f[F]=se[F])}else f||(N||(N=[]),N.push(ve,f)),f=se;else ve==="dangerouslySetInnerHTML"?(se=se?se.__html:void 0,Z=Z?Z.__html:void 0,se!=null&&Z!==se&&(N=N||[]).push(ve,se)):ve==="children"?typeof se!="string"&&typeof se!="number"||(N=N||[]).push(ve,""+se):ve!=="suppressContentEditableWarning"&&ve!=="suppressHydrationWarning"&&(s.hasOwnProperty(ve)?(se!=null&&ve==="onScroll"&&Nr("scroll",a),N||Z===se||(N=[])):(N=N||[]).push(ve,se))}f&&(N=N||[]).push("style",f);var ve=N;(c.updateQueue=ve)&&(c.flags|=4)}},Yb=function(a,c,f,g){f!==g&&(c.flags|=4)};function ld(a,c){if(!Cr)switch(a.tailMode){case"hidden":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Bn(a){var c=a.alternate!==null&&a.alternate.child===a.child,f=0,g=0;if(c)for(var b=a.child;b!==null;)f|=b.lanes|b.childLanes,g|=b.subtreeFlags&14680064,g|=b.flags&14680064,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)f|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=g,a.childLanes=f,c}function SC(a,c,f){var g=c.pendingProps;switch(tg(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bn(c),null;case 1:return hs(c.type)&&yh(),Bn(c),null;case 3:return g=c.stateNode,Cc(),kr(ds),kr(Vn),pg(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(Eh(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,pi!==null&&(Hg(pi),pi=null))),jg(a,c),Bn(c),null;case 5:hg(c);var b=ll(nd.current);if(f=c.type,a!==null&&c.stateNode!=null)Xb(a,c,f,g,b),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!g){if(c.stateNode===null)throw Error(r(166));return Bn(c),null}if(a=ll(Ui.current),Eh(c)){g=c.stateNode,f=c.type;var N=c.memoizedProps;switch(g[Bi]=c,g[Ju]=N,a=(c.mode&1)!==0,f){case"dialog":Nr("cancel",g),Nr("close",g);break;case"iframe":case"object":case"embed":Nr("load",g);break;case"video":case"audio":for(b=0;b<Xu.length;b++)Nr(Xu[b],g);break;case"source":Nr("error",g);break;case"img":case"image":case"link":Nr("error",g),Nr("load",g);break;case"details":Nr("toggle",g);break;case"input":dr(g,N),Nr("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!N.multiple},Nr("invalid",g);break;case"textarea":ht(g,N),Nr("invalid",g)}Er(f,N),b=null;for(var F in N)if(N.hasOwnProperty(F)){var Z=N[F];F==="children"?typeof Z=="string"?g.textContent!==Z&&(N.suppressHydrationWarning!==!0&&mh(g.textContent,Z,a),b=["children",Z]):typeof Z=="number"&&g.textContent!==""+Z&&(N.suppressHydrationWarning!==!0&&mh(g.textContent,Z,a),b=["children",""+Z]):s.hasOwnProperty(F)&&Z!=null&&F==="onScroll"&&Nr("scroll",g)}switch(f){case"input":Qe(g),nr(g,N,!0);break;case"textarea":Qe(g),Te(g);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(g.onclick=gh)}g=b,c.updateQueue=g,g!==null&&(c.flags|=4)}else{F=b.nodeType===9?b:b.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ie(f)),a==="http://www.w3.org/1999/xhtml"?f==="script"?(a=F.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=F.createElement(f,{is:g.is}):(a=F.createElement(f),f==="select"&&(F=a,g.multiple?F.multiple=!0:g.size&&(F.size=g.size))):a=F.createElementNS(a,f),a[Bi]=c,a[Ju]=g,Kb(a,c,!1,!1),c.stateNode=a;e:{switch(F=qr(f,g),f){case"dialog":Nr("cancel",a),Nr("close",a),b=g;break;case"iframe":case"object":case"embed":Nr("load",a),b=g;break;case"video":case"audio":for(b=0;b<Xu.length;b++)Nr(Xu[b],a);b=g;break;case"source":Nr("error",a),b=g;break;case"img":case"image":case"link":Nr("error",a),Nr("load",a),b=g;break;case"details":Nr("toggle",a),b=g;break;case"input":dr(a,g),b=Et(a,g),Nr("invalid",a);break;case"option":b=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},b=be({},g,{value:void 0}),Nr("invalid",a);break;case"textarea":ht(a,g),b=Me(a,g),Nr("invalid",a);break;default:b=g}Er(f,b),Z=b;for(N in Z)if(Z.hasOwnProperty(N)){var se=Z[N];N==="style"?hr(a,se):N==="dangerouslySetInnerHTML"?(se=se?se.__html:void 0,se!=null&&Rt(a,se)):N==="children"?typeof se=="string"?(f!=="textarea"||se!=="")&&Oe(a,se):typeof se=="number"&&Oe(a,""+se):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(s.hasOwnProperty(N)?se!=null&&N==="onScroll"&&Nr("scroll",a):se!=null&&O(a,N,se,F))}switch(f){case"input":Qe(a),nr(a,g,!1);break;case"textarea":Qe(a),Te(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Re(g.value));break;case"select":a.multiple=!!g.multiple,N=g.value,N!=null?le(a,!!g.multiple,N,!1):g.defaultValue!=null&&le(a,!!g.multiple,g.defaultValue,!0);break;default:typeof b.onClick=="function"&&(a.onclick=gh)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Bn(c),null;case 6:if(a&&c.stateNode!=null)Yb(a,c,a.memoizedProps,g);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(f=ll(nd.current),ll(Ui.current),Eh(c)){if(g=c.stateNode,f=c.memoizedProps,g[Bi]=c,(N=g.nodeValue!==f)&&(a=Cs,a!==null))switch(a.tag){case 3:mh(g.nodeValue,f,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&mh(g.nodeValue,f,(a.mode&1)!==0)}N&&(c.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[Bi]=c,c.stateNode=g}return Bn(c),null;case 13:if(kr(jr),g=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Cr&&Is!==null&&(c.mode&1)!==0&&(c.flags&128)===0)Z2(),Nc(),c.flags|=98560,N=!1;else if(N=Eh(c),g!==null&&g.dehydrated!==null){if(a===null){if(!N)throw Error(r(318));if(N=c.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[Bi]=c}else Nc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Bn(c),N=!1}else pi!==null&&(Hg(pi),pi=null),N=!0;if(!N)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=f,c):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(jr.current&1)!==0?un===0&&(un=3):Gg())),c.updateQueue!==null&&(c.flags|=4),Bn(c),null);case 4:return Cc(),jg(a,c),a===null&&Yu(c.stateNode.containerInfo),Bn(c),null;case 10:return og(c.type._context),Bn(c),null;case 17:return hs(c.type)&&yh(),Bn(c),null;case 19:if(kr(jr),N=c.memoizedState,N===null)return Bn(c),null;if(g=(c.flags&128)!==0,F=N.rendering,F===null)if(g)ld(N,!1);else{if(un!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(F=Ch(a),F!==null){for(c.flags|=128,ld(N,!1),g=F.updateQueue,g!==null&&(c.updateQueue=g,c.flags|=4),c.subtreeFlags=0,g=f,f=c.child;f!==null;)N=f,a=g,N.flags&=14680066,F=N.alternate,F===null?(N.childLanes=0,N.lanes=a,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=F.childLanes,N.lanes=F.lanes,N.child=F.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=F.memoizedProps,N.memoizedState=F.memoizedState,N.updateQueue=F.updateQueue,N.type=F.type,a=F.dependencies,N.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),f=f.sibling;return br(jr,jr.current&1|2),c.child}a=a.sibling}N.tail!==null&&$e()>jc&&(c.flags|=128,g=!0,ld(N,!1),c.lanes=4194304)}else{if(!g)if(a=Ch(F),a!==null){if(c.flags|=128,g=!0,f=a.updateQueue,f!==null&&(c.updateQueue=f,c.flags|=4),ld(N,!0),N.tail===null&&N.tailMode==="hidden"&&!F.alternate&&!Cr)return Bn(c),null}else 2*$e()-N.renderingStartTime>jc&&f!==1073741824&&(c.flags|=128,g=!0,ld(N,!1),c.lanes=4194304);N.isBackwards?(F.sibling=c.child,c.child=F):(f=N.last,f!==null?f.sibling=F:c.child=F,N.last=F)}return N.tail!==null?(c=N.tail,N.rendering=c,N.tail=c.sibling,N.renderingStartTime=$e(),c.sibling=null,f=jr.current,br(jr,g?f&1|2:f&1),c):(Bn(c),null);case 22:case 23:return qg(),g=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(c.flags|=8192),g&&(c.mode&1)!==0?(Ps&1073741824)!==0&&(Bn(c),c.subtreeFlags&6&&(c.flags|=8192)):Bn(c),null;case 24:return null;case 25:return null}throw Error(r(156,c.tag))}function AC(a,c){switch(tg(c),c.tag){case 1:return hs(c.type)&&yh(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Cc(),kr(ds),kr(Vn),pg(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return hg(c),null;case 13:if(kr(jr),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Nc()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return kr(jr),null;case 4:return Cc(),null;case 10:return og(c.type._context),null;case 22:case 23:return qg(),null;case 24:return null;default:return null}}var Mh=!1,Un=!1,CC=typeof WeakSet=="function"?WeakSet:Set,ct=null;function Pc(a,c){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){Ur(a,c,g)}else f.current=null}function Dg(a,c,f){try{f()}catch(g){Ur(a,c,g)}}var Qb=!1;function IC(a,c){if(qm=Za,a=C2(),Mm(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var b=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{f.nodeType,N.nodeType}catch{f=null;break e}var F=0,Z=-1,se=-1,ve=0,Ve=0,We=a,Le=null;t:for(;;){for(var ot;We!==f||b!==0&&We.nodeType!==3||(Z=F+b),We!==N||g!==0&&We.nodeType!==3||(se=F+g),We.nodeType===3&&(F+=We.nodeValue.length),(ot=We.firstChild)!==null;)Le=We,We=ot;for(;;){if(We===a)break t;if(Le===f&&++ve===b&&(Z=F),Le===N&&++Ve===g&&(se=F),(ot=We.nextSibling)!==null)break;We=Le,Le=We.parentNode}We=ot}f=Z===-1||se===-1?null:{start:Z,end:se}}else f=null}f=f||{start:0,end:0}}else f=null;for(Gm={focusedElem:a,selectionRange:f},Za=!1,ct=c;ct!==null;)if(c=ct,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,ct=a;else for(;ct!==null;){c=ct;try{var dt=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(dt!==null){var ft=dt.memoizedProps,Kr=dt.memoizedState,he=c.stateNode,oe=he.getSnapshotBeforeUpdate(c.elementType===c.type?ft:mi(c.type,ft),Kr);he.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var ge=c.stateNode.containerInfo;ge.nodeType===1?ge.textContent="":ge.nodeType===9&&ge.documentElement&&ge.removeChild(ge.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ye){Ur(c,c.return,Ye)}if(a=c.sibling,a!==null){a.return=c.return,ct=a;break}ct=c.return}return dt=Qb,Qb=!1,dt}function cd(a,c,f){var g=c.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var b=g=g.next;do{if((b.tag&a)===a){var N=b.destroy;b.destroy=void 0,N!==void 0&&Dg(c,f,N)}b=b.next}while(b!==g)}}function Vh(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&a)===a){var g=f.create;f.destroy=g()}f=f.next}while(f!==c)}}function Og(a){var c=a.ref;if(c!==null){var f=a.stateNode;switch(a.tag){case 5:a=f;break;default:a=f}typeof c=="function"?c(a):c.current=a}}function Jb(a){var c=a.alternate;c!==null&&(a.alternate=null,Jb(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[Bi],delete c[Ju],delete c[Qm],delete c[hC],delete c[fC])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Zb(a){return a.tag===5||a.tag===3||a.tag===4}function ew(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Zb(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Fg(a,c,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?f.nodeType===8?f.parentNode.insertBefore(a,c):f.insertBefore(a,c):(f.nodeType===8?(c=f.parentNode,c.insertBefore(a,f)):(c=f,c.appendChild(a)),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=gh));else if(g!==4&&(a=a.child,a!==null))for(Fg(a,c,f),a=a.sibling;a!==null;)Fg(a,c,f),a=a.sibling}function Lg(a,c,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,c?f.insertBefore(a,c):f.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(Lg(a,c,f),a=a.sibling;a!==null;)Lg(a,c,f),a=a.sibling}var Nn=null,gi=!1;function lo(a,c,f){for(f=f.child;f!==null;)tw(a,c,f),f=f.sibling}function tw(a,c,f){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(Ns,f)}catch{}switch(f.tag){case 5:Un||Pc(f,c);case 6:var g=Nn,b=gi;Nn=null,lo(a,c,f),Nn=g,gi=b,Nn!==null&&(gi?(a=Nn,f=f.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):Nn.removeChild(f.stateNode));break;case 18:Nn!==null&&(gi?(a=Nn,f=f.stateNode,a.nodeType===8?Ym(a.parentNode,f):a.nodeType===1&&Ym(a,f),di(a)):Ym(Nn,f.stateNode));break;case 4:g=Nn,b=gi,Nn=f.stateNode.containerInfo,gi=!0,lo(a,c,f),Nn=g,gi=b;break;case 0:case 11:case 14:case 15:if(!Un&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){b=g=g.next;do{var N=b,F=N.destroy;N=N.tag,F!==void 0&&((N&2)!==0||(N&4)!==0)&&Dg(f,c,F),b=b.next}while(b!==g)}lo(a,c,f);break;case 1:if(!Un&&(Pc(f,c),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(Z){Ur(f,c,Z)}lo(a,c,f);break;case 21:lo(a,c,f);break;case 22:f.mode&1?(Un=(g=Un)||f.memoizedState!==null,lo(a,c,f),Un=g):lo(a,c,f);break;default:lo(a,c,f)}}function rw(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new CC),c.forEach(function(g){var b=VC.bind(null,a,g);f.has(g)||(f.add(g),g.then(b,b))})}}function xi(a,c){var f=c.deletions;if(f!==null)for(var g=0;g<f.length;g++){var b=f[g];try{var N=a,F=c,Z=F;e:for(;Z!==null;){switch(Z.tag){case 5:Nn=Z.stateNode,gi=!1;break e;case 3:Nn=Z.stateNode.containerInfo,gi=!0;break e;case 4:Nn=Z.stateNode.containerInfo,gi=!0;break e}Z=Z.return}if(Nn===null)throw Error(r(160));tw(N,F,b),Nn=null,gi=!1;var se=b.alternate;se!==null&&(se.return=null),b.return=null}catch(ve){Ur(b,c,ve)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)nw(c,a),c=c.sibling}function nw(a,c){var f=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(xi(c,a),Hi(a),g&4){try{cd(3,a,a.return),Vh(3,a)}catch(ft){Ur(a,a.return,ft)}try{cd(5,a,a.return)}catch(ft){Ur(a,a.return,ft)}}break;case 1:xi(c,a),Hi(a),g&512&&f!==null&&Pc(f,f.return);break;case 5:if(xi(c,a),Hi(a),g&512&&f!==null&&Pc(f,f.return),a.flags&32){var b=a.stateNode;try{Oe(b,"")}catch(ft){Ur(a,a.return,ft)}}if(g&4&&(b=a.stateNode,b!=null)){var N=a.memoizedProps,F=f!==null?f.memoizedProps:N,Z=a.type,se=a.updateQueue;if(a.updateQueue=null,se!==null)try{Z==="input"&&N.type==="radio"&&N.name!=null&&kt(b,N),qr(Z,F);var ve=qr(Z,N);for(F=0;F<se.length;F+=2){var Ve=se[F],We=se[F+1];Ve==="style"?hr(b,We):Ve==="dangerouslySetInnerHTML"?Rt(b,We):Ve==="children"?Oe(b,We):O(b,Ve,We,ve)}switch(Z){case"input":Ue(b,N);break;case"textarea":it(b,N);break;case"select":var Le=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!N.multiple;var ot=N.value;ot!=null?le(b,!!N.multiple,ot,!1):Le!==!!N.multiple&&(N.defaultValue!=null?le(b,!!N.multiple,N.defaultValue,!0):le(b,!!N.multiple,N.multiple?[]:"",!1))}b[Ju]=N}catch(ft){Ur(a,a.return,ft)}}break;case 6:if(xi(c,a),Hi(a),g&4){if(a.stateNode===null)throw Error(r(162));b=a.stateNode,N=a.memoizedProps;try{b.nodeValue=N}catch(ft){Ur(a,a.return,ft)}}break;case 3:if(xi(c,a),Hi(a),g&4&&f!==null&&f.memoizedState.isDehydrated)try{di(c.containerInfo)}catch(ft){Ur(a,a.return,ft)}break;case 4:xi(c,a),Hi(a);break;case 13:xi(c,a),Hi(a),b=a.child,b.flags&8192&&(N=b.memoizedState!==null,b.stateNode.isHidden=N,!N||b.alternate!==null&&b.alternate.memoizedState!==null||($g=$e())),g&4&&rw(a);break;case 22:if(Ve=f!==null&&f.memoizedState!==null,a.mode&1?(Un=(ve=Un)||Ve,xi(c,a),Un=ve):xi(c,a),Hi(a),g&8192){if(ve=a.memoizedState!==null,(a.stateNode.isHidden=ve)&&!Ve&&(a.mode&1)!==0)for(ct=a,Ve=a.child;Ve!==null;){for(We=ct=Ve;ct!==null;){switch(Le=ct,ot=Le.child,Le.tag){case 0:case 11:case 14:case 15:cd(4,Le,Le.return);break;case 1:Pc(Le,Le.return);var dt=Le.stateNode;if(typeof dt.componentWillUnmount=="function"){g=Le,f=Le.return;try{c=g,dt.props=c.memoizedProps,dt.state=c.memoizedState,dt.componentWillUnmount()}catch(ft){Ur(g,f,ft)}}break;case 5:Pc(Le,Le.return);break;case 22:if(Le.memoizedState!==null){aw(We);continue}}ot!==null?(ot.return=Le,ct=ot):aw(We)}Ve=Ve.sibling}e:for(Ve=null,We=a;;){if(We.tag===5){if(Ve===null){Ve=We;try{b=We.stateNode,ve?(N=b.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(Z=We.stateNode,se=We.memoizedProps.style,F=se!=null&&se.hasOwnProperty("display")?se.display:null,Z.style.display=pt("display",F))}catch(ft){Ur(a,a.return,ft)}}}else if(We.tag===6){if(Ve===null)try{We.stateNode.nodeValue=ve?"":We.memoizedProps}catch(ft){Ur(a,a.return,ft)}}else if((We.tag!==22&&We.tag!==23||We.memoizedState===null||We===a)&&We.child!==null){We.child.return=We,We=We.child;continue}if(We===a)break e;for(;We.sibling===null;){if(We.return===null||We.return===a)break e;Ve===We&&(Ve=null),We=We.return}Ve===We&&(Ve=null),We.sibling.return=We.return,We=We.sibling}}break;case 19:xi(c,a),Hi(a),g&4&&rw(a);break;case 21:break;default:xi(c,a),Hi(a)}}function Hi(a){var c=a.flags;if(c&2){try{e:{for(var f=a.return;f!==null;){if(Zb(f)){var g=f;break e}f=f.return}throw Error(r(160))}switch(g.tag){case 5:var b=g.stateNode;g.flags&32&&(Oe(b,""),g.flags&=-33);var N=ew(a);Lg(a,N,b);break;case 3:case 4:var F=g.stateNode.containerInfo,Z=ew(a);Fg(a,Z,F);break;default:throw Error(r(161))}}catch(se){Ur(a,a.return,se)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function PC(a,c,f){ct=a,sw(a)}function sw(a,c,f){for(var g=(a.mode&1)!==0;ct!==null;){var b=ct,N=b.child;if(b.tag===22&&g){var F=b.memoizedState!==null||Mh;if(!F){var Z=b.alternate,se=Z!==null&&Z.memoizedState!==null||Un;Z=Mh;var ve=Un;if(Mh=F,(Un=se)&&!ve)for(ct=b;ct!==null;)F=ct,se=F.child,F.tag===22&&F.memoizedState!==null?ow(b):se!==null?(se.return=F,ct=se):ow(b);for(;N!==null;)ct=N,sw(N),N=N.sibling;ct=b,Mh=Z,Un=ve}iw(a)}else(b.subtreeFlags&8772)!==0&&N!==null?(N.return=b,ct=N):iw(a)}}function iw(a){for(;ct!==null;){var c=ct;if((c.flags&8772)!==0){var f=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Un||Vh(5,c);break;case 1:var g=c.stateNode;if(c.flags&4&&!Un)if(f===null)g.componentDidMount();else{var b=c.elementType===c.type?f.memoizedProps:mi(c.type,f.memoizedProps);g.componentDidUpdate(b,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var N=c.updateQueue;N!==null&&ab(c,N,g);break;case 3:var F=c.updateQueue;if(F!==null){if(f=null,c.child!==null)switch(c.child.tag){case 5:f=c.child.stateNode;break;case 1:f=c.child.stateNode}ab(c,F,f)}break;case 5:var Z=c.stateNode;if(f===null&&c.flags&4){f=Z;var se=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":se.autoFocus&&f.focus();break;case"img":se.src&&(f.src=se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ve=c.alternate;if(ve!==null){var Ve=ve.memoizedState;if(Ve!==null){var We=Ve.dehydrated;We!==null&&di(We)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Un||c.flags&512&&Og(c)}catch(Le){Ur(c,c.return,Le)}}if(c===a){ct=null;break}if(f=c.sibling,f!==null){f.return=c.return,ct=f;break}ct=c.return}}function aw(a){for(;ct!==null;){var c=ct;if(c===a){ct=null;break}var f=c.sibling;if(f!==null){f.return=c.return,ct=f;break}ct=c.return}}function ow(a){for(;ct!==null;){var c=ct;try{switch(c.tag){case 0:case 11:case 15:var f=c.return;try{Vh(4,c)}catch(se){Ur(c,f,se)}break;case 1:var g=c.stateNode;if(typeof g.componentDidMount=="function"){var b=c.return;try{g.componentDidMount()}catch(se){Ur(c,b,se)}}var N=c.return;try{Og(c)}catch(se){Ur(c,N,se)}break;case 5:var F=c.return;try{Og(c)}catch(se){Ur(c,F,se)}}}catch(se){Ur(c,c.return,se)}if(c===a){ct=null;break}var Z=c.sibling;if(Z!==null){Z.return=c.return,ct=Z;break}ct=c.return}}var RC=Math.ceil,$h=M.ReactCurrentDispatcher,Mg=M.ReactCurrentOwner,Xs=M.ReactCurrentBatchConfig,Qt=0,mn=null,tn=null,kn=0,Ps=0,Rc=no(0),un=0,ud=null,ul=0,Bh=0,Vg=0,dd=null,ps=null,$g=0,jc=1/0,ba=null,Uh=!1,Bg=null,co=null,zh=!1,uo=null,Hh=0,hd=0,Ug=null,Wh=-1,qh=0;function ts(){return(Qt&6)!==0?$e():Wh!==-1?Wh:Wh=$e()}function ho(a){return(a.mode&1)===0?1:(Qt&2)!==0&&kn!==0?kn&-kn:mC.transition!==null?(qh===0&&(qh=Jo()),qh):(a=qt,a!==0||(a=window.event,a=a===void 0?16:$u(a.type)),a)}function yi(a,c,f,g){if(50<hd)throw hd=0,Ug=null,Error(r(185));Xa(a,f,g),((Qt&2)===0||a!==mn)&&(a===mn&&((Qt&2)===0&&(Bh|=f),un===4&&fo(a,kn)),ms(a,g),f===1&&Qt===0&&(c.mode&1)===0&&(jc=$e()+500,bh&&io()))}function ms(a,c){var f=a.callbackNode;la(a,c);var g=Qo(a,a===mn?kn:0);if(g===0)f!==null&&Ze(f),a.callbackNode=null,a.callbackPriority=0;else if(c=g&-g,a.callbackPriority!==c){if(f!=null&&Ze(f),c===1)a.tag===0?pC(cw.bind(null,a)):K2(cw.bind(null,a)),uC(function(){(Qt&6)===0&&io()}),f=null;else{switch(Qa(g)){case 1:f=tr;break;case 4:f=Jt;break;case 16:f=ir;break;case 536870912:f=Oi;break;default:f=ir}f=xw(f,lw.bind(null,a))}a.callbackPriority=c,a.callbackNode=f}}function lw(a,c){if(Wh=-1,qh=0,(Qt&6)!==0)throw Error(r(327));var f=a.callbackNode;if(Dc()&&a.callbackNode!==f)return null;var g=Qo(a,a===mn?kn:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||c)c=Gh(a,g);else{c=g;var b=Qt;Qt|=2;var N=dw();(mn!==a||kn!==c)&&(ba=null,jc=$e()+500,hl(a,c));do try{OC();break}catch(Z){uw(a,Z)}while(!0);ag(),$h.current=N,Qt=b,tn!==null?c=0:(mn=null,kn=0,c=un)}if(c!==0){if(c===2&&(b=ks(a),b!==0&&(g=b,c=zg(a,b))),c===1)throw f=ud,hl(a,0),fo(a,g),ms(a,$e()),f;if(c===6)fo(a,g);else{if(b=a.current.alternate,(g&30)===0&&!jC(b)&&(c=Gh(a,g),c===2&&(N=ks(a),N!==0&&(g=N,c=zg(a,N))),c===1))throw f=ud,hl(a,0),fo(a,g),ms(a,$e()),f;switch(a.finishedWork=b,a.finishedLanes=g,c){case 0:case 1:throw Error(r(345));case 2:fl(a,ps,ba);break;case 3:if(fo(a,g),(g&130023424)===g&&(c=$g+500-$e(),10<c)){if(Qo(a,0)!==0)break;if(b=a.suspendedLanes,(b&g)!==g){ts(),a.pingedLanes|=a.suspendedLanes&b;break}a.timeoutHandle=Xm(fl.bind(null,a,ps,ba),c);break}fl(a,ps,ba);break;case 4:if(fo(a,g),(g&4194240)===g)break;for(c=a.eventTimes,b=-1;0<g;){var F=31-Tr(g);N=1<<F,F=c[F],F>b&&(b=F),g&=~N}if(g=b,g=$e()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*RC(g/1960))-g,10<g){a.timeoutHandle=Xm(fl.bind(null,a,ps,ba),g);break}fl(a,ps,ba);break;case 5:fl(a,ps,ba);break;default:throw Error(r(329))}}}return ms(a,$e()),a.callbackNode===f?lw.bind(null,a):null}function zg(a,c){var f=dd;return a.current.memoizedState.isDehydrated&&(hl(a,c).flags|=256),a=Gh(a,c),a!==2&&(c=ps,ps=f,c!==null&&Hg(c)),a}function Hg(a){ps===null?ps=a:ps.push.apply(ps,a)}function jC(a){for(var c=a;;){if(c.flags&16384){var f=c.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var b=f[g],N=b.getSnapshot;b=b.value;try{if(!fi(N(),b))return!1}catch{return!1}}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function fo(a,c){for(c&=~Vg,c&=~Bh,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var f=31-Tr(c),g=1<<f;a[f]=-1,c&=~g}}function cw(a){if((Qt&6)!==0)throw Error(r(327));Dc();var c=Qo(a,0);if((c&1)===0)return ms(a,$e()),null;var f=Gh(a,c);if(a.tag!==0&&f===2){var g=ks(a);g!==0&&(c=g,f=zg(a,g))}if(f===1)throw f=ud,hl(a,0),fo(a,c),ms(a,$e()),f;if(f===6)throw Error(r(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,fl(a,ps,ba),ms(a,$e()),null}function Wg(a,c){var f=Qt;Qt|=1;try{return a(c)}finally{Qt=f,Qt===0&&(jc=$e()+500,bh&&io())}}function dl(a){uo!==null&&uo.tag===0&&(Qt&6)===0&&Dc();var c=Qt;Qt|=1;var f=Xs.transition,g=qt;try{if(Xs.transition=null,qt=1,a)return a()}finally{qt=g,Xs.transition=f,Qt=c,(Qt&6)===0&&io()}}function qg(){Ps=Rc.current,kr(Rc)}function hl(a,c){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==-1&&(a.timeoutHandle=-1,cC(f)),tn!==null)for(f=tn.return;f!==null;){var g=f;switch(tg(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&yh();break;case 3:Cc(),kr(ds),kr(Vn),pg();break;case 5:hg(g);break;case 4:Cc();break;case 13:kr(jr);break;case 19:kr(jr);break;case 10:og(g.type._context);break;case 22:case 23:qg()}f=f.return}if(mn=a,tn=a=po(a.current,null),kn=Ps=c,un=0,ud=null,Vg=Bh=ul=0,ps=dd=null,ol!==null){for(c=0;c<ol.length;c++)if(f=ol[c],g=f.interleaved,g!==null){f.interleaved=null;var b=g.next,N=f.pending;if(N!==null){var F=N.next;N.next=b,g.next=F}f.pending=g}ol=null}return a}function uw(a,c){do{var f=tn;try{if(ag(),Ih.current=Dh,Ph){for(var g=Dr.memoizedState;g!==null;){var b=g.queue;b!==null&&(b.pending=null),g=g.next}Ph=!1}if(cl=0,pn=cn=Dr=null,sd=!1,id=0,Mg.current=null,f===null||f.return===null){un=1,ud=c,tn=null;break}e:{var N=a,F=f.return,Z=f,se=c;if(c=kn,Z.flags|=32768,se!==null&&typeof se=="object"&&typeof se.then=="function"){var ve=se,Ve=Z,We=Ve.tag;if((Ve.mode&1)===0&&(We===0||We===11||We===15)){var Le=Ve.alternate;Le?(Ve.updateQueue=Le.updateQueue,Ve.memoizedState=Le.memoizedState,Ve.lanes=Le.lanes):(Ve.updateQueue=null,Ve.memoizedState=null)}var ot=Ob(F);if(ot!==null){ot.flags&=-257,Fb(ot,F,Z,N,c),ot.mode&1&&Db(N,ve,c),c=ot,se=ve;var dt=c.updateQueue;if(dt===null){var ft=new Set;ft.add(se),c.updateQueue=ft}else dt.add(se);break e}else{if((c&1)===0){Db(N,ve,c),Gg();break e}se=Error(r(426))}}else if(Cr&&Z.mode&1){var Kr=Ob(F);if(Kr!==null){(Kr.flags&65536)===0&&(Kr.flags|=256),Fb(Kr,F,Z,N,c),sg(Ic(se,Z));break e}}N=se=Ic(se,Z),un!==4&&(un=2),dd===null?dd=[N]:dd.push(N),N=F;do{switch(N.tag){case 3:N.flags|=65536,c&=-c,N.lanes|=c;var he=Rb(N,se,c);ib(N,he);break e;case 1:Z=se;var oe=N.type,ge=N.stateNode;if((N.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||ge!==null&&typeof ge.componentDidCatch=="function"&&(co===null||!co.has(ge)))){N.flags|=65536,c&=-c,N.lanes|=c;var Ye=jb(N,Z,c);ib(N,Ye);break e}}N=N.return}while(N!==null)}fw(f)}catch(gt){c=gt,tn===f&&f!==null&&(tn=f=f.return);continue}break}while(!0)}function dw(){var a=$h.current;return $h.current=Dh,a===null?Dh:a}function Gg(){(un===0||un===3||un===2)&&(un=4),mn===null||(ul&268435455)===0&&(Bh&268435455)===0||fo(mn,kn)}function Gh(a,c){var f=Qt;Qt|=2;var g=dw();(mn!==a||kn!==c)&&(ba=null,hl(a,c));do try{DC();break}catch(b){uw(a,b)}while(!0);if(ag(),Qt=f,$h.current=g,tn!==null)throw Error(r(261));return mn=null,kn=0,un}function DC(){for(;tn!==null;)hw(tn)}function OC(){for(;tn!==null&&!nt();)hw(tn)}function hw(a){var c=gw(a.alternate,a,Ps);a.memoizedProps=a.pendingProps,c===null?fw(a):tn=c,Mg.current=null}function fw(a){var c=a;do{var f=c.alternate;if(a=c.return,(c.flags&32768)===0){if(f=SC(f,c,Ps),f!==null){tn=f;return}}else{if(f=AC(f,c),f!==null){f.flags&=32767,tn=f;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{un=6,tn=null;return}}if(c=c.sibling,c!==null){tn=c;return}tn=c=a}while(c!==null);un===0&&(un=5)}function fl(a,c,f){var g=qt,b=Xs.transition;try{Xs.transition=null,qt=1,FC(a,c,f,g)}finally{Xs.transition=b,qt=g}return null}function FC(a,c,f,g){do Dc();while(uo!==null);if((Qt&6)!==0)throw Error(r(327));f=a.finishedWork;var b=a.finishedLanes;if(f===null)return null;if(a.finishedWork=null,a.finishedLanes=0,f===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0;var N=f.lanes|f.childLanes;if(mr(a,N),a===mn&&(tn=mn=null,kn=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||zh||(zh=!0,xw(ir,function(){return Dc(),null})),N=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||N){N=Xs.transition,Xs.transition=null;var F=qt;qt=1;var Z=Qt;Qt|=4,Mg.current=null,IC(a,f),nw(f,a),rC(Gm),Za=!!qm,Gm=qm=null,a.current=f,PC(f),Ke(),Qt=Z,qt=F,Xs.transition=N}else a.current=f;if(zh&&(zh=!1,uo=a,Hh=b),N=a.pendingLanes,N===0&&(co=null),qa(f.stateNode),ms(a,$e()),c!==null)for(g=a.onRecoverableError,f=0;f<c.length;f++)b=c[f],g(b.value,{componentStack:b.stack,digest:b.digest});if(Uh)throw Uh=!1,a=Bg,Bg=null,a;return(Hh&1)!==0&&a.tag!==0&&Dc(),N=a.pendingLanes,(N&1)!==0?a===Ug?hd++:(hd=0,Ug=a):hd=0,io(),null}function Dc(){if(uo!==null){var a=Qa(Hh),c=Xs.transition,f=qt;try{if(Xs.transition=null,qt=16>a?16:a,uo===null)var g=!1;else{if(a=uo,uo=null,Hh=0,(Qt&6)!==0)throw Error(r(331));var b=Qt;for(Qt|=4,ct=a.current;ct!==null;){var N=ct,F=N.child;if((ct.flags&16)!==0){var Z=N.deletions;if(Z!==null){for(var se=0;se<Z.length;se++){var ve=Z[se];for(ct=ve;ct!==null;){var Ve=ct;switch(Ve.tag){case 0:case 11:case 15:cd(8,Ve,N)}var We=Ve.child;if(We!==null)We.return=Ve,ct=We;else for(;ct!==null;){Ve=ct;var Le=Ve.sibling,ot=Ve.return;if(Jb(Ve),Ve===ve){ct=null;break}if(Le!==null){Le.return=ot,ct=Le;break}ct=ot}}}var dt=N.alternate;if(dt!==null){var ft=dt.child;if(ft!==null){dt.child=null;do{var Kr=ft.sibling;ft.sibling=null,ft=Kr}while(ft!==null)}}ct=N}}if((N.subtreeFlags&2064)!==0&&F!==null)F.return=N,ct=F;else e:for(;ct!==null;){if(N=ct,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:cd(9,N,N.return)}var he=N.sibling;if(he!==null){he.return=N.return,ct=he;break e}ct=N.return}}var oe=a.current;for(ct=oe;ct!==null;){F=ct;var ge=F.child;if((F.subtreeFlags&2064)!==0&&ge!==null)ge.return=F,ct=ge;else e:for(F=oe;ct!==null;){if(Z=ct,(Z.flags&2048)!==0)try{switch(Z.tag){case 0:case 11:case 15:Vh(9,Z)}}catch(gt){Ur(Z,Z.return,gt)}if(Z===F){ct=null;break e}var Ye=Z.sibling;if(Ye!==null){Ye.return=Z.return,ct=Ye;break e}ct=Z.return}}if(Qt=b,io(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(Ns,a)}catch{}g=!0}return g}finally{qt=f,Xs.transition=c}}return!1}function pw(a,c,f){c=Ic(f,c),c=Rb(a,c,1),a=oo(a,c,1),c=ts(),a!==null&&(Xa(a,1,c),ms(a,c))}function Ur(a,c,f){if(a.tag===3)pw(a,a,f);else for(;c!==null;){if(c.tag===3){pw(c,a,f);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(co===null||!co.has(g))){a=Ic(f,a),a=jb(c,a,1),c=oo(c,a,1),a=ts(),c!==null&&(Xa(c,1,a),ms(c,a));break}}c=c.return}}function LC(a,c,f){var g=a.pingCache;g!==null&&g.delete(c),c=ts(),a.pingedLanes|=a.suspendedLanes&f,mn===a&&(kn&f)===f&&(un===4||un===3&&(kn&130023424)===kn&&500>$e()-$g?hl(a,0):Vg|=f),ms(a,c)}function mw(a,c){c===0&&((a.mode&1)===0?c=1:(c=nc,nc<<=1,(nc&130023424)===0&&(nc=4194304)));var f=ts();a=xa(a,c),a!==null&&(Xa(a,c,f),ms(a,f))}function MC(a){var c=a.memoizedState,f=0;c!==null&&(f=c.retryLane),mw(a,f)}function VC(a,c){var f=0;switch(a.tag){case 13:var g=a.stateNode,b=a.memoizedState;b!==null&&(f=b.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(c),mw(a,f)}var gw;gw=function(a,c,f){if(a!==null)if(a.memoizedProps!==c.pendingProps||ds.current)fs=!0;else{if((a.lanes&f)===0&&(c.flags&128)===0)return fs=!1,kC(a,c,f);fs=(a.flags&131072)!==0}else fs=!1,Cr&&(c.flags&1048576)!==0&&X2(c,_h,c.index);switch(c.lanes=0,c.tag){case 2:var g=c.type;Lh(a,c),a=c.pendingProps;var b=_c(c,Vn.current);Ac(c,f),b=xg(null,c,g,a,b,f);var N=yg();return c.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,hs(g)?(N=!0,vh(c)):N=!1,c.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,ug(c),b.updater=Oh,c.stateNode=b,b._reactInternals=c,Tg(c,g,a,f),c=Ag(null,c,g,!0,N,f)):(c.tag=0,Cr&&N&&eg(c),es(null,c,b,f),c=c.child),c;case 16:g=c.elementType;e:{switch(Lh(a,c),a=c.pendingProps,b=g._init,g=b(g._payload),c.type=g,b=c.tag=BC(g),a=mi(g,a),b){case 0:c=Sg(null,c,g,a,f);break e;case 1:c=Ub(null,c,g,a,f);break e;case 11:c=Lb(null,c,g,a,f);break e;case 14:c=Mb(null,c,g,mi(g.type,a),f);break e}throw Error(r(306,g,""))}return c;case 0:return g=c.type,b=c.pendingProps,b=c.elementType===g?b:mi(g,b),Sg(a,c,g,b,f);case 1:return g=c.type,b=c.pendingProps,b=c.elementType===g?b:mi(g,b),Ub(a,c,g,b,f);case 3:e:{if(zb(c),a===null)throw Error(r(387));g=c.pendingProps,N=c.memoizedState,b=N.element,sb(a,c),Ah(c,g,null,f);var F=c.memoizedState;if(g=F.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){b=Ic(Error(r(423)),c),c=Hb(a,c,g,f,b);break e}else if(g!==b){b=Ic(Error(r(424)),c),c=Hb(a,c,g,f,b);break e}else for(Is=ro(c.stateNode.containerInfo.firstChild),Cs=c,Cr=!0,pi=null,f=rb(c,null,g,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Nc(),g===b){c=va(a,c,f);break e}es(a,c,g,f)}c=c.child}return c;case 5:return ob(c),a===null&&ng(c),g=c.type,b=c.pendingProps,N=a!==null?a.memoizedProps:null,F=b.children,Km(g,b)?F=null:N!==null&&Km(g,N)&&(c.flags|=32),Bb(a,c),es(a,c,F,f),c.child;case 6:return a===null&&ng(c),null;case 13:return Wb(a,c,f);case 4:return dg(c,c.stateNode.containerInfo),g=c.pendingProps,a===null?c.child=kc(c,null,g,f):es(a,c,g,f),c.child;case 11:return g=c.type,b=c.pendingProps,b=c.elementType===g?b:mi(g,b),Lb(a,c,g,b,f);case 7:return es(a,c,c.pendingProps,f),c.child;case 8:return es(a,c,c.pendingProps.children,f),c.child;case 12:return es(a,c,c.pendingProps.children,f),c.child;case 10:e:{if(g=c.type._context,b=c.pendingProps,N=c.memoizedProps,F=b.value,br(Nh,g._currentValue),g._currentValue=F,N!==null)if(fi(N.value,F)){if(N.children===b.children&&!ds.current){c=va(a,c,f);break e}}else for(N=c.child,N!==null&&(N.return=c);N!==null;){var Z=N.dependencies;if(Z!==null){F=N.child;for(var se=Z.firstContext;se!==null;){if(se.context===g){if(N.tag===1){se=ya(-1,f&-f),se.tag=2;var ve=N.updateQueue;if(ve!==null){ve=ve.shared;var Ve=ve.pending;Ve===null?se.next=se:(se.next=Ve.next,Ve.next=se),ve.pending=se}}N.lanes|=f,se=N.alternate,se!==null&&(se.lanes|=f),lg(N.return,f,c),Z.lanes|=f;break}se=se.next}}else if(N.tag===10)F=N.type===c.type?null:N.child;else if(N.tag===18){if(F=N.return,F===null)throw Error(r(341));F.lanes|=f,Z=F.alternate,Z!==null&&(Z.lanes|=f),lg(F,f,c),F=N.sibling}else F=N.child;if(F!==null)F.return=N;else for(F=N;F!==null;){if(F===c){F=null;break}if(N=F.sibling,N!==null){N.return=F.return,F=N;break}F=F.return}N=F}es(a,c,b.children,f),c=c.child}return c;case 9:return b=c.type,g=c.pendingProps.children,Ac(c,f),b=Gs(b),g=g(b),c.flags|=1,es(a,c,g,f),c.child;case 14:return g=c.type,b=mi(g,c.pendingProps),b=mi(g.type,b),Mb(a,c,g,b,f);case 15:return Vb(a,c,c.type,c.pendingProps,f);case 17:return g=c.type,b=c.pendingProps,b=c.elementType===g?b:mi(g,b),Lh(a,c),c.tag=1,hs(g)?(a=!0,vh(c)):a=!1,Ac(c,f),Ib(c,g,b),Tg(c,g,b,f),Ag(null,c,g,!0,a,f);case 19:return Gb(a,c,f);case 22:return $b(a,c,f)}throw Error(r(156,c.tag))};function xw(a,c){return Fe(a,c)}function $C(a,c,f,g){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ys(a,c,f,g){return new $C(a,c,f,g)}function Kg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function BC(a){if(typeof a=="function")return Kg(a)?1:0;if(a!=null){if(a=a.$$typeof,a===H)return 11;if(a===Ce)return 14}return 2}function po(a,c){var f=a.alternate;return f===null?(f=Ys(a.tag,c,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=c,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&14680064,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,c=a.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function Kh(a,c,f,g,b,N){var F=2;if(g=a,typeof a=="function")Kg(a)&&(F=1);else if(typeof a=="string")F=5;else e:switch(a){case A:return pl(f.children,b,N,c);case S:F=8,b|=8;break;case I:return a=Ys(12,f,c,b|2),a.elementType=I,a.lanes=N,a;case D:return a=Ys(13,f,c,b),a.elementType=D,a.lanes=N,a;case ae:return a=Ys(19,f,c,b),a.elementType=ae,a.lanes=N,a;case ke:return Xh(f,b,N,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case V:F=10;break e;case B:F=9;break e;case H:F=11;break e;case Ce:F=14;break e;case Ge:F=16,g=null;break e}throw Error(r(130,a==null?a:typeof a,""))}return c=Ys(F,f,c,b),c.elementType=a,c.type=g,c.lanes=N,c}function pl(a,c,f,g){return a=Ys(7,a,g,c),a.lanes=f,a}function Xh(a,c,f,g){return a=Ys(22,a,g,c),a.elementType=ke,a.lanes=f,a.stateNode={isHidden:!1},a}function Xg(a,c,f){return a=Ys(6,a,null,c),a.lanes=f,a}function Yg(a,c,f){return c=Ys(4,a.children!==null?a.children:[],a.key,c),c.lanes=f,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function UC(a,c,f,g,b){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ka(0),this.expirationTimes=Ka(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.identifierPrefix=g,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Qg(a,c,f,g,b,N,F,Z,se){return a=new UC(a,c,f,Z,se),c===1?(c=1,N===!0&&(c|=8)):c=0,N=Ys(3,null,null,c),a.current=N,N.stateNode=a,N.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},ug(N),a}function zC(a,c,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:g==null?null:""+g,children:a,containerInfo:c,implementation:f}}function yw(a){if(!a)return so;a=a._reactInternals;e:{if(K(a)!==a||a.tag!==1)throw Error(r(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(hs(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(r(171))}if(a.tag===1){var f=a.type;if(hs(f))return q2(a,f,c)}return c}function vw(a,c,f,g,b,N,F,Z,se){return a=Qg(f,g,!0,a,b,N,F,Z,se),a.context=yw(null),f=a.current,g=ts(),b=ho(f),N=ya(g,b),N.callback=c??null,oo(f,N,b),a.current.lanes=b,Xa(a,b,g),ms(a,g),a}function Yh(a,c,f,g){var b=c.current,N=ts(),F=ho(b);return f=yw(f),c.context===null?c.context=f:c.pendingContext=f,c=ya(N,F),c.payload={element:a},g=g===void 0?null:g,g!==null&&(c.callback=g),a=oo(b,c,F),a!==null&&(yi(a,b,F,N),Sh(a,b,F)),F}function Qh(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function bw(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<c?f:c}}function Jg(a,c){bw(a,c),(a=a.alternate)&&bw(a,c)}function HC(){return null}var ww=typeof reportError=="function"?reportError:function(a){console.error(a)};function Zg(a){this._internalRoot=a}Jh.prototype.render=Zg.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(r(409));Yh(a,c,null,null)},Jh.prototype.unmount=Zg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;dl(function(){Yh(null,a,null,null)}),c[fa]=null}};function Jh(a){this._internalRoot=a}Jh.prototype.unstable_scheduleHydration=function(a){if(a){var c=J0();a={blockedOn:null,target:a,priority:c};for(var f=0;f<Li.length&&c!==0&&c<Li[f].priority;f++);Li.splice(f,0,a),f===0&&th(a)}};function ex(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Zh(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function _w(){}function WC(a,c,f,g,b){if(b){if(typeof g=="function"){var N=g;g=function(){var ve=Qh(F);N.call(ve)}}var F=vw(c,g,a,0,null,!1,!1,"",_w);return a._reactRootContainer=F,a[fa]=F.current,Yu(a.nodeType===8?a.parentNode:a),dl(),F}for(;b=a.lastChild;)a.removeChild(b);if(typeof g=="function"){var Z=g;g=function(){var ve=Qh(se);Z.call(ve)}}var se=Qg(a,0,!1,null,null,!1,!1,"",_w);return a._reactRootContainer=se,a[fa]=se.current,Yu(a.nodeType===8?a.parentNode:a),dl(function(){Yh(c,se,f,g)}),se}function ef(a,c,f,g,b){var N=f._reactRootContainer;if(N){var F=N;if(typeof b=="function"){var Z=b;b=function(){var se=Qh(F);Z.call(se)}}Yh(c,F,a,b)}else F=WC(f,c,a,b,g);return Qh(F)}Y0=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var f=Ga(c.pendingLanes);f!==0&&(Ya(c,f|1),ms(c,$e()),(Qt&6)===0&&(jc=$e()+500,io()))}break;case 13:dl(function(){var g=xa(a,1);if(g!==null){var b=ts();yi(g,a,1,b)}}),Jg(a,1)}},sc=function(a){if(a.tag===13){var c=xa(a,134217728);if(c!==null){var f=ts();yi(c,a,134217728,f)}Jg(a,134217728)}},Q0=function(a){if(a.tag===13){var c=ho(a),f=xa(a,c);if(f!==null){var g=ts();yi(f,a,c,g)}Jg(a,c)}},J0=function(){return qt},Z0=function(a,c){var f=qt;try{return qt=a,c()}finally{qt=f}},St=function(a,c,f){switch(c){case"input":if(Ue(a,f),c=f.name,f.type==="radio"&&c!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<f.length;c++){var g=f[c];if(g!==a&&g.form===a.form){var b=xh(g);if(!b)throw Error(r(90));yt(g),Ue(g,b)}}}break;case"textarea":it(a,f);break;case"select":c=f.value,c!=null&&le(a,!!f.multiple,c,!1)}},Jn=Wg,ai=dl;var qC={usingClientEntryPoint:!1,Events:[Zu,bc,xh,Pr,Qn,Wg]},fd={findFiberByHostInstance:nl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GC={bundleType:fd.bundleType,version:fd.version,rendererPackageName:fd.rendererPackageName,rendererConfig:fd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=me(a),a===null?null:a.stateNode},findFiberByHostInstance:fd.findFiberByHostInstance||HC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tf.isDisabled&&tf.supportsFiber)try{Ns=tf.inject(GC),Gr=tf}catch{}}return gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qC,gs.createPortal=function(a,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ex(c))throw Error(r(200));return zC(a,c,null,f)},gs.createRoot=function(a,c){if(!ex(a))throw Error(r(299));var f=!1,g="",b=ww;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),c=Qg(a,1,!1,null,null,f,!1,g,b),a[fa]=c.current,Yu(a.nodeType===8?a.parentNode:a),new Zg(c)},gs.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=me(c),a=a===null?null:a.stateNode,a},gs.flushSync=function(a){return dl(a)},gs.hydrate=function(a,c,f){if(!Zh(c))throw Error(r(200));return ef(null,a,c,!0,f)},gs.hydrateRoot=function(a,c,f){if(!ex(a))throw Error(r(405));var g=f!=null&&f.hydratedSources||null,b=!1,N="",F=ww;if(f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(N=f.identifierPrefix),f.onRecoverableError!==void 0&&(F=f.onRecoverableError)),c=vw(c,null,a,1,f??null,b,!1,N,F),a[fa]=c.current,Yu(a),g)for(a=0;a<g.length;a++)f=g[a],b=f._getVersion,b=b(f._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[f,b]:c.mutableSourceEagerHydrationData.push(f,b);return new Jh(c)},gs.render=function(a,c,f){if(!Zh(c))throw Error(r(200));return ef(null,a,c,!1,f)},gs.unmountComponentAtNode=function(a){if(!Zh(a))throw Error(r(40));return a._reactRootContainer?(dl(function(){ef(null,null,a,!1,function(){a._reactRootContainer=null,a[fa]=null})}),!0):!1},gs.unstable_batchedUpdates=Wg,gs.unstable_renderSubtreeIntoContainer=function(a,c,f,g){if(!Zh(f))throw Error(r(200));if(a==null||a._reactInternals===void 0)throw Error(r(38));return ef(a,c,f,!1,g)},gs.version="18.3.1-next-f1338f8080-20240426",gs}var Pw;function nI(){if(Pw)return nx.exports;Pw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nx.exports=rI(),nx.exports}var Rw;function sI(){if(Rw)return rf;Rw=1;var t=nI();return rf.createRoot=t.createRoot,rf.hydrateRoot=t.hydrateRoot,rf}var iI=sI();const aI=Gy(iI);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jw="popstate";function oI(t={}){function e(n,s){let{pathname:i,search:o,hash:u}=n.location;return qx("",{pathname:i,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:qd(s)}return cI(e,r,null,t)}function Ir(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ai(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lI(){return Math.random().toString(36).substring(2,10)}function Dw(t,e){return{usr:t.state,key:t.key,idx:e}}function qx(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?wu(e):e,state:r,key:e&&e.key||n||lI()}}function qd({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function wu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function cI(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,u="POP",d=null,h=p();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function p(){return(o.state||{idx:null}).idx}function x(){u="POP";let _=p(),C=_==null?null:_-h;h=_,d&&d({action:u,location:w.location,delta:C})}function y(_,C){u="PUSH";let j=qx(w.location,_,C);h=p()+1;let O=Dw(j,h),M=w.createHref(j);try{o.pushState(O,"",M)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;s.location.assign(M)}i&&d&&d({action:u,location:w.location,delta:1})}function v(_,C){u="REPLACE";let j=qx(w.location,_,C);h=p();let O=Dw(j,h),M=w.createHref(j);o.replaceState(O,"",M),i&&d&&d({action:u,location:w.location,delta:0})}function T(_){return uI(_)}let w={get action(){return u},get location(){return t(s,o)},listen(_){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(jw,x),d=_,()=>{s.removeEventListener(jw,x),d=null}},createHref(_){return e(s,_)},createURL:T,encodeLocation(_){let C=T(_);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:v,go(_){return o.go(_)}};return w}function uI(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ir(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:qd(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function LT(t,e,r="/"){return dI(t,e,r,!1)}function dI(t,e,r,n){let s=typeof e=="string"?wu(e):e,i=Da(s.pathname||"/",r);if(i==null)return null;let o=MT(t);hI(o);let u=null;for(let d=0;u==null&&d<o.length;++d){let h=EI(i);u=wI(o[d],h,n)}return u}function MT(t,e=[],r=[],n="",s=!1){let i=(o,u,d=s,h)=>{let p={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&d)return;Ir(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let x=Na([n,p.relativePath]),y=r.concat(p);o.children&&o.children.length>0&&(Ir(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),MT(o.children,e,y,x,d)),!(o.path==null&&!o.index)&&e.push({path:x,score:vI(x,o.index),routesMeta:y})};return t.forEach((o,u)=>{if(o.path===""||!o.path?.includes("?"))i(o,u);else for(let d of VT(o.path))i(o,u,!0,d)}),e}function VT(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=VT(n.join("/")),u=[];return u.push(...o.map(d=>d===""?i:[i,d].join("/"))),s&&u.push(...o),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function hI(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:bI(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var fI=/^:[\w-]+$/,pI=3,mI=2,gI=1,xI=10,yI=-2,Ow=t=>t==="*";function vI(t,e){let r=t.split("/"),n=r.length;return r.some(Ow)&&(n+=yI),e&&(n+=mI),r.filter(s=>!Ow(s)).reduce((s,i)=>s+(fI.test(i)?pI:i===""?gI:xI),n)}function bI(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function wI(t,e,r=!1){let{routesMeta:n}=t,s={},i="/",o=[];for(let u=0;u<n.length;++u){let d=n[u],h=u===n.length-1,p=i==="/"?e:e.slice(i.length)||"/",x=Uf({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),y=d.route;if(!x&&h&&r&&!n[n.length-1].route.index&&(x=Uf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!x)return null;Object.assign(s,x.params),o.push({params:s,pathname:Na([i,x.pathname]),pathnameBase:SI(Na([i,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(i=Na([i,x.pathnameBase]))}return o}function Uf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=_I(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:x},y)=>{if(p==="*"){let T=u[y]||"";o=i.slice(0,i.length-T.length).replace(/(.)\/+$/,"$1")}const v=u[y];return x&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function _I(t,e=!1,r=!0){Ai(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function EI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ai(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Da(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function TI(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?wu(t):t;return{pathname:r?r.startsWith("/")?r:NI(r,e):e,search:AI(n),hash:CI(s)}}function NI(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ax(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kI(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Xy(t){let e=kI(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Yy(t,e,r,n=!1){let s;typeof t=="string"?s=wu(t):(s={...t},Ir(!s.pathname||!s.pathname.includes("?"),ax("?","pathname","search",s)),Ir(!s.pathname||!s.pathname.includes("#"),ax("#","pathname","hash",s)),Ir(!s.search||!s.search.includes("#"),ax("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,u;if(o==null)u=r;else{let x=e.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),x-=1;s.pathname=y.join("/")}u=x>=0?e[x]:"/"}let d=TI(s,u),h=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var Na=t=>t.join("/").replace(/\/\/+/g,"/"),SI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function II(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var $T=["POST","PUT","PATCH","DELETE"];new Set($T);var PI=["GET",...$T];new Set(PI);var _u=k.createContext(null);_u.displayName="DataRouter";var Bp=k.createContext(null);Bp.displayName="DataRouterState";k.createContext(!1);var BT=k.createContext({isTransitioning:!1});BT.displayName="ViewTransition";var RI=k.createContext(new Map);RI.displayName="Fetchers";var jI=k.createContext(null);jI.displayName="Await";var Ri=k.createContext(null);Ri.displayName="Navigation";var v0=k.createContext(null);v0.displayName="Location";var aa=k.createContext({outlet:null,matches:[],isDataRoute:!1});aa.displayName="Route";var Qy=k.createContext(null);Qy.displayName="RouteError";function DI(t,{relative:e}={}){Ir(Eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=k.useContext(Ri),{hash:s,pathname:i,search:o}=b0(t,{relative:e}),u=i;return r!=="/"&&(u=i==="/"?r:Na([r,i])),n.createHref({pathname:u,search:o,hash:s})}function Eu(){return k.useContext(v0)!=null}function Ho(){return Ir(Eu(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(v0).location}var UT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zT(t){k.useContext(Ri).static||k.useLayoutEffect(t)}function ji(){let{isDataRoute:t}=k.useContext(aa);return t?GI():OI()}function OI(){Ir(Eu(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(_u),{basename:e,navigator:r}=k.useContext(Ri),{matches:n}=k.useContext(aa),{pathname:s}=Ho(),i=JSON.stringify(Xy(n)),o=k.useRef(!1);return zT(()=>{o.current=!0}),k.useCallback((d,h={})=>{if(Ai(o.current,UT),!o.current)return;if(typeof d=="number"){r.go(d);return}let p=Yy(d,JSON.parse(i),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Na([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,i,s,t])}k.createContext(null);function b0(t,{relative:e}={}){let{matches:r}=k.useContext(aa),{pathname:n}=Ho(),s=JSON.stringify(Xy(r));return k.useMemo(()=>Yy(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function FI(t,e){return HT(t,e)}function HT(t,e,r,n,s){Ir(Eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=k.useContext(Ri),{matches:o}=k.useContext(aa),u=o[o.length-1],d=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",x=u&&u.route;{let j=x&&x.path||"";WT(h,!x||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let y=Ho(),v;if(e){let j=typeof e=="string"?wu(e):e;Ir(p==="/"||j.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),v=j}else v=y;let T=v.pathname||"/",w=T;if(p!=="/"){let j=p.replace(/^\//,"").split("/");w="/"+T.replace(/^\//,"").split("/").slice(j.length).join("/")}let _=LT(t,{pathname:w});Ai(x||_!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ai(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=BI(_&&_.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Na([p,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:Na([p,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,r,n,s);return e&&C?k.createElement(v0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},C):C}function LI(){let t=qI(),e=II(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:i},"ErrorBoundary")," or"," ",k.createElement("code",{style:i},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),r?k.createElement("pre",{style:s},r):null,o)}var MI=k.createElement(LI,null),VI=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?k.createElement(aa.Provider,{value:this.props.routeContext},k.createElement(Qy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $I({routeContext:t,match:e,children:r}){let n=k.useContext(_u);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(aa.Provider,{value:t},r)}function BI(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r?.errors;if(o!=null){let h=i.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);Ir(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let u=!1,d=-1;if(r)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:x,errors:y}=r,v=p.route.loader&&!x.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||v){u=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((h,p,x)=>{let y,v=!1,T=null,w=null;r&&(y=o&&p.route.id?o[p.route.id]:void 0,T=p.route.errorElement||MI,u&&(d<0&&x===0?(WT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):d===x&&(v=!0,w=p.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,x+1)),C=()=>{let j;return y?j=T:v?j=w:p.route.Component?j=k.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=h,k.createElement($I,{match:p,routeContext:{outlet:h,matches:_,isDataRoute:r!=null},children:j})};return r&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?k.createElement(VI,{location:r.location,revalidation:r.revalidation,component:T,error:y,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:n}):C()},null)}function Jy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UI(t){let e=k.useContext(_u);return Ir(e,Jy(t)),e}function zI(t){let e=k.useContext(Bp);return Ir(e,Jy(t)),e}function HI(t){let e=k.useContext(aa);return Ir(e,Jy(t)),e}function Zy(t){let e=HI(t),r=e.matches[e.matches.length-1];return Ir(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function WI(){return Zy("useRouteId")}function qI(){let t=k.useContext(Qy),e=zI("useRouteError"),r=Zy("useRouteError");return t!==void 0?t:e.errors?.[r]}function GI(){let{router:t}=UI("useNavigate"),e=Zy("useNavigate"),r=k.useRef(!1);return zT(()=>{r.current=!0}),k.useCallback(async(s,i={})=>{Ai(r.current,UT),r.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var Fw={};function WT(t,e,r){!e&&!Fw[t]&&(Fw[t]=!0,Ai(!1,r))}k.memo(KI);function KI({routes:t,future:e,state:r,unstable_onError:n}){return HT(t,void 0,r,n,e)}function nf({to:t,replace:e,state:r,relative:n}){Ir(Eu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=k.useContext(Ri);Ai(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=k.useContext(aa),{pathname:o}=Ho(),u=ji(),d=Yy(t,Xy(i),o,n==="path"),h=JSON.stringify(d);return k.useEffect(()=>{u(JSON.parse(h),{replace:e,state:r,relative:n})},[u,h,n,e,r]),null}function Mt(t){Ir(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XI({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){Ir(!Eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=wu(r));let{pathname:d="/",search:h="",hash:p="",state:x=null,key:y="default"}=r,v=k.useMemo(()=>{let T=Da(d,o);return T==null?null:{location:{pathname:T,search:h,hash:p,state:x,key:y},navigationType:n}},[o,d,h,p,x,y,n]);return Ai(v!=null,`<Router basename="${o}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:k.createElement(Ri.Provider,{value:u},k.createElement(v0.Provider,{children:e,value:v}))}function YI({children:t,location:e}){return FI(Gx(t),e)}function Gx(t,e=[]){let r=[];return k.Children.forEach(t,(n,s)=>{if(!k.isValidElement(n))return;let i=[...e,s];if(n.type===k.Fragment){r.push.apply(r,Gx(n.props.children,i));return}Ir(n.type===Mt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ir(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Gx(n.props.children,i)),r.push(o)}),r}var kf="get",Sf="application/x-www-form-urlencoded";function Up(t){return t!=null&&typeof t.tagName=="string"}function QI(t){return Up(t)&&t.tagName.toLowerCase()==="button"}function JI(t){return Up(t)&&t.tagName.toLowerCase()==="form"}function ZI(t){return Up(t)&&t.tagName.toLowerCase()==="input"}function eP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tP(t,e){return t.button===0&&(!e||e==="_self")&&!eP(t)}var sf=null;function rP(){if(sf===null)try{new FormData(document.createElement("form"),0),sf=!1}catch{sf=!0}return sf}var nP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ox(t){return t!=null&&!nP.has(t)?(Ai(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sf}"`),null):t}function sP(t,e){let r,n,s,i,o;if(JI(t)){let u=t.getAttribute("action");n=u?Da(u,e):null,r=t.getAttribute("method")||kf,s=ox(t.getAttribute("enctype"))||Sf,i=new FormData(t)}else if(QI(t)||ZI(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||u.getAttribute("action");if(n=d?Da(d,e):null,r=t.getAttribute("formmethod")||u.getAttribute("method")||kf,s=ox(t.getAttribute("formenctype"))||ox(u.getAttribute("enctype"))||Sf,i=new FormData(u,t),!rP()){let{name:h,type:p,value:x}=t;if(p==="image"){let y=h?`${h}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else h&&i.append(h,x)}}else{if(Up(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=kf,n=null,s=Sf,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function e1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iP(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Da(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function aP(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function lP(t,e,r){let n=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await aP(i,r);return o.links?o.links():[]}return[]}));return hP(n.flat(1).filter(oP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Lw(t,e,r,n,s,i){let o=(d,h)=>r[h]?d.route.id!==r[h].route.id:!0,u=(d,h)=>r[h].pathname!==d.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==d.params["*"];return i==="assets"?e.filter((d,h)=>o(d,h)||u(d,h)):i==="data"?e.filter((d,h)=>{let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(o(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function cP(t,e,{includeHydrateFallback:r}={}){return uP(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function uP(t){return[...new Set(t)]}function dP(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function hP(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let i=JSON.stringify(dP(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function qT(){let t=k.useContext(_u);return e1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fP(){let t=k.useContext(Bp);return e1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var t1=k.createContext(void 0);t1.displayName="FrameworkContext";function GT(){let t=k.useContext(t1);return e1(t,"You must render this element inside a <HydratedRouter> element"),t}function pP(t,e){let r=k.useContext(t1),[n,s]=k.useState(!1),[i,o]=k.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:x}=e,y=k.useRef(null);k.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=C=>{C.forEach(j=>{o(j.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return y.current&&_.observe(y.current),()=>{_.disconnect()}}},[t]),k.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let v=()=>{s(!0)},T=()=>{s(!1),o(!1)};return r?t!=="intent"?[i,y,{}]:[i,y,{onFocus:md(u,v),onBlur:md(d,T),onMouseEnter:md(h,v),onMouseLeave:md(p,T),onTouchStart:md(x,v)}]:[!1,y,{}]}function md(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function mP({page:t,...e}){let{router:r}=qT(),n=k.useMemo(()=>LT(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?k.createElement(xP,{page:t,matches:n,...e}):null}function gP(t){let{manifest:e,routeModules:r}=GT(),[n,s]=k.useState([]);return k.useEffect(()=>{let i=!1;return lP(t,e,r).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,r]),n}function xP({page:t,matches:e,...r}){let n=Ho(),{manifest:s,routeModules:i}=GT(),{basename:o}=qT(),{loaderData:u,matches:d}=fP(),h=k.useMemo(()=>Lw(t,e,d,s,n,"data"),[t,e,d,s,n]),p=k.useMemo(()=>Lw(t,e,d,s,n,"assets"),[t,e,d,s,n]),x=k.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let T=new Set,w=!1;if(e.forEach(C=>{let j=s.routes[C.route.id];!j||!j.hasLoader||(!h.some(O=>O.route.id===C.route.id)&&C.route.id in u&&i[C.route.id]?.shouldRevalidate||j.hasClientLoader?w=!0:T.add(C.route.id))}),T.size===0)return[];let _=iP(t,o,"data");return w&&T.size>0&&_.searchParams.set("_routes",e.filter(C=>T.has(C.route.id)).map(C=>C.route.id).join(",")),[_.pathname+_.search]},[o,u,n,s,h,e,t,i]),y=k.useMemo(()=>cP(p,s),[p,s]),v=gP(p);return k.createElement(k.Fragment,null,x.map(T=>k.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...r})),y.map(T=>k.createElement("link",{key:T,rel:"modulepreload",href:T,...r})),v.map(({key:T,link:w})=>k.createElement("link",{key:T,nonce:r.nonce,...w})))}function yP(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var KT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KT&&(window.__reactRouterVersion="7.8.2")}catch{}function vP({basename:t,children:e,window:r}){let n=k.useRef();n.current==null&&(n.current=oI({window:r,v5Compat:!0}));let s=n.current,[i,o]=k.useState({action:s.action,location:s.location}),u=k.useCallback(d=>{k.startTransition(()=>o(d))},[o]);return k.useLayoutEffect(()=>s.listen(u),[s,u]),k.createElement(XI,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var XT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ys=k.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:u,target:d,to:h,preventScrollReset:p,viewTransition:x,...y},v){let{basename:T}=k.useContext(Ri),w=typeof h=="string"&&XT.test(h),_,C=!1;if(typeof h=="string"&&w&&(_=h,KT))try{let I=new URL(window.location.href),V=h.startsWith("//")?new URL(I.protocol+h):new URL(h),B=Da(V.pathname,T);V.origin===I.origin&&B!=null?h=B+V.search+V.hash:C=!0}catch{Ai(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=DI(h,{relative:s}),[O,M,Y]=pP(n,y),ne=EP(h,{replace:o,state:u,target:d,preventScrollReset:p,relative:s,viewTransition:x});function A(I){e&&e(I),I.defaultPrevented||ne(I)}let S=k.createElement("a",{...y,...Y,href:_||j,onClick:C||i?e:A,ref:yP(v,M),target:d,"data-discover":!w&&r==="render"?"true":void 0});return O&&!w?k.createElement(k.Fragment,null,S,k.createElement(mP,{page:j})):S});ys.displayName="Link";var bP=k.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:u,children:d,...h},p){let x=b0(o,{relative:h.relative}),y=Ho(),v=k.useContext(Bp),{navigator:T,basename:w}=k.useContext(Ri),_=v!=null&&AP(x)&&u===!0,C=T.encodeLocation?T.encodeLocation(x).pathname:x.pathname,j=y.pathname,O=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(j=j.toLowerCase(),O=O?O.toLowerCase():null,C=C.toLowerCase()),O&&w&&(O=Da(O,w)||O);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let Y=j===C||!s&&j.startsWith(C)&&j.charAt(M)==="/",ne=O!=null&&(O===C||!s&&O.startsWith(C)&&O.charAt(C.length)==="/"),A={isActive:Y,isPending:ne,isTransitioning:_},S=Y?e:void 0,I;typeof n=="function"?I=n(A):I=[n,Y?"active":null,ne?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let V=typeof i=="function"?i(A):i;return k.createElement(ys,{...h,"aria-current":S,className:I,ref:p,style:V,to:o,viewTransition:u},typeof d=="function"?d(A):d)});bP.displayName="NavLink";var wP=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:i,method:o=kf,action:u,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:x,...y},v)=>{let T=kP(),w=SP(u,{relative:h}),_=o.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&XT.test(u),j=O=>{if(d&&d(O),O.defaultPrevented)return;O.preventDefault();let M=O.nativeEvent.submitter,Y=M?.getAttribute("formmethod")||o;T(M||O.currentTarget,{fetcherKey:e,method:Y,navigate:r,replace:s,state:i,relative:h,preventScrollReset:p,viewTransition:x})};return k.createElement("form",{ref:v,method:_,action:w,onSubmit:n?d:j,...y,"data-discover":!C&&t==="render"?"true":void 0})});wP.displayName="Form";function _P(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YT(t){let e=k.useContext(_u);return Ir(e,_P(t)),e}function EP(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let u=ji(),d=Ho(),h=b0(t,{relative:i});return k.useCallback(p=>{if(tP(p,e)){p.preventDefault();let x=r!==void 0?r:qd(d)===qd(h);u(t,{replace:x,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[d,u,h,r,n,e,t,s,i,o])}var TP=0,NP=()=>`__${String(++TP)}__`;function kP(){let{router:t}=YT("useSubmit"),{basename:e}=k.useContext(Ri),r=WI();return k.useCallback(async(n,s={})=>{let{action:i,method:o,encType:u,formData:d,body:h}=sP(n,e);if(s.navigate===!1){let p=s.fetcherKey||NP();await t.fetch(p,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||o,formEncType:s.encType||u,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||o,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,r])}function SP(t,{relative:e}={}){let{basename:r}=k.useContext(Ri),n=k.useContext(aa);Ir(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...b0(t||".",{relative:e})},o=Ho();if(t==null){i.search=o.search;let u=new URLSearchParams(i.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(x=>x).forEach(x=>u.append("index",x));let p=u.toString();i.search=p?`?${p}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Na([r,i.pathname])),qd(i)}function AP(t,{relative:e}={}){let r=k.useContext(BT);Ir(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=YT("useViewTransitionState"),s=b0(t,{relative:e});if(!r.isTransitioning)return!1;let i=Da(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Da(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Uf(s.pathname,o)!=null||Uf(s.pathname,i)!=null}const CP=()=>{};var Mw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},IP=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],o=t[r++],u=t[r++],d=((s&7)<<18|(i&63)<<12|(o&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const i=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},JT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,u=o?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,p=i>>2,x=(i&3)<<4|u>>4;let y=(u&15)<<2|h>>6,v=h&63;d||(v=64,o||(y=64)),n.push(r[p],r[x],r[y],r[v])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],u=s<t.length?r[t.charAt(s)]:0;++s;const h=s<t.length?r[t.charAt(s)]:64;++s;const x=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||u==null||h==null||x==null)throw new PP;const y=i<<2|u>>4;if(n.push(y),h!==64){const v=u<<4&240|h>>2;if(n.push(v),x!==64){const T=h<<6&192|x;n.push(T)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RP=function(t){const e=QT(t);return JT.encodeByteArray(e,!0)},zf=function(t){return RP(t).replace(/\./g,"")},ZT=function(t){try{return JT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=()=>jP().__FIREBASE_DEFAULTS__,OP=()=>{if(typeof process>"u"||typeof Mw>"u")return;const t=Mw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZT(t[1]);return e&&JSON.parse(e)},zp=()=>{try{return CP()||DP()||OP()||FP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},e3=t=>{var e,r;return(r=(e=zp())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},t3=t=>{const e=e3(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},r3=()=>{var t;return(t=zp())===null||t===void 0?void 0:t.config},n3=t=>{var e;return(e=zp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zf(JSON.stringify(r)),zf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yn())}function VP(){var t;const e=(t=zp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $P(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function i3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UP(){const t=Yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zP(){return!VP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function a3(){try{return typeof indexedDB=="object"}catch{return!1}}function o3(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}function HP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="FirebaseError";class si extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=WP,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$l.prototype.create)}}class $l{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?qP(i,n):"Error",u=`${this.serviceName}: ${o} (${s}).`;return new si(s,u,n)}}function qP(t,e){return t.replace(GP,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const GP=/\{\$([^}]+)}/g;function KP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Po(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],o=e[s];if(Vw(i)&&Vw(o)){if(!Po(i,o))return!1}else if(i!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function Vw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function vd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function bd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function XP(t,e){const r=new YP(t,e);return r.subscribe.bind(r)}class YP{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");QP(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=lx),s.error===void 0&&(s.error=lx),s.complete===void 0&&(s.complete=lx);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QP(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function lx(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=1e3,ZP=2,eR=14400*1e3,tR=.5;function $w(t,e=JP,r=ZP){const n=e*Math.pow(r,t),s=Math.round(tR*n*(Math.random()-.5)*2);return Math.min(eR,n+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(t){return t&&t._delegate?t._delegate:t}class ni{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new LP;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),s=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sR(e))try{this.getOrInitializeService({instanceIdentifier:gl})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=gl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gl){return this.instances.has(e)}getOptions(e=gl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);n===u&&o.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:nR(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=gl){return this.component?this.component.multipleInstances?e:gl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nR(t){return t===gl?void 0:t}function sR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new rR(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ut||(Ut={}));const aR={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},oR=Ut.INFO,lR={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},cR=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=lR[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=oR,this._logHandler=cR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const uR=(t,e)=>e.some(r=>t instanceof r);let Bw,Uw;function dR(){return Bw||(Bw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hR(){return Uw||(Uw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l3=new WeakMap,Kx=new WeakMap,c3=new WeakMap,cx=new WeakMap,r1=new WeakMap;function fR(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(ko(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&l3.set(r,t)}).catch(()=>{}),r1.set(e,t),e}function pR(t){if(Kx.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Kx.set(t,e)}let Xx={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Kx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||c3.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ko(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mR(t){Xx=t(Xx)}function gR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(ux(this),e,...r);return c3.set(n,e.sort?e.sort():[e]),ko(n)}:hR().includes(t)?function(...e){return t.apply(ux(this),e),ko(l3.get(this))}:function(...e){return ko(t.apply(ux(this),e))}}function xR(t){return typeof t=="function"?gR(t):(t instanceof IDBTransaction&&pR(t),uR(t,dR())?new Proxy(t,Xx):t)}function ko(t){if(t instanceof IDBRequest)return fR(t);if(cx.has(t))return cx.get(t);const e=xR(t);return e!==t&&(cx.set(t,e),r1.set(e,t)),e}const ux=t=>r1.get(t);function u3(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),u=ko(o);return n&&o.addEventListener("upgradeneeded",d=>{n(ko(o.result),d.oldVersion,d.newVersion,ko(o.transaction),d)}),r&&o.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),u.then(d=>{i&&d.addEventListener("close",()=>i()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const yR=["get","getKey","getAll","getAllKeys","count"],vR=["put","add","delete","clear"],dx=new Map;function zw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dx.get(e))return dx.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=vR.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||yR.includes(r)))return;const i=async function(o,...u){const d=this.transaction(o,s?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(u.shift())),(await Promise.all([h[r](...u),s&&d.done]))[0]};return dx.set(e,i),i}mR(t=>({...t,get:(e,r,n)=>zw(e,r)||t.get(e,r,n),has:(e,r)=>!!zw(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(wR(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function wR(t){const e=t.getComponent();return e?.type==="VERSION"}const Yx="@firebase/app",Hw="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new Hp("@firebase/app"),_R="@firebase/app-compat",ER="@firebase/analytics-compat",TR="@firebase/analytics",NR="@firebase/app-check-compat",kR="@firebase/app-check",SR="@firebase/auth",AR="@firebase/auth-compat",CR="@firebase/database",IR="@firebase/data-connect",PR="@firebase/database-compat",RR="@firebase/functions",jR="@firebase/functions-compat",DR="@firebase/installations",OR="@firebase/installations-compat",FR="@firebase/messaging",LR="@firebase/messaging-compat",MR="@firebase/performance",VR="@firebase/performance-compat",$R="@firebase/remote-config",BR="@firebase/remote-config-compat",UR="@firebase/storage",zR="@firebase/storage-compat",HR="@firebase/firestore",WR="@firebase/vertexai",qR="@firebase/firestore-compat",GR="firebase",KR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="[DEFAULT]",XR={[Yx]:"fire-core",[_R]:"fire-core-compat",[TR]:"fire-analytics",[ER]:"fire-analytics-compat",[kR]:"fire-app-check",[NR]:"fire-app-check-compat",[SR]:"fire-auth",[AR]:"fire-auth-compat",[CR]:"fire-rtdb",[IR]:"fire-data-connect",[PR]:"fire-rtdb-compat",[RR]:"fire-fn",[jR]:"fire-fn-compat",[DR]:"fire-iid",[OR]:"fire-iid-compat",[FR]:"fire-fcm",[LR]:"fire-fcm-compat",[MR]:"fire-perf",[VR]:"fire-perf-compat",[$R]:"fire-rc",[BR]:"fire-rc-compat",[UR]:"fire-gcs",[zR]:"fire-gcs-compat",[HR]:"fire-fst",[qR]:"fire-fst-compat",[WR]:"fire-vertex","fire-js":"fire-js",[GR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=new Map,YR=new Map,Jx=new Map;function Ww(t,e){try{t.container.addComponent(e)}catch(r){Oa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ci(t){const e=t.name;if(Jx.has(e))return Oa.debug(`There were multiple attempts to register component ${e}.`),!1;Jx.set(e,t);for(const r of Hf.values())Ww(r,t);for(const r of YR.values())Ww(r,t);return!0}function Wo(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Fs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},So=new $l("app","Firebase",QR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=KR;function d3(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Qx,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw So.create("bad-app-name",{appName:String(s)});if(r||(r=r3()),!r)throw So.create("no-options");const i=Hf.get(s);if(i){if(Po(r,i.options)&&Po(n,i.config))return i;throw So.create("duplicate-app",{appName:s})}const o=new iR(s);for(const d of Jx.values())o.addComponent(d);const u=new JR(r,n,o);return Hf.set(s,u),u}function Wp(t=Qx){const e=Hf.get(t);if(!e&&t===Qx&&r3())return d3();if(!e)throw So.create("no-app",{appName:t});return e}function bs(t,e,r){var n;let s=(n=XR[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const u=[`Unable to register library "${s}" with version "${e}":`];i&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oa.warn(u.join(" "));return}Ci(new ni(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="firebase-heartbeat-database",ej=1,Gd="firebase-heartbeat-store";let hx=null;function h3(){return hx||(hx=u3(ZR,ej,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gd)}catch(r){console.warn(r)}}}}).catch(t=>{throw So.create("idb-open",{originalErrorMessage:t.message})})),hx}async function tj(t){try{const r=(await h3()).transaction(Gd),n=await r.objectStore(Gd).get(f3(t));return await r.done,n}catch(e){if(e instanceof si)Oa.warn(e.message);else{const r=So.create("idb-get",{originalErrorMessage:e?.message});Oa.warn(r.message)}}}async function qw(t,e){try{const n=(await h3()).transaction(Gd,"readwrite");await n.objectStore(Gd).put(e,f3(t)),await n.done}catch(r){if(r instanceof si)Oa.warn(r.message);else{const n=So.create("idb-set",{originalErrorMessage:r?.message});Oa.warn(n.message)}}}function f3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=1024,nj=30;class sj{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new aj(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Gw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>nj){const o=oj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Oa.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Gw(),{heartbeatsToSend:n,unsentEntries:s}=ij(this._heartbeatsCache.heartbeats),i=zf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Oa.warn(r),""}}}function Gw(){return new Date().toISOString().substring(0,10)}function ij(t,e=rj){const r=[];let n=t.slice();for(const s of t){const i=r.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Kw(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),Kw(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class aj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return a3()?o3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await tj(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return qw(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return qw(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Kw(t){return zf(JSON.stringify({version:2,heartbeats:t})).length}function oj(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){Ci(new ni("platform-logger",e=>new bR(e),"PRIVATE")),Ci(new ni("heartbeat",e=>new sj(e),"PRIVATE")),bs(Yx,Hw,t),bs(Yx,Hw,"esm2017"),bs("fire-js","")}lj("");var cj="firebase",uj="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(cj,uj,"app");const p3="@firebase/installations",n1="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=1e4,g3=`w:${n1}`,x3="FIS_v2",dj="https://firebaseinstallations.googleapis.com/v1",hj=3600*1e3,fj="installations",pj="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Sl=new $l(fj,pj,mj);function y3(t){return t instanceof si&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3({projectId:t}){return`${dj}/projects/${t}/installations`}function b3(t){return{token:t.token,requestStatus:2,expiresIn:xj(t.expiresIn),creationTime:Date.now()}}async function w3(t,e){const n=(await e.json()).error;return Sl.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function _3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function gj(t,{refreshToken:e}){const r=_3(t);return r.append("Authorization",yj(e)),r}async function E3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function xj(t){return Number(t.replace("s","000"))}function yj(t){return`${x3} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=v3(t),s=_3(t),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const o={fid:r,authVersion:x3,appId:t.appId,sdkVersion:g3},u={method:"POST",headers:s,body:JSON.stringify(o)},d=await E3(()=>fetch(n,u));if(d.ok){const h=await d.json();return{fid:h.fid||r,registrationStatus:2,refreshToken:h.refreshToken,authToken:b3(h.authToken)}}else throw await w3("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=/^[cdef][\w-]{21}$/,Zx="";function _j(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=Ej(t);return wj.test(r)?r:Zx}catch{return Zx}}function Ej(t){return bj(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=new Map;function k3(t,e){const r=qp(t);S3(r,e),Tj(r,e)}function S3(t,e){const r=N3.get(t);if(r)for(const n of r)n(e)}function Tj(t,e){const r=Nj();r&&r.postMessage({key:t,fid:e}),kj()}let vl=null;function Nj(){return!vl&&"BroadcastChannel"in self&&(vl=new BroadcastChannel("[Firebase] FID Change"),vl.onmessage=t=>{S3(t.data.key,t.data.fid)}),vl}function kj(){N3.size===0&&vl&&(vl.close(),vl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="firebase-installations-database",Aj=1,Al="firebase-installations-store";let fx=null;function s1(){return fx||(fx=u3(Sj,Aj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Al)}}})),fx}async function Wf(t,e){const r=qp(t),s=(await s1()).transaction(Al,"readwrite"),i=s.objectStore(Al),o=await i.get(r);return await i.put(e,r),await s.done,(!o||o.fid!==e.fid)&&k3(t,e.fid),e}async function A3(t){const e=qp(t),n=(await s1()).transaction(Al,"readwrite");await n.objectStore(Al).delete(e),await n.done}async function Gp(t,e){const r=qp(t),s=(await s1()).transaction(Al,"readwrite"),i=s.objectStore(Al),o=await i.get(r),u=e(o);return u===void 0?await i.delete(r):await i.put(u,r),await s.done,u&&(!o||o.fid!==u.fid)&&k3(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(t){let e;const r=await Gp(t.appConfig,n=>{const s=Cj(n),i=Ij(t,s);return e=i.registrationPromise,i.installationEntry});return r.fid===Zx?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function Cj(t){const e=t||{fid:_j(),registrationStatus:0};return C3(e)}function Ij(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Sl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=Pj(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Rj(t)}:{installationEntry:e}}async function Pj(t,e){try{const r=await vj(t,e);return Wf(t.appConfig,r)}catch(r){throw y3(r)&&r.customData.serverCode===409?await A3(t.appConfig):await Wf(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function Rj(t){let e=await Xw(t.appConfig);for(;e.registrationStatus===1;)await T3(100),e=await Xw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await i1(t);return n||r}return e}function Xw(t){return Gp(t,e=>{if(!e)throw Sl.create("installation-not-found");return C3(e)})}function C3(t){return jj(t)?{fid:t.fid,registrationStatus:0}:t}function jj(t){return t.registrationStatus===1&&t.registrationTime+m3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dj({appConfig:t,heartbeatServiceProvider:e},r){const n=Oj(t,r),s=gj(t,r),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const o={installation:{sdkVersion:g3,appId:t.appId}},u={method:"POST",headers:s,body:JSON.stringify(o)},d=await E3(()=>fetch(n,u));if(d.ok){const h=await d.json();return b3(h)}else throw await w3("Generate Auth Token",d)}function Oj(t,{fid:e}){return`${v3(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a1(t,e=!1){let r;const n=await Gp(t.appConfig,i=>{if(!I3(i))throw Sl.create("not-registered");const o=i.authToken;if(!e&&Mj(o))return i;if(o.requestStatus===1)return r=Fj(t,e),i;{if(!navigator.onLine)throw Sl.create("app-offline");const u=$j(i);return r=Lj(t,u),u}});return r?await r:n.authToken}async function Fj(t,e){let r=await Yw(t.appConfig);for(;r.authToken.requestStatus===1;)await T3(100),r=await Yw(t.appConfig);const n=r.authToken;return n.requestStatus===0?a1(t,e):n}function Yw(t){return Gp(t,e=>{if(!I3(e))throw Sl.create("not-registered");const r=e.authToken;return Bj(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Lj(t,e){try{const r=await Dj(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Wf(t.appConfig,n),r}catch(r){if(y3(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await A3(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Wf(t.appConfig,n)}throw r}}function I3(t){return t!==void 0&&t.registrationStatus===2}function Mj(t){return t.requestStatus===2&&!Vj(t)}function Vj(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+hj}function $j(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Bj(t){return t.requestStatus===1&&t.requestTime+m3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uj(t){const e=t,{installationEntry:r,registrationPromise:n}=await i1(e);return n?n.catch(console.error):a1(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(t,e=!1){const r=t;return await Hj(r),(await a1(r,e)).token}async function Hj(t){const{registrationPromise:e}=await i1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){if(!t||!t.options)throw px("App Configuration");if(!t.name)throw px("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw px(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function px(t){return Sl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="installations",qj="installations-internal",Gj=t=>{const e=t.getProvider("app").getImmediate(),r=Wj(e),n=Wo(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Kj=t=>{const e=t.getProvider("app").getImmediate(),r=Wo(e,P3).getImmediate();return{getId:()=>Uj(r),getToken:s=>zj(r,s)}};function Xj(){Ci(new ni(P3,Gj,"PUBLIC")),Ci(new ni(qj,Kj,"PRIVATE"))}Xj();bs(p3,n1);bs(p3,n1,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="analytics",Yj="firebase_id",Qj="origin",Jj=60*1e3,Zj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",o1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Hp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ms=new $l("analytics","Analytics",eD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t){if(!t.startsWith(o1)){const e=Ms.create("invalid-gtag-resource",{gtagURL:t});return ws.warn(e.message),""}return t}function R3(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function rD(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function nD(t,e){const r=rD("firebase-js-sdk-policy",{createScriptURL:tD}),n=document.createElement("script"),s=`${o1}?l=${t}&id=${e}`;n.src=r?r?.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function sD(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function iD(t,e,r,n,s,i){const o=n[s];try{if(o)await e[o];else{const d=(await R3(r)).find(h=>h.measurementId===s);d&&await e[d.appId]}}catch(u){ws.error(u)}t("config",s,i)}async function aD(t,e,r,n,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const u=await R3(r);for(const d of o){const h=u.find(x=>x.measurementId===d),p=h&&e[h.appId];if(p)i.push(p);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",n,s||{})}catch(i){ws.error(i)}}function oD(t,e,r,n){async function s(i,...o){try{if(i==="event"){const[u,d]=o;await aD(t,e,r,u,d)}else if(i==="config"){const[u,d]=o;await iD(t,e,r,n,u,d)}else if(i==="consent"){const[u,d]=o;t("consent",u,d)}else if(i==="get"){const[u,d,h]=o;t("get",u,d,h)}else if(i==="set"){const[u]=o;t("set",u)}else t(i,...o)}catch(u){ws.error(u)}}return s}function lD(t,e,r,n,s){let i=function(...o){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=oD(i,t,e,r),{gtagCore:i,wrappedGtag:window[s]}}function cD(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(o1)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=30,dD=1e3;class hD{constructor(e={},r=dD){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const j3=new hD;function fD(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function pD(t){var e;const{appId:r,apiKey:n}=t,s={method:"GET",headers:fD(n)},i=Zj.replace("{app-id}",r),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let u="";try{const d=await o.json();!((e=d.error)===null||e===void 0)&&e.message&&(u=d.error.message)}catch{}throw Ms.create("config-fetch-failed",{httpStatus:o.status,responseMessage:u})}return o.json()}async function mD(t,e=j3,r){const{appId:n,apiKey:s,measurementId:i}=t.options;if(!n)throw Ms.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:n};throw Ms.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new yD;return setTimeout(async()=>{u.abort()},Jj),D3({appId:n,apiKey:s,measurementId:i},o,u,e)}async function D3(t,{throttleEndTimeMillis:e,backoffCount:r},n,s=j3){var i;const{appId:o,measurementId:u}=t;try{await gD(n,e)}catch(d){if(u)return ws.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:o,measurementId:u};throw d}try{const d=await pD(t);return s.deleteThrottleMetadata(o),d}catch(d){const h=d;if(!xD(h)){if(s.deleteThrottleMetadata(o),u)return ws.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:o,measurementId:u};throw d}const p=Number((i=h?.customData)===null||i===void 0?void 0:i.httpStatus)===503?$w(r,s.intervalMillis,uD):$w(r,s.intervalMillis),x={throttleEndTimeMillis:Date.now()+p,backoffCount:r+1};return s.setThrottleMetadata(o,x),ws.debug(`Calling attemptFetch again in ${p} millis`),D3(t,x,n,s)}}function gD(t,e){return new Promise((r,n)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(r,s);t.addEventListener(()=>{clearTimeout(i),n(Ms.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function xD(t){if(!(t instanceof si)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class yD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function vD(t,e,r,n,s){if(s&&s.global){t("event",r,n);return}else{const i=await e,o=Object.assign(Object.assign({},n),{send_to:i});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(){if(a3())try{await o3()}catch(t){return ws.warn(Ms.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return ws.warn(Ms.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wD(t,e,r,n,s,i,o){var u;const d=mD(t);d.then(v=>{r[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&ws.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>ws.error(v)),e.push(d);const h=bD().then(v=>{if(v)return n.getId()}),[p,x]=await Promise.all([d,h]);cD(i)||nD(i,p.measurementId),s("js",new Date);const y=(u=o?.config)!==null&&u!==void 0?u:{};return y[Qj]="firebase",y.update=!0,x!=null&&(y[Yj]=x),s("config",p.measurementId,y),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.app=e}_delete(){return delete Ad[this.app.options.appId],Promise.resolve()}}let Ad={},Qw=[];const Jw={};let mx="dataLayer",ED="gtag",Zw,O3,e_=!1;function TD(){const t=[];if(i3()&&t.push("This is a browser extension environment."),HP()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,s)=>`(${s+1}) ${n}`).join(" "),r=Ms.create("invalid-analytics-context",{errorInfo:e});ws.warn(r.message)}}function ND(t,e,r){TD();const n=t.options.appId;if(!n)throw Ms.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ws.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ms.create("no-api-key");if(Ad[n]!=null)throw Ms.create("already-exists",{id:n});if(!e_){sD(mx);const{wrappedGtag:i,gtagCore:o}=lD(Ad,Qw,Jw,mx,ED);O3=i,Zw=o,e_=!0}return Ad[n]=wD(t,Qw,Jw,e,Zw,mx,r),new _D(t)}function kD(t=Wp()){t=_r(t);const e=Wo(t,qf);return e.isInitialized()?e.getImmediate():SD(t)}function SD(t,e={}){const r=Wo(t,qf);if(r.isInitialized()){const s=r.getImmediate();if(Po(e,r.getOptions()))return s;throw Ms.create("already-initialized")}return r.initialize({options:e})}function AD(t,e,r,n){t=_r(t),vD(O3,Ad[t.app.options.appId],e,r,n).catch(s=>ws.error(s))}const t_="@firebase/analytics",r_="0.10.12";function CD(){Ci(new ni(qf,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return ND(n,s,r)},"PUBLIC")),Ci(new ni("analytics-internal",t,"PRIVATE")),bs(t_,r_),bs(t_,r_,"esm2017");function t(e){try{const r=e.getProvider(qf).getImmediate();return{logEvent:(n,s,i)=>AD(r,n,s,i)}}catch(r){throw Ms.create("interop-component-reg-failed",{reason:r})}}}CD();var n_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ao,F3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function I(){}I.prototype=S.prototype,A.D=S.prototype,A.prototype=new I,A.prototype.constructor=A,A.C=function(V,B,H){for(var D=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)D[ae-2]=arguments[ae];return S.prototype[B].apply(V,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,S,I){I||(I=0);var V=Array(16);if(typeof S=="string")for(var B=0;16>B;++B)V[B]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(B=0;16>B;++B)V[B]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=A.g[0],I=A.g[1],B=A.g[2];var H=A.g[3],D=S+(H^I&(B^H))+V[0]+3614090360&4294967295;S=I+(D<<7&4294967295|D>>>25),D=H+(B^S&(I^B))+V[1]+3905402710&4294967295,H=S+(D<<12&4294967295|D>>>20),D=B+(I^H&(S^I))+V[2]+606105819&4294967295,B=H+(D<<17&4294967295|D>>>15),D=I+(S^B&(H^S))+V[3]+3250441966&4294967295,I=B+(D<<22&4294967295|D>>>10),D=S+(H^I&(B^H))+V[4]+4118548399&4294967295,S=I+(D<<7&4294967295|D>>>25),D=H+(B^S&(I^B))+V[5]+1200080426&4294967295,H=S+(D<<12&4294967295|D>>>20),D=B+(I^H&(S^I))+V[6]+2821735955&4294967295,B=H+(D<<17&4294967295|D>>>15),D=I+(S^B&(H^S))+V[7]+4249261313&4294967295,I=B+(D<<22&4294967295|D>>>10),D=S+(H^I&(B^H))+V[8]+1770035416&4294967295,S=I+(D<<7&4294967295|D>>>25),D=H+(B^S&(I^B))+V[9]+2336552879&4294967295,H=S+(D<<12&4294967295|D>>>20),D=B+(I^H&(S^I))+V[10]+4294925233&4294967295,B=H+(D<<17&4294967295|D>>>15),D=I+(S^B&(H^S))+V[11]+2304563134&4294967295,I=B+(D<<22&4294967295|D>>>10),D=S+(H^I&(B^H))+V[12]+1804603682&4294967295,S=I+(D<<7&4294967295|D>>>25),D=H+(B^S&(I^B))+V[13]+4254626195&4294967295,H=S+(D<<12&4294967295|D>>>20),D=B+(I^H&(S^I))+V[14]+2792965006&4294967295,B=H+(D<<17&4294967295|D>>>15),D=I+(S^B&(H^S))+V[15]+1236535329&4294967295,I=B+(D<<22&4294967295|D>>>10),D=S+(B^H&(I^B))+V[1]+4129170786&4294967295,S=I+(D<<5&4294967295|D>>>27),D=H+(I^B&(S^I))+V[6]+3225465664&4294967295,H=S+(D<<9&4294967295|D>>>23),D=B+(S^I&(H^S))+V[11]+643717713&4294967295,B=H+(D<<14&4294967295|D>>>18),D=I+(H^S&(B^H))+V[0]+3921069994&4294967295,I=B+(D<<20&4294967295|D>>>12),D=S+(B^H&(I^B))+V[5]+3593408605&4294967295,S=I+(D<<5&4294967295|D>>>27),D=H+(I^B&(S^I))+V[10]+38016083&4294967295,H=S+(D<<9&4294967295|D>>>23),D=B+(S^I&(H^S))+V[15]+3634488961&4294967295,B=H+(D<<14&4294967295|D>>>18),D=I+(H^S&(B^H))+V[4]+3889429448&4294967295,I=B+(D<<20&4294967295|D>>>12),D=S+(B^H&(I^B))+V[9]+568446438&4294967295,S=I+(D<<5&4294967295|D>>>27),D=H+(I^B&(S^I))+V[14]+3275163606&4294967295,H=S+(D<<9&4294967295|D>>>23),D=B+(S^I&(H^S))+V[3]+4107603335&4294967295,B=H+(D<<14&4294967295|D>>>18),D=I+(H^S&(B^H))+V[8]+1163531501&4294967295,I=B+(D<<20&4294967295|D>>>12),D=S+(B^H&(I^B))+V[13]+2850285829&4294967295,S=I+(D<<5&4294967295|D>>>27),D=H+(I^B&(S^I))+V[2]+4243563512&4294967295,H=S+(D<<9&4294967295|D>>>23),D=B+(S^I&(H^S))+V[7]+1735328473&4294967295,B=H+(D<<14&4294967295|D>>>18),D=I+(H^S&(B^H))+V[12]+2368359562&4294967295,I=B+(D<<20&4294967295|D>>>12),D=S+(I^B^H)+V[5]+4294588738&4294967295,S=I+(D<<4&4294967295|D>>>28),D=H+(S^I^B)+V[8]+2272392833&4294967295,H=S+(D<<11&4294967295|D>>>21),D=B+(H^S^I)+V[11]+1839030562&4294967295,B=H+(D<<16&4294967295|D>>>16),D=I+(B^H^S)+V[14]+4259657740&4294967295,I=B+(D<<23&4294967295|D>>>9),D=S+(I^B^H)+V[1]+2763975236&4294967295,S=I+(D<<4&4294967295|D>>>28),D=H+(S^I^B)+V[4]+1272893353&4294967295,H=S+(D<<11&4294967295|D>>>21),D=B+(H^S^I)+V[7]+4139469664&4294967295,B=H+(D<<16&4294967295|D>>>16),D=I+(B^H^S)+V[10]+3200236656&4294967295,I=B+(D<<23&4294967295|D>>>9),D=S+(I^B^H)+V[13]+681279174&4294967295,S=I+(D<<4&4294967295|D>>>28),D=H+(S^I^B)+V[0]+3936430074&4294967295,H=S+(D<<11&4294967295|D>>>21),D=B+(H^S^I)+V[3]+3572445317&4294967295,B=H+(D<<16&4294967295|D>>>16),D=I+(B^H^S)+V[6]+76029189&4294967295,I=B+(D<<23&4294967295|D>>>9),D=S+(I^B^H)+V[9]+3654602809&4294967295,S=I+(D<<4&4294967295|D>>>28),D=H+(S^I^B)+V[12]+3873151461&4294967295,H=S+(D<<11&4294967295|D>>>21),D=B+(H^S^I)+V[15]+530742520&4294967295,B=H+(D<<16&4294967295|D>>>16),D=I+(B^H^S)+V[2]+3299628645&4294967295,I=B+(D<<23&4294967295|D>>>9),D=S+(B^(I|~H))+V[0]+4096336452&4294967295,S=I+(D<<6&4294967295|D>>>26),D=H+(I^(S|~B))+V[7]+1126891415&4294967295,H=S+(D<<10&4294967295|D>>>22),D=B+(S^(H|~I))+V[14]+2878612391&4294967295,B=H+(D<<15&4294967295|D>>>17),D=I+(H^(B|~S))+V[5]+4237533241&4294967295,I=B+(D<<21&4294967295|D>>>11),D=S+(B^(I|~H))+V[12]+1700485571&4294967295,S=I+(D<<6&4294967295|D>>>26),D=H+(I^(S|~B))+V[3]+2399980690&4294967295,H=S+(D<<10&4294967295|D>>>22),D=B+(S^(H|~I))+V[10]+4293915773&4294967295,B=H+(D<<15&4294967295|D>>>17),D=I+(H^(B|~S))+V[1]+2240044497&4294967295,I=B+(D<<21&4294967295|D>>>11),D=S+(B^(I|~H))+V[8]+1873313359&4294967295,S=I+(D<<6&4294967295|D>>>26),D=H+(I^(S|~B))+V[15]+4264355552&4294967295,H=S+(D<<10&4294967295|D>>>22),D=B+(S^(H|~I))+V[6]+2734768916&4294967295,B=H+(D<<15&4294967295|D>>>17),D=I+(H^(B|~S))+V[13]+1309151649&4294967295,I=B+(D<<21&4294967295|D>>>11),D=S+(B^(I|~H))+V[4]+4149444226&4294967295,S=I+(D<<6&4294967295|D>>>26),D=H+(I^(S|~B))+V[11]+3174756917&4294967295,H=S+(D<<10&4294967295|D>>>22),D=B+(S^(H|~I))+V[2]+718787259&4294967295,B=H+(D<<15&4294967295|D>>>17),D=I+(H^(B|~S))+V[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(B+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+B&4294967295,A.g[3]=A.g[3]+H&4294967295}n.prototype.u=function(A,S){S===void 0&&(S=A.length);for(var I=S-this.blockSize,V=this.B,B=this.h,H=0;H<S;){if(B==0)for(;H<=I;)s(this,A,H),H+=this.blockSize;if(typeof A=="string"){for(;H<S;)if(V[B++]=A.charCodeAt(H++),B==this.blockSize){s(this,V),B=0;break}}else for(;H<S;)if(V[B++]=A[H++],B==this.blockSize){s(this,V),B=0;break}}this.h=B,this.o+=S},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;var I=8*this.o;for(S=A.length-8;S<A.length;++S)A[S]=I&255,I/=256;for(this.u(A),A=Array(16),S=I=0;4>S;++S)for(var V=0;32>V;V+=8)A[I++]=this.g[S]>>>V&255;return A};function i(A,S){var I=u;return Object.prototype.hasOwnProperty.call(I,A)?I[A]:I[A]=S(A)}function o(A,S){this.h=S;for(var I=[],V=!0,B=A.length-1;0<=B;B--){var H=A[B]|0;V&&H==S||(I[B]=H,V=!1)}this.g=I}var u={};function d(A){return-128<=A&&128>A?i(A,function(S){return new o([S|0],0>S?-1:0)}):new o([A|0],0>A?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return x;if(0>A)return _(h(-A));for(var S=[],I=1,V=0;A>=I;V++)S[V]=A/I|0,I*=4294967296;return new o(S,0)}function p(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return _(p(A.substring(1),S));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=h(Math.pow(S,8)),V=x,B=0;B<A.length;B+=8){var H=Math.min(8,A.length-B),D=parseInt(A.substring(B,B+H),S);8>H?(H=h(Math.pow(S,H)),V=V.j(H).add(h(D))):(V=V.j(I),V=V.add(h(D)))}return V}var x=d(0),y=d(1),v=d(16777216);t=o.prototype,t.m=function(){if(w(this))return-_(this).m();for(var A=0,S=1,I=0;I<this.g.length;I++){var V=this.i(I);A+=(0<=V?V:4294967296+V)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(T(this))return"0";if(w(this))return"-"+_(this).toString(A);for(var S=h(Math.pow(A,6)),I=this,V="";;){var B=M(I,S).g;I=C(I,B.j(S));var H=((0<I.g.length?I.g[0]:I.h)>>>0).toString(A);if(I=B,T(I))return H+V;for(;6>H.length;)H="0"+H;V=H+V}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function T(A){if(A.h!=0)return!1;for(var S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function w(A){return A.h==-1}t.l=function(A){return A=C(this,A),w(A)?-1:T(A)?0:1};function _(A){for(var S=A.g.length,I=[],V=0;V<S;V++)I[V]=~A.g[V];return new o(I,~A.h).add(y)}t.abs=function(){return w(this)?_(this):this},t.add=function(A){for(var S=Math.max(this.g.length,A.g.length),I=[],V=0,B=0;B<=S;B++){var H=V+(this.i(B)&65535)+(A.i(B)&65535),D=(H>>>16)+(this.i(B)>>>16)+(A.i(B)>>>16);V=D>>>16,H&=65535,D&=65535,I[B]=D<<16|H}return new o(I,I[I.length-1]&-2147483648?-1:0)};function C(A,S){return A.add(_(S))}t.j=function(A){if(T(this)||T(A))return x;if(w(this))return w(A)?_(this).j(_(A)):_(_(this).j(A));if(w(A))return _(this.j(_(A)));if(0>this.l(v)&&0>A.l(v))return h(this.m()*A.m());for(var S=this.g.length+A.g.length,I=[],V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var B=0;B<A.g.length;B++){var H=this.i(V)>>>16,D=this.i(V)&65535,ae=A.i(B)>>>16,Ce=A.i(B)&65535;I[2*V+2*B]+=D*Ce,j(I,2*V+2*B),I[2*V+2*B+1]+=H*Ce,j(I,2*V+2*B+1),I[2*V+2*B+1]+=D*ae,j(I,2*V+2*B+1),I[2*V+2*B+2]+=H*ae,j(I,2*V+2*B+2)}for(V=0;V<S;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=S;V<2*S;V++)I[V]=0;return new o(I,0)};function j(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function O(A,S){this.g=A,this.h=S}function M(A,S){if(T(S))throw Error("division by zero");if(T(A))return new O(x,x);if(w(A))return S=M(_(A),S),new O(_(S.g),_(S.h));if(w(S))return S=M(A,_(S)),new O(_(S.g),S.h);if(30<A.g.length){if(w(A)||w(S))throw Error("slowDivide_ only works with positive integers.");for(var I=y,V=S;0>=V.l(A);)I=Y(I),V=Y(V);var B=ne(I,1),H=ne(V,1);for(V=ne(V,2),I=ne(I,2);!T(V);){var D=H.add(V);0>=D.l(A)&&(B=B.add(I),H=D),V=ne(V,1),I=ne(I,1)}return S=C(A,B.j(S)),new O(B,S)}for(B=x;0<=A.l(S);){for(I=Math.max(1,Math.floor(A.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),H=h(I),D=H.j(S);w(D)||0<D.l(A);)I-=V,H=h(I),D=H.j(S);T(H)&&(H=y),B=B.add(H),A=C(A,D)}return new O(B,A)}t.A=function(A){return M(this,A).h},t.and=function(A){for(var S=Math.max(this.g.length,A.g.length),I=[],V=0;V<S;V++)I[V]=this.i(V)&A.i(V);return new o(I,this.h&A.h)},t.or=function(A){for(var S=Math.max(this.g.length,A.g.length),I=[],V=0;V<S;V++)I[V]=this.i(V)|A.i(V);return new o(I,this.h|A.h)},t.xor=function(A){for(var S=Math.max(this.g.length,A.g.length),I=[],V=0;V<S;V++)I[V]=this.i(V)^A.i(V);return new o(I,this.h^A.h)};function Y(A){for(var S=A.g.length+1,I=[],V=0;V<S;V++)I[V]=A.i(V)<<1|A.i(V-1)>>>31;return new o(I,A.h)}function ne(A,S){var I=S>>5;S%=32;for(var V=A.g.length-I,B=[],H=0;H<V;H++)B[H]=0<S?A.i(H+I)>>>S|A.i(H+I+1)<<32-S:A.i(H+I);return new o(B,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,F3=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=p,Ao=o}).apply(typeof n_<"u"?n_:typeof self<"u"?self:typeof window<"u"?window:{});var af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L3,wd,M3,Af,ey,V3,$3,B3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,P){return m==Array.prototype||m==Object.prototype||(m[E]=P.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof af=="object"&&af];for(var E=0;E<m.length;++E){var P=m[E];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=r(this);function s(m,E){if(E)e:{var P=n;m=m.split(".");for(var U=0;U<m.length-1;U++){var de=m[U];if(!(de in P))break e;P=P[de]}m=m[m.length-1],U=P[m],E=E(U),E!=U&&E!=null&&e(P,m,{configurable:!0,writable:!0,value:E})}}function i(m,E){m instanceof String&&(m+="");var P=0,U=!1,de={next:function(){if(!U&&P<m.length){var Ee=P++;return{value:E(Ee,m[Ee]),done:!1}}return U=!0,{done:!0,value:void 0}}};return de[Symbol.iterator]=function(){return de},de}s("Array.prototype.values",function(m){return m||function(){return i(this,function(E,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function d(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function h(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function p(m,E,P){return m.call.apply(m.bind,arguments)}function x(m,E,P){if(!m)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var de=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(de,U),m.apply(E,de)}}return function(){return m.apply(E,arguments)}}function y(m,E,P){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:x,y.apply(null,arguments)}function v(m,E){var P=Array.prototype.slice.call(arguments,1);return function(){var U=P.slice();return U.push.apply(U,arguments),m.apply(this,U)}}function T(m,E){function P(){}P.prototype=E.prototype,m.aa=E.prototype,m.prototype=new P,m.prototype.constructor=m,m.Qb=function(U,de,Ee){for(var rt=Array(arguments.length-2),ar=2;ar<arguments.length;ar++)rt[ar-2]=arguments[ar];return E.prototype[de].apply(U,rt)}}function w(m){const E=m.length;if(0<E){const P=Array(E);for(let U=0;U<E;U++)P[U]=m[U];return P}return[]}function _(m,E){for(let P=1;P<arguments.length;P++){const U=arguments[P];if(d(U)){const de=m.length||0,Ee=U.length||0;m.length=de+Ee;for(let rt=0;rt<Ee;rt++)m[de+rt]=U[rt]}else m.push(U)}}class C{constructor(E,P){this.i=E,this.j=P,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function j(m){return/^[\s\xa0]*$/.test(m)}function O(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function M(m){return M[" "](m),m}M[" "]=function(){};var Y=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function ne(m,E,P){for(const U in m)E.call(P,m[U],U,m)}function A(m,E){for(const P in m)E.call(void 0,m[P],P,m)}function S(m){const E={};for(const P in m)E[P]=m[P];return E}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(m,E){let P,U;for(let de=1;de<arguments.length;de++){U=arguments[de];for(P in U)m[P]=U[P];for(let Ee=0;Ee<I.length;Ee++)P=I[Ee],Object.prototype.hasOwnProperty.call(U,P)&&(m[P]=U[P])}}function B(m){var E=1;m=m.split(":");const P=[];for(;0<E&&m.length;)P.push(m.shift()),E--;return m.length&&P.push(m.join(":")),P}function H(m){u.setTimeout(()=>{throw m},0)}function D(){var m=ye;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class ae{constructor(){this.h=this.g=null}add(E,P){const U=Ce.get();U.set(E,P),this.h?this.h.next=U:this.g=U,this.h=U}}var Ce=new C(()=>new Ge,m=>m.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(E,P){this.h=E,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,ce=!1,ye=new ae,be=()=>{const m=u.Promise.resolve(void 0);ke=()=>{m.then(te)}};var te=()=>{for(var m;m=D();){try{m.h.call(m.g)}catch(P){H(P)}var E=Ce;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}ce=!1};function R(){this.s=this.s,this.C=this.C}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var Q=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const P=()=>{};u.addEventListener("test",P,E),u.removeEventListener("test",P,E)}catch{}return m})();function J(m,E){if(X.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var P=this.type=m.type,U=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(Y){e:{try{M(E.nodeName);var de=!0;break e}catch{}de=!1}de||(E=null)}}else P=="mouseover"?E=m.fromElement:P=="mouseout"&&(E=m.toElement);this.relatedTarget=E,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:re[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&J.aa.h.call(this)}}T(J,X);var re={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),Re=0;function Se(m,E,P,U,de){this.listener=m,this.proxy=null,this.src=E,this.type=P,this.capture=!!U,this.ha=de,this.key=++Re,this.da=this.fa=!1}function pe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Qe(m){this.src=m,this.g={},this.h=0}Qe.prototype.add=function(m,E,P,U,de){var Ee=m.toString();m=this.g[Ee],m||(m=this.g[Ee]=[],this.h++);var rt=Gt(m,E,U,de);return-1<rt?(E=m[rt],P||(E.fa=!1)):(E=new Se(E,this.src,Ee,!!U,de),E.fa=P,m.push(E)),E};function yt(m,E){var P=E.type;if(P in m.g){var U=m.g[P],de=Array.prototype.indexOf.call(U,E,void 0),Ee;(Ee=0<=de)&&Array.prototype.splice.call(U,de,1),Ee&&(pe(E),m.g[P].length==0&&(delete m.g[P],m.h--))}}function Gt(m,E,P,U){for(var de=0;de<m.length;++de){var Ee=m[de];if(!Ee.da&&Ee.listener==E&&Ee.capture==!!P&&Ee.ha==U)return de}return-1}var Et="closure_lm_"+(1e6*Math.random()|0),dr={};function kt(m,E,P,U,de){if(Array.isArray(E)){for(var Ee=0;Ee<E.length;Ee++)kt(m,E[Ee],P,U,de);return null}return P=Te(P),m&&m[Ae]?m.K(E,P,h(U)?!!U.capture:!1,de):Ue(m,E,P,!1,U,de)}function Ue(m,E,P,U,de,Ee){if(!E)throw Error("Invalid event type");var rt=h(de)?!!de.capture:!!de,ar=ht(m);if(ar||(m[Et]=ar=new Qe(m)),P=ar.add(E,P,U,rt,Ee),P.proxy)return P;if(U=nr(),P.proxy=U,U.src=m,U.listener=P,m.addEventListener)Q||(de=rt),de===void 0&&(de=!1),m.addEventListener(E.toString(),U,de);else if(m.attachEvent)m.attachEvent(le(E.toString()),U);else if(m.addListener&&m.removeListener)m.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return P}function nr(){function m(P){return E.call(m.src,m.listener,P)}const E=Me;return m}function Ot(m,E,P,U,de){if(Array.isArray(E))for(var Ee=0;Ee<E.length;Ee++)Ot(m,E[Ee],P,U,de);else U=h(U)?!!U.capture:!!U,P=Te(P),m&&m[Ae]?(m=m.i,E=String(E).toString(),E in m.g&&(Ee=m.g[E],P=Gt(Ee,P,U,de),-1<P&&(pe(Ee[P]),Array.prototype.splice.call(Ee,P,1),Ee.length==0&&(delete m.g[E],m.h--)))):m&&(m=ht(m))&&(E=m.g[E.toString()],m=-1,E&&(m=Gt(E,P,U,de)),(P=-1<m?E[m]:null)&&vr(P))}function vr(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[Ae])yt(E.i,m);else{var P=m.type,U=m.proxy;E.removeEventListener?E.removeEventListener(P,U,m.capture):E.detachEvent?E.detachEvent(le(P),U):E.addListener&&E.removeListener&&E.removeListener(U),(P=ht(E))?(yt(P,m),P.h==0&&(P.src=null,E[Et]=null)):pe(m)}}}function le(m){return m in dr?dr[m]:dr[m]="on"+m}function Me(m,E){if(m.da)m=!0;else{E=new J(E,this);var P=m.listener,U=m.ha||m.src;m.fa&&vr(m),m=P.call(U,E)}return m}function ht(m){return m=m[Et],m instanceof Qe?m:null}var it="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(m){return typeof m=="function"?m:(m[it]||(m[it]=function(E){return m.handleEvent(E)}),m[it])}function Ie(){R.call(this),this.i=new Qe(this),this.M=this,this.F=null}T(Ie,R),Ie.prototype[Ae]=!0,Ie.prototype.removeEventListener=function(m,E,P,U){Ot(this,m,E,P,U)};function Xe(m,E){var P,U=m.F;if(U)for(P=[];U;U=U.F)P.push(U);if(m=m.M,U=E.type||E,typeof E=="string")E=new X(E,m);else if(E instanceof X)E.target=E.target||m;else{var de=E;E=new X(U,m),V(E,de)}if(de=!0,P)for(var Ee=P.length-1;0<=Ee;Ee--){var rt=E.g=P[Ee];de=ze(rt,U,!0,E)&&de}if(rt=E.g=m,de=ze(rt,U,!0,E)&&de,de=ze(rt,U,!1,E)&&de,P)for(Ee=0;Ee<P.length;Ee++)rt=E.g=P[Ee],de=ze(rt,U,!1,E)&&de}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var P=m.g[E],U=0;U<P.length;U++)pe(P[U]);delete m.g[E],m.h--}}this.F=null},Ie.prototype.K=function(m,E,P,U){return this.i.add(String(m),E,!1,P,U)},Ie.prototype.L=function(m,E,P,U){return this.i.add(String(m),E,!0,P,U)};function ze(m,E,P,U){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var de=!0,Ee=0;Ee<E.length;++Ee){var rt=E[Ee];if(rt&&!rt.da&&rt.capture==P){var ar=rt.listener,ln=rt.ha||rt.src;rt.fa&&yt(m.i,rt),de=ar.call(ln,U)!==!1&&de}}return de&&!U.defaultPrevented}function Rt(m,E,P){if(typeof m=="function")P&&(m=y(m,P));else if(m&&typeof m.handleEvent=="function")m=y(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:u.setTimeout(m,E||0)}function Oe(m){m.g=Rt(()=>{m.g=null,m.i&&(m.i=!1,Oe(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class He extends R{constructor(E,P){super(),this.m=E,this.l=P,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mt(m){R.call(this),this.h=m,this.g={}}T(mt,R);var pt=[];function hr(m){ne(m.g,function(E,P){this.g.hasOwnProperty(P)&&vr(E)},m),m.g={}}mt.prototype.N=function(){mt.aa.N.call(this),hr(this)},mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ht=u.JSON.stringify,Er=u.JSON.parse,qr=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function $r(){}$r.prototype.h=null;function Zr(m){return m.h||(m.h=m.i())}function St(){}var Wt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $t(){X.call(this,"d")}T($t,X);function Br(){X.call(this,"c")}T(Br,X);var Pr={},Qn=null;function Jn(){return Qn=Qn||new Ie}Pr.La="serverreachability";function ai(m){X.call(this,Pr.La,m)}T(ai,X);function we(m){const E=Jn();Xe(E,new ai(E))}Pr.STAT_EVENT="statevent";function Be(m,E){X.call(this,Pr.STAT_EVENT,m),this.stat=E}T(Be,X);function at(m){const E=Jn();Xe(E,new Be(E,m))}Pr.Ma="timingevent";function ut(m,E){X.call(this,Pr.Ma,m),this.size=E}T(ut,X);function Lt(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},E)}function Rr(){this.g=!0}Rr.prototype.xa=function(){this.g=!1};function pr(m,E,P,U,de,Ee){m.info(function(){if(m.g)if(Ee)for(var rt="",ar=Ee.split("&"),ln=0;ln<ar.length;ln++){var Kt=ar[ln].split("=");if(1<Kt.length){var fn=Kt[0];Kt=Kt[1];var en=fn.split("_");rt=2<=en.length&&en[1]=="type"?rt+(fn+"="+Kt+"&"):rt+(fn+"=redacted&")}}else rt=null;else rt=Ee;return"XMLHTTP REQ ("+U+") [attempt "+de+"]: "+E+`
`+P+`
`+rt})}function jt(m,E,P,U,de,Ee,rt){m.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+de+"]: "+E+`
`+P+`
`+Ee+" "+rt})}function L(m,E,P,U){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+z(m,P)+(U?" "+U:"")})}function q(m,E){m.info(function(){return"TIMEOUT: "+E})}Rr.prototype.info=function(){};function z(m,E){if(!m.g)return E;if(!E)return null;try{var P=JSON.parse(E);if(P){for(m=0;m<P.length;m++)if(Array.isArray(P[m])){var U=P[m];if(!(2>U.length)){var de=U[1];if(Array.isArray(de)&&!(1>de.length)){var Ee=de[0];if(Ee!="noop"&&Ee!="stop"&&Ee!="close")for(var rt=1;rt<de.length;rt++)de[rt]=""}}}}return Ht(P)}catch{return E}}var W={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},G={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},K;function ue(){}T(ue,$r),ue.prototype.g=function(){return new XMLHttpRequest},ue.prototype.i=function(){return{}},K=new ue;function _e(m,E,P,U){this.j=m,this.i=E,this.l=P,this.R=U||1,this.U=new mt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var me={},xe={};function Fe(m,E,P){m.L=1,m.v=Ya(ks(E)),m.m=P,m.P=!0,Ze(m,null)}function Ze(m,E){m.F=Date.now(),$e(m),m.A=ks(m.v);var P=m.A,U=m.R;Array.isArray(U)||(U=[String(U)]),Ja(P.i,"t",U),m.C=0,P=m.j.J,m.h=new fe,m.g=oh(m.j,P?E:null,!m.m),0<m.O&&(m.M=new He(y(m.Y,m,m.g),m.O)),E=m.U,P=m.g,U=m.ca;var de="readystatechange";Array.isArray(de)||(de&&(pt[0]=de.toString()),de=pt);for(var Ee=0;Ee<de.length;Ee++){var rt=kt(P,de[Ee],U||E.handleEvent,!1,E.h||E);if(!rt)break;E.g[rt.key]=rt}E=m.H?S(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),we(),pr(m.i,m.u,m.A,m.l,m.R,m.m)}_e.prototype.ca=function(m){m=m.target;const E=this.M;E&&us(m)==3?E.j():this.Y(m)},_e.prototype.Y=function(m){try{if(m==this.g)e:{const en=us(this.g);var E=this.g.Ba();const Hs=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||Bu(this.g)))){this.J||en!=4||E==7||(E==8||0>=Hs?we(3):we(2)),tr(this);var P=this.g.Z();this.X=P;t:if(nt(this)){var U=Bu(this.g);m="";var de=U.length,Ee=us(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ir(this),Jt(this);var rt="";break t}this.h.i=new u.TextDecoder}for(E=0;E<de;E++)this.h.h=!0,m+=this.h.i.decode(U[E],{stream:!(Ee&&E==de-1)});U.length=0,this.h.g+=m,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=P==200,jt(this.i,this.u,this.A,this.l,this.R,en,P),this.o){if(this.T&&!this.K){t:{if(this.g){var ar,ln=this.g;if((ar=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(ar)){var Kt=ar;break t}}Kt=null}if(P=Kt)L(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oi(this,P);else{this.o=!1,this.s=3,at(12),ir(this),Jt(this);break e}}if(this.P){P=!0;let As;for(;!this.J&&this.C<rt.length;)if(As=Ke(this,rt),As==xe){en==4&&(this.s=4,at(14),P=!1),L(this.i,this.l,null,"[Incomplete Response]");break}else if(As==me){this.s=4,at(15),L(this.i,this.l,rt,"[Invalid Chunk]"),P=!1;break}else L(this.i,this.l,As,null),oi(this,As);if(nt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||rt.length!=0||this.h.h||(this.s=1,at(16),P=!1),this.o=this.o&&P,!P)L(this.i,this.l,rt,"[Invalid Chunked Response]"),ir(this),Jt(this);else if(0<rt.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),zu(fn),fn.M=!0,at(11))}}else L(this.i,this.l,rt,null),oi(this,rt);en==4&&ir(this),this.o&&!this.J&&(en==4?hc(this.j,this):(this.o=!1,$e(this)))}else oc(this.g),P==400&&0<rt.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),ir(this),Jt(this)}}}catch{}finally{}};function nt(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Ke(m,E){var P=m.C,U=E.indexOf(`
`,P);return U==-1?xe:(P=Number(E.substring(P,U)),isNaN(P)?me:(U+=1,U+P>E.length?xe:(E=E.slice(U,U+P),m.C=U+P,E)))}_e.prototype.cancel=function(){this.J=!0,ir(this)};function $e(m){m.S=Date.now()+m.I,At(m,m.I)}function At(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Lt(y(m.ba,m),E)}function tr(m){m.B&&(u.clearTimeout(m.B),m.B=null)}_e.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(q(this.i,this.A),this.L!=2&&(we(),at(17)),ir(this),this.s=2,Jt(this)):At(this,this.S-m)};function Jt(m){m.j.G==0||m.J||hc(m.j,m)}function ir(m){tr(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,hr(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function oi(m,E){try{var P=m.j;if(P.G!=0&&(P.g==m||Tr(P.h,m))){if(!m.K&&Tr(P.h,m)&&P.G==3){try{var U=P.Da.g.parse(E)}catch{U=null}if(Array.isArray(U)&&U.length==3){var de=U;if(de[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<m.F)dc(P),hi(P);else break e;uc(P),at(18)}}else P.za=de[1],0<P.za-P.T&&37500>de[2]&&P.F&&P.v==0&&!P.C&&(P.C=Lt(y(P.Za,P),6e3));if(1>=qa(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else ha(P,11)}else if((m.K||P.g==m)&&dc(P),!j(E))for(de=P.Da.g.parse(E),E=0;E<de.length;E++){let Kt=de[E];if(P.T=Kt[0],Kt=Kt[1],P.G==2)if(Kt[0]=="c"){P.K=Kt[1],P.ia=Kt[2];const fn=Kt[3];fn!=null&&(P.la=fn,P.j.info("VER="+P.la));const en=Kt[4];en!=null&&(P.Aa=en,P.j.info("SVER="+P.Aa));const Hs=Kt[5];Hs!=null&&typeof Hs=="number"&&0<Hs&&(U=1.5*Hs,P.L=U,P.j.info("backChannelRequestTimeoutMs_="+U)),U=P;const As=m.g;if(As){const rl=As.g?As.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rl){var Ee=U.h;Ee.g||rl.indexOf("spdy")==-1&&rl.indexOf("quic")==-1&&rl.indexOf("h2")==-1||(Ee.j=Ee.l,Ee.g=new Set,Ee.h&&(Lu(Ee,Ee.h),Ee.h=null))}if(U.D){const pc=As.g?As.g.getResponseHeader("X-HTTP-Session-Id"):null;pc&&(U.ya=pc,mr(U.I,U.D,pc))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-m.F,P.j.info("Handshake RTT: "+P.R+"ms")),U=P;var rt=m;if(U.qa=ah(U,U.J?U.ia:null,U.W),rt.K){K0(U.h,rt);var ar=rt,ln=U.L;ln&&(ar.I=ln),ar.B&&(tr(ar),$e(ar)),U.g=rt}else tl(U);0<P.i.length&&Vi(P)}else Kt[0]!="stop"&&Kt[0]!="close"||ha(P,7);else P.G==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?ha(P,7):Tn(P):Kt[0]!="noop"&&P.l&&P.l.ta(Kt),P.v=0)}}we(4)}catch{}}var Oi=class{constructor(m,E){this.g=m,this.map=E}};function Ns(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function qa(m){return m.h?1:m.g?m.g.size:0}function Tr(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function Lu(m,E){m.g?m.g.add(E):m.h=E}function K0(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}Ns.prototype.cancel=function(){if(this.i=X0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function X0(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const P of m.g.values())E=E.concat(P.D);return E}return w(m.i)}function rc(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(d(m)){for(var E=[],P=m.length,U=0;U<P;U++)E.push(m[U]);return E}E=[],P=0;for(U in m)E[P++]=m[U];return E}function nc(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(d(m)||typeof m=="string"){var E=[];m=m.length;for(var P=0;P<m;P++)E.push(P);return E}E=[],P=0;for(const U in m)E[P++]=U;return E}}}function Ga(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(d(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var P=nc(m),U=rc(m),de=U.length,Ee=0;Ee<de;Ee++)E.call(void 0,U[Ee],P&&P[Ee],m)}var Qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pm(m,E){if(m){m=m.split("&");for(var P=0;P<m.length;P++){var U=m[P].indexOf("="),de=null;if(0<=U){var Ee=m[P].substring(0,U);de=m[P].substring(U+1)}else Ee=m[P];E(Ee,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function la(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof la){this.h=m.h,Jo(this,m.j),this.o=m.o,this.g=m.g,Ka(this,m.s),this.l=m.l;var E=m.i,P=new Fi;P.i=E.i,E.g&&(P.g=new Map(E.g),P.h=E.h),Xa(this,P),this.m=m.m}else m&&(E=String(m).match(Qo))?(this.h=!1,Jo(this,E[1]||"",!0),this.o=qt(E[2]||""),this.g=qt(E[3]||"",!0),Ka(this,E[4]),this.l=qt(E[5]||"",!0),Xa(this,E[6]||"",!0),this.m=qt(E[7]||"")):(this.h=!1,this.i=new Fi(null,this.h))}la.prototype.toString=function(){var m=[],E=this.j;E&&m.push(Qa(E,sc,!0),":");var P=this.g;return(P||E=="file")&&(m.push("//"),(E=this.o)&&m.push(Qa(E,sc,!0),"@"),m.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&m.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&m.push("/"),m.push(Qa(P,P.charAt(0)=="/"?J0:Q0,!0))),(P=this.i.toString())&&m.push("?",P),(P=this.m)&&m.push("#",Qa(P,Mu)),m.join("")};function ks(m){return new la(m)}function Jo(m,E,P){m.j=P?qt(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function Ka(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function Xa(m,E,P){E instanceof Fi?(m.i=E,Li(m.i,m.h)):(P||(E=Qa(E,Z0)),m.i=new Fi(E,m.h))}function mr(m,E,P){m.i.set(E,P)}function Ya(m){return mr(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function qt(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Qa(m,E,P){return typeof m=="string"?(m=encodeURI(m).replace(E,Y0),P&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Y0(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var sc=/[#\/\?@]/g,Q0=/[#\?:]/g,J0=/[#\?]/g,Z0=/[#\?@]/g,Mu=/#/g;function Fi(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function En(m){m.g||(m.g=new Map,m.h=0,m.i&&Pm(m.i,function(E,P){m.add(decodeURIComponent(E.replace(/\+/g," ")),P)}))}t=Fi.prototype,t.add=function(m,E){En(this),this.i=null,m=zs(this,m);var P=this.g.get(m);return P||this.g.set(m,P=[]),P.push(E),this.h+=1,this};function li(m,E){En(m),E=zs(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function ci(m,E){return En(m),E=zs(m,E),m.g.has(E)}t.forEach=function(m,E){En(this),this.g.forEach(function(P,U){P.forEach(function(de){m.call(E,de,U,this)},this)},this)},t.na=function(){En(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),P=[];for(let U=0;U<E.length;U++){const de=m[U];for(let Ee=0;Ee<de.length;Ee++)P.push(E[U])}return P},t.V=function(m){En(this);let E=[];if(typeof m=="string")ci(this,m)&&(E=E.concat(this.g.get(zs(this,m))));else{m=Array.from(this.g.values());for(let P=0;P<m.length;P++)E=E.concat(m[P])}return E},t.set=function(m,E){return En(this),this.i=null,m=zs(this,m),ci(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},t.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function Ja(m,E,P){li(m,E),0<P.length&&(m.i=null,m.g.set(zs(m,E),w(P)),m.h+=P.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var P=0;P<E.length;P++){var U=E[P];const Ee=encodeURIComponent(String(U)),rt=this.V(U);for(U=0;U<rt.length;U++){var de=Ee;rt[U]!==""&&(de+="="+encodeURIComponent(String(rt[U]))),m.push(de)}}return this.i=m.join("&")};function zs(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function Li(m,E){E&&!m.j&&(En(m),m.i=null,m.g.forEach(function(P,U){var de=U.toLowerCase();U!=de&&(li(this,U),Ja(this,de,P))},m)),m.j=E}function Rm(m,E){const P=new Rr;if(u.Image){const U=new Image;U.onload=v(cs,P,"TestLoadImage: loaded",!0,E,U),U.onerror=v(cs,P,"TestLoadImage: error",!1,E,U),U.onabort=v(cs,P,"TestLoadImage: abort",!1,E,U),U.ontimeout=v(cs,P,"TestLoadImage: timeout",!1,E,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=m}else E(!1)}function eh(m,E){const P=new Rr,U=new AbortController,de=setTimeout(()=>{U.abort(),cs(P,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:U.signal}).then(Ee=>{clearTimeout(de),Ee.ok?cs(P,"TestPingServer: ok",!0,E):cs(P,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(de),cs(P,"TestPingServer: error",!1,E)})}function cs(m,E,P,U,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),U(P)}catch{}}function jm(){this.g=new qr}function th(m,E,P){const U=P||"";try{Ga(m,function(de,Ee){let rt=de;h(de)&&(rt=Ht(de)),E.push(U+Ee+"="+encodeURIComponent(rt))})}catch(de){throw E.push(U+"type="+encodeURIComponent("_badmap")),de}}function ca(m){this.l=m.Ub||null,this.j=m.eb||!1}T(ca,$r),ca.prototype.g=function(){return new Zo(this.l,this.j)},ca.prototype.i=(function(m){return function(){return m}})({});function Zo(m,E){Ie.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Zo,Ie),t=Zo.prototype,t.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,di(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||u).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rh(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function rh(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?ui(this):di(this),this.readyState==3&&rh(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,ui(this))},t.Qa=function(m){this.g&&(this.response=m,ui(this))},t.ga=function(){this.g&&ui(this)};function ui(m){m.readyState=4,m.l=null,m.j=null,m.v=null,di(m)}t.setRequestHeader=function(m,E){this.u.append(m,E)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var P=E.next();!P.done;)P=P.value,m.push(P[0]+": "+P[1]),P=E.next();return m.join(`\r
`)};function di(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Zo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ua(m){let E="";return ne(m,function(P,U){E+=U,E+=":",E+=P,E+=`\r
`}),E}function Za(m,E,P){e:{for(U in P){var U=!1;break e}U=!0}U||(P=ua(P),typeof m=="string"?P!=null&&encodeURIComponent(String(P)):mr(m,E,P))}function Ar(m){Ie.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ar,Ie);var Dm=/^https?$/i,Vu=["POST","PUT"];t=Ar.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,E,P,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():K.g(),this.v=this.o?Zr(this.o):Zr(K),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(Ee){el(this,Ee);return}if(m=P||"",P=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var de in U)P.set(de,U[de]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const Ee of U.keys())P.set(Ee,U.get(Ee));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(P.keys()).find(Ee=>Ee.toLowerCase()=="content-type"),de=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Vu,E,void 0))||U||de||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ee,rt]of P)this.g.setRequestHeader(Ee,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ac(this),this.u=!0,this.g.send(m),this.u=!1}catch(Ee){el(this,Ee)}};function el(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,ic(m),Ss(m)}function ic(m){m.A||(m.A=!0,Xe(m,"complete"),Xe(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Xe(this,"complete"),Xe(this,"abort"),Ss(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ss(this,!0)),Ar.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$u(this):this.bb())},t.bb=function(){$u(this)};function $u(m){if(m.h&&typeof o<"u"&&(!m.v[1]||us(m)!=4||m.Z()!=2)){if(m.u&&us(m)==4)Rt(m.Ea,0,m);else if(Xe(m,"readystatechange"),us(m)==4){m.h=!1;try{const rt=m.Z();e:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var P;if(!(P=E)){var U;if(U=rt===0){var de=String(m.D).match(Qo)[1]||null;!de&&u.self&&u.self.location&&(de=u.self.location.protocol.slice(0,-1)),U=!Dm.test(de?de.toLowerCase():"")}P=U}if(P)Xe(m,"complete"),Xe(m,"success");else{m.m=6;try{var Ee=2<us(m)?m.g.statusText:""}catch{Ee=""}m.l=Ee+" ["+m.Z()+"]",ic(m)}}finally{Ss(m)}}}}function Ss(m,E){if(m.g){ac(m);const P=m.g,U=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||Xe(m,"ready");try{P.onreadystatechange=U}catch{}}}function ac(m){m.I&&(u.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function us(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<us(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),Er(E)}};function Bu(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function oc(m){const E={};m=(m.g&&2<=us(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<m.length;U++){if(j(m[U]))continue;var P=B(m[U]);const de=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const Ee=E[de]||[];E[de]=Ee,Ee.push(P)}A(E,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(m,E,P){return P&&P.internalChannelParams&&P.internalChannelParams[m]||E}function Uu(m){this.Aa=0,this.i=[],this.j=new Rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mi("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mi("baseRetryDelayMs",5e3,m),this.cb=Mi("retryDelaySeedMs",1e4,m),this.Wa=Mi("forwardChannelMaxRetries",2,m),this.wa=Mi("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Ns(m&&m.concurrentRequestLimit),this.Da=new jm,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Uu.prototype,t.la=8,t.G=1,t.connect=function(m,E,P,U){at(0),this.W=m,this.H=E||{},P&&U!==void 0&&(this.H.OSID=P,this.H.OAID=U),this.F=this.X,this.I=ah(this,null,this.W),Vi(this)};function Tn(m){if(lc(m),m.G==3){var E=m.U++,P=ks(m.I);if(mr(P,"SID",m.K),mr(P,"RID",E),mr(P,"TYPE","terminate"),da(m,P),E=new _e(m,m.j,E),E.L=2,E.v=Ya(ks(P)),P=!1,u.navigator&&u.navigator.sendBeacon)try{P=u.navigator.sendBeacon(E.v.toString(),"")}catch{}!P&&u.Image&&(new Image().src=E.v,P=!0),P||(E.g=oh(E.j,null),E.g.ea(E.v)),E.F=Date.now(),$e(E)}ih(m)}function hi(m){m.g&&(zu(m),m.g.cancel(),m.g=null)}function lc(m){hi(m),m.u&&(u.clearTimeout(m.u),m.u=null),dc(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function Vi(m){if(!Gr(m.h)&&!m.s){m.s=!0;var E=m.Ga;ke||be(),ce||(ke(),ce=!0),ye.add(E,m),m.B=0}}function Om(m,E){return qa(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Lt(y(m.Ga,m,E),sh(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const de=new _e(this,this.j,m);let Ee=this.o;if(this.S&&(Ee?(Ee=S(Ee),V(Ee,this.S)):Ee=this.S),this.m!==null||this.O||(de.H=Ee,Ee=null),this.P)e:{for(var E=0,P=0;P<this.i.length;P++){t:{var U=this.i[P];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(E+=U,4096<E){E=P;break e}if(E===4096||P===this.i.length-1){E=P+1;break e}}E=1e3}else E=1e3;E=eo(this,de,E),P=ks(this.I),mr(P,"RID",m),mr(P,"CVER",22),this.D&&mr(P,"X-HTTP-Session-Id",this.D),da(this,P),Ee&&(this.O?E="headers="+encodeURIComponent(String(ua(Ee)))+"&"+E:this.m&&Za(P,this.m,Ee)),Lu(this.h,de),this.Ua&&mr(P,"TYPE","init"),this.P?(mr(P,"$req",E),mr(P,"SID","null"),de.T=!0,Fe(de,P,null)):Fe(de,P,E),this.G=2}}else this.G==3&&(m?cc(this,m):this.i.length==0||Gr(this.h)||cc(this))};function cc(m,E){var P;E?P=E.l:P=m.U++;const U=ks(m.I);mr(U,"SID",m.K),mr(U,"RID",P),mr(U,"AID",m.T),da(m,U),m.m&&m.o&&Za(U,m.m,m.o),P=new _e(m,m.j,P,m.B+1),m.m===null&&(P.H=m.o),E&&(m.i=E.D.concat(m.i)),E=eo(m,P,1e3),P.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Lu(m.h,P),Fe(P,U,E)}function da(m,E){m.H&&ne(m.H,function(P,U){mr(E,U,P)}),m.l&&Ga({},function(P,U){mr(E,U,P)})}function eo(m,E,P){P=Math.min(m.i.length,P);var U=m.l?y(m.l.Na,m.l,m):null;e:{var de=m.i;let Ee=-1;for(;;){const rt=["count="+P];Ee==-1?0<P?(Ee=de[0].g,rt.push("ofs="+Ee)):Ee=0:rt.push("ofs="+Ee);let ar=!0;for(let ln=0;ln<P;ln++){let Kt=de[ln].g;const fn=de[ln].map;if(Kt-=Ee,0>Kt)Ee=Math.max(0,de[ln].g-100),ar=!1;else try{th(fn,rt,"req"+Kt+"_")}catch{U&&U(fn)}}if(ar){U=rt.join("&");break e}}}return m=m.i.splice(0,P),E.D=m,U}function tl(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;ke||be(),ce||(ke(),ce=!0),ye.add(E,m),m.v=0}}function uc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Lt(y(m.Fa,m),sh(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,nh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Lt(y(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),hi(this),nh(this))};function zu(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function nh(m){m.g=new _e(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=ks(m.qa);mr(E,"RID","rpc"),mr(E,"SID",m.K),mr(E,"AID",m.T),mr(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&mr(E,"TO",m.ja),mr(E,"TYPE","xmlhttp"),da(m,E),m.m&&m.o&&Za(E,m.m,m.o),m.L&&(m.g.I=m.L);var P=m.g;m=m.ia,P.L=1,P.v=Ya(ks(E)),P.m=null,P.P=!0,Ze(P,m)}t.Za=function(){this.C!=null&&(this.C=null,hi(this),uc(this),at(19))};function dc(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function hc(m,E){var P=null;if(m.g==E){dc(m),zu(m),m.g=null;var U=2}else if(Tr(m.h,E))P=E.D,K0(m.h,E),U=1;else return;if(m.G!=0){if(E.o)if(U==1){P=E.m?E.m.length:0,E=Date.now()-E.F;var de=m.B;U=Jn(),Xe(U,new ut(U,P)),Vi(m)}else tl(m);else if(de=E.s,de==3||de==0&&0<E.X||!(U==1&&Om(m,E)||U==2&&uc(m)))switch(P&&0<P.length&&(E=m.h,E.i=E.i.concat(P)),de){case 1:ha(m,5);break;case 4:ha(m,10);break;case 3:ha(m,6);break;default:ha(m,2)}}}function sh(m,E){let P=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(P*=2),P*E}function ha(m,E){if(m.j.info("Error code "+E),E==2){var P=y(m.fb,m),U=m.Xa;const de=!U;U=new la(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Jo(U,"https"),Ya(U),de?Rm(U.toString(),P):eh(U.toString(),P)}else at(2);m.G=0,m.l&&m.l.sa(E),ih(m),lc(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function ih(m){if(m.G=0,m.ka=[],m.l){const E=X0(m.h);(E.length!=0||m.i.length!=0)&&(_(m.ka,E),_(m.ka,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.ra()}}function ah(m,E,P){var U=P instanceof la?ks(P):new la(P);if(U.g!="")E&&(U.g=E+"."+U.g),Ka(U,U.s);else{var de=u.location;U=de.protocol,E=E?E+"."+de.hostname:de.hostname,de=+de.port;var Ee=new la(null);U&&Jo(Ee,U),E&&(Ee.g=E),de&&Ka(Ee,de),P&&(Ee.l=P),U=Ee}return P=m.D,E=m.ya,P&&E&&mr(U,P,E),mr(U,"VER",m.la),da(m,U),U}function oh(m,E,P){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new Ar(new ca({eb:P})):new Ar(m.pa),E.Ha(m.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hu(){}t=Hu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fc(){}fc.prototype.g=function(m,E){return new Zn(m,E)};function Zn(m,E){Ie.call(this),this.g=new Uu(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!j(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!j(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new $i(this)}T(Zn,Ie),Zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){Tn(this.g)},Zn.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var P={};P.__data__=m,m=P}else this.u&&(P={},P.__data__=Ht(m),m=P);E.i.push(new Oi(E.Ya++,m)),E.G==3&&Vi(E)},Zn.prototype.N=function(){this.g.l=null,delete this.j,Tn(this.g),delete this.g,Zn.aa.N.call(this)};function lh(m){$t.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const P in E){m=P;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}T(lh,$t);function ch(){Br.call(this),this.status=1}T(ch,Br);function $i(m){this.g=m}T($i,Hu),$i.prototype.ua=function(){Xe(this.g,"a")},$i.prototype.ta=function(m){Xe(this.g,new lh(m))},$i.prototype.sa=function(m){Xe(this.g,new ch)},$i.prototype.ra=function(){Xe(this.g,"b")},fc.prototype.createWebChannel=fc.prototype.g,Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,B3=function(){return new fc},$3=function(){return Jn()},V3=Pr,ey={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},W.NO_ERROR=0,W.TIMEOUT=8,W.HTTP_ERROR=6,Af=W,G.COMPLETE="complete",M3=G,St.EventType=Wt,Wt.OPEN="a",Wt.CLOSE="b",Wt.ERROR="c",Wt.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,wd=St,Ar.prototype.listenOnce=Ar.prototype.L,Ar.prototype.getLastError=Ar.prototype.Ka,Ar.prototype.getLastErrorCode=Ar.prototype.Ba,Ar.prototype.getStatus=Ar.prototype.Z,Ar.prototype.getResponseJson=Ar.prototype.Oa,Ar.prototype.getResponseText=Ar.prototype.oa,Ar.prototype.send=Ar.prototype.ea,Ar.prototype.setWithCredentials=Ar.prototype.Ha,L3=Ar}).apply(typeof af<"u"?af:typeof self<"u"?self:typeof window<"u"?window:{});const s_="@firebase/firestore",i_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new Hp("@firebase/firestore");function Mc(){return Cl.logLevel}function lt(t,...e){if(Cl.logLevel<=Ut.DEBUG){const r=e.map(l1);Cl.debug(`Firestore (${Tu}): ${t}`,...r)}}function Fa(t,...e){if(Cl.logLevel<=Ut.ERROR){const r=e.map(l1);Cl.error(`Firestore (${Tu}): ${t}`,...r)}}function iu(t,...e){if(Cl.logLevel<=Ut.WARN){const r=e.map(l1);Cl.warn(`Firestore (${Tu}): ${t}`,...r)}}function l1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t="Unexpected state"){const e=`FIRESTORE (${Tu}) INTERNAL ASSERTION FAILED: `+t;throw Fa(e),new Error(e)}function Yt(t,e){t||_t()}function Pt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends si{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ID{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Wn.UNAUTHENTICATED)))}shutdown(){}}class PD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class RD{constructor(e){this.t=e,this.currentUser=Wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Yt(this.o===void 0);let n=this.i;const s=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let i=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ki,e.enqueueRetryable((()=>s(this.currentUser)))};const o=()=>{const d=i;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},u=d=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ki)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Yt(typeof n.accessToken=="string"),new U3(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yt(e===null||typeof e=="string"),new Wn(e)}}class jD{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Wn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class DD{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new jD(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable((()=>r(Wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class a_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OD{constructor(e,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Fs(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,r){Yt(this.o===void 0);const n=i=>{i.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,lt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>n(i)))};const s=i=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new a_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Yt(typeof r.token=="string"),this.R=r.token,new a_(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=FD(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<r&&(n+=e.charAt(s[i]%62))}return n}}function Vt(t,e){return t<e?-1:t>e?1:0}function ty(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),s=e.codePointAt(r);if(n!==s){if(n<128&&s<128)return Vt(n,s);{const i=z3(),o=LD(i.encode(o_(t,r)),i.encode(o_(e,r)));return o!==0?o:Vt(n,s)}}r+=n>65535?2:1}return Vt(t.length,e.length)}function o_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function LD(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Vt(t[r],e[r]);return Vt(t.length,e.length)}function au(t,e,r){return t.length===e.length&&t.every(((n,s)=>r(n,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=-62135596800,c_=1e6;class yr{static now(){return yr.fromMillis(Date.now())}static fromDate(e){return yr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*c_);return new yr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new st(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new st(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<l_)throw new st(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c_}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-l_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new yr(0,0))}static max(){return new Tt(new yr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="__name__";class Gi{constructor(e,r,n){r===void 0?r=0:r>e.length&&_t(),n===void 0?n=e.length-r:n>e.length-r&&_t(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Gi.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Gi?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const i=Gi.compareSegments(e.get(s),r.get(s));if(i!==0)return i}return Vt(e.length,r.length)}static compareSegments(e,r){const n=Gi.isNumericId(e),s=Gi.isNumericId(r);return n&&!s?-1:!n&&s?1:n&&s?Gi.extractNumericId(e).compare(Gi.extractNumericId(r)):ty(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ao.fromString(e.substring(4,e.length-2))}}class xr extends Gi{construct(e,r,n){return new xr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new st(Pe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((s=>s.length>0)))}return new xr(r)}static emptyPath(){return new xr([])}}const MD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends Gi{construct(e,r,n){return new Pn(e,r,n)}static isValidIdentifier(e){return MD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u_}static keyField(){return new Pn([u_])}static fromServerFormat(e){const r=[];let n="",s=0;const i=()=>{if(n.length===0)throw new st(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new st(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new st(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,s+=2}else u==="`"?(o=!o,s++):u!=="."||o?(n+=u,s++):(i(),s++)}if(i(),o)throw new st(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pn(r)}static emptyPath(){return new Pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.path=e}static fromPath(e){return new xt(xr.fromString(e))}static fromName(e){return new xt(xr.fromString(e).popFirst(5))}static empty(){return new xt(xr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return xr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xt(new xr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=-1;function VD(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=Tt.fromTimestamp(n===1e9?new yr(r+1,0):new yr(r,n));return new Ro(s,xt.empty(),e)}function $D(t){return new Ro(t.readTime,t.key,Kd)}class Ro{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ro(Tt.min(),xt.empty(),Kd)}static max(){return new Ro(Tt.max(),xt.empty(),Kd)}}function BD(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=xt.comparator(t.documentKey,e.documentKey),r!==0?r:Vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(t){if(t.code!==Pe.FAILED_PRECONDITION||t.message!==UD)throw t;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new je(((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,s)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof je?r:je.resolve(r)}catch(r){return je.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):je.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):je.reject(r)}static resolve(e){return new je(((r,n)=>{r(e)}))}static reject(e){return new je(((r,n)=>{n(e)}))}static waitFor(e){return new je(((r,n)=>{let s=0,i=0,o=!1;e.forEach((u=>{++s,u.next((()=>{++i,o&&i===s&&r()}),(d=>n(d)))})),o=!0,i===s&&r()}))}static or(e){let r=je.resolve(!1);for(const n of e)r=r.next((s=>s?je.resolve(s):n()));return r}static forEach(e,r){const n=[];return e.forEach(((s,i)=>{n.push(r.call(this,s,i))})),this.waitFor(n)}static mapArray(e,r){return new je(((n,s)=>{const i=e.length,o=new Array(i);let u=0;for(let d=0;d<i;d++){const h=d;r(e[h]).next((p=>{o[h]=p,++u,u===i&&n(o)}),(p=>s(p)))}}))}static doWhile(e,r){return new je(((n,s)=>{const i=()=>{e()===!0?r().next((()=>{i()}),s):n()};i()}))}}function HD(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ku(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.oe(n),this._e=n=>r.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Kp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=-1;function _0(t){return t==null}function Gf(t){return t===0&&1/t==-1/0}function WD(t){return typeof t=="number"&&Number.isInteger(t)&&!Gf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="";function qD(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=d_(e)),e=GD(t.get(r),e);return d_(e)}function GD(t,e){let r=e;const n=t.length;for(let s=0;s<n;s++){const i=t.charAt(s);switch(i){case"\0":r+="";break;case W3:r+="";break;default:r+=i}}return r}function d_(t){return t+W3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function qo(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function q3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,r){this.comparator=e,this.root=r||In.EMPTY}insert(e,r){return new Vr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new of(this.root,e,this.comparator,!1)}getReverseIterator(){return new of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new of(this.root,e,this.comparator,!0)}}class of{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,r,n,s,i){this.key=e,this.value=r,this.color=n??In.RED,this.left=s??In.EMPTY,this.right=i??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,i){return new In(e??this.key,r??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,r,n),null):i===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return In.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(e,r,n,s,i){return this}insert(e,r,n){return new In(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new Vr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new f_(this.data.getIterator())}getIteratorFrom(e){return new f_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new hn(this.comparator);return r.data=e,r}}class f_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.fields=e,e.sort(Pn.comparator)}static empty(){return new Ls([])}unionWith(e){let r=new hn(Pn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Ls(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return au(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new G3("Invalid base64 string: "+i):i}})(e);return new Ln(r)}static fromUint8Array(e){const r=(function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i})(e);return new Ln(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const KD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jo(t){if(Yt(!!t),typeof t=="string"){let e=0;const r=KD.exec(t);if(Yt(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Yr(t.seconds),nanos:Yr(t.nanos)}}function Yr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Do(t){return typeof t=="string"?Ln.fromBase64String(t):Ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="server_timestamp",X3="__type__",Y3="__previous_value__",Q3="__local_write_time__";function u1(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[X3])===null||r===void 0?void 0:r.stringValue)===K3}function Xp(t){const e=t.mapValue.fields[Y3];return u1(e)?Xp(e):e}function Xd(t){const e=jo(t.mapValue.fields[Q3].timestampValue);return new yr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,r,n,s,i,o,u,d,h){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h}}const Kf="(default)";class Yd{constructor(e,r){this.projectId=e,this.database=r||Kf}static empty(){return new Yd("","")}get isDefaultDatabase(){return this.database===Kf}isEqual(e){return e instanceof Yd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3="__type__",YD="__max__",lf={mapValue:{}},Z3="__vector__",Xf="value";function Oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?u1(t)?4:JD(t)?9007199254740991:QD(t)?10:11:_t()}function ra(t,e){if(t===e)return!0;const r=Oo(t);if(r!==Oo(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xd(t).isEqual(Xd(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=jo(s.timestampValue),u=jo(i.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return Do(s.bytesValue).isEqual(Do(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return Yr(s.geoPointValue.latitude)===Yr(i.geoPointValue.latitude)&&Yr(s.geoPointValue.longitude)===Yr(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return Yr(s.integerValue)===Yr(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Yr(s.doubleValue),u=Yr(i.doubleValue);return o===u?Gf(o)===Gf(u):isNaN(o)&&isNaN(u)}return!1})(t,e);case 9:return au(t.arrayValue.values||[],e.arrayValue.values||[],ra);case 10:case 11:return(function(s,i){const o=s.mapValue.fields||{},u=i.mapValue.fields||{};if(h_(o)!==h_(u))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(u[d]===void 0||!ra(o[d],u[d])))return!1;return!0})(t,e);default:return _t()}}function Qd(t,e){return(t.values||[]).find((r=>ra(r,e)))!==void 0}function ou(t,e){if(t===e)return 0;const r=Oo(t),n=Oo(e);if(r!==n)return Vt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Vt(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const u=Yr(i.integerValue||i.doubleValue),d=Yr(o.integerValue||o.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(t,e);case 3:return p_(t.timestampValue,e.timestampValue);case 4:return p_(Xd(t),Xd(e));case 5:return ty(t.stringValue,e.stringValue);case 6:return(function(i,o){const u=Do(i),d=Do(o);return u.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const u=i.split("/"),d=o.split("/");for(let h=0;h<u.length&&h<d.length;h++){const p=Vt(u[h],d[h]);if(p!==0)return p}return Vt(u.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const u=Vt(Yr(i.latitude),Yr(o.latitude));return u!==0?u:Vt(Yr(i.longitude),Yr(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return m_(t.arrayValue,e.arrayValue);case 10:return(function(i,o){var u,d,h,p;const x=i.fields||{},y=o.fields||{},v=(u=x[Xf])===null||u===void 0?void 0:u.arrayValue,T=(d=y[Xf])===null||d===void 0?void 0:d.arrayValue,w=Vt(((h=v?.values)===null||h===void 0?void 0:h.length)||0,((p=T?.values)===null||p===void 0?void 0:p.length)||0);return w!==0?w:m_(v,T)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===lf.mapValue&&o===lf.mapValue)return 0;if(i===lf.mapValue)return 1;if(o===lf.mapValue)return-1;const u=i.fields||{},d=Object.keys(u),h=o.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let x=0;x<d.length&&x<p.length;++x){const y=ty(d[x],p[x]);if(y!==0)return y;const v=ou(u[d[x]],h[p[x]]);if(v!==0)return v}return Vt(d.length,p.length)})(t.mapValue,e.mapValue);default:throw _t()}}function p_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Vt(t,e);const r=jo(t),n=jo(e),s=Vt(r.seconds,n.seconds);return s!==0?s:Vt(r.nanos,n.nanos)}function m_(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const i=ou(r[s],n[s]);if(i)return i}return Vt(r.length,n.length)}function lu(t){return ry(t)}function ry(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=jo(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Do(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return xt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",s=!0;for(const i of r.values||[])s?s=!1:n+=",",n+=ry(i);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let s="{",i=!0;for(const o of n)i?i=!1:s+=",",s+=`${o}:${ry(r.fields[o])}`;return s+"}"})(t.mapValue):_t()}function Cf(t){switch(Oo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xp(t);return e?16+Cf(e):16;case 5:return 2*t.stringValue.length;case 6:return Do(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((s,i)=>s+Cf(i)),0)})(t.arrayValue);case 10:case 11:return(function(n){let s=0;return qo(n.fields,((i,o)=>{s+=i.length+Cf(o)})),s})(t.mapValue);default:throw _t()}}function g_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ny(t){return!!t&&"integerValue"in t}function d1(t){return!!t&&"arrayValue"in t}function x_(t){return!!t&&"nullValue"in t}function y_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function If(t){return!!t&&"mapValue"in t}function QD(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[J3])===null||r===void 0?void 0:r.stringValue)===Z3}function Cd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qo(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Cd(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Cd(t.arrayValue.values[r]);return e}return Object.assign({},t)}function JD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===YD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.value=e}static empty(){return new ss({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!If(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cd(r)}setAll(e){let r=Pn.emptyPath(),n={},s=[];e.forEach(((o,u)=>{if(!r.isImmediateParentOf(u)){const d=this.getFieldsMap(r);this.applyChanges(d,n,s),n={},s=[],r=u.popLast()}o?n[u.lastSegment()]=Cd(o):s.push(u.lastSegment())}));const i=this.getFieldsMap(r);this.applyChanges(i,n,s)}delete(e){const r=this.field(e.popLast());If(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ra(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];If(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){qo(r,((s,i)=>e[s]=i));for(const s of n)delete e[s]}clone(){return new ss(Cd(this.value))}}function eN(t){const e=[];return qo(t.fields,((r,n)=>{const s=new Pn([r]);if(If(n)){const i=eN(n.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)})),new Ls(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,r,n,s,i,o,u){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=i,this.data=o,this.documentState=u}static newInvalidDocument(e){return new yn(e,0,Tt.min(),Tt.min(),Tt.min(),ss.empty(),0)}static newFoundDocument(e,r,n,s){return new yn(e,1,r,Tt.min(),n,s,0)}static newNoDocument(e,r){return new yn(e,2,r,Tt.min(),Tt.min(),ss.empty(),0)}static newUnknownDocument(e,r){return new yn(e,3,r,Tt.min(),Tt.min(),ss.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ss.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ss.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,r){this.position=e,this.inclusive=r}}function v_(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?n=xt.comparator(xt.fromName(o.referenceValue),r.key):n=ou(o,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function b_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ra(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,r="asc"){this.field=e,this.dir=r}}function ZD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{}class sn extends tN{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new t8(e,r,n):r==="array-contains"?new s8(e,n):r==="in"?new i8(e,n):r==="not-in"?new a8(e,n):r==="array-contains-any"?new o8(e,n):new sn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new r8(e,n):new n8(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(ou(r,this.value)):r!==null&&Oo(this.value)===Oo(r)&&this.matchesComparison(ou(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends tN{constructor(e,r){super(),this.filters=e,this.op=r,this.ce=null}static create(e,r){return new Ii(e,r)}matches(e){return rN(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function rN(t){return t.op==="and"}function nN(t){return e8(t)&&rN(t)}function e8(t){for(const e of t.filters)if(e instanceof Ii)return!1;return!0}function sy(t){if(t instanceof sn)return t.field.canonicalString()+t.op.toString()+lu(t.value);if(nN(t))return t.filters.map((e=>sy(e))).join(",");{const e=t.filters.map((r=>sy(r))).join(",");return`${t.op}(${e})`}}function sN(t,e){return t instanceof sn?(function(n,s){return s instanceof sn&&n.op===s.op&&n.field.isEqual(s.field)&&ra(n.value,s.value)})(t,e):t instanceof Ii?(function(n,s){return s instanceof Ii&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce(((i,o,u)=>i&&sN(o,s.filters[u])),!0):!1})(t,e):void _t()}function iN(t){return t instanceof sn?(function(r){return`${r.field.canonicalString()} ${r.op} ${lu(r.value)}`})(t):t instanceof Ii?(function(r){return r.op.toString()+" {"+r.getFilters().map(iN).join(" ,")+"}"})(t):"Filter"}class t8 extends sn{constructor(e,r,n){super(e,r,n),this.key=xt.fromName(n.referenceValue)}matches(e){const r=xt.comparator(e.key,this.key);return this.matchesComparison(r)}}class r8 extends sn{constructor(e,r){super(e,"in",r),this.keys=aN("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class n8 extends sn{constructor(e,r){super(e,"not-in",r),this.keys=aN("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function aN(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>xt.fromName(n.referenceValue)))}class s8 extends sn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return d1(r)&&Qd(r.arrayValue,this.value)}}class i8 extends sn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Qd(this.value.arrayValue,r)}}class a8 extends sn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Qd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Qd(this.value.arrayValue,r)}}class o8 extends sn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!d1(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Qd(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e,r=null,n=[],s=[],i=null,o=null,u=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=o,this.endAt=u,this.le=null}}function w_(t,e=null,r=[],n=[],s=null,i=null,o=null){return new l8(t,e,r,n,s,i,o)}function h1(t){const e=Pt(t);if(e.le===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>sy(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(i){return i.field.canonicalString()+i.dir})(n))).join(","),_0(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>lu(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>lu(n))).join(",")),e.le=r}return e.le}function f1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!ZD(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!sN(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!b_(t.startAt,e.startAt)&&b_(t.endAt,e.endAt)}function iy(t){return xt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,r=null,n=[],s=[],i=null,o="F",u=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function c8(t,e,r,n,s,i,o,u){return new Su(t,e,r,n,s,i,o,u)}function Yp(t){return new Su(t)}function __(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function oN(t){return t.collectionGroup!==null}function Id(t){const e=Pt(t);if(e.he===null){e.he=[];const r=new Set;for(const i of e.explicitOrderBy)e.he.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new hn(Pn.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(u=u.add(h.field))}))})),u})(e).forEach((i=>{r.has(i.canonicalString())||i.isKeyField()||e.he.push(new Jd(i,n))})),r.has(Pn.keyField().canonicalString())||e.he.push(new Jd(Pn.keyField(),n))}return e.he}function Xi(t){const e=Pt(t);return e.Pe||(e.Pe=u8(e,Id(t))),e.Pe}function u8(t,e){if(t.limitType==="F")return w_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new Jd(s.field,i)}));const r=t.endAt?new Yf(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Yf(t.startAt.position,t.startAt.inclusive):null;return w_(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function ay(t,e){const r=t.filters.concat([e]);return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Qf(t,e,r){return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Qp(t,e){return f1(Xi(t),Xi(e))&&t.limitType===e.limitType}function lN(t){return`${h1(Xi(t))}|lt:${t.limitType}`}function Vc(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((s=>iN(s))).join(", ")}]`),_0(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((s=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(s))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((s=>lu(s))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((s=>lu(s))).join(",")),`Target(${n})`})(Xi(t))}; limitType=${t.limitType})`}function Jp(t,e){return e.isFoundDocument()&&(function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):xt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)})(t,e)&&(function(n,s){for(const i of Id(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(n,s){return!(n.startAt&&!(function(o,u,d){const h=v_(o,u,d);return o.inclusive?h<=0:h<0})(n.startAt,Id(n),s)||n.endAt&&!(function(o,u,d){const h=v_(o,u,d);return o.inclusive?h>=0:h>0})(n.endAt,Id(n),s))})(t,e)}function d8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cN(t){return(e,r)=>{let n=!1;for(const s of Id(t)){const i=h8(s,e,r);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function h8(t,e,r){const n=t.field.isKeyField()?xt.comparator(e.key,r.key):(function(i,o,u){const d=o.data.field(i),h=u.data.field(i);return d!==null&&h!==null?ou(d,h):_t()})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){qo(this.inner,((r,n)=>{for(const[s,i]of n)e(s,i)}))}isEmpty(){return q3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=new Vr(xt.comparator);function La(){return f8}const uN=new Vr(xt.comparator);function _d(...t){let e=uN;for(const r of t)e=e.insert(r.key,r);return e}function dN(t){let e=uN;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function bl(){return Pd()}function hN(){return Pd()}function Pd(){return new Ul((t=>t.toString()),((t,e)=>t.isEqual(e)))}const p8=new Vr(xt.comparator),m8=new hn(xt.comparator);function zt(...t){let e=m8;for(const r of t)e=e.add(r);return e}const g8=new hn(Vt);function x8(){return g8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gf(e)?"-0":e}}function fN(t){return{integerValue:""+t}}function pN(t,e){return WD(e)?fN(e):p1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this._=void 0}}function y8(t,e,r){return t instanceof Zd?(function(s,i){const o={fields:{[X3]:{stringValue:K3},[Q3]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&u1(i)&&(i=Xp(i)),i&&(o.fields[Y3]=i),{mapValue:o}})(r,e):t instanceof e0?gN(t,e):t instanceof t0?xN(t,e):(function(s,i){const o=mN(s,i),u=E_(o)+E_(s.Ie);return ny(o)&&ny(s.Ie)?fN(u):p1(s.serializer,u)})(t,e)}function v8(t,e,r){return t instanceof e0?gN(t,e):t instanceof t0?xN(t,e):r}function mN(t,e){return t instanceof r0?(function(n){return ny(n)||(function(i){return!!i&&"doubleValue"in i})(n)})(e)?e:{integerValue:0}:null}class Zd extends Zp{}class e0 extends Zp{constructor(e){super(),this.elements=e}}function gN(t,e){const r=yN(e);for(const n of t.elements)r.some((s=>ra(s,n)))||r.push(n);return{arrayValue:{values:r}}}class t0 extends Zp{constructor(e){super(),this.elements=e}}function xN(t,e){let r=yN(e);for(const n of t.elements)r=r.filter((s=>!ra(s,n)));return{arrayValue:{values:r}}}class r0 extends Zp{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function E_(t){return Yr(t.integerValue||t.doubleValue)}function yN(t){return d1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,r){this.field=e,this.transform=r}}function b8(t,e){return t.field.isEqual(e.field)&&(function(n,s){return n instanceof e0&&s instanceof e0||n instanceof t0&&s instanceof t0?au(n.elements,s.elements,ra):n instanceof r0&&s instanceof r0?ra(n.Ie,s.Ie):n instanceof Zd&&s instanceof Zd})(t.transform,e.transform)}class w8{constructor(e,r){this.version=e,this.transformResults=r}}class Rn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class em{}function bN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tm(t.key,Rn.none()):new E0(t.key,t.data,Rn.none());{const r=t.data,n=ss.empty();let s=new hn(Pn.comparator);for(let i of e.fields)if(!s.has(i)){let o=r.field(i);o===null&&i.length>1&&(i=i.popLast(),o=r.field(i)),o===null?n.delete(i):n.set(i,o),s=s.add(i)}return new Go(t.key,n,new Ls(s.toArray()),Rn.none())}}function _8(t,e,r){t instanceof E0?(function(s,i,o){const u=s.value.clone(),d=N_(s.fieldTransforms,i,o.transformResults);u.setAll(d),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,r):t instanceof Go?(function(s,i,o){if(!Pf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const u=N_(s.fieldTransforms,i,o.transformResults),d=i.data;d.setAll(wN(s)),d.setAll(u),i.convertToFoundDocument(o.version,d).setHasCommittedMutations()})(t,e,r):(function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function Rd(t,e,r,n){return t instanceof E0?(function(i,o,u,d){if(!Pf(i.precondition,o))return u;const h=i.value.clone(),p=k_(i.fieldTransforms,d,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,r,n):t instanceof Go?(function(i,o,u,d){if(!Pf(i.precondition,o))return u;const h=k_(i.fieldTransforms,d,o),p=o.data;return p.setAll(wN(i)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((x=>x.field)))})(t,e,r,n):(function(i,o,u){return Pf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u})(t,e,r)}function E8(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),i=mN(n.transform,s||null);i!=null&&(r===null&&(r=ss.empty()),r.set(n.field,i))}return r||null}function T_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&au(n,s,((i,o)=>b8(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class E0 extends em{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Go extends em{constructor(e,r,n,s,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function wN(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function N_(t,e,r){const n=new Map;Yt(t.length===r.length);for(let s=0;s<r.length;s++){const i=t[s],o=i.transform,u=e.data.field(i.field);n.set(i.field,v8(o,u,r[s]))}return n}function k_(t,e,r){const n=new Map;for(const s of t){const i=s.transform,o=r.data.field(s.field);n.set(s.field,y8(i,o,e))}return n}class tm extends em{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _N extends em{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T8{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&_8(i,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Rd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Rd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=hN();return this.mutations.forEach((s=>{const i=e.get(s.key),o=i.overlayedDocument;let u=this.applyToLocalView(o,i.mutatedFields);u=r.has(s.key)?null:u;const d=bN(o,u);d!==null&&n.set(s.key,d),o.isValidDocument()||o.convertToNoDocument(Tt.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),zt())}isEqual(e){return this.batchId===e.batchId&&au(this.mutations,e.mutations,((r,n)=>T_(r,n)))&&au(this.baseMutations,e.baseMutations,((r,n)=>T_(r,n)))}}class m1{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){Yt(e.mutations.length===n.length);let s=(function(){return p8})();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,n[o].version);return new m1(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,Xt;function EN(t){switch(t){case Pe.OK:return _t();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0;default:return _t()}}function TN(t){if(t===void 0)return Fa("GRPC error has no .code"),Pe.UNKNOWN;switch(t){case nn.OK:return Pe.OK;case nn.CANCELLED:return Pe.CANCELLED;case nn.UNKNOWN:return Pe.UNKNOWN;case nn.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case nn.INTERNAL:return Pe.INTERNAL;case nn.UNAVAILABLE:return Pe.UNAVAILABLE;case nn.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case nn.NOT_FOUND:return Pe.NOT_FOUND;case nn.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case nn.ABORTED:return Pe.ABORTED;case nn.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case nn.DATA_LOSS:return Pe.DATA_LOSS;default:return _t()}}(Xt=nn||(nn={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8=new Ao([4294967295,4294967295],0);function S_(t){const e=z3().encode(t),r=new F3;return r.update(e),new Uint8Array(r.digest())}function A_(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ao([r,n],0),new Ao([s,i],0)]}class g1{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Ed(`Invalid padding: ${r}`);if(n<0)throw new Ed(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Ed(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Ed(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*e.length-r,this.de=Ao.fromNumber(this.Ee)}Ae(e,r,n){let s=e.add(r.multiply(Ao.fromNumber(n)));return s.compare(S8)===1&&(s=new Ao([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const r=S_(e),[n,s]=A_(r);for(let i=0;i<this.hashCount;i++){const o=this.Ae(n,s,i);if(!this.Re(o))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new g1(i,s,r);return n.forEach((u=>o.insert(u))),o}insert(e){if(this.Ee===0)return;const r=S_(e),[n,s]=A_(r);for(let i=0;i<this.hashCount;i++){const o=this.Ae(n,s,i);this.Ve(o)}}Ve(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Ed extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,r,n,s,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,T0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new rm(Tt.min(),s,new Vr(Vt),La(),zt())}}class T0{constructor(e,r,n,s,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new T0(n,r,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,r,n,s){this.me=e,this.removedTargetIds=r,this.key=n,this.fe=s}}class NN{constructor(e,r){this.targetId=e,this.ge=r}}class kN{constructor(e,r,n=Ln.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class C_{constructor(){this.pe=0,this.ye=I_(),this.we=Ln.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=zt(),r=zt(),n=zt();return this.ye.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:_t()}})),new T0(this.we,this.Se,e,r,n)}Me(){this.be=!1,this.ye=I_()}xe(e,r){this.be=!0,this.ye=this.ye.insert(e,r)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Yt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class A8{constructor(e){this.ke=e,this.qe=new Map,this.Qe=La(),this.$e=cf(),this.Ue=cf(),this.Ke=new Vr(Vt)}We(e){for(const r of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(r,e.fe):this.ze(r,e.key,e.fe);for(const r of e.removedTargetIds)this.ze(r,e.key,e.fe)}je(e){this.forEachTarget(e,(r=>{const n=this.He(r);switch(e.state){case 0:this.Je(r)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(r);break;case 3:this.Je(r)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),n.Ce(e.resumeToken));break;default:_t()}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.qe.forEach(((n,s)=>{this.Je(s)&&r(s)}))}Ze(e){const r=e.targetId,n=e.ge.count,s=this.Xe(r);if(s){const i=s.target;if(iy(i))if(n===0){const o=new xt(i.path);this.ze(r,o,yn.newNoDocument(o,Tt.min()))}else Yt(n===1);else{const o=this.et(r);if(o!==n){const u=this.tt(e),d=u?this.nt(u,e,o):1;if(d!==0){this.Ye(r);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,h)}}}}}tt(e){const r=e.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=r;let o,u;try{o=Do(n).toUint8Array()}catch(d){if(d instanceof G3)return iu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new g1(o,s,i)}catch(d){return iu(d instanceof Ed?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ee===0?null:u}nt(e,r,n){return r.ge.count===n-this.st(e,r.targetId)?0:2}st(e,r){const n=this.ke.getRemoteKeysForTarget(r);let s=0;return n.forEach((i=>{const o=this.ke.it(),u=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.ze(r,i,null),s++)})),s}ot(e){const r=new Map;this.qe.forEach(((i,o)=>{const u=this.Xe(o);if(u){if(i.current&&iy(u.target)){const d=new xt(u.target.path);this._t(d).has(o)||this.ut(o,d)||this.ze(o,d,yn.newNoDocument(d,e))}i.ve&&(r.set(o,i.Fe()),i.Me())}}));let n=zt();this.Ue.forEach(((i,o)=>{let u=!0;o.forEachWhile((d=>{const h=this.Xe(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(n=n.add(i))})),this.Qe.forEach(((i,o)=>o.setReadTime(e)));const s=new rm(e,r,this.Ke,this.Qe,n);return this.Qe=La(),this.$e=cf(),this.Ue=cf(),this.Ke=new Vr(Vt),s}Ge(e,r){if(!this.Je(e))return;const n=this.ut(e,r.key)?2:0;this.He(e).xe(r.key,n),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(e)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(e))}ze(e,r,n){if(!this.Je(e))return;const s=this.He(e);this.ut(e,r)?s.xe(r,1):s.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(e)),this.Ue=this.Ue.insert(r,this.ct(r).add(e)),n&&(this.Qe=this.Qe.insert(r,n))}removeTarget(e){this.qe.delete(e)}et(e){const r=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let r=this.qe.get(e);return r||(r=new C_,this.qe.set(e,r)),r}ct(e){let r=this.Ue.get(e);return r||(r=new hn(Vt),this.Ue=this.Ue.insert(e,r)),r}_t(e){let r=this.$e.get(e);return r||(r=new hn(Vt),this.$e=this.$e.insert(e,r)),r}Je(e){const r=this.Xe(e)!==null;return r||lt("WatchChangeAggregator","Detected inactive target",e),r}Xe(e){const r=this.qe.get(e);return r&&r.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new C_),this.ke.getRemoteKeysForTarget(e).forEach((r=>{this.ze(e,r,null)}))}ut(e,r){return this.ke.getRemoteKeysForTarget(e).has(r)}}function cf(){return new Vr(xt.comparator)}function I_(){return new Vr(xt.comparator)}const C8={asc:"ASCENDING",desc:"DESCENDING"},I8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P8={and:"AND",or:"OR"};class R8{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function oy(t,e){return t.useProto3Json||_0(e)?e:{value:e}}function Jf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function j8(t,e){return Jf(t,e.toTimestamp())}function Vs(t){return Yt(!!t),Tt.fromTimestamp((function(r){const n=jo(r);return new yr(n.seconds,n.nanos)})(t))}function x1(t,e){return ly(t,e).canonicalString()}function ly(t,e){const r=(function(s){return new xr(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?r:r.child(e)}function AN(t){const e=xr.fromString(t);return Yt(DN(e)),e}function Zf(t,e){return x1(t.databaseId,e.path)}function jd(t,e){const r=AN(e);if(r.get(1)!==t.databaseId.projectId)throw new st(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new st(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new xt(IN(r))}function CN(t,e){return x1(t.databaseId,e)}function D8(t){const e=AN(t);return e.length===4?xr.emptyPath():IN(e)}function cy(t){return new xr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IN(t){return Yt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function P_(t,e,r){return{name:Zf(t,e),fields:r.value.mapValue.fields}}function O8(t,e){return"found"in e?(function(n,s){Yt(!!s.found),s.found.name,s.found.updateTime;const i=jd(n,s.found.name),o=Vs(s.found.updateTime),u=s.found.createTime?Vs(s.found.createTime):Tt.min(),d=new ss({mapValue:{fields:s.found.fields}});return yn.newFoundDocument(i,o,u,d)})(t,e):"missing"in e?(function(n,s){Yt(!!s.missing),Yt(!!s.readTime);const i=jd(n,s.missing),o=Vs(s.readTime);return yn.newNoDocument(i,o)})(t,e):_t()}function F8(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:_t()})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(h,p){return h.useProto3Json?(Yt(p===void 0||typeof p=="string"),Ln.fromBase64String(p||"")):(Yt(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Ln.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&(function(h){const p=h.code===void 0?Pe.UNKNOWN:TN(h.code);return new st(p,h.message||"")})(o);r=new kN(n,s,i,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=jd(t,n.document.name),i=Vs(n.document.updateTime),o=n.document.createTime?Vs(n.document.createTime):Tt.min(),u=new ss({mapValue:{fields:n.document.fields}}),d=yn.newFoundDocument(s,i,o,u),h=n.targetIds||[],p=n.removedTargetIds||[];r=new Rf(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=jd(t,n.document),i=n.readTime?Vs(n.readTime):Tt.min(),o=yn.newNoDocument(s,i),u=n.removedTargetIds||[];r=new Rf([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=jd(t,n.document),i=n.removedTargetIds||[];r=new Rf([],i,s,null)}else{if(!("filter"in e))return _t();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,o=new k8(s,i),u=n.targetId;r=new NN(u,o)}}return r}function PN(t,e){let r;if(e instanceof E0)r={update:P_(t,e.key,e.value)};else if(e instanceof tm)r={delete:Zf(t,e.key)};else if(e instanceof Go)r={update:P_(t,e.key,e.data),updateMask:W8(e.fieldMask)};else{if(!(e instanceof _N))return _t();r={verify:Zf(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(i,o){const u=o.transform;if(u instanceof Zd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof e0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof t0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof r0)return{fieldPath:o.field.canonicalString(),increment:u.Ie};throw _t()})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:j8(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:_t()})(t,e.precondition)),r}function L8(t,e){return t&&t.length>0?(Yt(e!==void 0),t.map((r=>(function(s,i){let o=s.updateTime?Vs(s.updateTime):Vs(i);return o.isEqual(Tt.min())&&(o=Vs(i)),new w8(o,s.transformResults||[])})(r,e)))):[]}function M8(t,e){return{documents:[CN(t,e.path)]}}function V8(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=CN(t,s);const i=(function(h){if(h.length!==0)return jN(Ii.create(h,"and"))})(e.filters);i&&(r.structuredQuery.where=i);const o=(function(h){if(h.length!==0)return h.map((p=>(function(y){return{field:$c(y.field),direction:U8(y.dir)}})(p)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const u=oy(t,e.limit);return u!==null&&(r.structuredQuery.limit=u),e.startAt&&(r.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ht:r,parent:s}}function $8(t){let e=D8(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){Yt(n===1);const p=r.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];r.where&&(i=(function(x){const y=RN(x);return y instanceof Ii&&nN(y)?y.getFilters():[y]})(r.where));let o=[];r.orderBy&&(o=(function(x){return x.map((y=>(function(T){return new Jd(Bc(T.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(y)))})(r.orderBy));let u=null;r.limit&&(u=(function(x){let y;return y=typeof x=="object"?x.value:x,_0(y)?null:y})(r.limit));let d=null;r.startAt&&(d=(function(x){const y=!!x.before,v=x.values||[];return new Yf(v,y)})(r.startAt));let h=null;return r.endAt&&(h=(function(x){const y=!x.before,v=x.values||[];return new Yf(v,y)})(r.endAt)),c8(e,s,o,i,u,"F",d,h)}function B8(t,e){const r=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function RN(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Bc(r.unaryFilter.field);return sn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Bc(r.unaryFilter.field);return sn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Bc(r.unaryFilter.field);return sn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bc(r.unaryFilter.field);return sn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return _t()}})(t):t.fieldFilter!==void 0?(function(r){return sn.create(Bc(r.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Ii.create(r.compositeFilter.filters.map((n=>RN(n))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return _t()}})(r.compositeFilter.op))})(t):_t()}function U8(t){return C8[t]}function z8(t){return I8[t]}function H8(t){return P8[t]}function $c(t){return{fieldPath:t.canonicalString()}}function Bc(t){return Pn.fromServerFormat(t.fieldPath)}function jN(t){return t instanceof sn?(function(r){if(r.op==="=="){if(y_(r.value))return{unaryFilter:{field:$c(r.field),op:"IS_NAN"}};if(x_(r.value))return{unaryFilter:{field:$c(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(y_(r.value))return{unaryFilter:{field:$c(r.field),op:"IS_NOT_NAN"}};if(x_(r.value))return{unaryFilter:{field:$c(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$c(r.field),op:z8(r.op),value:r.value}}})(t):t instanceof Ii?(function(r){const n=r.getFilters().map((s=>jN(s)));return n.length===1?n[0]:{compositeFilter:{op:H8(r.op),filters:n}}})(t):_t()}function W8(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function DN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,r,n,s,i=Tt.min(),o=Tt.min(),u=Ln.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Eo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Eo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e){this.Tt=e}}function G8(t){const e=$8({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(){this.Tn=new X8}addToCollectionParentIndex(e,r){return this.Tn.add(r),je.resolve()}getCollectionParents(e,r){return je.resolve(this.Tn.getEntries(r))}addFieldIndex(e,r){return je.resolve()}deleteFieldIndex(e,r){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,r){return je.resolve()}getDocumentsMatchingTarget(e,r){return je.resolve(null)}getIndexType(e,r){return je.resolve(0)}getFieldIndexes(e,r){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,r){return je.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,r){return je.resolve(Ro.min())}updateCollectionGroup(e,r,n){return je.resolve()}updateIndexEntries(e,r){return je.resolve()}}class X8{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new hn(xr.comparator),i=!s.has(n);return this.index[r]=s.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new hn(xr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ON=41943040;class xs{static withCacheSize(e){return new xs(e,xs.DEFAULT_COLLECTION_PERCENTILE,xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs.DEFAULT_COLLECTION_PERCENTILE=10,xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xs.DEFAULT=new xs(ON,xs.DEFAULT_COLLECTION_PERCENTILE,xs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xs.DISABLED=new xs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new cu(0)}static Kn(){return new cu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="LruGarbageCollector",Y8=1048576;function D_([t,e],[r,n]){const s=Vt(t,r);return s===0?Vt(e,n):s}class Q8{constructor(e){this.Hn=e,this.buffer=new hn(D_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const r=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();D_(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class J8{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){lt(j_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ku(r)?lt(j_,"Ignoring IndexedDB error during garbage collection: ",r):await Nu(r)}await this.er(3e5)}))}}class Z8{constructor(e,r){this.tr=e,this.params=r}calculateTargetCount(e,r){return this.tr.nr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return je.resolve(Kp.ae);const n=new Q8(r);return this.tr.forEachTarget(e,(s=>n.Zn(s.sequenceNumber))).next((()=>this.tr.rr(e,(s=>n.Zn(s))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.tr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.tr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(R_)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R_):this.ir(e,r)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,r){let n,s,i,o,u,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),s=this.params.maximumSequenceNumbersToCollect):s=x,o=Date.now(),this.nthSequenceNumber(e,s)))).next((x=>(n=x,u=Date.now(),this.removeTargets(e,n,r)))).next((x=>(i=x,d=Date.now(),this.removeOrphanedDocuments(e,n)))).next((x=>(h=Date.now(),Mc()<=Ut.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${s} in `+(u-o)+`ms
	Removed ${i} targets in `+(d-u)+`ms
	Removed ${x} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:x}))))}}function e9(t,e){return new Z8(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(){this.changes=new Ul((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?je.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((s=>(n=s,this.remoteDocumentCache.getEntry(e,r)))).next((s=>(n!==null&&Rd(n.mutation,s,Ls.empty(),yr.now()),s)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,zt()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=zt()){const s=bl();return this.populateOverlays(e,s,r).next((()=>this.computeViews(e,r,s,n).next((i=>{let o=_d();return i.forEach(((u,d)=>{o=o.insert(u,d.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=bl();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,zt())))}populateOverlays(e,r,n){const s=[];return n.forEach((i=>{r.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((o,u)=>{r.set(o,u)}))}))}computeViews(e,r,n,s){let i=La();const o=Pd(),u=(function(){return Pd()})();return r.forEach(((d,h)=>{const p=n.get(h.key);s.has(h.key)&&(p===void 0||p.mutation instanceof Go)?i=i.insert(h.key,h):p!==void 0?(o.set(h.key,p.mutation.getFieldMask()),Rd(p.mutation,h,p.mutation.getFieldMask(),yr.now())):o.set(h.key,Ls.empty())})),this.recalculateAndSaveOverlays(e,i).next((d=>(d.forEach(((h,p)=>o.set(h,p))),r.forEach(((h,p)=>{var x;return u.set(h,new r9(p,(x=o.get(h))!==null&&x!==void 0?x:null))})),u)))}recalculateAndSaveOverlays(e,r){const n=Pd();let s=new Vr(((o,u)=>o-u)),i=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const u of o)u.keys().forEach((d=>{const h=r.get(d);if(h===null)return;let p=n.get(d)||Ls.empty();p=u.applyToLocalView(h,p),n.set(d,p);const x=(s.get(u.batchId)||zt()).add(d);s=s.insert(u.batchId,x)}))})).next((()=>{const o=[],u=s.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,p=d.value,x=hN();p.forEach((y=>{if(!i.has(y)){const v=bN(r.get(y),n.get(y));v!==null&&x.set(y,v),i=i.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,x))}return je.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,s){return(function(o){return xt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):oN(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next((i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-i.size):je.resolve(bl());let u=Kd,d=i;return o.next((h=>je.forEach(h,((p,x)=>(u<x.largestBatchId&&(u=x.largestBatchId),i.get(p)?je.resolve():this.remoteDocumentCache.getEntry(e,p).next((y=>{d=d.insert(p,y)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,d,h,zt()))).next((p=>({batchId:u,changes:dN(p)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new xt(r)).next((n=>{let s=_d();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const i=r.collectionGroup;let o=_d();return this.indexManager.getCollectionParents(e,i).next((u=>je.forEach(u,(d=>{const h=(function(x,y){return new Su(y,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(r,d.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,n,s).next((p=>{p.forEach(((x,y)=>{o=o.insert(x,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,s)))).next((o=>{i.forEach(((d,h)=>{const p=h.getKey();o.get(p)===null&&(o=o.insert(p,yn.newInvalidDocument(p)))}));let u=_d();return o.forEach(((d,h)=>{const p=i.get(d);p!==void 0&&Rd(p.mutation,h,Ls.empty(),yr.now()),Jp(r,h)&&(u=u.insert(d,h))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,r){return je.resolve(this.dr.get(r))}saveBundleMetadata(e,r){return this.dr.set(r.id,(function(s){return{id:s.id,version:s.version,createTime:Vs(s.createTime)}})(r)),je.resolve()}getNamedQuery(e,r){return je.resolve(this.Ar.get(r))}saveNamedQuery(e,r){return this.Ar.set(r.name,(function(s){return{name:s.name,query:G8(s.bundledQuery),readTime:Vs(s.readTime)}})(r)),je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(){this.overlays=new Vr(xt.comparator),this.Rr=new Map}getOverlay(e,r){return je.resolve(this.overlays.get(r))}getOverlays(e,r){const n=bl();return je.forEach(r,(s=>this.getOverlay(e,s).next((i=>{i!==null&&n.set(s,i)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((s,i)=>{this.Et(e,r,i)})),je.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Rr.get(n);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.Rr.delete(n)),je.resolve()}getOverlaysForCollection(e,r,n){const s=bl(),i=r.length+1,o=new xt(r.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===i&&d.largestBatchId>n&&s.set(d.getKey(),d)}return je.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let i=new Vr(((h,p)=>h-p));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let p=i.get(h.largestBatchId);p===null&&(p=bl(),i=i.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const u=bl(),d=i.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,p)=>u.set(h,p))),!(u.size()>=s)););return je.resolve(u)}Et(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(n.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new N8(r,n));let i=this.Rr.get(r);i===void 0&&(i=zt(),this.Rr.set(r,i)),this.Rr.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(){this.sessionToken=Ln.EMPTY_BYTE_STRING}getSessionToken(e){return je.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.Vr=new hn(xn.mr),this.gr=new hn(xn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,r){const n=new xn(e,r);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.wr(new xn(e,r))}Sr(e,r){e.forEach((n=>this.removeReference(n,r)))}br(e){const r=new xt(new xr([])),n=new xn(r,e),s=new xn(r,e+1),i=[];return this.gr.forEachInRange([n,s],(o=>{this.wr(o),i.push(o.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const r=new xt(new xr([])),n=new xn(r,e),s=new xn(r,e+1);let i=zt();return this.gr.forEachInRange([n,s],(o=>{i=i.add(o.key)})),i}containsKey(e){const r=new xn(e,0),n=this.Vr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class xn{constructor(e,r){this.key=e,this.Cr=r}static mr(e,r){return xt.comparator(e.key,r.key)||Vt(e.Cr,r.Cr)}static pr(e,r){return Vt(e.Cr,r.Cr)||xt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new hn(xn.mr)}checkEmpty(e){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new T8(i,r,n,s);this.mutationQueue.push(o);for(const u of s)this.Mr=this.Mr.add(new xn(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return je.resolve(o)}lookupMutationBatch(e,r){return je.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.Nr(n),i=s<0?0:s;return je.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?c1:this.Fr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new xn(r,0),s=new xn(r,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,s],(o=>{const u=this.Or(o.Cr);i.push(u)})),je.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new hn(Vt);return r.forEach((s=>{const i=new xn(s,0),o=new xn(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],(u=>{n=n.add(u.Cr)}))})),je.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let i=n;xt.isDocumentKey(i)||(i=i.child(""));const o=new xn(new xt(i),0);let u=new hn(Vt);return this.Mr.forEachWhile((d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===s&&(u=u.add(d.Cr)),!0)}),o),je.resolve(this.Br(u))}Br(e){const r=[];return e.forEach((n=>{const s=this.Or(n);s!==null&&r.push(s)})),r}removeMutationBatch(e,r){Yt(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return je.forEach(r.mutations,(s=>{const i=new xn(s.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,r){const n=new xn(r,0),s=this.Mr.firstAfterOrEqual(n);return je.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,je.resolve()}Lr(e,r){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const r=this.Nr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e){this.kr=e,this.docs=(function(){return new Vr(xt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),i=s?s.size:0,o=this.kr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return je.resolve(n?n.document.mutableCopy():yn.newInvalidDocument(r))}getEntries(e,r){let n=La();return r.forEach((s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():yn.newInvalidDocument(s))})),je.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let i=La();const o=r.path,u=new xt(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||BD($D(p),n)<=0||(s.has(p.key)||Jp(r,p))&&(i=i.insert(p.key,p.mutableCopy()))}return je.resolve(i)}getAllFromCollectionGroup(e,r,n,s){_t()}qr(e,r){return je.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new c9(this)}getSize(e){return je.resolve(this.size)}}class c9 extends t9{constructor(e){super(),this.Ir=e}applyChanges(e){const r=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?r.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(n)})),je.waitFor(r)}getFromCache(e,r){return this.Ir.getEntry(e,r)}getAllFromCache(e,r){return this.Ir.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.persistence=e,this.Qr=new Ul((r=>h1(r)),f1),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new y1,this.targetCount=0,this.Kr=cu.Un()}forEachTarget(e,r){return this.Qr.forEach(((n,s)=>r(s))),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.$r&&(this.$r=r),je.resolve()}zn(e){this.Qr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Kr=new cu(r),this.highestTargetId=r),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,r){return this.zn(r),this.targetCount+=1,je.resolve()}updateTargetData(e,r){return this.zn(r),je.resolve()}removeTargetData(e,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,r,n){let s=0;const i=[];return this.Qr.forEach(((o,u)=>{u.sequenceNumber<=r&&n.get(u.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),je.waitFor(i).next((()=>s))}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,r){const n=this.Qr.get(r)||null;return je.resolve(n)}addMatchingKeys(e,r,n){return this.Ur.yr(r,n),je.resolve()}removeMatchingKeys(e,r,n){this.Ur.Sr(r,n);const s=this.persistence.referenceDelegate,i=[];return s&&r.forEach((o=>{i.push(s.markPotentiallyOrphaned(e,o))})),je.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Ur.br(r),je.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Ur.vr(r);return je.resolve(n)}containsKey(e,r){return je.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,r){this.Wr={},this.overlays={},this.Gr=new Kp(0),this.zr=!1,this.zr=!0,this.jr=new a9,this.referenceDelegate=e(this),this.Hr=new u9(this),this.indexManager=new K8,this.remoteDocumentCache=(function(s){return new l9(s)})((n=>this.referenceDelegate.Jr(n))),this.serializer=new q8(r),this.Yr=new s9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new i9,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.Wr[e.toKey()];return n||(n=new o9(r,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,r,n){lt("MemoryPersistence","Starting transaction:",e);const s=new d9(this.Gr.next());return this.referenceDelegate.Zr(),n(s).next((i=>this.referenceDelegate.Xr(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}ei(e,r){return je.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,r))))}}class d9 extends zD{constructor(e){super(),this.currentSequenceNumber=e}}class v1{constructor(e){this.persistence=e,this.ti=new y1,this.ni=null}static ri(e){return new v1(e)}get ii(){if(this.ni)return this.ni;throw _t()}addReference(e,r,n){return this.ti.addReference(n,r),this.ii.delete(n.toString()),je.resolve()}removeReference(e,r,n){return this.ti.removeReference(n,r),this.ii.add(n.toString()),je.resolve()}markPotentiallyOrphaned(e,r){return this.ii.add(r.toString()),je.resolve()}removeTarget(e,r){this.ti.br(r.targetId).forEach((s=>this.ii.add(s.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((s=>{s.forEach((i=>this.ii.add(i.toString())))})).next((()=>n.removeTargetData(e,r)))}Zr(){this.ni=new Set}Xr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.ii,(n=>{const s=xt.fromPath(n);return this.si(e,s).next((i=>{i||r.removeEntry(s,Tt.min())}))})).next((()=>(this.ni=null,r.apply(e))))}updateLimboDocument(e,r){return this.si(e,r).next((n=>{n?this.ii.delete(r.toString()):this.ii.add(r.toString())}))}Jr(e){return 0}si(e,r){return je.or([()=>je.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.ei(e,r)])}}class ep{constructor(e,r){this.persistence=e,this.oi=new Ul((n=>qD(n.path)),((n,s)=>n.isEqual(s))),this.garbageCollector=e9(this,r)}static ri(e,r){return new ep(e,r)}Zr(){}Xr(e){return je.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}nr(e){const r=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((s=>n+s))))}sr(e){let r=0;return this.rr(e,(n=>{r++})).next((()=>r))}rr(e,r){return je.forEach(this.oi,((n,s)=>this.ar(e,n,s).next((i=>i?je.resolve():r(s)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,(o=>this.ar(e,o,r).next((u=>{u||(n++,i.removeEntry(o,Tt.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.oi.set(r,e.currentSequenceNumber),je.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),je.resolve()}removeReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),je.resolve()}updateLimboDocument(e,r){return this.oi.set(r,e.currentSequenceNumber),je.resolve()}Jr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Cf(e.data.value)),r}ar(e,r,n){return je.or([()=>this.persistence.ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const s=this.oi.get(r);return je.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.Hi=n,this.Ji=s}static Yi(e,r){let n=zt(),s=zt();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new b1(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=(function(){return zP()?8:HD(Yn())>0?6:4})()}initialize(e,r){this.ns=e,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(e,r,n,s){const i={result:null};return this.rs(e,r).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ss(e,r,s,n).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new h9;return this._s(e,r,o).next((u=>{if(i.result=u,this.Xi)return this.us(e,r,o,u.size)}))})).next((()=>i.result))}us(e,r,n,s){return n.documentReadCount<this.es?(Mc()<=Ut.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Vc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),je.resolve()):(Mc()<=Ut.DEBUG&&lt("QueryEngine","Query:",Vc(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.ts*s?(Mc()<=Ut.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Vc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xi(r))):je.resolve())}rs(e,r){if(__(r))return je.resolve(null);let n=Xi(r);return this.indexManager.getIndexType(e,n).next((s=>s===0?null:(r.limit!==null&&s===1&&(r=Qf(r,null,"F"),n=Xi(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((i=>{const o=zt(...i);return this.ns.getDocuments(e,o).next((u=>this.indexManager.getMinOffset(e,n).next((d=>{const h=this.cs(r,u);return this.ls(r,h,o,d.readTime)?this.rs(e,Qf(r,null,"F")):this.hs(e,h,r,d)}))))})))))}ss(e,r,n,s){return __(r)||s.isEqual(Tt.min())?je.resolve(null):this.ns.getDocuments(e,n).next((i=>{const o=this.cs(r,i);return this.ls(r,o,n,s)?je.resolve(null):(Mc()<=Ut.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vc(r)),this.hs(e,o,r,VD(s,Kd)).next((u=>u)))}))}cs(e,r){let n=new hn(cN(e));return r.forEach(((s,i)=>{Jp(e,i)&&(n=n.add(i))})),n}ls(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,r,n){return Mc()<=Ut.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Vc(r)),this.ns.getDocumentsMatchingQuery(e,r,Ro.min(),n)}hs(e,r,n,s){return this.ns.getDocumentsMatchingQuery(e,n,s).next((i=>(r.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="LocalStore",p9=3e8;class m9{constructor(e,r,n,s){this.persistence=e,this.Ps=r,this.serializer=s,this.Ts=new Vr(Vt),this.Is=new Ul((i=>h1(i)),f1),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n9(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ts)))}}function g9(t,e,r,n){return new m9(t,e,r,n)}async function LN(t,e){const r=Pt(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next((i=>(s=i,r.As(e),r.mutationQueue.getAllMutationBatches(n)))).next((i=>{const o=[],u=[];let d=zt();for(const h of s){o.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of i){u.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return r.localDocuments.getDocuments(n,d).next((h=>({Rs:h,removedBatchIds:o,addedBatchIds:u})))}))}))}function x9(t,e){const r=Pt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const s=e.batch.keys(),i=r.ds.newChangeBuffer({trackRemovals:!0});return(function(u,d,h,p){const x=h.batch,y=x.keys();let v=je.resolve();return y.forEach((T=>{v=v.next((()=>p.getEntry(d,T))).next((w=>{const _=h.docVersions.get(T);Yt(_!==null),w.version.compareTo(_)<0&&(x.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),p.addEntry(w)))}))})),v.next((()=>u.mutationQueue.removeMutationBatch(d,x)))})(r,n,e,i).next((()=>i.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(u){let d=zt();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d})(e)))).next((()=>r.localDocuments.getDocuments(n,s)))}))}function MN(t){const e=Pt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Hr.getLastRemoteSnapshotVersion(r)))}function y9(t,e){const r=Pt(t),n=e.snapshotVersion;let s=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=r.ds.newChangeBuffer({trackRemovals:!0});s=r.Ts;const u=[];e.targetChanges.forEach(((p,x)=>{const y=s.get(x);if(!y)return;u.push(r.Hr.removeMatchingKeys(i,p.removedDocuments,x).next((()=>r.Hr.addMatchingKeys(i,p.addedDocuments,x))));let v=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(x)!==null?v=v.withResumeToken(Ln.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,n)),s=s.insert(x,v),(function(w,_,C){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=p9?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(y,v,p)&&u.push(r.Hr.updateTargetData(i,v))}));let d=La(),h=zt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&u.push(r.persistence.referenceDelegate.updateLimboDocument(i,p))})),u.push(v9(i,o,e.documentUpdates).next((p=>{d=p.Vs,h=p.fs}))),!n.isEqual(Tt.min())){const p=r.Hr.getLastRemoteSnapshotVersion(i).next((x=>r.Hr.setTargetsMetadata(i,i.currentSequenceNumber,n)));u.push(p)}return je.waitFor(u).next((()=>o.apply(i))).next((()=>r.localDocuments.getLocalViewOfDocuments(i,d,h))).next((()=>d))})).then((i=>(r.Ts=s,i)))}function v9(t,e,r){let n=zt(),s=zt();return r.forEach((i=>n=n.add(i))),e.getEntries(t,n).next((i=>{let o=La();return r.forEach(((u,d)=>{const h=i.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(u)),d.isNoDocument()&&d.version.isEqual(Tt.min())?(e.removeEntry(u,d.readTime),o=o.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),o=o.insert(u,d)):lt(w1,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)})),{Vs:o,fs:s}}))}function b9(t,e){const r=Pt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=c1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function w9(t,e){const r=Pt(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let s;return r.Hr.getTargetData(n,e).next((i=>i?(s=i,je.resolve(s)):r.Hr.allocateTargetId(n).next((o=>(s=new Eo(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Hr.addTargetData(n,s).next((()=>s)))))))})).then((n=>{const s=r.Ts.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(n.targetId,n),r.Is.set(e,n.targetId)),n}))}async function uy(t,e,r){const n=Pt(t),s=n.Ts.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,(o=>n.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!ku(o))throw o;lt(w1,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ts=n.Ts.remove(e),n.Is.delete(s.target)}function O_(t,e,r){const n=Pt(t);let s=Tt.min(),i=zt();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(d,h,p){const x=Pt(d),y=x.Is.get(p);return y!==void 0?je.resolve(x.Ts.get(y)):x.Hr.getTargetData(h,p)})(n,o,Xi(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(o,u.targetId).next((d=>{i=d}))})).next((()=>n.Ps.getDocumentsMatchingQuery(o,e,r?s:Tt.min(),r?i:zt()))).next((u=>(_9(n,d8(e),u),{documents:u,gs:i})))))}function _9(t,e,r){let n=t.Es.get(e)||Tt.min();r.forEach(((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)})),t.Es.set(e,n)}class F_{constructor(){this.activeTargetIds=x8()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E9{constructor(){this.ho=new F_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,r,n){this.Po[e]=r}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new F_,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="ConnectivityMonitor";class M_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){lt(L_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){lt(L_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf=null;function dy(){return uf===null?uf=(function(){return 268435456+Math.round(2147483648*Math.random())})():uf++,"0x"+uf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="RestConnection",N9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k9{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+e.host,this.yo=`projects/${n}/databases/${s}`,this.wo=this.databaseId.database===Kf?`project_id=${n}`:`project_id=${n}&database_id=${s}`}So(e,r,n,s,i){const o=dy(),u=this.bo(e,r.toUriEncodedString());lt(gx,`Sending RPC '${e}' ${o}:`,u,n);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,s,i),this.vo(e,u,d,n).then((h=>(lt(gx,`Received RPC '${e}' ${o}: `,h),h)),(h=>{throw iu(gx,`RPC '${e}' ${o} failed with error: `,h,"url: ",u,"request:",n),h}))}Co(e,r,n,s,i,o){return this.So(e,r,n,s,i)}Do(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((s,i)=>e[i]=s)),n&&n.headers.forEach(((s,i)=>e[i]=s))}bo(e,r){const n=N9[e];return`${this.po}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="WebChannelConnection";class A9 extends k9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,r,n,s){const i=dy();return new Promise(((o,u)=>{const d=new L3;d.setWithCredentials(!0),d.listenOnce(M3.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Af.NO_ERROR:const p=d.getResponseJson();lt(zn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(p)),o(p);break;case Af.TIMEOUT:lt(zn,`RPC '${e}' ${i} timed out`),u(new st(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case Af.HTTP_ERROR:const x=d.getStatus();if(lt(zn,`RPC '${e}' ${i} failed with status:`,x,"response text:",d.getResponseText()),x>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const v=y?.error;if(v&&v.status&&v.message){const T=(function(_){const C=_.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(C)>=0?C:Pe.UNKNOWN})(v.status);u(new st(T,v.message))}else u(new st(Pe.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new st(Pe.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{lt(zn,`RPC '${e}' ${i} completed.`)}}));const h=JSON.stringify(s);lt(zn,`RPC '${e}' ${i} sending request:`,s),d.send(r,"POST",h,n,15)}))}Wo(e,r,n){const s=dy(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=B3(),u=$3(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const p=i.join("");lt(zn,`Creating RPC '${e}' stream ${s}: ${p}`,d);const x=o.createWebChannel(p,d);let y=!1,v=!1;const T=new S9({Fo:_=>{v?lt(zn,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(y||(lt(zn,`Opening RPC '${e}' stream ${s} transport.`),x.open(),y=!0),lt(zn,`RPC '${e}' stream ${s} sending:`,_),x.send(_))},Mo:()=>x.close()}),w=(_,C,j)=>{_.listen(C,(O=>{try{j(O)}catch(M){setTimeout((()=>{throw M}),0)}}))};return w(x,wd.EventType.OPEN,(()=>{v||(lt(zn,`RPC '${e}' stream ${s} transport opened.`),T.Qo())})),w(x,wd.EventType.CLOSE,(()=>{v||(v=!0,lt(zn,`RPC '${e}' stream ${s} transport closed`),T.Uo())})),w(x,wd.EventType.ERROR,(_=>{v||(v=!0,iu(zn,`RPC '${e}' stream ${s} transport errored:`,_),T.Uo(new st(Pe.UNAVAILABLE,"The operation could not be completed")))})),w(x,wd.EventType.MESSAGE,(_=>{var C;if(!v){const j=_.data[0];Yt(!!j);const O=j,M=O?.error||((C=O[0])===null||C===void 0?void 0:C.error);if(M){lt(zn,`RPC '${e}' stream ${s} received error:`,M);const Y=M.status;let ne=(function(I){const V=nn[I];if(V!==void 0)return TN(V)})(Y),A=M.message;ne===void 0&&(ne=Pe.INTERNAL,A="Unknown error status: "+Y+" with message "+M.message),v=!0,T.Uo(new st(ne,A)),x.close()}else lt(zn,`RPC '${e}' stream ${s} received:`,j),T.Ko(j)}})),w(u,V3.STAT_EVENT,(_=>{_.stat===ey.PROXY?lt(zn,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===ey.NOPROXY&&lt(zn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{T.$o()}),0),T}}function xx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t){return new R8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,r,n=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=r,this.Go=n,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const r=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),s=Math.max(0,r-n);s>0&&lt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="PersistentStream";class VN{constructor(e,r,n,s,i,o,u,d){this.Ti=e,this.n_=n,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new _1(e,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():r&&r.code===Pe.RESOURCE_EXHAUSTED?(Fa(r.toString()),Fa("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===Pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,s])=>{this.i_===r&&this.V_(n,s)}),(n=>{e((()=>{const s=new st(Pe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(s)}))}))}V_(e,r){const n=this.R_(this.i_);this.stream=this.f_(e,r),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((s=>{n((()=>this.m_(s)))})),this.stream.onMessage((s=>{n((()=>++this.__==1?this.g_(s):this.onNext(s)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return lt(V_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return r=>{this.Ti.enqueueAndForget((()=>this.i_===e?r():(lt(V_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class C9 extends VN{constructor(e,r,n,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}f_(e,r){return this.connection.Wo("Listen",e,r)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const r=F8(this.serializer,e),n=(function(i){if(!("targetChange"in i))return Tt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Tt.min():o.readTime?Vs(o.readTime):Tt.min()})(e);return this.listener.p_(r,n)}y_(e){const r={};r.database=cy(this.serializer),r.addTarget=(function(i,o){let u;const d=o.target;if(u=iy(d)?{documents:M8(i,d)}:{query:V8(i,d).ht},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=SN(i,o.resumeToken);const h=oy(i,o.expectedCount);h!==null&&(u.expectedCount=h)}else if(o.snapshotVersion.compareTo(Tt.min())>0){u.readTime=Jf(i,o.snapshotVersion.toTimestamp());const h=oy(i,o.expectedCount);h!==null&&(u.expectedCount=h)}return u})(this.serializer,e);const n=B8(this.serializer,e);n&&(r.labels=n),this.I_(r)}w_(e){const r={};r.database=cy(this.serializer),r.removeTarget=e,this.I_(r)}}class I9 extends VN{constructor(e,r,n,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,r){return this.connection.Wo("Write",e,r)}g_(e){return Yt(!!e.streamToken),this.lastStreamToken=e.streamToken,Yt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const r=L8(e.writeResults,e.commitTime),n=Vs(e.commitTime);return this.listener.v_(n,r)}C_(){const e={};e.database=cy(this.serializer),this.I_(e)}b_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>PN(this.serializer,n)))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{}class R9 extends P9{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new st(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,n,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.So(e,ly(r,n),s,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new st(Pe.UNKNOWN,i.toString())}))}Co(e,r,n,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Co(e,ly(r,n),s,o,u,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new st(Pe.UNKNOWN,o.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class j9{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Fa(r),this.N_=!1):lt("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="RemoteStore";class D9{constructor(e,r,n,s,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((o=>{n.enqueueAndForget((async()=>{zl(this)&&(lt(Il,"Restarting streams for network reachability change."),await(async function(d){const h=Pt(d);h.W_.add(4),await N0(h),h.j_.set("Unknown"),h.W_.delete(4),await sm(h)})(this))}))})),this.j_=new j9(n,s)}}async function sm(t){if(zl(t))for(const e of t.G_)await e(!0)}async function N0(t){for(const e of t.G_)await e(!1)}function $N(t,e){const r=Pt(t);r.K_.has(e.targetId)||(r.K_.set(e.targetId,e),k1(r)?N1(r):Au(r).c_()&&T1(r,e))}function E1(t,e){const r=Pt(t),n=Au(r);r.K_.delete(e),n.c_()&&BN(r,e),r.K_.size===0&&(n.c_()?n.P_():zl(r)&&r.j_.set("Unknown"))}function T1(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Au(t).y_(e)}function BN(t,e){t.H_.Ne(e),Au(t).w_(e)}function N1(t){t.H_=new A8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Au(t).start(),t.j_.B_()}function k1(t){return zl(t)&&!Au(t).u_()&&t.K_.size>0}function zl(t){return Pt(t).W_.size===0}function UN(t){t.H_=void 0}async function O9(t){t.j_.set("Online")}async function F9(t){t.K_.forEach(((e,r)=>{T1(t,e)}))}async function L9(t,e){UN(t),k1(t)?(t.j_.q_(e),N1(t)):t.j_.set("Unknown")}async function M9(t,e,r){if(t.j_.set("Online"),e instanceof kN&&e.state===2&&e.cause)try{await(async function(s,i){const o=i.cause;for(const u of i.targetIds)s.K_.has(u)&&(await s.remoteSyncer.rejectListen(u,o),s.K_.delete(u),s.H_.removeTarget(u))})(t,e)}catch(n){lt(Il,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await tp(t,n)}else if(e instanceof Rf?t.H_.We(e):e instanceof NN?t.H_.Ze(e):t.H_.je(e),!r.isEqual(Tt.min()))try{const n=await MN(t.localStore);r.compareTo(n)>=0&&await(function(i,o){const u=i.H_.ot(o);return u.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=i.K_.get(h);p&&i.K_.set(h,p.withResumeToken(d.resumeToken,o))}})),u.targetMismatches.forEach(((d,h)=>{const p=i.K_.get(d);if(!p)return;i.K_.set(d,p.withResumeToken(Ln.EMPTY_BYTE_STRING,p.snapshotVersion)),BN(i,d);const x=new Eo(p.target,d,h,p.sequenceNumber);T1(i,x)})),i.remoteSyncer.applyRemoteEvent(u)})(t,r)}catch(n){lt(Il,"Failed to raise snapshot:",n),await tp(t,n)}}async function tp(t,e,r){if(!ku(e))throw e;t.W_.add(1),await N0(t),t.j_.set("Offline"),r||(r=()=>MN(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{lt(Il,"Retrying IndexedDB access"),await r(),t.W_.delete(1),await sm(t)}))}function zN(t,e){return e().catch((r=>tp(t,r,e)))}async function im(t){const e=Pt(t),r=Fo(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:c1;for(;V9(e);)try{const s=await b9(e.localStore,n);if(s===null){e.U_.length===0&&r.P_();break}n=s.batchId,$9(e,s)}catch(s){await tp(e,s)}HN(e)&&WN(e)}function V9(t){return zl(t)&&t.U_.length<10}function $9(t,e){t.U_.push(e);const r=Fo(t);r.c_()&&r.S_&&r.b_(e.mutations)}function HN(t){return zl(t)&&!Fo(t).u_()&&t.U_.length>0}function WN(t){Fo(t).start()}async function B9(t){Fo(t).C_()}async function U9(t){const e=Fo(t);for(const r of t.U_)e.b_(r.mutations)}async function z9(t,e,r){const n=t.U_.shift(),s=m1.from(n,e,r);await zN(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await im(t)}async function H9(t,e){e&&Fo(t).S_&&await(async function(n,s){if((function(o){return EN(o)&&o!==Pe.ABORTED})(s.code)){const i=n.U_.shift();Fo(n).h_(),await zN(n,(()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s))),await im(n)}})(t,e),HN(t)&&WN(t)}async function $_(t,e){const r=Pt(t);r.asyncQueue.verifyOperationInProgress(),lt(Il,"RemoteStore received new credentials");const n=zl(r);r.W_.add(3),await N0(r),n&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.W_.delete(3),await sm(r)}async function W9(t,e){const r=Pt(t);e?(r.W_.delete(2),await sm(r)):e||(r.W_.add(2),await N0(r),r.j_.set("Unknown"))}function Au(t){return t.J_||(t.J_=(function(r,n,s){const i=Pt(r);return i.M_(),new C9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{xo:O9.bind(null,t),No:F9.bind(null,t),Lo:L9.bind(null,t),p_:M9.bind(null,t)}),t.G_.push((async e=>{e?(t.J_.h_(),k1(t)?N1(t):t.j_.set("Unknown")):(await t.J_.stop(),UN(t))}))),t.J_}function Fo(t){return t.Y_||(t.Y_=(function(r,n,s){const i=Pt(r);return i.M_(),new I9(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:B9.bind(null,t),Lo:H9.bind(null,t),D_:U9.bind(null,t),v_:z9.bind(null,t)}),t.G_.push((async e=>{e?(t.Y_.h_(),await im(t)):(await t.Y_.stop(),t.U_.length>0&&(lt(Il,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))}))),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,r,n,s,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,i){const o=Date.now()+n,u=new S1(e,r,o,s,i);return u.start(n),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function A1(t,e){if(Fa("AsyncQueue",`${e}: ${t}`),ku(t))return new st(Pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{static emptySet(e){return new Qc(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||xt.comparator(r.key,n.key):(r,n)=>xt.comparator(r.key,n.key),this.keyedMap=_d(),this.sortedSet=new Vr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Qc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Qc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(){this.Z_=new Vr(xt.comparator)}track(e){const r=e.doc.key,n=this.Z_.get(r);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(r,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(r):e.type===1&&n.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):_t():this.Z_=this.Z_.insert(r,e)}X_(){const e=[];return this.Z_.inorderTraversal(((r,n)=>{e.push(n)})),e}}class uu{constructor(e,r,n,s,i,o,u,d,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,s,i){const o=[];return r.forEach((u=>{o.push({type:0,doc:u})})),new uu(e,r,Qc.emptySet(r),o,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class G9{constructor(){this.queries=U_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,n){const s=Pt(r),i=s.queries;s.queries=U_(),i.forEach(((o,u)=>{for(const d of u.ta)d.onError(n)}))})(this,new st(Pe.ABORTED,"Firestore shutting down"))}}function U_(){return new Ul((t=>lN(t)),Qp)}async function C1(t,e){const r=Pt(t);let n=3;const s=e.query;let i=r.queries.get(s);i?!i.na()&&e.ra()&&(n=2):(i=new q9,n=e.ra()?0:1);try{switch(n){case 0:i.ea=await r.onListen(s,!0);break;case 1:i.ea=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(o){const u=A1(o,`Initialization of query '${Vc(e.query)}' failed`);return void e.onError(u)}r.queries.set(s,i),i.ta.push(e),e.sa(r.onlineState),i.ea&&e.oa(i.ea)&&P1(r)}async function I1(t,e){const r=Pt(t),n=e.query;let s=3;const i=r.queries.get(n);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function K9(t,e){const r=Pt(t);let n=!1;for(const s of e){const i=s.query,o=r.queries.get(i);if(o){for(const u of o.ta)u.oa(s)&&(n=!0);o.ea=s}}n&&P1(r)}function X9(t,e,r){const n=Pt(t),s=n.queries.get(e);if(s)for(const i of s.ta)i.onError(r);n.queries.delete(e)}function P1(t){t.ia.forEach((e=>{e.next()}))}var hy,z_;(z_=hy||(hy={}))._a="default",z_.Cache="cache";class R1{constructor(e,r,n){this.query=e,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new uu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ua?this.la(e)&&(this.aa.next(e),r=!0):this.ha(e,this.onlineState)&&(this.Pa(e),r=!0),this.ca=e,r}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),r=!0),r}ha(e,r){if(!e.fromCache||!this.ra())return!0;const n=r!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}la(e){if(e.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(e){e=uu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==hy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.key=e}}class GN{constructor(e){this.key=e}}class Y9{constructor(e,r){this.query=e,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=zt(),this.mutatedKeys=zt(),this.ya=cN(e),this.wa=new Qc(this.ya)}get Sa(){return this.fa}ba(e,r){const n=r?r.Da:new B_,s=r?r.wa:this.wa;let i=r?r.mutatedKeys:this.mutatedKeys,o=s,u=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,x)=>{const y=s.get(p),v=Jp(this.query,x)?x:null,T=!!y&&this.mutatedKeys.has(y.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let _=!1;y&&v?y.data.isEqual(v.data)?T!==w&&(n.track({type:3,doc:v}),_=!0):this.va(y,v)||(n.track({type:2,doc:v}),_=!0,(d&&this.ya(v,d)>0||h&&this.ya(v,h)<0)&&(u=!0)):!y&&v?(n.track({type:0,doc:v}),_=!0):y&&!v&&(n.track({type:1,doc:y}),_=!0,(d||h)&&(u=!0)),_&&(v?(o=o.add(v),i=w?i.add(p):i.delete(p)):(o=o.delete(p),i=i.delete(p)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),i=i.delete(p.key),n.track({type:1,doc:p})}return{wa:o,Da:n,ls:u,mutatedKeys:i}}va(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort(((p,x)=>(function(v,T){const w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return w(v)-w(T)})(p.type,x.type)||this.ya(p.doc,x.doc))),this.Ca(n),s=s!=null&&s;const u=r&&!s?this.Fa():[],d=this.pa.size===0&&this.current&&!s?1:0,h=d!==this.ga;return this.ga=d,o.length!==0||h?{snapshot:new uu(this.query,e.wa,i,o,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new B_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((r=>this.fa=this.fa.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.fa=this.fa.delete(r))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=zt(),this.wa.forEach((n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))}));const r=[];return e.forEach((n=>{this.pa.has(n)||r.push(new GN(n))})),this.pa.forEach((n=>{e.has(n)||r.push(new qN(n))})),r}Oa(e){this.fa=e.gs,this.pa=zt();const r=this.ba(e.documents);return this.applyChanges(r,!0)}Na(){return uu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const j1="SyncEngine";class Q9{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class J9{constructor(e){this.key=e,this.Ba=!1}}class Z9{constructor(e,r,n,s,i,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Ul((u=>lN(u)),Qp),this.qa=new Map,this.Qa=new Set,this.$a=new Vr(xt.comparator),this.Ua=new Map,this.Ka=new y1,this.Wa={},this.Ga=new Map,this.za=cu.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function eO(t,e,r=!0){const n=ZN(t);let s;const i=n.ka.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await KN(n,e,r,!0),s}async function tO(t,e){const r=ZN(t);await KN(r,e,!0,!1)}async function KN(t,e,r,n){const s=await w9(t.localStore,Xi(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,r);let u;return n&&(u=await rO(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&r&&$N(t.remoteStore,s),u}async function rO(t,e,r,n,s){t.Ha=(x,y,v)=>(async function(w,_,C,j){let O=_.view.ba(C);O.ls&&(O=await O_(w.localStore,_.query,!1).then((({documents:A})=>_.view.ba(A,O))));const M=j&&j.targetChanges.get(_.targetId),Y=j&&j.targetMismatches.get(_.targetId)!=null,ne=_.view.applyChanges(O,w.isPrimaryClient,M,Y);return W_(w,_.targetId,ne.Ma),ne.snapshot})(t,x,y,v);const i=await O_(t.localStore,e,!0),o=new Y9(e,i.gs),u=o.ba(i.documents),d=T0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),h=o.applyChanges(u,t.isPrimaryClient,d);W_(t,r,h.Ma);const p=new Q9(e,r,o);return t.ka.set(e,p),t.qa.has(r)?t.qa.get(r).push(e):t.qa.set(r,[e]),h.snapshot}async function nO(t,e,r){const n=Pt(t),s=n.ka.get(e),i=n.qa.get(s.targetId);if(i.length>1)return n.qa.set(s.targetId,i.filter((o=>!Qp(o,e)))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await uy(n.localStore,s.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(s.targetId),r&&E1(n.remoteStore,s.targetId),fy(n,s.targetId)})).catch(Nu)):(fy(n,s.targetId),await uy(n.localStore,s.targetId,!0))}async function sO(t,e){const r=Pt(t),n=r.ka.get(e),s=r.qa.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),E1(r.remoteStore,n.targetId))}async function iO(t,e,r){const n=hO(t);try{const s=await(function(o,u){const d=Pt(o),h=yr.now(),p=u.reduce(((v,T)=>v.add(T.key)),zt());let x,y;return d.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let T=La(),w=zt();return d.ds.getEntries(v,p).next((_=>{T=_,T.forEach(((C,j)=>{j.isValidDocument()||(w=w.add(C))}))})).next((()=>d.localDocuments.getOverlayedDocuments(v,T))).next((_=>{x=_;const C=[];for(const j of u){const O=E8(j,x.get(j.key).overlayedDocument);O!=null&&C.push(new Go(j.key,O,eN(O.value.mapValue),Rn.exists(!0)))}return d.mutationQueue.addMutationBatch(v,h,C,u)})).next((_=>{y=_;const C=_.applyToLocalDocumentSet(x,w);return d.documentOverlayCache.saveOverlays(v,_.batchId,C)}))})).then((()=>({batchId:y.batchId,changes:dN(x)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),(function(o,u,d){let h=o.Wa[o.currentUser.toKey()];h||(h=new Vr(Vt)),h=h.insert(u,d),o.Wa[o.currentUser.toKey()]=h})(n,s.batchId,r),await k0(n,s.changes),await im(n.remoteStore)}catch(s){const i=A1(s,"Failed to persist write");r.reject(i)}}async function XN(t,e){const r=Pt(t);try{const n=await y9(r.localStore,e);e.targetChanges.forEach(((s,i)=>{const o=r.Ua.get(i);o&&(Yt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?Yt(o.Ba):s.removedDocuments.size>0&&(Yt(o.Ba),o.Ba=!1))})),await k0(r,n,e)}catch(n){await Nu(n)}}function H_(t,e,r){const n=Pt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.ka.forEach(((i,o)=>{const u=o.view.sa(e);u.snapshot&&s.push(u.snapshot)})),(function(o,u){const d=Pt(o);d.onlineState=u;let h=!1;d.queries.forEach(((p,x)=>{for(const y of x.ta)y.sa(u)&&(h=!0)})),h&&P1(d)})(n.eventManager,e),s.length&&n.La.p_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function aO(t,e,r){const n=Pt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Ua.get(e),i=s&&s.key;if(i){let o=new Vr(xt.comparator);o=o.insert(i,yn.newNoDocument(i,Tt.min()));const u=zt().add(i),d=new rm(Tt.min(),new Map,new Vr(Vt),o,u);await XN(n,d),n.$a=n.$a.remove(i),n.Ua.delete(e),D1(n)}else await uy(n.localStore,e,!1).then((()=>fy(n,e,r))).catch(Nu)}async function oO(t,e){const r=Pt(t),n=e.batch.batchId;try{const s=await x9(r.localStore,e);QN(r,n,null),YN(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await k0(r,s)}catch(s){await Nu(s)}}async function lO(t,e,r){const n=Pt(t);try{const s=await(function(o,u){const d=Pt(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return d.mutationQueue.lookupMutationBatch(h,u).next((x=>(Yt(x!==null),p=x.keys(),d.mutationQueue.removeMutationBatch(h,x)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>d.localDocuments.getDocuments(h,p)))}))})(n.localStore,e);QN(n,e,r),YN(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await k0(n,s)}catch(s){await Nu(s)}}function YN(t,e){(t.Ga.get(e)||[]).forEach((r=>{r.resolve()})),t.Ga.delete(e)}function QN(t,e,r){const n=Pt(t);let s=n.Wa[n.currentUser.toKey()];if(s){const i=s.get(e);i&&(r?i.reject(r):i.resolve(),s=s.remove(e)),n.Wa[n.currentUser.toKey()]=s}}function fy(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.qa.get(e))t.ka.delete(n),r&&t.La.Ja(n,r);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach((n=>{t.Ka.containsKey(n)||JN(t,n)}))}function JN(t,e){t.Qa.delete(e.path.canonicalString());const r=t.$a.get(e);r!==null&&(E1(t.remoteStore,r),t.$a=t.$a.remove(e),t.Ua.delete(r),D1(t))}function W_(t,e,r){for(const n of r)n instanceof qN?(t.Ka.addReference(n.key,e),cO(t,n)):n instanceof GN?(lt(j1,"Document no longer in limbo: "+n.key),t.Ka.removeReference(n.key,e),t.Ka.containsKey(n.key)||JN(t,n.key)):_t()}function cO(t,e){const r=e.key,n=r.path.canonicalString();t.$a.get(r)||t.Qa.has(n)||(lt(j1,"New document in limbo: "+r),t.Qa.add(n),D1(t))}function D1(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const r=new xt(xr.fromString(e)),n=t.za.next();t.Ua.set(n,new J9(r)),t.$a=t.$a.insert(r,n),$N(t.remoteStore,new Eo(Xi(Yp(r.path)),n,"TargetPurposeLimboResolution",Kp.ae))}}async function k0(t,e,r){const n=Pt(t),s=[],i=[],o=[];n.ka.isEmpty()||(n.ka.forEach(((u,d)=>{o.push(n.Ha(d,e,r).then((h=>{var p;if((h||r)&&n.isPrimaryClient){const x=h?!h.fromCache:(p=r?.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;n.sharedClientState.updateQueryState(d.targetId,x?"current":"not-current")}if(h){s.push(h);const x=b1.Yi(d.targetId,h);i.push(x)}})))})),await Promise.all(o),n.La.p_(s),await(async function(d,h){const p=Pt(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>je.forEach(h,(y=>je.forEach(y.Hi,(v=>p.persistence.referenceDelegate.addReference(x,y.targetId,v))).next((()=>je.forEach(y.Ji,(v=>p.persistence.referenceDelegate.removeReference(x,y.targetId,v)))))))))}catch(x){if(!ku(x))throw x;lt(w1,"Failed to update sequence numbers: "+x)}for(const x of h){const y=x.targetId;if(!x.fromCache){const v=p.Ts.get(y),T=v.snapshotVersion,w=v.withLastLimboFreeSnapshotVersion(T);p.Ts=p.Ts.insert(y,w)}}})(n.localStore,i))}async function uO(t,e){const r=Pt(t);if(!r.currentUser.isEqual(e)){lt(j1,"User change. New user:",e.toKey());const n=await LN(r.localStore,e);r.currentUser=e,(function(i,o){i.Ga.forEach((u=>{u.forEach((d=>{d.reject(new st(Pe.CANCELLED,o))}))})),i.Ga.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await k0(r,n.Rs)}}function dO(t,e){const r=Pt(t),n=r.Ua.get(e);if(n&&n.Ba)return zt().add(n.key);{let s=zt();const i=r.qa.get(e);if(!i)return s;for(const o of i){const u=r.ka.get(o);s=s.unionWith(u.view.Sa)}return s}}function ZN(t){const e=Pt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aO.bind(null,e),e.La.p_=K9.bind(null,e.eventManager),e.La.Ja=X9.bind(null,e.eventManager),e}function hO(t){const e=Pt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lO.bind(null,e),e}class rp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,r){return null}nu(e,r){return null}eu(e){return g9(this.persistence,new f9,e.initialUser,this.serializer)}Xa(e){return new FN(v1.ri,this.serializer)}Za(e){return new E9}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rp.provider={build:()=>new rp};class fO extends rp{constructor(e){super(),this.cacheSizeBytes=e}tu(e,r){Yt(this.persistence.referenceDelegate instanceof ep);const n=this.persistence.referenceDelegate.garbageCollector;return new J8(n,e.asyncQueue,r)}Xa(e){const r=this.cacheSizeBytes!==void 0?xs.withCacheSize(this.cacheSizeBytes):xs.DEFAULT;return new FN((n=>ep.ri(n,r)),this.serializer)}}class py{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>H_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=uO.bind(null,this.syncEngine),await W9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new G9})()}createDatastore(e){const r=nm(e.databaseInfo.databaseId),n=(function(i){return new A9(i)})(e.databaseInfo);return(function(i,o,u,d){return new R9(i,o,u,d)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,s,i,o,u){return new D9(n,s,i,o,u)})(this.localStore,this.datastore,e.asyncQueue,(r=>H_(this.syncEngine,r,0)),(function(){return M_.D()?new M_:new T9})())}createSyncEngine(e,r){return(function(s,i,o,u,d,h,p){const x=new Z9(s,i,o,u,d,h);return p&&(x.ja=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(s){const i=Pt(s);lt(Il,"RemoteStore shutting down."),i.W_.add(5),await N0(i),i.z_.shutdown(),i.j_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}py.provider={build:()=>new py};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Fa("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new st(Pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await(async function(s,i){const o=Pt(s),u={documents:i.map((x=>Zf(o.serializer,x)))},d=await o.Co("BatchGetDocuments",o.serializer.databaseId,xr.emptyPath(),u,i.length),h=new Map;d.forEach((x=>{const y=O8(o.serializer,x);h.set(y.key.toString(),y)}));const p=[];return i.forEach((x=>{const y=h.get(x.toString());Yt(!!y),p.push(y)})),p})(this.datastore,e);return r.forEach((n=>this.recordVersion(n))),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new tm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((r=>{e.delete(r.key.toString())})),e.forEach(((r,n)=>{const s=xt.fromPath(n);this.mutations.push(new _N(s,this.precondition(s)))})),await(async function(n,s){const i=Pt(n),o={writes:s.map((u=>PN(i.serializer,u)))};await i.So("Commit",i.serializer.databaseId,xr.emptyPath(),o)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw _t();r=Tt.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new st(Pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(Tt.min())?Rn.exists(!1):Rn.updateTime(r):Rn.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(Tt.min()))throw new st(Pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rn.updateTime(r)}return Rn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,r,n,s,i){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=s,this.deferred=i,this.Tu=n.maxAttempts,this.a_=new _1(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo((async()=>{const e=new pO(this.datastore),r=this.du(e);r&&r.then((n=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(n)})).catch((s=>{this.Au(s)}))))})).catch((n=>{this.Au(n)}))}))}du(e){try{const r=this.updateFunction(e);return!_0(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Eu(),Promise.resolve())))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!EN(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo="FirestoreClient";class gO{constructor(e,r,n,s,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=Wn.UNAUTHENTICATED,this.clientId=H3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async o=>{lt(Lo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(lt(Lo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=A1(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function yx(t,e){t.asyncQueue.verifyOperationInProgress(),lt(Lo,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async s=>{n.isEqual(s)||(await LN(e.localStore,s),n=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function q_(t,e){t.asyncQueue.verifyOperationInProgress();const r=await xO(t);lt(Lo,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>$_(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,s)=>$_(e.remoteStore,s))),t._onlineComponents=e}async function xO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){lt(Lo,"Using user provided OfflineComponentProvider");try{await yx(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Pe.FAILED_PRECONDITION||s.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(r))throw r;iu("Error using user provided cache. Falling back to memory cache: "+r),await yx(t,new rp)}}else lt(Lo,"Using default OfflineComponentProvider"),await yx(t,new fO(void 0));return t._offlineComponents}async function F1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(lt(Lo,"Using user provided OnlineComponentProvider"),await q_(t,t._uninitializedComponentsProvider._online)):(lt(Lo,"Using default OnlineComponentProvider"),await q_(t,new py))),t._onlineComponents}function yO(t){return F1(t).then((e=>e.syncEngine))}function vO(t){return F1(t).then((e=>e.datastore))}async function np(t){const e=await F1(t),r=e.eventManager;return r.onListen=eO.bind(null,e.syncEngine),r.onUnlisten=nO.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=tO.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=sO.bind(null,e.syncEngine),r}function bO(t,e,r={}){const n=new Ki;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,u,d,h){const p=new O1({next:y=>{p.su(),o.enqueueAndForget((()=>I1(i,x)));const v=y.docs.has(u);!v&&y.fromCache?h.reject(new st(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&d&&d.source==="server"?h.reject(new st(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),x=new R1(Yp(u.path),p,{includeMetadataChanges:!0,Ta:!0});return C1(i,x)})(await np(t),t.asyncQueue,e,r,n))),n.promise}function wO(t,e,r={}){const n=new Ki;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,u,d,h){const p=new O1({next:y=>{p.su(),o.enqueueAndForget((()=>I1(i,x))),y.fromCache&&d.source==="server"?h.reject(new st(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),x=new R1(u,p,{includeMetadataChanges:!0,Ta:!0});return C1(i,x)})(await np(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t,e,r){if(!r)throw new st(Pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _O(t,e,r,n){if(e===!0&&n===!0)throw new st(Pe.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function K_(t){if(!xt.isDocumentKey(t))throw new st(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function X_(t){if(xt.isDocumentKey(t))throw new st(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function am(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_t()}function os(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new st(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=am(t);throw new st(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function EO(t,e){if(e<=0)throw new st(Pe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="firestore.googleapis.com",Y_=!0;class Q_{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new st(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rk,this.ssl=Y_}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:Y_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ON;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Y8)throw new st(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_O("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ek((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new st(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new st(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new st(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,s){return n.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class om{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new ID;switch(n.type){case"firstParty":return new DD(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new st(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=G_.get(r);n&&(lt("ComponentProvider","Removing Datastore"),G_.delete(r),n.terminate())})(this),Promise.resolve()}}function TO(t,e,r,n={}){var s;const i=(t=os(t,om))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${r}`;i.host!==rk&&i.host!==u&&iu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},i),{host:u,ssl:!1,emulatorOptions:n});if(!Po(d,o)&&(t._setSettings(d),n.mockUserToken)){let h,p;if(typeof n.mockUserToken=="string")h=n.mockUserToken,p=Wn.MOCK_USER;else{h=s3(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const x=n.mockUserToken.sub||n.mockUserToken.user_id;if(!x)throw new st(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Wn(x)}t._authCredentials=new PD(new U3(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new za(this.firestore,e,this._query)}}class On{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class Co extends za{constructor(e,r,n){super(e,r,Yp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new xt(e))}withConverter(e){return new Co(this.firestore,e,this._path)}}function Dt(t,e,...r){if(t=_r(t),tk("collection","path",e),t instanceof om){const n=xr.fromString(e,...r);return X_(n),new Co(t,null,n)}{if(!(t instanceof On||t instanceof Co))throw new st(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xr.fromString(e,...r));return X_(n),new Co(t.firestore,null,n)}}function vt(t,e,...r){if(t=_r(t),arguments.length===1&&(e=H3.newId()),tk("doc","path",e),t instanceof om){const n=xr.fromString(e,...r);return K_(n),new On(t,null,new xt(n))}{if(!(t instanceof On||t instanceof Co))throw new st(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xr.fromString(e,...r));return K_(n),new On(t.firestore,t instanceof Co?t.converter:null,new xt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="AsyncQueue";class Z_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new _1(this,"async_queue_retry"),this.Su=()=>{const n=xx();n&&lt(J_,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const r=xx();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const r=xx();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const r=new Ki;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ku(e))throw e;lt(J_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const r=this.bu.then((()=>(this.pu=!0,e().catch((n=>{this.gu=n,this.pu=!1;const s=(function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u})(n);throw Fa("INTERNAL UNHANDLED ERROR: ",s),n})).then((n=>(this.pu=!1,n))))));return this.bu=r,r}enqueueAfterDelay(e,r,n){this.Du(),this.wu.indexOf(e)>-1&&(r=0);const s=S1.createAndSchedule(this,e,r,n,(i=>this.Fu(i)));return this.fu.push(s),s}Du(){this.gu&&_t()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const r of this.fu)if(r.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.fu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const r=this.fu.indexOf(e);this.fu.splice(r,1)}}function e4(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1})(t,["next","error","complete"])}class na extends om{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new Z_,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z_(e),this._firestoreClient=void 0,await e}}}function NO(t,e){const r=typeof t=="object"?t:Wp(),n=typeof t=="string"?t:Kf,s=Wo(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=t3("firestore");i&&TO(s,...i)}return s}function S0(t){if(t._terminated)throw new st(Pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||kO(t),t._firestoreClient}function kO(t){var e,r,n;const s=t._freezeSettings(),i=(function(u,d,h,p){return new XD(u,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,ek(p.experimentalLongPollingOptions),p.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new gO(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&(function(u){const d=u?._online.build();return{_offline:u?._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pl(Ln.fromBase64String(e))}catch(r){throw new st(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Pl(Ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new st(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new st(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new st(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=/^__.*__$/;class AO{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Go(e,this.data,this.fieldMask,r,this.fieldTransforms):new E0(e,this.data,r,this.fieldTransforms)}}class nk{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Go(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function sk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class V1{constructor(e,r,n,s,i,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new V1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.ku({path:n,Qu:!1});return s.$u(e),s}Uu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.ku({path:n,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return sp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(sk(this.Lu)&&SO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class CO{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||nm(e)}ju(e,r,n,s=!1){return new V1({Lu:e,methodName:r,zu:n,path:Pn.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I0(t){const e=t._freezeSettings(),r=nm(t._databaseId);return new CO(t._databaseId,!!e.ignoreUndefinedProperties,r)}function $1(t,e,r,n,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,r,s);z1("Data must be an object, but it was:",o,n);const u=ok(n,o);let d,h;if(i.merge)d=new Ls(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const p=[];for(const x of i.mergeFields){const y=my(e,x,r);if(!o.contains(y))throw new st(Pe.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);ck(p,y)||p.push(y)}d=new Ls(p),h=o.fieldTransforms.filter((x=>d.covers(x.field)))}else d=null,h=o.fieldTransforms;return new AO(new ss(u),d,h)}class lm extends C0{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lm}}class B1 extends C0{_toFieldTransform(e){return new vN(e.path,new Zd)}isEqual(e){return e instanceof B1}}class U1 extends C0{constructor(e,r){super(e),this.Ju=r}_toFieldTransform(e){const r=new r0(e.serializer,pN(e.serializer,this.Ju));return new vN(e.path,r)}isEqual(e){return e instanceof U1&&this.Ju===e.Ju}}function ik(t,e,r,n){const s=t.ju(1,e,r);z1("Data must be an object, but it was:",s,n);const i=[],o=ss.empty();qo(n,((d,h)=>{const p=H1(e,d,r);h=_r(h);const x=s.Uu(p);if(h instanceof lm)i.push(p);else{const y=P0(h,x);y!=null&&(i.push(p),o.set(p,y))}}));const u=new Ls(i);return new nk(o,u,s.fieldTransforms)}function ak(t,e,r,n,s,i){const o=t.ju(1,e,r),u=[my(e,n,r)],d=[s];if(i.length%2!=0)throw new st(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<i.length;y+=2)u.push(my(e,i[y])),d.push(i[y+1]);const h=[],p=ss.empty();for(let y=u.length-1;y>=0;--y)if(!ck(h,u[y])){const v=u[y];let T=d[y];T=_r(T);const w=o.Uu(v);if(T instanceof lm)h.push(v);else{const _=P0(T,w);_!=null&&(h.push(v),p.set(v,_))}}const x=new Ls(h);return new nk(p,x,o.fieldTransforms)}function IO(t,e,r,n=!1){return P0(r,t.ju(n?4:3,e))}function P0(t,e){if(lk(t=_r(t)))return z1("Unsupported field value:",e,t),ok(t,e);if(t instanceof C0)return(function(n,s){if(!sk(s.Lu))throw s.Wu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return(function(n,s){const i=[];let o=0;for(const u of n){let d=P0(u,s.Ku(o));d==null&&(d={nullValue:"NULL_VALUE"}),i.push(d),o++}return{arrayValue:{values:i}}})(t,e)}return(function(n,s){if((n=_r(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return pN(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=yr.fromDate(n);return{timestampValue:Jf(s.serializer,i)}}if(n instanceof yr){const i=new yr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Jf(s.serializer,i)}}if(n instanceof L1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Pl)return{bytesValue:SN(s.serializer,n._byteString)};if(n instanceof On){const i=s.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:x1(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof M1)return(function(o,u){return{mapValue:{fields:{[J3]:{stringValue:Z3},[Xf]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return p1(u.serializer,h)}))}}}}}})(n,s);throw s.Wu(`Unsupported field value: ${am(n)}`)})(t,e)}function ok(t,e){const r={};return q3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qo(t,((n,s)=>{const i=P0(s,e.qu(n));i!=null&&(r[n]=i)})),{mapValue:{fields:r}}}function lk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yr||t instanceof L1||t instanceof Pl||t instanceof On||t instanceof C0||t instanceof M1)}function z1(t,e,r){if(!lk(r)||!(function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)})(r)){const n=am(r);throw n==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+n)}}function my(t,e,r){if((e=_r(e))instanceof A0)return e._internalPath;if(typeof e=="string")return H1(t,e);throw sp("Field path arguments must be of type string or ",t,!1,void 0,r)}const PO=new RegExp("[~\\*/\\[\\]]");function H1(t,e,r){if(e.search(PO)>=0)throw sp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new A0(...e.split("."))._internalPath}catch{throw sp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function sp(t,e,r,n,s){const i=n&&!n.isEmpty(),o=s!==void 0;let u=`Function ${e}() called with invalid data`;r&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(i||o)&&(d+=" (found",i&&(d+=` in field ${n}`),o&&(d+=` in document ${s}`),d+=")"),new st(Pe.INVALID_ARGUMENT,u+t+d)}function ck(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,r,n,s,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(cm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class RO extends ip{data(){return super.data()}}function cm(t,e){return typeof e=="string"?H1(t,e):e instanceof A0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new st(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class W1{}class q1 extends W1{}function wr(t,e,...r){let n=[];e instanceof W1&&n.push(e),n=n.concat(r),(function(i){const o=i.filter((d=>d instanceof G1)).length,u=i.filter((d=>d instanceof um)).length;if(o>1||o>0&&u>0)throw new st(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const s of n)t=s._apply(t);return t}class um extends q1{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new um(e,r,n)}_apply(e){const r=this._parse(e);return dk(e._query,r),new za(e.firestore,e.converter,ay(e._query,r))}_parse(e){const r=I0(e.firestore);return(function(i,o,u,d,h,p,x){let y;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new st(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){r4(x,p);const T=[];for(const w of x)T.push(t4(d,i,w));y={arrayValue:{values:T}}}else y=t4(d,i,x)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||r4(x,p),y=IO(u,o,x,p==="in"||p==="not-in");return sn.create(h,p,y)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Or(t,e,r){const n=e,s=cm("where",t);return um._create(s,n,r)}class G1 extends W1{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new G1(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Ii.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(s,i){let o=s;const u=i.getFlattenedFilters();for(const d of u)dk(o,d),o=ay(o,d)})(e._query,r),new za(e.firestore,e.converter,ay(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class K1 extends q1{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new K1(e,r)}_apply(e){const r=(function(s,i,o){if(s.startAt!==null)throw new st(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new st(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jd(i,o)})(e._query,this._field,this._direction);return new za(e.firestore,e.converter,(function(s,i){const o=s.explicitOrderBy.concat([i]);return new Su(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,r))}}function X1(t,e="asc"){const r=e,n=cm("orderBy",t);return K1._create(n,r)}class Y1 extends q1{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new Y1(e,r,n)}_apply(e){return new za(e.firestore,e.converter,Qf(e._query,this._limit,this._limitType))}}function jO(t){return EO("limit",t),Y1._create("limit",t,"F")}function t4(t,e,r){if(typeof(r=_r(r))=="string"){if(r==="")throw new st(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oN(e)&&r.indexOf("/")!==-1)throw new st(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(xr.fromString(r));if(!xt.isDocumentKey(n))throw new st(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return g_(t,new xt(n))}if(r instanceof On)return g_(t,r._key);throw new st(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${am(r)}.`)}function r4(t,e){if(!Array.isArray(t)||t.length===0)throw new st(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dk(t,e){const r=(function(s,i){for(const o of s)for(const u of o.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new st(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class hk{convertValue(e,r="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Do(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw _t()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return qo(e,((s,i)=>{n[s]=this.convertValue(i,r)})),n}convertVectorValue(e){var r,n,s;const i=(s=(n=(r=e.fields)===null||r===void 0?void 0:r[Xf].arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map((o=>Yr(o.doubleValue)));return new M1(i)}convertGeoPoint(e){return new L1(Yr(e.latitude),Yr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Xp(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Xd(e));default:return null}}convertTimestamp(e){const r=jo(e);return new yr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=xr.fromString(e);Yt(DN(n));const s=new Yd(n.get(1),n.get(3)),i=new xt(n.popFirst(5));return s.isEqual(r)||Fa(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class DO extends hk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class J1 extends ip{constructor(e,r,n,s,i,o){super(e,r,n,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(cm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class jf extends J1{data(e={}){return super.data(e)}}class fk{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new zc(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new jf(this._firestore,this._userDataWriter,n.key,n,new zc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new st(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map((u=>{const d=new jf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new zc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}}))}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>i||u.type!==3)).map((u=>{const d=new jf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new zc(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,p=-1;return u.type!==0&&(h=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),p=o.indexOf(u.doc.key)),{type:OO(u.type),doc:d,oldIndex:h,newIndex:p}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function OO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t){t=os(t,On);const e=os(t.firestore,na);return bO(S0(e),t._key).then((r=>pk(e,t,r)))}class dm extends hk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pl(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,r)}}function qn(t){t=os(t,za);const e=os(t.firestore,na),r=S0(e),n=new dm(e);return uk(t._query),wO(r,t._query).then((s=>new fk(e,n,t,s)))}function ti(t,e,r){t=os(t,On);const n=os(t.firestore,na),s=Q1(t.converter,e,r);return hm(n,[$1(I0(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,Rn.none())])}function Jr(t,e,r,...n){t=os(t,On);const s=os(t.firestore,na),i=I0(s);let o;return o=typeof(e=_r(e))=="string"||e instanceof A0?ak(i,"updateDoc",t._key,e,r,n):ik(i,"updateDoc",t._key,e),hm(s,[o.toMutation(t._key,Rn.exists(!0))])}function El(t){return hm(os(t.firestore,na),[new tm(t._key,Rn.none())])}function Io(t,e){const r=os(t.firestore,na),n=vt(t),s=Q1(t.converter,e);return hm(r,[$1(I0(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,Rn.exists(!1))]).then((()=>n))}function gr(t,...e){var r,n,s;t=_r(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||e4(e[o])||(i=e[o],o++);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(e4(e[o])){const x=e[o];e[o]=(r=x.next)===null||r===void 0?void 0:r.bind(x),e[o+1]=(n=x.error)===null||n===void 0?void 0:n.bind(x),e[o+2]=(s=x.complete)===null||s===void 0?void 0:s.bind(x)}let d,h,p;if(t instanceof On)h=os(t.firestore,na),p=Yp(t._key.path),d={next:x=>{e[o]&&e[o](pk(h,t,x))},error:e[o+1],complete:e[o+2]};else{const x=os(t,za);h=os(x.firestore,na),p=x._query;const y=new dm(h);d={next:v=>{e[o]&&e[o](new fk(h,y,x,v))},error:e[o+1],complete:e[o+2]},uk(t._query)}return(function(y,v,T,w){const _=new O1(w),C=new R1(v,_,T);return y.asyncQueue.enqueueAndForget((async()=>C1(await np(y),C))),()=>{_.su(),y.asyncQueue.enqueueAndForget((async()=>I1(await np(y),C)))}})(S0(h),p,u,d)}function hm(t,e){return(function(n,s){const i=new Ki;return n.asyncQueue.enqueueAndForget((async()=>iO(await yO(n),s,i))),i.promise})(S0(t),e)}function pk(t,e,r){const n=r.docs.get(e._key),s=new dm(t);return new J1(t,s,e._key,n,new zc(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO={maxAttempts:5};function Td(t,e){if((t=_r(t)).firestore!==e)throw new st(Pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=I0(e)}get(e){const r=Td(e,this._firestore),n=new DO(this._firestore);return this._transaction.lookup([r._key]).then((s=>{if(!s||s.length!==1)return _t();const i=s[0];if(i.isFoundDocument())return new ip(this._firestore,n,i.key,i,r.converter);if(i.isNoDocument())return new ip(this._firestore,n,r._key,null,r.converter);throw _t()}))}set(e,r,n){const s=Td(e,this._firestore),i=Q1(s.converter,r,n),o=$1(this._dataReader,"Transaction.set",s._key,i,s.converter!==null,n);return this._transaction.set(s._key,o),this}update(e,r,n,...s){const i=Td(e,this._firestore);let o;return o=typeof(r=_r(r))=="string"||r instanceof A0?ak(this._dataReader,"Transaction.update",i._key,r,n,s):ik(this._dataReader,"Transaction.update",i._key,r),this._transaction.update(i._key,o),this}delete(e){const r=Td(e,this._firestore);return this._transaction.delete(r._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO extends LO{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Td(e,this._firestore),n=new dm(this._firestore);return super.get(e).then((s=>new J1(this._firestore,n,r._key,s._document,new zc(!1,!1),r.converter)))}}function CJ(t,e,r){t=os(t,na);const n=Object.assign(Object.assign({},FO),r);return(function(i){if(i.maxAttempts<1)throw new st(Pe.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n),(function(i,o,u){const d=new Ki;return i.asyncQueue.enqueueAndForget((async()=>{const h=await vO(i);new mO(i.asyncQueue,h,u,o,d).Iu()})),d.promise})(S0(t),(s=>e(new MO(t,s))),n)}function Fr(){return new B1("serverTimestamp")}function VO(t){return new U1("increment",t)}(function(e,r=!0){(function(s){Tu=s})(Bl),Ci(new ni("firestore",((n,{instanceIdentifier:s,options:i})=>{const o=n.getProvider("app").getImmediate(),u=new na(new RD(n.getProvider("auth-internal")),new OD(o,n.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new st(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yd(h.options.projectId,p)})(o,s),o);return i=Object.assign({useFetchStreams:r},i),u._setSettings(i),u}),"PUBLIC").setMultipleInstances(!0)),bs(s_,i_,e),bs(s_,i_,"esm2017")})();function Z1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function mk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $O=mk,gk=new $l("auth","Firebase",mk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=new Hp("@firebase/auth");function BO(t,...e){ap.logLevel<=Ut.WARN&&ap.warn(`Auth (${Bl}): ${t}`,...e)}function Df(t,...e){ap.logLevel<=Ut.ERROR&&ap.error(`Auth (${Bl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t,...e){throw ev(t,...e)}function Yi(t,...e){return ev(t,...e)}function xk(t,e,r){const n=Object.assign(Object.assign({},$O()),{[e]:r});return new $l("auth","Firebase",n).create(e,{appName:t.name})}function ka(t){return xk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ev(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return gk.create(t,...e)}function Nt(t,e,...r){if(!t)throw ev(e,...r)}function _a(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Df(e),new Error(e)}function Ma(t,e){t||_a(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function UO(){return n4()==="http:"||n4()==="https:"}function n4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UO()||i3()||"connection"in navigator)?navigator.onLine:!0}function HO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ma(r>e,"Short delay should be less than long delay!"),this.isMobile=MP()||BP()}get(){return zO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t,e){Ma(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_a("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_a("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_a("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GO=new R0(3e4,6e4);function Ha(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Di(t,e,r,n,s={}){return vk(t,s,async()=>{let i={},o={};n&&(e==="GET"?o=n:i={body:JSON.stringify(n)});const u=w0(Object.assign({key:t.config.apiKey},o)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},i);return $P()||(h.referrerPolicy="no-referrer"),yk.fetch()(await bk(t,t.config.apiHost,r,u),h)})}async function vk(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},WO),e);try{const s=new XO(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw df(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const u=i.ok?o.errorMessage:o.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw df(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw df(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw df(t,"user-disabled",o);const p=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw xk(t,p,h);Pi(t,p)}}catch(s){if(s instanceof si)throw s;Pi(t,"network-request-failed",{message:String(s)})}}async function j0(t,e,r,n,s={}){const i=await Di(t,e,r,n,s);return"mfaPendingCredential"in i&&Pi(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function bk(t,e,r,n){const s=`${e}${r}?${n}`,i=t,o=i.config.emulator?tv(t.config,s):`${t.config.apiScheme}://${s}`;return qO.includes(r)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function KO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Yi(this.auth,"network-request-failed")),GO.get())})}}function df(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=Yi(t,e,n);return s.customData._tokenResponse=r,s}function s4(t){return t!==void 0&&t.enterprise!==void 0}class YO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return KO(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QO(t,e){return Di(t,"GET","/v2/recaptchaConfig",Ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(t,e){return Di(t,"POST","/v1/accounts:delete",e)}async function op(t,e){return Di(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZO(t,e=!1){const r=_r(t),n=await r.getIdToken(e),s=rv(n);Nt(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i?.sign_in_provider;return{claims:s,token:n,authTime:Dd(vx(s.auth_time)),issuedAtTime:Dd(vx(s.iat)),expirationTime:Dd(vx(s.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function vx(t){return Number(t)*1e3}function rv(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Df("JWT malformed, contained fewer than 3 sections"),null;try{const s=ZT(r);return s?JSON.parse(s):(Df("Failed to decode base64 JWT payload"),null)}catch(s){return Df("Caught error parsing JWT payload as JSON",s?.toString()),null}}function i4(t){const e=rv(t);return Nt(e,"internal-error"),Nt(typeof e.exp<"u","internal-error"),Nt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof si&&eF(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function eF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dd(this.lastLoginAt),this.creationTime=Dd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lp(t){var e;const r=t.auth,n=await t.getIdToken(),s=await Rl(t,op(r,{idToken:n}));Nt(s?.users.length,r,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?wk(i.providerUserInfo):[],u=nF(t.providerData,o),d=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!u?.length,p=d?h:!1,x={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:u,metadata:new xy(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(t,x)}async function rF(t){const e=_r(t);await lp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nF(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function wk(t){return t.map(e=>{var{providerId:r}=e,n=Z1(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(t,e){const r=await vk(t,{},async()=>{const n=w0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await bk(t,s,"/v1/token",`key=${i}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",yk.fetch()(o,{method:"POST",headers:u,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function iF(t,e){return Di(t,"POST","/v2/accounts:revokeToken",Ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Nt(e.idToken,"internal-error"),Nt(typeof e.idToken<"u","internal-error"),Nt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):i4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Nt(e.length!==0,"internal-error");const r=i4(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Nt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await sF(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,o=new Jc;return n&&(Nt(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),s&&(Nt(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Nt(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jc,this.toJSON())}_performRefresh(){return _a("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t,e){Nt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ei{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,i=Z1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new xy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Rl(this,this.stsTokenManager.getToken(this.auth,e));return Nt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return ZO(this,e)}reload(){return rF(this)}_assign(e){this!==e&&(Nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Ei(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await lp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fs(this.auth.app))return Promise.reject(ka(this.auth));const e=await this.getIdToken();return await Rl(this,JO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,i,o,u,d,h,p;const x=(n=r.displayName)!==null&&n!==void 0?n:void 0,y=(s=r.email)!==null&&s!==void 0?s:void 0,v=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,T=(o=r.photoURL)!==null&&o!==void 0?o:void 0,w=(u=r.tenantId)!==null&&u!==void 0?u:void 0,_=(d=r._redirectEventId)!==null&&d!==void 0?d:void 0,C=(h=r.createdAt)!==null&&h!==void 0?h:void 0,j=(p=r.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:O,emailVerified:M,isAnonymous:Y,providerData:ne,stsTokenManager:A}=r;Nt(O&&A,e,"internal-error");const S=Jc.fromJSON(this.name,A);Nt(typeof O=="string",e,"internal-error"),go(x,e.name),go(y,e.name),Nt(typeof M=="boolean",e,"internal-error"),Nt(typeof Y=="boolean",e,"internal-error"),go(v,e.name),go(T,e.name),go(w,e.name),go(_,e.name),go(C,e.name),go(j,e.name);const I=new Ei({uid:O,auth:e,email:y,emailVerified:M,displayName:x,isAnonymous:Y,photoURL:T,phoneNumber:v,tenantId:w,stsTokenManager:S,createdAt:C,lastLoginAt:j});return ne&&Array.isArray(ne)&&(I.providerData=ne.map(V=>Object.assign({},V))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,r,n=!1){const s=new Jc;s.updateFromServerResponse(r);const i=new Ei({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await lp(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];Nt(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?wk(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!i?.length,u=new Jc;u.updateFromIdToken(n);const d=new Ei({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new xy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=new Map;function Ea(t){Ma(t instanceof Function,"Expected a class definition");let e=a4.get(t);return e?(Ma(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,a4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}_k.type="NONE";const o4=_k;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t,e,r){return`firebase:${t}:${e}:${r}`}class Zc{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=Of(this.userKey,s.apiKey,i),this.fullPersistenceKey=Of("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await op(this.auth,{idToken:e}).catch(()=>{});return r?Ei._fromGetAccountInfoResponse(this.auth,r,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Zc(Ea(o4),e,n);const s=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||Ea(o4);const o=Of(n,e.config.apiKey,e.name);let u=null;for(const h of r)try{const p=await h._get(o);if(p){let x;if(typeof p=="string"){const y=await op(e,{idToken:p}).catch(()=>{});if(!y)break;x=await Ei._fromGetAccountInfoResponse(e,y,p)}else x=Ei._fromJSON(e,p);h!==i&&(u=x),i=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!d.length?new Zc(i,e,n):(i=d[0],u&&await i._set(o,u.toJSON()),await Promise.all(r.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new Zc(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ek(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ak(e))return"Blackberry";if(Ck(e))return"Webos";if(Tk(e))return"Safari";if((e.includes("chrome/")||Nk(e))&&!e.includes("edge/"))return"Chrome";if(Sk(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function Ek(t=Yn()){return/firefox\//i.test(t)}function Tk(t=Yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nk(t=Yn()){return/crios\//i.test(t)}function kk(t=Yn()){return/iemobile/i.test(t)}function Sk(t=Yn()){return/android/i.test(t)}function Ak(t=Yn()){return/blackberry/i.test(t)}function Ck(t=Yn()){return/webos/i.test(t)}function nv(t=Yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function aF(t=Yn()){var e;return nv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oF(){return UP()&&document.documentMode===10}function Ik(t=Yn()){return nv(t)||Sk(t)||Ck(t)||Ak(t)||/windows phone/i.test(t)||kk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t,e=[]){let r;switch(t){case"Browser":r=l4(Yn());break;case"Worker":r=`${l4(Yn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Bl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((o,u)=>{try{const d=e(i);o(d)}catch(d){u(d)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cF(t,e={}){return Di(t,"GET","/v2/passwordPolicy",Ha(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=6;class dF{constructor(e){var r,n,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:uF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,i,o,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(r=d.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(i=d.containsUppercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsNumericCharacter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c4(this),this.idTokenSubscription=new c4(this),this.beforeStateQueue=new lF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ea(r)),this._initializationPromise=this.queue(async()=>{var n,s,i;if(!this._deleted&&(this.persistenceManager=await Zc.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await op(this,{idToken:e}),n=await Ei._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Fs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,u=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===u)&&d?.user&&(s=d.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await lp(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fs(this.app))return Promise.reject(ka(this));const r=e?_r(e):null;return r&&Nt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fs(this.app)?Promise.reject(ka(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fs(this.app)?Promise.reject(ka(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ea(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cF(this),r=new dF(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $l("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await iF(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ea(e)||this._popupRedirectResolver;Nt(r,this,"argument-error"),this.redirectPersistenceManager=await Zc.create(this,[Ea(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Nt(u,this,"internal-error"),u.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,s);return()=>{o=!0,d()}}else{const d=e.addObserver(r);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;if(Fs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&BO(`Error while retrieving App Check token: ${r.error}`),r?.token}}function Ko(t){return _r(t)}class c4{constructor(e){this.auth=e,this.observer=null,this.addObserver=XP(r=>this.observer=r)}get next(){return Nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fF(t){fm=t}function Rk(t){return fm.loadJS(t)}function pF(){return fm.recaptchaEnterpriseScript}function mF(){return fm.gapiScript}function gF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xF{constructor(){this.enterprise=new yF}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class yF{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const vF="recaptcha-enterprise",jk="NO_RECAPTCHA";class bF{constructor(e){this.type=vF,this.auth=Ko(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,u)=>{QO(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new YO(d);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,o(h.siteKey)}}).catch(d=>{u(d)})})}function s(i,o,u){const d=window.grecaptcha;s4(d)?d.enterprise.ready(()=>{d.enterprise.execute(i,{action:e}).then(h=>{o(h)}).catch(()=>{o(jk)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xF().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{n(this.auth).then(u=>{if(!r&&s4(window.grecaptcha))s(u,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=pF();d.length!==0&&(d+=u),Rk(d).then(()=>{s(u,i,o)}).catch(h=>{o(h)})}}).catch(u=>{o(u)})})}}async function u4(t,e,r,n=!1,s=!1){const i=new bF(t);let o;if(s)o=jk;else try{o=await i.verify(r)}catch{o=await i.verify(r,!0)}const u=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return n?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function cp(t,e,r,n,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await u4(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await u4(t,e,r,r==="getOobCode");return n(t,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t,e){const r=Wo(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(Po(i,e??{}))return s;Pi(s,"already-initialized")}return r.initialize({options:e})}function _F(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Ea);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function EF(t,e,r){const n=Ko(t);Nt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=Dk(e),{host:o,port:u}=TF(e),d=u===null?"":`:${u}`,h={url:`${i}//${o}${d}/`},p=Object.freeze({host:o,port:u,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){Nt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Nt(Po(h,n.config.emulator)&&Po(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,NF()}function Dk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function TF(t){const e=Dk(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:d4(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:d4(o)}}}function d4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function NF(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return _a("not implemented")}_getIdTokenResponse(e){return _a("not implemented")}_linkToIdToken(e,r){return _a("not implemented")}_getReauthenticationResolver(e){return _a("not implemented")}}async function kF(t,e){return Di(t,"POST","/v1/accounts:update",e)}async function SF(t,e){return Di(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AF(t,e){return j0(t,"POST","/v1/accounts:signInWithPassword",Ha(t,e))}async function CF(t,e){return Di(t,"POST","/v1/accounts:sendOobCode",Ha(t,e))}async function IF(t,e){return CF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PF(t,e){return j0(t,"POST","/v1/accounts:signInWithEmailLink",Ha(t,e))}async function RF(t,e){return j0(t,"POST","/v1/accounts:signInWithEmailLink",Ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0 extends sv{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new n0(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new n0(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cp(e,r,"signInWithPassword",AF);case"emailLink":return PF(e,{email:this._email,oobCode:this._password});default:Pi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cp(e,n,"signUpPassword",SF);case"emailLink":return RF(e,{idToken:r,email:this._email,oobCode:this._password});default:Pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(t,e){return j0(t,"POST","/v1/accounts:signInWithIdp",Ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF="http://localhost";class jl extends sv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new jl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Pi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,i=Z1(r,["providerId","signInMethod"]);if(!n||!s)return null;const o=new jl(n,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return eu(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,eu(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,eu(e,r)}buildRequest(){const e={requestUri:jF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=w0(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OF(t){const e=vd(bd(t)).link,r=e?vd(bd(e)).deep_link_id:null,n=vd(bd(t)).deep_link_id;return(n?vd(bd(n)).link:null)||n||r||e||t}class iv{constructor(e){var r,n,s,i,o,u;const d=vd(bd(e)),h=(r=d.apiKey)!==null&&r!==void 0?r:null,p=(n=d.oobCode)!==null&&n!==void 0?n:null,x=DF((s=d.mode)!==null&&s!==void 0?s:null);Nt(h&&p&&x,"argument-error"),this.apiKey=h,this.operation=x,this.code=p,this.continueUrl=(i=d.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=d.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const r=OF(e);try{return new iv(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(){this.providerId=Cu.PROVIDER_ID}static credential(e,r){return n0._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=iv.parseLink(r);return Nt(n,"argument-error"),n0._fromEmailAndCode(e,n.code,n.tenantId)}}Cu.PROVIDER_ID="password";Cu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends Ok{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends D0{constructor(){super("facebook.com")}static credential(e){return jl._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.FACEBOOK_SIGN_IN_METHOD="facebook.com";vo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends D0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return jl._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return bo.credential(r,n)}catch{return null}}}bo.GOOGLE_SIGN_IN_METHOD="google.com";bo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends D0{constructor(){super("github.com")}static credential(e){return jl._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.GITHUB_SIGN_IN_METHOD="github.com";wo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends D0{constructor(){super("twitter.com")}static credential(e,r){return jl._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return _o.credential(r,n)}catch{return null}}}_o.TWITTER_SIGN_IN_METHOD="twitter.com";_o.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FF(t,e){return j0(t,"POST","/v1/accounts:signUp",Ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await Ei._fromIdTokenResponse(e,n,s),o=h4(n);return new Dl({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=h4(n);return new Dl({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function h4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up extends si{constructor(e,r,n,s){var i;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,up.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new up(e,r,n,s)}}function Fk(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?up._fromErrorAndOperation(t,i,e,n):i})}async function LF(t,e,r=!1){const n=await Rl(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Dl._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MF(t,e,r=!1){const{auth:n}=t;if(Fs(n.app))return Promise.reject(ka(n));const s="reauthenticate";try{const i=await Rl(t,Fk(n,s,e,t),r);Nt(i.idToken,n,"internal-error");const o=rv(i.idToken);Nt(o,n,"internal-error");const{sub:u}=o;return Nt(t.uid===u,n,"user-mismatch"),Dl._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&Pi(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(t,e,r=!1){if(Fs(t.app))return Promise.reject(ka(t));const n="signIn",s=await Fk(t,n,e),i=await Dl._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}async function VF(t,e){return Lk(Ko(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mk(t){const e=Ko(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $F(t,e,r){const n=Ko(t);await cp(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",IF)}async function BF(t,e,r){if(Fs(t.app))return Promise.reject(ka(t));const n=Ko(t),o=await cp(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FF).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Mk(t),d}),u=await Dl._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(u.user),u}function UF(t,e,r){return Fs(t.app)?Promise.reject(ka(t)):VF(_r(t),Cu.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Mk(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zF(t,e){return Di(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HF(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=_r(t),i={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await Rl(n,zF(n.auth,i));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const u=n.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=n.displayName,u.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function av(t,e){return WF(_r(t),null,e)}async function WF(t,e,r){const{auth:n}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(i.password=r);const o=await Rl(t,kF(n,i));await t._updateTokensIfNecessary(o,!0)}function qF(t,e,r,n){return _r(t).onIdTokenChanged(e,r,n)}function GF(t,e,r){return _r(t).beforeAuthStateChanged(e,r)}function Hl(t,e,r,n){return _r(t).onAuthStateChanged(e,r,n)}function O0(t){return _r(t).signOut()}const dp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(dp,"1"),this.storage.removeItem(dp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=1e3,XF=10;class $k extends Vk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ik(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,u,d)=>{this.notifyListeners(o,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);oF()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,XF):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},KF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}$k.type="LOCAL";const YF=$k;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk extends Vk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Bk.type="SESSION";const Uk=Bk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new pm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,o=this.handlersMap[s];if(!o?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const u=Array.from(o).map(async h=>h(r.origin,i)),d=await QF(u);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((u,d)=>{const h=ov("",20);s.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(x){const y=x;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),u(y.data.response);break;default:clearTimeout(p),clearTimeout(i),d(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(){return window}function ZF(t){Qi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function e7(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t7(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function r7(){return zk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="firebaseLocalStorageDb",n7=1,hp="firebaseLocalStorage",Wk="fbase_key";class F0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function mm(t,e){return t.transaction([hp],e?"readwrite":"readonly").objectStore(hp)}function s7(){const t=indexedDB.deleteDatabase(Hk);return new F0(t).toPromise()}function yy(){const t=indexedDB.open(Hk,n7);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(hp,{keyPath:Wk})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(hp)?e(n):(n.close(),await s7(),e(await yy()))})})}async function f4(t,e,r){const n=mm(t,!0).put({[Wk]:e,value:r});return new F0(n).toPromise()}async function i7(t,e){const r=mm(t,!1).get(e),n=await new F0(r).toPromise();return n===void 0?null:n.value}function p4(t,e){const r=mm(t,!0).delete(e);return new F0(r).toPromise()}const a7=800,o7=3;class qk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yy(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>o7)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pm._getInstance(r7()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await e7(),!this.activeServiceWorker)return;this.sender=new JF(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yy();return await f4(e,dp,"1"),await p4(e,dp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>f4(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>i7(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>p4(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=mm(s,!1).getAll();return new F0(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qk.type="LOCAL";const l7=qk;new R0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(t,e){return e?Ea(e):(Nt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv extends sv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eu(e,this._buildIdpRequest())}_linkToIdToken(e,r){return eu(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return eu(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function u7(t){return Lk(t.auth,new lv(t),t.bypassAuthState)}function d7(t){const{auth:e,user:r}=t;return Nt(r,e,"internal-error"),MF(r,new lv(t),t.bypassAuthState)}async function h7(t){const{auth:e,user:r}=t;return Nt(r,e,"internal-error"),LF(r,new lv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:o,type:u}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u7;case"linkViaPopup":case"linkViaRedirect":return h7;case"reauthViaPopup":case"reauthViaRedirect":return d7;default:Pi(this.auth,"internal-error")}}resolve(e){Ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ma(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7=new R0(2e3,1e4);class Hc extends Gk{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,Hc.currentPopupAction&&Hc.currentPopupAction.cancel(),Hc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Nt(e,this.auth,"internal-error"),e}async onExecution(){Ma(this.filter.length===1,"Popup operations only handle one event");const e=ov();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f7.get())};e()}}Hc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7="pendingRedirect",Ff=new Map;class m7 extends Gk{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Ff.get(this.auth._key());if(!e){try{const n=await g7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Ff.set(this.auth._key(),e)}return this.bypassAuthState||Ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g7(t,e){const r=v7(e),n=y7(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function x7(t,e){Ff.set(t._key(),e)}function y7(t){return Ea(t._redirectPersistence)}function v7(t){return Of(p7,t.config.apiKey,t.name)}async function b7(t,e,r=!1){if(Fs(t.app))return Promise.reject(ka(t));const n=Ko(t),s=c7(n,e),o=await new m7(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=600*1e3;class _7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E7(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!Kk(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Yi(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w7&&this.cachedEventUids.clear(),this.cachedEventUids.has(m4(e))}saveEventToCache(e){this.cachedEventUids.add(m4(e)),this.lastProcessedEventTime=Date.now()}}function m4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Kk({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function E7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T7(t,e={}){return Di(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k7=/^https?/;async function S7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await T7(t);for(const r of e)try{if(A7(r))return}catch{}Pi(t,"unauthorized-domain")}function A7(t){const e=gy(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!k7.test(r))return!1;if(N7.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7=new R0(3e4,6e4);function g4(){const t=Qi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function I7(t){return new Promise((e,r)=>{var n,s,i;function o(){g4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g4(),r(Yi(t,"network-request-failed"))},timeout:C7.get()})}if(!((s=(n=Qi().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Qi().gapi)===null||i===void 0)&&i.load)o();else{const u=gF("iframefcb");return Qi()[u]=()=>{gapi.load?o():r(Yi(t,"network-request-failed"))},Rk(`${mF()}?onload=${u}`).catch(d=>r(d))}}).catch(e=>{throw Lf=null,e})}let Lf=null;function P7(t){return Lf=Lf||I7(t),Lf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7=new R0(5e3,15e3),j7="__/auth/iframe",D7="emulator/auth/iframe",O7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L7(t){const e=t.config;Nt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?tv(e,D7):`https://${t.config.authDomain}/${j7}`,n={apiKey:e.apiKey,appName:t.name,v:Bl},s=F7.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${w0(n).slice(1)}`}async function M7(t){const e=await P7(t),r=Qi().gapi;return Nt(r,t,"internal-error"),e.open({where:document.body,url:L7(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O7,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const o=Yi(t,"network-request-failed"),u=Qi().setTimeout(()=>{i(o)},R7.get());function d(){Qi().clearTimeout(u),s(n)}n.ping(d).then(d,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$7=500,B7=600,U7="_blank",z7="http://localhost";class x4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H7(t,e,r,n=$7,s=B7){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const d=Object.assign(Object.assign({},V7),{width:n.toString(),height:s.toString(),top:i,left:o}),h=Yn().toLowerCase();r&&(u=Nk(h)?U7:r),Ek(h)&&(e=e||z7,d.scrollbars="yes");const p=Object.entries(d).reduce((y,[v,T])=>`${y}${v}=${T},`,"");if(aF(h)&&u!=="_self")return W7(e||"",u),new x4(null);const x=window.open(e||"",u,p);Nt(x,t,"popup-blocked");try{x.focus()}catch{}return new x4(x)}function W7(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7="__/auth/handler",G7="emulator/auth/handler",K7=encodeURIComponent("fac");async function y4(t,e,r,n,s,i){Nt(t.config.authDomain,t,"auth-domain-config-required"),Nt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Bl,eventId:s};if(e instanceof Ok){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",KP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,x]of Object.entries({}))o[p]=x}if(e instanceof D0){const p=e.getScopes().filter(x=>x!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await t._getAppCheckToken(),h=d?`#${K7}=${encodeURIComponent(d)}`:"";return`${X7(t)}?${w0(u).slice(1)}${h}`}function X7({config:t}){return t.emulator?tv(t,G7):`https://${t.authDomain}/${q7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="webStorageSupport";class Y7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uk,this._completeRedirectFn=b7,this._overrideRedirectResult=x7}async _openPopup(e,r,n,s){var i;Ma((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await y4(e,r,n,gy(),s);return H7(e,o,ov())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await y4(e,r,n,gy(),s);return ZF(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(Ma(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await M7(e),n=new _7(e);return r.register("authEvent",s=>(Nt(s?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(bx,{type:bx},s=>{var i;const o=(i=s?.[0])===null||i===void 0?void 0:i[bx];o!==void 0&&r(!!o),Pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=S7(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Ik()||Tk()||nv()}}const Q7=Y7;var v4="@firebase/auth",b4="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eL(t){Ci(new ni("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=n.options;Nt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pk(t)},h=new hF(n,s,i,d);return _F(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ci(new ni("auth-internal",e=>{const r=Ko(e.getProvider("auth").getImmediate());return(n=>new J7(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),bs(v4,b4,Z7(t)),bs(v4,b4,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=300,rL=n3("authIdTokenMaxAge")||tL;let w4=null;const nL=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>rL)return;const s=r?.token;w4!==s&&(w4=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function cv(t=Wp()){const e=Wo(t,"auth");if(e.isInitialized())return e.getImmediate();const r=wF(t,{popupRedirectResolver:Q7,persistence:[l7,YF,Uk]}),n=n3("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const o=nL(i.toString());GF(r,o,()=>o(r.currentUser)),qF(r,u=>o(u))}}const s=e3("auth");return s&&EF(r,`http://${s}`),r}function sL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}fF({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=Yi("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",sL().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eL("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="firebasestorage.googleapis.com",iL="storageBucket",aL=120*1e3,oL=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends si{constructor(e,r,n=0){super(wx(e),`Firebase Storage: ${r} (${wx(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,oa.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var sa;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(sa||(sa={}));function wx(t){return"storage/"+t}function lL(){const t="An unknown error occurred, please check the error payload for server response.";return new oa(sa.UNKNOWN,t)}function cL(){return new oa(sa.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uL(){return new oa(sa.CANCELED,"User canceled the upload/download.")}function dL(t){return new oa(sa.INVALID_URL,"Invalid URL '"+t+"'.")}function hL(t){return new oa(sa.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function _4(t){return new oa(sa.INVALID_ARGUMENT,t)}function Yk(){return new oa(sa.APP_DELETED,"The Firebase app was deleted.")}function fL(t){return new oa(sa.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Ti.makeFromUrl(e,r)}catch{return new Ti(e,"")}if(n.path==="")return n;throw hL(e)}static makeFromUrl(e,r){let n=null;const s="([A-Za-z0-9.\\-_]+)";function i(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+s+o,"i"),d={bucket:1,path:3};function h(M){M.path_=decodeURIComponent(M.path)}const p="v[A-Za-z0-9_]+",x=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",v=new RegExp(`^https?://${x}/${p}/b/${s}/o${y}`,"i"),T={bucket:1,path:3},w=r===Xk?"(?:storage.googleapis.com|storage.cloud.google.com)":r,_="([^?#]*)",C=new RegExp(`^https?://${w}/${s}/${_}`,"i"),O=[{regex:u,indices:d,postModify:i},{regex:v,indices:T,postModify:h},{regex:C,indices:{bucket:1,path:2},postModify:h}];for(let M=0;M<O.length;M++){const Y=O[M],ne=Y.regex.exec(e);if(ne){const A=ne[Y.indices.bucket];let S=ne[Y.indices.path];S||(S=""),n=new Ti(A,S),Y.postModify(n);break}}if(n==null)throw dL(e);return n}}class pL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t,e,r){let n=1,s=null,i=null,o=!1,u=0;function d(){return u===2}let h=!1;function p(..._){h||(h=!0,e.apply(null,_))}function x(_){s=setTimeout(()=>{s=null,t(v,d())},_)}function y(){i&&clearTimeout(i)}function v(_,...C){if(h){y();return}if(_){y(),p.call(null,_,...C);return}if(d()||o){y(),p.call(null,_,...C);return}n<64&&(n*=2);let O;u===1?(u=2,O=0):O=(n+Math.random())*1e3,x(O)}let T=!1;function w(_){T||(T=!0,y(),!h&&(s!==null?(_||(u=2),clearTimeout(s),x(0)):_||(u=1)))}return x(0),i=setTimeout(()=>{o=!0,w(!0)},r),w}function gL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t){return t!==void 0}function E4(t,e,r,n){if(n<e)throw _4(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw _4(`Invalid value for '${t}'. Expected ${r} or less.`)}function yL(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const s=e(n)+"="+e(t[n]);r=r+s+"&"}return r=r.slice(0,-1),r}var fp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(fp||(fp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t,e){const r=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return r||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,r,n,s,i,o,u,d,h,p,x,y=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=x,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,T)=>{this.resolve_=v,this.reject_=T,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new hf(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=u=>{const d=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const u=i.getErrorCode()===fp.NO_ERROR,d=i.getStatus();if(!u||vL(d,this.additionalRetryCodes_)&&this.retry){const p=i.getErrorCode()===fp.ABORT;n(!1,new hf(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;n(!0,new hf(h,i))})},r=(n,s)=>{const i=this.resolve_,o=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());xL(d)?i(d):i()}catch(d){o(d)}else if(u!==null){const d=lL();d.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,d)):o(d)}else if(s.canceled){const d=this.appDelete_?Yk():uL();o(d)}else{const d=cL();o(d)}};this.canceled_?r(!1,new hf(!1,null,!0)):this.backoffId_=mL(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hf{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function wL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _L(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function EL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function TL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function NL(t,e,r,n,s,i,o=!0){const u=yL(t.urlParams),d=t.url+u,h=Object.assign({},t.headers);return EL(h,e),wL(h,r),_L(h,i),TL(h,n),new bL(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function SL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,r){this._service=e,r instanceof Ti?this._location=r:this._location=Ti.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new pp(e,r)}get root(){const e=new Ti(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return SL(this._location.path)}get storage(){return this._service}get parent(){const e=kL(this._location.path);if(e===null)return null;const r=new Ti(this._location.bucket,e);return new pp(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw fL(e)}}function T4(t,e){const r=e?.[iL];return r==null?null:Ti.makeFromBucketSpec(r,t)}function AL(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:s3(s,t.app.options.projectId))}class CL{constructor(e,r,n,s,i){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=Xk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aL,this._maxUploadRetryTime=oL,this._requests=new Set,s!=null?this._bucket=Ti.makeFromBucketSpec(s,this._host):this._bucket=T4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ti.makeFromBucketSpec(this._url,e):this._bucket=T4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){E4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){E4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Fs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pp(this,e)}_makeRequest(e,r,n,s,i=!0){if(this._deleted)return new pL(Yk());{const o=NL(e,this._appId,n,s,r,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,s).getPromise()}}const N4="@firebase/storage",k4="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="storage";function IL(t=Wp(),e){t=_r(t);const n=Wo(t,Qk).getImmediate({identifier:e}),s=t3("storage");return s&&PL(n,...s),n}function PL(t,e,r,n={}){AL(t,e,r,n)}function RL(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new CL(r,n,s,e,Bl)}function jL(){Ci(new ni(Qk,RL,"PUBLIC").setMultipleInstances(!0)),bs(N4,k4,""),bs(N4,k4,"esm2017")}jL();const DL={apiKey:"AIzaSyDYacL_WIzZUSP-Tjl3794P_jHocMDqN9g",authDomain:"blackkstreaming-55f0e.firebaseapp.com",projectId:"blackkstreaming-55f0e",storageBucket:"blackkstreaming-55f0e.firebasestorage.app",messagingSenderId:"998157647233",appId:"1:998157647233:web:3e5b8128a0275ae4553c80",measurementId:"G-GFM50WNMSP"},L0=d3(DL);kD(L0);const qe=NO(L0);IL(L0);const Qr=cv(L0),uv=k.createContext({});function dv(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const hv=typeof window<"u",Jk=hv?k.useLayoutEffect:k.useEffect,gm=k.createContext(null);function fv(t,e){t.indexOf(e)===-1&&t.push(e)}function pv(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Va=(t,e,r)=>r>e?e:r<t?t:r;let mv=()=>{};const $a={},Zk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function eS(t){return typeof t=="object"&&t!==null}const tS=t=>/^0[^.\s]+$/u.test(t);function gv(t){let e;return()=>(e===void 0&&(e=t()),e)}const ri=t=>t,OL=(t,e)=>r=>e(t(r)),M0=(...t)=>t.reduce(OL),s0=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class xv{constructor(){this.subscriptions=[]}add(e){return fv(this.subscriptions,e),()=>pv(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ji=t=>t*1e3,Zi=t=>t/1e3;function rS(t,e){return e?t*(1e3/e):0}const nS=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,FL=1e-7,LL=12;function ML(t,e,r,n,s){let i,o,u=0;do o=e+(r-e)/2,i=nS(o,n,s)-t,i>0?r=o:e=o;while(Math.abs(i)>FL&&++u<LL);return o}function V0(t,e,r,n){if(t===e&&r===n)return ri;const s=i=>ML(i,0,1,t,r);return i=>i===0||i===1?i:nS(s(i),e,n)}const sS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,iS=t=>e=>1-t(1-e),aS=V0(.33,1.53,.69,.99),yv=iS(aS),oS=sS(yv),lS=t=>(t*=2)<1?.5*yv(t):.5*(2-Math.pow(2,-10*(t-1))),vv=t=>1-Math.sin(Math.acos(t)),cS=iS(vv),uS=sS(vv),VL=V0(.42,0,1,1),$L=V0(0,0,.58,1),dS=V0(.42,0,.58,1),BL=t=>Array.isArray(t)&&typeof t[0]!="number",hS=t=>Array.isArray(t)&&typeof t[0]=="number",UL={linear:ri,easeIn:VL,easeInOut:dS,easeOut:$L,circIn:vv,circInOut:uS,circOut:cS,backIn:yv,backInOut:oS,backOut:aS,anticipate:lS},zL=t=>typeof t=="string",S4=t=>{if(hS(t)){mv(t.length===4);const[e,r,n,s]=t;return V0(e,r,n,s)}else if(zL(t))return UL[t];return t},ff=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],A4={value:null};function HL(t,e){let r=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},d=0;function h(x){o.has(x)&&(p.schedule(x),t()),d++,x(u)}const p={schedule:(x,y=!1,v=!1)=>{const w=v&&s?r:n;return y&&o.add(x),w.has(x)||w.add(x),x},cancel:x=>{n.delete(x),o.delete(x)},process:x=>{if(u=x,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(h),e&&A4.value&&A4.value.frameloop[e].push(d),d=0,r.clear(),s=!1,i&&(i=!1,p.process(x))}};return p}const WL=40;function fS(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=ff.reduce((O,M)=>(O[M]=HL(i,e?M:void 0),O),{}),{setup:u,read:d,resolveKeyframes:h,preUpdate:p,update:x,preRender:y,render:v,postRender:T}=o,w=()=>{const O=$a.useManualTiming?s.timestamp:performance.now();r=!1,$a.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(O-s.timestamp,WL),1)),s.timestamp=O,s.isProcessing=!0,u.process(s),d.process(s),h.process(s),p.process(s),x.process(s),y.process(s),v.process(s),T.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(w))},_=()=>{r=!0,n=!0,s.isProcessing||t(w)};return{schedule:ff.reduce((O,M)=>{const Y=o[M];return O[M]=(ne,A=!1,S=!1)=>(r||_(),Y.schedule(ne,A,S)),O},{}),cancel:O=>{for(let M=0;M<ff.length;M++)o[ff[M]].cancel(O)},state:s,steps:o}}const{schedule:Mr,cancel:Vo,state:An,steps:_x}=fS(typeof requestAnimationFrame<"u"?requestAnimationFrame:ri,!0);let Mf;function qL(){Mf=void 0}const vs={now:()=>(Mf===void 0&&vs.set(An.isProcessing||$a.useManualTiming?An.timestamp:performance.now()),Mf),set:t=>{Mf=t,queueMicrotask(qL)}},pS=t=>e=>typeof e=="string"&&e.startsWith(t),bv=pS("--"),GL=pS("var(--"),wv=t=>GL(t)?KL.test(t.split("/*")[0].trim()):!1,KL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Iu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},i0={...Iu,transform:t=>Va(0,1,t)},pf={...Iu,default:1},Od=t=>Math.round(t*1e5)/1e5,_v=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function XL(t){return t==null}const YL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ev=(t,e)=>r=>!!(typeof r=="string"&&YL.test(r)&&r.startsWith(t)||e&&!XL(r)&&Object.prototype.hasOwnProperty.call(r,e)),mS=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,u]=n.match(_v);return{[t]:parseFloat(s),[e]:parseFloat(i),[r]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},QL=t=>Va(0,255,t),Ex={...Iu,transform:t=>Math.round(QL(t))},wl={test:Ev("rgb","red"),parse:mS("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Ex.transform(t)+", "+Ex.transform(e)+", "+Ex.transform(r)+", "+Od(i0.transform(n))+")"};function JL(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const vy={test:Ev("#"),parse:JL,transform:wl.transform},$0=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),yo=$0("deg"),ea=$0("%"),Ct=$0("px"),ZL=$0("vh"),eM=$0("vw"),C4={...ea,parse:t=>ea.parse(t)/100,transform:t=>ea.transform(t*100)},Wc={test:Ev("hsl","hue"),parse:mS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+ea.transform(Od(e))+", "+ea.transform(Od(r))+", "+Od(i0.transform(n))+")"},Hn={test:t=>wl.test(t)||vy.test(t)||Wc.test(t),parse:t=>wl.test(t)?wl.parse(t):Wc.test(t)?Wc.parse(t):vy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wl.transform(t):Wc.transform(t)},tM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function rM(t){return isNaN(t)&&typeof t=="string"&&(t.match(_v)?.length||0)+(t.match(tM)?.length||0)>0}const gS="number",xS="color",nM="var",sM="var(",I4="${}",iM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function a0(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const u=e.replace(iM,d=>(Hn.test(d)?(n.color.push(i),s.push(xS),r.push(Hn.parse(d))):d.startsWith(sM)?(n.var.push(i),s.push(nM),r.push(d)):(n.number.push(i),s.push(gS),r.push(parseFloat(d))),++i,I4)).split(I4);return{values:r,split:u,indexes:n,types:s}}function yS(t){return a0(t).values}function vS(t){const{split:e,types:r}=a0(t),n=e.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],s[o]!==void 0){const u=r[o];u===gS?i+=Od(s[o]):u===xS?i+=Hn.transform(s[o]):i+=s[o]}return i}}const aM=t=>typeof t=="number"?0:t;function oM(t){const e=yS(t);return vS(t)(e.map(aM))}const $o={test:rM,parse:yS,createTransformer:vS,getAnimatableNone:oM};function Tx(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function lM({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,i=0,o=0;if(!e)s=i=o=r;else{const u=r<.5?r*(1+e):r+e-r*e,d=2*r-u;s=Tx(d,u,t+1/3),i=Tx(d,u,t),o=Tx(d,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function mp(t,e){return r=>r>0?e:t}const Lr=(t,e,r)=>t+(e-t)*r,Nx=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},cM=[vy,wl,Wc],uM=t=>cM.find(e=>e.test(t));function P4(t){const e=uM(t);if(!e)return!1;let r=e.parse(t);return e===Wc&&(r=lM(r)),r}const R4=(t,e)=>{const r=P4(t),n=P4(e);if(!r||!n)return mp(t,e);const s={...r};return i=>(s.red=Nx(r.red,n.red,i),s.green=Nx(r.green,n.green,i),s.blue=Nx(r.blue,n.blue,i),s.alpha=Lr(r.alpha,n.alpha,i),wl.transform(s))},by=new Set(["none","hidden"]);function dM(t,e){return by.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function hM(t,e){return r=>Lr(t,e,r)}function Tv(t){return typeof t=="number"?hM:typeof t=="string"?wv(t)?mp:Hn.test(t)?R4:mM:Array.isArray(t)?bS:typeof t=="object"?Hn.test(t)?R4:fM:mp}function bS(t,e){const r=[...t],n=r.length,s=t.map((i,o)=>Tv(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function fM(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=Tv(t[s])(t[s],e[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function pM(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][n[i]],u=t.values[o]??0;r[s]=u,n[i]++}return r}const mM=(t,e)=>{const r=$o.createTransformer(e),n=a0(t),s=a0(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?by.has(t)&&!s.values.length||by.has(e)&&!n.values.length?dM(t,e):M0(bS(pM(n,s),s.values),r):mp(t,e)};function wS(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Lr(t,e,r):Tv(t)(t,e)}const gM=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Mr.update(e,r),stop:()=>Vo(e),now:()=>An.isProcessing?An.timestamp:vs.now()}},_S=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let i=0;i<s;i++)n+=t(i/(s-1))+", ";return`linear(${n.substring(0,n.length-2)})`},gp=2e4;function Nv(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<gp;)e+=r,n=t.next(e);return e>=gp?1/0:e}function xM(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(Nv(n),gp);return{type:"keyframes",ease:i=>n.next(s*i).value/e,duration:Zi(s)}}const yM=5;function ES(t,e,r){const n=Math.max(e-yM,0);return rS(r-t(n),e-n)}const zr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kx=.001;function vM({duration:t=zr.duration,bounce:e=zr.bounce,velocity:r=zr.velocity,mass:n=zr.mass}){let s,i,o=1-e;o=Va(zr.minDamping,zr.maxDamping,o),t=Va(zr.minDuration,zr.maxDuration,Zi(t)),o<1?(s=h=>{const p=h*o,x=p*t,y=p-r,v=wy(h,o),T=Math.exp(-x);return kx-y/v*T},i=h=>{const x=h*o*t,y=x*r+r,v=Math.pow(o,2)*Math.pow(h,2)*t,T=Math.exp(-x),w=wy(Math.pow(h,2),o);return(-s(h)+kx>0?-1:1)*((y-v)*T)/w}):(s=h=>{const p=Math.exp(-h*t),x=(h-r)*t+1;return-kx+p*x},i=h=>{const p=Math.exp(-h*t),x=(r-h)*(t*t);return p*x});const u=5/t,d=wM(s,i,u);if(t=Ji(t),isNaN(d))return{stiffness:zr.stiffness,damping:zr.damping,duration:t};{const h=Math.pow(d,2)*n;return{stiffness:h,damping:o*2*Math.sqrt(n*h),duration:t}}}const bM=12;function wM(t,e,r){let n=r;for(let s=1;s<bM;s++)n=n-t(n)/e(n);return n}function wy(t,e){return t*Math.sqrt(1-e*e)}const _M=["duration","bounce"],EM=["stiffness","damping","mass"];function j4(t,e){return e.some(r=>t[r]!==void 0)}function TM(t){let e={velocity:zr.velocity,stiffness:zr.stiffness,damping:zr.damping,mass:zr.mass,isResolvedFromDuration:!1,...t};if(!j4(t,EM)&&j4(t,_M))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*Va(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:zr.mass,stiffness:s,damping:i}}else{const r=vM(t);e={...e,...r,mass:zr.mass},e.isResolvedFromDuration=!0}return e}function xp(t=zr.visualDuration,e=zr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],u={done:!1,value:i},{stiffness:d,damping:h,mass:p,duration:x,velocity:y,isResolvedFromDuration:v}=TM({...r,velocity:-Zi(r.velocity||0)}),T=y||0,w=h/(2*Math.sqrt(d*p)),_=o-i,C=Zi(Math.sqrt(d/p)),j=Math.abs(_)<5;n||(n=j?zr.restSpeed.granular:zr.restSpeed.default),s||(s=j?zr.restDelta.granular:zr.restDelta.default);let O;if(w<1){const Y=wy(C,w);O=ne=>{const A=Math.exp(-w*C*ne);return o-A*((T+w*C*_)/Y*Math.sin(Y*ne)+_*Math.cos(Y*ne))}}else if(w===1)O=Y=>o-Math.exp(-C*Y)*(_+(T+C*_)*Y);else{const Y=C*Math.sqrt(w*w-1);O=ne=>{const A=Math.exp(-w*C*ne),S=Math.min(Y*ne,300);return o-A*((T+w*C*_)*Math.sinh(S)+Y*_*Math.cosh(S))/Y}}const M={calculatedDuration:v&&x||null,next:Y=>{const ne=O(Y);if(v)u.done=Y>=x;else{let A=Y===0?T:0;w<1&&(A=Y===0?Ji(T):ES(O,Y,ne));const S=Math.abs(A)<=n,I=Math.abs(o-ne)<=s;u.done=S&&I}return u.value=u.done?o:ne,u},toString:()=>{const Y=Math.min(Nv(M),gp),ne=_S(A=>M.next(Y*A).value,Y,30);return Y+"ms "+ne},toTransition:()=>{}};return M}xp.applyToOptions=t=>{const e=xM(t,100,xp);return t.ease=e.ease,t.duration=Ji(e.duration),t.type="keyframes",t};function _y({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:u,max:d,restDelta:h=.5,restSpeed:p}){const x=t[0],y={done:!1,value:x},v=S=>u!==void 0&&S<u||d!==void 0&&S>d,T=S=>u===void 0?d:d===void 0||Math.abs(u-S)<Math.abs(d-S)?u:d;let w=r*e;const _=x+w,C=o===void 0?_:o(_);C!==_&&(w=C-x);const j=S=>-w*Math.exp(-S/n),O=S=>C+j(S),M=S=>{const I=j(S),V=O(S);y.done=Math.abs(I)<=h,y.value=y.done?C:V};let Y,ne;const A=S=>{v(y.value)&&(Y=S,ne=xp({keyframes:[y.value,T(y.value)],velocity:ES(O,S,y.value),damping:s,stiffness:i,restDelta:h,restSpeed:p}))};return A(0),{calculatedDuration:null,next:S=>{let I=!1;return!ne&&Y===void 0&&(I=!0,M(S),A(S)),Y!==void 0&&S>=Y?ne.next(S-Y):(!I&&M(S),y)}}}function NM(t,e,r){const n=[],s=r||$a.mix||wS,i=t.length-1;for(let o=0;o<i;o++){let u=s(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||ri:e;u=M0(d,u)}n.push(u)}return n}function kM(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const i=t.length;if(mv(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=NM(e,n,s),d=u.length,h=p=>{if(o&&p<t[0])return e[0];let x=0;if(d>1)for(;x<t.length-2&&!(p<t[x+1]);x++);const y=s0(t[x],t[x+1],p);return u[x](y)};return r?p=>h(Va(t[0],t[i-1],p)):h}function SM(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=s0(0,e,n);t.push(Lr(r,1,s))}}function AM(t){const e=[0];return SM(e,t.length-1),e}function CM(t,e){return t.map(r=>r*e)}function IM(t,e){return t.map(()=>e||dS).splice(0,t.length-1)}function Fd({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=BL(n)?n.map(S4):S4(n),i={done:!1,value:e[0]},o=CM(r&&r.length===e.length?r:AM(e),t),u=kM(o,e,{ease:Array.isArray(s)?s:IM(e,s)});return{calculatedDuration:t,next:d=>(i.value=u(d),i.done=d>=t,i)}}const PM=t=>t!==null;function kv(t,{repeat:e,repeatType:r="loop"},n,s=1){const i=t.filter(PM),u=s<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!u||n===void 0?i[u]:n}const RM={decay:_y,inertia:_y,tween:Fd,keyframes:Fd,spring:xp};function TS(t){typeof t.type=="string"&&(t.type=RM[t.type])}class Sv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const jM=t=>t/100;class Av extends Sv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{if(r){const{motionValue:n}=this.options;n&&n.updatedAt!==vs.now()&&this.tick(vs.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;TS(e);const{type:r=Fd,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:u}=e;const d=r||Fd;d!==Fd&&typeof u[0]!="number"&&(this.mixKeyframes=M0(jM,wS(u[0],u[1])),u=[0,100]);const h=d({...e,keyframes:u});i==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...u].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=Nv(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=h}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:p,repeat:x,repeatType:y,repeatDelay:v,type:T,onUpdate:w,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const C=this.currentTime-h*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?C<0:C>s;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let O=this.currentTime,M=n;if(x){const S=Math.min(this.currentTime,s)/u;let I=Math.floor(S),V=S%1;!V&&S>=1&&(V=1),V===1&&I--,I=Math.min(I,x+1),!!(I%2)&&(y==="reverse"?(V=1-V,v&&(V-=v/u)):y==="mirror"&&(M=o)),O=Va(0,1,V)*u}const Y=j?{done:!1,value:p[0]}:M.next(O);i&&(Y.value=i(Y.value));let{done:ne}=Y;!j&&d!==null&&(ne=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return A&&T!==_y&&(Y.value=kv(p,this.options,_,this.speed)),w&&w(Y.value),A&&this.finish(),Y}then(e,r){return this.finished.then(e,r)}get duration(){return Zi(this.calculatedDuration)}get time(){return Zi(this.currentTime)}set time(e){e=Ji(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(vs.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Zi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=gM,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function DM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const _l=t=>t*180/Math.PI,Ey=t=>{const e=_l(Math.atan2(t[1],t[0]));return Ty(e)},OM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ey,rotateZ:Ey,skewX:t=>_l(Math.atan(t[1])),skewY:t=>_l(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ty=t=>(t=t%360,t<0&&(t+=360),t),D4=Ey,O4=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),F4=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),FM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:O4,scaleY:F4,scale:t=>(O4(t)+F4(t))/2,rotateX:t=>Ty(_l(Math.atan2(t[6],t[5]))),rotateY:t=>Ty(_l(Math.atan2(-t[2],t[0]))),rotateZ:D4,rotate:D4,skewX:t=>_l(Math.atan(t[4])),skewY:t=>_l(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ny(t){return t.includes("scale")?1:0}function ky(t,e){if(!t||t==="none")return Ny(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=FM,s=r;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=OM,s=u}if(!s)return Ny(e);const i=n[e],o=s[1].split(",").map(MM);return typeof i=="function"?i(o):o[i]}const LM=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return ky(r,e)};function MM(t){return parseFloat(t.trim())}const Pu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ru=new Set(Pu),L4=t=>t===Iu||t===Ct,VM=new Set(["x","y","z"]),$M=Pu.filter(t=>!VM.has(t));function BM(t){const e=[];return $M.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Tl={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ky(e,"x"),y:(t,{transform:e})=>ky(e,"y")};Tl.translateX=Tl.x;Tl.translateY=Tl.y;const Nl=new Set;let Sy=!1,Ay=!1,Cy=!1;function NS(){if(Ay){const t=Array.from(Nl).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=BM(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{n.getValue(i)?.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Ay=!1,Sy=!1,Nl.forEach(t=>t.complete(Cy)),Nl.clear()}function kS(){Nl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ay=!0)})}function UM(){Cy=!0,kS(),NS(),Cy=!1}class Cv{constructor(e,r,n,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Nl.add(this),Sy||(Sy=!0,Mr.read(kS),Mr.resolveKeyframes(NS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const i=s?.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const u=n.readValue(r,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}DM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Nl.delete(this)}cancel(){this.state==="scheduled"&&(Nl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const zM=t=>t.startsWith("--");function HM(t,e,r){zM(e)?t.style.setProperty(e,r):t.style[e]=r}const WM=gv(()=>window.ScrollTimeline!==void 0),qM={};function GM(t,e){const r=gv(t);return()=>qM[e]??r()}const SS=GM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nd=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,M4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nd([0,.65,.55,1]),circOut:Nd([.55,0,1,.45]),backIn:Nd([.31,.01,.66,-.59]),backOut:Nd([.33,1.53,.69,.99])};function AS(t,e){if(t)return typeof t=="function"?SS()?_S(t,e):"ease-out":hS(t)?Nd(t):Array.isArray(t)?t.map(r=>AS(r,e)||M4.easeOut):M4[t]}function KM(t,e,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:u="easeOut",times:d}={},h=void 0){const p={[e]:r};d&&(p.offset=d);const x=AS(u,s);Array.isArray(x)&&(p.easing=x);const y={delay:n,duration:s,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),t.animate(p,y)}function CS(t){return typeof t=="function"&&"applyToOptions"in t}function XM({type:t,...e}){return CS(t)&&SS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class YM extends Sv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:u,onComplete:d}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,mv(typeof e.type!="string");const h=XM(e);this.animation=KM(r,n,s,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=kv(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):HM(r,n,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Zi(Number(e))}get time(){return Zi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ji(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&WM()?(this.animation.timeline=e,ri):r(this)}}const IS={anticipate:lS,backInOut:oS,circInOut:uS};function QM(t){return t in IS}function JM(t){typeof t.ease=="string"&&QM(t.ease)&&(t.ease=IS[t.ease])}const V4=10;class ZM extends YM{constructor(e){JM(e),TS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const u=new Av({...o,autoplay:!1}),d=Ji(this.finishedTime??this.time);r.setWithVelocity(u.sample(d-V4).value,u.sample(d).value,V4),u.stop()}}const $4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($o.test(t)||t==="0")&&!t.startsWith("url("));function eV(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function tV(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=$4(s,e),u=$4(i,e);return!o||!u?!1:eV(t)||(r==="spring"||CS(r))&&n}function Iv(t){return eS(t)&&"offsetHeight"in t}const rV=new Set(["opacity","clipPath","filter","transform"]),nV=gv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function sV(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:i,type:o}=t;if(!Iv(e?.owner?.current))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return nV()&&r&&rV.has(r)&&(r!=="transform"||!d)&&!u&&!n&&s!=="mirror"&&i!==0&&o!=="inertia"}const iV=40;class aV extends Sv{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:u,name:d,motionValue:h,element:p,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=vs.now();const y={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,name:d,motionValue:h,element:p,...x},v=p?.KeyframeResolver||Cv;this.keyframeResolver=new v(u,(T,w,_)=>this.onKeyframesResolved(T,w,y,!_),d,h,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:u,delay:d,isHandoff:h,onUpdate:p}=n;this.resolvedAt=vs.now(),tV(e,i,o,u)||(($a.instantAnimations||!d)&&p?.(kv(e,n,r)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>iV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},v=!h&&sV(y)?new ZM({...y,element:y.motionValue.owner.current}):new Av(y);v.finished.then(()=>this.notifyFinished()).catch(ri),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),UM()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const oV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lV(t){const e=oV.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function PS(t,e,r=1){const[n,s]=lV(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return Zk(o)?parseFloat(o):o}return wv(s)?PS(s,e,r+1):s}function Pv(t,e){return t?.[e]??t?.default??t}const RS=new Set(["width","height","top","left","right","bottom",...Pu]),cV={test:t=>t==="auto",parse:t=>t},jS=t=>e=>e.test(t),DS=[Iu,Ct,ea,yo,eM,ZL,cV],B4=t=>DS.find(jS(t));function uV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||tS(t):!0}const dV=new Set(["brightness","contrast","saturate","opacity"]);function hV(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(_v)||[];if(!n)return t;const s=r.replace(n,"");let i=dV.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+s+")"}const fV=/\b([a-z-]*)\(.*?\)/gu,Iy={...$o,getAnimatableNone:t=>{const e=t.match(fV);return e?e.map(hV).join(" "):t}},U4={...Iu,transform:Math.round},pV={rotate:yo,rotateX:yo,rotateY:yo,rotateZ:yo,scale:pf,scaleX:pf,scaleY:pf,scaleZ:pf,skew:yo,skewX:yo,skewY:yo,distance:Ct,translateX:Ct,translateY:Ct,translateZ:Ct,x:Ct,y:Ct,z:Ct,perspective:Ct,transformPerspective:Ct,opacity:i0,originX:C4,originY:C4,originZ:Ct},Rv={borderWidth:Ct,borderTopWidth:Ct,borderRightWidth:Ct,borderBottomWidth:Ct,borderLeftWidth:Ct,borderRadius:Ct,radius:Ct,borderTopLeftRadius:Ct,borderTopRightRadius:Ct,borderBottomRightRadius:Ct,borderBottomLeftRadius:Ct,width:Ct,maxWidth:Ct,height:Ct,maxHeight:Ct,top:Ct,right:Ct,bottom:Ct,left:Ct,padding:Ct,paddingTop:Ct,paddingRight:Ct,paddingBottom:Ct,paddingLeft:Ct,margin:Ct,marginTop:Ct,marginRight:Ct,marginBottom:Ct,marginLeft:Ct,backgroundPositionX:Ct,backgroundPositionY:Ct,...pV,zIndex:U4,fillOpacity:i0,strokeOpacity:i0,numOctaves:U4},mV={...Rv,color:Hn,backgroundColor:Hn,outlineColor:Hn,fill:Hn,stroke:Hn,borderColor:Hn,borderTopColor:Hn,borderRightColor:Hn,borderBottomColor:Hn,borderLeftColor:Hn,filter:Iy,WebkitFilter:Iy},OS=t=>mV[t];function FS(t,e){let r=OS(t);return r!==Iy&&(r=$o),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const gV=new Set(["auto","none","0"]);function xV(t,e,r){let n=0,s;for(;n<t.length&&!s;){const i=t[n];typeof i=="string"&&!gV.has(i)&&a0(i).values.length&&(s=t[n]),n++}if(s&&r)for(const i of e)t[i]=FS(r,s)}class yV extends Cv{constructor(e,r,n,s,i){super(e,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),wv(h))){const p=PS(h,r.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!RS.has(n)||e.length!==2)return;const[s,i]=e,o=B4(s),u=B4(i);if(o!==u)if(L4(o)&&L4(u))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Tl[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||uV(e[s]))&&n.push(s);n.length&&xV(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Tl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=Tl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function vV(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const s=r?.[t]??n.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const z4=30,bV=t=>!isNaN(parseFloat(t));class wV{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const i=vs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty();s&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=vs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=bV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new xv);const n=this.events[e].add(r);return e==="change"?()=>{n(),Mr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>z4)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,z4);return rS(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function du(t,e){return new wV(t,e)}const LS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:jv}=fS(queueMicrotask,!1),wi={x:!1,y:!1};function MS(){return wi.x||wi.y}function _V(t){return t==="x"||t==="y"?wi[t]?null:(wi[t]=!0,()=>{wi[t]=!1}):wi.x||wi.y?null:(wi.x=wi.y=!0,()=>{wi.x=wi.y=!1})}function VS(t,e){const r=vV(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function H4(t){return!(t.pointerType==="touch"||MS())}function EV(t,e,r={}){const[n,s,i]=VS(t,r),o=u=>{if(!H4(u))return;const{target:d}=u,h=e(d,u);if(typeof h!="function"||!d)return;const p=x=>{H4(x)&&(h(x),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,s)};return n.forEach(u=>{u.addEventListener("pointerenter",o,s)}),i}const $S=(t,e)=>e?t===e?!0:$S(t,e.parentElement):!1,Dv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,TV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NV(t){return TV.has(t.tagName)||t.tabIndex!==-1}const Vf=new WeakSet;function W4(t){return e=>{e.key==="Enter"&&t(e)}}function Sx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const kV=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=W4(()=>{if(Vf.has(r))return;Sx(r,"down");const s=W4(()=>{Sx(r,"up")}),i=()=>Sx(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function q4(t){return Dv(t)&&!MS()}function SV(t,e,r={}){const[n,s,i]=VS(t,r),o=u=>{const d=u.currentTarget;if(!q4(u))return;Vf.add(d);const h=e(d,u),p=(v,T)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",y),Vf.has(d)&&Vf.delete(d),q4(v)&&typeof h=="function"&&h(v,{success:T})},x=v=>{p(v,d===window||d===document||r.useGlobalTarget||$S(d,v.target))},y=v=>{p(v,!1)};window.addEventListener("pointerup",x,s),window.addEventListener("pointercancel",y,s)};return n.forEach(u=>{(r.useGlobalTarget?window:u).addEventListener("pointerdown",o,s),Iv(u)&&(u.addEventListener("focus",h=>kV(h,s)),!NV(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function BS(t){return eS(t)&&"ownerSVGElement"in t}function AV(t){return BS(t)&&t.tagName==="svg"}const Gn=t=>!!(t&&t.getVelocity),CV=[...DS,Hn,$o],IV=t=>CV.find(jS(t)),Ov=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class PV extends k.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=Iv(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function RV({children:t,isPresent:e,anchorX:r}){const n=k.useId(),s=k.useRef(null),i=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=k.useContext(Ov);return k.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:p,right:x}=i.current;if(e||!s.current||!u||!d)return;const y=r==="left"?`left: ${p}`:`right: ${x}`;s.current.dataset.motionPopId=n;const v=document.createElement("style");return o&&(v.nonce=o),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.contains(v)&&document.head.removeChild(v)}},[e]),l.jsx(PV,{isPresent:e,childRef:s,sizeRef:i,children:k.cloneElement(t,{ref:s})})}const jV=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o,anchorX:u})=>{const d=dv(DV),h=k.useId();let p=!0,x=k.useMemo(()=>(p=!1,{id:h,initial:e,isPresent:r,custom:s,onExitComplete:y=>{d.set(y,!0);for(const v of d.values())if(!v)return;n&&n()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[r,d,n]);return i&&p&&(x={...x}),k.useMemo(()=>{d.forEach((y,v)=>d.set(v,!1))},[r]),k.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(t=l.jsx(RV,{isPresent:r,anchorX:u,children:t})),l.jsx(gm.Provider,{value:x,children:t})};function DV(){return new Map}function US(t=!0){const e=k.useContext(gm);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,i=k.useId();k.useEffect(()=>{if(t)return s(i)},[t]);const o=k.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,o]:[!0]}const mf=t=>t.key||"";function G4(t){const e=[];return k.Children.forEach(t,r=>{k.isValidElement(r)&&e.push(r)}),e}const bn=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:u="left"})=>{const[d,h]=US(o),p=k.useMemo(()=>G4(t),[t]),x=o&&!d?[]:p.map(mf),y=k.useRef(!0),v=k.useRef(p),T=dv(()=>new Map),[w,_]=k.useState(p),[C,j]=k.useState(p);Jk(()=>{y.current=!1,v.current=p;for(let Y=0;Y<C.length;Y++){const ne=mf(C[Y]);x.includes(ne)?T.delete(ne):T.get(ne)!==!0&&T.set(ne,!1)}},[C,x.length,x.join("-")]);const O=[];if(p!==w){let Y=[...p];for(let ne=0;ne<C.length;ne++){const A=C[ne],S=mf(A);x.includes(S)||(Y.splice(ne,0,A),O.push(A))}return i==="wait"&&O.length&&(Y=O),j(G4(Y)),_(p),null}const{forceRender:M}=k.useContext(uv);return l.jsx(l.Fragment,{children:C.map(Y=>{const ne=mf(Y),A=o&&!d?!1:p===C||x.includes(ne),S=()=>{if(T.has(ne))T.set(ne,!0);else return;let I=!0;T.forEach(V=>{V||(I=!1)}),I&&(M?.(),j(v.current),o&&h?.(),n&&n())};return l.jsx(jV,{isPresent:A,initial:!y.current||r?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,onExitComplete:A?void 0:S,anchorX:u,children:Y},ne)})})},zS=k.createContext({strict:!1}),K4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hu={};for(const t in K4)hu[t]={isEnabled:e=>K4[t].some(r=>!!e[r])};function OV(t){for(const e in t)hu[e]={...hu[e],...t[e]}}const FV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||FV.has(t)}let HS=t=>!yp(t);function LV(t){t&&(HS=e=>e.startsWith("on")?!yp(e):t(e))}try{LV(require("@emotion/is-prop-valid").default)}catch{}function MV(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(HS(s)||r===!0&&yp(s)||!e&&!yp(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}function VV(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const xm=k.createContext({});function ym(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function o0(t){return typeof t=="string"||Array.isArray(t)}const Fv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lv=["initial",...Fv];function vm(t){return ym(t.animate)||Lv.some(e=>o0(t[e]))}function WS(t){return!!(vm(t)||t.variants)}function $V(t,e){if(vm(t)){const{initial:r,animate:n}=t;return{initial:r===!1||o0(r)?r:void 0,animate:o0(n)?n:void 0}}return t.inherit!==!1?e:{}}function BV(t){const{initial:e,animate:r}=$V(t,k.useContext(xm));return k.useMemo(()=>({initial:e,animate:r}),[X4(e),X4(r)])}function X4(t){return Array.isArray(t)?t.join(" "):t}const UV=Symbol.for("motionComponentSymbol");function qc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zV(t,e,r){return k.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):qc(r)&&(r.current=n))},[e])}const Mv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),HV="framerAppearId",qS="data-"+Mv(HV),GS=k.createContext({});function WV(t,e,r,n,s){const{visualElement:i}=k.useContext(xm),o=k.useContext(zS),u=k.useContext(gm),d=k.useContext(Ov).reducedMotion,h=k.useRef(null);n=n||o.renderer,!h.current&&n&&(h.current=n(t,{visualState:e,parent:i,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,x=k.useContext(GS);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&qV(h.current,r,s,x);const y=k.useRef(!1);k.useInsertionEffect(()=>{p&&y.current&&p.update(r,u)});const v=r[qS],T=k.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return Jk(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),jv.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),k.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),T.current=!1))}),p}function qV(t,e,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:u,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:KS(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||u&&qc(u),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:d,layoutRoot:h})}function KS(t){if(t)return t.options.allowProjection!==!1?t.projection:KS(t.parent)}function GV({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:s}){t&&OV(t);function i(u,d){let h;const p={...k.useContext(Ov),...u,layoutId:KV(u)},{isStatic:x}=p,y=BV(u),v=n(u,x);if(!x&&hv){XV();const T=YV(p);h=T.MeasureLayout,y.visualElement=WV(s,v,p,e,T.ProjectionNode)}return l.jsxs(xm.Provider,{value:y,children:[h&&y.visualElement?l.jsx(h,{visualElement:y.visualElement,...p}):null,r(s,u,zV(v,y.visualElement,d),v,x,y.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=k.forwardRef(i);return o[UV]=s,o}function KV({layoutId:t}){const e=k.useContext(uv).id;return e&&t!==void 0?e+"-"+t:t}function XV(t,e){k.useContext(zS).strict}function YV(t){const{drag:e,layout:r}=hu;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const l0={};function QV(t){for(const e in t)l0[e]=t[e],bv(e)&&(l0[e].isCSSVariable=!0)}function XS(t,{layout:e,layoutId:r}){return Ru.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!l0[t]||t==="opacity")}const JV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZV=Pu.length;function e$(t,e,r){let n="",s=!0;for(let i=0;i<ZV;i++){const o=Pu[i],u=t[o];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(o.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||r){const h=LS(u,Rv[o]);if(!d){s=!1;const p=JV[o]||o;n+=`${p}(${h}) `}r&&(e[o]=h)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function Vv(t,e,r){const{style:n,vars:s,transformOrigin:i}=t;let o=!1,u=!1;for(const d in e){const h=e[d];if(Ru.has(d)){o=!0;continue}else if(bv(d)){s[d]=h;continue}else{const p=LS(h,Rv[d]);d.startsWith("origin")?(u=!0,i[d]=p):n[d]=p}}if(e.transform||(o||r?n.transform=e$(e,t.transform,r):n.transform&&(n.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:p=0}=i;n.transformOrigin=`${d} ${h} ${p}`}}const $v=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function YS(t,e,r){for(const n in e)!Gn(e[n])&&!XS(n,r)&&(t[n]=e[n])}function t$({transformTemplate:t},e){return k.useMemo(()=>{const r=$v();return Vv(r,e,t),Object.assign({},r.vars,r.style)},[e])}function r$(t,e){const r=t.style||{},n={};return YS(n,r,t),Object.assign(n,t$(t,e)),n}function n$(t,e){const r={},n=r$(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const s$={offset:"stroke-dashoffset",array:"stroke-dasharray"},i$={offset:"strokeDashoffset",array:"strokeDasharray"};function a$(t,e,r=1,n=0,s=!0){t.pathLength=1;const i=s?s$:i$;t[i.offset]=Ct.transform(-n);const o=Ct.transform(e),u=Ct.transform(r);t[i.array]=`${o} ${u}`}function QS(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...u},d,h,p){if(Vv(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:y}=t;x.transform&&(y.transform=x.transform,delete x.transform),(y.transform||x.transformOrigin)&&(y.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),r!==void 0&&(x.y=r),n!==void 0&&(x.scale=n),s!==void 0&&a$(x,s,i,o,!1)}const JS=()=>({...$v(),attrs:{}}),ZS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function o$(t,e,r,n){const s=k.useMemo(()=>{const i=JS();return QS(i,e,ZS(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};YS(i,t.style,t),s.style={...i,...s.style}}return s}const l$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bv(t){return typeof t!="string"||t.includes("-")?!1:!!(l$.indexOf(t)>-1||/[A-Z]/u.test(t))}function c$(t=!1){return(r,n,s,{latestValues:i},o)=>{const d=(Bv(r)?o$:n$)(n,i,o,r),h=MV(n,typeof r=="string",t),p=r!==k.Fragment?{...h,...d,ref:s}:{},{children:x}=n,y=k.useMemo(()=>Gn(x)?x.get():x,[x]);return k.createElement(r,{...p,children:y})}}function Y4(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Uv(t,e,r,n){if(typeof e=="function"){const[s,i]=Y4(n);e=e(r!==void 0?r:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Y4(n);e=e(r!==void 0?r:t.custom,s,i)}return e}function $f(t){return Gn(t)?t.get():t}function u$({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:d$(r,n,s,t),renderState:e()}}const eA=t=>(e,r)=>{const n=k.useContext(xm),s=k.useContext(gm),i=()=>u$(t,e,n,s);return r?i():dv(i)};function d$(t,e,r,n){const s={},i=n(t,{});for(const y in i)s[y]=$f(i[y]);let{initial:o,animate:u}=t;const d=vm(t),h=WS(t);e&&h&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),u===void 0&&(u=e.animate));let p=r?r.initial===!1:!1;p=p||o===!1;const x=p?u:o;if(x&&typeof x!="boolean"&&!ym(x)){const y=Array.isArray(x)?x:[x];for(let v=0;v<y.length;v++){const T=Uv(t,y[v]);if(T){const{transitionEnd:w,transition:_,...C}=T;for(const j in C){let O=C[j];if(Array.isArray(O)){const M=p?O.length-1:0;O=O[M]}O!==null&&(s[j]=O)}for(const j in w)s[j]=w[j]}}}return s}function zv(t,e,r){const{style:n}=t,s={};for(const i in n)(Gn(n[i])||e.style&&Gn(e.style[i])||XS(i,t)||r?.getValue(i)?.liveStyle!==void 0)&&(s[i]=n[i]);return s}const h$={useVisualState:eA({scrapeMotionValuesFromProps:zv,createRenderState:$v})};function tA(t,e,r){const n=zv(t,e,r);for(const s in t)if(Gn(t[s])||Gn(e[s])){const i=Pu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=t[s]}return n}const f$={useVisualState:eA({scrapeMotionValuesFromProps:tA,createRenderState:JS})};function p$(t,e){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Bv(n)?f$:h$,preloadedFeatures:t,useRender:c$(s),createVisualElement:e,Component:n};return GV(o)}}function c0(t,e,r){const n=t.getProps();return Uv(n,e,r!==void 0?r:n.custom,t)}const Py=t=>Array.isArray(t);function m$(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,du(r))}function g$(t){return Py(t)?t[t.length-1]||0:t}function x$(t,e){const r=c0(t,e);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const u=g$(i[o]);m$(t,o,u)}}function y$(t){return!!(Gn(t)&&t.add)}function Ry(t,e){const r=t.getValue("willChange");if(y$(r))return r.add(e);if(!r&&$a.WillChange){const n=new $a.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function rA(t){return t.props[qS]}const v$=t=>t!==null;function b$(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(v$),i=e&&r!=="loop"&&e%2===1?0:s.length-1;return s[i]}const w$={type:"spring",stiffness:500,damping:25,restSpeed:10},_$=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),E$={type:"keyframes",duration:.8},T$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},N$=(t,{keyframes:e})=>e.length>2?E$:Ru.has(t)?t.startsWith("scale")?_$(e[1]):w$:T$;function k$({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:u,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const Hv=(t,e,r,n={},s,i)=>o=>{const u=Pv(n,t)||{},d=u.delay||n.delay||0;let{elapsed:h=0}=n;h=h-Ji(d);const p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:i?void 0:s};k$(u)||Object.assign(p,N$(t,p)),p.duration&&(p.duration=Ji(p.duration)),p.repeatDelay&&(p.repeatDelay=Ji(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let x=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(x=!0)),($a.instantAnimations||$a.skipAnimations)&&(x=!0,p.duration=0,p.delay=0),p.allowFlatten=!u.type&&!u.ease,x&&!i&&e.get()!==void 0){const y=b$(p.keyframes,u);if(y!==void 0){Mr.update(()=>{p.onUpdate(y),p.onComplete()});return}}return u.isSync?new Av(p):new aV(p)};function S$({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function nA(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...u}=e;n&&(i=n);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const x=t.getValue(p,t.latestValues[p]??null),y=u[p];if(y===void 0||h&&S$(h,p))continue;const v={delay:r,...Pv(i||{},p)},T=x.get();if(T!==void 0&&!x.isAnimating&&!Array.isArray(y)&&y===T&&!v.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const C=rA(t);if(C){const j=window.MotionHandoffAnimation(C,p,Mr);j!==null&&(v.startTime=j,w=!0)}}Ry(t,p),x.start(Hv(p,x,y,t.shouldReduceMotion&&RS.has(p)?{type:!1}:v,t,w));const _=x.animation;_&&d.push(_)}return o&&Promise.all(d).then(()=>{Mr.update(()=>{o&&x$(t,o)})}),d}function jy(t,e,r={}){const n=c0(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(nA(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:x}=s;return A$(t,e,h+d,p,x,r)}:()=>Promise.resolve(),{when:u}=s;if(u){const[d,h]=u==="beforeChildren"?[i,o]:[o,i];return d().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function A$(t,e,r=0,n=0,s=1,i){const o=[],u=(t.variantChildren.size-1)*n,d=s===1?(h=0)=>h*n:(h=0)=>u-h*n;return Array.from(t.variantChildren).sort(C$).forEach((h,p)=>{h.notify("AnimationStart",e),o.push(jy(h,e,{...i,delay:r+d(p)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(o)}function C$(t,e){return t.sortNodePosition(e)}function I$(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(i=>jy(t,i,r));n=Promise.all(s)}else if(typeof e=="string")n=jy(t,e,r);else{const s=typeof e=="function"?c0(t,e,r.custom):e;n=Promise.all(nA(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function sA(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const P$=Lv.length;function iA(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?iA(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<P$;r++){const n=Lv[r],s=t.props[n];(o0(s)||s===!1)&&(e[n]=s)}return e}const R$=[...Fv].reverse(),j$=Fv.length;function D$(t){return e=>Promise.all(e.map(({animation:r,options:n})=>I$(t,r,n)))}function O$(t){let e=D$(t),r=Q4(),n=!0;const s=d=>(h,p)=>{const x=c0(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(x){const{transition:y,transitionEnd:v,...T}=x;h={...h,...T,...v}}return h};function i(d){e=d(t)}function o(d){const{props:h}=t,p=iA(t.parent)||{},x=[],y=new Set;let v={},T=1/0;for(let _=0;_<j$;_++){const C=R$[_],j=r[C],O=h[C]!==void 0?h[C]:p[C],M=o0(O),Y=C===d?j.isActive:null;Y===!1&&(T=_);let ne=O===p[C]&&O!==h[C]&&M;if(ne&&n&&t.manuallyAnimateOnMount&&(ne=!1),j.protectedKeys={...v},!j.isActive&&Y===null||!O&&!j.prevProp||ym(O)||typeof O=="boolean")continue;const A=F$(j.prevProp,O);let S=A||C===d&&j.isActive&&!ne&&M||_>T&&M,I=!1;const V=Array.isArray(O)?O:[O];let B=V.reduce(s(C),{});Y===!1&&(B={});const{prevResolvedValues:H={}}=j,D={...H,...B},ae=ke=>{S=!0,y.has(ke)&&(I=!0,y.delete(ke)),j.needsAnimating[ke]=!0;const ce=t.getValue(ke);ce&&(ce.liveStyle=!1)};for(const ke in D){const ce=B[ke],ye=H[ke];if(v.hasOwnProperty(ke))continue;let be=!1;Py(ce)&&Py(ye)?be=!sA(ce,ye):be=ce!==ye,be?ce!=null?ae(ke):y.add(ke):ce!==void 0&&y.has(ke)?ae(ke):j.protectedKeys[ke]=!0}j.prevProp=O,j.prevResolvedValues=B,j.isActive&&(v={...v,...B}),n&&t.blockInitialAnimation&&(S=!1),S&&(!(ne&&A)||I)&&x.push(...V.map(ke=>({animation:ke,options:{type:C}})))}if(y.size){const _={};if(typeof h.initial!="boolean"){const C=c0(t,Array.isArray(h.initial)?h.initial[0]:h.initial);C&&C.transition&&(_.transition=C.transition)}y.forEach(C=>{const j=t.getBaseTarget(C),O=t.getValue(C);O&&(O.liveStyle=!0),_[C]=j??null}),x.push({animation:_})}let w=!!x.length;return n&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(x):Promise.resolve()}function u(d,h){if(r[d].isActive===h)return Promise.resolve();t.variantChildren?.forEach(x=>x.animationState?.setActive(d,h)),r[d].isActive=h;const p=o(d);for(const x in r)r[x].protectedKeys={};return p}return{animateChanges:o,setActive:u,setAnimateFunction:i,getState:()=>r,reset:()=>{r=Q4(),n=!0}}}function F$(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sA(e,t):!1}function ml(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Q4(){return{animate:ml(!0),whileInView:ml(),whileHover:ml(),whileTap:ml(),whileDrag:ml(),whileFocus:ml(),exit:ml()}}class Xo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class L$ extends Xo{constructor(e){super(e),e.animationState||(e.animationState=O$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ym(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let M$=0;class V$ extends Xo{constructor(){super(...arguments),this.id=M$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const $$={animation:{Feature:L$},exit:{Feature:V$}};function u0(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function B0(t){return{point:{x:t.pageX,y:t.pageY}}}const B$=t=>e=>Dv(e)&&t(e,B0(e));function Ld(t,e,r,n){return u0(t,e,B$(r),n)}function aA({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function U$({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function z$(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const oA=1e-4,H$=1-oA,W$=1+oA,lA=.01,q$=0-lA,G$=0+lA;function as(t){return t.max-t.min}function K$(t,e,r){return Math.abs(t-e)<=r}function J4(t,e,r,n=.5){t.origin=n,t.originPoint=Lr(e.min,e.max,t.origin),t.scale=as(r)/as(e),t.translate=Lr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=H$&&t.scale<=W$||isNaN(t.scale))&&(t.scale=1),(t.translate>=q$&&t.translate<=G$||isNaN(t.translate))&&(t.translate=0)}function Md(t,e,r,n){J4(t.x,e.x,r.x,n?n.originX:void 0),J4(t.y,e.y,r.y,n?n.originY:void 0)}function Z4(t,e,r){t.min=r.min+e.min,t.max=t.min+as(e)}function X$(t,e,r){Z4(t.x,e.x,r.x),Z4(t.y,e.y,r.y)}function eE(t,e,r){t.min=e.min-r.min,t.max=t.min+as(e)}function Vd(t,e,r){eE(t.x,e.x,r.x),eE(t.y,e.y,r.y)}const tE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gc=()=>({x:tE(),y:tE()}),rE=()=>({min:0,max:0}),Xr=()=>({x:rE(),y:rE()});function Zs(t){return[t("x"),t("y")]}function Ax(t){return t===void 0||t===1}function Dy({scale:t,scaleX:e,scaleY:r}){return!Ax(t)||!Ax(e)||!Ax(r)}function xl(t){return Dy(t)||cA(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cA(t){return nE(t.x)||nE(t.y)}function nE(t){return t&&t!=="0%"}function vp(t,e,r){const n=t-r,s=e*n;return r+s}function sE(t,e,r,n,s){return s!==void 0&&(t=vp(t,s,n)),vp(t,r,n)+e}function Oy(t,e=0,r=1,n,s){t.min=sE(t.min,e,r,n,s),t.max=sE(t.max,e,r,n,s)}function uA(t,{x:e,y:r}){Oy(t.x,e.translate,e.scale,e.originPoint),Oy(t.y,r.translate,r.scale,r.originPoint)}const iE=.999999999999,aE=1.0000000000001;function Y$(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let i,o;for(let u=0;u<s;u++){i=r[u],o=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Xc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,uA(t,o)),n&&xl(i.latestValues)&&Xc(t,i.latestValues))}e.x<aE&&e.x>iE&&(e.x=1),e.y<aE&&e.y>iE&&(e.y=1)}function Kc(t,e){t.min=t.min+e,t.max=t.max+e}function oE(t,e,r,n,s=.5){const i=Lr(t.min,t.max,s);Oy(t,e,r,i,n)}function Xc(t,e){oE(t.x,e.x,e.scaleX,e.scale,e.originX),oE(t.y,e.y,e.scaleY,e.scale,e.originY)}function dA(t,e){return aA(z$(t.getBoundingClientRect(),e))}function Q$(t,e,r){const n=dA(t,r),{scroll:s}=e;return s&&(Kc(n.x,s.offset.x),Kc(n.y,s.offset.y)),n}const hA=({current:t})=>t?t.ownerDocument.defaultView:null,lE=(t,e)=>Math.abs(t-e);function J$(t,e){const r=lE(t.x,e.x),n=lE(t.y,e.y);return Math.sqrt(r**2+n**2)}class fA{constructor(e,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Ix(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=J$(x.offset,{x:0,y:0})>=3;if(!y&&!v)return;const{point:T}=x,{timestamp:w}=An;this.history.push({...T,timestamp:w});const{onStart:_,onMove:C}=this.handlers;y||(_&&_(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,x)},this.handlePointerMove=(x,y)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Cx(y,this.transformPagePoint),Mr.update(this.updatePoint,!0)},this.handlePointerUp=(x,y)=>{this.end();const{onEnd:v,onSessionEnd:T,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Ix(x.type==="pointercancel"?this.lastMoveEventInfo:Cx(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(x,_),T&&T(x,_)},!Dv(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=B0(e),u=Cx(o,this.transformPagePoint),{point:d}=u,{timestamp:h}=An;this.history=[{...d,timestamp:h}];const{onSessionStart:p}=r;p&&p(e,Ix(u,this.history)),this.removeListeners=M0(Ld(this.contextWindow,"pointermove",this.handlePointerMove),Ld(this.contextWindow,"pointerup",this.handlePointerUp),Ld(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vo(this.updatePoint)}}function Cx(t,e){return e?{point:e(t.point)}:t}function cE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ix({point:t},e){return{point:t,delta:cE(t,pA(e)),offset:cE(t,Z$(e)),velocity:eB(e,.1)}}function Z$(t){return t[0]}function pA(t){return t[t.length-1]}function eB(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=pA(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>Ji(e)));)r--;if(!n)return{x:0,y:0};const i=Zi(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function tB(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Lr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Lr(r,t,n.max):Math.min(t,r)),t}function uE(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function rB(t,{top:e,left:r,bottom:n,right:s}){return{x:uE(t.x,r,s),y:uE(t.y,e,n)}}function dE(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function nB(t,e){return{x:dE(t.x,e.x),y:dE(t.y,e.y)}}function sB(t,e){let r=.5;const n=as(t),s=as(e);return s>n?r=s0(e.min,e.max-n,t.min):n>s&&(r=s0(t.min,t.max-s,e.min)),Va(0,1,r)}function iB(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Fy=.35;function aB(t=Fy){return t===!1?t=0:t===!0&&(t=Fy),{x:hE(t,"left","right"),y:hE(t,"top","bottom")}}function hE(t,e,r){return{min:fE(t,e),max:fE(t,r)}}function fE(t,e){return typeof t=="number"?t:t[e]||0}const oB=new WeakMap;class lB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xr(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(B0(p).point)},i=(p,x)=>{const{drag:y,dragPropagation:v,onDragStart:T}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_V(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zs(_=>{let C=this.getAxisMotionValue(_).get()||0;if(ea.test(C)){const{projection:j}=this.visualElement;if(j&&j.layout){const O=j.layout.layoutBox[_];O&&(C=as(O)*(parseFloat(C)/100))}}this.originPoint[_]=C}),T&&Mr.postRender(()=>T(p,x)),Ry(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(p,x)=>{const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:T,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:_}=x;if(v&&this.currentDirection===null){this.currentDirection=cB(_),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",x.point,_),this.updateAxis("y",x.point,_),this.visualElement.render(),w&&w(p,x)},u=(p,x)=>this.stop(p,x),d=()=>Zs(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new fA(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:hA(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Mr.postRender(()=>i(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!gf(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=tB(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&qc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=rB(n.layoutBox,e):this.constraints=!1,this.elastic=aB(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Zs(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=iB(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!qc(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Q$(n,s.root,this.visualElement.getTransformPagePoint());let o=nB(s.layout.layoutBox,i);if(r){const u=r(U$(o));this.hasMutatedConstraints=!!u,u&&(o=aA(u))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},h=Zs(p=>{if(!gf(p,r,this.currentDirection))return;let x=d&&d[p]||{};o&&(x={min:0,max:0});const y=s?200:1e6,v=s?40:1e7,T={type:"inertia",velocity:n?e[p]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...x};return this.startAxisValueAnimation(p,T)});return Promise.all(h).then(u)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Ry(this.visualElement,e),n.start(Hv(e,n,0,r,this.visualElement,!1))}stopAnimation(){Zs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zs(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Zs(r=>{const{drag:n}=this.getProps();if(!gf(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:u}=s.layout.layoutBox[r];i.set(e[r]-Lr(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!qc(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Zs(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const d=u.get();s[o]=sB({min:d,max:d},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Zs(o=>{if(!gf(o,e,null))return;const u=this.getAxisMotionValue(o),{min:d,max:h}=this.constraints[o];u.set(Lr(d,h,s[o]))})}addListeners(){if(!this.visualElement.current)return;oB.set(this.visualElement,this);const e=this.visualElement.current,r=Ld(e,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();qc(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Mr.read(n);const o=u0(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Zs(p=>{const x=this.getAxisMotionValue(p);x&&(this.originPoint[p]+=d[p].translate,x.set(x.get()+d[p].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Fy,dragMomentum:u=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:u}}}function gf(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function cB(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class uB extends Xo{constructor(e){super(e),this.removeGroupControls=ri,this.removeListeners=ri,this.controls=new lB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ri}unmount(){this.removeGroupControls(),this.removeListeners()}}const pE=t=>(e,r)=>{t&&Mr.postRender(()=>t(e,r))};class dB extends Xo{constructor(){super(...arguments),this.removePointerDownListener=ri}onPointerDown(e){this.session=new fA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:pE(e),onStart:pE(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&Mr.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ld(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const gd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ct.test(t))t=parseFloat(t);else return t;const r=mE(t,e.target.x),n=mE(t,e.target.y);return`${r}% ${n}%`}},hB={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=$o.parse(t);if(s.length>5)return n;const i=$o.createTransformer(t),o=typeof s[0]!="number"?1:0,u=r.x.scale*e.x,d=r.y.scale*e.y;s[0+o]/=u,s[1+o]/=d;const h=Lr(u,d,.5);return typeof s[2+o]=="number"&&(s[2+o]/=h),typeof s[3+o]=="number"&&(s[3+o]/=h),i(s)}};class fB extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=e;QV(pB),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Bf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,s||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Mr.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),jv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mA(t){const[e,r]=US(),n=k.useContext(uv);return l.jsx(fB,{...t,layoutGroup:n,switchLayoutGroup:k.useContext(GS),isPresent:e,safeToRemove:r})}const pB={borderRadius:{...gd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gd,borderTopRightRadius:gd,borderBottomLeftRadius:gd,borderBottomRightRadius:gd,boxShadow:hB};function mB(t,e,r){const n=Gn(t)?t:du(t);return n.start(Hv("",n,e,r)),n.animation}const gB=(t,e)=>t.depth-e.depth;class xB{constructor(){this.children=[],this.isDirty=!1}add(e){fv(this.children,e),this.isDirty=!0}remove(e){pv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(gB),this.isDirty=!1,this.children.forEach(e)}}function yB(t,e){const r=vs.now(),n=({timestamp:s})=>{const i=s-r;i>=e&&(Vo(n),t(i-e))};return Mr.setup(n,!0),()=>Vo(n)}const gA=["TopLeft","TopRight","BottomLeft","BottomRight"],vB=gA.length,gE=t=>typeof t=="string"?parseFloat(t):t,xE=t=>typeof t=="number"||Ct.test(t);function bB(t,e,r,n,s,i){s?(t.opacity=Lr(0,r.opacity??1,wB(n)),t.opacityExit=Lr(e.opacity??1,0,_B(n))):i&&(t.opacity=Lr(e.opacity??1,r.opacity??1,n));for(let o=0;o<vB;o++){const u=`border${gA[o]}Radius`;let d=yE(e,u),h=yE(r,u);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||xE(d)===xE(h)?(t[u]=Math.max(Lr(gE(d),gE(h),n),0),(ea.test(h)||ea.test(d))&&(t[u]+="%")):t[u]=h}(e.rotate||r.rotate)&&(t.rotate=Lr(e.rotate||0,r.rotate||0,n))}function yE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const wB=xA(0,.5,cS),_B=xA(.5,.95,ri);function xA(t,e,r){return n=>n<t?0:n>e?1:r(s0(t,e,n))}function vE(t,e){t.min=e.min,t.max=e.max}function Qs(t,e){vE(t.x,e.x),vE(t.y,e.y)}function bE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function wE(t,e,r,n,s){return t-=e,t=vp(t,1/r,n),s!==void 0&&(t=vp(t,1/s,n)),t}function EB(t,e=0,r=1,n=.5,s,i=t,o=t){if(ea.test(e)&&(e=parseFloat(e),e=Lr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let u=Lr(i.min,i.max,n);t===i&&(u-=e),t.min=wE(t.min,e,r,u,s),t.max=wE(t.max,e,r,u,s)}function _E(t,e,[r,n,s],i,o){EB(t,e[r],e[n],e[s],e.scale,i,o)}const TB=["x","scaleX","originX"],NB=["y","scaleY","originY"];function EE(t,e,r,n){_E(t.x,e,TB,r?r.x:void 0,n?n.x:void 0),_E(t.y,e,NB,r?r.y:void 0,n?n.y:void 0)}function TE(t){return t.translate===0&&t.scale===1}function yA(t){return TE(t.x)&&TE(t.y)}function NE(t,e){return t.min===e.min&&t.max===e.max}function kB(t,e){return NE(t.x,e.x)&&NE(t.y,e.y)}function kE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function vA(t,e){return kE(t.x,e.x)&&kE(t.y,e.y)}function SE(t){return as(t.x)/as(t.y)}function AE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class SB{constructor(){this.members=[]}add(e){fv(this.members,e),e.scheduleRender()}remove(e){if(pv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function AB(t,e,r){let n="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=r?.z||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:h,rotate:p,rotateX:x,rotateY:y,skewX:v,skewY:T}=r;h&&(n=`perspective(${h}px) ${n}`),p&&(n+=`rotate(${p}deg) `),x&&(n+=`rotateX(${x}deg) `),y&&(n+=`rotateY(${y}deg) `),v&&(n+=`skewX(${v}deg) `),T&&(n+=`skewY(${T}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(n+=`scale(${u}, ${d})`),n||"none"}const Px=["","X","Y","Z"],CB={visibility:"hidden"},IB=1e3;let PB=0;function Rx(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function bA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=rA(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Mr,!(s||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&bA(n)}function wA({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},u=e?.()){this.id=PB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(DB),this.nodes.forEach(VB),this.nodes.forEach($B),this.nodes.forEach(OB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new xB)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new xv),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const d=this.eventHandlers.get(o);d&&d.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=BS(o)&&!AV(o),this.instance=o;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||u)&&(this.isLayoutDirty=!0),t){let p;const x=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=yB(x,250),Bf.hasAnimatedSinceResize&&(Bf.hasAnimatedSinceResize=!1,this.nodes.forEach(IE))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:x,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||WB,{onLayoutAnimationStart:w,onLayoutAnimationComplete:_}=h.getProps(),C=!this.targetLayout||!vA(this.targetLayout,v),j=!x&&y;if(this.options.layoutRoot||this.resumeFrom||j||x&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,j);const O={...Pv(T,"layout"),onPlay:w,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else x||IE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(BB),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const x=this.path[p];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(CE);return}this.isUpdating||this.nodes.forEach(LB),this.isUpdating=!1,this.nodes.forEach(MB),this.nodes.forEach(RB),this.nodes.forEach(jB),this.clearAllSnapshots();const u=vs.now();An.delta=Va(0,1e3/60,u-An.timestamp),An.timestamp=u,An.isProcessing=!0,_x.update.process(An),_x.preRender.process(An),_x.render.process(An),An.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FB),this.sharedNodes.forEach(UB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!as(this.snapshot.measuredBox.x)&&!as(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!yA(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;o&&this.instance&&(u||xl(this.latestValues)||p)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return o&&(d=this.removeTransform(d)),qB(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Xr();const u=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(GB))){const{scroll:h}=this.root;h&&(Kc(u.x,h.offset.x),Kc(u.y,h.offset.y))}return u}removeElementScroll(o){const u=Xr();if(Qs(u,o),this.scroll?.wasRoot)return u;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:p,options:x}=h;h!==this.root&&p&&x.layoutScroll&&(p.wasRoot&&Qs(u,o),Kc(u.x,p.offset.x),Kc(u.y,p.offset.y))}return u}applyTransform(o,u=!1){const d=Xr();Qs(d,o);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Xc(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),xl(p.latestValues)&&Xc(d,p.latestValues)}return xl(this.latestValues)&&Xc(d,this.latestValues),d}removeTransform(o){const u=Xr();Qs(u,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!xl(h.latestValues))continue;Dy(h.latestValues)&&h.updateSnapshot();const p=Xr(),x=h.measurePageBox();Qs(p,x),EE(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return xl(this.latestValues)&&EE(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==An.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:x}=this.options;if(!(!this.layout||!(p||x))){if(this.resolvedRelativeTargetAt=An.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xr(),this.relativeTargetOrigin=Xr(),Vd(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xr(),this.targetWithTransforms=Xr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),X$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qs(this.target,this.layout.layoutBox),uA(this.target,this.targetDelta)):Qs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xr(),this.relativeTargetOrigin=Xr(),Vd(this.relativeTargetOrigin,this.target,y.target),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Dy(this.parent.latestValues)||cA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),u=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===An.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Qs(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,y=this.treeScale.y;Y$(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Xr());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bE(this.prevProjectionDelta.x,this.projectionDelta.x),bE(this.prevProjectionDelta.y,this.projectionDelta.y)),Md(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==y||!AE(this.projectionDelta.x,this.prevProjectionDelta.x)||!AE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gc(),this.projectionDelta=Gc(),this.projectionDeltaWithTransform=Gc()}setAnimationOrigin(o,u=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},x=Gc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=Xr(),v=d?d.source:void 0,T=this.layout?this.layout.source:void 0,w=v!==T,_=this.getStack(),C=!_||_.members.length<=1,j=!!(w&&!C&&this.options.crossfade===!0&&!this.path.some(HB));this.animationProgress=0;let O;this.mixTargetDelta=M=>{const Y=M/1e3;PE(x.x,o.x,Y),PE(x.y,o.y,Y),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vd(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zB(this.relativeTarget,this.relativeTargetOrigin,y,Y),O&&kB(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Xr()),Qs(O,this.relativeTarget)),w&&(this.animationValues=p,bB(p,h,this.latestValues,Y,j,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(!1),this.resumingFrom?.currentAnimation?.stop(!1),this.pendingAnimation&&(Vo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mr.update(()=>{Bf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=du(0)),this.currentAnimation=mB(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(IB),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:d,layout:h,latestValues:p}=o;if(!(!u||!d||!h)){if(this!==o&&this.layout&&h&&_A(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Xr();const x=as(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+x;const y=as(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+y}Qs(u,d),Xc(u,p),Md(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new SB),this.sharedNodes.get(o).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const h={};d.z&&Rx("z",o,h,this.animationValues);for(let p=0;p<Px.length;p++)Rx(`rotate${Px[p]}`,o,h,this.animationValues),Rx(`skew${Px[p]}`,o,h,this.animationValues);o.render();for(const p in h)o.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return CB;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=$f(o?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=$f(o?.pointerEvents)||""),this.hasProjected&&!xl(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=AB(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x,y}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in l0){if(p[v]===void 0)continue;const{correct:T,applyTo:w,isCSSVariable:_}=l0[v],C=u.transform==="none"?p[v]:T(p[v],h);if(w){const j=w.length;for(let O=0;O<j;O++)u[w[O]]=C}else _?this.options.visualElement.renderState.vars[v]=C:u[v]=C}return this.options.layoutId&&(u.pointerEvents=h===this?$f(o?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop(!1)),this.root.nodes.forEach(CE),this.root.sharedNodes.clear()}}}function RB(t){t.updateLayout()}function jB(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:s}=t.options,i=e.source!==t.layout.source;s==="size"?Zs(p=>{const x=i?e.measuredBox[p]:e.layoutBox[p],y=as(x);x.min=r[p].min,x.max=x.min+y}):_A(s,e.layoutBox,r)&&Zs(p=>{const x=i?e.measuredBox[p]:e.layoutBox[p],y=as(r[p]);x.max=x.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const o=Gc();Md(o,r,e.layoutBox);const u=Gc();i?Md(u,t.applyTransform(n,!0),e.measuredBox):Md(u,r,e.layoutBox);const d=!yA(o);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:x,layout:y}=p;if(x&&y){const v=Xr();Vd(v,e.layoutBox,x.layoutBox);const T=Xr();Vd(T,r,y.layoutBox),vA(v,T)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=v,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function DB(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function OB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function FB(t){t.clearSnapshot()}function CE(t){t.clearMeasurements()}function LB(t){t.isLayoutDirty=!1}function MB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function IE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function VB(t){t.resolveTargetDelta()}function $B(t){t.calcProjection()}function BB(t){t.resetSkewAndRotation()}function UB(t){t.removeLeadSnapshot()}function PE(t,e,r){t.translate=Lr(e.translate,0,r),t.scale=Lr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function RE(t,e,r,n){t.min=Lr(e.min,r.min,n),t.max=Lr(e.max,r.max,n)}function zB(t,e,r,n){RE(t.x,e.x,r.x,n),RE(t.y,e.y,r.y,n)}function HB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const WB={duration:.45,ease:[.4,0,.1,1]},jE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),DE=jE("applewebkit/")&&!jE("chrome/")?Math.round:ri;function OE(t){t.min=DE(t.min),t.max=DE(t.max)}function qB(t){OE(t.x),OE(t.y)}function _A(t,e,r){return t==="position"||t==="preserve-aspect"&&!K$(SE(e),SE(r),.2)}function GB(t){return t!==t.root&&t.scroll?.wasRoot}const KB=wA({attachResizeListener:(t,e)=>u0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jx={current:void 0},EA=wA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jx.current){const t=new KB({});t.mount(window),t.setOptions({layoutScroll:!0}),jx.current=t}return jx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),XB={pan:{Feature:dB},drag:{Feature:uB,ProjectionNode:EA,MeasureLayout:mA}};function FE(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&Mr.postRender(()=>i(e,B0(e)))}class YB extends Xo{mount(){const{current:e}=this.node;e&&(this.unmount=EV(e,(r,n)=>(FE(this.node,n,"Start"),s=>FE(this.node,s,"End"))))}unmount(){}}class QB extends Xo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=M0(u0(this.node.current,"focus",()=>this.onFocus()),u0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function LE(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&Mr.postRender(()=>i(e,B0(e)))}class JB extends Xo{mount(){const{current:e}=this.node;e&&(this.unmount=SV(e,(r,n)=>(LE(this.node,n,"Start"),(s,{success:i})=>LE(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ly=new WeakMap,Dx=new WeakMap,ZB=t=>{const e=Ly.get(t.target);e&&e(t)},eU=t=>{t.forEach(ZB)};function tU({root:t,...e}){const r=t||document;Dx.has(r)||Dx.set(r,{});const n=Dx.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(eU,{root:t,...e})),n[s]}function rU(t,e,r){const n=tU(e);return Ly.set(t,r),n.observe(t),()=>{Ly.delete(t),n.unobserve(t)}}const nU={some:0,all:1};class sU extends Xo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:nU[s]},u=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:x}=this.node.getProps(),y=h?p:x;y&&y(d)};return rU(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(iU(e,r))&&this.startObserver()}unmount(){}}function iU({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const aU={inView:{Feature:sU},tap:{Feature:JB},focus:{Feature:QB},hover:{Feature:YB}},oU={layout:{ProjectionNode:EA,MeasureLayout:mA}},My={current:null},TA={current:!1};function lU(){if(TA.current=!0,!!hv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>My.current=t.matches;t.addListener(e),e()}else My.current=!1}const cU=new WeakMap;function uU(t,e,r){for(const n in e){const s=e[n],i=r[n];if(Gn(s))t.addValue(n,s);else if(Gn(i))t.addValue(n,du(s,{owner:t}));else if(i!==s)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(n);t.addValue(n,du(o!==void 0?o:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const ME=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dU{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=vs.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Mr.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=vm(r),this.isVariantNode=WS(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...x}=this.scrapeMotionValuesFromProps(r,{},this);for(const y in x){const v=x[y];d[y]!==void 0&&Gn(v)&&v.set(d[y],!1)}}mount(e){this.current=e,cU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),TA.current||lU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:My.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vo(this.notifyUpdate),Vo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Ru.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Mr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hu){const r=hu[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<ME.length;n++){const s=ME[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=uU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=du(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(Zk(n)||tS(n))?n=parseFloat(n):!IV(n)&&$o.test(r)&&(n=FS(e,r)),this.setBaseTarget(e,Gn(n)?n.get():n)),Gn(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=Uv(this.props,r,this.presenceContext?.custom);i&&(n=i[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Gn(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new xv),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class NA extends dU{constructor(){super(...arguments),this.KeyframeResolver=yV}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Gn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function kA(t,{style:e,vars:r},n,s){Object.assign(t.style,e,s&&s.getProjectionStyles(n));for(const i in r)t.style.setProperty(i,r[i])}function hU(t){return window.getComputedStyle(t)}class fU extends NA{constructor(){super(...arguments),this.type="html",this.renderInstance=kA}readValueFromInstance(e,r){if(Ru.has(r))return this.projection?.isProjecting?Ny(r):LM(e,r);{const n=hU(e),s=(bv(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return dA(e,r)}build(e,r,n){Vv(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return zv(e,r,n)}}const SA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pU(t,e,r,n){kA(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(SA.has(s)?s:Mv(s),e.attrs[s])}class mU extends NA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Ru.has(r)){const n=OS(r);return n&&n.default||0}return r=SA.has(r)?r:Mv(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return tA(e,r,n)}build(e,r,n){QS(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,s){pU(e,r,n,s)}mount(e){this.isSVGTag=ZS(e.tagName),super.mount(e)}}const gU=(t,e)=>Bv(t)?new mU(e):new fU(e,{allowProjection:t!==k.Fragment}),xU=p$({...$$,...aU,...XB,...oU},gU),ie=VV(xU),VE=(t,e,r,n)=>{t.style.transition=`${e} ${r}ms ${n}`},wa=(t,e,r)=>Math.min(Math.max(t,e),r);class yU{constructor(e,r){this.glareAngle=0,this.glareOpacity=0,this.calculateGlareSize=o=>{const{width:u,height:d}=o,h=Math.sqrt(u**2+d**2);return{width:h,height:h}},this.setSize=o=>{const u=this.calculateGlareSize(o);this.glareEl.style.width=`${u.width}px`,this.glareEl.style.height=`${u.height}px`},this.update=(o,u,d,h)=>{this.updateAngle(o,u.glareReverse),this.updateOpacity(o,u,d,h)},this.updateAngle=(o,u)=>{const{xPercentage:d,yPercentage:h}=o,p=180/Math.PI,x=d?Math.atan2(h,-d)*p:0;this.glareAngle=x-(u?180:0)},this.updateOpacity=(o,u,d,h)=>{const{xPercentage:p,yPercentage:x}=o,{glarePosition:y,glareReverse:v,glareMaxOpacity:T}=u,w=d?-1:1,_=h?-1:1,C=v?-1:1;let j=0;switch(y){case"top":j=-p*w*C;break;case"right":j=x*_*C;break;case"bottom":case void 0:j=p*w*C;break;case"left":j=-x*_*C;break;case"all":j=Math.hypot(p,x)}const O=wa(j,0,100);this.glareOpacity=O*T/100},this.render=o=>{const{glareColor:u}=o;this.glareEl.style.transform=`rotate(${this.glareAngle}deg) translate(-50%, -50%)`,this.glareEl.style.opacity=this.glareOpacity.toString(),this.glareEl.style.background=`linear-gradient(0deg, rgba(255,255,255,0) 0%, ${u} 100%)`},this.glareWrapperEl=document.createElement("div"),this.glareEl=document.createElement("div"),this.glareWrapperEl.appendChild(this.glareEl),this.glareWrapperEl.className="glare-wrapper",this.glareEl.className="glare";const n={position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden",borderRadius:r,WebkitMaskImage:"-webkit-radial-gradient(white, black)",pointerEvents:"none"},s=this.calculateGlareSize(e),i={position:"absolute",top:"50%",left:"50%",transformOrigin:"0% 0%",pointerEvents:"none",width:`${s.width}px`,height:`${s.height}px`};Object.assign(this.glareWrapperEl.style,n),Object.assign(this.glareEl.style,i)}}class vU{constructor(){this.tiltAngleX=0,this.tiltAngleY=0,this.tiltAngleXPercentage=0,this.tiltAngleYPercentage=0,this.update=(e,r)=>{this.updateTilt(e,r),this.updateTiltManualInput(e,r),this.updateTiltReverse(r),this.updateTiltLimits(r)},this.updateTilt=(e,r)=>{const{xPercentage:n,yPercentage:s}=e,{tiltMaxAngleX:i,tiltMaxAngleY:o}=r;this.tiltAngleX=n*i/100,this.tiltAngleY=s*o/100*-1},this.updateTiltManualInput=(e,r)=>{const{tiltAngleXManual:n,tiltAngleYManual:s,tiltMaxAngleX:i,tiltMaxAngleY:o}=r;(n!==null||s!==null)&&(this.tiltAngleX=n!==null?n:0,this.tiltAngleY=s!==null?s:0,e.xPercentage=100*this.tiltAngleX/i,e.yPercentage=100*this.tiltAngleY/o)},this.updateTiltReverse=e=>{const r=e.tiltReverse?-1:1;this.tiltAngleX=r*this.tiltAngleX,this.tiltAngleY=r*this.tiltAngleY},this.updateTiltLimits=e=>{const{tiltAxis:r}=e;this.tiltAngleX=wa(this.tiltAngleX,-90,90),this.tiltAngleY=wa(this.tiltAngleY,-90,90),r&&(this.tiltAngleX=r==="x"?this.tiltAngleX:0,this.tiltAngleY=r==="y"?this.tiltAngleY:0)},this.updateTiltAnglesPercentage=e=>{const{tiltMaxAngleX:r,tiltMaxAngleY:n}=e;this.tiltAngleXPercentage=this.tiltAngleX/r*100,this.tiltAngleYPercentage=this.tiltAngleY/n*100},this.render=e=>{e.style.transform+=`rotateX(${this.tiltAngleX}deg) rotateY(${this.tiltAngleY}deg) `}}}const bU={scale:1,perspective:1e3,flipVertically:!1,flipHorizontally:!1,reset:!0,transitionEasing:"cubic-bezier(.03,.98,.52,.99)",transitionSpeed:400,trackOnWindow:!1,gyroscope:!1,tiltEnable:!0,tiltReverse:!1,tiltAngleXInitial:0,tiltAngleYInitial:0,tiltMaxAngleX:20,tiltMaxAngleY:20,tiltAxis:void 0,tiltAngleXManual:null,tiltAngleYManual:null,glareEnable:!1,glareMaxOpacity:.7,glareColor:"#ffffff",glarePosition:"bottom",glareReverse:!1,glareBorderRadius:"0"};class AA extends k.PureComponent{constructor(){super(...arguments),this.wrapperEl={node:null,size:{width:0,height:0,left:0,top:0},clientPosition:{x:null,y:null,xPercentage:0,yPercentage:0},updateAnimationId:null,scale:1},this.tilt=null,this.glare=null,this.addDeviceOrientationEventListener=async()=>{if(!window.DeviceOrientationEvent)return;const e=DeviceOrientationEvent.requestPermission;typeof e=="function"?await e()==="granted"&&window.addEventListener("deviceorientation",this.onMove):window.addEventListener("deviceorientation",this.onMove)},this.setSize=()=>{this.setWrapperElSize(),this.glare&&this.glare.setSize(this.wrapperEl.size)},this.mainLoop=e=>{this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.processInput(e),this.update(e.type),this.wrapperEl.updateAnimationId=requestAnimationFrame(this.renderFrame)},this.onEnter=e=>{const{onEnter:r}=this.props;this.setSize(),this.wrapperEl.node.style.willChange="transform",this.setTransitions(),r&&r({event:e})},this.onMove=e=>{this.mainLoop(e),this.emitOnMove(e)},this.onLeave=e=>{const{onLeave:r}=this.props;if(this.setTransitions(),r&&r({event:e}),this.props.reset){const n=new CustomEvent("autoreset");this.onMove(n)}},this.processInput=e=>{const{scale:r}=this.props;switch(e.type){case"mousemove":this.wrapperEl.clientPosition.x=e.pageX,this.wrapperEl.clientPosition.y=e.pageY,this.wrapperEl.scale=r;break;case"touchmove":this.wrapperEl.clientPosition.x=e.touches[0].pageX,this.wrapperEl.clientPosition.y=e.touches[0].pageY,this.wrapperEl.scale=r;break;case"deviceorientation":this.processInputDeviceOrientation(e),this.wrapperEl.scale=r;break;case"autoreset":{const{tiltAngleXInitial:n,tiltAngleYInitial:s,tiltMaxAngleX:i,tiltMaxAngleY:o}=this.props,u=s/o*100;this.wrapperEl.clientPosition.xPercentage=wa(n/i*100,-100,100),this.wrapperEl.clientPosition.yPercentage=wa(u,-100,100),this.wrapperEl.scale=1;break}}},this.processInputDeviceOrientation=e=>{if(!e.gamma||!e.beta||!this.props.gyroscope)return;const{tiltMaxAngleX:r,tiltMaxAngleY:n}=this.props,s=e.gamma;this.wrapperEl.clientPosition.xPercentage=e.beta/r*100,this.wrapperEl.clientPosition.yPercentage=s/n*100,this.wrapperEl.clientPosition.xPercentage=wa(this.wrapperEl.clientPosition.xPercentage,-100,100),this.wrapperEl.clientPosition.yPercentage=wa(this.wrapperEl.clientPosition.yPercentage,-100,100)},this.update=e=>{const{tiltEnable:r,flipVertically:n,flipHorizontally:s}=this.props;e!=="autoreset"&&e!=="deviceorientation"&&e!=="propChange"&&this.updateClientInput(),r&&this.tilt.update(this.wrapperEl.clientPosition,this.props),this.updateFlip(),this.tilt.updateTiltAnglesPercentage(this.props),this.glare&&this.glare.update(this.wrapperEl.clientPosition,this.props,n,s)},this.updateClientInput=()=>{const{trackOnWindow:e}=this.props;let r,n;if(e){const{x:s,y:i}=this.wrapperEl.clientPosition;r=i/window.innerHeight*200-100,n=s/window.innerWidth*200-100}else{const{size:{width:s,height:i,left:o,top:u},clientPosition:{x:d,y:h}}=this.wrapperEl;r=(h-u)/i*200-100,n=(d-o)/s*200-100}this.wrapperEl.clientPosition.xPercentage=wa(r,-100,100),this.wrapperEl.clientPosition.yPercentage=wa(n,-100,100)},this.updateFlip=()=>{const{flipVertically:e,flipHorizontally:r}=this.props;e&&(this.tilt.tiltAngleX+=180,this.tilt.tiltAngleY*=-1),r&&(this.tilt.tiltAngleY+=180)},this.renderFrame=()=>{this.resetWrapperElTransform(),this.renderPerspective(),this.tilt.render(this.wrapperEl.node),this.renderScale(),this.glare&&this.glare.render(this.props)}}componentDidMount(){if(this.tilt=new vU,this.initGlare(),this.setSize(),this.addEventListeners(),typeof CustomEvent>"u")return;const e=new CustomEvent("autoreset");this.mainLoop(e);const r=new CustomEvent("initial");this.emitOnMove(r)}componentWillUnmount(){this.wrapperEl.updateAnimationId!==null&&cancelAnimationFrame(this.wrapperEl.updateAnimationId),this.removeEventListeners()}componentDidUpdate(){const e=new CustomEvent("propChange");this.mainLoop(e),this.emitOnMove(e)}addEventListeners(){const{trackOnWindow:e,gyroscope:r}=this.props;window.addEventListener("resize",this.setSize),e&&(window.addEventListener("mouseenter",this.onEnter),window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseout",this.onLeave),window.addEventListener("touchstart",this.onEnter),window.addEventListener("touchmove",this.onMove),window.addEventListener("touchend",this.onLeave)),r&&this.addDeviceOrientationEventListener()}removeEventListeners(){const{trackOnWindow:e,gyroscope:r}=this.props;window.removeEventListener("resize",this.setSize),e&&(window.removeEventListener("mouseenter",this.onEnter),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseout",this.onLeave),window.removeEventListener("touchstart",this.onEnter),window.removeEventListener("touchmove",this.onMove),window.removeEventListener("touchend",this.onLeave)),r&&window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.onMove)}setWrapperElSize(){const e=this.wrapperEl.node.getBoundingClientRect();this.wrapperEl.size.width=this.wrapperEl.node.offsetWidth,this.wrapperEl.size.height=this.wrapperEl.node.offsetHeight,this.wrapperEl.size.left=e.left+window.scrollX,this.wrapperEl.size.top=e.top+window.scrollY}initGlare(){const{glareEnable:e,glareBorderRadius:r}=this.props;e&&(this.glare=new yU(this.wrapperEl.size,r),this.wrapperEl.node.appendChild(this.glare.glareWrapperEl))}emitOnMove(e){const{onMove:r}=this.props;if(!r)return;let n=0,s=0;this.glare&&(n=this.glare.glareAngle,s=this.glare.glareOpacity),r({tiltAngleX:this.tilt.tiltAngleX,tiltAngleY:this.tilt.tiltAngleY,tiltAngleXPercentage:this.tilt.tiltAngleXPercentage,tiltAngleYPercentage:this.tilt.tiltAngleYPercentage,glareAngle:n,glareOpacity:s,event:e})}resetWrapperElTransform(){this.wrapperEl.node.style.transform=""}renderPerspective(){const{perspective:e}=this.props;this.wrapperEl.node.style.transform+=`perspective(${e}px) `}renderScale(){const{scale:e}=this.wrapperEl;this.wrapperEl.node.style.transform+=`scale3d(${e},${e},${e})`}setTransitions(){const{transitionSpeed:e,transitionEasing:r}=this.props;VE(this.wrapperEl.node,"all",e,r),this.glare&&VE(this.glare.glareEl,"opacity",e,r)}render(){const{children:e,className:r,style:n}=this.props;return l.jsx("div",{ref:s=>{this.wrapperEl.node=s},onMouseEnter:this.onEnter,onMouseMove:this.onMove,onMouseLeave:this.onLeave,onTouchStart:this.onEnter,onTouchMove:this.onMove,onTouchEnd:this.onLeave,className:r,style:n,children:e})}}AA.defaultProps=bU;var Ox={exports:{}},Fx,$E;function wU(){if($E)return Fx;$E=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Fx=t,Fx}var Lx,BE;function _U(){if(BE)return Lx;BE=1;var t=wU();function e(){}function r(){}return r.resetWarningCache=e,Lx=function(){function n(o,u,d,h,p,x){if(x!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},Lx}var UE;function EU(){return UE||(UE=1,Ox.exports=_U()()),Ox.exports}var TU=EU();const ee=Gy(TU);var CA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},zE=ki.createContext&&ki.createContext(CA),NU=["attr","size","title"];function kU(t,e){if(t==null)return{};var r=SU(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bp(){return bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bp.apply(this,arguments)}function HE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function wp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(r),!0).forEach(function(n){AU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AU(t,e,r){return e=CU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CU(t){var e=IU(t,"string");return typeof e=="symbol"?e:e+""}function IU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IA(t){return t&&t.map((e,r)=>ki.createElement(e.tag,wp({key:r},e.attr),IA(e.child)))}function Je(t){return e=>ki.createElement(PU,bp({attr:wp({},t.attr)},e),IA(t.child))}function PU(t){var e=r=>{var{attr:n,size:s,title:i}=t,o=kU(t,NU),u=s||r.size||"1em",d;return r.className&&(d=r.className),t.className&&(d=(d?d+" ":"")+t.className),ki.createElement("svg",bp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:d,style:wp(wp({color:t.color||r.color},r.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&ki.createElement("title",null,i),t.children)};return zE!==void 0?ki.createElement(zE.Consumer,null,r=>e(r)):e(CA)}function Wl(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function ql(t){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function Gl(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function bm(t){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(t)}function RU(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(t)}function wm(t){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function Ol(t){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function jU(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(t)}function DU(t){return Je({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"},child:[]}]})(t)}function kd(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function OU(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function FU(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function LU(t){return Je({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function MU(t){return Je({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function VU(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function Sa(t){return Je({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(t)}function WE(t){return Je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function d0(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function Fl(t){return Je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function PA(t){return Je({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function RA(t){return Je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function Wv(t){return Je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function qv(t){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function Kl(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function $U(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function BU(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(t)}function UU(t){return Je({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"},child:[]}]})(t)}function fu(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Vy(t){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(t)}function pu(t){return Je({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function $y(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(t)}function mu(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Xl(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function $s(t){return Je({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Gv(t){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function zU(t){return Je({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function _p(t){return Je({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function By(t){return Je({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function gu(t){return Je({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function Ep(t){return Je({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}const Yl="/assets/logo-BfhC8Xaa.png",HU="/assets/brooklyn99-DYJUH8Km.png",WU="/assets/stranger-things-DRcF_wqM.png",qU="/assets/breaking-bad-D1E4kgVP.png",GU="/assets/naruto-DUa7in8u.png",KU="/assets/alice-CeDQ0_3e.png",XU="/assets/netflix-DaHLFMJQ.png",YU="/assets/spotify-bWcpnvLH.png",QU="/assets/disney-CWU7DV5v.png",JU="/assets/max-BIVycyRg.png",ZU="/assets/prime-video-DdoTjLXc.png",ez="/assets/vix-DijISFtY.png",tz="/assets/Canva-BX7ku0VE.png",rz="/assets/ChatGPT-B_s2moDj.png",nz="/assets/crunchyroll-CCcWGZHz.png",sz="/assets/redessociales-C9h9bjwL.png",iz="/assets/dgo-BPXOpsxd.png",az="/assets/ligamax-DG6Hz7Oj.png",oz="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAB4CAYAAADblO/uAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACnFJREFUeNrsnd912zYbh+Gc3FedoPQEVSYINUHUm+bS0gS2JlA8ga0JrF7qyvYElieIMkHYCapvAn+EQEb2sUgR1AsSIJ/nHKU9jkOKIH54/+AFcPby8qIAoNucIXQAhA4ACB0AEDoAIHQAQOgAgNABAKEDAEIHQOgAgNABAKEDAEIHAIQOAAgdABA6ACB0AIQOAAgdABA6AHRX6GdnZ7RiVVZJlP45Tj+D9PM5++k2/fxIPxv1NXqgkeA1UoYYoTcj8En652X6GR75TS36Rfq5TUW/peEAoYchcG29b9JPZPkvk/QzTcW+phEROkL3V+DaNb/L3PRT0GJf0qAIHaH7KfKnCm46YgeEjsjf8CkV+4YGRugIvbsiz2P2TyToEHpdPtCUYtw4ErkmSj9XNDGEadHNvLL+xK9+qq3WJqiMs8mu3zdwp/O0XRK6LRbdf6EbF1dbpwt1fNpJF5AsvBa9eZ6fyhTBuGaZtsWU7o/Q/Rb6KvmmTOGIrSi04KdexqjmmeYN3vF3YnWE7qfQZRJV2mX9y6vsc7PWPGeWtsEtEkDofgl9lQwzkUuIQVuykTdiXyU6BLlp+K5J+vznne7dxks6FLYkCN1HobuxeP6IfZX8VPblrRJ0e159lRzqlKM+lgRLCf2j4+/5pOTdWhMGrJJ2xW4WqkQt3V0nMjeOnitWb2dB6rDeDcgU+XjDR4dCcDmvrMV+n96jzSKSixbf23gXq7tBi/zU5OI86wPbTPSPlPG2ywdHItedxXWBR6SambsuyjvELb63KKtB8J1BNijdpd/3v8wLgs4IvbnpprggceOaSw/e3TiwvjbIBH+f5W4gaKHLxHh2g4qxsE1Z84EnIvscaJ9rqooQHMfo8xaeQ6/9/tTQvSaq2Xnzsli6Scqz3vty5igbhMYl7WQ8sa/RNyQYokVvL3YdZsm/vrjtxhX2KU7Xc9x6INBJN1Omq+f6b0vbERc+WNe9zUz0VRY2uHTbY9XelNrhAc5X9GzI10jPDExLYnZW5AUq9EnLz+Paql949v6G3vcwM61WtLvtFyQYmtCNtRu03vFdZeGNmznx7P2FkpC7LnlfuO+BWXRfRmdXWfiJh+8vDJGYCrkkWK+kA0hm3WOPnku78CPha156+P5CEokWetToYPU2ZzPI2stsbJJ/p54slPko1KADzzpdvKvCkiq79C8J9/q7RYF01ucCYzAsieFt39GX7HrDygNI3TLdw/UiSe0+V3Q9vWrPI4vuo2W5SRvvQagWXjoJpzvWIvtvXoAzr2ndohK3uE9okdTJ4uftP077i34Hs4pHY8Xqfc3I+gRhSl/PSYwee/ji80MUTreYsvG57kijXWcyU1BJtpHEuXK1Ig1sBs37lsqqnSIldF+zv2OBhRSSIp8W7g5jPI86K9LiQPpaUR/xcXCbZxt+EqMfGAl9Rbvwm1pro401nwuKvNwN05Vlq2QdkHhtPaxDSC4zXqv96bTbkkEkP812XNJ373bvoiP78/VB6KdsVCG1+GJpkaR57JzQy5O1Mhbdvm7+YedBFW8Hlsfuyy68gg8CLzGETpmLfVy5Y66SOyWTZEwsXfIuxulXhW3TtsU0oVTR++lM5V6fTmrJd6W5K63GMgPXk2Bsfm3ZmW07vt/VcaatL0usavsYsScH/qYzxTwSrntojTHZffTUm5nbzS1orPbzsHIxo+28qg4vVkmXXPayfQP/8ejbPhzwPCKE/tZShshYud9A4lr1kf3mHDcl/WPt2eaR/3b5lXxU4IpNx7YnvqiQj/kt84iO/Z4OT6bevS+EDjVYdOx5JoLXmnJYZH+Ens9z+lYnL/NsbG9cbMmrlZhKhxPHvIwhQpdHi2D2KxttXsJ9wPH+oeer2yG72uHevnO3otb5gc8VwwgsuiOSd0f/moowvaz0qSNiP8Vtt31+n2PLtTIFQA+NuOqm3FlXMkZIu32hHxaBmVbShQt3gbfppuH4838N3WdmMag0u87bZPlvlJ+bg/RW6MWdRce1q0TPZYe8oODUJJyvHo3Pswh3Fn1mXdLuQ4Qux7EYbZbFVaG68KcmmobC7dltjLs+LjEqi2yQ2hy5TpyFjghdKEYs75ja5VslC9XOQRCni7z52u2+r2GfFxqMoiXBPUSi1t22Y0dHf8OsREoCbM9HgWv8SbesbM2HBf1picjlhe5KkLMA21NiftguZOlW9Z0tRS77NdKWFrp9djWueF0tmnVQIpdx222EvqULi/RJKaLuCt1gI0gb1zQkq/4odB2bZBx7zPlF54WeOOnIJlO67JHb7kvYBPXzBlGXhf7DatSza4xZAC7qpqWdUn70XFbbArGNG3nnh5l0Wei2LmRc+TeNgHxfCdbWBgp9d92LQsY6U7ORUNtfWq9XMAPTF/+Fbp/5/WJ5/W+eu6ltuO3bnmfcy85004c33h/1HM3egHq3oe/KtvTaJPwOiT3fn/Bb4ZZl5r7jbFuzn8os6HJalSdZGbe2sNRxjevPlNyurNJueyIq4GqZ9wcFmusCkeanrzxkIc7m1yBgNsiIBcS1KLj3IPMq5rutxt+GGNWPi/LQdbd1IwfWu8f6O90m/Z0eKg4GzBWbfrE88g7y467us4/+/ysRC3r83rmw41efVkq7JYX+7NR931v1rsfni0rtwA4tr/lLIF+xqeklSdx7qxznW+SEbr9ryLjGPXybbkvENzg01yvbT23K7jXv2kznKz5lXs62hsCn2b9/rnVvc0T3bc3BRb9rfe7eo8smkl69ZhOnR7vspL1QZtkg4cPqtoWjjquX62qLfaH22WCzEsu9JS9yR5vM8I9q3V8nbVeJFtxEmR1mDrnKufV8VO93ol3Wes783DyzGOv1vd8bBnP953f3drzF99nLy8tpFzg7U6++bNHxNmUuqP1IaH8fF2x3I3FHzuaCljEnuL47Nvnl7z9GvsXoqkaMU+/ccTM4tD2HvEDkEAqyQi+eWyxiWHo8Ujlt7gu+rRmTARTxRzhCN9hmoeuVK5r4pq0pphnWHISJQhO6rfte/5BAUzHXdOHIkqw3NCT0xF+h27vv8Yl3nDYYr29UmBtigM+YUt1DQv/XX6EbbKadTnNZ9vOY6wZEPsJlBwdMCn4u1qdlp9f2I5ROsOli/aqJtpHIAo1Voqfcrhy8iNv0+2HJwYU11yWy3w/8jS4C+v1Ufbq16MbqNR/HGjGOBGObdTYIIXKQFvggmzt/EvCKW7Lo+7jje0Wrfi5e8WX2+76okQPQg5RO8P3T+2WgUNerzBfMHCqprXK09K9iLCmL7k7o5qGrVLDpevFzx4kO3ah/quIVS89Z467Fa9ehj0I/JXzcZl7krh+GIXTz4E9HRi822ocuCV2743MJkUsK/UMDj66X8RUJ+RaRQ8eoG4IuM3fdiUfp3qK/d6GjX3Ewa6qhexZd9+/LLEyMVPH08UbtV7IVngngjesOAP6D0AEQOgAgdABA6ACA0AEAoQMAQgcAhA4ACB0AoQMAQgcAhA4ACB0AEDoAIHQAQOgAgNABEDoAIHQAQOgAgNABAKEDAEIHAIQOAAgdAKEjdIDu838BBgAP9Pzi++BqOAAAAABJRU5ErkJggg==",lz="/assets/youtube-CpBI5AmY.png",cz="/assets/deezer-Dzzytvkp.png",uz="/assets/tidal-Dvc8GFJF.png",dz="/assets/vpn-DwO8ctKm.png",hz="/assets/wintv-DVRyyyXO.png",fz="/assets/applemusic-oPM8BG1t.png",pz="/assets/appletv-CnHYjknK.png",mz="/assets/iptv-DuZZIyup.png",gz="/assets/flujotv-BuBDxOy2.png",xz="/assets/vikirakuten-N9-l2Szt.png",yz="/assets/pornhub-CExwxEGA.png",vz="/assets/paramount-BdllqDdm.png",bz="/assets/licencias-BVJh6MhK.png",wz="/assets/capcut-CQ2qY_pe.png",_z="/assets/duolingo-5bYI8P47.png",Ez="/assets/buscapersonas-lxj-Iky8.png",xd=[{src:HU,title:"Brooklyn Nine-Nine",description:"Comedia policial hilarante"},{src:WU,title:"Stranger Things",description:"Misterio y nostalgia ochentera"},{src:qU,title:"Breaking Bad",description:"Un descenso al mundo del crimen"},{src:GU,title:"Naruto",description:"Aventuras ninja épicas"},{src:KU,title:"Alice in Borderland",description:"Juego de supervivencia intenso"}],qE=[{name:"Netflix",logo:XU,route:"/netflix",color:"#E50914"},{name:"Spotify",logo:YU,route:"/spotify",color:"#1DB954"},{name:"Disney+",logo:QU,route:"/disney",color:"#113CCF"},{name:"Max",logo:JU,route:"/max",color:"#002BE7"},{name:"Prime Video",logo:ZU,route:"/primevideo",color:"#00A8E1"},{name:"Vix",logo:ez,route:"/vix",color:"#FF2E63"},{name:"Canva",logo:tz,route:"/canva",color:"#00C4B4"},{name:"ChatGPT",logo:rz,route:"/chatgpt",color:"#10A37F"},{name:"Crunchyroll",logo:nz,route:"/crunchyroll",color:"#F47521"},{name:"Redes Sociales",logo:sz,route:"/redessociales",color:"#3B5998"},{name:"Dgo",logo:iz,route:"/dgo",color:"#00A1D6"},{name:"Liga Max",logo:az,route:"/ligamax",color:"#FFD700"},{name:"Movistar Play",logo:oz,route:"/movistarplay",color:"#005566"},{name:"Youtube",logo:lz,route:"/youtube",color:"#FF0000"},{name:"Deezer",logo:cz,route:"/deezer",color:"#FEAA2D"},{name:"Tidal",logo:uz,route:"/tidal",color:"#000000"},{name:"Vpn",logo:dz,route:"/vpn",color:"#4CAF50"},{name:"Win Tv",logo:hz,route:"/wintv",color:"#9C27B0"},{name:"Apple Music",logo:fz,route:"/applemusic",color:"#FA57C1"},{name:"Apple Tv",logo:pz,route:"/appletv",color:"#000000"},{name:"Iptv",logo:mz,route:"/iptv",color:"#607D8B"},{name:"Flujo Tv",logo:gz,route:"/flujotv",color:"#FF5722"},{name:"Viki Rakuten",logo:xz,route:"/vikirakuten",color:"#D81B60"},{name:"Pornhub",logo:yz,route:"/pornhub",color:"#FF9000"},{name:"Paramount",logo:vz,route:"/paramount",color:"#0064D2"},{name:"Licencias",logo:bz,route:"/licencias",color:"#795548"},{name:"Cap cut",logo:wz,route:"/capcut",color:"#00C4B4"},{name:"Duolingo",logo:_z,route:"/duolingo",color:"#58CC02"},{name:"Busca Personas",logo:Ez,route:"/buscapersonas",color:"#3F51B5"}],Tz=(t,e=5e3)=>{const[r,n]=k.useState(0),[s,i]=k.useState(0),[o,u]=k.useState(!1);k.useEffect(()=>{if(o)return;const x=setInterval(()=>{i(v=>v>=100?0:v+100/(e/100))},100),y=setInterval(()=>{n(v=>(v+1)%t.length),i(0)},e);return()=>{clearInterval(x),clearInterval(y)}},[o,t.length,e]);const d=k.useCallback(x=>{n(x),i(0)},[]),h=k.useCallback(()=>{n(x=>(x-1+t.length)%t.length),i(0)},[t.length]),p=k.useCallback(()=>{n(x=>(x+1)%t.length),i(0)},[t.length]);return{currentIndex:r,progress:s,isPaused:o,setIsPaused:u,goToSlide:d,prevSlide:h,nextSlide:p}},jA=k.memo(({platform:t,theme:e})=>l.jsx(AA,{tiltMaxAngleX:8,tiltMaxAngleY:8,scale:1.03,transitionSpeed:300,children:l.jsx(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:`${e==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-xl overflow-hidden shadow-md cursor-pointer hover:shadow-xl hover:border-blue-500/50 transition-all duration-300 relative`,children:l.jsxs(ys,{to:t.route,title:t.name,className:"block",children:[l.jsx("img",{src:t.logo,alt:t.name,className:`w-full h-24 sm:h-28 lg:h-32 object-contain p-4 ${e==="dark"?"bg-white/95":"bg-gray-50/95"} transition-transform duration-300 hover:scale-105`,loading:"lazy"}),l.jsx("div",{className:"p-3 text-center",style:{background:`linear-gradient(180deg, ${t.color}20, ${t.color}50)`},children:l.jsx("h3",{className:`font-semibold text-sm sm:text-base ${e==="dark"?"text-gray-100":"text-gray-900"} tracking-tight`,children:t.name})})]})})}));jA.propTypes={platform:ee.shape({name:ee.string.isRequired,logo:ee.string.isRequired,route:ee.string.isRequired,color:ee.string.isRequired}).isRequired,theme:ee.string.isRequired};const DA=k.memo(({show:t,onClose:e,notifications:r,theme:n})=>{const s=n==="dark",i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}},o=u=>u.toLocaleString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});return l.jsx(bn,{children:t&&l.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"notifications-title",children:l.jsxs(ie.div,{variants:i,initial:"hidden",animate:"visible",exit:"hidden",className:`w-full max-w-md mx-4 ${s?"bg-gray-900/95 border-gray-700/50":"bg-white/95 border-gray-200/50"} rounded-2xl shadow-2xl p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md`,onClick:u=>u.stopPropagation(),children:[l.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar notificaciones",children:l.jsx($s,{size:20})}),l.jsx("h2",{id:"notifications-title",className:`text-2xl font-bold mb-6 ${s?"text-white":"text-gray-900"} bg-clip-text text-transparent bg-gradient-to-r ${s?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Notificaciones"}),r.length>0?r.map(u=>l.jsxs(ie.div,{variants:i,initial:"hidden",animate:"visible",whileHover:"hover",className:`border-b py-3 last:border-0 rounded-xl px-2 transition-all duration-300 ${s?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,children:[l.jsx("p",{className:`${s?"text-gray-300":"text-gray-700"}`,children:u.message}),l.jsx("p",{className:`text-xs mt-1 ${s?"text-gray-400":"text-gray-500"}`,children:o(u.updatedAt?.toDate?.()||new Date)})]},u.id)):l.jsx("p",{className:`py-2 ${s?"text-gray-400":"text-gray-500"}`,children:"No hay notificaciones"})]})})})});DA.propTypes={show:ee.bool.isRequired,onClose:ee.func.isRequired,notifications:ee.arrayOf(ee.shape({id:ee.string.isRequired,message:ee.string.isRequired,updatedAt:ee.object})).isRequired,theme:ee.string.isRequired};const OA=()=>{const{currentIndex:t,progress:e,setIsPaused:r,goToSlide:n,prevSlide:s,nextSlide:i}=Tz(xd,5e3),[o,u]=k.useState(""),[d,h]=k.useState(qE),[p,x]=k.useState(null),[y,v]=k.useState(0),[T,w]=k.useState(null),[_,C]=k.useState(!1),[j,O]=k.useState(!1),[M,Y]=k.useState("dark"),[ne,A]=k.useState(!1),[S,I]=k.useState(!1),[V,B]=k.useState([]),H=ji(),D=k.useRef(null);k.useEffect(()=>{const R=Hl(Qr,X=>{x(X),X?(ae(X.uid),Ce(X.uid)):(v(0),w(null),B([]))});return()=>R()},[]);const ae=async R=>{try{const X=await Mo(vt(qe,"users",R));if(X.exists()){v(X.data().balance||0),w(X.data().role||"user");const Q=X.data().username||"Usuario";x(J=>({...J,username:Q}))}}catch(X){console.error("Error fetching user data:",X)}},Ce=async R=>{try{const X=wr(Dt(qe,"users",R,"notifications"),X1("updatedAt","desc")),J=(await qn(X)).docs.map(re=>({id:re.id,message:re.data().message||"Sin mensaje",updatedAt:re.data().updatedAt}));B(J)}catch(X){console.error("Error fetching notifications:",X)}};k.useEffect(()=>{const R=qE.filter(X=>X.name.toLowerCase().includes(o.toLowerCase()));h(R)},[o]),k.useEffect(()=>{const R=()=>{O(window.scrollY>300)};return window.addEventListener("scroll",R),()=>window.removeEventListener("scroll",R)},[]),k.useEffect(()=>{const R=D.current;let X=0;const Q=re=>{X=re.touches[0].clientX,r(!0)},J=re=>{const Ae=re.changedTouches[0].clientX;X-Ae>50&&i(),Ae-X>50&&s(),setTimeout(()=>r(!1),500)};return R?.addEventListener("touchstart",Q),R?.addEventListener("touchend",J),()=>{R?.removeEventListener("touchstart",Q),R?.removeEventListener("touchend",J)}},[s,i,r]);const Ge=k.useCallback(R=>{R.preventDefault(),o.trim()&&H(`/search?q=${encodeURIComponent(o)}`)},[o,H]),ke=k.useCallback(async()=>{try{await O0(Qr),H("/")}catch(R){console.error("Error signing out:",R)}},[H]),ce=k.useCallback(()=>{Y(R=>R==="dark"?"light":"dark")},[]),ye=k.useCallback(R=>R?R.split(" ").map(Q=>Q[0]).join("").slice(0,2).toUpperCase():"U",[]),be=k.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),te=k.useCallback(()=>{switch(T){case"admin":return"/dashboard/admin";case"provider":return"/dashboard/provider";default:return"/dashboard/user"}},[T]);return l.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${M==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col font-inter relative overflow-hidden`,children:[l.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[l.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${M==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),l.jsx("div",{className:"particles",children:[...Array(25)].map((R,X)=>l.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},X))})]}),l.jsxs("header",{className:`${M==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-4 px-4 sm:px-6 flex items-center justify-between shadow-lg fixed top-0 left-0 right-0 z-50 transition-all duration-300`,children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(ie.img,{src:Yl,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${M==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),l.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),l.jsx("div",{className:"flex-1 mx-4 max-w-md hidden lg:block",children:l.jsxs("div",{className:"relative group",children:[l.jsx("input",{type:"text",placeholder:"Buscar plataformas...",value:o,onChange:R=>u(R.target.value),className:`w-full py-2.5 px-5 ${M==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-lg group-hover:${M==="dark"?"bg-gray-800/50":"bg-gray-100/90"}`,"aria-label":"Buscar plataformas",onKeyDown:R=>R.key==="Enter"&&Ge(R)}),l.jsx("button",{onClick:Ge,className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${M==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Buscar",children:l.jsx(fu,{size:18})})]})}),l.jsxs("nav",{className:"flex items-center space-x-3 relative",children:[l.jsx("button",{onClick:ce,className:`p-2 rounded-full ${M==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${M==="dark"?"claro":"oscuro"}`,children:M==="dark"?l.jsx(Xl,{size:20}):l.jsx(Kl,{size:20})}),p&&l.jsxs("button",{onClick:()=>I(!0),className:`p-2 rounded-full relative ${M==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Notificaciones (${V.length} nuevas)`,children:[l.jsx(Ol,{size:20}),V.length>0&&l.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:V.length})]}),l.jsx("button",{className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition duration-300",onClick:()=>A(!ne),"aria-label":"Abrir menú móvil","aria-expanded":ne,children:l.jsx(wm,{size:20,className:M==="dark"?"text-gray-300":"text-gray-600"})}),l.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:p?l.jsxs("div",{className:"relative flex items-center space-x-4",children:[l.jsx(ie.div,{className:`flex items-center space-x-2 ${M==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-lg transition-all duration-300`,whileHover:{scale:1.05},children:l.jsxs("span",{className:"text-sm font-semibold",children:["S/. ",y.toFixed(2)]})}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>C(!_),className:`flex items-center space-x-2 ${M==="dark"?"bg-gray-800/30 border-gray-600/30":"bg-gray-100/80 border-gray-200/30"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-lg transition-all duration-300`,"aria-label":"Menú de usuario","aria-haspopup":"true","aria-expanded":_,children:[l.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:p.photoURL?l.jsx("img",{src:p.photoURL,alt:"Avatar de usuario",className:"h-full w-full rounded-full",loading:"lazy"}):ye(p.username||p.email)}),l.jsx("span",{className:`text-sm font-semibold ${M==="dark"?"text-gray-200":"text-gray-800"} truncate max-w-[120px]`,children:p.username||"Usuario"}),l.jsx(DU,{className:`ml-1 ${M==="dark"?"text-gray-400":"text-gray-600"}`,size:14})]}),l.jsx(bn,{children:_&&l.jsxs(ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:`absolute right-0 mt-2 w-56 ${M==="dark"?"bg-gray-900/95 border-gray-600/30":"bg-white/95 border-gray-200/30"} backdrop-blur-xl rounded-lg shadow-xl py-3 z-50`,role:"menu",children:[l.jsxs(ys,{to:te(),className:`w-full text-left px-4 py-2 text-sm hover:${M==="dark"?"bg-gray-800/80":"bg-gray-200/80"} flex items-center ${M==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Ir al dashboard",children:[l.jsx(_p,{className:"mr-2"})," Dashboard"]}),l.jsxs("button",{onClick:ke,className:`w-full text-left px-4 py-2 text-sm hover:${M==="dark"?"bg-gray-800/80":"bg-gray-200/80"} flex items-center ${M==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Cerrar sesión",children:[l.jsx(mu,{className:"mr-2"})," Cerrar Sesión"]})]})})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(ys,{to:"/login",className:`bg-blue-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-blue-700/95 text-sm border ${M==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,"aria-label":"Iniciar sesión",children:[l.jsx($y,{className:"mr-2"})," Ingresar"]}),l.jsxs(ys,{to:"/register",className:`bg-green-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-green-700/95 text-sm border ${M==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,"aria-label":"Registrarse",children:[l.jsx(By,{className:"mr-2"})," Registrarse"]})]})})]}),l.jsx(bn,{children:ne&&l.jsx(ie.nav,{initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},className:`lg:hidden absolute top-full left-0 right-0 ${M==="dark"?"bg-gray-900/95":"bg-white/95"} backdrop-blur-xl shadow-lg z-40 p-6`,role:"menu","aria-label":"Menú móvil",children:l.jsxs("div",{className:"flex flex-col space-y-4",children:[l.jsxs("div",{className:"relative group",children:[l.jsx("input",{type:"text",placeholder:"Buscar plataformas...",value:o,onChange:R=>u(R.target.value),className:`w-full py-2.5 px-5 ${M==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-lg group-hover:${M==="dark"?"bg-gray-800/50":"bg-gray-100/90"}`,"aria-label":"Buscar plataformas",onKeyDown:R=>R.key==="Enter"&&Ge(R)}),l.jsx("button",{onClick:Ge,className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${M==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Buscar",children:l.jsx(fu,{size:18})})]}),p&&l.jsxs("button",{onClick:()=>{I(!0),A(!1)},className:`text-sm flex items-center ${M==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Ver notificaciones",children:[l.jsx(Ol,{className:"mr-2"})," Notificaciones"]}),p?l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:`text-sm ${M==="dark"?"text-gray-300":"text-gray-700"} font-medium`,children:["Saldo: S/. ",y.toFixed(2)]}),l.jsxs(ys,{to:te(),className:`text-sm flex items-center ${M==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,onClick:()=>A(!1),role:"menuitem","aria-label":"Ir al dashboard",children:[l.jsx(_p,{className:"mr-2"})," Dashboard"]}),l.jsxs("button",{onClick:()=>{ke(),A(!1)},className:`text-sm flex items-center ${M==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Cerrar sesión",children:[l.jsx(mu,{className:"mr-2"})," Cerrar Sesión"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(ys,{to:"/login",className:`bg-blue-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-blue-700/95 text-sm border ${M==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,onClick:()=>A(!1),role:"menuitem","aria-label":"Iniciar sesión",children:[l.jsx($y,{className:"mr-2"})," Ingresar"]}),l.jsxs(ys,{to:"/register",className:`bg-green-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-green-700/95 text-sm border ${M==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,onClick:()=>A(!1),role:"menuitem","aria-label":"Registrarse",children:[l.jsx(By,{className:"mr-2"})," Registrarse"]})]})]})})})]}),l.jsx(DA,{show:S&&!!p,onClose:()=>I(!1),notifications:V,theme:M}),l.jsxs("main",{className:"flex-1 px-4 sm:px-6 lg:px-8 py-10 pt-24 relative z-10",children:[l.jsxs("section",{ref:D,className:"relative h-64 sm:h-80 md:h-96 lg:h-[600px] mb-12 overflow-hidden rounded-2xl shadow-2xl",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),role:"region","aria-label":"Carrusel de contenido destacado",children:[l.jsx(bn,{initial:!1,children:l.jsx(ie.div,{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${xd[t].src})`},initial:{opacity:0,x:300,scale:1.1},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:-300,scale:1.1},transition:{duration:.8,ease:"easeInOut"},children:l.jsxs("div",{className:`absolute inset-0 bg-gradient-to-t ${M==="dark"?"from-black/90 via-black/60 to-transparent":"from-white/90 via-white/60 to-transparent"} flex flex-col justify-end p-6 sm:p-8 md:p-10 lg:p-12`,children:[l.jsx(ie.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.5},className:`text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-extrabold mb-2 bg-clip-text text-transparent bg-gradient-to-r ${M==="dark"?"from-white to-gray-200":"from-gray-900 to-gray-700"} tracking-tight drop-shadow-md`,children:xd[t].title}),l.jsx(ie.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.5},className:`text-sm sm:text-base md:text-lg lg:text-xl max-w-md ${M==="dark"?"text-gray-300":"text-gray-700"} font-medium drop-shadow-sm`,children:xd[t].description})]})},t)}),l.jsx("button",{onClick:s,className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${M==="dark"?"bg-black/50 hover:bg-black/70":"bg-white/50 hover:bg-white/70"} backdrop-blur-lg p-3 rounded-full transition-all duration-300 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Diapositiva anterior",children:l.jsx(LU,{size:20})}),l.jsx("button",{onClick:i,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${M==="dark"?"bg-black/50 hover:bg-black/70":"bg-white/50 hover:bg-white/70"} backdrop-blur-lg p-3 rounded-full transition-all duration-300 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500`,"aria-label":"Diapositiva siguiente",children:l.jsx(MU,{size:20})}),l.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",role:"tablist",children:xd.map((R,X)=>l.jsx("button",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full transition-all duration-300 ${t===X?"bg-blue-500 scale-125":M==="dark"?"bg-gray-500/50":"bg-gray-400/50"} focus:outline-none focus:ring-2 focus:ring-blue-500`,onClick:()=>n(X),role:"tab","aria-selected":t===X,"aria-label":`Ir a diapositiva ${X+1}`},X))}),l.jsx("div",{className:`absolute bottom-0 left-0 w-full h-1 ${M==="dark"?"bg-gray-800/50":"bg-gray-200/50"}`,children:l.jsx(ie.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600",style:{width:`${e}%`},initial:{width:0},animate:{width:`${e}%`},transition:{duration:.1}})})]}),l.jsxs("section",{className:"relative",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold mb-10 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600 tracking-tight",children:"Categorías de Plataformas"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4 sm:gap-6 lg:gap-8",children:d.length>0?d.map((R,X)=>l.jsx(jA,{platform:R,theme:M},X)):l.jsx("p",{className:`col-span-full text-center text-lg ${M==="dark"?"text-gray-400":"text-gray-600"} font-medium`,children:"No se encontraron plataformas."})})]})]}),l.jsx("footer",{className:`${M==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10`,children:l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[l.jsxs("p",{className:`${M==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",l.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),l.jsxs("div",{className:"flex justify-center space-x-8",children:[l.jsx("a",{href:"https://twitter.com",className:`${M==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:l.jsx(Gl,{size:24})}),l.jsx("a",{href:"https://instagram.com",className:`${M==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:l.jsx(ql,{size:24})}),l.jsx("a",{href:"https://facebook.com",className:`${M==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:l.jsx(Wl,{size:24})})]})]})}),l.jsx(bn,{children:j&&l.jsx(ie.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:be,className:`fixed bottom-6 left-6 bg-blue-600/90 backdrop-blur-lg p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 ${M==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Volver al inicio de la página",children:l.jsx(bm,{size:20})})})]})};OA.propTypes={};const Nz=()=>{const[t,e]=k.useState(""),[r,n]=k.useState(""),[s,i]=k.useState(!1),[o,u]=k.useState(""),[d,h]=k.useState(!1),[p,x]=k.useState(()=>localStorage.getItem("theme")||"dark"),y=ji(),v=k.useRef(null);k.useEffect(()=>{localStorage.setItem("theme",p),document.documentElement.classList.toggle("dark",p==="dark")},[p]),k.useEffect(()=>{const O=Qr.onAuthStateChanged(M=>{M&&y("/")});return()=>O()},[y]),k.useEffect(()=>{v.current?.focus()},[]);const T=k.useCallback(()=>t?r?r.length<6?"La contraseña debe tener al menos 6 caracteres":"":"Por favor, ingresa tu contraseña":"Por favor, ingresa tu nombre de usuario o correo electrónico",[t,r]),w=async O=>{try{const M=Dt(qe,"users"),Y=wr(M,Or("username","==",O)),ne=await qn(Y);if(!ne.empty){const A=ne.docs[0].data();return{email:A.email,status:A.status||"active"}}return null}catch(M){return console.error("Error fetching username:",M),null}},_=k.useCallback(async O=>{O.preventDefault();const M=T();if(M){u(M);return}u(""),h(!0);try{let Y=t,ne="active";if(t.includes("@")){const A=Dt(qe,"users"),S=wr(A,Or("email","==",t)),I=await qn(S);I.empty||(ne=I.docs[0].data().status||"active")}else{const A=await w(t);if(!A){u("Nombre de usuario no encontrado"),h(!1);return}Y=A.email,ne=A.status}if(ne==="suspended"){u("Esta cuenta está suspendida y no se puede ingresar"),h(!1);return}await UF(Qr,Y,r),e(""),n(""),y("/")}catch(Y){u(Y.code==="auth/wrong-password"?"Contraseña incorrecta":Y.code==="auth/user-not-found"?"Usuario o correo electrónico no encontrado":Y.code==="auth/too-many-requests"?"Demasiados intentos fallidos. Intenta de nuevo más tarde.":"Error al iniciar sesión. Por favor, intenta de nuevo.")}finally{h(!1)}},[t,r,y,T]),C=k.useCallback(()=>{x(O=>O==="dark"?"light":"dark")},[]),j=k.useCallback(()=>{i(O=>!O)},[]);return l.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${p==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[l.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[l.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${p==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),l.jsx("div",{className:"particles",children:[...Array(25)].map((O,M)=>l.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},M))})]}),l.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${p==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"login-title",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(ie.img,{src:Yl,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${p==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),l.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),l.jsx("button",{onClick:C,className:`p-2 rounded-full ${p==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${p==="dark"?"claro":"oscuro"}`,children:p==="dark"?l.jsx(Xl,{size:20}):l.jsx(Kl,{size:20})})]}),l.jsx("h2",{id:"login-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Iniciar Sesión"}),l.jsx(bn,{children:o&&l.jsx(ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${p==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:o})}),l.jsxs("form",{onSubmit:_,className:"space-y-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx(gu,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400":"text-gray-600"}`}),l.jsx(ie.input,{ref:v,type:"text",placeholder:"Nombre de usuario o correo electrónico",value:t,onChange:O=>e(O.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${p==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Nombre de usuario o correo electrónico",required:!0,whileFocus:{scale:1.02}})]}),l.jsxs("div",{className:"relative",children:[l.jsx(qv,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400":"text-gray-600"}`}),l.jsx(ie.input,{type:s?"text":"password",placeholder:"Contraseña",value:r,onChange:O=>n(O.target.value),className:`w-full pl-12 pr-12 py-3 rounded-full ${p==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Contraseña",required:!0,whileFocus:{scale:1.02}}),l.jsx("button",{type:"button",onClick:j,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${p==="dark"?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-800"} transition duration-200`,"aria-label":s?"Ocultar contraseña":"Mostrar contraseña",children:s?l.jsx(PA,{size:18}):l.jsx(RA,{size:18})})]}),l.jsxs(ie.button,{type:"submit",disabled:d,className:`w-full bg-blue-600/90 backdrop-blur-xl py-3 rounded-full ${d?"opacity-50 cursor-not-allowed":"hover:bg-blue-700/95"} text-sm border ${p==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Iniciar sesión",whileHover:{scale:d?1:1.05},whileTap:{scale:d?1:.95},children:[d?l.jsxs(ie.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}):l.jsx($y,{className:"mr-2"}),d?"Cargando...":"Iniciar Sesión"]})]}),l.jsxs("div",{className:"text-center text-sm mt-6 space-y-3",children:[l.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿No tienes una cuenta?"," ",l.jsx(ys,{to:"/register",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a registrarse",children:"Regístrate aquí"})]}),l.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿Olvidaste tu contraseña?"," ",l.jsx(ys,{to:"/forgot-password",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Recuperar contraseña",children:"Recupérala aquí"})]})]})]})}),l.jsx("footer",{className:`${p==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[l.jsxs("p",{className:`${p==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",l.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),l.jsxs("div",{className:"flex justify-center space-x-8",children:[l.jsx("a",{href:"https://twitter.com",className:`${p==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:l.jsx(Gl,{size:24})}),l.jsx("a",{href:"https://instagram.com",className:`${p==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:l.jsx(ql,{size:24})}),l.jsx("a",{href:"https://facebook.com",className:`${p==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:l.jsx(Wl,{size:24})})]})]})})]})},kz=()=>{const[t,e]=k.useState(""),[r,n]=k.useState(""),[s,i]=k.useState(""),[o,u]=k.useState(""),[d,h]=k.useState(""),[p,x]=k.useState(!1),[y,v]=k.useState(""),[T,w]=k.useState(!1),[_,C]=k.useState(()=>localStorage.getItem("theme")||"dark"),j=ji(),O=k.useRef(null);k.useEffect(()=>{localStorage.setItem("theme",_),document.documentElement.classList.toggle("dark",_==="dark")},[_]),k.useEffect(()=>{const S=Qr.onAuthStateChanged(I=>{I&&j("/")});return()=>S()},[j]),k.useEffect(()=>{O.current?.focus()},[]);const M=k.useCallback(async()=>t?/^[a-zA-Z0-9_]{3,20}$/.test(t)?(await Mo(vt(qe,"usernames",t.toLowerCase()))).exists()?"El nombre de usuario ya está en uso":r?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)?s?/^\d{9}$/.test(s)?o?o.length<6?"La contraseña debe tener al menos 6 caracteres":d?"":"Por favor, ingresa un código de referido":"Por favor, ingresa una contraseña":"El número de teléfono debe tener 9 dígitos":"Por favor, ingresa tu número de teléfono":"Correo electrónico inválido":"Por favor, ingresa tu correo electrónico":"El nombre de usuario debe tener entre 3 y 20 caracteres alfanuméricos":"Por favor, ingresa un nombre de usuario",[t,r,s,o,d]),Y=k.useCallback(async S=>{S.preventDefault();const I=await M();if(I){v(I);return}v(""),w(!0);try{const B=(await BF(Qr,r,o)).user;await HF(B,{displayName:t}),await ti(vt(qe,"users",B.uid),{username:t.toLowerCase(),email:r.toLowerCase(),phoneNumber:`+51${s}`,referralCode:d,balance:0,createdAt:new Date}),await ti(vt(qe,"usernames",t.toLowerCase()),{email:r.toLowerCase(),uid:B.uid}),e(""),n(""),i(""),u(""),h(""),j("/")}catch(V){v(V.code==="auth/email-already-in-use"?"El correo electrónico ya está registrado":V.code==="auth/invalid-email"?"Correo electrónico inválido":V.code==="auth/weak-password"?"La contraseña es demasiado débil":"Error al registrarse. Por favor, intenta de nuevo.")}finally{w(!1)}},[t,r,s,o,d,j,M]),ne=k.useCallback(()=>{C(S=>S==="dark"?"light":"dark")},[]),A=k.useCallback(()=>{x(S=>!S)},[]);return l.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${_==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[l.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[l.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${_==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),l.jsx("div",{className:"particles",children:[...Array(25)].map((S,I)=>l.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},I))})]}),l.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${_==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"register-title",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(ie.img,{src:Yl,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${_==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),l.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),l.jsx("button",{onClick:ne,className:`p-2 rounded-full ${_==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${_==="dark"?"claro":"oscuro"}`,children:_==="dark"?l.jsx(Xl,{size:20}):l.jsx(Kl,{size:20})})]}),l.jsx("h2",{id:"register-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Registrarse"}),l.jsx(bn,{children:y&&l.jsx(ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${_==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:y})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx(gu,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${_==="dark"?"text-gray-400":"text-gray-600"}`}),l.jsx(ie.input,{ref:O,type:"text",placeholder:"Elige un nombre de usuario",value:t,onChange:S=>e(S.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${_==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Nombre de usuario",required:!0,whileFocus:{scale:1.02}})]}),l.jsxs("div",{className:"relative",children:[l.jsx(d0,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${_==="dark"?"text-gray-400":"text-gray-600"}`}),l.jsx(ie.input,{type:"email",placeholder:"Tu correo electrónico",value:r,onChange:S=>n(S.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${_==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Correo electrónico",required:!0,whileFocus:{scale:1.02}})]}),l.jsxs("div",{className:"relative flex items-center",children:[l.jsx($U,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${_==="dark"?"text-gray-400":"text-gray-600"}`}),l.jsxs("div",{className:"flex w-full",children:[l.jsx("span",{className:`flex items-center pl-12 pr-3 py-3 rounded-l-full border-r ${_==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} text-sm`,children:"🇵🇪 Perú (+51)"}),l.jsx(ie.input,{type:"tel",placeholder:"Tu número de teléfono",value:s,onChange:S=>i(S.target.value.replace(/\D/g,"")),className:`w-full pl-4 pr-4 py-3 rounded-r-full ${_==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Número de teléfono",required:!0,maxLength:9,whileFocus:{scale:1.02}})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(qv,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${_==="dark"?"text-gray-400":"text-gray-600"}`}),l.jsx(ie.input,{type:p?"text":"password",placeholder:"Elige una contraseña",value:o,onChange:S=>u(S.target.value),className:`w-full pl-12 pr-12 py-3 rounded-full ${_==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Contraseña",required:!0,whileFocus:{scale:1.02}}),l.jsx("button",{onClick:A,className:`absolute right-4 top-1/2 transform -translate-y-1/2 ${_==="dark"?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-800"} transition duration-200`,"aria-label":p?"Ocultar contraseña":"Mostrar contraseña",children:p?l.jsx(PA,{size:18}):l.jsx(RA,{size:18})})]}),l.jsxs("div",{className:"relative",children:[l.jsx(gu,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${_==="dark"?"text-gray-400":"text-gray-600"}`}),l.jsx(ie.input,{type:"text",placeholder:"Ingresa un código de referido",value:d,onChange:S=>h(S.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${_==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Código de referido",required:!0,whileFocus:{scale:1.02}})]}),l.jsxs(ie.button,{onClick:Y,disabled:T,className:`w-full bg-green-600/90 backdrop-blur-xl py-3 rounded-full ${T?"opacity-50 cursor-not-allowed":"hover:bg-green-700/95"} text-sm border ${_==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Registrarse",whileHover:{scale:T?1:1.05},whileTap:{scale:T?1:.95},children:[T?l.jsxs(ie.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}):l.jsx(By,{className:"mr-2"}),T?"Cargando...":"Registrarse"]})]}),l.jsxs("p",{className:`text-center text-sm mt-6 ${_==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿Ya tienes una cuenta?"," ",l.jsx(ys,{to:"/login",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a iniciar sesión",children:"Inicia sesión aquí"})]})]})}),l.jsx("footer",{className:`${_==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[l.jsxs("p",{className:`${_==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",l.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),l.jsxs("div",{className:"flex justify-center space-x-8",children:[l.jsx("a",{href:"https://twitter.com",className:`${_==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:l.jsx(Gl,{size:24})}),l.jsx("a",{href:"https://instagram.com",className:`${_==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:l.jsx(ql,{size:24})}),l.jsx("a",{href:"https://facebook.com",className:`${_==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:l.jsx(Wl,{size:24})})]})]})})]})},Sz=()=>{const[t,e]=k.useState(""),[r,n]=k.useState(""),[s,i]=k.useState(""),[o,u]=k.useState(!1),[d,h]=k.useState(()=>localStorage.getItem("theme")||"dark"),p=ji(),x=k.useRef(null);k.useEffect(()=>{localStorage.setItem("theme",d),document.documentElement.classList.toggle("dark",d==="dark")},[d]),k.useEffect(()=>{const w=Qr.onAuthStateChanged(_=>{_&&p("/")});return()=>w()},[p]),k.useEffect(()=>{x.current?.focus()},[]);const y=k.useCallback(()=>t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?"":"Correo electrónico inválido":"Por favor, ingresa tu correo electrónico",[t]),v=k.useCallback(async w=>{w.preventDefault();const _=y();if(_){n(_),i("");return}n(""),i(""),u(!0);try{await $F(Qr,t),i("Se ha enviado un enlace de restablecimiento de contraseña a tu correo electrónico."),e("")}catch(C){n(C.code==="auth/user-not-found"?"No se encontró un usuario con este correo electrónico":C.code==="auth/invalid-email"?"Correo electrónico inválido":C.code==="auth/too-many-requests"?"Demasiados intentos. Intenta de nuevo más tarde.":"Error al enviar el enlace de restablecimiento. Por favor, intenta de nuevo.")}finally{u(!1)}},[t,y]),T=k.useCallback(()=>{h(w=>w==="dark"?"light":"dark")},[]);return l.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${d==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-100 via-gray-50 to-white text-gray-900"} flex flex-col items-center justify-between px-4 sm:px-6 lg:px-8 font-inter relative overflow-hidden`,children:[l.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[l.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${d==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.1)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),l.jsx("div",{className:"particles",children:[...Array(25)].map((w,_)=>l.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},_))})]}),l.jsx("main",{className:"flex-1 flex items-center justify-center w-full py-12 sm:py-16 relative z-10",children:l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`${d==="dark"?"bg-gray-900/30 border-gray-700/30":"bg-white/90 border-gray-200/30"} backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md`,role:"form","aria-labelledby":"forgot-password-title",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(ie.img,{src:Yl,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${d==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),l.jsx("h1",{className:"text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),l.jsx("button",{onClick:T,className:`p-2 rounded-full ${d==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${d==="dark"?"claro":"oscuro"}`,children:d==="dark"?l.jsx(Xl,{size:20}):l.jsx(Kl,{size:20})})]}),l.jsx("h2",{id:"forgot-password-title",className:"text-2xl sm:text-3xl font-bold mb-6 text-center bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Recuperar Contraseña"}),l.jsxs(bn,{children:[r&&l.jsx(ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${d==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:r}),s&&l.jsx(ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${d==="dark"?"bg-green-900/50 border-green-600/50":"bg-green-100/50 border-green-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-green-600 border-l-4`,role:"alert",children:s})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"relative",children:[l.jsx(d0,{className:`absolute left-4 top-1/2 transform -translate-y-1/2 ${d==="dark"?"text-gray-400":"text-gray-600"}`}),l.jsx(ie.input,{ref:x,type:"email",placeholder:"Tu correo electrónico",value:t,onChange:w=>e(w.target.value.trim()),className:`w-full pl-12 pr-4 py-3 rounded-full ${d==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 hover:shadow-lg`,"aria-label":"Correo electrónico",required:!0,whileFocus:{scale:1.02}})]}),l.jsxs(ie.button,{onClick:v,disabled:o,className:`w-full bg-blue-600/90 backdrop-blur-xl py-3 rounded-full ${o?"opacity-50 cursor-not-allowed":"hover:bg-blue-700/95"} text-sm border ${d==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center justify-center text-white font-semibold`,"aria-label":"Enviar enlace de restablecimiento",whileHover:{scale:o?1:1.05},whileTap:{scale:o?1:.95},children:[o?l.jsxs(ie.svg,{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 01-16 0z"})]}):l.jsx(d0,{className:"mr-2"}),o?"Cargando...":"Enviar Enlace de Restablecimiento"]})]}),l.jsxs("div",{className:"text-center text-sm mt-6 space-y-3",children:[l.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿Ya tienes una cuenta?"," ",l.jsx(ys,{to:"/login",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a iniciar sesión",children:"Inicia sesión aquí"})]}),l.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"}`,children:["¿No tienes una cuenta?"," ",l.jsx(ys,{to:"/register",className:"text-blue-500 hover:text-blue-400 font-semibold transition duration-200","aria-label":"Ir a registrarse",children:"Regístrate aquí"})]})]})]})}),l.jsx("footer",{className:`${d==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-10 px-4 sm:px-6 lg:px-8 text-center text-sm relative z-10 w-full`,children:l.jsxs(ie.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:[l.jsxs("p",{className:`${d==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["BlackStreaming - Todos los derechos reservados. Desarrollado por"," ",l.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Saiph"}),"."]}),l.jsxs("div",{className:"flex justify-center space-x-8",children:[l.jsx("a",{href:"https://twitter.com",className:`${d==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Twitter de BlackStreaming",children:l.jsx(Gl,{size:24})}),l.jsx("a",{href:"https://instagram.com",className:`${d==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Instagram de BlackStreaming",children:l.jsx(ql,{size:24})}),l.jsx("a",{href:"https://facebook.com",className:`${d==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-110`,"aria-label":"Visitar Facebook de BlackStreaming",children:l.jsx(Wl,{size:24})})]})]})})]})};function PJ(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(t)}function Aa(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function Tp(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function RJ(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function FA(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function xu(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function Az(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function _m(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function Cz(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(t)}function GE(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(t)}function Ta(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function Kv(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function LA(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function Iz(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function Pz(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function jJ(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"},child:[]},{tag:"line",attr:{x1:"7",y1:"2",x2:"7",y2:"22"},child:[]},{tag:"line",attr:{x1:"17",y1:"2",x2:"17",y2:"22"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"2",y1:"7",x2:"7",y2:"7"},child:[]},{tag:"line",attr:{x1:"2",y1:"17",x2:"7",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"17",x2:"22",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"7",x2:"22",y2:"7"},child:[]}]})(t)}function DJ(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function yu(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function Rz(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function OJ(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function FJ(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(t)}function Np(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function jz(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function Dz(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(t)}function is(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(t)}function LJ(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function MJ(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 18V5l12-2v13"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"16",r:"3"},child:[]}]})(t)}function VJ(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"},child:[]},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"},child:[]},{tag:"path",attr:{d:"M2 2l7.586 7.586"},child:[]},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"},child:[]}]})(t)}function Uy(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function $J(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"10 8 16 12 10 16 10 8"},child:[]}]})(t)}function KE(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function MA(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function ta(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function VA(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function vu(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(t)}function $A(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(t)}function BJ(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(t)}function BA(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function XE(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function UJ(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"},child:[]},{tag:"polyline",attr:{points:"17 2 12 7 7 2"},child:[]}]})(t)}function UA(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function zJ(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(t)}function Ca(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function YE(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function HJ(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"},child:[]},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"},child:[]}]})(t)}function Oz(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(t)}function Bs(t){return Je({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const Fz=({isOpen:t,message:e,title:r,onClose:n})=>t?l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:r}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:l.jsx(Bs,{size:20})})]}),l.jsx("p",{className:"text-gray-300 mb-6",children:e}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,zA=({isOpen:t,user:e,onClose:r,onSave:n,theme:s="dark"})=>{const i=s==="dark",[o,u]=k.useState(e?.username||""),[d,h]=k.useState(""),p={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.95,transition:{duration:.2}}},x={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},y=v=>{if(v.preventDefault(),h(""),!o.trim()){h("El nombre de usuario no puede estar vacío.");return}n(e.id,o.trim())};return t?l.jsx(ie.div,{className:`fixed inset-0 ${i?"bg-black/70":"bg-black/50"} flex items-center justify-center z-50 p-4`,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},role:"dialog","aria-modal":"true","aria-labelledby":"edit-profile-title",children:l.jsx(ie.div,{className:`rounded-2xl shadow-md w-full max-w-md border ${i?"bg-gray-900/90 border-gray-700/50":"bg-white border-gray-300"}`,variants:p,initial:"hidden",animate:"visible",exit:"exit",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{id:"edit-profile-title",className:"text-xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Editar Perfil"}),l.jsx(ie.button,{onClick:r,className:`${i?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,variants:x,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar modal",children:l.jsx(Bs,{size:20})})]}),l.jsxs("form",{onSubmit:y,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:`block mb-2 font-semibold ${i?"text-gray-300":"text-gray-700"}`,children:"Nombre de usuario"}),l.jsx("input",{type:"text",value:o,onChange:v=>u(v.target.value),className:`w-full px-4 py-2 rounded-xl ${i?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300`,required:!0,"aria-label":"Nombre de usuario"}),d&&l.jsx("p",{className:`text-sm mt-2 ${i?"text-red-400":"text-red-600"}`,children:d})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx(ie.button,{type:"button",onClick:r,className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${i?"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-400":"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:x,whileHover:"hover",whileTap:"tap","aria-label":"Cancelar edición",children:"Cancelar"}),l.jsx(ie.button,{type:"submit",className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${i?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:x,whileHover:"hover",whileTap:"tap","aria-label":"Guardar perfil",children:"Guardar"})]})]})]})})}):null};zA.propTypes={isOpen:ee.bool.isRequired,user:ee.shape({id:ee.string.isRequired,username:ee.string.isRequired}).isRequired,onClose:ee.func.isRequired,onSave:ee.func.isRequired,theme:ee.oneOf(["light","dark"]).isRequired};const HA=({isOpen:t,provider:e,onClose:r,onRate:n,theme:s="dark"})=>{const i=s==="dark",[o,u]=k.useState(0),[d,h]=k.useState(""),p={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,scale:.95,transition:{duration:.2}}},x={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},y=v=>{if(v.preventDefault(),h(""),o<1||o>5){h("Por favor, selecciona una calificación entre 1 y 5 estrellas.");return}n(e.id,o),u(0)};return t?l.jsx(ie.div,{className:`fixed inset-0 ${i?"bg-black/70":"bg-black/50"} flex items-center justify-center z-50 p-4`,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},role:"dialog","aria-modal":"true","aria-labelledby":"rate-provider-title",children:l.jsx(ie.div,{className:`rounded-2xl shadow-md w-full max-w-md border ${i?"bg-gray-900/90 border-gray-700/50":"bg-white border-gray-300"}`,variants:p,initial:"hidden",animate:"visible",exit:"exit",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{id:"rate-provider-title",className:"text-xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Calificar Proveedor"}),l.jsx(ie.button,{onClick:r,className:`${i?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,variants:x,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar modal",children:l.jsx(Bs,{size:20})})]}),l.jsxs("form",{onSubmit:y,children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:`block mb-2 font-semibold ${i?"text-gray-300":"text-gray-700"}`,children:["Proveedor: ",e.name]}),l.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(v=>l.jsx(ie.div,{variants:x,whileHover:"hover",whileTap:"tap",children:l.jsx($A,{size:24,className:`cursor-pointer ${v<=o?i?"text-yellow-400 fill-current":"text-yellow-600 fill-current":i?"text-gray-400":"text-gray-600"}`,onClick:()=>u(v),"aria-label":`Calificar con ${v} estrella${v>1?"s":""}`})},v))}),d&&l.jsx("p",{className:`text-sm mt-2 ${i?"text-red-400":"text-red-600"}`,children:d})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx(ie.button,{type:"button",onClick:r,className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${i?"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-400":"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:x,whileHover:"hover",whileTap:"tap","aria-label":"Cancelar calificación",children:"Cancelar"}),l.jsx(ie.button,{type:"submit",className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${i?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:x,whileHover:"hover",whileTap:"tap","aria-label":"Enviar calificación",children:"Enviar Calificación"})]})]})]})})}):null};HA.propTypes={isOpen:ee.bool.isRequired,provider:ee.shape({id:ee.string.isRequired,name:ee.string.isRequired}).isRequired,onClose:ee.func.isRequired,onRate:ee.func.isRequired,theme:ee.oneOf(["light","dark"]).isRequired};const Lz=({userName:t,email:e,balance:r,orders:n,notifications:s,setActivePage:i,formatDate:o,theme:u="dark"})=>{const d=u==="dark",h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}};return l.jsxs(ie.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl max-w-6xl mx-auto border ${d?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[l.jsxs("h2",{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r ${d?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:["Bienvenido, ",l.jsx("span",{className:"text-red-400",children:t.username})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs(ie.div,{className:`rounded-2xl p-4 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsx("h3",{className:`text-lg font-semibold mb-3 ${d?"text-blue-400":"text-blue-600"}`,children:"Información de cuenta"}),l.jsxs("div",{className:`space-y-3 ${d?"text-gray-300":"text-gray-700"}`,children:[l.jsxs("p",{className:"flex items-center",children:[l.jsx(Ca,{className:`mr-2 ${d?"text-blue-400":"text-blue-600"}`,size:18}),l.jsx("span",{children:t.username})]}),l.jsxs("p",{className:"flex items-center",children:[l.jsx(is,{className:`mr-2 ${d?"text-blue-400":"text-blue-600"}`,size:18}),l.jsx("span",{children:e})]}),l.jsxs("p",{className:"flex items-center",children:[l.jsx(Uy,{className:`mr-2 ${d?"text-blue-400":"text-blue-600"}`,size:18}),l.jsx("span",{children:t.phone||"No especificado"})]})]})]}),l.jsxs(ie.div,{className:`rounded-2xl p-4 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsx("h3",{className:`text-lg font-semibold mb-3 ${d?"text-blue-400":"text-blue-600"}`,children:"Saldo disponible"}),l.jsxs("p",{className:`text-3xl font-bold ${d?"text-white":"text-gray-900"}`,children:["S/ ",r.toFixed(2)]}),l.jsx(ie.button,{onClick:()=>i("recargar"),className:`mt-4 px-4 py-2 text-white rounded-xl transition-all duration-300 bg-gradient-to-r ${d?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50`,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Recargar"})]}),l.jsxs(ie.div,{className:`rounded-2xl p-4 border shadow-xl backdrop-blur-sm ${d?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsx("h3",{className:`text-lg font-semibold mb-3 ${d?"text-blue-400":"text-blue-600"}`,children:"Pedidos activos"}),l.jsx("p",{className:`text-3xl font-bold ${d?"text-white":"text-gray-900"}`,children:n.filter(p=>new Date(p.endDate)>new Date&&p.status==="completed").length}),l.jsx(ie.button,{onClick:()=>i("pedidos"),className:`mt-4 px-4 py-2 text-white rounded-xl transition-all duration-300 bg-gradient-to-r ${d?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50`,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Ver pedidos"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[l.jsxs(ie.div,{className:`rounded-2xl p-4 shadow-xl border backdrop-blur-sm ${d?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsx("h3",{className:`text-lg font-semibold mb-3 ${d?"text-white":"text-gray-900"}`,children:"Pedidos recientes"}),n.length>0?n.slice(0,3).map(p=>{const x=new Date(p.endDate)>new Date&&p.status==="completed",y=p.status==="pending";return l.jsxs(ie.div,{className:`border-b py-3 last:border-0 hover:rounded-xl hover:px-2 transition-all duration-300 ${d?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,whileHover:{backgroundColor:d?"rgba(55, 65, 81, 0.5)":"rgba(229, 231, 235, 0.5)"},children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:`font-medium ${d?"text-white":"text-gray-900"}`,children:p.productName||"Producto sin nombre"}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${p.status==="pending"?d?"bg-yellow-900/80 text-yellow-400":"bg-yellow-500/20 text-yellow-600":x?d?"bg-green-900/80 text-green-400":"bg-green-500/20 text-green-600":d?"bg-red-900/80 text-red-400":"bg-red-500/20 text-red-600"}`,children:y?"A pedido":x?"Activo":"Expirado"})]}),l.jsxs("p",{className:`text-sm ${d?"text-gray-400":"text-gray-600"}`,children:["Vence: ",o(p.endDate)]})]},p.id)}):l.jsx("p",{className:`py-2 ${d?"text-gray-400":"text-gray-500"}`,children:"No tienes pedidos recientes"}),n.length>3&&l.jsx(ie.button,{onClick:()=>i("pedidos"),className:`w-full mt-3 text-center text-sm transition-all duration-300 ${d?"text-blue-400 hover:underline":"text-blue-600 hover:underline"}`,whileHover:{scale:1.05},children:"Ver todos los pedidos"})]}),l.jsxs(ie.div,{className:`rounded-2xl p-4 shadow-xl border backdrop-blur-sm ${d?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsx("h3",{className:`text-lg font-semibold mb-3 ${d?"text-white":"text-gray-900"}`,children:"Notificaciones"}),s.length>0?s.map(p=>l.jsxs(ie.div,{className:`border-b py-3 last:border-0 hover:rounded-xl hover:px-2 transition-all duration-300 ${d?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,whileHover:{backgroundColor:d?"rgba(55, 65, 81, 0.5)":"rgba(229, 231, 235, 0.5)"},children:[l.jsx("p",{className:`${d?"text-gray-300":"text-gray-700"}`,children:p.message}),l.jsx("p",{className:`text-xs mt-1 ${d?"text-gray-400":"text-gray-500"}`,children:o(p.updatedAt?.toDate?.()||new Date)})]},p.id)):l.jsx("p",{className:`py-2 ${d?"text-gray-400":"text-gray-500"}`,children:"No hay notificaciones"})]})]}),l.jsxs(ie.div,{className:`rounded-2xl p-4 sm:p-6 shadow-xl border backdrop-blur-sm ${d?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsx("h3",{className:`text-lg font-semibold mb-4 ${d?"text-white":"text-gray-900"}`,children:"Únete a nuestros grupos"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{href:"https://chat.whatsapp.com/IG8v1E00lAD6RIOo7ZB5Kv",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v13/icons/whatsapp.svg",title:"Avisos",subtitle:"Grupo de WhatsApp"},{href:"https://chat.whatsapp.com/Gs6kTW4DBTi7dEMhnZV1yb",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v13/icons/whatsapp.svg",title:"General",subtitle:"Grupo de WhatsApp"},{href:"https://chat.whatsapp.com/BqCOR6w8002695hbYXf5KA",icon:"https://cdn.jsdelivr.net/npm/simple-icons@v13/icons/whatsapp.svg",title:"Publicidad",subtitle:"Grupo de WhatsApp"}].map((p,x)=>l.jsxs(ie.a,{href:p.href,target:"_blank",rel:"noopener noreferrer",className:`flex items-center p-4 rounded-xl transition-all duration-300 border ${d?"bg-gray-700/50 hover:bg-gray-600/50 border-gray-600/50":"bg-gray-200/50 hover:bg-gray-300/50 border-gray-300/50"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[l.jsx("img",{src:p.icon,alt:`${p.title} Logo`,className:"w-8 h-8 mr-3",loading:"lazy"}),l.jsxs("div",{children:[l.jsx("p",{className:`font-medium ${d?"text-white":"text-gray-900"}`,children:p.title}),l.jsx("p",{className:`text-sm ${d?"text-gray-300":"text-gray-600"}`,children:p.subtitle})]})]},x))})]})]})},WA=({notifications:t,formatDate:e,theme:r="dark"})=>{const n=r==="dark",s={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}};return l.jsxs(ie.div,{className:`p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${n?"bg-gray-900/90 border-gray-700/50":"bg-white border-gray-300"}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},role:"region","aria-labelledby":"notifications-title",children:[l.jsx("h3",{id:"notifications-title",className:"text-2xl sm:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-6",children:"Notificaciones"}),t.length>0?l.jsx("div",{className:"space-y-4",children:t.map(i=>l.jsxs(ie.div,{className:`border ${n?"border-gray-600/50":"border-gray-300"} rounded-2xl p-4 ${n?"bg-gray-800/50 hover:bg-gray-700/50":"bg-gray-100 hover:bg-gray-200/50"} transition-all duration-300`,variants:s,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`notification-${i.id}-title`,children:[l.jsx("p",{id:`notification-${i.id}-title`,className:`text-base ${n?"text-gray-300":"text-gray-700"}`,children:i.message}),l.jsx("p",{className:`text-xs ${n?"text-gray-400":"text-gray-600"} mt-2`,children:e(i.updatedAt?.toDate?.()||new Date)})]},i.id))}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Tp,{className:`mx-auto text-4xl ${n?"text-gray-400":"text-gray-600"} mb-4`,"aria-hidden":"true"}),l.jsx("h4",{className:`text-lg font-semibold ${n?"text-white":"text-gray-900"}`,children:"No hay notificaciones"}),l.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"No tienes mensajes nuevos"})]})]})};WA.propTypes={notifications:ee.arrayOf(ee.shape({id:ee.string.isRequired,message:ee.string.isRequired,updatedAt:ee.oneOfType([ee.instanceOf(Date),ee.shape({toDate:ee.func})])})).isRequired,formatDate:ee.func.isRequired,theme:ee.oneOf(["light","dark"]).isRequired};const Mz="/assets/yape-sz-D-gX92Ca.png",Vz="/assets/binance-sz-CGisVpHF.png",qA=({amount:t,setAmount:e,topUps:r,actionLoading:n,handleTopUpRequest:s,formatDate:i,theme:o="dark"})=>{const u=o==="dark",[d,h]=k.useState("PEN"),[p,x]=k.useState(3.75*1.1),[y,v]=k.useState(!1),[T,w]=k.useState(""),_={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}}};k.useEffect(()=>{(async()=>{v(!0);try{const S=(await(await fetch("https://api.exchangerate-api.com/v4/latest/USD")).json()).rates.PEN||3.75;x(S*1.1)}catch(ne){console.error("Error fetching exchange rate:",ne)}finally{v(!1)}})()},[]),k.useEffect(()=>{const Y=parseFloat(T);if(isNaN(Y))e("");else{const ne=d==="USD"?Y*p:Y;e(ne.toFixed(2))}},[T,d,p,e]);const C=Y=>{const ne=Y.target.value;w(ne)},j=t&&!isNaN(parseFloat(t))?parseFloat(t).toFixed(2):"0.00",O=parseFloat(T),M=!isNaN(O)&&(d==="PEN"?O>=5:O>=3);return l.jsxs(ie.div,{className:"space-y-8 max-w-6xl mx-auto px-4 sm:px-0",variants:_,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"topup-title",children:[l.jsxs("div",{className:`p-6 sm:p-8 rounded-3xl shadow-md border ${u?"bg-gray-900/80 border-gray-700/30":"bg-white border-gray-300"}`,children:[l.jsx("h3",{id:"topup-title",className:"text-2xl sm:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-6 text-center",children:"Recargar saldo"}),l.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Moneda"}),l.jsxs("select",{value:d,onChange:Y=>{h(Y.target.value),w("")},className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300`,children:[l.jsx("option",{value:"PEN",children:"S/ (PEN)"}),l.jsx("option",{value:"USD",children:"$ (USD)"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:`block mb-2 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:["Monto a recargar (",d==="PEN"?"S/":"$",")"]}),l.jsx("input",{type:"number",value:T,onChange:C,className:`w-full px-4 py-3 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300`,placeholder:`Mínimo ${d==="PEN"?"S/ 5.00":"$ 3.00"}`,min:d==="PEN"?"5":"3",step:"0.01","aria-label":`Monto a recargar en ${d}`}),d==="USD"&&!isNaN(O)&&l.jsxs("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"} mt-2`,children:["Equivalente: S/ ",j," (Tasa: 1 USD = ",p.toFixed(2)," PEN)",y&&" (Cargando tasa...)"]})]}),l.jsx(ie.button,{onClick:s,disabled:n.topUp||!M,className:`w-full py-3 px-4 rounded-xl font-medium text-lg transition-all duration-300 ${M&&!n.topUp?u?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500":"bg-gray-300 text-gray-500 cursor-not-allowed"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,whileHover:{scale:M&&!n.topUp?1.05:1},whileTap:{scale:M&&!n.topUp?.95:1},"aria-label":"Solicitar recarga",children:n.topUp?l.jsx("div",{className:"animate-spin h-6 w-6 border-3 border-white rounded-full border-t-transparent mx-auto"}):"Solicitar recarga"})]}),l.jsx("div",{className:`mt-8 p-6 rounded-2xl border ${u?"bg-gray-800/50 border-gray-700/30":"bg-gray-100 border-gray-300"} max-w-lg mx-auto`,children:l.jsxs(ie.div,{className:"animate-fade-in",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[l.jsxs("h4",{className:`text-lg font-semibold ${u?"text-blue-400":"text-blue-600"} mb-4 flex items-center`,children:[l.jsx(Ta,{className:"mr-2"})," Pago con ",d==="PEN"?"Yape":"Binance"]}),l.jsxs("p",{className:`mb-3 ${u?"text-gray-300":"text-gray-700"}`,children:["Escanea el código QR",d==="PEN"?" o usa Yape con el número:":"."]}),d==="PEN"&&l.jsx("p",{className:`text-xl font-bold ${u?"text-white":"text-gray-900"} mb-3`,children:"📱 940505969"}),l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:`p-4 rounded-xl shadow-md ${u?"bg-white border-4 border-blue-600":"bg-white border border-gray-300"}`,children:l.jsx("img",{src:d==="PEN"?Mz:Vz,alt:`${d==="PEN"?"Yape":"Binance"} QR Code`,className:"w-48 h-48 object-contain",loading:"lazy"})})}),l.jsxs("p",{className:`mb-4 ${u?"text-gray-300":"text-gray-700"}`,children:["Realiza el pago de ",d==="PEN"?`S/ ${j}`:`$ ${O.toFixed(2)}`,". Confirma tu recarga vía WhatsApp."]}),l.jsxs(ie.a,{href:`https://wa.me/51940505969?text=${encodeURIComponent(`Hola 😊, he realizado una recarga a través de ${d==="PEN"?"Yape":"Binance"} por ${d==="PEN"?`S/ ${j}`:`$ ${O.toFixed(2)}`}. Por favor, confirma mi pago.`)}`,target:"_blank",rel:"noopener noreferrer",className:`inline-flex items-center px-6 py-3 rounded-xl font-medium transition-all duration-300 ${u?"bg-green-500 hover:bg-green-600 text-white focus:ring-green-400":"bg-green-500 hover:bg-green-600 text-white focus:ring-green-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Confirmar pago por WhatsApp con ${d==="PEN"?"Yape":"Binance"}`,children:[l.jsx(is,{className:"mr-2"})," Confirmar por WhatsApp"]})]})})]}),l.jsxs("div",{className:`p-6 sm:p-8 rounded-3xl shadow-md border ${u?"bg-gray-900/80 border-gray-700/30":"bg-white border-gray-300"}`,children:[l.jsx("h3",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-6 text-center",children:"Historial de recargas"}),r.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[l.jsx("thead",{className:`${u?"bg-gray-800/50":"bg-gray-100"}`,children:l.jsxs("tr",{children:[l.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Monto"}),l.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),l.jsx("th",{className:`px-4 py-3 text-left text-sm font-medium ${u?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"})]})}),l.jsx("tbody",{className:`${u?"bg-gray-800/50":"bg-white"} divide-y ${u?"divide-gray-600/50":"divide-gray-200"}`,children:r.map(Y=>l.jsxs("tr",{className:`${u?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,children:[l.jsxs("td",{className:`px-4 py-4 whitespace-nowrap font-medium ${u?"text-white":"text-gray-900"}`,children:["S/ ",Y.amount.toFixed(2)]}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${Y.status==="aprobado"?u?"bg-green-900/80 text-green-400":"bg-green-500/20 text-green-600":Y.status==="pendiente"?u?"bg-yellow-900/80 text-yellow-400":"bg-yellow-500/20 text-yellow-600":u?"bg-red-900/80 text-red-400":"bg-red-500/20 text-red-600"}`,children:Y.status})}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${u?"text-gray-400":"text-gray-600"}`,children:i(Y.date)})]},Y.id))})]})}):l.jsx("p",{className:`text-lg text-center py-8 ${u?"text-gray-400":"text-gray-600"}`,children:"No hay recargas registradas"})]})]})};qA.propTypes={amount:ee.oneOfType([ee.string,ee.number]).isRequired,setAmount:ee.func.isRequired,topUps:ee.arrayOf(ee.shape({id:ee.string.isRequired,amount:ee.oneOfType([ee.string,ee.number]).isRequired,status:ee.string.isRequired,date:ee.oneOfType([ee.instanceOf(Date),ee.string]).isRequired})).isRequired,actionLoading:ee.shape({topUp:ee.bool}).isRequired,handleTopUpRequest:ee.func.isRequired,formatDate:ee.func.isRequired,theme:ee.oneOf(["light","dark"]).isRequired};const GA=({providers:t,openRateProviderModal:e,theme:r="dark"})=>{const n=r==="dark",s={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}};return l.jsxs(ie.div,{className:`p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${n?"bg-gray-900/90 border-gray-700/50":"bg-white border-gray-300"}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},role:"region","aria-labelledby":"providers-title",children:[l.jsx("h3",{id:"providers-title",className:"text-2xl sm:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-6",children:"Proveedores"}),t.length>0?l.jsx("div",{className:"space-y-4",children:t.map(i=>l.jsx(ie.div,{className:`border ${n?"border-gray-600/50":"border-gray-300"} rounded-2xl p-4 ${n?"bg-gray-800/50 hover:bg-gray-700/50":"bg-gray-100 hover:bg-gray-200/50"} transition-all duration-300`,variants:s,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`provider-${i.id}-title`,children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("p",{id:`provider-${i.id}-title`,className:`font-semibold text-base ${n?"text-gray-300":"text-gray-700"}`,children:i.name}),l.jsxs("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:["Teléfono: ",i.phone]})]}),l.jsxs(ie.button,{onClick:()=>e(i),className:`px-4 py-2 rounded-xl font-medium transition-all duration-300 ${n?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2 flex items-center gap-1.5`,whileHover:{scale:1.05},whileTap:{scale:.95},"aria-label":`Calificar al proveedor ${i.name}`,children:[l.jsx($A,{size:16}),"Calificar"]})]})},i.id))}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ca,{className:`mx-auto text-4xl ${n?"text-gray-400":"text-gray-600"} mb-4`,"aria-hidden":"true"}),l.jsx("h4",{className:`text-lg font-semibold ${n?"text-white":"text-gray-900"}`,children:"No hay proveedores"}),l.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"No has realizado compras con proveedores aún."})]})]})};GA.propTypes={providers:ee.arrayOf(ee.shape({id:ee.string.isRequired,name:ee.string.isRequired,phone:ee.string.isRequired})).isRequired,openRateProviderModal:ee.func.isRequired,theme:ee.oneOf(["light","dark"]).isRequired};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var kp={};kp.version="0.18.5";var KA=1252,$z=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],XA=function(t){$z.indexOf(t)!=-1&&(KA=t)};function Bz(){XA(1252)}var h0=function(t){XA(t)};function Uz(){h0(1200),Bz()}var xf=function(e){return String.fromCharCode(e)},QE=function(e){return String.fromCharCode(e)},Sp,To="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function f0(t){for(var e="",r=0,n=0,s=0,i=0,o=0,u=0,d=0,h=0;h<t.length;)r=t.charCodeAt(h++),i=r>>2,n=t.charCodeAt(h++),o=(r&3)<<4|n>>4,s=t.charCodeAt(h++),u=(n&15)<<2|s>>6,d=s&63,isNaN(n)?u=d=64:isNaN(s)&&(d=64),e+=To.charAt(i)+To.charAt(o)+To.charAt(u)+To.charAt(d);return e}function Ba(t){var e="",r=0,n=0,s=0,i=0,o=0,u=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<t.length;)i=To.indexOf(t.charAt(h++)),o=To.indexOf(t.charAt(h++)),r=i<<2|o>>4,e+=String.fromCharCode(r),u=To.indexOf(t.charAt(h++)),n=(o&15)<<4|u>>2,u!==64&&(e+=String.fromCharCode(n)),d=To.indexOf(t.charAt(h++)),s=(u&3)<<6|d,d!==64&&(e+=String.fromCharCode(s));return e}var rr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Wa=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Ll(t){return rr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function JE(t){return rr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var _i=function(e){return rr?Wa(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Em(t){if(typeof ArrayBuffer>"u")return _i(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function U0(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function zz(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var jn=rr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Wa(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),s=0;for(e=0,r=0;e<t.length;r+=s,++e)if(s=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Hz(t){for(var e=[],r=0,n=t.length+250,s=Ll(t.length+255),i=0;i<t.length;++i){var o=t.charCodeAt(i);if(o<128)s[r++]=o;else if(o<2048)s[r++]=192|o>>6&31,s[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var u=t.charCodeAt(++i)&1023;s[r++]=240|o>>8&7,s[r++]=128|o>>2&63,s[r++]=128|u>>6&15|(o&3)<<4,s[r++]=128|u&63}else s[r++]=224|o>>12&15,s[r++]=128|o>>6&63,s[r++]=128|o&63;r>n&&(e.push(s.slice(0,r)),r=0,s=Ll(65535),n=65530)}return e.push(s.slice(0,r)),jn(e)}var $d=/\u0000/g,yf=/[\u0001-\u0006]/g;function tu(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Ni(t,e){var r=""+t;return r.length>=e?r:Hr("0",e-r.length)+r}function Xv(t,e){var r=""+t;return r.length>=e?r:Hr(" ",e-r.length)+r}function Ap(t,e){var r=""+t;return r.length>=e?r:r+Hr(" ",e-r.length)}function Wz(t,e){var r=""+Math.round(t);return r.length>=e?r:Hr("0",e-r.length)+r}function qz(t,e){var r=""+t;return r.length>=e?r:Hr("0",e-r.length)+r}var ZE=Math.pow(2,32);function Oc(t,e){if(t>ZE||t<-ZE)return Wz(t,e);var r=Math.round(t);return qz(r,e)}function Cp(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var eT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Mx=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Gz(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var Wr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},tT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Kz={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Ip(t,e,r){for(var n=t<0?-1:1,s=t*n,i=0,o=1,u=0,d=1,h=0,p=0,x=Math.floor(s);h<e&&(x=Math.floor(s),u=x*o+i,p=x*h+d,!(s-x<5e-8));)s=1/(s-x),i=o,o=u,d=h,h=p;if(p>e&&(h>e?(p=d,u=i):(p=h,u=o)),!r)return[0,n*u,p];var y=Math.floor(n*u/p);return[y,n*u-y*p,p]}function vf(t,e,r){if(t>2958465||t<0)return null;var n=t|0,s=Math.floor(86400*(t-n)),i=0,o=[],u={D:n,T:s,u:86400*(t-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),e&&e.date1904&&(n+=1462),u.u>.9999&&(u.u=0,++s==86400&&(u.T=s=0,++n,++u.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),o=[d.getFullYear(),d.getMonth()+1,d.getDate()],i=d.getDay(),n<60&&(i=(i+6)%7),r&&(i=tH(d,o))}return u.y=o[0],u.m=o[1],u.d=o[2],u.S=s%60,s=Math.floor(s/60),u.M=s%60,s=Math.floor(s/60),u.H=s,u.q=i,u}var YA=new Date(1899,11,31,0,0,0),Xz=YA.getTime(),Yz=new Date(1900,2,1,0,0,0);function QA(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=Yz&&(r+=1440*60*1e3),(r-(Xz+(t.getTimezoneOffset()-YA.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Yv(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Qz(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Jz(t){var e=t<0?12:11,r=Yv(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function Zz(t){var e=Yv(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function eH(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=Jz(t):e===10?r=t.toFixed(10).substr(0,12):r=Zz(t),Yv(Qz(r.toUpperCase()))}function zy(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):eH(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Bo(14,QA(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function tH(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function rH(t,e,r,n){var s="",i=0,o=0,u=r.y,d,h=0;switch(t){case 98:u=r.y+543;case 121:switch(e.length){case 1:case 2:d=u%100,h=2;break;default:d=u%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:d=r.m,h=e.length;break;case 3:return Mx[r.m-1][1];case 5:return Mx[r.m-1][0];default:return Mx[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=r.d,h=e.length;break;case 3:return eT[r.q][0];default:return eT[r.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(r.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=r.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=r.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Ni(r.S,e.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),e==="s"?i===0?"0":""+i/o:(s=Ni(i,2+n),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:d=u,h=1;break}var p=h>0?Ni(d,h):"";return p}function No(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var JA=/%/g;function nH(t,e,r){var n=e.replace(JA,""),s=e.length-n.length;return Ia(t,n,r*Math.pow(10,2*s))+Hr("%",s)}function sH(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Ia(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function ZA(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+ZA(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(e/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),r.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,h,p){return d+h+p.substr(0,(s+i)%s)+"."+p.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var e5=/# (\?+)( ?)\/( ?)(\d+)/;function iH(t,e,r){var n=parseInt(t[4],10),s=Math.round(e*n),i=Math.floor(s/n),o=s-i*n,u=n;return r+(i===0?"":""+i)+" "+(o===0?Hr(" ",t[1].length+1+t[4].length):Xv(o,t[1].length)+t[2]+"/"+t[3]+Ni(u,t[4].length))}function aH(t,e,r){return r+(e===0?"":""+e)+Hr(" ",t[1].length+2+t[4].length)}var t5=/^#*0*\.([0#]+)/,r5=/\).*[0#]/,n5=/\(###\) ###\\?-####/;function rs(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function rT(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function nT(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function oH(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function lH(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Js(t,e,r){if(t.charCodeAt(0)===40&&!e.match(r5)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Js("n",n,r):"("+Js("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return sH(t,e,r);if(e.indexOf("%")!==-1)return nH(t,e,r);if(e.indexOf("E")!==-1)return ZA(e,r);if(e.charCodeAt(0)===36)return"$"+Js(t,e.substr(e.charAt(1)==" "?2:1),r);var s,i,o,u,d=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+Oc(d,e.length);if(e.match(/^[#?]+$/))return s=Oc(r,0),s==="0"&&(s=""),s.length>e.length?s:rs(e.substr(0,e.length-s.length))+s;if(i=e.match(e5))return iH(i,d,h);if(e.match(/^#+0+$/))return h+Oc(d,e.length-e.indexOf("0"));if(i=e.match(t5))return s=rT(r,i[1].length).replace(/^([^\.]+)$/,"$1."+rs(i[1])).replace(/\.$/,"."+rs(i[1])).replace(/\.(\d*)$/,function(T,w){return"."+w+Hr("0",rs(i[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return h+rT(d,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return h+No(Oc(d,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Js(t,e,-r):No(""+(Math.floor(r)+oH(r,i[1].length)))+"."+Ni(nT(r,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return Js(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=tu(Js(t,e.replace(/[\\-]/g,""),r)),o=0,tu(tu(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return o<s.length?s.charAt(o++):T==="0"?"0":""}));if(e.match(n5))return s=Js(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),u=Ip(d,Math.pow(10,o)-1,!1),s=""+h,p=Ia("n",i[1],u[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+i[2]+"/"+i[3],p=Ap(u[2],o),p.length<i[4].length&&(p=rs(i[4].substr(i[4].length-p.length))+p),s+=p,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),u=Ip(d,Math.pow(10,o)-1,!0),h+(u[0]||(u[1]?"":"0"))+" "+(u[1]?Xv(u[1],o)+i[2]+"/"+i[3]+Ap(u[2],o):Hr(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=Oc(r,0),e.length<=s.length?s:rs(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var x=e.indexOf(".")-o,y=e.length-s.length-x;return rs(e.substr(0,x)+s+e.substr(e.length-y))}if(i=e.match(/^00,000\.([#0]*0)$/))return o=nT(r,i[1].length),r<0?"-"+Js(t,e,-r):No(lH(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Ni(0,3-T.length):"")+T})+"."+Ni(o,i[1].length);switch(e){case"###,##0.00":return Js(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var v=No(Oc(d,0));return v!=="0"?h+v:"";case"###,###.00":return Js(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Js(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function cH(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Ia(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function uH(t,e,r){var n=e.replace(JA,""),s=e.length-n.length;return Ia(t,n,r*Math.pow(10,2*s))+Hr("%",s)}function s5(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+s5(t,-e);var s=t.indexOf(".");s===-1&&(s=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(e/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),!r.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,h,p){return d+h+p.substr(0,(s+i)%s)+"."+p.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Wi(t,e,r){if(t.charCodeAt(0)===40&&!e.match(r5)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Wi("n",n,r):"("+Wi("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return cH(t,e,r);if(e.indexOf("%")!==-1)return uH(t,e,r);if(e.indexOf("E")!==-1)return s5(e,r);if(e.charCodeAt(0)===36)return"$"+Wi(t,e.substr(e.charAt(1)==" "?2:1),r);var s,i,o,u,d=Math.abs(r),h=r<0?"-":"";if(e.match(/^00+$/))return h+Ni(d,e.length);if(e.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>e.length?s:rs(e.substr(0,e.length-s.length))+s;if(i=e.match(e5))return aH(i,d,h);if(e.match(/^#+0+$/))return h+Ni(d,e.length-e.indexOf("0"));if(i=e.match(t5))return s=(""+r).replace(/^([^\.]+)$/,"$1."+rs(i[1])).replace(/\.$/,"."+rs(i[1])),s=s.replace(/\.(\d*)$/,function(T,w){return"."+w+Hr("0",rs(i[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return h+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return h+No(""+d);if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Wi(t,e,-r):No(""+r)+"."+Hr("0",i[1].length);if(i=e.match(/^#,#*,#0/))return Wi(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=tu(Wi(t,e.replace(/[\\-]/g,""),r)),o=0,tu(tu(e.replace(/\\/g,"")).replace(/[0#]/g,function(T){return o<s.length?s.charAt(o++):T==="0"?"0":""}));if(e.match(n5))return s=Wi(t,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var p="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),u=Ip(d,Math.pow(10,o)-1,!1),s=""+h,p=Ia("n",i[1],u[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),s+=p+i[2]+"/"+i[3],p=Ap(u[2],o),p.length<i[4].length&&(p=rs(i[4].substr(i[4].length-p.length))+p),s+=p,s;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),u=Ip(d,Math.pow(10,o)-1,!0),h+(u[0]||(u[1]?"":"0"))+" "+(u[1]?Xv(u[1],o)+i[2]+"/"+i[3]+Ap(u[2],o):Hr(" ",2*o+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return s=""+r,e.length<=s.length?s:rs(e.substr(0,e.length-s.length))+s;if(i=e.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=s.indexOf(".");var x=e.indexOf(".")-o,y=e.length-s.length-x;return rs(e.substr(0,x)+s+e.substr(e.length-y))}if(i=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Wi(t,e,-r):No(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Ni(0,3-T.length):"")+T})+"."+Ni(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var v=No(""+d);return v!=="0"?h+v:"";default:if(e.match(/\.[0#?]*$/))return Wi(t,e.slice(0,e.lastIndexOf(".")),r)+rs(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ia(t,e,r){return(r|0)===r?Wi(t,e,r):Js(t,e,r)}function dH(t){for(var e=[],r=!1,n=0,s=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(s,n-s),s=n+1}if(e[e.length]=t.substr(s),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var i5=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function a5(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":Cp(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(i5))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function hH(t,e,r,n){for(var s=[],i="",o=0,u="",d="t",h,p,x,y="H";o<t.length;)switch(u=t.charAt(o)){case"G":if(!Cp(t,o))throw new Error("unrecognized character "+u+" in "+t);s[s.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(x=t.charCodeAt(++o))!==34&&o<t.length;)i+=String.fromCharCode(x);s[s.length]={t:"t",v:i},++o;break;case"\\":var v=t.charAt(++o),T=v==="("||v===")"?v:"t";s[s.length]={t:T,v},++o;break;case"_":s[s.length]={t:"t",v:" "},o+=2;break;case"@":s[s.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(h==null&&(h=vf(e,r,t.charAt(o+1)==="2"),h==null))return"";s[s.length]={t:"X",v:t.substr(o,2)},d=u,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=vf(e,r),h==null))return"";for(i=u;++o<t.length&&t.charAt(o).toLowerCase()===u;)i+=u;u==="m"&&d.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=y),s[s.length]={t:u,v:i},d=u;break;case"A":case"a":case"上":var w={t:u,v:u};if(h==null&&(h=vf(e,r)),t.substr(o,3).toUpperCase()==="A/P"?(h!=null&&(w.v=h.H>=12?"P":"A"),w.t="T",y="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(h!=null&&(w.v=h.H>=12?"PM":"AM"),w.t="T",o+=5,y="h"):t.substr(o,5).toUpperCase()==="上午/下午"?(h!=null&&(w.v=h.H>=12?"下午":"上午"),w.t="T",o+=5,y="h"):(w.t="t",++o),h==null&&w.t==="T")return"";s[s.length]=w,d=u;break;case"[":for(i=u;t.charAt(o++)!=="]"&&o<t.length;)i+=t.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(i5)){if(h==null&&(h=vf(e,r),h==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},d=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",a5(t)||(s[s.length]={t:"t",v:i}));break;case".":if(h!=null){for(i=u;++o<t.length&&(u=t.charAt(o))==="0";)i+=u;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=u;++o<t.length&&"0#?.,E+-%".indexOf(u=t.charAt(o))>-1;)i+=u;s[s.length]={t:"n",v:i};break;case"?":for(i=u;t.charAt(++o)===u;)i+=u;s[s.length]={t:u,v:i},d=u;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":s[s.length]={t:n===1?"t":u,v:u},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=u;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)i+=t.charAt(o);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:u,v:u},++o;break;case"$":s[s.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+t);s[s.length]={t:"t",v:u},++o;break}var _=0,C=0,j;for(o=s.length-1,d="t";o>=0;--o)switch(s[o].t){case"h":case"H":s[o].t=y,d="h",_<1&&(_=1);break;case"s":(j=s[o].v.match(/\.0+$/))&&(C=Math.max(C,j[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":d=s[o].t;break;case"m":d==="s"&&(s[o].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&s[o].v.match(/[Hh]/)&&(_=1),_<2&&s[o].v.match(/[Mm]/)&&(_=2),_<3&&s[o].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var O="",M;for(o=0;o<s.length;++o)switch(s[o].t){case"t":case"T":case" ":case"D":break;case"X":s[o].v="",s[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[o].v=rH(s[o].t.charCodeAt(0),s[o].v,h,C),s[o].t="t";break;case"n":case"?":for(M=o+1;s[M]!=null&&((u=s[M].t)==="?"||u==="D"||(u===" "||u==="t")&&s[M+1]!=null&&(s[M+1].t==="?"||s[M+1].t==="t"&&s[M+1].v==="/")||s[o].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(s[M].v==="/"||s[M].v===" "&&s[M+1]!=null&&s[M+1].t=="?"));)s[o].v+=s[M].v,s[M]={v:"",t:";"},++M;O+=s[o].v,o=M-1;break;case"G":s[o].t="t",s[o].v=zy(e,r);break}var Y="",ne,A;if(O.length>0){O.charCodeAt(0)==40?(ne=e<0&&O.charCodeAt(0)===45?-e:e,A=Ia("n",O,ne)):(ne=e<0&&n>1?-e:e,A=Ia("n",O,ne),ne<0&&s[0]&&s[0].t=="t"&&(A=A.substr(1),s[0].v="-"+s[0].v)),M=A.length-1;var S=s.length;for(o=0;o<s.length;++o)if(s[o]!=null&&s[o].t!="t"&&s[o].v.indexOf(".")>-1){S=o;break}var I=s.length;if(S===s.length&&A.indexOf("E")===-1){for(o=s.length-1;o>=0;--o)s[o]==null||"n?".indexOf(s[o].t)===-1||(M>=s[o].v.length-1?(M-=s[o].v.length,s[o].v=A.substr(M+1,s[o].v.length)):M<0?s[o].v="":(s[o].v=A.substr(0,M+1),M=-1),s[o].t="t",I=o);M>=0&&I<s.length&&(s[I].v=A.substr(0,M+1)+s[I].v)}else if(S!==s.length&&A.indexOf("E")===-1){for(M=A.indexOf(".")-1,o=S;o>=0;--o)if(!(s[o]==null||"n?".indexOf(s[o].t)===-1)){for(p=s[o].v.indexOf(".")>-1&&o===S?s[o].v.indexOf(".")-1:s[o].v.length-1,Y=s[o].v.substr(p+1);p>=0;--p)M>=0&&(s[o].v.charAt(p)==="0"||s[o].v.charAt(p)==="#")&&(Y=A.charAt(M--)+Y);s[o].v=Y,s[o].t="t",I=o}for(M>=0&&I<s.length&&(s[I].v=A.substr(0,M+1)+s[I].v),M=A.indexOf(".")+1,o=S;o<s.length;++o)if(!(s[o]==null||"n?(".indexOf(s[o].t)===-1&&o!==S)){for(p=s[o].v.indexOf(".")>-1&&o===S?s[o].v.indexOf(".")+1:0,Y=s[o].v.substr(0,p);p<s[o].v.length;++p)M<A.length&&(Y+=A.charAt(M++));s[o].v=Y,s[o].t="t",I=o}}}for(o=0;o<s.length;++o)s[o]!=null&&"n?".indexOf(s[o].t)>-1&&(ne=n>1&&e<0&&o>0&&s[o-1].v==="-"?-e:e,s[o].v=Ia(s[o].t,s[o].v,ne),s[o].t="t");var V="";for(o=0;o!==s.length;++o)s[o]!=null&&(V+=s[o].v);return V}var sT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function iT(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function fH(t,e){var r=dH(t),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(sT),u=r[1].match(sT);return iT(e,o)?[n,r[0]]:iT(e,u)?[n,r[1]]:[n,r[o!=null&&u!=null?2:1]]}return[n,i]}function Bo(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Wr)[t],n==null&&(n=r.table&&r.table[tT[t]]||Wr[tT[t]]),n==null&&(n=Kz[t]||"General");break}if(Cp(n,0))return zy(e,r);e instanceof Date&&(e=QA(e,r.date1904));var s=fH(n,e);if(Cp(s[1]))return zy(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return hH(s[1],e,r,s[0])}function o5(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Wr[r]==null){e<0&&(e=r);continue}if(Wr[r]==t){e=r;break}}e<0&&(e=391)}return Wr[e]=t,e}function Tm(t){for(var e=0;e!=392;++e)t[e]!==void 0&&o5(t[e],e)}function Nm(){Wr=Gz()}var l5=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function pH(t){var e=typeof t=="number"?Wr[t]:t;return e=e.replace(l5,"(\\d+)"),new RegExp("^"+e+"$")}function mH(t,e,r){var n=-1,s=-1,i=-1,o=-1,u=-1,d=-1;(e.match(l5)||[]).forEach(function(x,y){var v=parseInt(r[y+1],10);switch(x.toLowerCase().charAt(0)){case"y":n=v;break;case"d":i=v;break;case"h":o=v;break;case"s":d=v;break;case"m":o>=0?u=v:s=v;break}}),d>=0&&u==-1&&s>=0&&(u=s,s=-1);var h=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var p=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return o==-1&&u==-1&&d==-1?h:n==-1&&s==-1&&i==-1?p:h+"T"+p}var gH=(function(){var t={};t.version="1.2.0";function e(){for(var A=0,S=new Array(256),I=0;I!=256;++I)A=I,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,S[I]=A;return typeof Int32Array<"u"?new Int32Array(S):S}var r=e();function n(A){var S=0,I=0,V=0,B=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(V=0;V!=256;++V)B[V]=A[V];for(V=0;V!=256;++V)for(I=A[V],S=256+V;S<4096;S+=256)I=B[S]=I>>>8^A[I&255];var H=[];for(V=1;V!=16;++V)H[V-1]=typeof Int32Array<"u"?B.subarray(V*256,V*256+256):B.slice(V*256,V*256+256);return H}var s=n(r),i=s[0],o=s[1],u=s[2],d=s[3],h=s[4],p=s[5],x=s[6],y=s[7],v=s[8],T=s[9],w=s[10],_=s[11],C=s[12],j=s[13],O=s[14];function M(A,S){for(var I=S^-1,V=0,B=A.length;V<B;)I=I>>>8^r[(I^A.charCodeAt(V++))&255];return~I}function Y(A,S){for(var I=S^-1,V=A.length-15,B=0;B<V;)I=O[A[B++]^I&255]^j[A[B++]^I>>8&255]^C[A[B++]^I>>16&255]^_[A[B++]^I>>>24]^w[A[B++]]^T[A[B++]]^v[A[B++]]^y[A[B++]]^x[A[B++]]^p[A[B++]]^h[A[B++]]^d[A[B++]]^u[A[B++]]^o[A[B++]]^i[A[B++]]^r[A[B++]];for(V+=15;B<V;)I=I>>>8^r[(I^A[B++])&255];return~I}function ne(A,S){for(var I=S^-1,V=0,B=A.length,H=0,D=0;V<B;)H=A.charCodeAt(V++),H<128?I=I>>>8^r[(I^H)&255]:H<2048?(I=I>>>8^r[(I^(192|H>>6&31))&255],I=I>>>8^r[(I^(128|H&63))&255]):H>=55296&&H<57344?(H=(H&1023)+64,D=A.charCodeAt(V++)&1023,I=I>>>8^r[(I^(240|H>>8&7))&255],I=I>>>8^r[(I^(128|H>>2&63))&255],I=I>>>8^r[(I^(128|D>>6&15|(H&3)<<4))&255],I=I>>>8^r[(I^(128|D&63))&255]):(I=I>>>8^r[(I^(224|H>>12&15))&255],I=I>>>8^r[(I^(128|H>>6&63))&255],I=I>>>8^r[(I^(128|H&63))&255]);return~I}return t.table=r,t.bstr=M,t.buf=Y,t.str=ne,t})(),fr=(function(){var e={};e.version="1.2.1";function r(L,q){for(var z=L.split("/"),W=q.split("/"),G=0,K=0,ue=Math.min(z.length,W.length);G<ue;++G){if(K=z[G].length-W[G].length)return K;if(z[G]!=W[G])return z[G]<W[G]?-1:1}return z.length-W.length}function n(L){if(L.charAt(L.length-1)=="/")return L.slice(0,-1).indexOf("/")===-1?L:n(L.slice(0,-1));var q=L.lastIndexOf("/");return q===-1?L:L.slice(0,q+1)}function s(L){if(L.charAt(L.length-1)=="/")return s(L.slice(0,-1));var q=L.lastIndexOf("/");return q===-1?L:L.slice(q+1)}function i(L,q){typeof q=="string"&&(q=new Date(q));var z=q.getHours();z=z<<6|q.getMinutes(),z=z<<5|q.getSeconds()>>>1,L.write_shift(2,z);var W=q.getFullYear()-1980;W=W<<4|q.getMonth()+1,W=W<<5|q.getDate(),L.write_shift(2,W)}function o(L){var q=L.read_shift(2)&65535,z=L.read_shift(2)&65535,W=new Date,G=z&31;z>>>=5;var K=z&15;z>>>=4,W.setMilliseconds(0),W.setFullYear(z+1980),W.setMonth(K-1),W.setDate(G);var ue=q&31;q>>>=5;var _e=q&63;return q>>>=6,W.setHours(q),W.setMinutes(_e),W.setSeconds(ue<<1),W}function u(L){js(L,0);for(var q={},z=0;L.l<=L.length-4;){var W=L.read_shift(2),G=L.read_shift(2),K=L.l+G,ue={};switch(W){case 21589:z=L.read_shift(1),z&1&&(ue.mtime=L.read_shift(4)),G>5&&(z&2&&(ue.atime=L.read_shift(4)),z&4&&(ue.ctime=L.read_shift(4))),ue.mtime&&(ue.mt=new Date(ue.mtime*1e3));break}L.l=K,q[W]=ue}return q}var d;function h(){return d||(d={})}function p(L,q){if(L[0]==80&&L[1]==75)return St(L,q);if((L[0]|32)==109&&(L[1]|32)==105)return Be(L,q);if(L.length<512)throw new Error("CFB file size "+L.length+" < 512");var z=3,W=512,G=0,K=0,ue=0,_e=0,fe=0,me=[],xe=L.slice(0,512);js(xe,0);var Fe=x(xe);switch(z=Fe[0],z){case 3:W=512;break;case 4:W=4096;break;case 0:if(Fe[1]==0)return St(L,q);default:throw new Error("Major Version: Expected 3 or 4 saw "+z)}W!==512&&(xe=L.slice(0,W),js(xe,28));var Ze=L.slice(0,W);y(xe,z);var nt=xe.read_shift(4,"i");if(z===3&&nt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+nt);xe.l+=4,ue=xe.read_shift(4,"i"),xe.l+=4,xe.chk("00100000","Mini Stream Cutoff Size: "),_e=xe.read_shift(4,"i"),G=xe.read_shift(4,"i"),fe=xe.read_shift(4,"i"),K=xe.read_shift(4,"i");for(var Ke=-1,$e=0;$e<109&&(Ke=xe.read_shift(4,"i"),!(Ke<0));++$e)me[$e]=Ke;var At=v(L,W);_(fe,K,At,W,me);var tr=j(At,ue,me,W);tr[ue].name="!Directory",G>0&&_e!==D&&(tr[_e].name="!MiniFAT"),tr[me[0]].name="!FAT",tr.fat_addrs=me,tr.ssz=W;var Jt={},ir=[],oi=[],Oi=[];O(ue,tr,At,ir,G,Jt,oi,_e),T(oi,Oi,ir),ir.shift();var Ns={FileIndex:oi,FullPaths:Oi};return q&&q.raw&&(Ns.raw={header:Ze,sectors:At}),Ns}function x(L){if(L[L.l]==80&&L[L.l+1]==75)return[0,0];L.chk(ae,"Header Signature: "),L.l+=16;var q=L.read_shift(2,"u");return[L.read_shift(2,"u"),q]}function y(L,q){var z=9;switch(L.l+=2,z=L.read_shift(2)){case 9:if(q!=3)throw new Error("Sector Shift: Expected 9 saw "+z);break;case 12:if(q!=4)throw new Error("Sector Shift: Expected 12 saw "+z);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+z)}L.chk("0600","Mini Sector Shift: "),L.chk("000000000000","Reserved: ")}function v(L,q){for(var z=Math.ceil(L.length/q)-1,W=[],G=1;G<z;++G)W[G-1]=L.slice(G*q,(G+1)*q);return W[z-1]=L.slice(z*q),W}function T(L,q,z){for(var W=0,G=0,K=0,ue=0,_e=0,fe=z.length,me=[],xe=[];W<fe;++W)me[W]=xe[W]=W,q[W]=z[W];for(;_e<xe.length;++_e)W=xe[_e],G=L[W].L,K=L[W].R,ue=L[W].C,me[W]===W&&(G!==-1&&me[G]!==G&&(me[W]=me[G]),K!==-1&&me[K]!==K&&(me[W]=me[K])),ue!==-1&&(me[ue]=W),G!==-1&&W!=me[W]&&(me[G]=me[W],xe.lastIndexOf(G)<_e&&xe.push(G)),K!==-1&&W!=me[W]&&(me[K]=me[W],xe.lastIndexOf(K)<_e&&xe.push(K));for(W=1;W<fe;++W)me[W]===W&&(K!==-1&&me[K]!==K?me[W]=me[K]:G!==-1&&me[G]!==G&&(me[W]=me[G]));for(W=1;W<fe;++W)if(L[W].type!==0){if(_e=W,_e!=me[_e])do _e=me[_e],q[W]=q[_e]+"/"+q[W];while(_e!==0&&me[_e]!==-1&&_e!=me[_e]);me[W]=-1}for(q[0]+="/",W=1;W<fe;++W)L[W].type!==2&&(q[W]+="/")}function w(L,q,z){for(var W=L.start,G=L.size,K=[],ue=W;z&&G>0&&ue>=0;)K.push(q.slice(ue*H,ue*H+H)),G-=H,ue=yl(z,ue*4);return K.length===0?Ne(0):jn(K).slice(0,L.size)}function _(L,q,z,W,G){var K=D;if(L===D){if(q!==0)throw new Error("DIFAT chain shorter than expected")}else if(L!==-1){var ue=z[L],_e=(W>>>2)-1;if(!ue)return;for(var fe=0;fe<_e&&(K=yl(ue,fe*4))!==D;++fe)G.push(K);_(yl(ue,W-4),q-1,z,W,G)}}function C(L,q,z,W,G){var K=[],ue=[];G||(G=[]);var _e=W-1,fe=0,me=0;for(fe=q;fe>=0;){G[fe]=!0,K[K.length]=fe,ue.push(L[fe]);var xe=z[Math.floor(fe*4/W)];if(me=fe*4&_e,W<4+me)throw new Error("FAT boundary crossed: "+fe+" 4 "+W);if(!L[xe])break;fe=yl(L[xe],me)}return{nodes:K,data:fT([ue])}}function j(L,q,z,W){var G=L.length,K=[],ue=[],_e=[],fe=[],me=W-1,xe=0,Fe=0,Ze=0,nt=0;for(xe=0;xe<G;++xe)if(_e=[],Ze=xe+q,Ze>=G&&(Ze-=G),!ue[Ze]){fe=[];var Ke=[];for(Fe=Ze;Fe>=0;){Ke[Fe]=!0,ue[Fe]=!0,_e[_e.length]=Fe,fe.push(L[Fe]);var $e=z[Math.floor(Fe*4/W)];if(nt=Fe*4&me,W<4+nt)throw new Error("FAT boundary crossed: "+Fe+" 4 "+W);if(!L[$e]||(Fe=yl(L[$e],nt),Ke[Fe]))break}K[Ze]={nodes:_e,data:fT([fe])}}return K}function O(L,q,z,W,G,K,ue,_e){for(var fe=0,me=W.length?2:0,xe=q[L].data,Fe=0,Ze=0,nt;Fe<xe.length;Fe+=128){var Ke=xe.slice(Fe,Fe+128);js(Ke,64),Ze=Ke.read_shift(2),nt=t2(Ke,0,Ze-me),W.push(nt);var $e={name:nt,type:Ke.read_shift(1),color:Ke.read_shift(1),L:Ke.read_shift(4,"i"),R:Ke.read_shift(4,"i"),C:Ke.read_shift(4,"i"),clsid:Ke.read_shift(16),state:Ke.read_shift(4,"i"),start:0,size:0},At=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);At!==0&&($e.ct=M(Ke,Ke.l-8));var tr=Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2)+Ke.read_shift(2);tr!==0&&($e.mt=M(Ke,Ke.l-8)),$e.start=Ke.read_shift(4,"i"),$e.size=Ke.read_shift(4,"i"),$e.size<0&&$e.start<0&&($e.size=$e.type=0,$e.start=D,$e.name=""),$e.type===5?(fe=$e.start,G>0&&fe!==D&&(q[fe].name="!StreamData")):$e.size>=4096?($e.storage="fat",q[$e.start]===void 0&&(q[$e.start]=C(z,$e.start,q.fat_addrs,q.ssz)),q[$e.start].name=$e.name,$e.content=q[$e.start].data.slice(0,$e.size)):($e.storage="minifat",$e.size<0?$e.size=0:fe!==D&&$e.start!==D&&q[fe]&&($e.content=w($e,q[fe].data,(q[_e]||{}).data))),$e.content&&js($e.content,0),K[nt]=$e,ue.push($e)}}function M(L,q){return new Date((Os(L,q+4)/1e7*Math.pow(2,32)+Os(L,q)/1e7-11644473600)*1e3)}function Y(L,q){return h(),p(d.readFileSync(L),q)}function ne(L,q){var z=q&&q.type;switch(z||rr&&Buffer.isBuffer(L)&&(z="buffer"),z||"base64"){case"file":return Y(L,q);case"base64":return p(_i(Ba(L)),q);case"binary":return p(_i(L),q)}return p(L,q)}function A(L,q){var z=q||{},W=z.root||"Root Entry";if(L.FullPaths||(L.FullPaths=[]),L.FileIndex||(L.FileIndex=[]),L.FullPaths.length!==L.FileIndex.length)throw new Error("inconsistent CFB structure");L.FullPaths.length===0&&(L.FullPaths[0]=W+"/",L.FileIndex[0]={name:W,type:5}),z.CLSID&&(L.FileIndex[0].clsid=z.CLSID),S(L)}function S(L){var q="Sh33tJ5";if(!fr.find(L,"/"+q)){var z=Ne(4);z[0]=55,z[1]=z[3]=50,z[2]=54,L.FileIndex.push({name:q,type:2,content:z,size:4,L:69,R:69,C:69}),L.FullPaths.push(L.FullPaths[0]+q),I(L)}}function I(L,q){A(L);for(var z=!1,W=!1,G=L.FullPaths.length-1;G>=0;--G){var K=L.FileIndex[G];switch(K.type){case 0:W?z=!0:(L.FileIndex.pop(),L.FullPaths.pop());break;case 1:case 2:case 5:W=!0,isNaN(K.R*K.L*K.C)&&(z=!0),K.R>-1&&K.L>-1&&K.R==K.L&&(z=!0);break;default:z=!0;break}}if(!(!z&&!q)){var ue=new Date(1987,1,19),_e=0,fe=Object.create?Object.create(null):{},me=[];for(G=0;G<L.FullPaths.length;++G)fe[L.FullPaths[G]]=!0,L.FileIndex[G].type!==0&&me.push([L.FullPaths[G],L.FileIndex[G]]);for(G=0;G<me.length;++G){var xe=n(me[G][0]);W=fe[xe],W||(me.push([xe,{name:s(xe).replace("/",""),type:1,clsid:Ge,ct:ue,mt:ue,content:null}]),fe[xe]=!0)}for(me.sort(function(nt,Ke){return r(nt[0],Ke[0])}),L.FullPaths=[],L.FileIndex=[],G=0;G<me.length;++G)L.FullPaths[G]=me[G][0],L.FileIndex[G]=me[G][1];for(G=0;G<me.length;++G){var Fe=L.FileIndex[G],Ze=L.FullPaths[G];if(Fe.name=s(Ze).replace("/",""),Fe.L=Fe.R=Fe.C=-(Fe.color=1),Fe.size=Fe.content?Fe.content.length:0,Fe.start=0,Fe.clsid=Fe.clsid||Ge,G===0)Fe.C=me.length>1?1:-1,Fe.size=0,Fe.type=5;else if(Ze.slice(-1)=="/"){for(_e=G+1;_e<me.length&&n(L.FullPaths[_e])!=Ze;++_e);for(Fe.C=_e>=me.length?-1:_e,_e=G+1;_e<me.length&&n(L.FullPaths[_e])!=n(Ze);++_e);Fe.R=_e>=me.length?-1:_e,Fe.type=1}else n(L.FullPaths[G+1]||"")==n(Ze)&&(Fe.R=G+1),Fe.type=2}}}function V(L,q){var z=q||{};if(z.fileType=="mad")return at(L,z);switch(I(L),z.fileType){case"zip":return $t(L,z)}var W=(function(nt){for(var Ke=0,$e=0,At=0;At<nt.FileIndex.length;++At){var tr=nt.FileIndex[At];if(tr.content){var Jt=tr.content.length;Jt>0&&(Jt<4096?Ke+=Jt+63>>6:$e+=Jt+511>>9)}}for(var ir=nt.FullPaths.length+3>>2,oi=Ke+7>>3,Oi=Ke+127>>7,Ns=oi+$e+ir+Oi,Gr=Ns+127>>7,qa=Gr<=109?0:Math.ceil((Gr-109)/127);Ns+Gr+qa+127>>7>Gr;)qa=++Gr<=109?0:Math.ceil((Gr-109)/127);var Tr=[1,qa,Gr,Oi,ir,$e,Ke,0];return nt.FileIndex[0].size=Ke<<6,Tr[7]=(nt.FileIndex[0].start=Tr[0]+Tr[1]+Tr[2]+Tr[3]+Tr[4]+Tr[5])+(Tr[6]+7>>3),Tr})(L),G=Ne(W[7]<<9),K=0,ue=0;{for(K=0;K<8;++K)G.write_shift(1,Ce[K]);for(K=0;K<8;++K)G.write_shift(2,0);for(G.write_shift(2,62),G.write_shift(2,3),G.write_shift(2,65534),G.write_shift(2,9),G.write_shift(2,6),K=0;K<3;++K)G.write_shift(2,0);for(G.write_shift(4,0),G.write_shift(4,W[2]),G.write_shift(4,W[0]+W[1]+W[2]+W[3]-1),G.write_shift(4,0),G.write_shift(4,4096),G.write_shift(4,W[3]?W[0]+W[1]+W[2]-1:D),G.write_shift(4,W[3]),G.write_shift(-4,W[1]?W[0]-1:D),G.write_shift(4,W[1]),K=0;K<109;++K)G.write_shift(-4,K<W[2]?W[1]+K:-1)}if(W[1])for(ue=0;ue<W[1];++ue){for(;K<236+ue*127;++K)G.write_shift(-4,K<W[2]?W[1]+K:-1);G.write_shift(-4,ue===W[1]-1?D:ue+1)}var _e=function(nt){for(ue+=nt;K<ue-1;++K)G.write_shift(-4,K+1);nt&&(++K,G.write_shift(-4,D))};for(ue=K=0,ue+=W[1];K<ue;++K)G.write_shift(-4,ke.DIFSECT);for(ue+=W[2];K<ue;++K)G.write_shift(-4,ke.FATSECT);_e(W[3]),_e(W[4]);for(var fe=0,me=0,xe=L.FileIndex[0];fe<L.FileIndex.length;++fe)xe=L.FileIndex[fe],xe.content&&(me=xe.content.length,!(me<4096)&&(xe.start=ue,_e(me+511>>9)));for(_e(W[6]+7>>3);G.l&511;)G.write_shift(-4,ke.ENDOFCHAIN);for(ue=K=0,fe=0;fe<L.FileIndex.length;++fe)xe=L.FileIndex[fe],xe.content&&(me=xe.content.length,!(!me||me>=4096)&&(xe.start=ue,_e(me+63>>6)));for(;G.l&511;)G.write_shift(-4,ke.ENDOFCHAIN);for(K=0;K<W[4]<<2;++K){var Fe=L.FullPaths[K];if(!Fe||Fe.length===0){for(fe=0;fe<17;++fe)G.write_shift(4,0);for(fe=0;fe<3;++fe)G.write_shift(4,-1);for(fe=0;fe<12;++fe)G.write_shift(4,0);continue}xe=L.FileIndex[K],K===0&&(xe.start=xe.size?xe.start-1:D);var Ze=K===0&&z.root||xe.name;if(me=2*(Ze.length+1),G.write_shift(64,Ze,"utf16le"),G.write_shift(2,me),G.write_shift(1,xe.type),G.write_shift(1,xe.color),G.write_shift(-4,xe.L),G.write_shift(-4,xe.R),G.write_shift(-4,xe.C),xe.clsid)G.write_shift(16,xe.clsid,"hex");else for(fe=0;fe<4;++fe)G.write_shift(4,0);G.write_shift(4,xe.state||0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,xe.start),G.write_shift(4,xe.size),G.write_shift(4,0)}for(K=1;K<L.FileIndex.length;++K)if(xe=L.FileIndex[K],xe.size>=4096)if(G.l=xe.start+1<<9,rr&&Buffer.isBuffer(xe.content))xe.content.copy(G,G.l,0,xe.size),G.l+=xe.size+511&-512;else{for(fe=0;fe<xe.size;++fe)G.write_shift(1,xe.content[fe]);for(;fe&511;++fe)G.write_shift(1,0)}for(K=1;K<L.FileIndex.length;++K)if(xe=L.FileIndex[K],xe.size>0&&xe.size<4096)if(rr&&Buffer.isBuffer(xe.content))xe.content.copy(G,G.l,0,xe.size),G.l+=xe.size+63&-64;else{for(fe=0;fe<xe.size;++fe)G.write_shift(1,xe.content[fe]);for(;fe&63;++fe)G.write_shift(1,0)}if(rr)G.l=G.length;else for(;G.l<G.length;)G.write_shift(1,0);return G}function B(L,q){var z=L.FullPaths.map(function(fe){return fe.toUpperCase()}),W=z.map(function(fe){var me=fe.split("/");return me[me.length-(fe.slice(-1)=="/"?2:1)]}),G=!1;q.charCodeAt(0)===47?(G=!0,q=z[0].slice(0,-1)+q):G=q.indexOf("/")!==-1;var K=q.toUpperCase(),ue=G===!0?z.indexOf(K):W.indexOf(K);if(ue!==-1)return L.FileIndex[ue];var _e=!K.match(yf);for(K=K.replace($d,""),_e&&(K=K.replace(yf,"!")),ue=0;ue<z.length;++ue)if((_e?z[ue].replace(yf,"!"):z[ue]).replace($d,"")==K||(_e?W[ue].replace(yf,"!"):W[ue]).replace($d,"")==K)return L.FileIndex[ue];return null}var H=64,D=-2,ae="d0cf11e0a1b11ae1",Ce=[208,207,17,224,161,177,26,225],Ge="00000000000000000000000000000000",ke={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:D,FREESECT:-1,HEADER_SIGNATURE:ae,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Ge,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ce(L,q,z){h();var W=V(L,z);d.writeFileSync(q,W)}function ye(L){for(var q=new Array(L.length),z=0;z<L.length;++z)q[z]=String.fromCharCode(L[z]);return q.join("")}function be(L,q){var z=V(L,q);switch(q&&q.type||"buffer"){case"file":return h(),d.writeFileSync(q.filename,z),z;case"binary":return typeof z=="string"?z:ye(z);case"base64":return f0(typeof z=="string"?z:ye(z));case"buffer":if(rr)return Buffer.isBuffer(z)?z:Wa(z);case"array":return typeof z=="string"?_i(z):z}return z}var te;function R(L){try{var q=L.InflateRaw,z=new q;if(z._processChunk(new Uint8Array([3,0]),z._finishFlushFlag),z.bytesRead)te=L;else throw new Error("zlib does not expose bytesRead")}catch(W){console.error("cannot use native zlib: "+(W.message||W))}}function X(L,q){if(!te)return $r(L,q);var z=te.InflateRaw,W=new z,G=W._processChunk(L.slice(L.l),W._finishFlushFlag);return L.l+=W.bytesRead,G}function Q(L){return te?te.deflateRawSync(L):Oe(L)}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Re(L){var q=(L<<1|L<<11)&139536|(L<<5|L<<15)&558144;return(q>>16|q>>8|q)&255}for(var Se=typeof Uint8Array<"u",pe=Se?new Uint8Array(256):[],Qe=0;Qe<256;++Qe)pe[Qe]=Re(Qe);function yt(L,q){var z=pe[L&255];return q<=8?z>>>8-q:(z=z<<8|pe[L>>8&255],q<=16?z>>>16-q:(z=z<<8|pe[L>>16&255],z>>>24-q))}function Gt(L,q){var z=q&7,W=q>>>3;return(L[W]|(z<=6?0:L[W+1]<<8))>>>z&3}function Et(L,q){var z=q&7,W=q>>>3;return(L[W]|(z<=5?0:L[W+1]<<8))>>>z&7}function dr(L,q){var z=q&7,W=q>>>3;return(L[W]|(z<=4?0:L[W+1]<<8))>>>z&15}function kt(L,q){var z=q&7,W=q>>>3;return(L[W]|(z<=3?0:L[W+1]<<8))>>>z&31}function Ue(L,q){var z=q&7,W=q>>>3;return(L[W]|(z<=1?0:L[W+1]<<8))>>>z&127}function nr(L,q,z){var W=q&7,G=q>>>3,K=(1<<z)-1,ue=L[G]>>>W;return z<8-W||(ue|=L[G+1]<<8-W,z<16-W)||(ue|=L[G+2]<<16-W,z<24-W)||(ue|=L[G+3]<<24-W),ue&K}function Ot(L,q,z){var W=q&7,G=q>>>3;return W<=5?L[G]|=(z&7)<<W:(L[G]|=z<<W&255,L[G+1]=(z&7)>>8-W),q+3}function vr(L,q,z){var W=q&7,G=q>>>3;return z=(z&1)<<W,L[G]|=z,q+1}function le(L,q,z){var W=q&7,G=q>>>3;return z<<=W,L[G]|=z&255,z>>>=8,L[G+1]=z,q+8}function Me(L,q,z){var W=q&7,G=q>>>3;return z<<=W,L[G]|=z&255,z>>>=8,L[G+1]=z&255,L[G+2]=z>>>8,q+16}function ht(L,q){var z=L.length,W=2*z>q?2*z:q+5,G=0;if(z>=q)return L;if(rr){var K=JE(W);if(L.copy)L.copy(K);else for(;G<L.length;++G)K[G]=L[G];return K}else if(Se){var ue=new Uint8Array(W);if(ue.set)ue.set(L);else for(;G<z;++G)ue[G]=L[G];return ue}return L.length=W,L}function it(L){for(var q=new Array(L),z=0;z<L;++z)q[z]=0;return q}function Te(L,q,z){var W=1,G=0,K=0,ue=0,_e=0,fe=L.length,me=Se?new Uint16Array(32):it(32);for(K=0;K<32;++K)me[K]=0;for(K=fe;K<z;++K)L[K]=0;fe=L.length;var xe=Se?new Uint16Array(fe):it(fe);for(K=0;K<fe;++K)me[G=L[K]]++,W<G&&(W=G),xe[K]=0;for(me[0]=0,K=1;K<=W;++K)me[K+16]=_e=_e+me[K-1]<<1;for(K=0;K<fe;++K)_e=L[K],_e!=0&&(xe[K]=me[_e+16]++);var Fe=0;for(K=0;K<fe;++K)if(Fe=L[K],Fe!=0)for(_e=yt(xe[K],W)>>W-Fe,ue=(1<<W+4-Fe)-1;ue>=0;--ue)q[_e|ue<<Fe]=Fe&15|K<<4;return W}var Ie=Se?new Uint16Array(512):it(512),Xe=Se?new Uint16Array(32):it(32);if(!Se){for(var ze=0;ze<512;++ze)Ie[ze]=0;for(ze=0;ze<32;++ze)Xe[ze]=0}(function(){for(var L=[],q=0;q<32;q++)L.push(5);Te(L,Xe,32);var z=[];for(q=0;q<=143;q++)z.push(8);for(;q<=255;q++)z.push(9);for(;q<=279;q++)z.push(7);for(;q<=287;q++)z.push(8);Te(z,Ie,288)})();var Rt=(function(){for(var q=Se?new Uint8Array(32768):[],z=0,W=0;z<Ae.length-1;++z)for(;W<Ae[z+1];++W)q[W]=z;for(;W<32768;++W)q[W]=29;var G=Se?new Uint8Array(259):[];for(z=0,W=0;z<re.length-1;++z)for(;W<re[z+1];++W)G[W]=z;function K(_e,fe){for(var me=0;me<_e.length;){var xe=Math.min(65535,_e.length-me),Fe=me+xe==_e.length;for(fe.write_shift(1,+Fe),fe.write_shift(2,xe),fe.write_shift(2,~xe&65535);xe-- >0;)fe[fe.l++]=_e[me++]}return fe.l}function ue(_e,fe){for(var me=0,xe=0,Fe=Se?new Uint16Array(32768):[];xe<_e.length;){var Ze=Math.min(65535,_e.length-xe);if(Ze<10){for(me=Ot(fe,me,+(xe+Ze==_e.length)),me&7&&(me+=8-(me&7)),fe.l=me/8|0,fe.write_shift(2,Ze),fe.write_shift(2,~Ze&65535);Ze-- >0;)fe[fe.l++]=_e[xe++];me=fe.l*8;continue}me=Ot(fe,me,+(xe+Ze==_e.length)+2);for(var nt=0;Ze-- >0;){var Ke=_e[xe];nt=(nt<<5^Ke)&32767;var $e=-1,At=0;if(($e=Fe[nt])&&($e|=xe&-32768,$e>xe&&($e-=32768),$e<xe))for(;_e[$e+At]==_e[xe+At]&&At<250;)++At;if(At>2){Ke=G[At],Ke<=22?me=le(fe,me,pe[Ke+1]>>1)-1:(le(fe,me,3),me+=5,le(fe,me,pe[Ke-23]>>5),me+=3);var tr=Ke<8?0:Ke-4>>2;tr>0&&(Me(fe,me,At-re[Ke]),me+=tr),Ke=q[xe-$e],me=le(fe,me,pe[Ke]>>3),me-=3;var Jt=Ke<4?0:Ke-2>>1;Jt>0&&(Me(fe,me,xe-$e-Ae[Ke]),me+=Jt);for(var ir=0;ir<At;++ir)Fe[nt]=xe&32767,nt=(nt<<5^_e[xe])&32767,++xe;Ze-=At-1}else Ke<=143?Ke=Ke+48:me=vr(fe,me,1),me=le(fe,me,pe[Ke]),Fe[nt]=xe&32767,++xe}me=le(fe,me,0)-1}return fe.l=(me+7)/8|0,fe.l}return function(fe,me){return fe.length<8?K(fe,me):ue(fe,me)}})();function Oe(L){var q=Ne(50+Math.floor(L.length*1.1)),z=Rt(L,q);return q.slice(0,z)}var He=Se?new Uint16Array(32768):it(32768),mt=Se?new Uint16Array(32768):it(32768),pt=Se?new Uint16Array(128):it(128),hr=1,Ht=1;function Er(L,q){var z=kt(L,q)+257;q+=5;var W=kt(L,q)+1;q+=5;var G=dr(L,q)+4;q+=4;for(var K=0,ue=Se?new Uint8Array(19):it(19),_e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],fe=1,me=Se?new Uint8Array(8):it(8),xe=Se?new Uint8Array(8):it(8),Fe=ue.length,Ze=0;Ze<G;++Ze)ue[J[Ze]]=K=Et(L,q),fe<K&&(fe=K),me[K]++,q+=3;var nt=0;for(me[0]=0,Ze=1;Ze<=fe;++Ze)xe[Ze]=nt=nt+me[Ze-1]<<1;for(Ze=0;Ze<Fe;++Ze)(nt=ue[Ze])!=0&&(_e[Ze]=xe[nt]++);var Ke=0;for(Ze=0;Ze<Fe;++Ze)if(Ke=ue[Ze],Ke!=0){nt=pe[_e[Ze]]>>8-Ke;for(var $e=(1<<7-Ke)-1;$e>=0;--$e)pt[nt|$e<<Ke]=Ke&7|Ze<<3}var At=[];for(fe=1;At.length<z+W;)switch(nt=pt[Ue(L,q)],q+=nt&7,nt>>>=3){case 16:for(K=3+Gt(L,q),q+=2,nt=At[At.length-1];K-- >0;)At.push(nt);break;case 17:for(K=3+Et(L,q),q+=3;K-- >0;)At.push(0);break;case 18:for(K=11+Ue(L,q),q+=7;K-- >0;)At.push(0);break;default:At.push(nt),fe<nt&&(fe=nt);break}var tr=At.slice(0,z),Jt=At.slice(z);for(Ze=z;Ze<286;++Ze)tr[Ze]=0;for(Ze=W;Ze<30;++Ze)Jt[Ze]=0;return hr=Te(tr,He,286),Ht=Te(Jt,mt,30),q}function qr(L,q){if(L[0]==3&&!(L[1]&3))return[Ll(q),2];for(var z=0,W=0,G=JE(q||1<<18),K=0,ue=G.length>>>0,_e=0,fe=0;(W&1)==0;){if(W=Et(L,z),z+=3,W>>>1)W>>1==1?(_e=9,fe=5):(z=Er(L,z),_e=hr,fe=Ht);else{z&7&&(z+=8-(z&7));var me=L[z>>>3]|L[(z>>>3)+1]<<8;if(z+=32,me>0)for(!q&&ue<K+me&&(G=ht(G,K+me),ue=G.length);me-- >0;)G[K++]=L[z>>>3],z+=8;continue}for(;;){!q&&ue<K+32767&&(G=ht(G,K+32767),ue=G.length);var xe=nr(L,z,_e),Fe=W>>>1==1?Ie[xe]:He[xe];if(z+=Fe&15,Fe>>>=4,(Fe>>>8&255)===0)G[K++]=Fe;else{if(Fe==256)break;Fe-=257;var Ze=Fe<8?0:Fe-4>>2;Ze>5&&(Ze=0);var nt=K+re[Fe];Ze>0&&(nt+=nr(L,z,Ze),z+=Ze),xe=nr(L,z,fe),Fe=W>>>1==1?Xe[xe]:mt[xe],z+=Fe&15,Fe>>>=4;var Ke=Fe<4?0:Fe-2>>1,$e=Ae[Fe];for(Ke>0&&($e+=nr(L,z,Ke),z+=Ke),!q&&ue<nt&&(G=ht(G,nt+100),ue=G.length);K<nt;)G[K]=G[K-$e],++K}}}return q?[G,z+7>>>3]:[G.slice(0,K),z+7>>>3]}function $r(L,q){var z=L.slice(L.l||0),W=qr(z,q);return L.l+=W[1],W[0]}function Zr(L,q){if(L)typeof console<"u"&&console.error(q);else throw new Error(q)}function St(L,q){var z=L;js(z,0);var W=[],G=[],K={FileIndex:W,FullPaths:G};A(K,{root:q.root});for(var ue=z.length-4;(z[ue]!=80||z[ue+1]!=75||z[ue+2]!=5||z[ue+3]!=6)&&ue>=0;)--ue;z.l=ue+4,z.l+=4;var _e=z.read_shift(2);z.l+=6;var fe=z.read_shift(4);for(z.l=fe,ue=0;ue<_e;++ue){z.l+=20;var me=z.read_shift(4),xe=z.read_shift(4),Fe=z.read_shift(2),Ze=z.read_shift(2),nt=z.read_shift(2);z.l+=8;var Ke=z.read_shift(4),$e=u(z.slice(z.l+Fe,z.l+Fe+Ze));z.l+=Fe+Ze+nt;var At=z.l;z.l=Ke+4,Wt(z,me,xe,K,$e),z.l=At}return K}function Wt(L,q,z,W,G){L.l+=2;var K=L.read_shift(2),ue=L.read_shift(2),_e=o(L);if(K&8257)throw new Error("Unsupported ZIP encryption");for(var fe=L.read_shift(4),me=L.read_shift(4),xe=L.read_shift(4),Fe=L.read_shift(2),Ze=L.read_shift(2),nt="",Ke=0;Ke<Fe;++Ke)nt+=String.fromCharCode(L[L.l++]);if(Ze){var $e=u(L.slice(L.l,L.l+Ze));($e[21589]||{}).mt&&(_e=$e[21589].mt),((G||{})[21589]||{}).mt&&(_e=G[21589].mt)}L.l+=Ze;var At=L.slice(L.l,L.l+me);switch(ue){case 8:At=X(L,xe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ue)}var tr=!1;K&8&&(fe=L.read_shift(4),fe==134695760&&(fe=L.read_shift(4),tr=!0),me=L.read_shift(4),xe=L.read_shift(4)),me!=q&&Zr(tr,"Bad compressed size: "+q+" != "+me),xe!=z&&Zr(tr,"Bad uncompressed size: "+z+" != "+xe),Lt(W,nt,At,{unsafe:!0,mt:_e})}function $t(L,q){var z=q||{},W=[],G=[],K=Ne(1),ue=z.compression?8:0,_e=0,fe=0,me=0,xe=0,Fe=0,Ze=L.FullPaths[0],nt=Ze,Ke=L.FileIndex[0],$e=[],At=0;for(fe=1;fe<L.FullPaths.length;++fe)if(nt=L.FullPaths[fe].slice(Ze.length),Ke=L.FileIndex[fe],!(!Ke.size||!Ke.content||nt=="Sh33tJ5")){var tr=xe,Jt=Ne(nt.length);for(me=0;me<nt.length;++me)Jt.write_shift(1,nt.charCodeAt(me)&127);Jt=Jt.slice(0,Jt.l),$e[Fe]=gH.buf(Ke.content,0);var ir=Ke.content;ue==8&&(ir=Q(ir)),K=Ne(30),K.write_shift(4,67324752),K.write_shift(2,20),K.write_shift(2,_e),K.write_shift(2,ue),Ke.mt?i(K,Ke.mt):K.write_shift(4,0),K.write_shift(-4,$e[Fe]),K.write_shift(4,ir.length),K.write_shift(4,Ke.content.length),K.write_shift(2,Jt.length),K.write_shift(2,0),xe+=K.length,W.push(K),xe+=Jt.length,W.push(Jt),xe+=ir.length,W.push(ir),K=Ne(46),K.write_shift(4,33639248),K.write_shift(2,0),K.write_shift(2,20),K.write_shift(2,_e),K.write_shift(2,ue),K.write_shift(4,0),K.write_shift(-4,$e[Fe]),K.write_shift(4,ir.length),K.write_shift(4,Ke.content.length),K.write_shift(2,Jt.length),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(4,0),K.write_shift(4,tr),At+=K.l,G.push(K),At+=Jt.length,G.push(Jt),++Fe}return K=Ne(22),K.write_shift(4,101010256),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,Fe),K.write_shift(2,Fe),K.write_shift(4,At),K.write_shift(4,xe),K.write_shift(2,0),jn([jn(W),jn(G),K])}var Br={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Pr(L,q){if(L.ctype)return L.ctype;var z=L.name||"",W=z.match(/\.([^\.]+)$/);return W&&Br[W[1]]||q&&(W=(z=q).match(/[\.\\]([^\.\\])+$/),W&&Br[W[1]])?Br[W[1]]:"application/octet-stream"}function Qn(L){for(var q=f0(L),z=[],W=0;W<q.length;W+=76)z.push(q.slice(W,W+76));return z.join(`\r
`)+`\r
`}function Jn(L){var q=L.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(me){var xe=me.charCodeAt(0).toString(16).toUpperCase();return"="+(xe.length==1?"0"+xe:xe)});q=q.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),q.charAt(0)==`
`&&(q="=0D"+q.slice(1)),q=q.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var z=[],W=q.split(`\r
`),G=0;G<W.length;++G){var K=W[G];if(K.length==0){z.push("");continue}for(var ue=0;ue<K.length;){var _e=76,fe=K.slice(ue,ue+_e);fe.charAt(_e-1)=="="?_e--:fe.charAt(_e-2)=="="?_e-=2:fe.charAt(_e-3)=="="&&(_e-=3),fe=K.slice(ue,ue+_e),ue+=_e,ue<K.length&&(fe+="="),z.push(fe)}}return z.join(`\r
`)}function ai(L){for(var q=[],z=0;z<L.length;++z){for(var W=L[z];z<=L.length&&W.charAt(W.length-1)=="=";)W=W.slice(0,W.length-1)+L[++z];q.push(W)}for(var G=0;G<q.length;++G)q[G]=q[G].replace(/[=][0-9A-Fa-f]{2}/g,function(K){return String.fromCharCode(parseInt(K.slice(1),16))});return _i(q.join(`\r
`))}function we(L,q,z){for(var W="",G="",K="",ue,_e=0;_e<10;++_e){var fe=q[_e];if(!fe||fe.match(/^\s*$/))break;var me=fe.match(/^(.*?):\s*([^\s].*)$/);if(me)switch(me[1].toLowerCase()){case"content-location":W=me[2].trim();break;case"content-type":K=me[2].trim();break;case"content-transfer-encoding":G=me[2].trim();break}}switch(++_e,G.toLowerCase()){case"base64":ue=_i(Ba(q.slice(_e).join("")));break;case"quoted-printable":ue=ai(q.slice(_e));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+G)}var xe=Lt(L,W.slice(z.length),ue,{unsafe:!0});K&&(xe.ctype=K)}function Be(L,q){if(ye(L.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var z=q&&q.root||"",W=(rr&&Buffer.isBuffer(L)?L.toString("binary"):ye(L)).split(`\r
`),G=0,K="";for(G=0;G<W.length;++G)if(K=W[G],!!/^Content-Location:/i.test(K)&&(K=K.slice(K.indexOf("file")),z||(z=K.slice(0,K.lastIndexOf("/")+1)),K.slice(0,z.length)!=z))for(;z.length>0&&(z=z.slice(0,z.length-1),z=z.slice(0,z.lastIndexOf("/")+1),K.slice(0,z.length)!=z););var ue=(W[1]||"").match(/boundary="(.*?)"/);if(!ue)throw new Error("MAD cannot find boundary");var _e="--"+(ue[1]||""),fe=[],me=[],xe={FileIndex:fe,FullPaths:me};A(xe);var Fe,Ze=0;for(G=0;G<W.length;++G){var nt=W[G];nt!==_e&&nt!==_e+"--"||(Ze++&&we(xe,W.slice(Fe,G),z),Fe=G)}return xe}function at(L,q){var z=q||{},W=z.boundary||"SheetJS";W="------="+W;for(var G=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+W.slice(2)+'"',"","",""],K=L.FullPaths[0],ue=K,_e=L.FileIndex[0],fe=1;fe<L.FullPaths.length;++fe)if(ue=L.FullPaths[fe].slice(K.length),_e=L.FileIndex[fe],!(!_e.size||!_e.content||ue=="Sh33tJ5")){ue=ue.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(At){return"_x"+At.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(At){return"_u"+At.charCodeAt(0).toString(16)+"_"});for(var me=_e.content,xe=rr&&Buffer.isBuffer(me)?me.toString("binary"):ye(me),Fe=0,Ze=Math.min(1024,xe.length),nt=0,Ke=0;Ke<=Ze;++Ke)(nt=xe.charCodeAt(Ke))>=32&&nt<128&&++Fe;var $e=Fe>=Ze*4/5;G.push(W),G.push("Content-Location: "+(z.root||"file:///C:/SheetJS/")+ue),G.push("Content-Transfer-Encoding: "+($e?"quoted-printable":"base64")),G.push("Content-Type: "+Pr(_e,ue)),G.push(""),G.push($e?Jn(xe):Qn(xe))}return G.push(W+`--\r
`),G.join(`\r
`)}function ut(L){var q={};return A(q,L),q}function Lt(L,q,z,W){var G=W&&W.unsafe;G||A(L);var K=!G&&fr.find(L,q);if(!K){var ue=L.FullPaths[0];q.slice(0,ue.length)==ue?ue=q:(ue.slice(-1)!="/"&&(ue+="/"),ue=(ue+q).replace("//","/")),K={name:s(q),type:2},L.FileIndex.push(K),L.FullPaths.push(ue),G||fr.utils.cfb_gc(L)}return K.content=z,K.size=z?z.length:0,W&&(W.CLSID&&(K.clsid=W.CLSID),W.mt&&(K.mt=W.mt),W.ct&&(K.ct=W.ct)),K}function Rr(L,q){A(L);var z=fr.find(L,q);if(z){for(var W=0;W<L.FileIndex.length;++W)if(L.FileIndex[W]==z)return L.FileIndex.splice(W,1),L.FullPaths.splice(W,1),!0}return!1}function pr(L,q,z){A(L);var W=fr.find(L,q);if(W){for(var G=0;G<L.FileIndex.length;++G)if(L.FileIndex[G]==W)return L.FileIndex[G].name=s(z),L.FullPaths[G]=z,!0}return!1}function jt(L){I(L,!0)}return e.find=B,e.read=ne,e.parse=p,e.write=be,e.writeFile=ce,e.utils={cfb_new:ut,cfb_add:Lt,cfb_del:Rr,cfb_mov:pr,cfb_gc:jt,ReadShift:Ud,CheckField:k5,prep_blob:js,bconcat:jn,use_zlib:R,_deflateRaw:Oe,_inflateRaw:$r,consts:ke},e})();function xH(t){return typeof t=="string"?Em(t):Array.isArray(t)?zz(t):t}function z0(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Em(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?m0(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var s=new Blob([xH(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,t);if(typeof saveAs<"u")return saveAs(s,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(t);return u.open("w"),u.encoding="binary",Array.isArray(e)&&(e=U0(e)),u.write(e),u.close(),e}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+t)}function Mn(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function aT(t,e){for(var r=[],n=Mn(t),s=0;s!==n.length;++s)r[t[n[s]][e]]==null&&(r[t[n[s]][e]]=n[s]);return r}function Qv(t){for(var e=[],r=Mn(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function km(t){for(var e=[],r=Mn(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function yH(t){for(var e=[],r=Mn(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var Pp=new Date(1899,11,30,0,0,0);function Es(t,e){var r=t.getTime(),n=Pp.getTime()+(t.getTimezoneOffset()-Pp.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var c5=new Date,vH=Pp.getTime()+(c5.getTimezoneOffset()-Pp.getTimezoneOffset())*6e4,oT=c5.getTimezoneOffset();function u5(t){var e=new Date;return e.setTime(t*24*60*60*1e3+vH),e.getTimezoneOffset()!==oT&&e.setTime(e.getTime()+(e.getTimezoneOffset()-oT)*6e4),e}var lT=new Date("2017-02-19T19:06:09.000Z"),d5=isNaN(lT.getFullYear())?new Date("2/19/17"):lT,bH=d5.getFullYear()==2017;function ls(t,e){var r=new Date(t);if(bH)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(d5.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Sm(t,e){if(rr&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],s=0;s!=t.length;++s)n.push(String.fromCharCode(t[s]));return n.join("")}function Ts(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Ts(t[r]));return e}function Hr(t,e){for(var r="";r.length<e;)r+=t;return r}function Pa(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(e=Number(n)))?e/r:e}var wH=["january","february","march","april","may","june","july","august","september","october","november","december"];function p0(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),s=e.getMonth(),i=e.getDate();if(isNaN(i))return r;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&wH.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||i>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Ft(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return rr?n=Wa(r):n=Hz(r),fr.utils.cfb_add(t,e,n)}fr.utils.cfb_add(t,e,r)}else t.file(e,r)}function Jv(){return fr.utils.cfb_new()}var on=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,_H={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Zv=Qv(_H),e2=/[&<>'"]/g,EH=/[\u0000-\u0008\u000b-\u001f]/g;function cr(t){var e=t+"";return e.replace(e2,function(r){return Zv[r]}).replace(EH,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function cT(t){return cr(t).replace(/ /g,"_x0020_")}var h5=/[\u0000-\u001f]/g;function TH(t){var e=t+"";return e.replace(e2,function(r){return Zv[r]}).replace(/\n/g,"<br/>").replace(h5,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function NH(t){var e=t+"";return e.replace(e2,function(r){return Zv[r]}).replace(h5,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function kH(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function SH(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Vx(t){for(var e="",r=0,n=0,s=0,i=0,o=0,u=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(s=t.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=s&63,e+=String.fromCharCode(o);continue}if(i=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);continue}o=t.charCodeAt(r++),u=((n&7)<<18|(s&63)<<12|(i&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(u>>>10&1023)),e+=String.fromCharCode(56320+(u&1023))}return e}function uT(t){var e=Ll(2*t.length),r,n,s=1,i=0,o=0,u;for(n=0;n<t.length;n+=s)s=1,(u=t.charCodeAt(n))<128?r=u:u<224?(r=(u&31)*64+(t.charCodeAt(n+1)&63),s=2):u<240?(r=(u&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),s=3):(s=4,r=(u&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(e[i++]=o&255,e[i++]=o>>>8,o=0),e[i++]=r%256,e[i++]=r>>>8;return e.slice(0,i).toString("ucs2")}function dT(t){return Wa(t,"binary").toString("utf8")}var bf="foo bar bazâð£",Bd=rr&&(dT(bf)==Vx(bf)&&dT||uT(bf)==Vx(bf)&&uT)||Vx,m0=rr?function(t){return Wa(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,s=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},AH=(function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<t.length;++s)n=n.replace(t[s][0],t[s][1]);return n}})(),f5=/(^\s|\s$|\n)/;function Dn(t,e){return"<"+t+(e.match(f5)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function g0(t){return Mn(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function et(t,e,r){return"<"+t+(r!=null?g0(r):"")+(e!=null?(e.match(f5)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Hy(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function CH(t,e){switch(typeof t){case"string":var r=et("vt:lpwstr",cr(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return et((t|0)==t?"vt:i4":"vt:r8",cr(String(t)));case"boolean":return et("vt:bool",t?"true":"false")}if(t instanceof Date)return et("vt:filetime",Hy(t));throw new Error("Unable to serialize "+t)}var vn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ju=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ds={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function IH(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),s=t[e+6]&15,i=5;i>=0;--i)s=s*256+t[e+i];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function PH(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,s=0,i=0,o=n?-e:e;isFinite(o)?o==0?s=i=0:(s=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(e)?26985:0);for(var u=0;u<=5;++u,i/=256)t[r+u]=i&255;t[r+6]=(s&15)<<4|i&15,t[r+7]=s>>4|n}var hT=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var s=0,i=t[0][n].length;s<i;s+=r)e.push.apply(e,t[0][n].slice(s,s+r));return e},fT=rr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Wa(e)})):hT(t)}:hT,pT=function(t,e,r){for(var n=[],s=e;s<r;s+=2)n.push(String.fromCharCode(Sd(t,s)));return n.join("").replace($d,"")},t2=rr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace($d,""):pT(t,e,r)}:pT,mT=function(t,e,r){for(var n=[],s=e;s<e+r;++s)n.push(("0"+t[s].toString(16)).slice(-2));return n.join("")},p5=rr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):mT(t,e,r)}:mT,gT=function(t,e,r){for(var n=[],s=e;s<r;s++)n.push(String.fromCharCode(Uc(t,s)));return n.join("")},H0=rr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):gT(e,r,n)}:gT,m5=function(t,e){var r=Os(t,e);return r>0?H0(t,e+4,e+4+r-1):""},g5=m5,x5=function(t,e){var r=Os(t,e);return r>0?H0(t,e+4,e+4+r-1):""},y5=x5,v5=function(t,e){var r=2*Os(t,e);return r>0?H0(t,e+4,e+4+r-1):""},b5=v5,w5=function(e,r){var n=Os(e,r);return n>0?t2(e,r+4,r+4+n):""},_5=w5,E5=function(t,e){var r=Os(t,e);return r>0?H0(t,e+4,e+4+r):""},T5=E5,N5=function(t,e){return IH(t,e)},Rp=N5,r2=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};rr&&(g5=function(e,r){if(!Buffer.isBuffer(e))return m5(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},y5=function(e,r){if(!Buffer.isBuffer(e))return x5(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},b5=function(e,r){if(!Buffer.isBuffer(e))return v5(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},_5=function(e,r){if(!Buffer.isBuffer(e))return w5(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},T5=function(e,r){if(!Buffer.isBuffer(e))return E5(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},Rp=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):N5(e,r)},r2=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Uc=function(t,e){return t[e]},Sd=function(t,e){return t[e+1]*256+t[e]},RH=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Os=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},yl=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},jH=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Ud(t,e){var r="",n,s,i=[],o,u,d,h;switch(e){case"dbcs":if(h=this.l,rr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)r+=String.fromCharCode(Sd(this,h)),h+=2;t*=2;break;case"utf8":r=H0(this,this.l,this.l+t);break;case"utf16le":t*=2,r=t2(this,this.l,this.l+t);break;case"wstr":return Ud.call(this,t,"dbcs");case"lpstr-ansi":r=g5(this,this.l),t=4+Os(this,this.l);break;case"lpstr-cp":r=y5(this,this.l),t=4+Os(this,this.l);break;case"lpwstr":r=b5(this,this.l),t=4+2*Os(this,this.l);break;case"lpp4":t=4+Os(this,this.l),r=_5(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Os(this,this.l),r=T5(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(o=Uc(this,this.l+t++))!==0;)i.push(xf(o));r=i.join("");break;case"_wstr":for(t=0,r="";(o=Sd(this,this.l+t))!==0;)i.push(xf(o)),t+=2;t+=2,r=i.join("");break;case"dbcs-cont":for(r="",h=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return o=Uc(this,h),this.l=h+1,u=Ud.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),i.join("")+u;i.push(xf(Sd(this,h))),h+=2}r=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",h=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return o=Uc(this,h),this.l=h+1,u=Ud.call(this,t-d,o?"dbcs-cont":"sbcs-cont"),i.join("")+u;i.push(xf(Uc(this,h))),h+=1}r=i.join("");break;default:switch(t){case 1:return n=Uc(this,this.l),this.l++,n;case 2:return n=(e==="i"?RH:Sd)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?yl:jH)(this,this.l),this.l+=4,n):(s=Os(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return t==8?s=Rp(this,this.l):s=Rp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;t=8;case 16:r=p5(this,this.l,t);break}}return this.l+=t,r}var DH=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},OH=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},FH=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function LH(t,e,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=e.length;++s)FH(this,e.charCodeAt(s),this.l+2*s);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;n=e.length}else if(r==="hex"){for(;s<t;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+t,this.length);for(s=0;s<Math.min(e.length,t);++s){var o=e.charCodeAt(s);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,DH(this,e,this.l);break;case 8:if(n=8,r==="f"){PH(this,e,this.l);break}case 16:break;case-4:n=4,OH(this,e,this.l);break}return this.l+=n,this}function k5(t,e){var r=p5(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function js(t,e){t.l=e,t.read_shift=Ud,t.chk=k5,t.write_shift=LH}function ia(t,e){t.l+=e}function Ne(t){var e=Ll(t);return js(e,0),e}function _s(){var t=[],e=rr?256:2048,r=function(h){var p=Ne(h);return js(p,0),p},n=r(e),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},i=function(h){return n&&h<n.length-n.l?n:(s(),n=r(Math.max(h+1,e)))},o=function(){return s(),jn(t)},u=function(h){s(),n=h,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:u,end:o,_bufs:t}}function De(t,e,r,n){var s=+e,i;if(!isNaN(s)){n||(n=IY[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=t.next(i);s<=127?o.write_shift(1,s):(o.write_shift(1,(s&127)+128),o.write_shift(1,s>>7));for(var u=0;u!=4;++u)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&r2(r)&&t.push(r)}}function zd(t,e,r){var n=Ts(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function xT(t,e,r){var n=Ts(t);return n.s=zd(n.s,e.s,r),n.e=zd(n.e,e.s,r),n}function Hd(t,e){if(t.cRel&&t.c<0)for(t=Ts(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Ts(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=ur(t);return!t.cRel&&t.cRel!=null&&(r=$H(r)),!t.rRel&&t.rRel!=null&&(r=MH(r)),r}function $x(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Kn(t.s.c)+":"+(t.e.cRel?"":"$")+Kn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Fn(t.s.r)+":"+(t.e.rRel?"":"$")+Fn(t.e.r):Hd(t.s,e.biff)+":"+Hd(t.e,e.biff)}function n2(t){return parseInt(VH(t),10)-1}function Fn(t){return""+(t+1)}function MH(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function VH(t){return t.replace(/\$(\d+)$/,"$1")}function s2(t){for(var e=BH(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Kn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function $H(t){return t.replace(/^([A-Z])/,"$$$1")}function BH(t){return t.replace(/^\$([A-Z])/,"$1")}function UH(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function wn(t){for(var e=0,r=0,n=0;n<t.length;++n){var s=t.charCodeAt(n);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:e-1}}function ur(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Us(t){var e=t.indexOf(":");return e==-1?{s:wn(t),e:wn(t)}:{s:wn(t.slice(0,e)),e:wn(t.slice(e+1))}}function an(t,e){return typeof e>"u"||typeof e=="number"?an(t.s,t.e):(typeof t!="string"&&(t=ur(t)),typeof e!="string"&&(e=ur(e)),t==e?t:t+":"+e)}function Sr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,i=t.length;for(r=0;n<i&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.s.c=--r,r=0;n<i&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(e.s.r=--r,n===i||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=i&&!((s=t.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(e.e.c=--r,r=0;n!=i&&!((s=t.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return e.e.r=--r,e}function yT(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Bo(t.z,r?Es(e):e)}catch{}try{return t.w=Bo((t.XF||{}).numFmtId||(r?14:0),r?Es(e):e)}catch{return""+e}}function Ua(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?W0[t.v]||t.v:e==null?yT(t,t.v):yT(t,e))}function Ql(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function S5(t,e,r){var n=r||{},s=t?Array.isArray(t):n.dense,i=t||(s?[]:{}),o=0,u=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var d=typeof n.origin=="string"?wn(n.origin):n.origin;o=d.r,u=d.c}i["!ref"]||(i["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var p=Sr(i["!ref"]);h.s.c=p.s.c,h.s.r=p.s.r,h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),o==-1&&(h.e.r=o=p.e.r+1)}for(var x=0;x!=e.length;++x)if(e[x]){if(!Array.isArray(e[x]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[x].length;++y)if(!(typeof e[x][y]>"u")){var v={v:e[x][y]},T=o+x,w=u+y;if(h.s.r>T&&(h.s.r=T),h.s.c>w&&(h.s.c=w),h.e.r<T&&(h.e.r=T),h.e.c<w&&(h.e.c=w),e[x][y]&&typeof e[x][y]=="object"&&!Array.isArray(e[x][y])&&!(e[x][y]instanceof Date))v=e[x][y];else if(Array.isArray(v.v)&&(v.f=e[x][y][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(n.nullError)v.t="e",v.v=0;else if(n.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=n.dateNF||Wr[14],n.cellDates?(v.t="d",v.w=Bo(v.z,Es(v.v))):(v.t="n",v.v=Es(v.v),v.w=Bo(v.z,v.v))):v.t="s";if(s)i[T]||(i[T]=[]),i[T][w]&&i[T][w].z&&(v.z=i[T][w].z),i[T][w]=v;else{var _=ur({c:w,r:T});i[_]&&i[_].z&&(v.z=i[_].z),i[_]=v}}}return h.s.c<1e7&&(i["!ref"]=an(h)),i}function Du(t,e){return S5(null,t,e)}function zH(t){return t.read_shift(4,"i")}function Si(t,e){return e||(e=Ne(4)),e.write_shift(4,t),e}function Xn(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function _n(t,e){var r=!1;return e==null&&(r=!0,e=Ne(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function HH(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function WH(t,e){return e||(e=Ne(4)),e.write_shift(2,0),e.write_shift(2,0),e}function i2(t,e){var r=t.l,n=t.read_shift(1),s=Xn(t),i=[],o={t:s,h:s};if((n&1)!==0){for(var u=t.read_shift(4),d=0;d!=u;++d)i.push(HH(t));o.r=i}else o.r=[{ich:0,ifnt:0}];return t.l=r+e,o}function qH(t,e){var r=!1;return e==null&&(r=!0,e=Ne(15+4*t.t.length)),e.write_shift(1,0),_n(t.t,e),r?e.slice(0,e.l):e}var GH=i2;function KH(t,e){var r=!1;return e==null&&(r=!0,e=Ne(23+4*t.t.length)),e.write_shift(1,1),_n(t.t,e),e.write_shift(4,1),WH({},e),r?e.slice(0,e.l):e}function ii(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Jl(t,e){return e==null&&(e=Ne(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Zl(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function ec(t,e){return e==null&&(e=Ne(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var XH=Xn,A5=_n;function a2(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function jp(t,e){var r=!1;return e==null&&(r=!0,e=Ne(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var YH=Xn,Wy=a2,o2=jp;function C5(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var s=n===0?Rp([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):yl(e,0)>>2;return r?s/100:s}function I5(t,e){e==null&&(e=Ne(4));var r=0,n=0,s=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?s:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function P5(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function QH(t,e){return e||(e=Ne(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var tc=P5,Ou=QH;function Fu(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Ml(t,e){return(e||Ne(8)).write_shift(8,t,"f")}function JH(t){var e={},r=t.read_shift(1),n=r>>>1,s=t.read_shift(1),i=t.read_shift(2,"i"),o=t.read_shift(1),u=t.read_shift(1),d=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=s;var h=oW[s];h&&(e.rgb=CT(h));break;case 2:e.rgb=CT([o,u,d]);break;case 3:e.theme=s;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function Dp(t,e){if(e||(e=Ne(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function ZH(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function eW(t,e){e||(e=Ne(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var R5=2,Rs=3,wf=11,Op=19,_f=64,tW=65,rW=71,nW=4108,sW=4126,Cn=80,vT={1:{n:"CodePage",t:R5},2:{n:"Category",t:Cn},3:{n:"PresentationFormat",t:Cn},4:{n:"ByteCount",t:Rs},5:{n:"LineCount",t:Rs},6:{n:"ParagraphCount",t:Rs},7:{n:"SlideCount",t:Rs},8:{n:"NoteCount",t:Rs},9:{n:"HiddenCount",t:Rs},10:{n:"MultimediaClipCount",t:Rs},11:{n:"ScaleCrop",t:wf},12:{n:"HeadingPairs",t:nW},13:{n:"TitlesOfParts",t:sW},14:{n:"Manager",t:Cn},15:{n:"Company",t:Cn},16:{n:"LinksUpToDate",t:wf},17:{n:"CharacterCount",t:Rs},19:{n:"SharedDoc",t:wf},22:{n:"HyperlinksChanged",t:wf},23:{n:"AppVersion",t:Rs,p:"version"},24:{n:"DigSig",t:tW},26:{n:"ContentType",t:Cn},27:{n:"ContentStatus",t:Cn},28:{n:"Language",t:Cn},29:{n:"Version",t:Cn},255:{},2147483648:{n:"Locale",t:Op},2147483651:{n:"Behavior",t:Op},1919054434:{}},bT={1:{n:"CodePage",t:R5},2:{n:"Title",t:Cn},3:{n:"Subject",t:Cn},4:{n:"Author",t:Cn},5:{n:"Keywords",t:Cn},6:{n:"Comments",t:Cn},7:{n:"Template",t:Cn},8:{n:"LastAuthor",t:Cn},9:{n:"RevNumber",t:Cn},10:{n:"EditTime",t:_f},11:{n:"LastPrinted",t:_f},12:{n:"CreatedDate",t:_f},13:{n:"ModifiedDate",t:_f},14:{n:"PageCount",t:Rs},15:{n:"WordCount",t:Rs},16:{n:"CharCount",t:Rs},17:{n:"Thumbnail",t:rW},18:{n:"Application",t:Cn},19:{n:"DocSecurity",t:Rs},255:{},2147483648:{n:"Locale",t:Op},2147483651:{n:"Behavior",t:Op},1919054434:{}};function iW(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var aW=iW([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),oW=Ts(aW),W0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},lW={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Ef={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function j5(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function D5(t,e){var r=yH(lW),n=[],s;n[n.length]=on,n[n.length]=et("Types",null,{xmlns:vn.CT,"xmlns:xsd":vn.xsd,"xmlns:xsi":vn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return et("Default",null,{Extension:d[0],ContentType:d[1]})}));var i=function(d){t[d]&&t[d].length>0&&(s=t[d][0],n[n.length]=et("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:Ef[d][e.bookType]||Ef[d].xlsx}))},o=function(d){(t[d]||[]).forEach(function(h){n[n.length]=et("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Ef[d][e.bookType]||Ef[d].xlsx})})},u=function(d){(t[d]||[]).forEach(function(h){n[n.length]=et("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:r[d][0]})})};return i("workbooks"),o("sheets"),o("charts"),u("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),o("metadata"),u("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var er={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function O5(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function ru(t){var e=[on,et("Relationships",null,{xmlns:vn.RELS})];return Mn(t["!id"]).forEach(function(r){e[e.length]=et("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function lr(t,e,r,n,s,i){if(s||(s={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,s.Id="rId"+e,s.Type=n,s.Target=r,[er.HLINK,er.XPATH,er.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),t["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][s.Id]=s,t[("/"+s.Target).replace("//","/")]=s,e}function cW(t){var e=[on];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function wT(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function uW(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function dW(t){var e=[on];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(wT(t[r][0],t[r][1])),e.push(uW("",t[r][0]));return e.push(wT("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function F5(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+kp.version+"</meta:generator></office:meta></office:document-meta>"}var kl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Bx(t,e,r,n,s){s[t]!=null||e==null||e===""||(s[t]=e,e=cr(e),n[n.length]=r?et(t,e,r):Dn(t,e))}function L5(t,e){var r=e||{},n=[on,et("cp:coreProperties",null,{"xmlns:cp":vn.CORE_PROPS,"xmlns:dc":vn.dc,"xmlns:dcterms":vn.dcterms,"xmlns:dcmitype":vn.dcmitype,"xmlns:xsi":vn.xsi})],s={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&Bx("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Hy(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),t.ModifiedDate!=null&&Bx("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Hy(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var i=0;i!=kl.length;++i){var o=kl[i],u=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:t?t[o[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&Bx(o[0],u,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var nu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],M5=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function V5(t){var e=[],r=et;return t||(t={}),t.Application="SheetJS",e[e.length]=on,e[e.length]=et("Properties",null,{xmlns:vn.EXT_PROPS,"xmlns:vt":vn.vt}),nu.forEach(function(n){if(t[n[1]]!==void 0){var s;switch(n[2]){case"string":s=cr(String(t[n[1]]));break;case"bool":s=t[n[1]]?"true":"false";break}s!==void 0&&(e[e.length]=r(n[0],s))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+cr(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function $5(t){var e=[on,et("Properties",null,{xmlns:vn.CUST_PROPS,"xmlns:vt":vn.vt})];if(!t)return e.join("");var r=1;return Mn(t).forEach(function(s){++r,e[e.length]=et("property",CH(t[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:cr(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var _T={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function hW(t,e){var r=[];return Mn(_T).map(function(n){for(var s=0;s<kl.length;++s)if(kl[s][1]==n)return kl[s];for(s=0;s<nu.length;++s)if(nu[s][1]==n)return nu[s];throw n}).forEach(function(n){if(t[n[1]]!=null){var s=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(Dn(_T[n[1]]||n[1],s))}}),et("DocumentProperties",r.join(""),{xmlns:Ds.o})}function fW(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return t&&Mn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)){for(var o=0;o<kl.length;++o)if(i==kl[o][1])return;for(o=0;o<nu.length;++o)if(i==nu[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var u=t[i],d="string";typeof u=="number"?(d="float",u=String(u)):u===!0||u===!1?(d="boolean",u=u?"1":"0"):u=String(u),s.push(et(cT(i),u,{"dt:dt":d}))}}),e&&Mn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)&&!(t&&Object.prototype.hasOwnProperty.call(t,i))){var o=e[i],u="string";typeof o=="number"?(u="float",o=String(o)):o===!0||o===!1?(u="boolean",o=o?"1":"0"):o instanceof Date?(u="dateTime.tz",o=o.toISOString()):o=String(o),s.push(et(cT(i),o,{"dt:dt":u}))}}),"<"+n+' xmlns="'+Ds.o+'">'+s.join("")+"</"+n+">"}function pW(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),s+=i);var o=Ne(8);return o.write_shift(4,n),o.write_shift(4,s),o}function ET(t,e){var r=Ne(4),n=Ne(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Ne(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=pW(e);break;case 31:case 80:for(n=Ne(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return jn([r,n])}var B5=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function mW(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function TT(t,e,r){var n=Ne(8),s=[],i=[],o=8,u=0,d=Ne(8),h=Ne(8);if(d.write_shift(4,2),d.write_shift(4,1200),h.write_shift(4,1),i.push(d),s.push(h),o+=8+d.length,!e){h=Ne(8),h.write_shift(4,0),s.unshift(h);var p=[Ne(4)];for(p[0].write_shift(4,t.length),u=0;u<t.length;++u){var x=t[u][0];for(d=Ne(8+2*(x.length+1)+(x.length%2?0:2)),d.write_shift(4,u+2),d.write_shift(4,x.length+1),d.write_shift(0,x,"dbcs");d.l!=d.length;)d.write_shift(1,0);p.push(d)}d=jn(p),i.unshift(d),o+=8+d.length}for(u=0;u<t.length;++u)if(!(e&&!e[t[u][0]])&&!(B5.indexOf(t[u][0])>-1||M5.indexOf(t[u][0])>-1)&&t[u][1]!=null){var y=t[u][1],v=0;if(e){v=+e[t[u][0]];var T=r[v];if(T.p=="version"&&typeof y=="string"){var w=y.split(".");y=(+w[0]<<16)+(+w[1]||0)}d=ET(T.t,y)}else{var _=mW(y);_==-1&&(_=31,y=String(y)),d=ET(_,y)}i.push(d),h=Ne(8),h.write_shift(4,e?v:2+u),s.push(h),o+=8+d.length}var C=8*(i.length+1);for(u=0;u<i.length;++u)s[u].write_shift(4,C),C+=i[u].length;return n.write_shift(4,o),n.write_shift(4,i.length),jn([n].concat(s).concat(i))}function NT(t,e,r,n,s,i){var o=Ne(s?68:48),u=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,fr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,s?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,s?68:48);var d=TT(t,r,n);if(u.push(d),s){var h=TT(s,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+d.length),u.push(h)}return jn(u)}function gW(t,e){e||(e=Ne(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function xW(t,e){return t.read_shift(e)===1}function ns(t,e){return e||(e=Ne(2)),e.write_shift(2,+!!t),e}function U5(t){return t.read_shift(2,"u")}function ei(t,e){return e||(e=Ne(2)),e.write_shift(2,t),e}function z5(t,e,r){return r||(r=Ne(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function H5(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=t.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var o=n?t.read_shift(n,s):"";return o}function yW(t){var e=t.t||"",r=Ne(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Ne(2*e.length);n.write_shift(2*e.length,e,"utf16le");var s=[r,n];return jn(s)}function vW(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var s=t.read_shift(1);return s===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function bW(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):vW(t,n,r)}function wW(t,e,r){if(r.biff>5)return bW(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function W5(t,e,r){return r||(r=Ne(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function kT(t,e){e||(e=Ne(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function _W(t){var e=Ne(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),i=s>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}e.write_shift(4,2),e.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)e.write_shift(4,o[r]);if(i==28)n=n.slice(1),kT(n,e);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));var u=s>-1?n.slice(0,s):n;for(e.write_shift(4,2*(u.length+1)),r=0;r<u.length;++r)e.write_shift(2,u.charCodeAt(r));e.write_shift(2,0),i&8&&kT(s>-1?n.slice(s+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));for(var d=0;n.slice(d*3,d*3+3)=="../"||n.slice(d*3,d*3+3)=="..\\";)++d;for(e.write_shift(2,d),e.write_shift(4,n.length-3*d+1),r=0;r<n.length-3*d;++r)e.write_shift(1,n.charCodeAt(r+3*d)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function Vl(t,e,r,n){return n||(n=Ne(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function EW(t,e,r){var n=r.biff>8?4:2,s=t.read_shift(n),i=t.read_shift(n,"i"),o=t.read_shift(n,"i");return[s,i,o]}function TW(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),s=t.read_shift(2);return{s:{c:n,r:e},e:{c:s,r}}}function q5(t,e){return e||(e=Ne(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function l2(t,e,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Ne(s);return i.write_shift(2,n),i.write_shift(2,e),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function NW(t,e){var r=!e||e.biff==8,n=Ne(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function kW(t,e){var r=!e||e.biff>=8?2:1,n=Ne(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function SW(t,e){var r=Ne(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],s=0;s<t.length;++s)n[s]=yW(t[s]);var i=jn([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function AW(){var t=Ne(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function CW(t){var e=Ne(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function IW(t,e){var r=t.name||"Arial",n=e&&e.biff==5,s=n?15+r.length:16+2*r.length,i=Ne(s);return i.write_shift(2,t.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function PW(t,e,r,n){var s=Ne(10);return Vl(t,e,n,s),s.write_shift(4,r),s}function RW(t,e,r,n,s){var i=!s||s.biff==8,o=Ne(8+ +i+(1+i)*r.length);return Vl(t,e,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function jW(t,e,r,n){var s=r&&r.biff==5;n||(n=Ne(s?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(s?1:2,e.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function DW(t,e){var r=e.biff==8||!e.biff?4:2,n=Ne(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function ST(t,e,r,n){var s=r&&r.biff==5;n||(n=Ne(s?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var i=0;return t.numFmtId>0&&s&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function OW(t){var e=Ne(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function FW(t,e,r,n,s,i){var o=Ne(8);return Vl(t,e,n,o),z5(r,i,o),o}function LW(t,e,r,n){var s=Ne(14);return Vl(t,e,n,s),Ml(r,s),s}function MW(t,e,r){if(r.biff<8)return VW(t,e,r);for(var n=[],s=t.l+e,i=t.read_shift(r.biff>8?4:2);i--!==0;)n.push(EW(t,r.biff>8?12:6,r));if(t.l!=s)throw new Error("Bad ExternSheet: "+t.l+" != "+s);return n}function VW(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=H5(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function $W(t){var e=Ne(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)q5(t[r],e);return e}function BW(t){var e=Ne(24),r=wn(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(n[s],16));return jn([e,_W(t[1])])}function UW(t){var e=t[1].Tooltip,r=Ne(10+2*(e.length+1));r.write_shift(2,2048);var n=wn(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<e.length;++s)r.write_shift(2,e.charCodeAt(s));return r.write_shift(2,0),r}function zW(t){return t||(t=Ne(4)),t.write_shift(2,1),t.write_shift(2,1),t}function HW(t,e,r){if(!r.cellStyles)return ia(t,e);var n=r&&r.biff>=12?4:2,s=t.read_shift(n),i=t.read_shift(n),o=t.read_shift(n),u=t.read_shift(n),d=t.read_shift(2);n==2&&(t.l+=2);var h={s,e:i,w:o,ixfe:u,flags:d};return(r.biff>=5||!r.biff)&&(h.level=d>>8&7),h}function WW(t,e){var r=Ne(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function qW(t){for(var e=Ne(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function GW(t,e,r){var n=Ne(15);return G0(n,t,e),n.write_shift(8,r,"f"),n}function KW(t,e,r){var n=Ne(9);return G0(n,t,e),n.write_shift(2,r),n}var XW=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Qv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(u,d){var h=[],p=Ll(1);switch(d.type){case"base64":p=_i(Ba(u));break;case"binary":p=_i(u);break;case"buffer":case"array":p=u;break}js(p,0);var x=p.read_shift(1),y=!!(x&136),v=!1,T=!1;switch(x){case 2:break;case 3:break;case 48:v=!0,y=!0;break;case 49:v=!0,y=!0;break;case 131:break;case 139:break;case 140:T=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+x.toString(16))}var w=0,_=521;x==2&&(w=p.read_shift(2)),p.l+=3,x!=2&&(w=p.read_shift(4)),w>1048576&&(w=1e6),x!=2&&(_=p.read_shift(2));var C=p.read_shift(2),j=d.codepage||1252;x!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(j=t[p[p.l]]),p.l+=1,p.l+=2),T&&(p.l+=36);for(var O=[],M={},Y=Math.min(p.length,x==2?521:_-10-(v?264:0)),ne=T?32:11;p.l<Y&&p[p.l]!=13;)switch(M={},M.name=Sp.utils.decode(j,p.slice(p.l,p.l+ne)).replace(/[\u0000\r\n].*$/g,""),p.l+=ne,M.type=String.fromCharCode(p.read_shift(1)),x!=2&&!T&&(M.offset=p.read_shift(4)),M.len=p.read_shift(1),x==2&&(M.offset=p.read_shift(2)),M.dec=p.read_shift(1),M.name.length&&O.push(M),x!=2&&(p.l+=T?13:14),M.type){case"B":(!v||M.len!=8)&&d.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+M.type)}if(p[p.l]!==13&&(p.l=_-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=_;var A=0,S=0;for(h[0]=[],S=0;S!=O.length;++S)h[0][S]=O[S].name;for(;w-- >0;){if(p[p.l]===42){p.l+=C;continue}for(++p.l,h[++A]=[],S=0,S=0;S!=O.length;++S){var I=p.slice(p.l,p.l+O[S].len);p.l+=O[S].len,js(I,0);var V=Sp.utils.decode(j,I);switch(O[S].type){case"C":V.trim().length&&(h[A][S]=V.replace(/\s+$/,""));break;case"D":V.length===8?h[A][S]=new Date(+V.slice(0,4),+V.slice(4,6)-1,+V.slice(6,8)):h[A][S]=V;break;case"F":h[A][S]=parseFloat(V.trim());break;case"+":case"I":h[A][S]=T?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(V.trim().toUpperCase()){case"Y":case"T":h[A][S]=!0;break;case"N":case"F":h[A][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+V+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+x.toString(16));h[A][S]="##MEMO##"+(T?parseInt(V.trim(),10):I.read_shift(4));break;case"N":V=V.replace(/\u0000/g,"").trim(),V&&V!="."&&(h[A][S]=+V||0);break;case"@":h[A][S]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":h[A][S]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":h[A][S]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[A][S]=-I.read_shift(-8,"f");break;case"B":if(v&&O[S].len==8){h[A][S]=I.read_shift(8,"f");break}case"G":case"P":I.l+=O[S].len;break;case"0":if(O[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+O[S].type)}}}if(x!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return d&&d.sheetRows&&(h=h.slice(0,d.sheetRows)),d.DBF=O,h}function n(u,d){var h=d||{};h.dateNF||(h.dateNF="yyyymmdd");var p=Du(r(u,h),h);return p["!cols"]=h.DBF.map(function(x){return{wch:x.len,DBF:x}}),delete h.DBF,p}function s(u,d){try{return Ql(n(u,d),d)}catch(h){if(d&&d.WTF)throw h}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(u,d){var h=d||{};if(+h.codepage>=0&&h0(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var p=_s(),x=$p(u,{header:1,raw:!0,cellDates:!0}),y=x[0],v=x.slice(1),T=u["!cols"]||[],w=0,_=0,C=0,j=1;for(w=0;w<y.length;++w){if(((T[w]||{}).DBF||{}).name){y[w]=T[w].DBF.name,++C;continue}if(y[w]!=null){if(++C,typeof y[w]=="number"&&(y[w]=y[w].toString(10)),typeof y[w]!="string")throw new Error("DBF Invalid column name "+y[w]+" |"+typeof y[w]+"|");if(y.indexOf(y[w])!==w){for(_=0;_<1024;++_)if(y.indexOf(y[w]+"_"+_)==-1){y[w]+="_"+_;break}}}}var O=Sr(u["!ref"]),M=[],Y=[],ne=[];for(w=0;w<=O.e.c-O.s.c;++w){var A="",S="",I=0,V=[];for(_=0;_<v.length;++_)v[_][w]!=null&&V.push(v[_][w]);if(V.length==0||y[w]==null){M[w]="?";continue}for(_=0;_<V.length;++_){switch(typeof V[_]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=V[_]instanceof Date?"D":"C";break;default:S="C"}I=Math.max(I,String(V[_]).length),A=A&&A!=S?"C":S}I>250&&(I=250),S=((T[w]||{}).DBF||{}).type,S=="C"&&T[w].DBF.len>I&&(I=T[w].DBF.len),A=="B"&&S=="N"&&(A="N",ne[w]=T[w].DBF.dec,I=T[w].DBF.len),Y[w]=A=="C"||S=="N"?I:i[A]||0,j+=Y[w],M[w]=A}var B=p.next(32);for(B.write_shift(4,318902576),B.write_shift(4,v.length),B.write_shift(2,296+32*C),B.write_shift(2,j),w=0;w<4;++w)B.write_shift(4,0);for(B.write_shift(4,0|(+e[KA]||3)<<8),w=0,_=0;w<y.length;++w)if(y[w]!=null){var H=p.next(32),D=(y[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);H.write_shift(1,D,"sbcs"),H.write_shift(1,M[w]=="?"?"C":M[w],"sbcs"),H.write_shift(4,_),H.write_shift(1,Y[w]||i[M[w]]||0),H.write_shift(1,ne[w]||0),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(1,0),H.write_shift(4,0),H.write_shift(4,0),_+=Y[w]||i[M[w]]||0}var ae=p.next(264);for(ae.write_shift(4,13),w=0;w<65;++w)ae.write_shift(4,0);for(w=0;w<v.length;++w){var Ce=p.next(j);for(Ce.write_shift(1,0),_=0;_<y.length;++_)if(y[_]!=null)switch(M[_]){case"L":Ce.write_shift(1,v[w][_]==null?63:v[w][_]?84:70);break;case"B":Ce.write_shift(8,v[w][_]||0,"f");break;case"N":var Ge="0";for(typeof v[w][_]=="number"&&(Ge=v[w][_].toFixed(ne[_]||0)),C=0;C<Y[_]-Ge.length;++C)Ce.write_shift(1,32);Ce.write_shift(1,Ge,"sbcs");break;case"D":v[w][_]?(Ce.write_shift(4,("0000"+v[w][_].getFullYear()).slice(-4),"sbcs"),Ce.write_shift(2,("00"+(v[w][_].getMonth()+1)).slice(-2),"sbcs"),Ce.write_shift(2,("00"+v[w][_].getDate()).slice(-2),"sbcs")):Ce.write_shift(8,"00000000","sbcs");break;case"C":var ke=String(v[w][_]!=null?v[w][_]:"").slice(0,Y[_]);for(Ce.write_shift(1,ke,"sbcs"),C=0;C<Y[_]-ke.length;++C)Ce.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:s,to_sheet:n,from_sheet:o}})(),YW=(function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Mn(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(y,v){var T=t[v];return typeof T=="number"?QE(T):T},n=function(y,v,T){var w=v.charCodeAt(0)-32<<4|T.charCodeAt(0)-48;return w==59?y:QE(w)};t["|"]=254;function s(y,v){switch(v.type){case"base64":return i(Ba(y),v);case"binary":return i(y,v);case"buffer":return i(rr&&Buffer.isBuffer(y)?y.toString("binary"):U0(y),v);case"array":return i(Sm(y),v)}throw new Error("Unrecognized type "+v.type)}function i(y,v){var T=y.split(/[\n\r]+/),w=-1,_=-1,C=0,j=0,O=[],M=[],Y=null,ne={},A=[],S=[],I=[],V=0,B;for(+v.codepage>=0&&h0(+v.codepage);C!==T.length;++C){V=0;var H=T[C].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),D=H.replace(/;;/g,"\0").split(";").map(function(J){return J.replace(/\u0000/g,";")}),ae=D[0],Ce;if(H.length>0)switch(ae){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":D[1].charAt(0)=="P"&&M.push(H.slice(3).replace(/;;/g,";"));break;case"C":var Ge=!1,ke=!1,ce=!1,ye=!1,be=-1,te=-1;for(j=1;j<D.length;++j)switch(D[j].charAt(0)){case"A":break;case"X":_=parseInt(D[j].slice(1))-1,ke=!0;break;case"Y":for(w=parseInt(D[j].slice(1))-1,ke||(_=0),B=O.length;B<=w;++B)O[B]=[];break;case"K":Ce=D[j].slice(1),Ce.charAt(0)==='"'?Ce=Ce.slice(1,Ce.length-1):Ce==="TRUE"?Ce=!0:Ce==="FALSE"?Ce=!1:isNaN(Pa(Ce))?isNaN(p0(Ce).getDate())||(Ce=ls(Ce)):(Ce=Pa(Ce),Y!==null&&a5(Y)&&(Ce=u5(Ce))),Ge=!0;break;case"E":ye=!0;var R=Kq(D[j].slice(1),{r:w,c:_});O[w][_]=[O[w][_],R];break;case"S":ce=!0,O[w][_]=[O[w][_],"S5S"];break;case"G":break;case"R":be=parseInt(D[j].slice(1))-1;break;case"C":te=parseInt(D[j].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+H)}if(Ge&&(O[w][_]&&O[w][_].length==2?O[w][_][0]=Ce:O[w][_]=Ce,Y=null),ce){if(ye)throw new Error("SYLK shared formula cannot have own formula");var X=be>-1&&O[be][te];if(!X||!X[1])throw new Error("SYLK shared formula cannot find base");O[w][_][1]=Xq(X[1],{r:w-be,c:_-te})}break;case"F":var Q=0;for(j=1;j<D.length;++j)switch(D[j].charAt(0)){case"X":_=parseInt(D[j].slice(1))-1,++Q;break;case"Y":for(w=parseInt(D[j].slice(1))-1,B=O.length;B<=w;++B)O[B]=[];break;case"M":V=parseInt(D[j].slice(1))/20;break;case"F":break;case"G":break;case"P":Y=M[parseInt(D[j].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=D[j].slice(1).split(" "),B=parseInt(I[0],10);B<=parseInt(I[1],10);++B)V=parseInt(I[2],10),S[B-1]=V===0?{hidden:!0}:{wch:V},c2(S[B-1]);break;case"C":_=parseInt(D[j].slice(1))-1,S[_]||(S[_]={});break;case"R":w=parseInt(D[j].slice(1))-1,A[w]||(A[w]={}),V>0?(A[w].hpt=V,A[w].hpx=Q5(V)):V===0&&(A[w].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+H)}Q<1&&(Y=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+H)}}return A.length>0&&(ne["!rows"]=A),S.length>0&&(ne["!cols"]=S),v&&v.sheetRows&&(O=O.slice(0,v.sheetRows)),[O,ne]}function o(y,v){var T=s(y,v),w=T[0],_=T[1],C=Du(w,v);return Mn(_).forEach(function(j){C[j]=_[j]}),C}function u(y,v){return Ql(o(y,v),v)}function d(y,v,T,w){var _="C;Y"+(T+1)+";X"+(w+1)+";K";switch(y.t){case"n":_+=y.v||0,y.f&&!y.F&&(_+=";E"+d2(y.f,{r:T,c:w}));break;case"b":_+=y.v?"TRUE":"FALSE";break;case"e":_+=y.w||y.v;break;case"d":_+='"'+(y.w||y.v)+'"';break;case"s":_+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function h(y,v){v.forEach(function(T,w){var _="F;W"+(w+1)+" "+(w+1)+" ";T.hidden?_+="0":(typeof T.width=="number"&&!T.wpx&&(T.wpx=Fp(T.width)),typeof T.wpx=="number"&&!T.wch&&(T.wch=Lp(T.wpx)),typeof T.wch=="number"&&(_+=Math.round(T.wch))),_.charAt(_.length-1)!=" "&&y.push(_)})}function p(y,v){v.forEach(function(T,w){var _="F;";T.hidden?_+="M0;":T.hpt?_+="M"+20*T.hpt+";":T.hpx&&(_+="M"+20*Mp(T.hpx)+";"),_.length>2&&y.push(_+"R"+(w+1))})}function x(y,v){var T=["ID;PWXL;N;E"],w=[],_=Sr(y["!ref"]),C,j=Array.isArray(y),O=`\r
`;T.push("P;PGeneral"),T.push("F;P0;DG0G8;M255"),y["!cols"]&&h(T,y["!cols"]),y["!rows"]&&p(T,y["!rows"]),T.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var M=_.s.r;M<=_.e.r;++M)for(var Y=_.s.c;Y<=_.e.c;++Y){var ne=ur({r:M,c:Y});C=j?(y[M]||[])[Y]:y[ne],!(!C||C.v==null&&(!C.f||C.F))&&w.push(d(C,y,M,Y))}return T.join(O)+O+w.join(O)+O+"E"+O}return{to_workbook:u,to_sheet:o,from_sheet:x}})(),QW=(function(){function t(i,o){switch(o.type){case"base64":return e(Ba(i),o);case"binary":return e(i,o);case"buffer":return e(rr&&Buffer.isBuffer(i)?i.toString("binary"):U0(i),o);case"array":return e(Sm(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){for(var u=i.split(`
`),d=-1,h=-1,p=0,x=[];p!==u.length;++p){if(u[p].trim()==="BOT"){x[++d]=[],h=0;continue}if(!(d<0)){var y=u[p].trim().split(","),v=y[0],T=y[1];++p;for(var w=u[p]||"";(w.match(/["]/g)||[]).length&1&&p<u.length-1;)w+=`
`+u[++p];switch(w=w.trim(),+v){case-1:if(w==="BOT"){x[++d]=[],h=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?x[d][h]=!0:w==="FALSE"?x[d][h]=!1:isNaN(Pa(T))?isNaN(p0(T).getDate())?x[d][h]=T:x[d][h]=ls(T):x[d][h]=Pa(T),++h;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),x[d][h++]=w!==""?w:null;break}if(w==="EOD")break}}return o&&o.sheetRows&&(x=x.slice(0,o.sheetRows)),x}function r(i,o){return Du(t(i,o),o)}function n(i,o){return Ql(r(i,o),o)}var s=(function(){var i=function(d,h,p,x,y){d.push(h),d.push(p+","+x),d.push('"'+y.replace(/"/g,'""')+'"')},o=function(d,h,p,x){d.push(h+","+p),d.push(h==1?'"'+x.replace(/"/g,'""')+'"':x)};return function(d){var h=[],p=Sr(d["!ref"]),x,y=Array.isArray(d);i(h,"TABLE",0,1,"sheetjs"),i(h,"VECTORS",0,p.e.r-p.s.r+1,""),i(h,"TUPLES",0,p.e.c-p.s.c+1,""),i(h,"DATA",0,0,"");for(var v=p.s.r;v<=p.e.r;++v){o(h,-1,0,"BOT");for(var T=p.s.c;T<=p.e.c;++T){var w=ur({r:v,c:T});if(x=y?(d[v]||[])[T]:d[w],!x){o(h,1,0,"");continue}switch(x.t){case"n":var _=x.w;!_&&x.v!=null&&(_=x.v),_==null?x.f&&!x.F?o(h,1,0,"="+x.f):o(h,1,0,""):o(h,0,_,"V");break;case"b":o(h,0,x.v?1:0,x.v?"TRUE":"FALSE");break;case"s":o(h,1,0,isNaN(x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=Bo(x.z||Wr[14],Es(ls(x.v)))),o(h,0,x.w,"V");break;default:o(h,1,0,"")}}}o(h,-1,0,"EOD");var C=`\r
`,j=h.join(C);return j}})();return{to_workbook:n,to_sheet:r,from_sheet:s}})(),G5=(function(){function t(x){return x.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(x){return x.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(x,y){for(var v=x.split(`
`),T=-1,w=-1,_=0,C=[];_!==v.length;++_){var j=v[_].trim().split(":");if(j[0]==="cell"){var O=wn(j[1]);if(C.length<=O.r)for(T=C.length;T<=O.r;++T)C[T]||(C[T]=[]);switch(T=O.r,w=O.c,j[2]){case"t":C[T][w]=t(j[3]);break;case"v":C[T][w]=+j[3];break;case"vtf":var M=j[j.length-1];case"vtc":switch(j[3]){case"nl":C[T][w]=!!+j[4];break;default:C[T][w]=+j[4];break}j[2]=="vtf"&&(C[T][w]=[C[T][w],M])}}}return y&&y.sheetRows&&(C=C.slice(0,y.sheetRows)),C}function n(x,y){return Du(r(x,y),y)}function s(x,y){return Ql(n(x,y),y)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function h(x){if(!x||!x["!ref"])return"";for(var y=[],v=[],T,w="",_=Us(x["!ref"]),C=Array.isArray(x),j=_.s.r;j<=_.e.r;++j)for(var O=_.s.c;O<=_.e.c;++O)if(w=ur({r:j,c:O}),T=C?(x[j]||[])[O]:x[w],!(!T||T.v==null||T.t==="z")){switch(v=["cell",w,"t"],T.t){case"s":case"str":v.push(e(T.v));break;case"n":T.f?(v[2]="vtf",v[3]="n",v[4]=T.v,v[5]=e(T.f)):(v[2]="v",v[3]=T.v);break;case"b":v[2]="vt"+(T.f?"f":"c"),v[3]="nl",v[4]=T.v?"1":"0",v[5]=e(T.f||(T.v?"TRUE":"FALSE"));break;case"d":var M=Es(ls(T.v));v[2]="vtc",v[3]="nd",v[4]=""+M,v[5]=T.w||Bo(T.z||Wr[14],M);break;case"e":continue}y.push(v.join(":"))}return y.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function p(x){return[i,o,u,o,h(x),d].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:p}})(),JW=(function(){function t(p,x,y,v,T){T.raw?x[y][v]=p:p===""||(p==="TRUE"?x[y][v]=!0:p==="FALSE"?x[y][v]=!1:isNaN(Pa(p))?isNaN(p0(p).getDate())?x[y][v]=p:x[y][v]=ls(p):x[y][v]=Pa(p))}function e(p,x){var y=x||{},v=[];if(!p||p.length===0)return v;for(var T=p.split(/[\r\n]/),w=T.length-1;w>=0&&T[w].length===0;)--w;for(var _=10,C=0,j=0;j<=w;++j)C=T[j].indexOf(" "),C==-1?C=T[j].length:C++,_=Math.max(_,C);for(j=0;j<=w;++j){v[j]=[];var O=0;for(t(T[j].slice(0,_).trim(),v,j,O,y),O=1;O<=(T[j].length-_)/10+1;++O)t(T[j].slice(_+(O-1)*10,_+O*10).trim(),v,j,O,y)}return y.sheetRows&&(v=v.slice(0,y.sheetRows)),v}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(p){for(var x={},y=!1,v=0,T=0;v<p.length;++v)(T=p.charCodeAt(v))==34?y=!y:!y&&T in r&&(x[T]=(x[T]||0)+1);T=[];for(v in x)Object.prototype.hasOwnProperty.call(x,v)&&T.push([x[v],v]);if(!T.length){x=n;for(v in x)Object.prototype.hasOwnProperty.call(x,v)&&T.push([x[v],v])}return T.sort(function(w,_){return w[0]-_[0]||n[w[1]]-n[_[1]]}),r[T.pop()[1]]||44}function i(p,x){var y=x||{},v="",T=y.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(v=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(v=p.charAt(4),p=p.slice(6)):v=s(p.slice(0,1024)):y&&y.FS?v=y.FS:v=s(p.slice(0,1024));var _=0,C=0,j=0,O=0,M=0,Y=v.charCodeAt(0),ne=!1,A=0,S=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var I=y.dateNF!=null?pH(y.dateNF):null;function V(){var B=p.slice(O,M),H={};if(B.charAt(0)=='"'&&B.charAt(B.length-1)=='"'&&(B=B.slice(1,-1).replace(/""/g,'"')),B.length===0)H.t="z";else if(y.raw)H.t="s",H.v=B;else if(B.trim().length===0)H.t="s",H.v=B;else if(B.charCodeAt(0)==61)B.charCodeAt(1)==34&&B.charCodeAt(B.length-1)==34?(H.t="s",H.v=B.slice(2,-1).replace(/""/g,'"')):Yq(B)?(H.t="n",H.f=B.slice(1)):(H.t="s",H.v=B);else if(B=="TRUE")H.t="b",H.v=!0;else if(B=="FALSE")H.t="b",H.v=!1;else if(!isNaN(j=Pa(B)))H.t="n",y.cellText!==!1&&(H.w=B),H.v=j;else if(!isNaN(p0(B).getDate())||I&&B.match(I)){H.z=y.dateNF||Wr[14];var D=0;I&&B.match(I)&&(B=mH(B,y.dateNF,B.match(I)||[]),D=1),y.cellDates?(H.t="d",H.v=ls(B,D)):(H.t="n",H.v=Es(ls(B,D))),y.cellText!==!1&&(H.w=Bo(H.z,H.v instanceof Date?Es(H.v):H.v)),y.cellNF||delete H.z}else H.t="s",H.v=B;if(H.t=="z"||(y.dense?(T[_]||(T[_]=[]),T[_][C]=H):T[ur({c:C,r:_})]=H),O=M+1,S=p.charCodeAt(O),w.e.c<C&&(w.e.c=C),w.e.r<_&&(w.e.r=_),A==Y)++C;else if(C=0,++_,y.sheetRows&&y.sheetRows<=_)return!0}e:for(;M<p.length;++M)switch(A=p.charCodeAt(M)){case 34:S===34&&(ne=!ne);break;case Y:case 10:case 13:if(!ne&&V())break e;break}return M-O>0&&V(),T["!ref"]=an(w),T}function o(p,x){return!(x&&x.PRN)||x.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?i(p,x):Du(e(p,x),x)}function u(p,x){var y="",v=x.type=="string"?[0,0,0,0]:uQ(p,x);switch(x.type){case"base64":y=Ba(p);break;case"binary":y=p;break;case"buffer":x.codepage==65001?y=p.toString("utf8"):x.codepage&&typeof Sp<"u"||(y=rr&&Buffer.isBuffer(p)?p.toString("binary"):U0(p));break;case"array":y=Sm(p);break;case"string":y=p;break;default:throw new Error("Unrecognized type "+x.type)}return v[0]==239&&v[1]==187&&v[2]==191?y=Bd(y.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?y=Bd(y):x.type=="binary"&&typeof Sp<"u",y.slice(0,19)=="socialcalc:version:"?G5.to_sheet(x.type=="string"?y:Bd(y),x):o(y,x)}function d(p,x){return Ql(u(p,x),x)}function h(p){for(var x=[],y=Sr(p["!ref"]),v,T=Array.isArray(p),w=y.s.r;w<=y.e.r;++w){for(var _=[],C=y.s.c;C<=y.e.c;++C){var j=ur({r:w,c:C});if(v=T?(p[w]||[])[C]:p[j],!v||v.v==null){_.push("          ");continue}for(var O=(v.w||(Ua(v),v.w)||"").slice(0,10);O.length<10;)O+=" ";_.push(O+(C===0?" ":""))}x.push(_.join(""))}return x.join(`
`)}return{to_workbook:d,to_sheet:u,from_sheet:h}})(),AT=(function(){function t(R,X,Q){if(R){js(R,R.l||0);for(var J=Q.Enum||be;R.l<R.length;){var re=R.read_shift(2),Ae=J[re]||J[65535],Re=R.read_shift(2),Se=R.l+Re,pe=Ae.f&&Ae.f(R,Re,Q);if(R.l=Se,X(pe,Ae,re))return}}}function e(R,X){switch(X.type){case"base64":return r(_i(Ba(R)),X);case"binary":return r(_i(R),X);case"buffer":case"array":return r(R,X)}throw"Unsupported type "+X.type}function r(R,X){if(!R)return R;var Q=X||{},J=Q.dense?[]:{},re="Sheet1",Ae="",Re=0,Se={},pe=[],Qe=[],yt={s:{r:0,c:0},e:{r:0,c:0}},Gt=Q.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)Q.Enum=be,t(R,function(Ue,nr,Ot){switch(Ot){case 0:Q.vers=Ue,Ue>=4096&&(Q.qpro=!0);break;case 6:yt=Ue;break;case 204:Ue&&(Ae=Ue);break;case 222:Ae=Ue;break;case 15:case 51:Q.qpro||(Ue[1].v=Ue[1].v.slice(1));case 13:case 14:case 16:Ot==14&&(Ue[2]&112)==112&&(Ue[2]&15)>1&&(Ue[2]&15)<15&&(Ue[1].z=Q.dateNF||Wr[14],Q.cellDates&&(Ue[1].t="d",Ue[1].v=u5(Ue[1].v))),Q.qpro&&Ue[3]>Re&&(J["!ref"]=an(yt),Se[re]=J,pe.push(re),J=Q.dense?[]:{},yt={s:{r:0,c:0},e:{r:0,c:0}},Re=Ue[3],re=Ae||"Sheet"+(Re+1),Ae="");var vr=Q.dense?(J[Ue[0].r]||[])[Ue[0].c]:J[ur(Ue[0])];if(vr){vr.t=Ue[1].t,vr.v=Ue[1].v,Ue[1].z!=null&&(vr.z=Ue[1].z),Ue[1].f!=null&&(vr.f=Ue[1].f);break}Q.dense?(J[Ue[0].r]||(J[Ue[0].r]=[]),J[Ue[0].r][Ue[0].c]=Ue[1]):J[ur(Ue[0])]=Ue[1];break}},Q);else if(R[2]==26||R[2]==14)Q.Enum=te,R[2]==14&&(Q.qpro=!0,R.l=0),t(R,function(Ue,nr,Ot){switch(Ot){case 204:re=Ue;break;case 22:Ue[1].v=Ue[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ue[3]>Re&&(J["!ref"]=an(yt),Se[re]=J,pe.push(re),J=Q.dense?[]:{},yt={s:{r:0,c:0},e:{r:0,c:0}},Re=Ue[3],re="Sheet"+(Re+1)),Gt>0&&Ue[0].r>=Gt)break;Q.dense?(J[Ue[0].r]||(J[Ue[0].r]=[]),J[Ue[0].r][Ue[0].c]=Ue[1]):J[ur(Ue[0])]=Ue[1],yt.e.c<Ue[0].c&&(yt.e.c=Ue[0].c),yt.e.r<Ue[0].r&&(yt.e.r=Ue[0].r);break;case 27:Ue[14e3]&&(Qe[Ue[14e3][0]]=Ue[14e3][1]);break;case 1537:Qe[Ue[0]]=Ue[1],Ue[0]==Re&&(re=Ue[1]);break}},Q);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(J["!ref"]=an(yt),Se[Ae||re]=J,pe.push(Ae||re),!Qe.length)return{SheetNames:pe,Sheets:Se};for(var Et={},dr=[],kt=0;kt<Qe.length;++kt)Se[pe[kt]]?(dr.push(Qe[kt]||pe[kt]),Et[Qe[kt]]=Se[Qe[kt]]||Se[pe[kt]]):(dr.push(Qe[kt]),Et[Qe[kt]]={"!ref":"A1"});return{SheetNames:dr,Sheets:Et}}function n(R,X){var Q=X||{};if(+Q.codepage>=0&&h0(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK1 to JS string");var J=_s(),re=Sr(R["!ref"]),Ae=Array.isArray(R),Re=[];tt(J,0,i(1030)),tt(J,6,d(re));for(var Se=Math.min(re.e.r,8191),pe=re.s.r;pe<=Se;++pe)for(var Qe=Fn(pe),yt=re.s.c;yt<=re.e.c;++yt){pe===re.s.r&&(Re[yt]=Kn(yt));var Gt=Re[yt]+Qe,Et=Ae?(R[pe]||[])[yt]:R[Gt];if(!(!Et||Et.t=="z"))if(Et.t=="n")(Et.v|0)==Et.v&&Et.v>=-32768&&Et.v<=32767?tt(J,13,v(pe,yt,Et.v)):tt(J,14,w(pe,yt,Et.v));else{var dr=Ua(Et);tt(J,15,x(pe,yt,dr.slice(0,239)))}}return tt(J,1),J.end()}function s(R,X){var Q=X||{};if(+Q.codepage>=0&&h0(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK3 to JS string");var J=_s();tt(J,0,o(R));for(var re=0,Ae=0;re<R.SheetNames.length;++re)(R.Sheets[R.SheetNames[re]]||{})["!ref"]&&tt(J,27,ye(R.SheetNames[re],Ae++));var Re=0;for(re=0;re<R.SheetNames.length;++re){var Se=R.Sheets[R.SheetNames[re]];if(!(!Se||!Se["!ref"])){for(var pe=Sr(Se["!ref"]),Qe=Array.isArray(Se),yt=[],Gt=Math.min(pe.e.r,8191),Et=pe.s.r;Et<=Gt;++Et)for(var dr=Fn(Et),kt=pe.s.c;kt<=pe.e.c;++kt){Et===pe.s.r&&(yt[kt]=Kn(kt));var Ue=yt[kt]+dr,nr=Qe?(Se[Et]||[])[kt]:Se[Ue];if(!(!nr||nr.t=="z"))if(nr.t=="n")tt(J,23,V(Et,kt,Re,nr.v));else{var Ot=Ua(nr);tt(J,22,A(Et,kt,Re,Ot.slice(0,239)))}}++Re}}return tt(J,1),J.end()}function i(R){var X=Ne(2);return X.write_shift(2,R),X}function o(R){var X=Ne(26);X.write_shift(2,4096),X.write_shift(2,4),X.write_shift(4,0);for(var Q=0,J=0,re=0,Ae=0;Ae<R.SheetNames.length;++Ae){var Re=R.SheetNames[Ae],Se=R.Sheets[Re];if(!(!Se||!Se["!ref"])){++re;var pe=Us(Se["!ref"]);Q<pe.e.r&&(Q=pe.e.r),J<pe.e.c&&(J=pe.e.c)}}return Q>8191&&(Q=8191),X.write_shift(2,Q),X.write_shift(1,re),X.write_shift(1,J),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(1,1),X.write_shift(1,2),X.write_shift(4,0),X.write_shift(4,0),X}function u(R,X,Q){var J={s:{c:0,r:0},e:{c:0,r:0}};return X==8&&Q.qpro?(J.s.c=R.read_shift(1),R.l++,J.s.r=R.read_shift(2),J.e.c=R.read_shift(1),R.l++,J.e.r=R.read_shift(2),J):(J.s.c=R.read_shift(2),J.s.r=R.read_shift(2),X==12&&Q.qpro&&(R.l+=2),J.e.c=R.read_shift(2),J.e.r=R.read_shift(2),X==12&&Q.qpro&&(R.l+=2),J.s.c==65535&&(J.s.c=J.e.c=J.s.r=J.e.r=0),J)}function d(R){var X=Ne(8);return X.write_shift(2,R.s.c),X.write_shift(2,R.s.r),X.write_shift(2,R.e.c),X.write_shift(2,R.e.r),X}function h(R,X,Q){var J=[{c:0,r:0},{t:"n",v:0},0,0];return Q.qpro&&Q.vers!=20768?(J[0].c=R.read_shift(1),J[3]=R.read_shift(1),J[0].r=R.read_shift(2),R.l+=2):(J[2]=R.read_shift(1),J[0].c=R.read_shift(2),J[0].r=R.read_shift(2)),J}function p(R,X,Q){var J=R.l+X,re=h(R,X,Q);if(re[1].t="s",Q.vers==20768){R.l++;var Ae=R.read_shift(1);return re[1].v=R.read_shift(Ae,"utf8"),re}return Q.qpro&&R.l++,re[1].v=R.read_shift(J-R.l,"cstr"),re}function x(R,X,Q){var J=Ne(7+Q.length);J.write_shift(1,255),J.write_shift(2,X),J.write_shift(2,R),J.write_shift(1,39);for(var re=0;re<J.length;++re){var Ae=Q.charCodeAt(re);J.write_shift(1,Ae>=128?95:Ae)}return J.write_shift(1,0),J}function y(R,X,Q){var J=h(R,X,Q);return J[1].v=R.read_shift(2,"i"),J}function v(R,X,Q){var J=Ne(7);return J.write_shift(1,255),J.write_shift(2,X),J.write_shift(2,R),J.write_shift(2,Q,"i"),J}function T(R,X,Q){var J=h(R,X,Q);return J[1].v=R.read_shift(8,"f"),J}function w(R,X,Q){var J=Ne(13);return J.write_shift(1,255),J.write_shift(2,X),J.write_shift(2,R),J.write_shift(8,Q,"f"),J}function _(R,X,Q){var J=R.l+X,re=h(R,X,Q);if(re[1].v=R.read_shift(8,"f"),Q.qpro)R.l=J;else{var Ae=R.read_shift(2);M(R.slice(R.l,R.l+Ae),re),R.l+=Ae}return re}function C(R,X,Q){var J=X&32768;return X&=-32769,X=(J?R:0)+(X>=8192?X-16384:X),(J?"":"$")+(Q?Kn(X):Fn(X))}var j={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},O=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function M(R,X){js(R,0);for(var Q=[],J=0,re="",Ae="",Re="",Se="";R.l<R.length;){var pe=R[R.l++];switch(pe){case 0:Q.push(R.read_shift(8,"f"));break;case 1:Ae=C(X[0].c,R.read_shift(2),!0),re=C(X[0].r,R.read_shift(2),!1),Q.push(Ae+re);break;case 2:{var Qe=C(X[0].c,R.read_shift(2),!0),yt=C(X[0].r,R.read_shift(2),!1);Ae=C(X[0].c,R.read_shift(2),!0),re=C(X[0].r,R.read_shift(2),!1),Q.push(Qe+yt+":"+Ae+re)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:Q.push("("+Q.pop()+")");break;case 5:Q.push(R.read_shift(2));break;case 6:{for(var Gt="";pe=R[R.l++];)Gt+=String.fromCharCode(pe);Q.push('"'+Gt.replace(/"/g,'""')+'"')}break;case 8:Q.push("-"+Q.pop());break;case 23:Q.push("+"+Q.pop());break;case 22:Q.push("NOT("+Q.pop()+")");break;case 20:case 21:Se=Q.pop(),Re=Q.pop(),Q.push(["AND","OR"][pe-20]+"("+Re+","+Se+")");break;default:if(pe<32&&O[pe])Se=Q.pop(),Re=Q.pop(),Q.push(Re+O[pe]+Se);else if(j[pe]){if(J=j[pe][1],J==69&&(J=R[R.l++]),J>Q.length){console.error("WK1 bad formula parse 0x"+pe.toString(16)+":|"+Q.join("|")+"|");return}var Et=Q.slice(-J);Q.length-=J,Q.push(j[pe][0]+"("+Et.join(",")+")")}else return pe<=7?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=24?console.error("WK1 unsupported op "+pe.toString(16)):pe<=30?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=115?console.error("WK1 unsupported function opcode "+pe.toString(16)):console.error("WK1 unrecognized opcode "+pe.toString(16))}}Q.length==1?X[1].f=""+Q[0]:console.error("WK1 bad formula parse |"+Q.join("|")+"|")}function Y(R){var X=[{c:0,r:0},{t:"n",v:0},0];return X[0].r=R.read_shift(2),X[3]=R[R.l++],X[0].c=R[R.l++],X}function ne(R,X){var Q=Y(R);return Q[1].t="s",Q[1].v=R.read_shift(X-4,"cstr"),Q}function A(R,X,Q,J){var re=Ne(6+J.length);re.write_shift(2,R),re.write_shift(1,Q),re.write_shift(1,X),re.write_shift(1,39);for(var Ae=0;Ae<J.length;++Ae){var Re=J.charCodeAt(Ae);re.write_shift(1,Re>=128?95:Re)}return re.write_shift(1,0),re}function S(R,X){var Q=Y(R);Q[1].v=R.read_shift(2);var J=Q[1].v>>1;if(Q[1].v&1)switch(J&7){case 0:J=(J>>3)*5e3;break;case 1:J=(J>>3)*500;break;case 2:J=(J>>3)/20;break;case 3:J=(J>>3)/200;break;case 4:J=(J>>3)/2e3;break;case 5:J=(J>>3)/2e4;break;case 6:J=(J>>3)/16;break;case 7:J=(J>>3)/64;break}return Q[1].v=J,Q}function I(R,X){var Q=Y(R),J=R.read_shift(4),re=R.read_shift(4),Ae=R.read_shift(2);if(Ae==65535)return J===0&&re===3221225472?(Q[1].t="e",Q[1].v=15):J===0&&re===3489660928?(Q[1].t="e",Q[1].v=42):Q[1].v=0,Q;var Re=Ae&32768;return Ae=(Ae&32767)-16446,Q[1].v=(1-Re*2)*(re*Math.pow(2,Ae+32)+J*Math.pow(2,Ae)),Q}function V(R,X,Q,J){var re=Ne(14);if(re.write_shift(2,R),re.write_shift(1,Q),re.write_shift(1,X),J==0)return re.write_shift(4,0),re.write_shift(4,0),re.write_shift(2,65535),re;var Ae=0,Re=0,Se=0,pe=0;return J<0&&(Ae=1,J=-J),Re=Math.log2(J)|0,J/=Math.pow(2,Re-31),pe=J>>>0,(pe&2147483648)==0&&(J/=2,++Re,pe=J>>>0),J-=pe,pe|=2147483648,pe>>>=0,J*=Math.pow(2,32),Se=J>>>0,re.write_shift(4,Se),re.write_shift(4,pe),Re+=16383+(Ae?32768:0),re.write_shift(2,Re),re}function B(R,X){var Q=I(R);return R.l+=X-14,Q}function H(R,X){var Q=Y(R),J=R.read_shift(4);return Q[1].v=J>>6,Q}function D(R,X){var Q=Y(R),J=R.read_shift(8,"f");return Q[1].v=J,Q}function ae(R,X){var Q=D(R);return R.l+=X-10,Q}function Ce(R,X){return R[R.l+X-1]==0?R.read_shift(X,"cstr"):""}function Ge(R,X){var Q=R[R.l++];Q>X-1&&(Q=X-1);for(var J="";J.length<Q;)J+=String.fromCharCode(R[R.l++]);return J}function ke(R,X,Q){if(!(!Q.qpro||X<21)){var J=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var re=R.read_shift(X-21,"cstr");return[J,re]}}function ce(R,X){for(var Q={},J=R.l+X;R.l<J;){var re=R.read_shift(2);if(re==14e3){for(Q[re]=[0,""],Q[re][0]=R.read_shift(2);R[R.l];)Q[re][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return Q}function ye(R,X){var Q=Ne(5+R.length);Q.write_shift(2,14e3),Q.write_shift(2,X);for(var J=0;J<R.length;++J){var re=R.charCodeAt(J);Q[Q.l++]=re>127?95:re}return Q[Q.l++]=0,Q}var be={0:{n:"BOF",f:U5},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:T},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ce},222:{n:"SHEETNAMELP",f:Ge},65535:{n:""}},te={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ne},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:B},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ce},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:H},38:{n:"??"},39:{n:"NUMBER27",f:D},40:{n:"FORMULA28",f:ae},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ce},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ke},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:e}})(),ZW=/^\s|\s$|[\t\n\r]/;function K5(t,e){if(!e.bookSST)return"";var r=[on];r[r.length]=et("sst",null,{xmlns:ju[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var s=t[n],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(ZW)&&(i+=' xml:space="preserve"'),i+=">"+cr(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function eq(t){return[t.read_shift(4),t.read_shift(4)]}function tq(t,e){return e||(e=Ne(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var rq=qH;function nq(t){var e=_s();De(e,159,tq(t));for(var r=0;r<t.length;++r)De(e,19,rq(t[r]));return De(e,160),e.end()}function sq(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function X5(t){var e=0,r,n=sq(t),s=n.length+1,i,o,u,d,h;for(r=Ll(s),r[0]=n.length,i=1;i!=s;++i)r[i]=n[i-1];for(i=s-1;i>=0;--i)o=r[i],u=(e&16384)===0?0:1,d=e<<1&32767,h=u|d,e=h^o;return e^52811}var iq=(function(){function t(s,i){switch(i.type){case"base64":return e(Ba(s),i);case"binary":return e(s,i);case"buffer":return e(rr&&Buffer.isBuffer(s)?s.toString("binary"):U0(s),i);case"array":return e(Sm(s),i)}throw new Error("Unrecognized type "+i.type)}function e(s,i){var o=i||{},u=o.dense?[]:{},d=s.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(p,x){Array.isArray(u)&&(u[x]=[]);for(var y=/\\\w+\b/g,v=0,T,w=-1;T=y.exec(p);){switch(T[0]){case"\\cell":var _=p.slice(v,y.lastIndex-T[0].length);if(_[0]==" "&&(_=_.slice(1)),++w,_.length){var C={v:_,t:"s"};Array.isArray(u)?u[x][w]=C:u[ur({r:x,c:w})]=C}break}v=y.lastIndex}w>h.e.c&&(h.e.c=w)}),u["!ref"]=an(h),u}function r(s,i){return Ql(t(s,i),i)}function n(s){for(var i=["{\\rtf1\\ansi"],o=Sr(s["!ref"]),u,d=Array.isArray(s),h=o.s.r;h<=o.e.r;++h){i.push("\\trowd\\trautofit1");for(var p=o.s.c;p<=o.e.c;++p)i.push("\\cellx"+(p+1));for(i.push("\\pard\\intbl"),p=o.s.c;p<=o.e.c;++p){var x=ur({r:h,c:p});u=d?(s[h]||[])[p]:s[x],!(!u||u.v==null&&(!u.f||u.F))&&(i.push(" "+(u.w||(Ua(u),u.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function CT(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var aq=6,Ra=aq;function Fp(t){return Math.floor((t+Math.round(128/Ra)/256)*Ra)}function Lp(t){return Math.floor((t-5)/Ra*100+.5)/100}function qy(t){return Math.round((t*Ra+5)/Ra*256)/256}function c2(t){t.width?(t.wpx=Fp(t.width),t.wch=Lp(t.wpx),t.MDW=Ra):t.wpx?(t.wch=Lp(t.wpx),t.width=qy(t.wch),t.MDW=Ra):typeof t.wch=="number"&&(t.width=qy(t.wch),t.wpx=Fp(t.width),t.MDW=Ra),t.customWidth&&delete t.customWidth}var oq=96,Y5=oq;function Mp(t){return t*96/Y5}function Q5(t){return t*Y5/96}function lq(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=et("numFmt",null,{numFmtId:n,formatCode:cr(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=et("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function cq(t){var e=[];return e[e.length]=et("cellXfs",null),t.forEach(function(r){e[e.length]=et("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=et("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function J5(t,e){var r=[on,et("styleSheet",null,{xmlns:ju[0],"xmlns:vt":vn.vt})],n;return t.SSF&&(n=lq(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=cq(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function uq(t,e){var r=t.read_shift(2),n=Xn(t);return[r,n]}function dq(t,e,r){r||(r=Ne(6+4*e.length)),r.write_shift(2,t),_n(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function hq(t,e,r){var n={};n.sz=t.read_shift(2)/20;var s=ZH(t);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var i=t.read_shift(2);switch(i===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(n.underline=o);var u=t.read_shift(1);u>0&&(n.family=u);var d=t.read_shift(1);switch(d>0&&(n.charset=d),t.l++,n.color=JH(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Xn(t),n}function fq(t,e){e||(e=Ne(153)),e.write_shift(2,t.sz*20),eW(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Dp(t.color,e);var n=0;return n=2,e.write_shift(1,n),_n(t.name,e),e.length>e.l?e.slice(0,e.l):e}var pq=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Ux,mq=ia;function IT(t,e){e||(e=Ne(84)),Ux||(Ux=Qv(pq));var r=Ux[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(Dp({auto:1},e),Dp({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function gq(t,e){var r=t.l+e,n=t.read_shift(2),s=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:s}}function Z5(t,e,r){r||(r=Ne(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function yd(t,e){return e||(e=Ne(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var xq=ia;function yq(t,e){return e||(e=Ne(51)),e.write_shift(1,0),yd(null,e),yd(null,e),yd(null,e),yd(null,e),yd(null,e),e.length>e.l?e.slice(0,e.l):e}function vq(t,e){return e||(e=Ne(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),jp(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function bq(t,e,r){var n=Ne(2052);return n.write_shift(4,t),jp(e,n),jp(r,n),n.length>n.l?n.slice(0,n.l):n}function wq(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&++r}),r!=0&&(De(t,615,Si(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&De(t,44,dq(s,e[s]))}),De(t,616))}}function _q(t){var e=1;De(t,611,Si(e)),De(t,43,fq({sz:12,color:{theme:1},name:"Calibri",family:2})),De(t,612)}function Eq(t){var e=2;De(t,603,Si(e)),De(t,45,IT({patternType:"none"})),De(t,45,IT({patternType:"gray125"})),De(t,604)}function Tq(t){var e=1;De(t,613,Si(e)),De(t,46,yq()),De(t,614)}function Nq(t){var e=1;De(t,626,Si(e)),De(t,47,Z5({numFmtId:0},65535)),De(t,627)}function kq(t,e){De(t,617,Si(e.length)),e.forEach(function(r){De(t,47,Z5(r,0))}),De(t,618)}function Sq(t){var e=1;De(t,619,Si(e)),De(t,48,vq({xfId:0,name:"Normal"})),De(t,620)}function Aq(t){var e=0;De(t,505,Si(e)),De(t,506)}function Cq(t){var e=0;De(t,508,bq(e,"TableStyleMedium9","PivotStyleMedium4")),De(t,509)}function Iq(t,e){var r=_s();return De(r,278),wq(r,t.SSF),_q(r),Eq(r),Tq(r),Nq(r),kq(r,e.cellXfs),Sq(r),Aq(r),Cq(r),De(r,279),r.end()}function e6(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[on];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Pq(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Xn(t)}}function Rq(t){var e=Ne(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),_n(t.name,e),e.slice(0,e.l)}function jq(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function Dq(t){var e=Ne(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function Oq(t,e){var r=Ne(8+2*e.length);return r.write_shift(4,t),_n(e,r),r.slice(0,r.l)}function Fq(t){return t.l+=4,t.read_shift(4)!=0}function Lq(t,e){var r=Ne(8);return r.write_shift(4,t),r.write_shift(4,1),r}function Mq(){var t=_s();return De(t,332),De(t,334,Si(1)),De(t,335,Rq({name:"XLDAPR",version:12e4,flags:3496657072})),De(t,336),De(t,339,Oq(1,"XLDAPR")),De(t,52),De(t,35,Si(514)),De(t,4096,Si(0)),De(t,4097,ei(1)),De(t,36),De(t,53),De(t,340),De(t,337,Lq(1)),De(t,51,Dq([[1,0]])),De(t,338),De(t,333),t.end()}function t6(){var t=[on];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Vq(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=ur(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Yc=1024;function r6(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[et("xml",null,{"xmlns:v":Ds.v,"xmlns:o":Ds.o,"xmlns:x":Ds.x,"xmlns:mv":Ds.mv}).replace(/\/>/,">"),et("o:shapelayout",et("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),et("v:shapetype",[et("v:stroke",null,{joinstyle:"miter"}),et("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Yc<t*1e3;)Yc+=1e3;return e.forEach(function(i){var o=wn(i[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var d=u.type=="gradient"?et("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=et("v:fill",d,u),p={on:"t",obscured:"t"};++Yc,s=s.concat(["<v:shape"+g0({id:"_x0000_s"+Yc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,et("v:shadow",null,p),et("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Dn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Dn("x:AutoFill","False"),Dn("x:Row",String(o.r)),Dn("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function n6(t){var e=[on,et("comments",null,{xmlns:ju[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(s){var i=cr(s.a);r.indexOf(i)==-1&&(r.push(i),e.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var s=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(d){d.a&&(s=r.indexOf(cr(d.a))),i.push(d.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),i.length<=1)e.push(Dn("t",cr(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,u=1;u<i.length;++u)o+=`Reply:
    `+i[u]+`
`;e.push(Dn("t",cr(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function $q(t,e,r){var n=[on,et("ThreadedComments",null,{xmlns:vn.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(s){var i="";(s[1]||[]).forEach(function(o,u){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var d={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};u==0?i=d.id:d.parentId=i,o.ID=d.id,o.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),n.push(et("threadedComment",Dn("text",o.t||""),d))})}),n.push("</ThreadedComments>"),n.join("")}function Bq(t){var e=[on,et("personList",null,{xmlns:vn.TCMNT,"xmlns:x":ju[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(et("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Uq(t){var e={};e.iauthor=t.read_shift(4);var r=tc(t);return e.rfx=r.s,e.ref=ur(r.s),t.l+=16,e}function zq(t,e){return e==null&&(e=Ne(36)),e.write_shift(4,t[1].iauthor),Ou(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Hq=Xn;function Wq(t){return _n(t.slice(0,54))}function qq(t){var e=_s(),r=[];return De(e,628),De(e,630),t.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),De(e,632,Wq(s.a)))})}),De(e,631),De(e,633),t.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:wn(n[0]),e:wn(n[0])};De(e,635,zq([i,s])),s.t&&s.t.length>0&&De(e,637,KH(s)),De(e,636),delete s.iauthor})}),De(e,634),De(e,629),e.end()}function Gq(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&fr.utils.cfb_add(t,s,e.FileIndex[n].content)}})}var s6=["xlsb","xlsm","xlam","biff8","xla"],Kq=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,s,i,o){var u=!1,d=!1;i.length==0?d=!0:i.charAt(0)=="["&&(d=!0,i=i.slice(1,-1)),o.length==0?u=!0:o.charAt(0)=="["&&(u=!0,o=o.slice(1,-1));var h=i.length>0?parseInt(i,10)|0:0,p=o.length>0?parseInt(o,10)|0:0;return u?p+=e.c:--p,d?h+=e.r:--h,s+(u?"":"$")+Kn(p)+(d?"":"$")+Fn(h)}return function(s,i){return e=i,s.replace(t,r)}})(),u2=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,d2=(function(){return function(e,r){return e.replace(u2,function(n,s,i,o,u,d){var h=s2(o)-(i?0:r.c),p=n2(d)-(u?0:r.r),x=p==0?"":u?p+1:"["+p+"]",y=h==0?"":i?h+1:"["+h+"]";return s+"R"+x+"C"+y})}})();function Xq(t,e){return t.replace(u2,function(r,n,s,i,o,u){return n+(s=="$"?s+i:Kn(s2(i)+e.c))+(o=="$"?o+u:Fn(n2(u)+e.r))})}function Yq(t){return t.length!=1}function rn(t){t.l+=1}function Uo(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function i6(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return a6(t);r.biff==12&&(n=4)}var s=t.read_shift(n),i=t.read_shift(n),o=Uo(t),u=Uo(t);return{s:{r:s,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:u[0],cRel:u[1],rRel:u[2]}}}function a6(t){var e=Uo(t),r=Uo(t),n=t.read_shift(1),s=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function Qq(t,e,r){if(r.biff<8)return a6(t);var n=t.read_shift(r.biff==12?4:2),s=t.read_shift(r.biff==12?4:2),i=Uo(t),o=Uo(t);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function o6(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return Jq(t);var n=t.read_shift(r&&r.biff==12?4:2),s=Uo(t);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function Jq(t){var e=Uo(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function Zq(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function eG(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return tG(t);var s=t.read_shift(n>=12?4:2),i=t.read_shift(2),o=(i&16384)>>14,u=(i&32768)>>15;if(i&=16383,u==1)for(;s>524287;)s-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:o,rRel:u}}function tG(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),s==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:s,rRel:n}}function rG(t,e,r){var n=(t[t.l++]&96)>>5,s=i6(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function nG(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var o=i6(t,i,r);return[n,s,o]}function sG(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function iG(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[n,s]}function aG(t,e,r){var n=(t[t.l++]&96)>>5,s=Qq(t,e-1,r);return[n,s]}function oG(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function PT(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function lG(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=n;++i)s.push(t.read_shift(r&&r.biff==2?1:2));return s}function cG(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function uG(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function dG(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function hG(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function l6(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function fG(t){return t.read_shift(2),l6(t)}function pG(t){return t.read_shift(2),l6(t)}function mG(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=o6(t,0,r);return[n,s]}function gG(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=eG(t,0,r);return[n,s]}function xG(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var i=o6(t,0,r);return[n,s,i]}function yG(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var s=t.read_shift(r&&r.biff<=3?1:2);return[yK[s],d6[s],n]}function vG(t,e,r){var n=t[t.l++],s=t.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:bG(t);return[s,(i[0]===0?d6:xK)[i[1]]]}function bG(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function wG(t,e,r){t.l+=r&&r.biff==2?3:4}function _G(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function EG(t){return t.l++,W0[t.read_shift(1)]}function TG(t){return t.l++,t.read_shift(2)}function NG(t){return t.l++,t.read_shift(1)!==0}function kG(t){return t.l++,Fu(t)}function SG(t,e,r){return t.l++,H5(t,e-1,r)}function AG(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=xW(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=W0[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Fu(t);break;case 2:r[1]=wW(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function CG(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),s=[],i=0;i!=n;++i)s.push((r.biff==12?tc:TW)(t));return s}function IG(t,e,r){var n=0,s=0;r.biff==12?(n=t.read_shift(4),s=t.read_shift(4)):(s=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var u=0;u!=s;++u)o[i][u]=AG(t,r.biff);return o}function PG(t,e,r){var n=t.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=t.read_shift(s);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,i]}function RG(t,e,r){if(r.biff==5)return jG(t);var n=t.read_shift(1)>>>5&3,s=t.read_shift(2),i=t.read_shift(4);return[n,s,i]}function jG(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function DG(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function OG(t,e,r){var n=t.read_shift(1)>>>5&3,s=t.read_shift(r&&r.biff==2?1:2);return[n,s]}function FG(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function LG(t,e,r){var n=(t[t.l++]&96)>>5,s=t.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[n,s]}var MG=ia,VG=ia,$G=ia;function q0(t,e,r){return t.l+=2,[Zq(t)]}function h2(t){return t.l+=6,[]}var BG=q0,UG=h2,zG=h2,HG=q0;function c6(t){return t.l+=2,[U5(t),t.read_shift(2)&1]}var WG=q0,qG=c6,GG=h2,KG=q0,XG=q0,YG=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function QG(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),s=t.read_shift(2),i=t.read_shift(2),o=YG[r>>2&31];return{ixti:e,coltype:r&3,rt:o,idx:n,c:s,C:i}}function JG(t){return t.l+=2,[t.read_shift(4)]}function ZG(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function eK(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function tK(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function rK(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function nK(t){return t.l+=4,[0,0]}var RT={1:{n:"PtgExp",f:_G},2:{n:"PtgTbl",f:$G},3:{n:"PtgAdd",f:rn},4:{n:"PtgSub",f:rn},5:{n:"PtgMul",f:rn},6:{n:"PtgDiv",f:rn},7:{n:"PtgPower",f:rn},8:{n:"PtgConcat",f:rn},9:{n:"PtgLt",f:rn},10:{n:"PtgLe",f:rn},11:{n:"PtgEq",f:rn},12:{n:"PtgGe",f:rn},13:{n:"PtgGt",f:rn},14:{n:"PtgNe",f:rn},15:{n:"PtgIsect",f:rn},16:{n:"PtgUnion",f:rn},17:{n:"PtgRange",f:rn},18:{n:"PtgUplus",f:rn},19:{n:"PtgUminus",f:rn},20:{n:"PtgPercent",f:rn},21:{n:"PtgParen",f:rn},22:{n:"PtgMissArg",f:rn},23:{n:"PtgStr",f:SG},26:{n:"PtgSheet",f:ZG},27:{n:"PtgEndSheet",f:eK},28:{n:"PtgErr",f:EG},29:{n:"PtgBool",f:NG},30:{n:"PtgInt",f:TG},31:{n:"PtgNum",f:kG},32:{n:"PtgArray",f:oG},33:{n:"PtgFunc",f:yG},34:{n:"PtgFuncVar",f:vG},35:{n:"PtgName",f:PG},36:{n:"PtgRef",f:mG},37:{n:"PtgArea",f:rG},38:{n:"PtgMemArea",f:DG},39:{n:"PtgMemErr",f:MG},40:{n:"PtgMemNoMem",f:VG},41:{n:"PtgMemFunc",f:OG},42:{n:"PtgRefErr",f:FG},43:{n:"PtgAreaErr",f:sG},44:{n:"PtgRefN",f:gG},45:{n:"PtgAreaN",f:aG},46:{n:"PtgMemAreaN",f:tK},47:{n:"PtgMemNoMemN",f:rK},57:{n:"PtgNameX",f:RG},58:{n:"PtgRef3d",f:xG},59:{n:"PtgArea3d",f:nG},60:{n:"PtgRefErr3d",f:LG},61:{n:"PtgAreaErr3d",f:iG},255:{}},sK={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},iK={1:{n:"PtgElfLel",f:c6},2:{n:"PtgElfRw",f:KG},3:{n:"PtgElfCol",f:BG},6:{n:"PtgElfRwV",f:XG},7:{n:"PtgElfColV",f:HG},10:{n:"PtgElfRadical",f:WG},11:{n:"PtgElfRadicalS",f:GG},13:{n:"PtgElfColS",f:UG},15:{n:"PtgElfColSV",f:zG},16:{n:"PtgElfRadicalLel",f:qG},25:{n:"PtgList",f:QG},29:{n:"PtgSxName",f:JG},255:{}},aK={0:{n:"PtgAttrNoop",f:nK},1:{n:"PtgAttrSemi",f:hG},2:{n:"PtgAttrIf",f:uG},4:{n:"PtgAttrChoose",f:lG},8:{n:"PtgAttrGoto",f:cG},16:{n:"PtgAttrSum",f:wG},32:{n:"PtgAttrBaxcel",f:PT},33:{n:"PtgAttrBaxcel",f:PT},64:{n:"PtgAttrSpace",f:fG},65:{n:"PtgAttrSpaceSemi",f:pG},128:{n:"PtgAttrIfError",f:dG},255:{}};function oK(t,e,r,n){if(n.biff<8)return ia(t,e);for(var s=t.l+e,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=IG(t,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=CG(t,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=t.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return e=s-t.l,e!==0&&i.push(ia(t,e)),i}function lK(t,e,r){for(var n=t.l+e,s,i,o=[];n!=t.l;)e=n-t.l,i=t[t.l],s=RT[i]||RT[sK[i]],(i===24||i===25)&&(s=(i===24?iK:aK)[t[t.l+1]]),!s||!s.f?ia(t,e):o.push([s.n,s.f(t,e,r)]);return o}function cK(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],s=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:s.push('"'+o[1].replace(/"/g,'""')+'"');break;default:s.push(o[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var uK={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function dK(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function u6(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(t[n[0]][0]){case 357:return s=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[n[0]][0][3]?(s=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function jT(t,e,r){var n=u6(t,e,r);return n=="#REF"?n:dK(n,r)}function bu(t,e,r,n,s){var i=s&&s.biff||8,o={s:{c:0,r:0}},u=[],d,h,p,x=0,y=0,v,T="";if(!t[0]||!t[0][0])return"";for(var w=-1,_="",C=0,j=t[0].length;C<j;++C){var O=t[0][C];switch(O[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=u.pop(),h=u.pop(),w>=0){switch(t[0][w][1][0]){case 0:_=Hr(" ",t[0][w][1][1]);break;case 1:_=Hr("\r",t[0][w][1][1]);break;default:if(_="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}h=h+_,w=-1}u.push(h+uK[O[0]]+d);break;case"PtgIsect":d=u.pop(),h=u.pop(),u.push(h+" "+d);break;case"PtgUnion":d=u.pop(),h=u.pop(),u.push(h+","+d);break;case"PtgRange":d=u.pop(),h=u.pop(),u.push(h+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=zd(O[1][1],o,s),u.push(Hd(p,i));break;case"PtgRefN":p=r?zd(O[1][1],r,s):O[1][1],u.push(Hd(p,i));break;case"PtgRef3d":x=O[1][1],p=zd(O[1][2],o,s),T=jT(n,x,s),u.push(T+"!"+Hd(p,i));break;case"PtgFunc":case"PtgFuncVar":var M=O[1][0],Y=O[1][1];M||(M=0),M&=127;var ne=M==0?[]:u.slice(-M);u.length-=M,Y==="User"&&(Y=ne.shift()),u.push(Y+"("+ne.join(",")+")");break;case"PtgBool":u.push(O[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(O[1]);break;case"PtgNum":u.push(String(O[1]));break;case"PtgStr":u.push('"'+O[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(O[1]);break;case"PtgAreaN":v=xT(O[1][1],r?{s:r}:o,s),u.push($x(v,s));break;case"PtgArea":v=xT(O[1][1],o,s),u.push($x(v,s));break;case"PtgArea3d":x=O[1][1],v=O[1][2],T=jT(n,x,s),u.push(T+"!"+$x(v,s));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=O[1][2];var A=(n.names||[])[y-1]||(n[0]||[])[y],S=A?A.Name:"SH33TJSNAME"+String(y);S&&S.slice(0,6)=="_xlfn."&&!s.xlfn&&(S=S.slice(6)),u.push(S);break;case"PtgNameX":var I=O[1][1];y=O[1][2];var V;if(s.biff<=5)I<0&&(I=-I),n[I]&&(V=n[I][y]);else{var B="";if(((n[I]||[])[0]||[])[0]==14849||(((n[I]||[])[0]||[])[0]==1025?n[I][y]&&n[I][y].itab>0&&(B=n.SheetNames[n[I][y].itab-1]+"!"):B=n.SheetNames[y-1]+"!"),n[I]&&n[I][y])B+=n[I][y].Name;else if(n[0]&&n[0][y])B+=n[0][y].Name;else{var H=(u6(n,I,s)||"").split(";;");H[y-1]?B=H[y-1]:B+="SH33TJSERRX"}u.push(B);break}V||(V={Name:"SH33TJSERRY"}),u.push(V.Name);break;case"PtgParen":var D="(",ae=")";if(w>=0){switch(_="",t[0][w][1][0]){case 2:D=Hr(" ",t[0][w][1][1])+D;break;case 3:D=Hr("\r",t[0][w][1][1])+D;break;case 4:ae=Hr(" ",t[0][w][1][1])+ae;break;case 5:ae=Hr("\r",t[0][w][1][1])+ae;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}w=-1}u.push(D+u.pop()+ae);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":p={c:O[1][1],r:O[1][0]};var Ce={c:r.c,r:r.r};if(n.sharedf[ur(p)]){var Ge=n.sharedf[ur(p)];u.push(bu(Ge,o,Ce,n,s))}else{var ke=!1;for(d=0;d!=n.arrayf.length;++d)if(h=n.arrayf[d],!(p.c<h[0].s.c||p.c>h[0].e.c)&&!(p.r<h[0].s.r||p.r>h[0].e.r)){u.push(bu(h[1],o,Ce,n,s)),ke=!0;break}ke||u.push(O[1])}break;case"PtgArray":u.push("{"+cK(O[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=C;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+O[1].idx+"[#"+O[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(O));default:throw new Error("Unrecognized Formula Token: "+String(O))}var ce=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&w>=0&&ce.indexOf(t[0][C][0])==-1){O=t[0][w];var ye=!0;switch(O[1][0]){case 4:ye=!1;case 0:_=Hr(" ",O[1][1]);break;case 5:ye=!1;case 1:_=Hr("\r",O[1][1]);break;default:if(_="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+O[1][0])}u.push((ye?_:"")+u.pop()+(ye?"":_)),w=-1}}if(u.length>1&&s.WTF)throw new Error("bad formula stack");return u[0]}function hK(t){if(t==null){var e=Ne(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Ml(t);return Ml(0)}function fK(t,e,r,n,s){var i=Vl(e,r,s),o=hK(t.v),u=Ne(6),d=33;u.write_shift(2,d),u.write_shift(4,0);for(var h=Ne(t.bf.length),p=0;p<t.bf.length;++p)h[p]=t.bf[p];var x=jn([i,o,u,h]);return x}function Am(t,e,r){var n=t.read_shift(4),s=lK(t,n,r),i=t.read_shift(4),o=i>0?oK(t,i,s,r):null;return[s,o]}var pK=Am,Cm=Am,mK=Am,gK=Am,xK={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},d6={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},yK={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function vK(t){var e="of:="+t.replace(u2,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function bK(t){return t.replace(/\./,"!")}var Wd=typeof Map<"u";function f2(t,e,r){var n=0,s=t.length;if(r){if(Wd?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var i=Wd?r.get(e):r[e];n<i.length;++n)if(t[i[n]].t===e)return t.Count++,i[n]}}else for(;n<s;++n)if(t[n].t===e)return t.Count++,n;return t[s]={t:e},t.Count++,t.Unique++,r&&(Wd?(r.has(e)||r.set(e,[]),r.get(e).push(s)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(s))),s}function Im(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Ra=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Lp(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=qy(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function h6(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Yo(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],s=60,i=t.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){o5(e.z,s),r.ssf[s]=e.z,r.revssf[e.z]=n=s;break}}for(s=0;s!=i;++s)if(t[s].numFmtId===n)return s;return t[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function wK(t,e,r){if(t&&t["!ref"]){var n=Sr(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function _K(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+an(t[r])+'"/>';return e+"</mergeCells>"}function EK(t,e,r,n,s){var i=!1,o={},u=null;if(n.bookType!=="xlsx"&&e.vbaraw){var d=e.SheetNames[r];try{e.Workbook&&(d=e.Workbook.Sheets[r].CodeName||d)}catch{}i=!0,o.codeName=m0(cr(d))}if(t&&t["!outline"]){var h={summaryBelow:1,summaryRight:1};t["!outline"].above&&(h.summaryBelow=0),t["!outline"].left&&(h.summaryRight=0),u=(u||"")+et("outlinePr",null,h)}!i&&!u||(s[s.length]=et("sheetPr",u,o))}var TK=["objects","scenarios","selectLockedCells","selectUnlockedCells"],NK=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function kK(t){var e={sheet:1};return TK.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),NK.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=X5(t.password).toString(16).toUpperCase()),et("sheetProtection",null,e)}function SK(t){return h6(t),et("pageMargins",null,t)}function AK(t,e){for(var r=["<cols>"],n,s=0;s!=e.length;++s)(n=e[s])&&(r[r.length]=et("col",null,Im(s,n)));return r[r.length]="</cols>",r.join("")}function CK(t,e,r,n){var s=typeof t.ref=="string"?t.ref:an(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=Us(s);o.s.r==o.e.r&&(o.e.r=Us(e["!ref"]).e.r,s=an(o));for(var u=0;u<i.length;++u){var d=i[u];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return u==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),et("autoFilter",null,{ref:s})}function IK(t,e,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),et("sheetViews",et("sheetView",null,s),{})}function PK(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var s="",i=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":s=t.v?"1":"0";break;case"n":s=""+t.v;break;case"e":s=W0[t.v];break;case"d":n&&n.cellDates?s=ls(t.v,-1).toISOString():(t=Ts(t),t.t="n",s=""+(t.v=Es(ls(t.v)))),typeof t.z>"u"&&(t.z=Wr[14]);break;default:s=t.v;break}var u=Dn("v",cr(s)),d={r:e},h=Yo(n.cellXfs,t,n);switch(h!==0&&(d.s=h),t.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){u=Dn("v",""+f2(n.Strings,t.v,n.revStrings)),d.t="s";break}d.t="str";break}if(t.t!=i&&(t.t=i,t.v=o),typeof t.f=="string"&&t.f){var p=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;u=et("f",cr(t.f),p)+(t.v!=null?u:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(d.cm=1),et("c",u,d)}function RK(t,e,r,n){var s=[],i=[],o=Sr(t["!ref"]),u="",d,h="",p=[],x=0,y=0,v=t["!rows"],T=Array.isArray(t),w={r:h},_,C=-1;for(y=o.s.c;y<=o.e.c;++y)p[y]=Kn(y);for(x=o.s.r;x<=o.e.r;++x){for(i=[],h=Fn(x),y=o.s.c;y<=o.e.c;++y){d=p[y]+h;var j=T?(t[x]||[])[y]:t[d];j!==void 0&&(u=PK(j,d,t,e))!=null&&i.push(u)}(i.length>0||v&&v[x])&&(w={r:h},v&&v[x]&&(_=v[x],_.hidden&&(w.hidden=1),C=-1,_.hpx?C=Mp(_.hpx):_.hpt&&(C=_.hpt),C>-1&&(w.ht=C,w.customHeight=1),_.level&&(w.outlineLevel=_.level)),s[s.length]=et("row",i.join(""),w))}if(v)for(;x<v.length;++x)v&&v[x]&&(w={r:x+1},_=v[x],_.hidden&&(w.hidden=1),C=-1,_.hpx?C=Mp(_.hpx):_.hpt&&(C=_.hpt),C>-1&&(w.ht=C,w.customHeight=1),_.level&&(w.outlineLevel=_.level),s[s.length]=et("row","",w));return s.join("")}function f6(t,e,r,n){var s=[on,et("worksheet",null,{xmlns:ju[0],"xmlns:r":vn.r})],i=r.SheetNames[t],o=0,u="",d=r.Sheets[i];d==null&&(d={});var h=d["!ref"]||"A1",p=Sr(h);if(p.e.c>16383||p.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),h=an(p)}n||(n={}),d["!comments"]=[];var x=[];EK(d,r,t,e,s),s[s.length]=et("dimension",null,{ref:h}),s[s.length]=IK(d,e,t,r),e.sheetFormat&&(s[s.length]=et("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(s[s.length]=AK(d,d["!cols"])),s[o=s.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(u=RK(d,e),u.length>0&&(s[s.length]=u)),s.length>o+1&&(s[s.length]="</sheetData>",s[o]=s[o].replace("/>",">")),d["!protect"]&&(s[s.length]=kK(d["!protect"])),d["!autofilter"]!=null&&(s[s.length]=CK(d["!autofilter"],d,r,t)),d["!merges"]!=null&&d["!merges"].length>0&&(s[s.length]=_K(d["!merges"]));var y=-1,v,T=-1;return d["!links"].length>0&&(s[s.length]="<hyperlinks>",d["!links"].forEach(function(w){w[1].Target&&(v={ref:w[0]},w[1].Target.charAt(0)!="#"&&(T=lr(n,-1,cr(w[1].Target).replace(/#.*$/,""),er.HLINK),v["r:id"]="rId"+T),(y=w[1].Target.indexOf("#"))>-1&&(v.location=cr(w[1].Target.slice(y+1))),w[1].Tooltip&&(v.tooltip=cr(w[1].Tooltip)),s[s.length]=et("hyperlink",null,v))}),s[s.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(s[s.length]=SK(d["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=Dn("ignoredErrors",et("ignoredError",null,{numberStoredAsText:1,sqref:h}))),x.length>0&&(T=lr(n,-1,"../drawings/drawing"+(t+1)+".xml",er.DRAW),s[s.length]=et("drawing",null,{"r:id":"rId"+T}),d["!drawing"]=x),d["!comments"].length>0&&(T=lr(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",er.VML),s[s.length]=et("legacyDrawing",null,{"r:id":"rId"+T}),d["!legacy"]=T),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function jK(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var s=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function DK(t,e,r){var n=Ne(145),s=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var i=320;s.hpx?i=Mp(s.hpx)*20:s.hpt&&(i=s.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;s.level&&(o|=s.level),s.hidden&&(o|=16),(s.hpx||s.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var u=0,d=n.l;n.l+=4;for(var h={r:t,c:0},p=0;p<16;++p)if(!(e.s.c>p+1<<10||e.e.c<p<<10)){for(var x=-1,y=-1,v=p<<10;v<p+1<<10;++v){h.c=v;var T=Array.isArray(r)?(r[h.r]||[])[h.c]:r[ur(h)];T&&(x<0&&(x=v),y=v)}x<0||(++u,n.write_shift(4,x),n.write_shift(4,y))}var w=n.l;return n.l=d,n.write_shift(4,u),n.l=w,n.length>n.l?n.slice(0,n.l):n}function OK(t,e,r,n){var s=DK(n,r,e);(s.length>17||(e["!rows"]||[])[n])&&De(t,0,s)}var FK=tc,LK=Ou;function MK(){}function VK(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=XH(t),r}function $K(t,e,r){r==null&&(r=Ne(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return Dp({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),A5(t,r),r.slice(0,r.l)}function BK(t){var e=ii(t);return[e]}function UK(t,e,r){return r==null&&(r=Ne(8)),Jl(e,r)}function zK(t){var e=Zl(t);return[e]}function HK(t,e,r){return r==null&&(r=Ne(4)),ec(e,r)}function WK(t){var e=ii(t),r=t.read_shift(1);return[e,r,"b"]}function qK(t,e,r){return r==null&&(r=Ne(9)),Jl(e,r),r.write_shift(1,t.v?1:0),r}function GK(t){var e=Zl(t),r=t.read_shift(1);return[e,r,"b"]}function KK(t,e,r){return r==null&&(r=Ne(5)),ec(e,r),r.write_shift(1,t.v?1:0),r}function XK(t){var e=ii(t),r=t.read_shift(1);return[e,r,"e"]}function YK(t,e,r){return r==null&&(r=Ne(9)),Jl(e,r),r.write_shift(1,t.v),r}function QK(t){var e=Zl(t),r=t.read_shift(1);return[e,r,"e"]}function JK(t,e,r){return r==null&&(r=Ne(8)),ec(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function ZK(t){var e=ii(t),r=t.read_shift(4);return[e,r,"s"]}function eX(t,e,r){return r==null&&(r=Ne(12)),Jl(e,r),r.write_shift(4,e.v),r}function tX(t){var e=Zl(t),r=t.read_shift(4);return[e,r,"s"]}function rX(t,e,r){return r==null&&(r=Ne(8)),ec(e,r),r.write_shift(4,e.v),r}function nX(t){var e=ii(t),r=Fu(t);return[e,r,"n"]}function sX(t,e,r){return r==null&&(r=Ne(16)),Jl(e,r),Ml(t.v,r),r}function iX(t){var e=Zl(t),r=Fu(t);return[e,r,"n"]}function aX(t,e,r){return r==null&&(r=Ne(12)),ec(e,r),Ml(t.v,r),r}function oX(t){var e=ii(t),r=C5(t);return[e,r,"n"]}function lX(t,e,r){return r==null&&(r=Ne(12)),Jl(e,r),I5(t.v,r),r}function cX(t){var e=Zl(t),r=C5(t);return[e,r,"n"]}function uX(t,e,r){return r==null&&(r=Ne(8)),ec(e,r),I5(t.v,r),r}function dX(t){var e=ii(t),r=i2(t);return[e,r,"is"]}function hX(t){var e=ii(t),r=Xn(t);return[e,r,"str"]}function fX(t,e,r){return r==null&&(r=Ne(12+4*t.v.length)),Jl(e,r),_n(t.v,r),r.length>r.l?r.slice(0,r.l):r}function pX(t){var e=Zl(t),r=Xn(t);return[e,r,"str"]}function mX(t,e,r){return r==null&&(r=Ne(8+4*t.v.length)),ec(e,r),_n(t.v,r),r.length>r.l?r.slice(0,r.l):r}function gX(t,e,r){var n=t.l+e,s=ii(t);s.r=r["!row"];var i=t.read_shift(1),o=[s,i,"b"];if(r.cellFormula){t.l+=2;var u=Cm(t,n-t.l,r);o[3]=bu(u,null,s,r.supbooks,r)}else t.l=n;return o}function xX(t,e,r){var n=t.l+e,s=ii(t);s.r=r["!row"];var i=t.read_shift(1),o=[s,i,"e"];if(r.cellFormula){t.l+=2;var u=Cm(t,n-t.l,r);o[3]=bu(u,null,s,r.supbooks,r)}else t.l=n;return o}function yX(t,e,r){var n=t.l+e,s=ii(t);s.r=r["!row"];var i=Fu(t),o=[s,i,"n"];if(r.cellFormula){t.l+=2;var u=Cm(t,n-t.l,r);o[3]=bu(u,null,s,r.supbooks,r)}else t.l=n;return o}function vX(t,e,r){var n=t.l+e,s=ii(t);s.r=r["!row"];var i=Xn(t),o=[s,i,"str"];if(r.cellFormula){t.l+=2;var u=Cm(t,n-t.l,r);o[3]=bu(u,null,s,r.supbooks,r)}else t.l=n;return o}var bX=tc,wX=Ou;function _X(t,e){return e==null&&(e=Ne(4)),e.write_shift(4,t),e}function EX(t,e){var r=t.l+e,n=tc(t),s=a2(t),i=Xn(t),o=Xn(t),u=Xn(t);t.l=r;var d={rfx:n,relId:s,loc:i,display:u};return o&&(d.Tooltip=o),d}function TX(t,e){var r=Ne(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Ou({s:wn(t[0]),e:wn(t[0])},r),o2("rId"+e,r);var n=t[1].Target.indexOf("#"),s=n==-1?"":t[1].Target.slice(n+1);return _n(s||"",r),_n(t[1].Tooltip||"",r),_n("",r),r.slice(0,r.l)}function NX(){}function kX(t,e,r){var n=t.l+e,s=P5(t),i=t.read_shift(1),o=[s];if(o[2]=i,r.cellFormula){var u=pK(t,n-t.l,r);o[1]=u}else t.l=n;return o}function SX(t,e,r){var n=t.l+e,s=tc(t),i=[s];if(r.cellFormula){var o=gK(t,n-t.l,r);i[1]=o,t.l=n}else t.l=n;return i}function AX(t,e,r){r==null&&(r=Ne(18));var n=Im(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),r.write_shift(2,s),r}var p6=["left","right","top","bottom","header","footer"];function CX(t){var e={};return p6.forEach(function(r){e[r]=Fu(t)}),e}function IX(t,e){return e==null&&(e=Ne(48)),h6(t),p6.forEach(function(r){Ml(t[r],e)}),e}function PX(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function RX(t,e,r){r==null&&(r=Ne(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function jX(t){var e=Ne(24);return e.write_shift(4,4),e.write_shift(4,1),Ou(t,e),e}function DX(t,e){return e==null&&(e=Ne(66)),e.write_shift(2,t.password?X5(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function OX(){}function FX(){}function LX(t,e,r,n,s,i,o){if(e.v===void 0)return!1;var u="";switch(e.t){case"b":u=e.v?"1":"0";break;case"d":e=Ts(e),e.z=e.z||Wr[14],e.v=Es(ls(e.v)),e.t="n";break;case"n":case"e":u=""+e.v;break;default:u=e.v;break}var d={r,c:n};switch(d.s=Yo(s.cellXfs,e,s),e.l&&i["!links"].push([ur(d),e.l]),e.c&&i["!comments"].push([ur(d),e.c]),e.t){case"s":case"str":return s.bookSST?(u=f2(s.Strings,e.v,s.revStrings),d.t="s",d.v=u,o?De(t,18,rX(e,d)):De(t,7,eX(e,d))):(d.t="str",o?De(t,17,mX(e,d)):De(t,6,fX(e,d))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?De(t,13,uX(e,d)):De(t,2,lX(e,d)):o?De(t,16,aX(e,d)):De(t,5,sX(e,d)),!0;case"b":return d.t="b",o?De(t,15,KK(e,d)):De(t,4,qK(e,d)),!0;case"e":return d.t="e",o?De(t,14,JK(e,d)):De(t,3,YK(e,d)),!0}return o?De(t,12,HK(e,d)):De(t,1,UK(e,d)),!0}function MX(t,e,r,n){var s=Sr(e["!ref"]||"A1"),i,o="",u=[];De(t,145);var d=Array.isArray(e),h=s.e.r;e["!rows"]&&(h=Math.max(s.e.r,e["!rows"].length-1));for(var p=s.s.r;p<=h;++p){o=Fn(p),OK(t,e,s,p);var x=!1;if(p<=s.e.r)for(var y=s.s.c;y<=s.e.c;++y){p===s.s.r&&(u[y]=Kn(y)),i=u[y]+o;var v=d?(e[p]||[])[y]:e[i];if(!v){x=!1;continue}x=LX(t,v,p,y,n,e,x)}}De(t,146)}function VX(t,e){!e||!e["!merges"]||(De(t,177,_X(e["!merges"].length)),e["!merges"].forEach(function(r){De(t,176,wX(r))}),De(t,178))}function $X(t,e){!e||!e["!cols"]||(De(t,390),e["!cols"].forEach(function(r,n){r&&De(t,60,AX(n,r))}),De(t,391))}function BX(t,e){!e||!e["!ref"]||(De(t,648),De(t,649,jX(Sr(e["!ref"]))),De(t,650))}function UX(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var s=lr(r,-1,n[1].Target.replace(/#.*$/,""),er.HLINK);De(t,494,TX(n,s))}}),delete e["!links"]}function zX(t,e,r,n){if(e["!comments"].length>0){var s=lr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",er.VML);De(t,551,o2("rId"+s)),e["!legacy"]=s}}function HX(t,e,r,n){if(e["!autofilter"]){var s=e["!autofilter"],i=typeof s.ref=="string"?s.ref:an(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,u=Us(i);u.s.r==u.e.r&&(u.e.r=Us(e["!ref"]).e.r,i=an(u));for(var d=0;d<o.length;++d){var h=o[d];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==n){h.Ref="'"+r.SheetNames[n]+"'!"+i;break}}d==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),De(t,161,Ou(Sr(i))),De(t,162)}}function WX(t,e,r){De(t,133),De(t,137,RX(e,r)),De(t,138),De(t,134)}function qX(t,e){e["!protect"]&&De(t,535,DX(e["!protect"]))}function GX(t,e,r,n){var s=_s(),i=r.SheetNames[t],o=r.Sheets[i]||{},u=i;try{r&&r.Workbook&&(u=r.Workbook.Sheets[t].CodeName||u)}catch{}var d=Sr(o["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],De(s,129),(r.vbaraw||o["!outline"])&&De(s,147,$K(u,o["!outline"])),De(s,148,LK(d)),WX(s,o,r.Workbook),$X(s,o),MX(s,o,t,e),qX(s,o),HX(s,o,r,t),VX(s,o),UX(s,o,n),o["!margins"]&&De(s,476,IX(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&BX(s,o),zX(s,o,t,n),De(s,130),s.end()}function KX(t,e){t.l+=10;var r=Xn(t);return{name:r}}var XX=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function YX(t){return!t.Workbook||!t.Workbook.WBProps?"false":SH(t.Workbook.WBProps.date1904)?"true":"false"}var QX="][*?/\\".split("");function m6(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return QX.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function JX(t,e,r){t.forEach(function(n,s){m6(n);for(var i=0;i<s;++i)if(n==t[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=e&&e[s]&&e[s].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function ZX(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];JX(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)wK(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function g6(t){var e=[on];e[e.length]=et("workbook",null,{xmlns:ju[0],"xmlns:r":vn.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(XX.forEach(function(u){t.Workbook.WBProps[u[0]]!=null&&t.Workbook.WBProps[u[0]]!=u[1]&&(n[u[0]]=t.Workbook.WBProps[u[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=et("workbookPr",null,n);var s=t.Workbook&&t.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",i=0;i!=t.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==t.SheetNames.length&&(i=0),e[e.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",i=0;i!=t.SheetNames.length;++i){var o={name:cr(t.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=et("sheet",null,o)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(u){var d={name:u.Name};u.Comment&&(d.comment=u.Comment),u.Sheet!=null&&(d.localSheetId=""+u.Sheet),u.Hidden&&(d.hidden="1"),u.Ref&&(e[e.length]=et("definedName",cr(u.Ref),d))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function eY(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Wy(t),r.name=Xn(t),r}function tY(t,e){return e||(e=Ne(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),o2(t.strRelID,e),_n(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function rY(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var s=e>8?Xn(t):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function nY(t,e){e||(e=Ne(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),A5(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function sY(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var s=t.read_shift(4),i=YH(t),o=mK(t,0,r),u=a2(t);t.l=n;var d={Name:i,Ptg:o};return s<268435455&&(d.Sheet=s),u&&(d.Comment=u),d}function iY(t,e){De(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};De(t,156,tY(s))}De(t,144)}function aY(t,e){e||(e=Ne(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return _n("SheetJS",e),_n(kp.version,e),_n(kp.version,e),_n("7262",e),e.length>e.l?e.slice(0,e.l):e}function oY(t,e){e||(e=Ne(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function lY(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,s=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&i==-1&&(i=n);i>s||(De(t,135),De(t,158,oY(s)),De(t,136))}}function cY(t,e){var r=_s();return De(r,131),De(r,128,aY()),De(r,153,nY(t.Workbook&&t.Workbook.WBProps||null)),lY(r,t),iY(r,t),De(r,132),r.end()}function uY(t,e,r){return(e.slice(-4)===".bin"?cY:g6)(t)}function dY(t,e,r,n,s){return(e.slice(-4)===".bin"?GX:f6)(t,r,n,s)}function hY(t,e,r){return(e.slice(-4)===".bin"?Iq:J5)(t,r)}function fY(t,e,r){return(e.slice(-4)===".bin"?nq:K5)(t,r)}function pY(t,e,r){return(e.slice(-4)===".bin"?qq:n6)(t)}function mY(t){return(t.slice(-4)===".bin"?Mq:t6)()}function gY(t,e){var r=[];return t.Props&&r.push(hW(t.Props,e)),t.Custprops&&r.push(fW(t.Props,t.Custprops)),r.join("")}function xY(){return""}function yY(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,s){var i=[];i.push(et("NumberFormat",null,{"ss:Format":cr(Wr[n.numFmtId])}));var o={"ss:ID":"s"+(21+s)};r.push(et("Style",i.join(""),o))}),et("Styles",r.join(""))}function x6(t){return et("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+d2(t.Ref,{r:0,c:0})})}function vY(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var s=e[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(x6(s)))}return et("Names",r.join(""))}function bY(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,i=[],o=0;o<s.length;++o){var u=s[o];u.Sheet==r&&(u.Name.match(/^_xlfn\./)||i.push(x6(u)))}return i.join("")}function wY(t,e,r,n){if(!t)return"";var s=[];if(t["!margins"]&&(s.push("<PageSetup>"),t["!margins"].header&&s.push(et("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&s.push(et("Footer",null,{"x:Margin":t["!margins"].footer})),s.push(et("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(et("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),t["!protect"]&&(s.push(Dn("ProtectContents","True")),t["!protect"].objects&&s.push(Dn("ProtectObjects","True")),t["!protect"].scenarios&&s.push(Dn("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?s.push(Dn("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&s.push(Dn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&s.push("<"+o[1]+"/>")})),s.length==0?"":et("WorksheetOptions",s.join(""),{xmlns:Ds.x})}function _Y(t){return t.map(function(e){var r=kH(e.t||""),n=et("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return et("Comment",n,{"ss:Author":e.a})}).join("")}function EY(t,e,r,n,s,i,o){if(!t||t.v==null&&t.f==null)return"";var u={};if(t.f&&(u["ss:Formula"]="="+cr(d2(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var d=wn(t.F.slice(e.length+1));u["ss:ArrayRange"]="RC:R"+(d.r==o.r?"":"["+(d.r-o.r)+"]")+"C"+(d.c==o.c?"":"["+(d.c-o.c)+"]")}if(t.l&&t.l.Target&&(u["ss:HRef"]=cr(t.l.Target),t.l.Tooltip&&(u["x:HRefScreenTip"]=cr(t.l.Tooltip))),r["!merges"])for(var h=r["!merges"],p=0;p!=h.length;++p)h[p].s.c!=o.c||h[p].s.r!=o.r||(h[p].e.c>h[p].s.c&&(u["ss:MergeAcross"]=h[p].e.c-h[p].s.c),h[p].e.r>h[p].s.r&&(u["ss:MergeDown"]=h[p].e.r-h[p].s.r));var x="",y="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":x="Number",y=String(t.v);break;case"b":x="Boolean",y=t.v?"1":"0";break;case"e":x="Error",y=W0[t.v];break;case"d":x="DateTime",y=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Wr[14]);break;case"s":x="String",y=NH(t.v||"");break}var v=Yo(n.cellXfs,t,n);u["ss:StyleID"]="s"+(21+v),u["ss:Index"]=o.c+1;var T=t.v!=null?y:"",w=t.t=="z"?"":'<Data ss:Type="'+x+'">'+T+"</Data>";return(t.c||[]).length>0&&(w+=_Y(t.c)),et("Cell",w,u)}function TY(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=Q5(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function NY(t,e,r,n){if(!t["!ref"])return"";var s=Sr(t["!ref"]),i=t["!merges"]||[],o=0,u=[];t["!cols"]&&t["!cols"].forEach(function(_,C){c2(_);var j=!!_.width,O=Im(C,_),M={"ss:Index":C+1};j&&(M["ss:Width"]=Fp(O.width)),_.hidden&&(M["ss:Hidden"]="1"),u.push(et("Column",null,M))});for(var d=Array.isArray(t),h=s.s.r;h<=s.e.r;++h){for(var p=[TY(h,(t["!rows"]||[])[h])],x=s.s.c;x<=s.e.c;++x){var y=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>x)&&!(i[o].s.r>h)&&!(i[o].e.c<x)&&!(i[o].e.r<h)){(i[o].s.c!=x||i[o].s.r!=h)&&(y=!0);break}if(!y){var v={r:h,c:x},T=ur(v),w=d?(t[h]||[])[x]:t[T];p.push(EY(w,T,t,e,r,n,v))}}p.push("</Row>"),p.length>2&&u.push(p.join(""))}return u.join("")}function kY(t,e,r){var n=[],s=r.SheetNames[t],i=r.Sheets[s],o=i?bY(i,e,t,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?NY(i,e,t,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(wY(i,e,t,r)),n.join("")}function SY(t,e){e||(e={}),t.SSF||(t.SSF=Ts(Wr)),t.SSF&&(Nm(),Tm(t.SSF),e.revssf=km(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Yo(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(gY(t,e)),r.push(xY()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(et("Worksheet",kY(n,e,t),{"ss:Name":cr(t.SheetNames[n])}));return r[2]=yY(t,e),r[3]=vY(t),on+et("Workbook",r.join(""),{xmlns:Ds.ss,"xmlns:o":Ds.o,"xmlns:x":Ds.x,"xmlns:ss":Ds.ss,"xmlns:dt":Ds.dt,"xmlns:html":Ds.html})}var zx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function AY(t,e){var r=[],n=[],s=[],i=0,o,u=aT(vT,"n"),d=aT(bT,"n");if(t.Props)for(o=Mn(t.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(u,o[i])?r:Object.prototype.hasOwnProperty.call(d,o[i])?n:s).push([o[i],t.Props[o[i]]]);if(t.Custprops)for(o=Mn(t.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(t.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(u,o[i])?r:Object.prototype.hasOwnProperty.call(d,o[i])?n:s).push([o[i],t.Custprops[o[i]]]);var h=[];for(i=0;i<s.length;++i)B5.indexOf(s[i][0])>-1||M5.indexOf(s[i][0])>-1||s[i][1]!=null&&h.push(s[i]);n.length&&fr.utils.cfb_add(e,"/SummaryInformation",NT(n,zx.SI,d,bT)),(r.length||h.length)&&fr.utils.cfb_add(e,"/DocumentSummaryInformation",NT(r,zx.DSI,u,vT,h.length?h:null,zx.UDI))}function CY(t,e){var r=e||{},n=fr.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return fr.utils.cfb_add(n,s,y6(t,r)),r.biff==8&&(t.Props||t.Custprops)&&AY(t,n),r.biff==8&&t.vbaraw&&Gq(n,fr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var IY={0:{f:jK},1:{f:BK},2:{f:oX},3:{f:XK},4:{f:WK},5:{f:nX},6:{f:hX},7:{f:ZK},8:{f:vX},9:{f:yX},10:{f:gX},11:{f:xX},12:{f:zK},13:{f:cX},14:{f:QK},15:{f:GK},16:{f:iX},17:{f:pX},18:{f:tX},19:{f:i2},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:sY},40:{},42:{},43:{f:hq},44:{f:uq},45:{f:mq},46:{f:xq},47:{f:gq},48:{},49:{f:zH},50:{},51:{f:jq},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:HW},62:{f:dX},63:{f:Vq},64:{f:OX},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ia,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:PX},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:VK},148:{f:FK,p:16},151:{f:NX},152:{},153:{f:rY},154:{},155:{},156:{f:eY},157:{},158:{},159:{T:1,f:eq},160:{T:-1},161:{T:1,f:tc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:bX},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Pq},336:{T:-1},337:{f:Fq,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Wy},357:{},358:{},359:{},360:{T:1},361:{},362:{f:MW},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:kX},427:{f:SX},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:CX},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:MK},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:EX},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Wy},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Hq},633:{T:1},634:{T:-1},635:{T:1,f:Uq},636:{T:-1},637:{f:GH},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:KX},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:FX},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function tt(t,e,r,n){var s=e;if(!isNaN(s)){var i=n||(r||[]).length||0,o=t.next(4);o.write_shift(2,s),o.write_shift(2,i),i>0&&r2(r)&&t.push(r)}}function PY(t,e,r,n){var s=(r||[]).length||0;if(s<=8224)return tt(t,e,r,s);var i=e;if(!isNaN(i)){for(var o=r.parts||[],u=0,d=0,h=0;h+(o[u]||8224)<=8224;)h+=o[u]||8224,u++;var p=t.next(4);for(p.write_shift(2,i),p.write_shift(2,h),t.push(r.slice(d,d+h)),d+=h;d<s;){for(p=t.next(4),p.write_shift(2,60),h=0;h+(o[u]||8224)<=8224;)h+=o[u]||8224,u++;p.write_shift(2,h),t.push(r.slice(d,d+h)),d+=h}}}function G0(t,e,r){return t||(t=Ne(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function RY(t,e,r,n){var s=Ne(9);return G0(s,t,e),z5(r,n||"b",s),s}function jY(t,e,r){var n=Ne(8+2*r.length);return G0(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function DY(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?Es(ls(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?tt(t,2,KW(r,n,s)):tt(t,3,GW(r,n,s));return;case"b":case"e":tt(t,5,RY(r,n,e.v,e.t));return;case"s":case"str":tt(t,4,jY(r,n,(e.v||"").slice(0,255)));return}tt(t,1,G0(null,r,n))}function OY(t,e,r,n){var s=Array.isArray(e),i=Sr(e["!ref"]||"A1"),o,u="",d=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=an(i)}for(var h=i.s.r;h<=i.e.r;++h){u=Fn(h);for(var p=i.s.c;p<=i.e.c;++p){h===i.s.r&&(d[p]=Kn(p)),o=d[p]+u;var x=s?(e[h]||[])[p]:e[o];x&&DY(t,x,h,p)}}}function FY(t,e){for(var r=e||{},n=_s(),s=0,i=0;i<t.SheetNames.length;++i)t.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return tt(n,r.biff==4?1033:r.biff==3?521:9,l2(t,16,r)),OY(n,t.Sheets[t.SheetNames[s]],s,r),tt(n,10),n.end()}function LY(t,e,r){tt(t,49,IW({sz:12,name:"Arial"},r))}function MY(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)e[s]!=null&&tt(t,1054,jW(s,e[s],r))})}function VY(t,e){var r=Ne(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),tt(t,2151,r),r=Ne(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),q5(Sr(e["!ref"]||"A1"),r),r.write_shift(4,4),tt(t,2152,r)}function $Y(t,e){for(var r=0;r<16;++r)tt(t,224,ST({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){tt(t,224,ST(n,0,e))})}function BY(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];tt(t,440,BW(n)),n[1].Tooltip&&tt(t,2048,UW(n))}delete e["!links"]}function UY(t,e){if(e){var r=0;e.forEach(function(n,s){++r<=256&&n&&tt(t,125,WW(Im(s,n),s))})}}function zY(t,e,r,n,s){var i=16+Yo(s.cellXfs,e,s);if(e.v==null&&!e.bf){tt(t,513,Vl(r,n,i));return}if(e.bf)tt(t,6,fK(e,r,n,s,i));else switch(e.t){case"d":case"n":var o=e.t=="d"?Es(ls(e.v)):e.v;tt(t,515,LW(r,n,o,i));break;case"b":case"e":tt(t,517,FW(r,n,e.v,i,s,e.t));break;case"s":case"str":if(s.bookSST){var u=f2(s.Strings,e.v,s.revStrings);tt(t,253,PW(r,n,u,i))}else tt(t,516,RW(r,n,(e.v||"").slice(0,255),i,s));break;default:tt(t,513,Vl(r,n,i))}}function HY(t,e,r){var n=_s(),s=r.SheetNames[t],i=r.Sheets[s]||{},o=(r||{}).Workbook||{},u=(o.Sheets||[])[t]||{},d=Array.isArray(i),h=e.biff==8,p,x="",y=[],v=Sr(i["!ref"]||"A1"),T=h?65536:16384;if(v.e.c>255||v.e.r>=T){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,T-1)}tt(n,2057,l2(r,16,e)),tt(n,13,ei(1)),tt(n,12,ei(100)),tt(n,15,ns(!0)),tt(n,17,ns(!1)),tt(n,16,Ml(.001)),tt(n,95,ns(!0)),tt(n,42,ns(!1)),tt(n,43,ns(!1)),tt(n,130,ei(1)),tt(n,128,OW()),tt(n,131,ns(!1)),tt(n,132,ns(!1)),h&&UY(n,i["!cols"]),tt(n,512,DW(v,e)),h&&(i["!links"]=[]);for(var w=v.s.r;w<=v.e.r;++w){x=Fn(w);for(var _=v.s.c;_<=v.e.c;++_){w===v.s.r&&(y[_]=Kn(_)),p=y[_]+x;var C=d?(i[w]||[])[_]:i[p];C&&(zY(n,C,w,_,e),h&&C.l&&i["!links"].push([p,C.l]))}}var j=u.CodeName||u.name||s;return h&&tt(n,574,CW((o.Views||[])[0])),h&&(i["!merges"]||[]).length&&tt(n,229,$W(i["!merges"])),h&&BY(n,i),tt(n,442,W5(j)),h&&VY(n,i),tt(n,10),n.end()}function WY(t,e,r){var n=_s(),s=(t||{}).Workbook||{},i=s.Sheets||[],o=s.WBProps||{},u=r.biff==8,d=r.biff==5;if(tt(n,2057,l2(t,5,r)),r.bookType=="xla"&&tt(n,135),tt(n,225,u?ei(1200):null),tt(n,193,gW(2)),d&&tt(n,191),d&&tt(n,192),tt(n,226),tt(n,92,NW("SheetJS",r)),tt(n,66,ei(u?1200:1252)),u&&tt(n,353,ei(0)),u&&tt(n,448),tt(n,317,qW(t.SheetNames.length)),u&&t.vbaraw&&tt(n,211),u&&t.vbaraw){var h=o.CodeName||"ThisWorkbook";tt(n,442,W5(h))}tt(n,156,ei(17)),tt(n,25,ns(!1)),tt(n,18,ns(!1)),tt(n,19,ei(0)),u&&tt(n,431,ns(!1)),u&&tt(n,444,ei(0)),tt(n,61,AW()),tt(n,64,ns(!1)),tt(n,141,ei(0)),tt(n,34,ns(YX(t)=="true")),tt(n,14,ns(!0)),u&&tt(n,439,ns(!1)),tt(n,218,ei(0)),LY(n,t,r),MY(n,t.SSF,r),$Y(n,r),u&&tt(n,352,ns(!1));var p=n.end(),x=_s();u&&tt(x,140,zW()),u&&r.Strings&&PY(x,252,SW(r.Strings)),tt(x,10);var y=x.end(),v=_s(),T=0,w=0;for(w=0;w<t.SheetNames.length;++w)T+=(u?12:11)+(u?2:1)*t.SheetNames[w].length;var _=p.length+T+y.length;for(w=0;w<t.SheetNames.length;++w){var C=i[w]||{};tt(v,133,kW({pos:_,hs:C.Hidden||0,dt:0,name:t.SheetNames[w]},r)),_+=e[w].length}var j=v.end();if(T!=j.length)throw new Error("BS8 "+T+" != "+j.length);var O=[];return p.length&&O.push(p),j.length&&O.push(j),y.length&&O.push(y),jn(O)}function qY(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Ts(Wr)),t&&t.SSF&&(Nm(),Tm(t.SSF),r.revssf=km(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,p2(r),r.cellXfs=[],Yo(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var s=0;s<t.SheetNames.length;++s)n[n.length]=HY(s,r,t);return n.unshift(WY(t,n,r)),jn(n)}function y6(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var s=Us(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=e||{};switch(i.biff||2){case 8:case 5:return qY(t,e);case 4:case 3:case 2:return FY(t,e)}throw new Error("invalid type "+i.bookType+" for BIFF")}function GY(t,e,r,n){for(var s=t["!merges"]||[],i=[],o=e.s.c;o<=e.e.c;++o){for(var u=0,d=0,h=0;h<s.length;++h)if(!(s[h].s.r>r||s[h].s.c>o)&&!(s[h].e.r<r||s[h].e.c<o)){if(s[h].s.r<r||s[h].s.c<o){u=-1;break}u=s[h].e.r-s[h].s.r+1,d=s[h].e.c-s[h].s.c+1;break}if(!(u<0)){var p=ur({r,c:o}),x=n.dense?(t[r]||[])[o]:t[p],y=x&&x.v!=null&&(x.h||TH(x.w||(Ua(x),x.w)||""))||"",v={};u>1&&(v.rowspan=u),d>1&&(v.colspan=d),n.editable?y='<span contenteditable="true">'+y+"</span>":x&&(v["data-t"]=x&&x.t||"z",x.v!=null&&(v["data-v"]=x.v),x.z!=null&&(v["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+x.l.Target+'">'+y+"</a>")),v.id=(n.id||"sjs")+"-"+p,i.push(et("td",y,v))}}var T="<tr>";return T+i.join("")+"</tr>"}var KY='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',XY="</body></html>";function YY(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function v6(t,e){var r=e||{},n=r.header!=null?r.header:KY,s=r.footer!=null?r.footer:XY,i=[n],o=Us(t["!ref"]);r.dense=Array.isArray(t),i.push(YY(t,o,r));for(var u=o.s.r;u<=o.e.r;++u)i.push(GY(t,o,u,r));return i.push("</table>"+s),i.join("")}function b6(t,e,r){var n=r||{},s=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var o=typeof n.origin=="string"?wn(n.origin):n.origin;s=o.r,i=o.c}var u=e.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,u.length),h={s:{r:0,c:0},e:{r:s,c:i}};if(t["!ref"]){var p=Us(t["!ref"]);h.s.r=Math.min(h.s.r,p.s.r),h.s.c=Math.min(h.s.c,p.s.c),h.e.r=Math.max(h.e.r,p.e.r),h.e.c=Math.max(h.e.c,p.e.c),s==-1&&(h.e.r=s=p.e.r+1)}var x=[],y=0,v=t["!rows"]||(t["!rows"]=[]),T=0,w=0,_=0,C=0,j=0,O=0;for(t["!cols"]||(t["!cols"]=[]);T<u.length&&w<d;++T){var M=u[T];if(DT(M)){if(n.display)continue;v[w]={hidden:!0}}var Y=M.children;for(_=C=0;_<Y.length;++_){var ne=Y[_];if(!(n.display&&DT(ne))){var A=ne.hasAttribute("data-v")?ne.getAttribute("data-v"):ne.hasAttribute("v")?ne.getAttribute("v"):AH(ne.innerHTML),S=ne.getAttribute("data-z")||ne.getAttribute("z");for(y=0;y<x.length;++y){var I=x[y];I.s.c==C+i&&I.s.r<w+s&&w+s<=I.e.r&&(C=I.e.c+1-i,y=-1)}O=+ne.getAttribute("colspan")||1,((j=+ne.getAttribute("rowspan")||1)>1||O>1)&&x.push({s:{r:w+s,c:C+i},e:{r:w+s+(j||1)-1,c:C+i+(O||1)-1}});var V={t:"s",v:A},B=ne.getAttribute("data-t")||ne.getAttribute("t")||"";A!=null&&(A.length==0?V.t=B||"z":n.raw||A.trim().length==0||B=="s"||(A==="TRUE"?V={t:"b",v:!0}:A==="FALSE"?V={t:"b",v:!1}:isNaN(Pa(A))?isNaN(p0(A).getDate())||(V={t:"d",v:ls(A)},n.cellDates||(V={t:"n",v:Es(V.v)}),V.z=n.dateNF||Wr[14]):V={t:"n",v:Pa(A)})),V.z===void 0&&S!=null&&(V.z=S);var H="",D=ne.getElementsByTagName("A");if(D&&D.length)for(var ae=0;ae<D.length&&!(D[ae].hasAttribute("href")&&(H=D[ae].getAttribute("href"),H.charAt(0)!="#"));++ae);H&&H.charAt(0)!="#"&&(V.l={Target:H}),n.dense?(t[w+s]||(t[w+s]=[]),t[w+s][C+i]=V):t[ur({c:C+i,r:w+s})]=V,h.e.c<C+i&&(h.e.c=C+i),C+=O}}++w}return x.length&&(t["!merges"]=(t["!merges"]||[]).concat(x)),h.e.r=Math.max(h.e.r,w-1+s),t["!ref"]=an(h),w>=d&&(t["!fullref"]=an((h.e.r=u.length-T+w-1+s,h))),t}function w6(t,e){var r=e||{},n=r.dense?[]:{};return b6(n,t,e)}function QY(t,e){return Ql(w6(t,e),e)}function DT(t){var e="",r=JY(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function JY(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var ZY=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+g0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return on+e}})(),OT=(function(){var t=function(i){return cr(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,u){var d=[];d.push('      <table:table table:name="'+cr(o.SheetNames[u])+`" table:style-name="ta1">
`);var h=0,p=0,x=Us(i["!ref"]||"A1"),y=i["!merges"]||[],v=0,T=Array.isArray(i);if(i["!cols"])for(p=0;p<=x.e.c;++p)d.push("        <table:table-column"+(i["!cols"][p]?' table:style-name="co'+i["!cols"][p].ods+'"':"")+`></table:table-column>
`);var w="",_=i["!rows"]||[];for(h=0;h<x.s.r;++h)w=_[h]?' table:style-name="ro'+_[h].ods+'"':"",d.push("        <table:table-row"+w+`></table:table-row>
`);for(;h<=x.e.r;++h){for(w=_[h]?' table:style-name="ro'+_[h].ods+'"':"",d.push("        <table:table-row"+w+`>
`),p=0;p<x.s.c;++p)d.push(e);for(;p<=x.e.c;++p){var C=!1,j={},O="";for(v=0;v!=y.length;++v)if(!(y[v].s.c>p)&&!(y[v].s.r>h)&&!(y[v].e.c<p)&&!(y[v].e.r<h)){(y[v].s.c!=p||y[v].s.r!=h)&&(C=!0),j["table:number-columns-spanned"]=y[v].e.c-y[v].s.c+1,j["table:number-rows-spanned"]=y[v].e.r-y[v].s.r+1;break}if(C){d.push(r);continue}var M=ur({r:h,c:p}),Y=T?(i[h]||[])[p]:i[M];if(Y&&Y.f&&(j["table:formula"]=cr(vK(Y.f)),Y.F&&Y.F.slice(0,M.length)==M)){var ne=Us(Y.F);j["table:number-matrix-columns-spanned"]=ne.e.c-ne.s.c+1,j["table:number-matrix-rows-spanned"]=ne.e.r-ne.s.r+1}if(!Y){d.push(e);continue}switch(Y.t){case"b":O=Y.v?"TRUE":"FALSE",j["office:value-type"]="boolean",j["office:boolean-value"]=Y.v?"true":"false";break;case"n":O=Y.w||String(Y.v||0),j["office:value-type"]="float",j["office:value"]=Y.v||0;break;case"s":case"str":O=Y.v==null?"":Y.v,j["office:value-type"]="string";break;case"d":O=Y.w||ls(Y.v).toISOString(),j["office:value-type"]="date",j["office:date-value"]=ls(Y.v).toISOString(),j["table:style-name"]="ce1";break;default:d.push(e);continue}var A=t(O);if(Y.l&&Y.l.Target){var S=Y.l.Target;S=S.charAt(0)=="#"?"#"+bK(S.slice(1)):S,S.charAt(0)!="#"&&!S.match(/^\w+:/)&&(S="../"+S),A=et("text:a",A,{"xlink:href":S.replace(/&/g,"&amp;")})}d.push("          "+et("table:table-cell",et("text:p",A,{}),j)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},s=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var u=0;o.SheetNames.map(function(h){return o.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var p=0;p<h["!cols"].length;++p)if(h["!cols"][p]){var x=h["!cols"][p];if(x.width==null&&x.wpx==null&&x.wch==null)continue;c2(x),x.ods=u;var y=h["!cols"][p].wpx+"px";i.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),i.push(`  </style:style>
`),++u}}});var d=0;o.SheetNames.map(function(h){return o.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var p=0;p<h["!rows"].length;++p)if(h["!rows"][p]){h["!rows"][p].ods=d;var x=h["!rows"][p].hpx+"px";i.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+x+`"/>
`),i.push(`  </style:style>
`),++d}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,u){var d=[on],h=g0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=g0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(d.push("<office:document"+h+p+`>
`),d.push(F5().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+h+`>
`),s(d,o),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var x=0;x!=o.SheetNames.length;++x)d.push(n(o.Sheets[o.SheetNames[x]],o,x));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),u.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}})();function _6(t,e){if(e.bookType=="fods")return OT(t,e);var r=Jv(),n="",s=[],i=[];return n="mimetype",Ft(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Ft(r,n,OT(t,e)),s.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Ft(r,n,ZY(t,e)),s.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Ft(r,n,on+F5()),s.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Ft(r,n,dW(i)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Ft(r,n,cW(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Vp(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function eQ(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):_i(m0(t))}function tQ(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function zo(t){var e=t.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(s){r.set(s,n),n+=s.length}),r}function rQ(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var i=0;s>=1;++i,s/=256)t[e+i]=s&255;t[e+15]|=r>=0?0:128}function x0(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function or(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function su(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function dn(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],s=x0(t,r),i=s&7;s=Math.floor(s/8);var o=0,u;if(s==0)break;switch(i){case 0:{for(var d=r[0];t[r[0]++]>=128;);u=t.slice(d,r[0])}break;case 5:o=4,u=t.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,u=t.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=x0(t,r),u=t.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(n))}var h={data:u,type:i};e[s]==null?e[s]=[h]:e[s].push(h)}return e}function Sn(t){var e=[];return t.forEach(function(r,n){r.forEach(function(s){s.data&&(e.push(or(n*8+s.type)),s.type==2&&e.push(or(s.data.length)),e.push(s.data))})}),zo(e)}function vi(t){for(var e,r=[],n=[0];n[0]<t.length;){var s=x0(t,n),i=dn(t.slice(n[0],n[0]+s));n[0]+=s;var o={id:su(i[1][0].data),messages:[]};i[2].forEach(function(u){var d=dn(u.data),h=su(d[3][0].data);o.messages.push({meta:d,data:t.slice(n[0],n[0]+h)}),n[0]+=h}),(e=i[3])!=null&&e[0]&&(o.merge=su(i[3][0].data)>>>0>0),r.push(o)}return r}function Fc(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:or(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:or(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(o){s.push(o.data),o.meta[3]=[{type:0,data:or(o.data.length)}],n[2].push({data:Sn(o.meta),type:2})});var i=Sn(n);e.push(or(i.length)),e.push(i),s.forEach(function(o){return e.push(o)})}),zo(e)}function nQ(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=x0(e,r),s=[];r[0]<e.length;){var i=e[r[0]]&3;if(i==0){var o=e[r[0]++]>>2;if(o<60)++o;else{var u=o-59;o=e[r[0]],u>1&&(o|=e[r[0]+1]<<8),u>2&&(o|=e[r[0]+2]<<16),u>3&&(o|=e[r[0]+3]<<24),o>>>=0,o++,r[0]+=u}s.push(e.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var d=0,h=0;if(i==1?(h=(e[r[0]]>>2&7)+4,d=(e[r[0]++]&224)<<3,d|=e[r[0]++]):(h=(e[r[0]++]>>2)+1,i==2?(d=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(d=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),s=[zo(s)],d==0)throw new Error("Invalid offset 0");if(d>s[0].length)throw new Error("Invalid offset beyond length");if(h>=d)for(s.push(s[0].slice(-d)),h-=d;h>=s[s.length-1].length;)s.push(s[s.length-1]),h-=s[s.length-1].length;s.push(s[0].slice(-d,-d+h))}}var p=zo(s);if(p.length!=n)throw new Error("Unexpected length: ".concat(p.length," != ").concat(n));return p}function bi(t){for(var e=[],r=0;r<t.length;){var n=t[r++],s=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(nQ(n,t.slice(r,r+s))),r+=s}if(r!==t.length)throw new Error("data is not a valid framed stream!");return zo(e)}function Lc(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),s=new Uint8Array(4);e.push(s);var i=or(n),o=i.length;e.push(i),n<=60?(o++,e.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),o+=n,s[0]=0,s[1]=o&255,s[2]=o>>8&255,s[3]=o>>16&255,r+=n}return zo(e)}function Hx(t,e){var r=new Uint8Array(32),n=Vp(r),s=12,i=0;switch(r[0]=5,t.t){case"n":r[1]=2,rQ(r,s,t.v),i|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,t.v?1:0,!0),i|=2,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(s,e.indexOf(t.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,i,!0),r.slice(0,s)}function Wx(t,e){var r=new Uint8Array(32),n=Vp(r),s=12,i=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(s,t.v,!0),i|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,t.v?1:0,!0),i|=32,s+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(s,e.indexOf(t.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,i,!0),r.slice(0,s)}function xo(t){var e=dn(t);return x0(e[1][0].data)}function sQ(t,e,r){var n,s,i,o;if(!((n=t[6])!=null&&n[0])||!((s=t[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var u=((o=(i=t[8])==null?void 0:i[0])==null?void 0:o.data)&&su(t[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var d=0,h=Vp(t[7][0].data),p=0,x=[],y=Vp(t[4][0].data),v=0,T=[],w=0;w<e.length;++w){if(e[w]==null){h.setUint16(w*2,65535,!0),y.setUint16(w*2,65535);continue}h.setUint16(w*2,p,!0),y.setUint16(w*2,v,!0);var _,C;switch(typeof e[w]){case"string":_=Hx({t:"s",v:e[w]},r),C=Wx({t:"s",v:e[w]},r);break;case"number":_=Hx({t:"n",v:e[w]},r),C=Wx({t:"n",v:e[w]},r);break;case"boolean":_=Hx({t:"b",v:e[w]},r),C=Wx({t:"b",v:e[w]},r);break;default:throw new Error("Unsupported value "+e[w])}x.push(_),p+=_.length,T.push(C),v+=C.length,++d}for(t[2][0].data=or(d);w<t[7][0].data.length/2;++w)h.setUint16(w*2,65535,!0),y.setUint16(w*2,65535,!0);return t[6][0].data=zo(x),t[3][0].data=zo(T),d}function iQ(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Us(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(an(n)));var i=$p(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(X){return X.forEach(function(Q){typeof Q=="string"&&o.push(Q)})});var u={},d=[],h=fr.read(e.numbers,{type:"base64"});h.FileIndex.map(function(X,Q){return[X,h.FullPaths[Q]]}).forEach(function(X){var Q=X[0],J=X[1];if(Q.type==2&&Q.name.match(/\.iwa/)){var re=Q.content,Ae=bi(re),Re=vi(Ae);Re.forEach(function(Se){d.push(Se.id),u[Se.id]={deps:[],location:J,type:su(Se.messages[0].meta[1][0].data)}})}}),d.sort(function(X,Q){return X-Q});var p=d.filter(function(X){return X>1}).map(function(X){return[X,or(X)]});h.FileIndex.map(function(X,Q){return[X,h.FullPaths[Q]]}).forEach(function(X){var Q=X[0];if(X[1],!!Q.name.match(/\.iwa/)){var J=vi(bi(Q.content));J.forEach(function(re){re.messages.forEach(function(Ae){p.forEach(function(Re){re.messages.some(function(Se){return su(Se.meta[1][0].data)!=11006&&tQ(Se.data,Re[1])})&&u[Re[0]].deps.push(re.id)})})})}});for(var x=fr.find(h,u[1].location),y=vi(bi(x.content)),v,T=0;T<y.length;++T){var w=y[T];w.id==1&&(v=w)}var _=xo(dn(v.messages[0].data)[1][0].data);for(x=fr.find(h,u[_].location),y=vi(bi(x.content)),T=0;T<y.length;++T)w=y[T],w.id==_&&(v=w);for(_=xo(dn(v.messages[0].data)[2][0].data),x=fr.find(h,u[_].location),y=vi(bi(x.content)),T=0;T<y.length;++T)w=y[T],w.id==_&&(v=w);for(_=xo(dn(v.messages[0].data)[2][0].data),x=fr.find(h,u[_].location),y=vi(bi(x.content)),T=0;T<y.length;++T)w=y[T],w.id==_&&(v=w);var C=dn(v.messages[0].data);{C[6][0].data=or(n.e.r+1),C[7][0].data=or(n.e.c+1);var j=xo(C[46][0].data),O=fr.find(h,u[j].location),M=vi(bi(O.content));{for(var Y=0;Y<M.length&&M[Y].id!=j;++Y);if(M[Y].id!=j)throw"Bad ColumnRowUIDMapArchive";var ne=dn(M[Y].messages[0].data);ne[1]=[],ne[2]=[],ne[3]=[];for(var A=0;A<=n.e.c;++A){var S=[];S[1]=S[2]=[{type:0,data:or(A+420690)}],ne[1].push({type:2,data:Sn(S)}),ne[2].push({type:0,data:or(A)}),ne[3].push({type:0,data:or(A)})}ne[4]=[],ne[5]=[],ne[6]=[];for(var I=0;I<=n.e.r;++I)S=[],S[1]=S[2]=[{type:0,data:or(I+726270)}],ne[4].push({type:2,data:Sn(S)}),ne[5].push({type:0,data:or(I)}),ne[6].push({type:0,data:or(I)});M[Y].messages[0].data=Sn(ne)}O.content=Lc(Fc(M)),O.size=O.content.length,delete C[46];var V=dn(C[4][0].data);{V[7][0].data=or(n.e.r+1);var B=dn(V[1][0].data),H=xo(B[2][0].data);O=fr.find(h,u[H].location),M=vi(bi(O.content));{if(M[0].id!=H)throw"Bad HeaderStorageBucket";var D=dn(M[0].messages[0].data);for(I=0;I<i.length;++I){var ae=dn(D[2][0].data);ae[1][0].data=or(I),ae[4][0].data=or(i[I].length),D[2][I]={type:D[2][0].type,data:Sn(ae)}}M[0].messages[0].data=Sn(D)}O.content=Lc(Fc(M)),O.size=O.content.length;var Ce=xo(V[2][0].data);O=fr.find(h,u[Ce].location),M=vi(bi(O.content));{if(M[0].id!=Ce)throw"Bad HeaderStorageBucket";for(D=dn(M[0].messages[0].data),A=0;A<=n.e.c;++A)ae=dn(D[2][0].data),ae[1][0].data=or(A),ae[4][0].data=or(n.e.r+1),D[2][A]={type:D[2][0].type,data:Sn(ae)};M[0].messages[0].data=Sn(D)}O.content=Lc(Fc(M)),O.size=O.content.length;var Ge=xo(V[4][0].data);(function(){for(var X=fr.find(h,u[Ge].location),Q=vi(bi(X.content)),J,re=0;re<Q.length;++re){var Ae=Q[re];Ae.id==Ge&&(J=Ae)}var Re=dn(J.messages[0].data);{Re[3]=[];var Se=[];o.forEach(function(yt,Gt){Se[1]=[{type:0,data:or(Gt)}],Se[2]=[{type:0,data:or(1)}],Se[3]=[{type:2,data:eQ(yt)}],Re[3].push({type:2,data:Sn(Se)})})}J.messages[0].data=Sn(Re);var pe=Fc(Q),Qe=Lc(pe);X.content=Qe,X.size=X.content.length})();var ke=dn(V[3][0].data);{var ce=ke[1][0];delete ke[2];var ye=dn(ce.data);{var be=xo(ye[2][0].data);(function(){for(var X=fr.find(h,u[be].location),Q=vi(bi(X.content)),J,re=0;re<Q.length;++re){var Ae=Q[re];Ae.id==be&&(J=Ae)}var Re=dn(J.messages[0].data);{delete Re[6],delete ke[7];var Se=new Uint8Array(Re[5][0].data);Re[5]=[];for(var pe=0,Qe=0;Qe<=n.e.r;++Qe){var yt=dn(Se);pe+=sQ(yt,i[Qe],o),yt[1][0].data=or(Qe),Re[5].push({data:Sn(yt),type:2})}Re[1]=[{type:0,data:or(n.e.c+1)}],Re[2]=[{type:0,data:or(n.e.r+1)}],Re[3]=[{type:0,data:or(pe)}],Re[4]=[{type:0,data:or(n.e.r+1)}]}J.messages[0].data=Sn(Re);var Gt=Fc(Q),Et=Lc(Gt);X.content=Et,X.size=X.content.length})()}ce.data=Sn(ye)}V[3][0].data=Sn(ke)}C[4][0].data=Sn(V)}v.messages[0].data=Sn(C);var te=Fc(y),R=Lc(te);return x.content=R,x.size=x.content.length,h}function aQ(t){return function(r){for(var n=0;n!=t.length;++n){var s=t[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function p2(t){aQ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function oQ(t,e){return e.bookType=="ods"?_6(t,e):e.bookType=="numbers"?iQ(t,e):e.bookType=="xlsb"?lQ(t,e):cQ(t,e)}function lQ(t,e){Yc=1024,t&&!t.SSF&&(t.SSF=Ts(Wr)),t&&t.SSF&&(Nm(),Tm(t.SSF),e.revssf=km(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Wd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=s6.indexOf(e.bookType)>-1,s=j5();p2(e=e||{});var i=Jv(),o="",u=0;if(e.cellXfs=[],Yo(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Ft(i,o,L5(t.Props,e)),s.coreprops.push(o),lr(e.rels,2,o,er.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}for(t.Props.Worksheets=t.Props.SheetNames.length,Ft(i,o,V5(t.Props)),s.extprops.push(o),lr(e.rels,3,o,er.EXT_PROPS),t.Custprops!==t.Props&&Mn(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Ft(i,o,$5(t.Custprops)),s.custprops.push(o),lr(e.rels,4,o,er.CUST_PROPS)),u=1;u<=t.SheetNames.length;++u){var p={"!id":{}},x=t.Sheets[t.SheetNames[u-1]],y=(x||{})["!type"]||"sheet";switch(y){case"chart":default:o="xl/worksheets/sheet"+u+"."+r,Ft(i,o,dY(u-1,o,e,t,p)),s.sheets.push(o),lr(e.wbrels,-1,"worksheets/sheet"+u+"."+r,er.WS[0])}if(x){var v=x["!comments"],T=!1,w="";v&&v.length>0&&(w="xl/comments"+u+"."+r,Ft(i,w,pY(v,w)),s.comments.push(w),lr(p,-1,"../comments"+u+"."+r,er.CMNT),T=!0),x["!legacy"]&&T&&Ft(i,"xl/drawings/vmlDrawing"+u+".vml",r6(u,x["!comments"])),delete x["!comments"],delete x["!legacy"]}p["!id"].rId1&&Ft(i,O5(o),ru(p))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,Ft(i,o,fY(e.Strings,o,e)),s.strs.push(o),lr(e.wbrels,-1,"sharedStrings."+r,er.SST)),o="xl/workbook."+r,Ft(i,o,uY(t,o)),s.workbooks.push(o),lr(e.rels,1,o,er.WB),o="xl/theme/theme1.xml",Ft(i,o,e6(t.Themes,e)),s.themes.push(o),lr(e.wbrels,-1,"theme/theme1.xml",er.THEME),o="xl/styles."+r,Ft(i,o,hY(t,o,e)),s.styles.push(o),lr(e.wbrels,-1,"styles."+r,er.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",Ft(i,o,t.vbaraw),s.vba.push(o),lr(e.wbrels,-1,"vbaProject.bin",er.VBA)),o="xl/metadata."+r,Ft(i,o,mY(o)),s.metadata.push(o),lr(e.wbrels,-1,"metadata."+r,er.XLMETA),Ft(i,"[Content_Types].xml",D5(s,e)),Ft(i,"_rels/.rels",ru(e.rels)),Ft(i,"xl/_rels/workbook."+r+".rels",ru(e.wbrels)),delete e.revssf,delete e.ssf,i}function cQ(t,e){Yc=1024,t&&!t.SSF&&(t.SSF=Ts(Wr)),t&&t.SSF&&(Nm(),Tm(t.SSF),e.revssf=km(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Wd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=s6.indexOf(e.bookType)>-1,s=j5();p2(e=e||{});var i=Jv(),o="",u=0;if(e.cellXfs=[],Yo(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Ft(i,o,L5(t.Props,e)),s.coreprops.push(o),lr(e.rels,2,o,er.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}t.Props.Worksheets=t.Props.SheetNames.length,Ft(i,o,V5(t.Props)),s.extprops.push(o),lr(e.rels,3,o,er.EXT_PROPS),t.Custprops!==t.Props&&Mn(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Ft(i,o,$5(t.Custprops)),s.custprops.push(o),lr(e.rels,4,o,er.CUST_PROPS));var p=["SheetJ5"];for(e.tcid=0,u=1;u<=t.SheetNames.length;++u){var x={"!id":{}},y=t.Sheets[t.SheetNames[u-1]],v=(y||{})["!type"]||"sheet";switch(v){case"chart":default:o="xl/worksheets/sheet"+u+"."+r,Ft(i,o,f6(u-1,e,t,x)),s.sheets.push(o),lr(e.wbrels,-1,"worksheets/sheet"+u+"."+r,er.WS[0])}if(y){var T=y["!comments"],w=!1,_="";if(T&&T.length>0){var C=!1;T.forEach(function(j){j[1].forEach(function(O){O.T==!0&&(C=!0)})}),C&&(_="xl/threadedComments/threadedComment"+u+"."+r,Ft(i,_,$q(T,p,e)),s.threadedcomments.push(_),lr(x,-1,"../threadedComments/threadedComment"+u+"."+r,er.TCMNT)),_="xl/comments"+u+"."+r,Ft(i,_,n6(T)),s.comments.push(_),lr(x,-1,"../comments"+u+"."+r,er.CMNT),w=!0}y["!legacy"]&&w&&Ft(i,"xl/drawings/vmlDrawing"+u+".vml",r6(u,y["!comments"])),delete y["!comments"],delete y["!legacy"]}x["!id"].rId1&&Ft(i,O5(o),ru(x))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,Ft(i,o,K5(e.Strings,e)),s.strs.push(o),lr(e.wbrels,-1,"sharedStrings."+r,er.SST)),o="xl/workbook."+r,Ft(i,o,g6(t)),s.workbooks.push(o),lr(e.rels,1,o,er.WB),o="xl/theme/theme1.xml",Ft(i,o,e6(t.Themes,e)),s.themes.push(o),lr(e.wbrels,-1,"theme/theme1.xml",er.THEME),o="xl/styles."+r,Ft(i,o,J5(t,e)),s.styles.push(o),lr(e.wbrels,-1,"styles."+r,er.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",Ft(i,o,t.vbaraw),s.vba.push(o),lr(e.wbrels,-1,"vbaProject.bin",er.VBA)),o="xl/metadata."+r,Ft(i,o,t6()),s.metadata.push(o),lr(e.wbrels,-1,"metadata."+r,er.XLMETA),p.length>1&&(o="xl/persons/person.xml",Ft(i,o,Bq(p)),s.people.push(o),lr(e.wbrels,-1,"persons/person.xml",er.PEOPLE)),Ft(i,"[Content_Types].xml",D5(s,e)),Ft(i,"_rels/.rels",ru(e.rels)),Ft(i,"xl/_rels/workbook."+r+".rels",ru(e.wbrels)),delete e.revssf,delete e.ssf,i}function uQ(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Ba(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function E6(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return z0(e.file,fr.write(t,{type:rr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return fr.write(t,e)}function dQ(t,e){var r=Ts(e||{}),n=oQ(t,r);return hQ(n,r)}function hQ(t,e){var r={},n=rr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var s=t.FullPaths?fr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(Em(s))}return e.password&&typeof encrypt_agile<"u"?E6(encrypt_agile(s,e.password),e):e.type==="file"?z0(e.file,s):e.type=="string"?Bd(s):s}function fQ(t,e){var r=e||{},n=CY(t,r);return E6(n,r)}function qi(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return f0(m0(n));case"binary":return m0(n);case"string":return t;case"file":return z0(e.file,n,"utf8");case"buffer":return rr?Wa(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):qi(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function pQ(t,e){switch(e.type){case"base64":return f0(t);case"binary":return t;case"string":return t;case"file":return z0(e.file,t,"binary");case"buffer":return rr?Wa(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Tf(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?f0(r):e.type=="string"?Bd(r):r;case"file":return z0(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function T6(t,e){Uz(),ZX(t);var r=Ts(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=T6(t,r);return r.type="array",Em(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=t.SheetNames.indexOf(r.sheet),!t.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return qi(SY(t,r),r);case"slk":case"sylk":return qi(YW.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"htm":case"html":return qi(v6(t.Sheets[t.SheetNames[s]],r),r);case"txt":return pQ(N6(t.Sheets[t.SheetNames[s]],r),r);case"csv":return qi(g2(t.Sheets[t.SheetNames[s]],r),r,"\uFEFF");case"dif":return qi(QW.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"dbf":return Tf(XW.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"prn":return qi(JW.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"rtf":return qi(iq.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"eth":return qi(G5.from_sheet(t.Sheets[t.SheetNames[s]],r),r);case"fods":return qi(_6(t,r),r);case"wk1":return Tf(AT.sheet_to_wk1(t.Sheets[t.SheetNames[s]],r),r);case"wk3":return Tf(AT.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Tf(y6(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),fQ(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return dQ(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function mQ(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function m2(t,e,r){var n={};return n.type="file",n.file=e,mQ(n),T6(t,n)}function gQ(t,e,r,n,s,i,o,u){var d=Fn(r),h=u.defval,p=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),x=!0,y=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:r,enumerable:!1})}catch{y.__rowNum__=r}else y.__rowNum__=r;if(!o||t[r])for(var v=e.s.c;v<=e.e.c;++v){var T=o?t[r][v]:t[n[v]+d];if(T===void 0||T.t===void 0){if(h===void 0)continue;i[v]!=null&&(y[i[v]]=h);continue}var w=T.v;switch(T.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+T.t)}if(i[v]!=null){if(w==null)if(T.t=="e"&&w===null)y[i[v]]=null;else if(h!==void 0)y[i[v]]=h;else if(p&&w===null)y[i[v]]=null;else continue;else y[i[v]]=p&&(T.t!=="n"||T.t==="n"&&u.rawNumbers!==!1)?w:Ua(T,w,u);w!=null&&(x=!1)}}return{row:y,isempty:x}}function $p(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,i=[],o=0,u="",d={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},p=h.range!=null?h.range:t["!ref"];switch(h.header===1?n=1:h.header==="A"?n=2:Array.isArray(h.header)?n=3:h.header==null&&(n=0),typeof p){case"string":d=Sr(p);break;case"number":d=Sr(t["!ref"]),d.s.r=p;break;default:d=p}n>0&&(s=0);var x=Fn(d.s.r),y=[],v=[],T=0,w=0,_=Array.isArray(t),C=d.s.r,j=0,O={};_&&!t[C]&&(t[C]=[]);var M=h.skipHidden&&t["!cols"]||[],Y=h.skipHidden&&t["!rows"]||[];for(j=d.s.c;j<=d.e.c;++j)if(!(M[j]||{}).hidden)switch(y[j]=Kn(j),r=_?t[C][j]:t[y[j]+x],n){case 1:i[j]=j-d.s.c;break;case 2:i[j]=y[j];break;case 3:i[j]=h.header[j-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),u=o=Ua(r,null,h),w=O[o]||0,!w)O[o]=1;else{do u=o+"_"+w++;while(O[u]);O[o]=w,O[u]=1}i[j]=u}for(C=d.s.r+s;C<=d.e.r;++C)if(!(Y[C]||{}).hidden){var ne=gQ(t,d,C,y,n,i,_,h);(ne.isempty===!1||(n===1?h.blankrows!==!1:h.blankrows))&&(v[T++]=ne.row)}return v.length=T,v}var FT=/"/g;function xQ(t,e,r,n,s,i,o,u){for(var d=!0,h=[],p="",x=Fn(r),y=e.s.c;y<=e.e.c;++y)if(n[y]){var v=u.dense?(t[r]||[])[y]:t[n[y]+x];if(v==null)p="";else if(v.v!=null){d=!1,p=""+(u.rawNumbers&&v.t=="n"?v.v:Ua(v,null,u));for(var T=0,w=0;T!==p.length;++T)if((w=p.charCodeAt(T))===s||w===i||w===34||u.forceQuotes){p='"'+p.replace(FT,'""')+'"';break}p=="ID"&&(p='"ID"')}else v.f!=null&&!v.F?(d=!1,p="="+v.f,p.indexOf(",")>=0&&(p='"'+p.replace(FT,'""')+'"')):p="";h.push(p)}return u.blankrows===!1&&d?null:h.join(o)}function g2(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var s=Sr(t["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),u=n.RS!==void 0?n.RS:`
`,d=u.charCodeAt(0),h=new RegExp((i=="|"?"\\|":i)+"+$"),p="",x=[];n.dense=Array.isArray(t);for(var y=n.skipHidden&&t["!cols"]||[],v=n.skipHidden&&t["!rows"]||[],T=s.s.c;T<=s.e.c;++T)(y[T]||{}).hidden||(x[T]=Kn(T));for(var w=0,_=s.s.r;_<=s.e.r;++_)(v[_]||{}).hidden||(p=xQ(t,s,_,x,o,d,i,n),p!=null&&(n.strip&&(p=p.replace(h,"")),(p||n.blankrows!==!1)&&r.push((w++?u:"")+p)));return delete n.dense,r.join("")}function N6(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=g2(t,e);return r}function yQ(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var s=Sr(t["!ref"]),i="",o=[],u,d=[],h=Array.isArray(t);for(u=s.s.c;u<=s.e.c;++u)o[u]=Kn(u);for(var p=s.s.r;p<=s.e.r;++p)for(i=Fn(p),u=s.s.c;u<=s.e.c;++u)if(e=o[u]+i,r=h?(t[p]||[])[u]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}d[d.length]=e+"="+n}return d}function k6(t,e,r){var n=r||{},s=+!n.skipHeader,i=t||{},o=0,u=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var d=typeof n.origin=="string"?wn(n.origin):n.origin;o=d.r,u=d.c}var h,p={s:{c:0,r:0},e:{c:u,r:o+e.length-1+s}};if(i["!ref"]){var x=Sr(i["!ref"]);p.e.c=Math.max(p.e.c,x.e.c),p.e.r=Math.max(p.e.r,x.e.r),o==-1&&(o=x.e.r+1,p.e.r=o+e.length-1+s)}else o==-1&&(o=0,p.e.r=e.length-1+s);var y=n.header||[],v=0;e.forEach(function(w,_){Mn(w).forEach(function(C){(v=y.indexOf(C))==-1&&(y[v=y.length]=C);var j=w[C],O="z",M="",Y=ur({c:u+v,r:o+_+s});h=y0(i,Y),j&&typeof j=="object"&&!(j instanceof Date)?i[Y]=j:(typeof j=="number"?O="n":typeof j=="boolean"?O="b":typeof j=="string"?O="s":j instanceof Date?(O="d",n.cellDates||(O="n",j=Es(j)),M=n.dateNF||Wr[14]):j===null&&n.nullError&&(O="e",j=0),h?(h.t=O,h.v=j,delete h.w,delete h.R,M&&(h.z=M)):i[Y]=h={t:O,v:j},M&&(h.z=M))})}),p.e.c=Math.max(p.e.c,u+y.length-1);var T=Fn(o);if(s)for(v=0;v<y.length;++v)i[Kn(v+u)+T]={t:"s",v:y[v]};return i["!ref"]=an(p),i}function vQ(t,e){return k6(null,t,e)}function y0(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=wn(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?y0(t,ur(e)):y0(t,ur({r:e,c:r||0}))}function bQ(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function wQ(){return{SheetNames:[],Sheets:{}}}function _Q(t,e,r,n){var s=1;if(!r)for(;s<=65535&&t.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var o=i&&i[1]||r;for(++s;s<=65535&&t.SheetNames.indexOf(r=o+s)!=-1;++s);}if(m6(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function EQ(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=bQ(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function TQ(t,e){return t.z=e,t}function S6(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function NQ(t,e,r){return S6(t,"#"+e,r)}function kQ(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function SQ(t,e,r,n){for(var s=typeof e!="string"?e:Sr(e),i=typeof e=="string"?e:an(e),o=s.s.r;o<=s.e.r;++o)for(var u=s.s.c;u<=s.e.c;++u){var d=y0(t,o,u);d.t="n",d.F=i,delete d.v,o==s.s.r&&u==s.s.c&&(d.f=r,n&&(d.D=!0))}return t}var ja={encode_col:Kn,encode_row:Fn,encode_cell:ur,encode_range:an,decode_col:s2,decode_row:n2,split_cell:UH,decode_cell:wn,decode_range:Us,format_cell:Ua,sheet_add_aoa:S5,sheet_add_json:k6,sheet_add_dom:b6,aoa_to_sheet:Du,json_to_sheet:vQ,table_to_sheet:w6,table_to_book:QY,sheet_to_csv:g2,sheet_to_txt:N6,sheet_to_json:$p,sheet_to_html:v6,sheet_to_formulae:yQ,sheet_to_row_object_array:$p,sheet_get_cell:y0,book_new:wQ,book_append_sheet:_Q,book_set_sheet_visibility:EQ,cell_set_number_format:TQ,cell_set_hyperlink:S6,cell_set_internal_link:NQ,cell_add_comment:kQ,sheet_set_array_formula:SQ,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const A6=({orders:t,setOrders:e,fetchOrders:r,searchQuery:n,setSearchQuery:s,formatDate:i,handleRenewal:o,actionLoading:u,balance:d,theme:h="dark"})=>{const[p,x]=k.useState(!1),[y,v]=k.useState(null),[T,w]=k.useState(""),[_,C]=k.useState(!1),j=h==="dark",O={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},M={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:j?"#1F2937":"#F3F4F6",transition:{duration:.2}}},Y={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.2,ease:"easeOut"}},exit:{opacity:0,scale:.95,transition:{duration:.15}}},ne={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}},A=k.useMemo(()=>t.filter(ae=>(ae.productName||"").toLowerCase().includes(n.toLowerCase())||(ae.orderId||"").toLowerCase().includes(n.toLowerCase())),[t,n]),S=ae=>({netflix:"Netflix",disney:"Disney+",max:"Max",spotify:"Spotify"})[ae?.toLowerCase()]||ae||"N/A",I=(ae,Ce)=>{const Ge=ae.status||"pending",ke=new Date(ae.endDate)>new Date;let ce,ye,be;return Ge==="soporte"?(ce="En soporte",ye=Ce?"text-blue-400":"text-blue-600",be=l.jsx(yu,{className:ye,title:"En Soporte"})):Ge==="rechazado"?(ce="No aplica soporte",ye=Ce?"text-amber-700":"text-amber-900",be=l.jsx(Aa,{className:ye,title:"No aplica soporte"})):ke?(ce="Activo",ye=Ce?"text-green-400":"text-green-600",be=l.jsx(xu,{className:ye,title:"Activo"})):Ge==="pending"?(ce="Pendiente a activacion",ye=Ce?"text-yellow-400":"text-yellow-600",be=l.jsx(_m,{className:ye,title:"Pendiente a activacion"})):(ce="Expirado",ye=Ce?"text-red-400":"text-red-600",be=l.jsx(Aa,{className:ye,title:"Expirado"})),{text:ce,color:ye,icon:be}},V=()=>{const ae=A.map(ce=>{const ye=parseFloat(ce.price)||0,be=parseFloat(ce.renewalPrice)||ye,te=ce.status||"pending",R=te==="pending",X=te==="soporte",Q=te==="rechazado",J=new Date(ce.endDate)>new Date,re=Math.max(0,ce.daysRemaining||0);let Ae;X?Ae="En Soporte":Q?Ae="No aplica soporte":J?Ae="Activo":R?Ae="Pendiente a activacion":Ae="Expirado";const Re=X||Q||R&&!J;let Se;return Re?Se=Ae:Se=`${re} día${re===1?"":"s"}`,{Estado:Ae,Producto:ce.productName||"Sin nombre",Categoría:S(ce.category),"N° Pedido":ce.orderId||"N/A",Precio:`S/ ${ye.toFixed(2)}`,"Precio Renovación":be!==ye?`S/ ${be.toFixed(2)}`:"N/A","Tiempo Restante":Se,"Fecha de Inicio":i(ce.startDate),"Fecha de Vencimiento":i(ce.endDate),Email:ce.account?.email||"N/A",Contraseña:ce.account?.password||"N/A",Perfil:ce.account?.profile||"N/A",PIN:ce.account?.pin||"N/A",Proveedor:ce.provider||"N/A",Nombre:ce.client?.customerName||"N/A","Teléfono Cliente":ce.client?.phone||"N/A"}}),Ce=ja.json_to_sheet(ae),Ge=ja.book_new();ja.book_append_sheet(Ge,Ce,"Pedidos");const ke=new Date().toISOString().slice(0,10).replace(/-/g,"");m2(Ge,`mis_pedidos_export_${ke}.xlsx`)},B=ae=>{v(ae),w(""),x(!0)},H=()=>{x(!1),v(null),w(""),C(!1)},D=async()=>{if(!T.trim()){alert("El mensaje es obligatorio.");return}if(!y||!y.id){alert("Error: No se encontró el ID del pedido.");return}C(!0);try{await ti(vt(qe,"sales",y.id),{status:"soporte",soporteMessage:T,soporteCreatedAt:new Date},{merge:!0}),console.log(`Documento actualizado exitosamente para order ID: ${y.id}`),typeof e=="function"&&e(ae=>{const Ce=ae.map(ke=>ke.id===y.id?{...ke,status:"soporte",soporteMessage:T,soporteCreatedAt:new Date}:ke);console.log("Orders actualizados localmente:",Ce);const Ge=Ce.find(ke=>ke.id===y.id);return console.log(`Mensaje agregado localmente para ${y.id}:`,Ge?.soporteMessage),Ce}),alert(`Soporte enviado para "${y.productName}". El pedido ahora está en estado "En Soporte".`)}catch(ae){console.error("Error detallado en sendSupport:",ae),alert("Hubo un error al enviar a soporte. Verifica la consola del navegador para más detalles. Asegúrate de que el ID del pedido sea correcto y que tengas permisos en Firebase.")}finally{C(!1)}H()};return l.jsxs(ie.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl max-w-7xl mx-auto border ${j?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,variants:O,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"orders-title",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[l.jsxs("h3",{id:"orders-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${j?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:[l.jsx(ta,{className:"mr-2"})," Mis Pedidos"]}),l.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto mt-4 sm:mt-0",children:[l.jsxs("div",{className:"relative flex-1 sm:w-64",children:[l.jsx("input",{type:"text",placeholder:"Buscar pedidos...",className:`w-full px-3 py-2 rounded-xl ${j?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 text-sm placeholder-gray-500`,value:n,onChange:ae=>s(ae.target.value),"aria-label":"Buscar pedidos por nombre o ID"}),l.jsx(ta,{className:`absolute right-3 top-2.5 ${j?"text-gray-400":"text-gray-500"}`,size:16})]}),l.jsx(ie.button,{onClick:V,className:`p-2 rounded-xl ${j?"bg-green-500 hover:bg-green-600 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,whileHover:{scale:1.1},whileTap:{scale:.9},title:"Descargar pedidos como Excel","aria-label":"Exportar pedidos a Excel",children:l.jsx(Kv,{size:18})})]})]}),A.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:`min-w-full border rounded-xl ${j?"bg-gray-800/50 border-gray-600/50":"bg-gray-100/50 border-gray-200/50"}`,children:[l.jsx("thead",{children:l.jsxs("tr",{className:`text-left text-xs font-medium uppercase tracking-wider ${j?"bg-gray-700/50 text-gray-300":"bg-gray-200/50 text-gray-700"}`,children:[l.jsx("th",{className:"px-4 py-3 border-b",children:"Estado"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Producto"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Categoría"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"N° Pedido"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Precio"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Tiempo Restante"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Inicio"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Vencimiento"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Email"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Contraseña"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Perfil"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"PIN"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Proveedor"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Nombre Cliente"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Teléfono Cliente"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Acciones"})]})}),l.jsx("tbody",{children:A.map(ae=>{const Ce=parseFloat(ae.price)||0,Ge=parseFloat(ae.renewalPrice)||Ce,ke=ae.status||"pending",ce=ke==="pending",ye=ke==="soporte",be=ke==="rechazado",te=new Date(ae.endDate)>new Date,R=Math.max(0,ae.daysRemaining||0),X=Math.min(ae.timeElapsedPercentage||0,100),Q=I(ae,j);let J;X<70?J=j?"bg-green-500":"bg-green-600":X<90?J=j?"bg-orange-500":"bg-orange-600":J=j?"bg-red-500":"bg-red-600";const re=!["En soporte","No aplica soporte","Pendiente a activacion"].includes(Q.text),Re=ye||be||ce&&!te?Q.text:`${R} día${R===1?"":"s"}`,Se=re?J.replace("bg-","text-"):Q.color,pe=Q.text,Qe=encodeURIComponent(`*Consulta sobre Pedido - ${ae.productName||"Sin nombre"}*

*N° Pedido:* ${ae.orderId||"No especificado"}
*Producto:* ${ae.productName||"Sin nombre"}
*Precio:* S/ ${Ce.toFixed(2)}
`+(Ge?`*Precio de Renovación:* S/ ${Ge.toFixed(2)}
`:"")+`*Estado:* ${pe}
*Fecha de Inicio:* ${i(ae.startDate)}
*Fecha de Vencimiento:* ${i(ae.endDate)}
`+(ce&&!te?`Hola 😊, he comprado un producto a pedido (${ae.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),yt=!(ce&&!te||ye||be),Gt=ce&&!te?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:ye?`*Nota:* Este pedido está "En Soporte". El proveedor lo está revisando.

`:be?`*Nota:* Este pedido ha sido rechazado. No aplica soporte.

`:"",Et=encodeURIComponent(`😊 Estimado/a ${ae.client?.customerName||"Cliente"} 😊

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📌 Tipo: ${ae.productName||"Sin nombre"}.
🔢 Código: ${ae.orderId||"No especificado"}
`+(yt?`📧 Correo: ${ae.account?.email||"No especificado"}
🔐 Contraseña: ${ae.account?.password||"No especificado"}
👤 Perfil: ${ae.account?.profile||"No especificado"}
📌 PIN: ${ae.account?.pin||"No especificado"}
`:"")+`🌐 URL: Sin URL
📅 Fecha de creación: ${i(ae.startDate)}
📅 Fecha de vencimiento: ${i(ae.endDate)}
🏁 Días contratados: ${ae.durationDays||30} días.

`+Gt+`*Términos y Condiciones:*
${ae.termsAndConditions||"No se especificaron términos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),dr=ae.providerPhone?ae.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999",kt=ae.client?.phone?ae.client.phone.replace(/^\+/,"").replace(/\D/g,""):"51999999999";return l.jsxs(ie.tr,{className:`${j?"text-gray-300":"text-gray-700"} border-b ${j?"border-gray-600/50":"border-gray-200/50"}`,variants:M,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${ae.id}-title`,children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[Q.icon,l.jsx("span",{className:Q.color,children:Q.text})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("h4",{id:`order-${ae.id}-title`,className:"font-semibold",children:ae.productName||"Sin nombre"})}),l.jsx("td",{className:"px-4 py-3",children:S(ae.category)}),l.jsx("td",{className:"px-4 py-3",children:ae.orderId||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold",children:["S/ ",Ce.toFixed(2)]}),Ge!==Ce&&l.jsxs("p",{className:"text-xs text-gray-500",children:["Ren: S/ ",Ge.toFixed(2)]})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[re&&l.jsx("div",{className:`w-24 rounded-full h-1 ${j?"bg-gray-600/40":"bg-gray-300/40"}`,children:l.jsx("div",{className:`h-1 rounded-full ${J}`,style:{width:`${X}%`}})}),l.jsx("span",{className:`text-xs ${Se}`,children:Re})]})}),l.jsx("td",{className:"px-4 py-3",children:i(ae.startDate)}),l.jsx("td",{className:"px-4 py-3",children:i(ae.endDate)}),l.jsx("td",{className:"px-4 py-3",children:ae.account?.email||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:ae.account?.password||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:ae.account?.profile||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:ae.account?.pin||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:ae.provider||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:ae.client?.customerName||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:ae.client?.phone||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:["soporte","rechazado"].includes(ke)?l.jsx("div",{className:"flex gap-2"}):l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ie.a,{href:`https://wa.me/51${dr}?text=${Qe}`,target:"_blank",rel:"noopener noreferrer",className:`p-2 rounded-xl ${j?"bg-teal-500 hover:bg-teal-600 text-white":"bg-teal-600 hover:bg-teal-700 text-white"}`,whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar proveedor","aria-label":`Contactar proveedor para el pedido ${ae.orderId||ae.productName}`,children:l.jsx(is,{size:16})}),te&&ae.renewable&&l.jsx(ie.button,{onClick:()=>o(ae),disabled:u[`renew_${ae.id}`]||d<Ge,className:`p-2 rounded-xl ${u[`renew_${ae.id}`]||d<Ge?"bg-gray-300 text-gray-500 cursor-not-allowed":j?"bg-blue-500 hover:bg-blue-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,whileHover:{scale:u[`renew_${ae.id}`]||d<Ge?1:1.1},whileTap:{scale:u[`renew_${ae.id}`]||d<Ge?1:.9},title:"Renovar pedido","aria-label":`Renovar pedido ${ae.orderId||ae.productName} por S/ ${Ge.toFixed(2)}`,children:u[`renew_${ae.id}`]?l.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):l.jsx(MA,{size:16})}),l.jsx(ie.a,{href:`https://wa.me/51${kt}?text=${Et}`,target:"_blank",rel:"noopener noreferrer",className:`p-2 rounded-xl ${j?"bg-amber-500 hover:bg-amber-600 text-white":"bg-amber-600 hover:bg-amber-700 text-white"}`,whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar cliente","aria-label":`Contactar cliente para el pedido ${ae.orderId||ae.productName}`,children:l.jsx(is,{size:16})}),l.jsx(ie.button,{onClick:()=>B(ae),className:`p-2 rounded-xl ${j?"bg-purple-500 hover:bg-purple-600 text-white":"bg-purple-600 hover:bg-purple-700 text-white"}`,whileHover:{scale:1.1},whileTap:{scale:.9},title:"Soporte","aria-label":`Abrir soporte para el pedido ${ae.orderId||ae.productName}`,children:l.jsx(yu,{size:16})})]})})]},ae.id)})})]})}):l.jsxs(ie.div,{className:"text-center py-12",variants:O,initial:"hidden",animate:"visible",children:[l.jsx(ta,{className:`mx-auto text-4xl ${j?"text-gray-400":"text-gray-500"} mb-3`,"aria-hidden":"true"}),l.jsx("h4",{className:`text-lg font-medium ${j?"text-gray-300":"text-gray-700"}`,children:"No hay pedidos encontrados"}),l.jsx("p",{className:`text-sm ${j?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu búsqueda o realiza tu primer pedido."})]}),p&&y&&l.jsxs(l.Fragment,{children:[l.jsx(ie.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",variants:ne,initial:"hidden",animate:"visible",exit:"exit",onClick:H}),l.jsxs(ie.div,{className:`fixed z-50 max-w-md w-full p-6 rounded-2xl ${j?"bg-gray-800 text-white":"bg-white text-gray-900"} border shadow-2xl`,variants:Y,initial:"hidden",animate:"visible",exit:"exit",onClick:ae=>ae.stopPropagation(),children:[l.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center",children:["Soporte para: ",y.productName||"Sin nombre"]}),l.jsx("textarea",{value:T,onChange:ae=>w(ae.target.value),placeholder:"Escribe tu mensaje de soporte (obligatorio)...",className:`w-full p-3 rounded-xl resize-none ${j?"bg-gray-700 text-white border-gray-600 placeholder-gray-400":"bg-gray-100 text-gray-900 border-gray-300 placeholder-gray-500"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 mb-4`,rows:4,required:!0,disabled:_}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(ie.button,{onClick:H,className:`px-4 py-2 rounded-xl ${j?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-300 hover:bg-gray-400 text-gray-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},disabled:_,children:"Cancelar"}),l.jsx(ie.button,{onClick:D,className:`px-4 py-2 rounded-xl ${!T.trim()||_?"bg-gray-400 cursor-not-allowed text-gray-500":j?"bg-purple-500 hover:bg-purple-600 text-white":"bg-purple-600 hover:bg-purple-700 text-white"}`,whileHover:!T.trim()||_?{}:{scale:1.05},whileTap:!T.trim()||_?{}:{scale:.95},disabled:!T.trim()||_,children:_?l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}),"Enviando..."]}):"Enviar"})]})]})]})]})};A6.propTypes={orders:ee.arrayOf(ee.shape({id:ee.string.isRequired,productName:ee.string,category:ee.string,orderId:ee.string,price:ee.oneOfType([ee.string,ee.number]),renewalPrice:ee.oneOfType([ee.string,ee.number]),status:ee.string,startDate:ee.oneOfType([ee.string,ee.instanceOf(Date)]),endDate:ee.oneOfType([ee.string,ee.instanceOf(Date)]),daysRemaining:ee.number,timeElapsedPercentage:ee.number,account:ee.shape({email:ee.string,password:ee.string,profile:ee.string,pin:ee.string}),client:ee.shape({customerName:ee.string,phone:ee.string}),provider:ee.string,providerPhone:ee.string,renewable:ee.bool,termsAndConditions:ee.string,durationDays:ee.number,soporteMessage:ee.string,soporteCreatedAt:ee.oneOfType([ee.string,ee.instanceOf(Date)])})).isRequired,setOrders:ee.func.isRequired,fetchOrders:ee.func,searchQuery:ee.string.isRequired,setSearchQuery:ee.func.isRequired,formatDate:ee.func.isRequired,handleRenewal:ee.func.isRequired,actionLoading:ee.object.isRequired,balance:ee.number.isRequired,theme:ee.oneOf(["light","dark"]).isRequired};const C6=({userName:t,email:e,actionLoading:r,handleUpdatePassword:n,openEditProfileModal:s,handleLogout:i,theme:o="dark"})=>{const u=o==="dark",d={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}},p={hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}};return l.jsxs(ie.div,{className:`p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${u?"bg-gray-900/90 border-gray-700/50":"bg-white border-gray-300"}`,variants:d,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"settings-title",children:[l.jsx("h3",{id:"settings-title",className:"text-2xl sm:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-6",children:"Configuración"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(ie.div,{className:`p-4 rounded-2xl border ${u?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} shadow-md hover:bg-gray-200/50 transition-all duration-300`,variants:h,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsxs("h4",{className:`text-lg font-semibold ${u?"text-blue-400":"text-blue-600"} mb-3 flex items-center`,children:[l.jsx(Ca,{className:"mr-2"})," Perfil"]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("p",{className:"flex items-center",children:[l.jsx(Ca,{className:`mr-2 ${u?"text-blue-400":"text-gray-600"}`}),"Nombre: ",l.jsx("span",{className:u?"text-gray-300":"text-gray-700",children:t.username})]}),l.jsxs("p",{className:"flex items-center",children:[l.jsx(jz,{className:`mr-2 ${u?"text-blue-400":"text-gray-600"}`}),"Correo: ",l.jsx("span",{className:u?"text-gray-300":"text-gray-700",children:e})]}),l.jsxs("p",{className:"flex items-center",children:[l.jsx(Uy,{className:`mr-2 ${u?"text-blue-400":"text-gray-600"}`}),"Teléfono: ",l.jsx("span",{className:u?"text-gray-300":"text-gray-700",children:t.phone||"No especificado"})]})]}),l.jsx(ie.button,{onClick:()=>s({id:t.id,username:t.username}),className:`mt-4 px-4 py-2 rounded-xl font-medium transition-all duration-300 ${u?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:p,whileHover:"hover",whileTap:"tap","aria-label":"Editar perfil",children:"Editar Perfil"})]}),l.jsxs(ie.div,{className:`p-4 rounded-2xl border ${u?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} shadow-md hover:bg-gray-200/50 transition-all duration-300`,variants:h,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsxs("h4",{className:`text-lg font-semibold ${u?"text-blue-400":"text-blue-600"} mb-3 flex items-center`,children:[l.jsx(Uy,{className:"mr-2"})," Seguridad"]}),l.jsxs("form",{onSubmit:n,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block mb-1 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Nueva Contraseña"}),l.jsx("input",{type:"password",name:"password",className:`w-full px-3 py-2 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300`,placeholder:"Ingrese nueva contraseña","aria-label":"Nueva contraseña"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block mb-1 font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"Nuevo Teléfono"}),l.jsx("input",{type:"tel",name:"phone",className:`w-full px-3 py-2 rounded-xl ${u?"bg-gray-800/50 border-gray-600/50 text-white placeholder-gray-500":"bg-gray-100 border-gray-300 text-gray-800 placeholder-gray-600"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300`,placeholder:"Ingrese nuevo teléfono","aria-label":"Nuevo teléfono"})]}),l.jsx(ie.button,{type:"submit",disabled:r.password,className:`w-full py-2 rounded-xl font-medium transition-all duration-300 ${r.password?"bg-gray-300 text-gray-500 cursor-not-allowed":u?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:p,whileHover:r.password?{}:"hover",whileTap:r.password?{}:"tap","aria-label":"Guardar cambios de seguridad",children:r.password?l.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar Cambios"})]})]}),l.jsxs(ie.div,{className:`p-4 rounded-2xl border ${u?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} shadow-md hover:bg-gray-200/50 transition-all duration-300`,variants:h,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsxs("h4",{className:`text-lg font-semibold ${u?"text-blue-400":"text-blue-600"} mb-3 flex items-center`,children:[l.jsx(Np,{className:"mr-2"})," Sesión"]}),l.jsxs(ie.button,{onClick:i,className:`w-full py-2 flex items-center justify-center gap-2 rounded-xl font-medium transition-all duration-300 ${u?"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-400":"bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-500"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2`,variants:p,whileHover:"hover",whileTap:"tap","aria-label":"Cerrar sesión",children:[l.jsx(Np,{size:16}),"Cerrar Sesión"]})]})]})]})};C6.propTypes={userName:ee.shape({id:ee.string.isRequired,username:ee.string.isRequired,phone:ee.string}).isRequired,email:ee.string.isRequired,actionLoading:ee.shape({password:ee.bool}).isRequired,handleUpdatePassword:ee.func.isRequired,openEditProfileModal:ee.func.isRequired,handleLogout:ee.func.isRequired,theme:ee.oneOf(["light","dark"]).isRequired};const I6=({orders:t=[],setOrders:e=()=>{},fetchOrders:r,searchQuery:n="",setSearchQuery:s=()=>{},formatDate:i=p=>p?new Date(p).toLocaleDateString("es-PE"):"",handleRenewal:o=()=>{},actionLoading:u={},balance:d=0,theme:h="dark"})=>{const[p,x]=k.useState(!1),[y,v]=k.useState(null),[T,w]=k.useState(""),[_,C]=k.useState(!1),j=h==="dark";k.useEffect(()=>{console.log("All orders in SupportSection:",t);const D=t.filter(ae=>ae.status==="soporte");console.log("Filtered support orders (before search):",D),console.log("Current searchQuery:",n)},[t,n]);const O={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},M={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:j?"#1F2937":"#F3F4F6",transition:{duration:.2}}},Y={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.2,ease:"easeOut"}},exit:{opacity:0,scale:.95,transition:{duration:.15}}},ne={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}},A=k.useMemo(()=>{const ae=t.filter(Ce=>Ce.status==="soporte").filter(Ce=>(Ce.productName||"").toLowerCase().includes(n.toLowerCase())||(Ce.orderId||"").toLowerCase().includes(n.toLowerCase()));return console.log("Final filtered orders:",ae),ae},[t,n]),S=D=>({netflix:"Netflix",disney:"Disney+",max:"Max",spotify:"Spotify"})[D?.toLowerCase()]||D||"N/A",I=(D,ae)=>{const Ce=D.status||"pending",Ge=new Date(D.endDate)>new Date;let ke,ce,ye;return Ce==="soporte"?(ke="En soporte",ce=ae?"text-blue-400":"text-blue-600",ye=l.jsx(yu,{className:ce,title:"En Soporte"})):Ce==="rechazado"?(ke="No aplica soporte",ce=ae?"text-amber-700":"text-amber-900",ye=l.jsx(Aa,{className:ce,title:"No aplica soporte"})):Ge?(ke="Activo",ce=ae?"text-green-400":"text-green-600",ye=l.jsx(xu,{className:ce,title:"Activo"})):Ce==="pending"?(ke="Pendiente a activacion",ce=ae?"text-yellow-400":"text-yellow-600",ye=l.jsx(_m,{className:ce,title:"Pendiente a activacion"})):(ke="Expirado",ce=ae?"text-red-400":"text-red-600",ye=l.jsx(Aa,{className:ce,title:"Expirado"})),{text:ke,color:ce,icon:ye}},V=()=>{const D=A.map(ke=>{const ce=parseFloat(ke.price)||0,ye=parseFloat(ke.renewalPrice)||ce,be=ke.status||"pending",te=be==="pending",R=be==="soporte",X=be==="rechazado",Q=new Date(ke.endDate)>new Date,J=Math.max(0,ke.daysRemaining||0);let re;R?re="En Soporte":X?re="No aplica soporte":Q?re="Activo":te?re="Pendiente a activacion":re="Expirado";const Ae=R||X||te&&!Q;let Re;return Ae?Re=re:Re=`${J} día${J===1?"":"s"}`,{Estado:re,Producto:ke.productName||"Sin nombre",Categoría:S(ke.category),"N° Pedido":ke.orderId||"N/A",Precio:`S/ ${ce.toFixed(2)}`,"Precio Renovación":ye!==ce?`S/ ${ye.toFixed(2)}`:"N/A","Tiempo Restante":Re,"Fecha de Inicio":i(ke.startDate),"Fecha de Vencimiento":i(ke.endDate),Email:ke.account?.email||"N/A",Contraseña:ke.account?.password||"N/A",Perfil:ke.account?.profile||"N/A",PIN:ke.account?.pin||"N/A",Proveedor:ke.provider||"N/A","Mensaje de Soporte":ke.soporteMessage||"Sin mensaje"}}),ae=ja.json_to_sheet(D),Ce=ja.book_new();ja.book_append_sheet(Ce,ae,"Pedidos");const Ge=new Date().toISOString().slice(0,10).replace(/-/g,"");m2(Ce,`mis_pedidos_soporte_export_${Ge}.xlsx`)},B=()=>{x(!1),v(null),w(""),C(!1)},H=async()=>{if(!T.trim()){alert("El mensaje es obligatorio.");return}if(!y||!y.id){alert("Error: No se encontró el ID del pedido.");return}C(!0);try{await ti(vt(qe,"sales",y.id),{status:"soporte",soporteMessage:T,soporteCreatedAt:new Date},{merge:!0}),console.log(`Documento actualizado exitosamente para order ID: ${y.id}`),typeof e=="function"&&e(D=>D.map(ae=>ae.id===y.id?{...ae,status:"soporte",soporteMessage:T,soporteCreatedAt:new Date}:ae)),typeof r=="function"&&await r(),alert(`Soporte enviado para "${y.productName}". El pedido ahora está en estado "En Soporte".`)}catch(D){console.error("Error detallado en sendSupport:",D),alert("Hubo un error al enviar a soporte. Verifica la consola del navegador para más detalles. Asegúrate de que el ID del pedido sea correcto y que tengas permisos en Firebase.")}finally{C(!1)}B()};return l.jsxs(ie.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl max-w-7xl mx-auto border ${j?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,variants:O,initial:"hidden",animate:"visible",role:"region","aria-labelledby":"support-title",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[l.jsxs("h3",{id:"support-title",className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${j?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:[l.jsx(ta,{className:"mr-2"})," Pedidos en Soporte"]}),l.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto mt-4 sm:mt-0",children:[l.jsxs("div",{className:"relative flex-1 sm:w-64",children:[l.jsx("input",{type:"text",placeholder:"Buscar pedidos en soporte...",className:`w-full px-3 py-2 rounded-xl ${j?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 text-sm placeholder-gray-500`,value:n,onChange:D=>s(D.target.value),"aria-label":"Buscar pedidos en soporte por nombre o ID"}),l.jsx(ta,{className:`absolute right-3 top-2.5 ${j?"text-gray-400":"text-gray-500"}`,size:16})]}),l.jsx(ie.button,{onClick:V,className:`p-2 rounded-xl ${j?"bg-green-500 hover:bg-green-600 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,whileHover:{scale:1.1},whileTap:{scale:.9},title:"Descargar pedidos en soporte como Excel","aria-label":"Exportar pedidos en soporte a Excel",children:l.jsx(Kv,{size:18})})]})]}),A.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:`min-w-full border rounded-xl ${j?"bg-gray-800/50 border-gray-600/50":"bg-gray-100/50 border-gray-200/50"}`,children:[l.jsx("thead",{children:l.jsxs("tr",{className:`text-left text-xs font-medium uppercase tracking-wider ${j?"bg-gray-700/50 text-gray-300":"bg-gray-200/50 text-gray-700"}`,children:[l.jsx("th",{className:"px-4 py-3 border-b",children:"Estado"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Producto"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Categoría"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"N° Pedido"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Precio"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Tiempo Restante"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Inicio"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Vencimiento"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Email"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Contraseña"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Perfil"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"PIN"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Proveedor"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Mensaje de Soporte"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Acciones"})]})}),l.jsx("tbody",{children:A.map(D=>{const ae=parseFloat(D.price)||0,Ce=parseFloat(D.renewalPrice)||ae,Ge=D.status||"pending",ke=Ge==="pending",ce=Ge==="soporte",ye=Ge==="rechazado",be=new Date(D.endDate)>new Date,te=Math.max(0,D.daysRemaining||0),R=Math.min(D.timeElapsedPercentage||0,100),X=I(D,j);console.log(`Order ${D.id} message:`,D.soporteMessage);let Q;R<70?Q=j?"bg-green-500":"bg-green-600":R<90?Q=j?"bg-orange-500":"bg-orange-600":Q=j?"bg-red-500":"bg-red-600";const J=!["En soporte","No aplica soporte","Pendiente a activacion"].includes(X.text),Ae=ce||ye||ke&&!be?X.text:`${te} día${te===1?"":"s"}`,Re=J?Q.replace("bg-","text-"):X.color,Se=encodeURIComponent(`*Consulta de Soporte - Pedido ${D.orderId||"N/A"}*

*Producto:* ${D.productName||"Sin nombre"}
*Cliente:* ${D.buyer||"N/A"}
*Mensaje del Cliente:* ${D.soporteMessage||"Sin mensaje"}

Por favor, proporciona una solución o actualización para este soporte. ¡Gracias!`),pe=D.providerPhone?D.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return l.jsxs(ie.tr,{className:`${j?"text-gray-300":"text-gray-700"} border-b ${j?"border-gray-600/50":"border-gray-200/50"}`,variants:M,initial:"hidden",animate:"visible",whileHover:"hover","aria-labelledby":`order-${D.id}-title`,children:[l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[X.icon,l.jsx("span",{className:X.color,children:X.text})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("h4",{id:`order-${D.id}-title`,className:"font-semibold",children:D.productName||"Sin nombre"})}),l.jsx("td",{className:"px-4 py-3",children:S(D.category)}),l.jsx("td",{className:"px-4 py-3",children:D.orderId||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold",children:["S/ ",ae.toFixed(2)]}),Ce!==ae&&l.jsxs("p",{className:"text-xs text-gray-500",children:["Ren: S/ ",Ce.toFixed(2)]})]})}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[J&&l.jsx("div",{className:`w-24 rounded-full h-1 ${j?"bg-gray-600/40":"bg-gray-300/40"}`,children:l.jsx("div",{className:`h-1 rounded-full ${Q}`,style:{width:`${R}%`}})}),l.jsx("span",{className:`text-xs ${Re}`,children:Ae})]})}),l.jsx("td",{className:"px-4 py-3",children:i(D.startDate)}),l.jsx("td",{className:"px-4 py-3",children:i(D.endDate)}),l.jsx("td",{className:"px-4 py-3",children:D.account?.email||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:D.account?.password||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:D.account?.profile||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:D.account?.pin||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:D.provider||"N/A"}),l.jsxs("td",{className:"px-4 py-3 max-w-xs",children:[l.jsx("p",{className:"text-sm break-words line-clamp-3",title:D.soporteMessage||"Sin mensaje",children:D.soporteMessage||"Sin mensaje"}),D.soporteCreatedAt&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i(D.soporteCreatedAt)})]}),l.jsx("td",{className:"px-4 py-3",children:l.jsx("div",{className:"flex gap-2",children:l.jsx(ie.a,{href:`https://wa.me/51${pe}?text=${Se}`,target:"_blank",rel:"noopener noreferrer",className:`p-2 rounded-xl ${j?"bg-teal-500 hover:bg-teal-600 text-white":"bg-teal-600 hover:bg-teal-700 text-white"}`,whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar proveedor por WhatsApp","aria-label":`Contactar proveedor para el pedido ${D.orderId||D.productName}`,children:l.jsx(is,{size:16})})})})]},`${D.id}-${D.soporteMessage}`)})})]})}):l.jsxs(ie.div,{className:"text-center py-12",variants:O,initial:"hidden",animate:"visible",children:[l.jsx(ta,{className:`mx-auto text-4xl ${j?"text-gray-400":"text-gray-500"} mb-3`,"aria-hidden":"true"}),l.jsx("h4",{className:`text-lg font-medium ${j?"text-gray-300":"text-gray-700"}`,children:"No hay pedidos en soporte encontrados"}),l.jsx("p",{className:`text-sm ${j?"text-gray-400":"text-gray-600"}`,children:"Intenta ajustar tu búsqueda o verifica si hay pedidos en estado de soporte."})]}),p&&y&&l.jsxs(l.Fragment,{children:[l.jsx(ie.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",variants:ne,initial:"hidden",animate:"visible",exit:"exit",onClick:B}),l.jsxs(ie.div,{className:`fixed z-50 max-w-md w-full p-6 rounded-2xl ${j?"bg-gray-800 text-white":"bg-white text-gray-900"} border shadow-2xl`,variants:Y,initial:"hidden",animate:"visible",exit:"exit",onClick:D=>D.stopPropagation(),children:[l.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center",children:["Soporte para: ",y.productName||"Sin nombre"]}),l.jsx("textarea",{value:T,onChange:D=>w(D.target.value),placeholder:"Escribe tu mensaje de soporte (obligatorio)...",className:`w-full p-3 rounded-xl resize-none ${j?"bg-gray-700 text-white border-gray-600 placeholder-gray-400":"bg-gray-100 text-gray-900 border-gray-300 placeholder-gray-500"} focus:ring-2 focus:ring-purple-400 focus:border-purple-400 mb-4`,rows:4,required:!0,disabled:_}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(ie.button,{onClick:B,className:`px-4 py-2 rounded-xl ${j?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-300 hover:bg-gray-400 text-gray-900"}`,whileHover:{scale:1.05},whileTap:{scale:.95},disabled:_,children:"Cancelar"}),l.jsx(ie.button,{onClick:H,className:`px-4 py-2 rounded-xl ${!T.trim()||_?"bg-gray-400 cursor-not-allowed text-gray-500":j?"bg-purple-500 hover:bg-purple-600 text-white":"bg-purple-600 hover:bg-purple-700 text-white"}`,whileHover:!T.trim()||_?{}:{scale:1.05},whileTap:!T.trim()||_?{}:{scale:.95},disabled:!T.trim()||_,children:_?l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}),"Enviando..."]}):"Enviar"})]})]})]})]})};I6.propTypes={orders:ee.arrayOf(ee.shape({id:ee.string.isRequired,productName:ee.string,category:ee.string,orderId:ee.string,price:ee.oneOfType([ee.string,ee.number]),renewalPrice:ee.oneOfType([ee.string,ee.number]),status:ee.string,startDate:ee.oneOfType([ee.string,ee.instanceOf(Date)]),endDate:ee.oneOfType([ee.string,ee.instanceOf(Date)]),daysRemaining:ee.number,timeElapsedPercentage:ee.number,account:ee.shape({email:ee.string,password:ee.string,profile:ee.string,pin:ee.string}),provider:ee.string,providerPhone:ee.string,renewable:ee.bool,termsAndConditions:ee.string,durationDays:ee.number,soporteMessage:ee.string,soporteCreatedAt:ee.oneOfType([ee.string,ee.instanceOf(Date)])})),setOrders:ee.func,fetchOrders:ee.func,searchQuery:ee.string,setSearchQuery:ee.func,formatDate:ee.func,handleRenewal:ee.func,actionLoading:ee.object,balance:ee.number,theme:ee.oneOf(["light","dark"])};const AQ=ki.memo(({show:t,onClose:e,title:r,message:n,theme:s})=>l.jsx(bn,{children:t&&l.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:l.jsxs(ie.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${s==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:i=>i.stopPropagation(),children:[l.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:l.jsx($s,{size:20})}),l.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${s==="dark"?"text-white":"text-gray-900"}`,children:r}),l.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));AQ.propTypes={show:ee.bool.isRequired,onClose:ee.func.isRequired,title:ee.string.isRequired,message:ee.string.isRequired,theme:ee.string.isRequired};const P6=()=>{const[t,e]=k.useState(!1),[r,n]=k.useState(""),[s,i]=k.useState([]),[o,u]=k.useState({username:"",phone:""}),[d,h]=k.useState(""),[p,x]=k.useState(0),[y,v]=k.useState(null),[T,w]=k.useState("inicio"),[_,C]=k.useState([]),[j,O]=k.useState({}),[M,Y]=k.useState([]),[ne,A]=k.useState(!0),[S,I]=k.useState({}),[V,B]=k.useState(null),[H,D]=k.useState({isOpen:!1,message:"",title:""}),[ae,Ce]=k.useState({isOpen:!1,user:null}),[Ge,ke]=k.useState({isOpen:!1,provider:null}),[ce,ye]=k.useState(""),[be,te]=k.useState([]),[R,X]=k.useState("dark"),[Q,J]=k.useState(!1),[re,Ae]=k.useState(!1),Re=ji(),Se=k.useCallback(()=>{X(Te=>Te==="dark"?"light":"dark")},[]),pe=k.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),Qe=k.useCallback((Te,Ie)=>{D({isOpen:!0,title:Te,message:Ie})},[]),yt=k.useCallback(()=>{D({isOpen:!1,message:"",title:""})},[]),Gt=k.useCallback(Te=>{Ce({isOpen:!0,user:Te})},[]),Et=k.useCallback(()=>{Ce({isOpen:!1,user:null})},[]),dr=k.useCallback(Te=>{ke({isOpen:!0,provider:Te})},[]),kt=k.useCallback(()=>{ke({isOpen:!1,provider:null})},[]),Ue=k.useCallback(Te=>{if(!Te)return"No especificada";try{const Ie=Te instanceof Date?Te:new Date(Te);return isNaN(Ie.getTime())?"Fecha inválida":Ie.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},[]),nr=k.useCallback(async(Te,Ie)=>{try{I(ze=>({...ze,profile:!0}));const Xe=vt(qe,"users",Te);await Jr(Xe,{username:Ie,updatedAt:Fr()}),u(ze=>({...ze,username:Ie})),Qe("Éxito","Perfil actualizado exitosamente"),Et()}catch(Xe){console.error("Error al actualizar perfil:",Xe),Qe("Error",Xe.message||"Error al actualizar el perfil")}finally{I(Xe=>({...Xe,profile:!1}))}},[Qe,Et]),Ot=k.useCallback(async(Te,Ie)=>{try{I(Xe=>({...Xe,[`rate_${Te}`]:!0})),await Io(Dt(qe,"ratings"),{userId:y,providerId:Te,rating:Ie,ratedAt:Fr()}),Qe("Éxito","Calificación enviada exitosamente"),kt()}catch(Xe){console.error("Error al calificar proveedor:",Xe),Qe("Error",Xe.message||"Error al enviar la calificación")}finally{I(Xe=>({...Xe,[`rate_${Te}`]:!1}))}},[y,Qe,kt]),vr=k.useCallback(async Te=>{try{I(Ht=>({...Ht,[`renew_${Te.id}`]:!0}));const Ie=parseFloat(Te.renewalPrice)||parseFloat(Te.price)||0;if(p<Ie){Qe("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const Xe=parseInt(Te.durationDays)||30,ze=yr.now(),Rt=ze.toDate(),Oe=Rt,He=new Date(Oe.getTime()+Xe*24*60*60*1e3),mt=yr.fromDate(He),pt=vt(qe,"sales",Te.id);await Jr(pt,{startDate:ze,endDate:mt,renewedAt:ze,status:"completed",updatedAt:Fr()});const hr=vt(qe,"users",y);await Jr(hr,{balance:p-Ie}),x(Ht=>Ht-Ie),C(Ht=>Ht.map(Er=>Er.id===Te.id?{...Er,startDate:Oe,endDate:He,renewedAt:Rt,status:"completed",daysRemaining:Xe,totalDays:Xe,timeElapsedPercentage:0}:Er)),Qe("Éxito",`¡Pedido renovado exitosamente! Nueva fecha de vencimiento: ${Ue(He)}`)}catch(Ie){console.error("Error al renovar el pedido:",Ie),Qe("Error","Error al renovar el pedido: "+Ie.message)}finally{I(Ie=>({...Ie,[`renew_${Te.id}`]:!1}))}},[p,y,Qe,Ue]);k.useEffect(()=>{(async()=>{try{const Ie=wr(Dt(qe,"products")),Xe=await qn(Ie),ze={};Xe.forEach(Rt=>{ze[Rt.id]=Rt.data()}),O(ze)}catch(Ie){console.error("Error fetching products:",Ie),B("Error al cargar productos: "+Ie.message)}})()},[]),k.useEffect(()=>{const Te=gr(vt(qe,"notifications","adminMessage"),Ie=>{if(Ie.exists()){const Xe=Ie.data();Xe.roles&&Xe.roles.includes("user")?Y([{id:Ie.id,...Xe,timestamp:Xe.updatedAt?.toDate()}]):Y([])}else Y([])},Ie=>{console.error("Error in notifications listener:",Ie),B("Error al cargar notificaciones: "+Ie.message)});return()=>Te()},[]),k.useEffect(()=>{if(!y)return;(async()=>{try{const Ie=wr(Dt(qe,"sales"),Or("customerId","==",y)),Xe=await qn(Ie),ze=new Set,Rt=[];Xe.forEach(Oe=>{const He=Oe.data();He.providerId&&!ze.has(He.providerId)&&(ze.add(He.providerId),Rt.push({id:He.providerId,name:He.provider||"Proveedor desconocido",phone:He.providerPhone||"No especificado"}))}),te(Rt)}catch(Ie){console.error("Error fetching providers:",Ie),B("Error al cargar proveedores: "+Ie.message)}})()},[y]);const le=k.useCallback(async()=>{try{await O0(Qr),Re("/")}catch(Te){console.error("Error al cerrar sesión:",Te),Qe("Error",Te.message||"Error al cerrar sesión")}},[Re,Qe]);k.useEffect(()=>{const Te=Hl(Qr,Ie=>{Ie?(v(Ie.uid),h(Ie.email||"No especificado"),A(!1)):Re("/login")});return()=>Te()},[Re]),k.useEffect(()=>{if(!y)return;const Te=vt(qe,"users",y),Ie=gr(Te,Xe=>{if(Xe.exists()){const ze=Xe.data();u({username:ze.username||"Usuario",phone:ze.phone||""}),h(ze.email||"No especificado"),x(Number(ze.balance)||0)}else B("Usuario no encontrado")},Xe=>{console.error("Error in user data listener:",Xe),B("Error al cargar datos del usuario: "+Xe.message)});return()=>Ie()},[y]),k.useEffect(()=>{if(!y)return;const Te=wr(Dt(qe,"sales"),Or("customerId","==",y)),Ie=gr(Te,async ze=>{if(ze.empty){C([]),A(!1);return}const Rt=new Date,Oe=7200*60*1e3;for(const mt of ze.docs){const hr=mt.data().endDate?.toDate?.()||new Date;if(hr<Rt&&Rt.getTime()-hr.getTime()>Oe)try{await El(vt(qe,"sales",mt.id)),console.log(`Deleted expired order: ${mt.id}`)}catch(Ht){console.error(`Error deleting order ${mt.id}:`,Ht)}}const He=ze.docs.map(mt=>{const pt=mt.data(),Ht=pt.saleDate?.toDate?.()||pt.createdAt?.toDate?.()||new Date;let Er=pt.startDate?.toDate?.(),qr=Er||Ht,$r=!1;Er||($r=!0);const Zr=pt.durationDays||30;let St;pt.endDate?St=pt.endDate.toDate?pt.endDate.toDate():new Date(pt.endDate):(St=new Date(qr.getTime()+Zr*24*60*60*1e3),$r=!0),$r&&Jr(vt(qe,"sales",mt.id),{startDate:Er||yr.fromDate(Ht),endDate:yr.fromDate(St),durationDays:Zr}).catch(Be=>{console.error("Error al actualizar startDate/endDate en Firestore:",Be)});const Wt=St.getTime()-qr.getTime(),$t=Rt.getTime()-qr.getTime(),Br=St.getTime()-Rt.getTime(),Pr=Math.ceil(Wt/(1e3*60*60*24)),Qn=Math.max(0,Math.ceil(Br/(1e3*60*60*24))),Jn=Math.ceil($t/(1e3*60*60*24)),ai=Pr>0?Jn/Pr*100:100,we=j[pt.providerId]?.terms||"No se especificaron términos y condiciones.";return{id:mt.id,productName:pt.productName||"Producto sin nombre",category:pt.type||"netflix",price:parseFloat(pt.price)||0,renewalPrice:parseFloat(pt.renewalPrice)||0,provider:pt.provider||"No especificado",providerId:pt.providerId||"",providerPhone:pt.providerPhone||pt.providerWhatsapp||"51999999999",status:pt.status||"completed",saleDate:Ht,startDate:qr,endDate:St,durationDays:Zr,daysRemaining:Qn,totalDays:Pr,timeElapsedPercentage:ai,account:{email:pt.accountDetails?.email||"No especificado",password:pt.accountDetails?.password||"No especificado",profile:pt.accountDetails?.profile||"No especificado",pin:pt.accountDetails?.pin||"No especificado"},client:{customerName:pt.customerName||"Cliente desconocido",email:pt.customerEmail||"No especificado",phone:pt.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BLK-${mt.id.slice(0,8).toUpperCase()}`,termsAndConditions:we,renewable:pt.renewable!==void 0?pt.renewable:!0}}).filter(mt=>{const pt=new Date(mt.endDate);return!(pt<Rt&&Rt.getTime()-pt.getTime()>Oe)});C(He),A(!1)},ze=>{console.error("Error al obtener pedidos:",ze),B("Error al cargar pedidos: "+ze.message),A(!1)}),Xe=setInterval(()=>{const ze=new Date,Rt=7200*60*1e3;C(Oe=>Oe.map(He=>{const mt=new Date(He.endDate).getTime()-new Date(He.startDate).getTime(),pt=ze.getTime()-new Date(He.startDate).getTime(),hr=new Date(He.endDate).getTime()-ze.getTime(),Ht=Math.ceil(mt/(1e3*60*60*24)),Er=Math.max(0,Math.ceil(hr/(1e3*60*60*24))),qr=Math.ceil(pt/(1e3*60*60*24)),$r=Ht>0?qr/Ht*100:100;return{...He,daysRemaining:Er,totalDays:Ht,timeElapsedPercentage:$r}}).filter(He=>{const mt=new Date(He.endDate);return!(mt<ze&&ze.getTime()-mt.getTime()>Rt)}))},6e4);return()=>{Ie(),clearInterval(Xe)}},[y,j]),k.useEffect(()=>{if(!y)return;const Te=wr(Dt(qe,"pendingTopUps"),Or("userId","==",y)),Ie=gr(Te,Xe=>{const ze=Xe.docs.map(Rt=>({id:Rt.id,...Rt.data(),date:Rt.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(Rt.data().amount)||0}));i(ze)},Xe=>{console.error("Error al obtener recargas:",Xe),B("Error al cargar recargas: "+Xe.message)});return()=>Ie()},[y]);const Me=k.useCallback(async()=>{try{if(I(Ie=>({...Ie,topUp:!0})),!r||isNaN(r)){Qe("Error","Ingrese un monto válido");return}const Te=parseFloat(r);if(Te<5){Qe("Error","El monto mínimo de recarga es S/ 5.00");return}await Io(Dt(qe,"pendingTopUps"),{userId:y,username:o.username,amount:Te,status:"pendiente",requestedAt:Fr()}),n(""),Qe("Éxito","Solicitud de recarga enviada correctamente")}catch(Te){console.error("Error al solicitar recarga:",Te),Qe("Error",Te.message||"Error al enviar solicitud de recarga")}finally{I(Te=>({...Te,topUp:!1}))}},[r,y,o.username,Qe]),ht=k.useCallback(async Te=>{Te.preventDefault();try{I(He=>({...He,password:!0}));const Ie=Te.target.password.value,Xe=Te.target.phone.value,ze=Qr.currentUser,Rt=vt(qe,"users",y),Oe={};if(Ie){if(Ie.length<6){Qe("Error","La contraseña debe tener al menos 6 caracteres");return}await av(ze,Ie),Oe.updatedAt=Fr()}Xe&&(Oe.phone=Xe,Oe.updatedAt=Fr()),Object.keys(Oe).length>0&&await Jr(Rt,Oe),u(He=>({...He,phone:Xe||He.phone})),Qe("Éxito","Cambios guardados correctamente"),Te.target.reset()}catch(Ie){console.error("Error al actualizar los datos:",Ie),Qe("Error",Ie.message||"Error al guardar los cambios")}finally{I(Ie=>({...Ie,password:!1}))}},[y,Qe]);k.useEffect(()=>{const Te=()=>{J(window.scrollY>300)};return window.addEventListener("scroll",Te),()=>window.removeEventListener("scroll",Te)},[]);const it=()=>ne?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):V?l.jsxs("div",{className:`bg-${R==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${R==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[l.jsx(Fl,{className:"mx-auto text-4xl text-red-400 mb-4"}),l.jsx("h3",{className:`text-xl font-bold ${R==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),l.jsx("p",{className:`text-base ${R==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:V}),l.jsx("button",{onClick:()=>B(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):l.jsx("div",{className:`bg-${R==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 lg:p-10 rounded-2xl shadow-md max-w-6xl mx-auto border ${R==="dark"?"border-gray-700/50":"border-gray-300"} w-full`,children:(()=>{switch(T){case"inicio":return l.jsx(Lz,{userName:o,email:d,balance:p,orders:_,notifications:M,setActivePage:w,formatDate:Ue});case"notificaciones":return l.jsx(WA,{notifications:M,formatDate:Ue});case"recargar":return l.jsx(qA,{amount:r,setAmount:n,topUps:s,actionLoading:S,handleTopUpRequest:Me,formatDate:Ue,showModal:Qe});case"proveedores":return l.jsx(GA,{providers:be,openRateProviderModal:dr,theme:R});case"pedidos":return l.jsx(A6,{orders:_,setOrders:C,balance:p,searchQuery:ce,setSearchQuery:ye,formatDate:Ue,handleRenewal:vr,actionLoading:S,theme:R});case"configuracion":return l.jsx(C6,{userName:o,email:d,actionLoading:S,handleUpdatePassword:ht,openEditProfileModal:Gt,handleLogout:le});case"soporte":return l.jsx(I6,{orders:_,setOrders:C,searchQuery:ce,setSearchQuery:ye,formatDate:Ue,handleRenewal:vr,actionLoading:S,balance:p,theme:R});default:return l.jsxs("div",{className:`bg-${R==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${R==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[l.jsx(Fl,{className:"mx-auto text-4xl text-red-400 mb-4"}),l.jsx("h3",{className:`text-xl font-bold ${R==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Sección no encontrada"}),l.jsx("p",{className:`text-base ${R==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La sección que estás buscando no existe o no está disponible."}),l.jsx("button",{onClick:()=>w("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()});return l.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${R==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[l.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[l.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${R==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),l.jsx("div",{className:"particles",children:[...Array(15)].map((Te,Ie)=>l.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Ie))})]}),l.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${R==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:l.jsxs("div",{className:"p-4 flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("button",{onClick:()=>{Re("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),l.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:l.jsx($s,{className:"text-lg"})})]}),l.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${R==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:o.username.charAt(0).toUpperCase()}),l.jsxs("div",{children:[l.jsx("p",{className:`font-medium ${R==="dark"?"text-white":"text-gray-900"}`,children:o.username}),l.jsx("p",{className:`text-xs ${R==="dark"?"text-gray-400":"text-gray-600"}`,children:"Usuario"})]})]}),l.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Wv},{id:"notificaciones",label:"Notificaciones",icon:Ol},{id:"recargar",label:"Recargar saldo",icon:Sa},{id:"pedidos",label:"Mis pedidos",icon:pu},{id:"proveedores",label:"Proveedores",icon:gu},{id:"soporte",label:"Soporte",icon:UU},{id:"configuracion",label:"Configuración",icon:_p}].map(Te=>l.jsxs("button",{onClick:()=>{w(Te.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${T===Te.id?"bg-blue-100 text-blue-600 border border-blue-300":R==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":T===Te.id?"page":void 0,children:[l.jsx(Te.icon,{className:"text-lg"}),l.jsx("span",{children:Te.label})]},Te.id))}),l.jsx("div",{className:"mt-auto pt-6",children:l.jsxs("button",{onClick:()=>{le(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${R==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[l.jsx(mu,{className:"text-lg"}),l.jsx("span",{children:"Cerrar Sesión"})]})})]})}),l.jsxs("header",{className:`${R==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(ie.img,{src:Yl,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border ${R==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),l.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),l.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:l.jsxs("div",{className:"relative group",children:[l.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:ce,onChange:Te=>ye(Te.target.value),className:`w-full py-2.5 px-5 ${R==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:Te=>Te.key==="Enter"&&w("pedidos")}),l.jsx("button",{onClick:()=>w("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${R==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:l.jsx(fu,{size:18})})]})}),l.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[l.jsx("button",{onClick:Se,className:`p-2 rounded-full ${R==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${R==="dark"?"light":"dark"} theme`,children:R==="dark"?l.jsx(Xl,{size:20}):l.jsx(Kl,{size:20})}),l.jsxs("button",{onClick:()=>Ae(!0),className:`p-2 rounded-full relative ${R==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${M.length} new)`,children:[l.jsx(Ol,{size:20}),M.length>0&&l.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:M.length})]}),l.jsx("button",{className:`lg:hidden p-2 rounded-full ${R==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:l.jsx(wm,{size:20,className:R==="dark"?"text-gray-300":"text-gray-600"})}),l.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:l.jsx("div",{className:"relative",children:l.jsxs("button",{className:`flex items-center space-x-2 ${R==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[l.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:o.username.charAt(0).toUpperCase()}),l.jsx("span",{className:`text-sm font-semibold ${R==="dark"?"text-gray-200":"text-gray-800"}`,children:o.username})]})})})]})]}),l.jsx(bn,{children:re&&l.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>Ae(!1),role:"dialog","aria-labelledby":"notifications-title",children:l.jsxs(ie.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${R==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${R==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Te=>Te.stopPropagation(),children:[l.jsx("button",{onClick:()=>Ae(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:l.jsx($s,{size:20})}),l.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${R==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),M.length>0?M.map(Te=>l.jsxs("div",{className:`p-4 mb-2 rounded-md ${R==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${R==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[l.jsx("h3",{className:`font-semibold ${R==="dark"?"text-gray-200":"text-gray-800"}`,children:Te.title||"Nueva Notificación"}),l.jsx("p",{className:`text-sm ${R==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:Te.message}),Te.roles&&Te.roles.length>0&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",Te.roles.join(", ")]}),Te.timestamp&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Ue(Te.timestamp)})]},Te.id)):l.jsx("p",{className:`text-center ${R==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),l.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:it()}),l.jsxs("footer",{className:`${R==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${R==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),l.jsxs("p",{className:`text-base sm:text-lg ${R==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",l.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),l.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[l.jsx("a",{href:"https://twitter.com",className:`${R==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:l.jsx(Gl,{size:28})}),l.jsx("a",{href:"https://instagram.com",className:`${R==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:l.jsx(ql,{size:28})}),l.jsx("a",{href:"https://facebook.com",className:`${R==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:l.jsx(Wl,{size:28})})]}),l.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[l.jsx("a",{href:"#",className:`text-sm ${R==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Política de Privacidad"}),l.jsx("a",{href:"#",className:`text-sm ${R==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Términos de Servicio"}),l.jsx("a",{href:"#",className:`text-sm ${R==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contáctanos"})]})]}),l.jsxs("p",{className:`text-sm ${R==="dark"?"text-gray-500":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Hecho con pasión."]})]}),l.jsx(bn,{children:Q&&l.jsx(ie.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:pe,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:l.jsx(bm,{size:20})})}),l.jsx(Fz,{isOpen:H.isOpen,title:H.title,message:H.message,onClose:yt,theme:R}),ae.isOpen&&l.jsx(zA,{isOpen:ae.isOpen,user:ae.user,onClose:Et,onSave:nr,theme:R}),Ge.isOpen&&l.jsx(HA,{isOpen:Ge.isOpen,provider:Ge.provider,onClose:kt,onRate:Ot,theme:R}),t&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};P6.propTypes={};const CQ=({isOpen:t,message:e,title:r,onClose:n})=>t?l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:r}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:l.jsx(Bs,{size:20})})]}),l.jsx("p",{className:"text-gray-300 mb-6",children:e}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,IQ=({isOpen:t,user:e,onClose:r,onSave:n})=>{const[s,i]=k.useState(e?.username||""),[o,u]=k.useState(""),d=h=>{if(h.preventDefault(),u(""),!s.trim()){u("El nombre de usuario no puede estar vacío.");return}n(e.id,s.trim())};return t?l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Editar Perfil"}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-all duration-300",children:l.jsx(Bs,{size:20})})]}),l.jsxs("form",{onSubmit:d,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),l.jsx("input",{type:"text",value:s,onChange:h=>i(h.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0}),o&&l.jsx("p",{className:"text-red-400 text-sm mt-2",children:o})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},PQ=()=>{const[t,e]=k.useState(!1),[r,n]=k.useState("inicio"),[s,i]=k.useState(""),[o,u]=k.useState(""),[d,h]=k.useState(""),[p,x]=k.useState([]),[y,v]=k.useState(0),[T,w]=k.useState(0),[_,C]=k.useState(null),[j,O]=k.useState(!0),[M,Y]=k.useState({}),[ne,A]=k.useState(null),[S,I]=k.useState([]),[V,B]=k.useState(!1),[H,D]=k.useState(""),[ae,Ce]=k.useState(""),[Ge,ke]=k.useState([]),[ce,ye]=k.useState([]),[be,te]=k.useState({}),[R,X]=k.useState([]),[Q,J]=k.useState({isOpen:!1,message:"",title:""}),[re,Ae]=k.useState({isOpen:!1,user:null}),Re=ji(),Se=(le,Me)=>{J({isOpen:!0,title:le,message:Me})},pe=()=>{J({isOpen:!1,message:"",title:""})},Qe=le=>{Ae({isOpen:!0,user:le})},yt=()=>{Ae({isOpen:!1,user:null})},Gt=async(le,Me)=>{try{Y(Te=>({...Te,profile:!0}));const ht=vt(qe,"users",le),it=vt(qe,"affiliates",le);await Jr(ht,{username:Me,updatedAt:Fr()}),await Jr(it,{username:Me,updatedAt:Fr()}),i(Me),Se("Éxito","Perfil actualizado exitosamente"),yt()}catch(ht){console.error("Error al actualizar perfil:",ht),Se("Error",ht.message||"Error al actualizar el perfil")}finally{Y(ht=>({...ht,profile:!1}))}};k.useEffect(()=>{const le=Hl(Qr,Me=>{Me?(C(Me.uid),u(Me.email||"No especificado"),O(!1)):Re("/login")});return()=>le()},[Re]),k.useEffect(()=>{(async()=>{try{const Me=wr(Dt(qe,"products")),ht=await qn(Me),it={};ht.forEach(Te=>{it[Te.id]=Te.data()}),te(it)}catch(Me){console.error("Error fetching products:",Me),A("Error al cargar productos")}})()},[]),k.useEffect(()=>{gr(vt(qe,"notifications","adminMessage"),ht=>{if(ht.exists()){const it=ht.data();it.roles&&it.roles.includes("affiliate")?X([{id:ht.id,...it}]):X([])}else X([])})},[]),k.useEffect(()=>{(async()=>{if(_)try{const Me=vt(qe,"users",_),ht=await Mo(Me);if(ht.exists()){const Ie=ht.data();i(Ie.username||"Usuario"),w(Number(Ie.balance)||0)}const it=vt(qe,"affiliates",_),Te=await Mo(it);if(Te.exists()){const Ie=Te.data();h(Ie.affiliateCode||""),v(Number(Ie.earnings)||0)}else{const Ie=`AFF-${Math.random().toString(36).substring(2,8).toUpperCase()}`;await ti(it,{username:s||"Nuevo Afiliado",email:o,affiliateCode:Ie,earnings:0,createdAt:Fr(),updatedAt:Fr()}),h(Ie)}}catch(Me){console.error("Error al manejar datos:",Me),A("Error al cargar datos")}finally{O(!1)}})()},[_,o,s]),k.useEffect(()=>{if(!_)return;(()=>{const Me=wr(Dt(qe,"pendingTopUps"),Or("userId","==",_));return gr(Me,it=>{const Te=it.docs.map(Ie=>({id:Ie.id,...Ie.data(),date:Ie.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(Ie.data().amount)||0}));ke(Te)},it=>{console.error("Error al obtener recargas:",it),A("Error al cargar recargas")})})()},[_]),k.useEffect(()=>{if(!d)return;const le=wr(Dt(qe,"users"),Or("referrerCode","==",d),X1("createdAt","desc"),jO(5)),Me=gr(le,ht=>{const it=ht.docs.map(Te=>({id:Te.id,...Te.data(),joinDate:Te.data().createdAt?.toDate()||new Date}));I(it)});return()=>Me()},[d]),k.useEffect(()=>{if(!d)return;const le=wr(Dt(qe,"users"),Or("referrerCode","==",d)),Me=gr(le,ht=>{const it=ht.docs.map(Te=>({id:Te.id,...Te.data(),joinDate:Te.data().createdAt?.toDate()||new Date}));x(it)});return()=>Me()},[d]),k.useEffect(()=>{if(!_)return;(()=>{const Me=wr(Dt(qe,"sales"),Or("customerId","==",_)),ht=gr(Me,Te=>{if(Te.empty){ye([]),O(!1);return}const Ie=Te.docs.map(Xe=>{const ze=Xe.data(),Oe=ze.saleDate?.toDate?.()||ze.createdAt?.toDate?.()||new Date;let He=ze.startDate?.toDate?.(),mt=He||Oe,pt=!1;He||(pt=!0);const hr=ze.durationDays||30;let Ht;ze.endDate?Ht=new Date(ze.endDate):(Ht=new Date(mt.getTime()+hr*24*60*60*1e3),pt=!0),pt&&Jr(vt(qe,"sales",Xe.id),{startDate:He||yr.fromDate(Oe),endDate:Ht.toISOString(),durationDays:hr}).catch(Qn=>{console.error("Error al actualizar startDate/endDate en Firestore:",Qn)});const Er=new Date,qr=Ht.getTime()-mt.getTime(),$r=Er.getTime()-mt.getTime(),Zr=Ht.getTime()-Er.getTime(),St=Math.ceil(qr/(1e3*60*60*24)),Wt=Math.max(0,Math.ceil(Zr/(1e3*60*60*24))),$t=Math.ceil($r/(1e3*60*60*24)),Br=St>0?$t/St*100:100,Pr=be[ze.providerId]?.terms||"No se especificaron términos y condiciones.";return{id:Xe.id,productName:ze.productName||"Producto sin nombre",category:ze.type||"netflix",price:parseFloat(ze.price)||0,provider:ze.provider||"No especificado",providerId:ze.providerId||"",providerPhone:ze.providerPhone||ze.providerWhatsapp||"51999999999",status:ze.status||"completed",saleDate:Oe,startDate:mt,endDate:Ht,durationDays:hr,daysRemaining:Wt,totalDays:St,timeElapsedPercentage:Br,account:{email:ze.accountDetails?.email||"No especificado",password:ze.accountDetails?.password||"No especificado",profile:ze.accountDetails?.profile||"No especificado",pin:ze.accountDetails?.pin||"No especificado"},client:{name:ze.customerName||"Cliente desconocido",email:ze.customerEmail||"No especificado",phone:ze.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BS-${Xe.id.slice(0,8).toUpperCase()}`,termsAndConditions:Pr,renewable:ze.renewable!==void 0?ze.renewable:!0}});ye(Ie),O(!1)},Te=>{console.error("Error al obtener pedidos:",Te),A("Error al cargar pedidos: "+Te.message),O(!1)}),it=setInterval(()=>{ye(Te=>Te.map(Ie=>{const Xe=new Date,ze=new Date(Ie.endDate).getTime()-new Date(Ie.startDate).getTime(),Rt=Xe.getTime()-new Date(Ie.startDate).getTime(),Oe=new Date(Ie.endDate).getTime()-Xe.getTime(),He=Math.ceil(ze/(1e3*60*60*24)),mt=Math.max(0,Math.ceil(Oe/(1e3*60*60*24))),pt=Math.ceil(Rt/(1e3*60*60*24)),hr=He>0?pt/He*100:100;return{...Ie,daysRemaining:mt,totalDays:He,timeElapsedPercentage:hr}}))},6e4);return()=>{ht(),clearInterval(it)}})()},[_,be]);const Et=async()=>{try{if(Y(Me=>({...Me,topUp:!0})),!ae||isNaN(ae)){Se("Error","Ingrese un monto válido");return}const le=parseFloat(ae);if(le<10){Se("Error","El monto mínimo de recarga es S/ 10.00");return}await Io(Dt(qe,"pendingTopUps"),{userId:_,username:s,amount:le,status:"pendiente",requestedAt:Fr(),processed:!1}),Ce(""),Se("Éxito","Solicitud de recarga enviada correctamente")}catch(le){console.error("Error al solicitar recarga:",le),Se("Error",le.message||"Error al enviar solicitud de recarga")}finally{Y(le=>({...le,topUp:!1}))}},dr=async le=>{try{Y(He=>({...He,[`renew_${le.id}`]:!0}));const Me=parseFloat(le.price)||0;if(T<Me){Se("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const ht=parseInt(le.durationDays)||30,it=yr.now(),Te=it.toDate(),Ie=new Date(Te.getTime()+ht*24*60*60*1e3),Xe=Ie.toISOString(),ze={customerId:_,customerName:le.client?.name||"Cliente desconocido",customerEmail:le.client?.email||o,phoneNumber:le.client?.phone||"No especificado",productName:le.productName||"Producto sin nombre",type:le.category||"netflix",price:Me,accountDetails:{email:le.account?.email||"No especificado",password:le.account?.password||"No especificado",profile:le.account?.profile||"No especificado",pin:le.account?.pin||"No especificado"},provider:le.provider||"Proveedor desconocido",providerId:le.providerId||"",providerPhone:le.providerPhone||le.providerWhatsapp||"51999999999",status:"completed",createdAt:it,saleDate:it,startDate:it,endDate:Xe,durationDays:ht,renewedAt:it,renewable:le.renewable!==void 0?le.renewable:!0},Rt=await Io(Dt(qe,"sales"),ze),Oe=vt(qe,"users",_);await Jr(Oe,{balance:T-Me}),w(He=>He-Me),ye(He=>[...He,{...ze,id:Rt.id,saleDate:Te,startDate:Te,endDate:Ie,account:ze.accountDetails,client:{name:ze.customerName,email:ze.customerEmail,phone:ze.phoneNumber},orderId:`BS-${Rt.id.slice(0,8).toUpperCase()}`,renewable:ze.renewable,daysRemaining:ht,totalDays:ht,timeElapsedPercentage:0,termsAndConditions:be[ze.providerId]?.terms||"No se especificaron términos y condiciones."}]),Se("Éxito","¡Pedido renovado exitosamente!")}catch(Me){console.error("Error al renovar el pedido:",Me),Se("Error","Error al renovar el pedido: "+Me.message)}finally{Y(Me=>({...Me,[`renew_${le.id}`]:!1}))}},kt=()=>{d&&(navigator.clipboard.writeText(d),B(!0),setTimeout(()=>B(!1),2e3))},Ue=le=>{if(!le)return"No especificada";try{const Me=le instanceof Date?le:new Date(le);return isNaN(Me.getTime())?"Fecha inválida":Me.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},nr=async()=>{try{await O0(Qr),Re("/")}catch(le){console.error("Error al cerrar sesión:",le),Se("Error",le.message||"Error al cerrar sesión")}},Ot=async le=>{le.preventDefault();try{Y(it=>({...it,password:!0}));const Me=le.target.password.value;if(!Me){Se("Error","Por favor, ingrese una nueva contraseña");return}if(Me.length<6){Se("Error","La contraseña debe tener al menos 6 caracteres");return}const ht=Qr.currentUser;ht&&(await av(ht,Me),Se("Éxito","Contraseña actualizada correctamente"),le.target.reset())}catch(Me){console.error("Error al actualizar la contraseña:",Me),Se("Error",Me.message||"Error al actualizar la contraseña")}finally{Y(Me=>({...Me,password:!1}))}},vr=()=>{if(j)return l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(ne)return l.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[l.jsx(Aa,{className:"mx-auto text-4xl text-red-400 mb-4"}),l.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),l.jsx("p",{className:"text-gray-300 mb-4",children:ne}),l.jsx("button",{onClick:()=>A(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(r){case"inicio":return l.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[l.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",l.jsx("span",{className:"text-cyan-400",children:s})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Información de cuenta"}),l.jsxs("div",{className:"space-y-2 text-gray-300",children:[l.jsxs("p",{className:"flex items-center",children:[l.jsx(Ca,{className:"mr-2 text-cyan-400"}),l.jsx("span",{children:s})]}),l.jsxs("p",{className:"flex items-center",children:[l.jsx(is,{className:"mr-2 text-cyan-400"}),l.jsx("span",{children:o})]})]})]}),l.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Saldo disponible"}),l.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",T.toFixed(2)]}),l.jsx("button",{onClick:()=>n("recargas"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Recargar"})]}),l.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[l.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Ganancias totales"}),l.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",y.toFixed(2)]}),l.jsx("button",{onClick:()=>n("ganancias"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Ver ganancias"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tu código de afiliado"}),l.jsxs("button",{onClick:kt,disabled:!d,className:`flex items-center gap-2 px-3 py-1 rounded-xl transition-all duration-300 ${d?"bg-cyan-900/80 text-cyan-400 hover:bg-cyan-800/80":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:[l.jsx(Cz,{size:16}),V?"¡Copiado!":"Copiar"]})]}),l.jsx("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 border border-gray-600/50",children:l.jsx("p",{className:"text-2xl font-bold text-center tracking-wider text-white",children:d||"Generando código..."})}),l.jsx("p",{className:"text-gray-300 mb-4",children:"Comparte este código con tus amigos para que se registren y ganes comisiones por sus compras."}),l.jsxs("div",{className:"bg-cyan-900/30 p-4 rounded-xl border border-cyan-800/50",children:[l.jsx("h4",{className:"font-medium text-cyan-400 mb-2",children:"Enlace de afiliado:"}),l.jsx("p",{className:"text-sm bg-gray-800/50 p-2 rounded-xl border border-gray-600/50 overflow-x-auto text-gray-300",children:d?`https://blackkstreaming.com/register?ref=${d}`:"Generando enlace..."})]})]}),l.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Referidos recientes"}),S.length>0?S.map(le=>l.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("p",{className:"font-medium text-white",children:le.username||"Sin nombre"}),l.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-900/80 text-green-400",children:"Activo"})]}),l.jsxs("p",{className:"text-sm text-gray-400",children:["Unido: ",Ue(le.joinDate)]})]},le.id)):l.jsx("p",{className:"text-gray-400 py-2",children:"No tienes referidos recientes"}),S.length>0&&l.jsx("button",{onClick:()=>n("referidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los referidos"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Pedidos recientes"}),ce.length>0?ce.slice(0,3).map(le=>{const Me=new Date(le.endDate)>new Date&&le.status==="completed",ht=le.status==="pending";return l.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("p",{className:"font-medium text-white",children:le.productName}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${ht?"bg-yellow-900/80 text-yellow-400":Me?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:ht?"A pedido":Me?"Activo":"Expirado"})]}),l.jsxs("p",{className:"text-sm text-gray-400",children:["Vence: ",Ue(le.endDate)]})]},le.id)}):l.jsx("p",{className:"text-gray-400 py-2",children:"No tienes pedidos recientes"}),ce.length>3&&l.jsx("button",{onClick:()=>n("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]}),l.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Notificaciones"}),R.length>0?R.map(le=>l.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[l.jsx("p",{className:"text-gray-300",children:le.message}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Ue(le.updatedAt)})]},le.id)):l.jsx("p",{className:"text-gray-400 py-2",children:"No hay notificaciones"})]})]})]});case"notificaciones":return l.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Notificaciones"}),R.length>0?l.jsx("div",{className:"space-y-4",children:R.map(le=>l.jsxs("div",{className:"border border-gray-600/50 rounded-2xl p-4 hover:bg-gray-700/50 transition-all duration-300",children:[l.jsx("p",{className:"text-gray-300",children:le.message}),l.jsx("p",{className:"text-xs text-gray-400 mt-2",children:Ue(le.updatedAt)})]},le.id))}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Tp,{className:"mx-auto text-4xl text-gray-400 mb-3"}),l.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay notificaciones"}),l.jsx("p",{className:"text-gray-400",children:"No tienes mensajes nuevos"})]})]});case"recargas":return l.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[l.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Recargar saldo"}),l.jsxs("div",{className:"max-w-md mx-auto",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),l.jsx("input",{type:"number",value:ae,onChange:le=>Ce(le.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mínimo S/ 10.00",min:"10",step:"0.01"})]}),l.jsx("button",{onClick:Et,disabled:M.topUp||!ae||parseFloat(ae)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${ae&&parseFloat(ae)>=10&&!M.topUp?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:M.topUp?l.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Solicitar recarga"}),l.jsxs("div",{className:"mt-6 bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[l.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[l.jsx(Ta,{className:"mr-2"})," ¿Cómo realizar tu recarga?"]}),l.jsxs("p",{className:"text-gray-300 mb-2",children:["Realiza tu pago mediante ",l.jsx("span",{className:"font-semibold text-white",children:"Yape"})," al número:"]}),l.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"📱 931757531"}),l.jsx("p",{className:"text-gray-300 mb-3",children:"Una vez realizado el pago, por favor contáctanos vía WhatsApp al mismo número para confirmar tu recarga."}),l.jsxs("a",{href:`https://wa.me/51931757531?text=${encodeURIComponent("Hola 😊, he realizado una recarga a través de Yape. Por favor, confirma mi pago.")}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300",children:[l.jsx(is,{className:"mr-2"})," Confirmar por WhatsApp"]})]})]})]}),l.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),Ge.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[l.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acción"})]})}),l.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:Ge.map(le=>{const Me=encodeURIComponent(`Hola, he pedido una recarga de S/ ${le.amount?.toFixed(2)||"0.00"} con el nombre ${s}. Adjunto la captura de mi pago, por favor.`);return l.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[l.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",le.amount?.toFixed(2)||"0.00"]}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${le.status==="aprobado"?"bg-green-900/80 text-green-400":le.status==="pendiente"?"bg-yellow-900/80 text-yellow-400":"bg-red-900/80 text-red-400"}`,children:le.status})}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-400",children:Ue(le.date)}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:le.status==="pendiente"?l.jsxs("a",{href:`https://wa.me/51940505969?text=${Me}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300 text-sm",children:[l.jsx(is,{className:"mr-2"})," Enviar captura"]}):l.jsx("span",{className:"text-gray-400 text-sm",children:"—"})})]},le.id)})})]})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Ta,{className:"mx-auto text-4xl text-gray-400 mb-3"}),l.jsx("p",{className:"text-gray-400",children:"No hay recargas registradas"})]})]})]});case"pedidos":return l.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:"Mis pedidos"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"Buscar pedidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:H,onChange:le=>D(le.target.value)}),l.jsx(ta,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),ce.length>0?l.jsx("div",{className:"space-y-6",children:ce.filter(le=>(le.productName||"").toLowerCase().includes(H.toLowerCase())||(le.orderId||"").toLowerCase().includes(H.toLowerCase())).map(le=>{const Me=parseFloat(le.price)||0,ht=new Date(le.endDate)>new Date&&le.status==="completed",it=le.status==="pending",Te=le.daysRemaining||0,Ie=le.timeElapsedPercentage||0;let Xe="bg-green-400";Ie>70&&Ie<=90?Xe="bg-yellow-400":Ie>90&&(Xe="bg-red-400");const ze=it?l.jsx(_m,{className:"text-yellow-400"}):ht?l.jsx(xu,{className:"text-green-400"}):l.jsx(Aa,{className:"text-red-400"}),Rt=encodeURIComponent(`*Consulta sobre Pedido - ${le.productName||"Sin nombre"}*

*N° Pedido:* ${le.orderId||"No especificado"}
*Producto:* ${le.productName||"No especificado"}
*Precio:* S/ ${Me.toFixed(2)}
*Estado:* ${it?"A pedido":ht?"Activo":"Expirado"}
*Fecha de Inicio:* ${Ue(le.startDate)}
*Fecha de Vencimiento:* ${Ue(le.endDate)}

`+(it?`Hola 😊, he comprado un producto a pedido (${le.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),Oe=encodeURIComponent(`😊 Estimado/a ${le.client?.name||"Cliente"} 😊

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📌 Tipo: ${le.productName||"Sin nombre"}.
🔢 Código: ${le.orderId||"No especificado"}
`+(it?"":`📧 Correo: ${le.account?.email||"No especificado"}
🔐 Contraseña: ${le.account?.password||"No especificado"}
👤 Perfil: ${le.account?.profile||"No especificado"}
📌 PIN: ${le.account?.pin||"No especificado"}
`)+`🌐 URL: Sin URL
📅 Fecha de creación: ${Ue(le.startDate)}
📅 Fecha de vencimiento: ${Ue(le.endDate)}
🏁 Días contratados: ${le.durationDays||30} días.

`+(it?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:"")+`*Términos y Condiciones:*
${le.termsAndConditions||"No se especificaron términos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),He=le.providerPhone?le.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return l.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[l.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[ze,l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-white",children:le.productName||"Producto sin nombre"}),le.orderId&&l.jsxs("p",{className:"text-xs text-gray-400",children:["N° Pedido: ",le.orderId]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",Me.toFixed(2)]}),l.jsx("p",{className:`text-xs font-medium ${it?"text-yellow-400":Xe.replace("bg-","text-")}`,children:it?"Pendiente de activación":`${Te} día${Te===1?"":"s"} restante${Te===1?"":"s"}`})]})]}),l.jsxs("div",{className:"p-4 bg-gray-700/50 backdrop-blur-sm",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"w-full bg-gray-600/50 rounded-full h-2.5",children:l.jsx("div",{className:`h-2.5 rounded-full ${Xe}`,style:{width:`${Math.min(Ie,100)}%`}})}),l.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-right",children:[Ie.toFixed(0),"% completado"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[l.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[l.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[l.jsx(Ca,{className:"mr-2"})," Detalles de la Cuenta"]}),l.jsx("div",{className:"space-y-2 text-gray-300",children:it?l.jsxs(l.Fragment,{children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium text-gray-400",children:"Usuario:"}),l.jsx("span",{className:"block text-white",children:"Por completar"})]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),l.jsx("span",{className:"block text-white",children:"Por completar"})]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),l.jsx("span",{className:"block text-white",children:"Por completar"})]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),l.jsx("span",{className:"block text-white",children:"Por completar"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),l.jsx("span",{className:"block text-white break-all",children:le.account?.email||"No especificado"})]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),l.jsx("span",{className:"block text-white break-all",children:le.account?.password||"No especificado"})]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),l.jsx("span",{className:"block text-white",children:le.account?.profile||"No especificado"})]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),l.jsx("span",{className:"block text-white",children:le.account?.pin||"No especificado"})]})]})})]}),l.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[l.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[l.jsx(Pz,{className:"mr-2"})," Información del Pedido"]}),l.jsxs("div",{className:"space-y-2 text-gray-300",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),l.jsx("span",{className:"block text-white",children:le.provider||"No especificado"})]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono del Proveedor:"}),l.jsx("span",{className:"block text-white",children:le.providerPhone||"No especificado"})]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium text-gray-400",children:"Estado:"}),l.jsx("span",{className:`block px-2 py-1 text-xs rounded-full ${it?"bg-yellow-900/80 text-yellow-400":ht?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:it?"A pedido":ht?"Activo":"Expirado"})]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium text-gray-400",children:"Método de Pago:"}),l.jsx("span",{className:"block text-white",children:"BlackStreaming"})]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de inicio:"}),l.jsx("span",{className:"block text-white",children:Ue(le.startDate)})]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de vencimiento:"}),l.jsx("span",{className:"block text-white",children:Ue(le.endDate)})]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium text-gray-400",children:"Días restantes:"}),l.jsx("span",{className:`block ${Xe.replace("bg-","text-")}`,children:Te})]})]})]}),l.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[l.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[l.jsx(Ca,{className:"mr-2"})," Información del Cliente"]}),l.jsxs("div",{className:"space-y-2 text-gray-300",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),l.jsx("span",{className:"block text-white",children:le.client?.name||"No especificado"})]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono:"}),l.jsx("span",{className:"block text-white",children:le.client?.phone||"No especificado"})]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),l.jsx("span",{className:"block text-white",children:le.client?.email||"No especificado"})]})]})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("a",{href:`https://wa.me/51${He}?text=${Rt}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[l.jsx(is,{size:18})," Contactar Proveedor"]}),le.renewable&&l.jsx("button",{onClick:()=>dr(le),disabled:M[`renew_${le.id}`],className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 ${M[`renew_${le.id}`]?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:M[`renew_${le.id}`]?l.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):l.jsxs(l.Fragment,{children:[l.jsx(MA,{size:18})," Renovar Pedido"]})}),le.client?.phone&&l.jsxs("a",{href:`https://wa.me/${le.client.phone.replace(/^\+/,"")}?text=${Oe}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[l.jsx(is,{size:18})," Contactar Cliente"]})]})]})]},le.id)})}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(vu,{className:"mx-auto text-4xl text-gray-400 mb-3"}),l.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes pedidos registrados"}),l.jsx("p",{className:"text-gray-400",children:"Realiza tu primer pedido en nuestra tienda"})]})]});case"referidos":return l.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:["Todos tus referidos (",p.length,")"]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"Buscar referidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:H,onChange:le=>D(le.target.value)}),l.jsx(ta,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),p.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[l.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha de registro"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),l.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:p.filter(le=>{const Me=le.username||"",ht=le.email||"";return Me.toLowerCase().includes(H.toLowerCase())||ht.toLowerCase().includes(H.toLowerCase())}).map(le=>l.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:le.username||"Sin nombre"}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:le.email||"Sin email"}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:le.joinDate?Ue(le.joinDate):"No especificada"}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:l.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900/80 text-green-400",children:le.status||"Activo"})})]},le.id))})]})}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(YE,{className:"mx-auto text-4xl text-gray-400 mb-3"}),l.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes referidos aún"}),l.jsx("p",{className:"text-gray-400",children:"Comparte tu código de afiliado para empezar a ganar comisiones"})]})]});case"ganancias":return l.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Reporte de ganancias"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[l.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias hoy"}),l.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),l.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde ayer"})]}),l.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[l.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias esta semana"}),l.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),l.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde la semana pasada"})]}),l.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[l.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias totales"}),l.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",y.toFixed(2)]}),l.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[p.length," referidos"]})]})]}),l.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[l.jsxs("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[l.jsx(XE,{className:"mr-2 text-cyan-400"})," Historial de comisiones"]}),p.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[l.jsx("thead",{className:"bg-gray-800/50 backdrop-blur-sm",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Referido"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Origen"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),l.jsx("tbody",{className:"bg-gray-700/50 divide-y divide-gray-600/50",children:p.map(le=>l.jsxs("tr",{className:"hover:bg-gray-600/50 transition-all duration-300",children:[l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:le.username||"Usuario sin nombre"}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:le.joinDate?Ue(le.joinDate):"No especificada"}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:"S/ 0.00"}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:"Registro"}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:l.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-900/80 text-yellow-400",children:"Pendiente"})})]},le.id))})]})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Ta,{className:"mx-auto text-4xl text-gray-400 mb-3"}),l.jsx("p",{className:"text-gray-400",children:"No hay comisiones registradas"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gana comisiones cuando tus referidos realicen compras"})]})]})]});case"configuracion":return l.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[l.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuración de cuenta"}),l.jsxs("form",{onSubmit:Ot,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"text",value:s,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"}),l.jsx("button",{type:"button",onClick:()=>Qe({id:_,username:s}),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-all duration-300",title:"Editar Nombre",children:l.jsx(Iz,{size:16})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico"}),l.jsx("input",{type:"email",value:o,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contraseña (opcional)"}),l.jsx("input",{type:"password",name:"password",placeholder:"Nueva contraseña",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),l.jsx("button",{type:"submit",disabled:M.password,className:"w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium mt-4 transition-all duration-300 disabled:bg-cyan-800",children:M.password?l.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar cambios"})]}),l.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:l.jsxs("button",{onClick:nr,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[l.jsx(Np,{})," Cerrar sesión"]})})]});default:return l.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[l.jsx(Aa,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),l.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),l.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),l.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[l.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:l.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:l.jsx(Dz,{className:"text-xl"})})}),l.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:l.jsxs("div",{className:"p-4 flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),l.jsx("button",{onClick:()=>e(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:l.jsx(Bs,{className:"text-lg"})})]}),l.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:s.charAt(0).toUpperCase()}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-white",children:s}),l.jsx("p",{className:"text-xs text-gray-400",children:"Afiliador"})]})]}),l.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Rz},{id:"notificaciones",label:"Notificaciones",icon:Tp},{id:"recargas",label:"Recargas",icon:Ta},{id:"pedidos",label:"Pedidos",icon:vu},{id:"referidos",label:"Referidos",icon:YE},{id:"ganancias",label:"Ganancias",icon:XE},{id:"configuracion",label:"Configuración",icon:VA}].map(le=>l.jsxs("button",{onClick:()=>{n(le.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===le.id?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"text-gray-300 hover:bg-gray-800/50 hover:text-cyan-400"}`,children:[l.jsx(le.icon,{className:"text-lg"}),l.jsx("span",{children:le.label})]},le.id))}),l.jsx("div",{className:"mt-auto pt-6",children:l.jsxs("button",{onClick:nr,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-900/20 rounded-xl transition-all duration-300 border border-red-900/50",children:[l.jsx(Np,{className:"text-lg"}),l.jsx("span",{children:"Cerrar Sesión"})]})})]})}),l.jsx("main",{className:"md:ml-64 p-4 sm:p-6 min-h-screen",children:vr()}),l.jsx(CQ,{isOpen:Q.isOpen,title:Q.title,message:Q.message,onClose:pe}),l.jsx(IQ,{isOpen:re.isOpen,user:re.user,onClose:yt,onSave:Gt}),t&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>e(!1)})]})},RQ=({isOpen:t,message:e,title:r,onClose:n})=>t?l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:r}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:l.jsx(Bs,{size:20})})]}),l.jsx("p",{className:"text-gray-300 mb-6",children:e}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,jQ=({username:t="Usuario",products:e=[],orders:r=[],providerBalance:n=0,balanceLoading:s=!1,totalStock:i=0,totalEarnings:o=0,isAdmin:u=!1,email:d="",notifications:h=[],setActiveSection:p=()=>{},formatDate:x=v=>new Date(v).toLocaleDateString(),theme:y="dark"})=>{const v=y==="dark",T={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}};return l.jsxs(ie.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl max-w-6xl mx-auto border ${v?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[l.jsxs("h2",{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r ${v?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:["Bienvenido, ",l.jsx("span",{className:"text-red-400",children:t})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs(ie.div,{className:`rounded-2xl p-4 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:T,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsxs("h3",{className:`text-lg font-semibold mb-3 ${v?"text-blue-400":"text-blue-600"} flex items-center`,children:[l.jsx(FA,{className:"mr-2"})," Inventario"]}),l.jsx("p",{className:`text-3xl font-bold ${v?"text-white":"text-gray-900"}`,children:e.length}),l.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:"Productos registrados"}),l.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:["Stock total: ",i]}),l.jsx(ie.button,{onClick:()=>p("inventario"),className:`mt-4 px-4 py-2 text-white rounded-xl transition-all duration-300 bg-gradient-to-r ${v?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50`,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Ver inventario"})]}),l.jsxs(ie.div,{className:`rounded-2xl p-4 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:T,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsxs("h3",{className:`text-lg font-semibold mb-3 ${v?"text-blue-400":"text-blue-600"} flex items-center`,children:[l.jsx(Ta,{className:"mr-2"})," Ganancias"]}),s?l.jsx("div",{className:`animate-pulse ${v?"text-gray-400":"text-gray-600"}`,children:"Cargando..."}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:`text-3xl font-bold ${v?"text-white":"text-gray-900"}`,children:["S/ ",o.toFixed(2)]}),l.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:[r.length," ventas realizadas"]}),l.jsxs("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:["Disponible: S/ ",n.toFixed(2)]})]}),l.jsx(ie.button,{onClick:()=>p("ganancias"),className:`mt-4 px-4 py-2 text-white rounded-xl transition-all duration-300 bg-gradient-to-r ${v?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50`,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Ver ganancias"})]}),l.jsxs(ie.div,{className:`rounded-2xl p-4 border shadow-xl backdrop-blur-sm ${v?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:T,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsxs("h3",{className:`text-lg font-semibold mb-3 ${v?"text-blue-400":"text-blue-600"} flex items-center`,children:[l.jsx(Ca,{className:"mr-2"})," Mi Cuenta"]}),l.jsxs("div",{className:`space-y-3 ${v?"text-gray-300":"text-gray-700"}`,children:[l.jsxs("p",{className:"flex items-center",children:[l.jsx(Ca,{className:`mr-2 ${v?"text-blue-400":"text-blue-600"}`,size:18}),l.jsx("span",{children:t})]}),l.jsxs("p",{className:"flex items-center",children:[l.jsx(is,{className:`mr-2 ${v?"text-blue-400":"text-blue-600"}`,size:18}),l.jsx("span",{children:d})]}),l.jsx("p",{className:`text-xs px-2 py-1 rounded-full inline-block border ${v?"bg-gray-900/80 text-blue-400 border-gray-700/50":"bg-gray-200/80 text-blue-600 border-gray-300/50"}`,children:u?"Administrador":"Proveedor"})]}),l.jsx(ie.button,{onClick:()=>p("configuracion"),className:`mt-4 px-4 py-2 text-white rounded-xl transition-all duration-300 bg-gradient-to-r ${v?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50`,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Editar perfil"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[l.jsxs(ie.div,{className:`rounded-2xl p-4 shadow-xl border backdrop-blur-sm ${v?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:T,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsxs("h3",{className:`text-lg font-semibold mb-3 ${v?"text-white":"text-gray-900"} flex items-center`,children:[l.jsx(vu,{className:"mr-2"})," Pedidos recientes"]}),r.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(vu,{className:`mx-auto text-4xl ${v?"text-gray-400":"text-gray-500"}`}),l.jsx("h4",{className:`text-lg font-medium ${v?"text-gray-300":"text-gray-700"}`,children:"No hay pedidos recientes"}),l.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:"Tus pedidos aparecerán aquí"})]}):l.jsxs("div",{className:"overflow-x-auto",children:[l.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[l.jsx("thead",{className:`${v?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:l.jsxs("tr",{children:[l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Comprador"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Monto"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${v?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Estado"})]})}),l.jsx("tbody",{className:`${v?"bg-gray-800/70":"bg-gray-100/70"} divide-y divide-gray-700/50`,children:r.slice(0,3).map((w,_)=>{const C=new Date(w.endDate)>new Date&&w.status==="completed",j=w.status==="pending";return l.jsxs(ie.tr,{className:`${v?"hover:bg-gray-700/50":"hover:bg-gray-200/50"} transition-all duration-300`,whileHover:{backgroundColor:v?"rgba(55, 65, 81, 0.5)":"rgba(229, 231, 235, 0.5)"},children:[l.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm font-medium ${v?"text-white":"text-gray-900"} truncate max-w-xs`,children:w.productName}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${v?"text-gray-300":"text-gray-700"}`,children:w.buyer}),l.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${v?"text-gray-300":"text-gray-700"}`,children:["S/ ",(w.amount||0).toFixed(2)]}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${j?v?"bg-yellow-900/80 text-yellow-400 border border-yellow-500/50":"bg-yellow-500/20 text-yellow-600 border border-yellow-500/50":C?v?"bg-green-900/80 text-green-400 border border-green-500/50":"bg-green-500/20 text-green-600 border border-green-500/50":v?"bg-red-900/80 text-red-400 border border-red-500/50":"bg-red-500/20 text-red-600 border border-red-500/50"}`,children:j?"A pedido":C?"Activo":"Expirado"})})]},_)})})]}),r.length>3&&l.jsx(ie.button,{onClick:()=>p("pedidos"),className:`w-full mt-3 text-center text-sm transition-all duration-300 ${v?"text-blue-400 hover:underline":"text-blue-600 hover:underline"}`,whileHover:{scale:1.05},children:"Ver todos los pedidos"})]})]}),l.jsxs(ie.div,{className:`rounded-2xl p-4 shadow-xl border backdrop-blur-sm ${v?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:T,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsxs("h3",{className:`text-lg font-semibold mb-3 ${v?"text-white":"text-gray-900"} flex items-center`,children:[l.jsx(is,{className:"mr-2"})," Notificaciones"]}),h.length>0?h.map(w=>l.jsxs(ie.div,{className:`border-b py-3 last:border-0 hover:rounded-xl hover:px-2 transition-all duration-300 ${v?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,whileHover:{backgroundColor:v?"rgba(55, 65, 81, 0.5)":"rgba(229, 231, 235, 0.5)"},children:[l.jsx("p",{className:`${v?"text-gray-300":"text-gray-700"}`,children:w.message}),l.jsx("p",{className:`text-xs mt-1 ${v?"text-gray-400":"text-gray-500"}`,children:x(w.updatedAt?.toDate?.()||new Date)})]},w.id)):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(is,{className:`mx-auto text-4xl ${v?"text-gray-400":"text-gray-500"}`}),l.jsx("h4",{className:`text-lg font-medium ${v?"text-gray-300":"text-gray-700"}`,children:"No hay notificaciones"}),l.jsx("p",{className:`text-sm ${v?"text-gray-400":"text-gray-600"}`,children:"Tus notificaciones aparecerán aquí"})]})]})]})]})},DQ=({products:t,setActiveSection:e,handleEdit:r,handleDelete:n,getCategoryDisplayName:s,totalStock:i,theme:o="dark"})=>{const u=o==="dark",d={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}},h={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:u?"rgba(55, 65, 81, 0.5)":"rgba(229, 231, 235, 0.5)"}};return l.jsxs(ie.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[l.jsx("h2",{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Inventario"}),l.jsxs(ie.button,{onClick:()=>e("subirProducto"),className:`px-4 py-2 text-white rounded-xl transition-all duration-300 bg-gradient-to-r ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 flex items-center w-full md:w-auto justify-center`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[l.jsx(KE,{className:"mr-2"})," Nuevo Producto"]})]}),t.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[l.jsx("thead",{className:`${u?"bg-gray-900/80":"bg-gray-200/80"} backdrop-blur-sm`,children:l.jsxs("tr",{children:[l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Producto"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Precio"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Stock"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Estado"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${u?"text-gray-300":"text-gray-600"} uppercase tracking-wider`,children:"Acciones"})]})}),l.jsx("tbody",{className:`${u?"bg-gray-800/70":"bg-gray-100/70"} divide-y divide-gray-700/50`,children:t.map(p=>l.jsxs(ie.tr,{className:`${u?"hover:bg-gray-700/50":"hover:bg-gray-200/50"} transition-all duration-300`,variants:h,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center",children:[p.image&&l.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:l.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:p.image,alt:p.name,loading:"lazy"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("div",{className:`text-sm font-medium ${u?"text-white":"text-gray-900"} truncate max-w-xs`,children:p.name}),l.jsx("div",{className:`text-xs ${u?"text-gray-400":"text-gray-600"}`,children:s(p.category)})]})]})}),l.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:["S/ ",(parseFloat(p.price)||0).toFixed(2)]}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-700"}`,children:p.stock||0}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${p.status==="En stock"?u?"bg-green-900/80 text-green-400 border border-green-500/50":"bg-green-500/20 text-green-600 border border-green-500/50":p.status==="A pedido"?u?"bg-yellow-900/80 text-yellow-400 border border-yellow-500/50":"bg-yellow-500/20 text-yellow-600 border border-yellow-500/50":u?"bg-red-900/80 text-red-400 border border-red-500/50":"bg-red-500/20 text-red-600 border border-red-500/50"}`,children:p.status})}),l.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:[l.jsx(ie.button,{onClick:()=>r(p),className:`${u?"text-blue-400 hover:text-blue-500":"text-blue-600 hover:text-blue-700"} mr-3`,title:"Editar",whileHover:{scale:1.1},whileTap:{scale:.9},children:l.jsx(LA,{})}),l.jsx(ie.button,{onClick:()=>n(p.id),className:`${u?"text-red-400 hover:text-red-500":"text-red-600 hover:text-red-700"}`,title:"Eliminar",whileHover:{scale:1.1},whileTap:{scale:.9},children:l.jsx(BA,{})})]})]},p.id))})]})}):l.jsxs(ie.div,{className:`text-center py-12 ${u?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"} rounded-2xl border shadow-xl backdrop-blur-sm`,variants:d,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsx(FA,{className:`mx-auto text-4xl ${u?"text-gray-400":"text-gray-500"} mb-3`}),l.jsx("h4",{className:`text-lg font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"No tienes productos registrados"}),l.jsx("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"} mb-4`,children:"Agrega tu primer producto para comenzar"}),l.jsxs(ie.button,{onClick:()=>e("subirProducto"),className:`px-4 py-2 text-white rounded-xl transition-all duration-300 bg-gradient-to-r ${u?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 flex items-center mx-auto`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[l.jsx(KE,{className:"mr-2"})," Agregar Producto"]})]})]})},OQ=({soldAccounts:t,formatDate:e,theme:r="dark"})=>{const n=r==="dark",s={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},i={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:n?"rgba(239, 68, 68, 0.2)":"rgba(239, 68, 68, 0.1)",transition:{duration:.2}}};return l.jsxs(ie.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl max-w-6xl mx-auto border ${n?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,variants:s,initial:"hidden",animate:"visible",children:[l.jsxs("h3",{className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight mb-6 flex items-center bg-clip-text text-transparent bg-gradient-to-r ${n?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:[l.jsx(GE,{className:"mr-2"})," Cuentas Vendidas"]}),t.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[l.jsx("thead",{className:`backdrop-blur-sm ${n?"bg-gray-900/80":"bg-gray-200/80"}`,children:l.jsxs("tr",{children:[l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-gray-300":"text-gray-700"}`,children:"Producto"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-gray-300":"text-gray-700"}`,children:"Email"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-gray-300":"text-gray-700"}`,children:"Perfil"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-gray-300":"text-gray-700"}`,children:"Fecha de Venta"})]})}),l.jsx("tbody",{className:`divide-y divide-gray-700/50 ${n?"bg-gray-800/70":"bg-gray-100/70"}`,children:t.map((o,u)=>l.jsxs(ie.tr,{variants:i,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-white":"text-gray-900"}`,children:o.productName}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-600"}`,children:o.email}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-600"}`,children:o.profile||"N/A"}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${n?"text-gray-300":"text-gray-600"}`,children:e(o.saleDate)})]},u))})]})}):l.jsxs(ie.div,{className:"text-center py-12",variants:s,initial:"hidden",animate:"visible",children:[l.jsx(GE,{className:`mx-auto text-4xl ${n?"text-gray-400":"text-gray-500"} mb-3`}),l.jsx("h4",{className:`text-lg font-medium ${n?"text-gray-300":"text-gray-700"}`,children:"No hay cuentas vendidas"}),l.jsx("p",{className:`text-sm ${n?"text-gray-400":"text-gray-600"}`,children:"Las cuentas vendidas aparecerán aquí"})]})]})},FQ=({product:t,setProduct:e,handleChange:r,handleFileChange:n,handleStockChange:s,handleAccountFieldChange:i,handleSubmit:o,setActiveSection:u,theme:d="dark"})=>{const h=d==="dark",p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}};return l.jsxs(ie.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl max-w-4xl mx-auto border ${h?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[l.jsx("h2",{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r ${h?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Subir Nuevo Producto"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs(ie.div,{className:`col-span-1 rounded-2xl p-4 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsx("label",{className:`block text-lg font-semibold mb-2 ${h?"text-gray-300":"text-gray-700"}`,children:"Imagen del producto"}),l.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl ${h?"bg-gray-900/80 border-gray-700/50":"bg-gray-200/80 border-gray-300/50"}`,children:t.image?l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:t.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain",loading:"lazy"}),l.jsx(ie.button,{type:"button",onClick:()=>e({...t,image:""}),className:`absolute top-0 right-0 ${h?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:l.jsx(Bs,{size:16})})]}):l.jsxs(l.Fragment,{children:[l.jsx(UA,{className:`mx-auto h-12 w-12 ${h?"text-gray-400":"text-gray-500"}`}),l.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:l.jsxs("label",{htmlFor:"file-upload",className:`relative cursor-pointer rounded-xl font-medium ${h?"bg-gray-900/50 text-blue-400 hover:text-blue-500":"bg-gray-200/50 text-blue-600 hover:text-blue-700"} focus-within:outline-none`,children:[l.jsx("span",{children:"Subir una imagen"}),l.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:x=>n(x),accept:"image/*"})]})}),l.jsx("p",{className:`text-xs ${h?"text-gray-500":"text-gray-600"}`,children:"PNG, JPG, GIF hasta 10MB"})]})})]}),l.jsxs(ie.div,{className:`col-span-1 space-y-4 rounded-2xl p-4 border shadow-xl backdrop-blur-sm ${h?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${h?"text-gray-300":"text-gray-700"}`,children:"Nombre del producto*"}),l.jsx("input",{type:"text",name:"name",value:t.name,onChange:r,className:`w-full px-4 py-2 rounded-xl ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${h?"text-gray-300":"text-gray-700"}`,children:"Categoría*"}),l.jsxs("select",{name:"category",value:t.category,onChange:r,className:`w-full px-4 py-2 rounded-xl ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all`,children:[l.jsx("option",{value:"Netflix",children:"Netflix"}),l.jsx("option",{value:"Spotify",children:"Spotify"}),l.jsx("option",{value:"Disney",children:"Disney+"}),l.jsx("option",{value:"Max",children:"Max"}),l.jsx("option",{value:"Prime Video",children:"Prime Video"}),l.jsx("option",{value:"Vix",children:"Vix"}),l.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),l.jsx("option",{value:"Canva",children:"Canva"}),l.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),l.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),l.jsx("option",{value:"Dgo",children:"DGO"}),l.jsx("option",{value:"Liga Max",children:"Liga Max"}),l.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),l.jsx("option",{value:"Youtube",children:"YouTube"}),l.jsx("option",{value:"Deezer",children:"Deezer"}),l.jsx("option",{value:"Tidal",children:"Tidal"}),l.jsx("option",{value:"Vpn",children:"VPN"}),l.jsx("option",{value:"WinTv",children:"WinTV"}),l.jsx("option",{value:"Apple Music",children:"Apple Music"}),l.jsx("option",{value:"Apple Tv",children:"Apple TV"}),l.jsx("option",{value:"Iptv",children:"IPTV"}),l.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),l.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),l.jsx("option",{value:"Pornhub",children:"Pornhub"}),l.jsx("option",{value:"Paramount",children:"Paramount"}),l.jsx("option",{value:"Licencias",children:"Licencias"}),l.jsx("option",{value:"Capcut",children:"Capcut"}),l.jsx("option",{value:"Duolingo",children:"Duolingo"}),l.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${h?"text-gray-300":"text-gray-700"}`,children:"Tipo de cuenta*"}),l.jsxs("select",{name:"accountType",value:t.accountType,onChange:r,className:`w-full px-4 py-2 rounded-xl ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all`,children:[l.jsx("option",{value:"Premium",children:"Premium"}),l.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${h?"text-gray-300":"text-gray-700"}`,children:"Estado*"}),l.jsxs("select",{name:"status",value:t.status,onChange:r,className:`w-full px-4 py-2 rounded-xl ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all`,children:[l.jsx("option",{value:"En stock",children:"En stock"}),l.jsx("option",{value:"A pedido",children:"A pedido"}),l.jsx("option",{value:"Agotado",children:"Agotado"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${h?"text-gray-300":"text-gray-700"}`,children:"Stock*"}),l.jsx("input",{type:"number",name:"stock",value:t.status==="Agotado"?0:t.stock,onChange:s,className:`w-full px-4 py-2 rounded-xl ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all ${t.status==="Agotado"?"opacity-50 cursor-not-allowed":""}`,min:"0",required:!0,disabled:t.status==="Agotado"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${h?"text-gray-300":"text-gray-700"}`,children:"Precio (S/)*"}),l.jsx("input",{type:"number",name:"price",value:t.price,onChange:r,className:`w-full px-4 py-2 rounded-xl ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"renewal",checked:t.renewal,onChange:r,className:`h-4 w-4 ${h?"text-blue-400 focus:ring-blue-400 border-gray-600/50":"text-blue-600 focus:ring-blue-600 border-gray-300/50"} rounded`}),l.jsx("label",{className:`ml-2 ${h?"text-gray-300":"text-gray-700"}`,children:"¿Tiene renovación?"})]})]}),t.renewal&&l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${h?"text-gray-300":"text-gray-700"}`,children:"Precio de renovación (S/)*"}),l.jsx("input",{type:"number",name:"renewalPrice",value:t.renewalPrice,onChange:r,className:`w-full px-4 py-2 rounded-xl ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${h?"text-gray-300":"text-gray-700"}`,children:"Duración (días)"}),l.jsx("input",{type:"number",name:"duration",value:t.duration,onChange:r,className:`w-full px-4 py-2 rounded-xl ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Dejar vacío para ilimitado",min:"1"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:`block text-gray-300 mb-2 ${h?"text-gray-300":"text-gray-700"}`,children:["Teléfono de contacto ",t.status==="A pedido"?"*":""]}),l.jsx("input",{type:"text",name:"providerPhone",value:t.providerPhone,onChange:r,className:`w-full px-4 py-2 rounded-xl ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: +51 987654321",required:t.status==="A pedido"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${h?"text-gray-300":"text-gray-700"}`,children:"URL del producto (opcional)"}),l.jsx("input",{type:"url",name:"productUrl",value:t.productUrl||"",onChange:r,className:`w-full px-4 py-2 rounded-xl ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: https://www.ejemplo.com/producto"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${h?"text-gray-300":"text-gray-700"}`,children:"Detalles del producto"}),l.jsx("textarea",{name:"details",value:t.details,onChange:r,rows:"3",className:`w-full px-4 py-2 rounded-xl ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Describe los detalles y características del producto"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${h?"text-gray-300":"text-gray-700"}`,children:"Términos y condiciones"}),l.jsx("textarea",{name:"terms",value:t.terms,onChange:r,rows:"3",className:`w-full px-4 py-2 rounded-xl ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Especifica los términos y condiciones de uso"})]}),t.status==="En stock"&&l.jsxs(ie.div,{className:`rounded-2xl p-4 shadow-xl border backdrop-blur-sm ${h?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsx("label",{className:`block text-lg font-semibold mb-2 ${h?"text-white":"text-gray-900"}`,children:"Cuentas asociadas*"}),l.jsx("p",{className:`text-xs mb-3 ${h?"text-gray-400":"text-gray-600"}`,children:"Debe completar todas las cuentas según el stock indicado"}),l.jsx("div",{className:"space-y-4",children:t.accounts.map((x,y)=>l.jsxs(ie.div,{className:`border rounded-xl p-4 ${h?"bg-gray-900/70 border-gray-700/50":"bg-gray-200/70 border-gray-300/50"} backdrop-blur-sm`,variants:p,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsxs("h4",{className:`text-sm font-medium ${h?"text-white":"text-gray-900"} mb-3`,children:["Cuenta ",y+1]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Correo electrónico*"}),l.jsx("input",{type:"email",value:x.email,onChange:v=>i(y,"email",v.target.value),className:`w-full px-3 py-2 rounded-xl ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-sm`,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Contraseña*"}),l.jsx("input",{type:"text",value:x.password,onChange:v=>i(y,"password",v.target.value),className:`w-full px-3 py-2 rounded-xl ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-sm`,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"Perfil (opcional)"}),l.jsx("input",{type:"text",value:x.profile,onChange:v=>i(y,"profile",v.target.value),className:`w-full px-3 py-2 rounded-xl ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-sm`,placeholder:"Ej: Perfil 1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${h?"text-gray-400":"text-gray-600"} mb-1`,children:"PIN (opcional)"}),l.jsx("input",{type:"text",value:x.pin,onChange:v=>i(y,"pin",v.target.value),className:`w-full px-3 py-2 rounded-xl ${h?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-sm`,placeholder:"Ej: 1234"})]})]})]},y))})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[l.jsx(ie.button,{onClick:()=>u("inventario"),className:`px-4 py-2 rounded-xl transition-all duration-300 ${h?"bg-gray-900/70 text-gray-300 hover:bg-gray-700/50":"bg-gray-200/70 text-gray-700 hover:bg-gray-300/50"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50`,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancelar"}),l.jsx(ie.button,{onClick:o,className:`px-6 py-2 text-white rounded-xl transition-all duration-300 bg-gradient-to-r ${h?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50`,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Subir Producto"})]})]})]})},LQ=({orders:t,totalEarnings:e,providerBalance:r,balanceLoading:n,getCategoryDisplayName:s,formatDate:i,theme:o="dark"})=>{const u=o==="dark",d={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}},p={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:u?"rgba(239, 68, 68, 0.2)":"rgba(239, 68, 68, 0.1)",transition:{duration:.2}}};return l.jsxs(ie.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl max-w-6xl mx-auto border ${u?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,variants:d,initial:"hidden",animate:"visible",children:[l.jsxs("h3",{className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight mb-6 flex items-center bg-clip-text text-transparent bg-gradient-to-r ${u?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:[l.jsx(Ta,{className:"mr-2"})," Ganancias"]}),l.jsx(ie.div,{className:`rounded-2xl p-4 mb-6 border shadow-xl backdrop-blur-sm ${u?"bg-gray-900/80 border-gray-700/50":"bg-gray-100/80 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",whileHover:"hover",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[l.jsxs("div",{children:[l.jsx("h4",{className:`text-lg font-medium ${u?"text-white":"text-gray-900"} mb-1`,children:"Ganancias totales"}),l.jsxs("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:[t.length," ventas realizadas"]}),n?l.jsx("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:"Disponible: Cargando..."}):l.jsxs("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:["Disponible: S/ ",(r||0).toFixed(2)]})]}),l.jsxs("div",{className:`text-3xl font-bold ${u?"text-white":"text-gray-900"} mt-2 md:mt-0`,children:["S/ ",e.toFixed(2)]})]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[l.jsx("thead",{className:`backdrop-blur-sm ${u?"bg-gray-900/80":"bg-gray-200/80"}`,children:l.jsxs("tr",{children:[l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Producto"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Categoría"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Comprador"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Contacto"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Fecha"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Monto"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${u?"text-gray-300":"text-gray-700"}`,children:"Estado"})]})}),l.jsx("tbody",{className:`divide-y divide-gray-700/50 ${u?"bg-gray-800/70":"bg-gray-100/70"}`,children:t.map((x,y)=>l.jsxs(ie.tr,{variants:p,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${u?"text-white":"text-gray-900"}`,children:x.productName}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-600"}`,children:s(x.category)}),l.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[l.jsx("div",{className:`text-sm ${u?"text-white":"text-gray-900"}`,children:x.buyer}),l.jsx("div",{className:`text-xs ${u?"text-gray-400":"text-gray-600"}`,children:x.buyerEmail})]}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-600"}`,children:x.buyerPhone}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-gray-300":"text-gray-600"}`,children:i(x.saleDate)}),l.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${u?"text-white":"text-gray-900"}`,children:["S/ ",(x.amount||0).toFixed(2)]}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${u?"bg-blue-500/20 text-blue-400 border-blue-500/50":"bg-blue-600/20 text-blue-600 border-blue-600/50"}`,children:"Completado"})})]},y))})]})}),t.length===0&&l.jsxs(ie.div,{className:"text-center py-12",variants:d,initial:"hidden",animate:"visible",children:[l.jsx(Ta,{className:`mx-auto text-4xl ${u?"text-gray-400":"text-gray-500"} mb-3`}),l.jsx("h4",{className:`text-lg font-medium ${u?"text-gray-300":"text-gray-700"}`,children:"No hay ventas registradas"}),l.jsx("p",{className:`text-sm ${u?"text-gray-400":"text-gray-600"}`,children:"Tus ventas aparecerán aquí."})]})]})},MQ=({orders:t,searchQuery:e,setSearchQuery:r,getCategoryDisplayName:n,formatDate:s,handleEditOrder:i,handleActivateOrder:o,handleDeleteOrder:u,theme:d="dark"})=>{const h=d==="dark",p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},x={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:h?"#1F2937":"#F3F4F6",transition:{duration:.2}}},y=()=>{const v=t.map(C=>{const j=C.status||"pending",O=j==="pending",M=j==="soporte",Y=j==="rechazado",ne=j==="refunded",A=new Date(C.endDate)>new Date,S=C.daysRemaining||0;let I;M?I="En Soporte":Y?I="No aplica soporte":ne?I="Reembolsado":A?I="Activo":O?I="Pendiente":I="Expirado";const V=M||Y||ne||O&&!A;let B;return V?B=I:B=`${S} día${S===1?"":"s"}`,{Estado:I,Producto:C.productName||"Sin nombre",Categoría:n(C.category),Proveedor:C.provider||"N/A",Monto:`S/ ${(C.amount||0).toFixed(2)}`,"Tiempo Restante":B,"Fecha de Inicio":C.startDate?s(C.startDate):"N/A","Fecha de Vencimiento":C.endDate?s(C.endDate):"N/A",Comprador:C.buyer||"N/A",Teléfono:C.buyerPhone||"N/A",Email:C.accountDetails?.email||"N/A",Contraseña:C.accountDetails?.password||"N/A",Perfil:C.accountDetails?.profile||"N/A",PIN:C.accountDetails?.pin||"N/A"}}),T=ja.json_to_sheet(v),w=ja.book_new();ja.book_append_sheet(w,T,"Pedidos");const _=new Date().toISOString().slice(0,10).replace(/-/g,"");m2(w,`orders_export_${_}.xlsx`)};return l.jsxs(ie.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl max-w-7xl mx-auto border ${h?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,variants:p,initial:"hidden",animate:"visible",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[l.jsxs("h3",{className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${h?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:[l.jsx(vu,{className:"mr-2"})," Mis Pedidos"]}),l.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto mt-4 sm:mt-0",children:[l.jsxs("div",{className:"relative flex-1 sm:w-64",children:[l.jsx("input",{type:"text",placeholder:"Buscar pedidos...",className:`w-full px-3 py-2 rounded-xl ${h?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all duration-300 text-sm placeholder-gray-500`,value:e,onChange:v=>r(v.target.value)}),l.jsx(ta,{className:`absolute right-3 top-2.5 ${h?"text-gray-400":"text-gray-500"}`,size:16})]}),l.jsx(ie.button,{onClick:y,className:`p-2 rounded-xl ${h?"bg-green-500 hover:bg-green-600 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,whileHover:{scale:1.1},whileTap:{scale:.9},title:"Descargar pedidos como Excel",children:l.jsx(Kv,{size:18})})]})]}),t.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:`min-w-full border rounded-xl ${h?"bg-gray-800/50 border-gray-600/50":"bg-gray-100/50 border-gray-200/50"}`,children:[l.jsx("thead",{children:l.jsxs("tr",{className:`text-left text-xs font-medium uppercase tracking-wider ${h?"bg-gray-700/50 text-gray-300":"bg-gray-200/50 text-gray-700"}`,children:[l.jsx("th",{className:"px-4 py-3 border-b",children:"Estado"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Producto"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Categoría"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Proveedor"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Monto"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Tiempo Restante"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Fecha de Inicio"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Fecha de Vencimiento"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Comprador"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Teléfono"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Email"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Contraseña"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Perfil"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"PIN"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Acciones"})]})}),l.jsx("tbody",{children:t.filter(v=>(v.productName||"").toLowerCase().includes(e.toLowerCase())||(v.category||"").toLowerCase().includes(e.toLowerCase())||(v.provider||"").toLowerCase().includes(e.toLowerCase())).map(v=>{const T=v.status||"pending",w=T==="pending",_=T==="refunded",C=T==="soporte",j=T==="rechazado",O=new Date(v.endDate)>new Date,M=v.daysRemaining||0,Y=v.timeElapsedPercentage||0;let ne;Y<70?ne=h?"bg-green-500":"bg-green-600":Y<90?ne=h?"bg-orange-500":"bg-orange-600":ne=h?"bg-red-500":"bg-red-600";const A=C?l.jsx(yu,{className:h?"text-blue-400":"text-blue-600",title:"En Soporte"}):j?l.jsx(Aa,{className:h?"text-amber-700":"text-amber-900",title:"No aplica soporte"}):_?l.jsx(Aa,{className:"text-red-500",title:"Reembolsado"}):w?l.jsx(_m,{className:"text-yellow-500",title:"Pendiente"}):l.jsx(xu,{className:"text-green-500",title:"Activo"}),S=!["En soporte","No aplica soporte","Reembolsado","Pendiente"].includes(C?"En soporte":j?"No aplica soporte":_?"Reembolsado":w?"Pendiente":O?"Activo":"Expirado"),I=C||j||_||w&&!O,V=I?C?"En soporte":j?"No aplica soporte":_?"Reembolsado":"Pendiente":`${M} día${M===1?"":"s"}`,B=S?ne.replace("bg-","text-"):C?h?"text-blue-400":"text-blue-600":j?h?"text-amber-700":"text-amber-900":_?"text-red-500":w?"text-yellow-500":"text-green-500",H=v.buyerPhone?v.buyerPhone.replace(/^\+/,"").replace(/\D/g,""):null,D=v.provider||"N/A",ae=C?`*Nota:* Este pedido está "En Soporte". El proveedor lo está revisando.

`:j?`*Nota:* Este pedido ha sido rechazado. No aplica soporte.

`:_?`*Nota:* Este pedido ha sido reembolsado.

`:w&&!O?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:"",Ce=encodeURIComponent(`🌟 Hola ${v.buyer||"Cliente"}! 👋

🎬 Tu pedido de *${v.productName||"Sin nombre"}* (${D}) está listo para disfrutar! 🍿
📋 *Detalles de tu suscripción*:
✉️ *Usuario*: ${v.accountDetails?.email||"N/A"}
🔐 *Contraseña*: ${v.accountDetails?.password||"N/A"}
👥 *Perfil*: ${v.accountDetails?.profile||"N/A"}
🔢 *PIN*: ${v.accountDetails?.pin||"N/A"}
⏳ *Duración*: ${M} día${M===1?"":"s"}
🗓 *Compra*: ${v.startDate?s(v.startDate):"N/A"}
🗓 *Vencimiento*: ${v.endDate?s(v.endDate):"N/A"}
📞 *Teléfono*: ${v.buyerPhone||"N/A"}

`+ae+`👤 Soy *${D}*, tu proveedor de confianza. 😊
❓ ¿En qué te puedo ayudar hoy? ¡Contáctame para cualquier duda! 🚀
🎬🍿 ¡Gracias por elegirnos! 🍿🎬`),Ge=encodeURIComponent(`🔔 Hola ${v.buyer||"Cliente"}! 👋

🍿 Tu suscripción a *${v.productName||"Sin nombre"}* (${D}) sigue activa! 🎬
⏳ *Te quedan*: ${I?C?"En Soporte":j?"No aplica soporte":_?"Reembolsado":"Pendiente de activación":`${M} día${M===1?"":"s"}`} para disfrutar! 🕒
📋 *Detalles*:
✉️ *Usuario*: ${v.accountDetails?.email||"N/A"}
🔐 *Contraseña*: ${v.accountDetails?.password||"N/A"}
👥 *Perfil*: ${v.accountDetails?.profile||"N/A"}
🔢 *PIN*: ${v.accountDetails?.pin||"N/A"}
🗓 *Compra*: ${v.startDate?s(v.startDate):"N/A"}
🗓 *Vencimiento*: ${v.endDate?s(v.endDate):"N/A"}
📞 *Teléfono*: ${v.buyerPhone||"N/A"}

`+ae+`👤 *${D}* te recomienda renovar a tiempo para no perderte nada! 😊
🚀 ¡Sigue disfrutando y contáctanos si necesitas ayuda! 🎉`);return l.jsxs(ie.tr,{className:`${h?"text-gray-300":"text-gray-700"} border-b ${h?"border-gray-600/50":"border-gray-200/50"}`,variants:x,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsx("td",{className:"px-4 py-3",children:A}),l.jsx("td",{className:"px-4 py-3",children:v.productName||"Sin nombre"}),l.jsx("td",{className:"px-4 py-3",children:n(v.category)}),l.jsx("td",{className:"px-4 py-3",children:D}),l.jsxs("td",{className:"px-4 py-3",children:["S/ ",(v.amount||0).toFixed(2)]}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[S&&l.jsx("div",{className:`w-24 rounded-full h-1 ${h?"bg-gray-600/40":"bg-gray-300/40"}`,children:l.jsx("div",{className:`h-1 rounded-full ${ne}`,style:{width:`${Math.min(Y,100)}%`}})}),l.jsx("span",{className:`text-xs ${B}`,children:V})]})}),l.jsx("td",{className:"px-4 py-3",children:v.startDate?s(v.startDate):"N/A"}),l.jsx("td",{className:"px-4 py-3",children:v.endDate?s(v.endDate):"N/A"}),l.jsx("td",{className:"px-4 py-3",children:v.buyer||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:v.buyerPhone||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:v.accountDetails?.email||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:v.accountDetails?.password||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:v.accountDetails?.profile||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:v.accountDetails?.pin||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ie.button,{onClick:()=>i(v),className:`p-2 rounded-xl ${h?"bg-blue-500 hover:bg-blue-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,whileHover:{scale:1.1},whileTap:{scale:.9},title:"Editar cuenta",children:l.jsx(LA,{size:16})}),v.status==="pending"&&l.jsx(ie.button,{onClick:()=>o(v.id),className:`p-2 rounded-xl ${h?"bg-green-500 hover:bg-green-600 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,whileHover:{scale:1.1},whileTap:{scale:.9},title:"Activar pedido",children:l.jsx(xu,{size:16})}),H&&l.jsxs(l.Fragment,{children:[l.jsx(ie.a,{href:`https://wa.me/${H}?text=${Ce}`,target:"_blank",rel:"noopener noreferrer",className:`p-2 rounded-xl ${h?"bg-teal-500 hover:bg-teal-600 text-white":"bg-teal-600 hover:bg-teal-700 text-white"}`,whileHover:{scale:1.1},whileTap:{scale:.9},title:"Contactar cliente",children:l.jsx(is,{size:16})}),!_&&!C&&!j&&l.jsx(ie.a,{href:`https://wa.me/${H}?text=${Ge}`,target:"_blank",rel:"noopener noreferrer",className:`p-2.5 rounded-xl ${h?"bg-amber-500 hover:bg-amber-600 text-white":"bg-amber-600 hover:bg-amber-700 text-white"}`,whileHover:{scale:1.1},whileTap:{scale:.9},title:"Notificar cliente sobre estado o vencimiento",children:l.jsx(Tp,{size:18})})]}),l.jsx(ie.button,{onClick:()=>u(v.id),className:`p-2 rounded-xl ${h?"bg-red-500 hover:bg-red-600 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,whileHover:{scale:1.1},whileTap:{scale:.9},title:"Eliminar pedido",children:l.jsx(BA,{size:16})})]})})]},v.id)})})]})}):l.jsxs(ie.div,{className:"text-center py-12",variants:p,initial:"hidden",animate:"visible",children:[l.jsx(vu,{className:`mx-auto text-4xl ${h?"text-gray-400":"text-gray-500"} mb-3`}),l.jsx("h4",{className:`text-lg font-medium ${h?"text-gray-300":"text-gray-700"}`,children:"No hay pedidos registrados"}),l.jsx("p",{className:`text-sm ${h?"text-gray-400":"text-gray-600"}`,children:"Tus pedidos aparecerán aquí"})]})]})},VQ=({accountDetails:t,handleAccountChange:e,handleUpdateAccount:r,theme:n="dark"})=>{const s=n==="dark",i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},o={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.02,transition:{duration:.2}}};return l.jsxs(ie.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl max-w-4xl mx-auto border ${s?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,variants:i,initial:"hidden",animate:"visible",children:[l.jsxs("h3",{className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight mb-6 flex items-center bg-clip-text text-transparent bg-gradient-to-r ${s?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:[l.jsx(VA,{className:"mr-2"})," Configuración"]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(ie.div,{variants:o,initial:"hidden",animate:"visible",children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${s?"text-gray-300":"text-gray-700"}`,children:"Correo electrónico"}),l.jsx("input",{type:"email",value:t.email,disabled:!0,className:`w-full px-4 py-2 rounded-xl ${s?"bg-gray-700/50 text-gray-400 border-gray-600/50":"bg-gray-200/50 text-gray-600 border-gray-300/50"} cursor-not-allowed`})]}),l.jsxs(ie.div,{variants:o,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${s?"text-gray-300":"text-gray-700"}`,children:"Nueva contraseña (opcional)"}),l.jsx("input",{type:"password",name:"password",value:t.password,onChange:e,className:`w-full px-4 py-2 rounded-xl ${s?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Dejar en blanco para no cambiar"})]}),l.jsxs(ie.div,{variants:o,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${s?"text-gray-300":"text-gray-700"}`,children:"Preferencias"}),l.jsx("textarea",{name:"preferences",value:t.preferences,onChange:e,rows:"4",className:`w-full px-4 py-2 rounded-xl ${s?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Especifica tus preferencias o notas"})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx(ie.button,{onClick:r,className:`px-6 py-2 text-white rounded-xl transition-all duration-300 bg-gradient-to-r ${s?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50`,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Guardar Cambios"})})]})]})},$Q=({orders:t=[],setOrders:e,fetchOrders:r,searchQuery:n,setSearchQuery:s,getCategoryDisplayName:i,formatDate:o,theme:u="dark"})=>{const[d,h]=k.useState({}),p=u==="dark",x={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}}},y={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{backgroundColor:p?"#1F2937":"#F3F4F6",transition:{duration:.2}}};k.useEffect(()=>{console.log("All orders:",t);const C=t.filter(j=>j.status==="soporte");console.log("Support orders filtered:",C),console.log("Search query:",n)},[t,n]);const T=t.filter(C=>C.status==="soporte").filter(C=>(C.productName||"").toLowerCase().includes(n.toLowerCase())||(C.customerName||C.buyerName||"").toLowerCase().includes(n.toLowerCase())),w=async C=>{h(j=>({...j,[`reject_${C}`]:!0}));try{await ti(vt(qe,"sales",C),{status:"rechazado"},{merge:!0}),e(j=>j.map(O=>O.id===C?{...O,status:"rechazado"}:O)),r&&await r(),alert("Pedido rechazado exitosamente.")}catch(j){console.error("Error rejecting support:",j),alert("Error al rechazar el soporte.")}finally{h(j=>({...j,[`reject_${C}`]:!1}))}},_=async C=>{h(j=>({...j,[`solve_${C}`]:!0}));try{await ti(vt(qe,"sales",C),{status:"active"},{merge:!0}),e(j=>j.map(O=>O.id===C?{...O,status:"active"}:O)),r&&await r(),alert("Soporte solucionado y pedido activado exitosamente.")}catch(j){console.error("Error solving support:",j),alert("Error al solucionar el soporte.")}finally{h(j=>({...j,[`solve_${C}`]:!1}))}};return l.jsxs(ie.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl max-w-7xl mx-auto border ${p?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,variants:x,initial:"hidden",animate:"visible",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[l.jsxs("h3",{className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight flex items-center bg-clip-text text-transparent bg-gradient-to-r ${p?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:[l.jsx(yu,{className:"mr-2"})," Pedidos en Soporte"]}),l.jsx("div",{className:"flex items-center gap-4 w-full sm:w-auto mt-4 sm:mt-0",children:l.jsxs("div",{className:"relative flex-1 sm:w-64",children:[l.jsx("input",{type:"text",placeholder:"Buscar en soporte...",className:`w-full px-3 py-2 rounded-xl ${p?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 text-sm placeholder-gray-500`,value:n,onChange:C=>s(C.target.value)}),l.jsx(ta,{className:`absolute right-3 top-2.5 ${p?"text-gray-400":"text-gray-500"}`,size:16})]})})]}),T.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:`min-w-full border rounded-xl ${p?"bg-gray-800/50 border-gray-600/50":"bg-gray-100/50 border-gray-200/50"}`,children:[l.jsx("thead",{children:l.jsxs("tr",{className:`text-left text-xs font-medium uppercase tracking-wider ${p?"bg-gray-700/50 text-gray-300":"bg-gray-200/50 text-gray-700"}`,children:[l.jsx("th",{className:"px-4 py-3 border-b",children:"Producto"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Categoría"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Comprador"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Teléfono"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Email"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Mensaje de Soporte"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Fecha de Inicio"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Fecha de Vencimiento"}),l.jsx("th",{className:"px-4 py-3 border-b",children:"Acciones"})]})}),l.jsx("tbody",{children:T.map(C=>{console.log(`Order ${C.id} message:`,C.soporteMessage);const j=C.buyerPhone?C.buyerPhone.replace(/^\+/,"").replace(/\D/g,""):null,O=C.customerName||C.buyerName||"N/A",M=encodeURIComponent(`Hola ${O}! 👋

📋 *Soporte para tu pedido de ${C.productName||"Sin nombre"}*:

Estamos revisando tu consulta. Por favor, describe el problema o pregunta para ayudarte mejor.

Detalles del pedido:
✉️ *Usuario*: ${C.accountDetails?.email||"N/A"}
🗓 *Inicio*: ${C.startDate?o(C.startDate):"N/A"}
🗓 *Vencimiento*: ${C.endDate?o(C.endDate):"N/A"}

¡Gracias por tu paciencia! 😊`);return l.jsxs(ie.tr,{className:`${p?"text-gray-300":"text-gray-700"} border-b ${p?"border-gray-600/50":"border-gray-200/50"}`,variants:y,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsx("td",{className:"px-4 py-3",children:C.productName||"Sin nombre"}),l.jsx("td",{className:"px-4 py-3",children:i(C.category)}),l.jsx("td",{className:"px-4 py-3",children:O}),l.jsx("td",{className:"px-4 py-3",children:C.buyerPhone||"N/A"}),l.jsx("td",{className:"px-4 py-3",children:C.accountDetails?.email||"N/A"}),l.jsxs("td",{className:"px-4 py-3 max-w-xs",children:[l.jsx("p",{className:"text-sm break-words line-clamp-3",title:C.soporteMessage||"Sin mensaje",children:C.soporteMessage||"Sin mensaje"}),C.soporteCreatedAt&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o(C.soporteCreatedAt)})]}),l.jsx("td",{className:"px-4 py-3",children:C.startDate?o(C.startDate):"N/A"}),l.jsx("td",{className:"px-4 py-3",children:C.endDate?o(C.endDate):"N/A"}),l.jsx("td",{className:"px-4 py-3",children:l.jsxs("div",{className:"flex gap-2",children:[j&&l.jsx(ie.a,{href:`https://wa.me/${j}?text=${M}`,target:"_blank",rel:"noopener noreferrer",className:`p-2 rounded-xl ${p?"bg-teal-500 hover:bg-teal-600 text-white":"bg-teal-600 hover:bg-teal-700 text-white"}`,whileHover:{scale:1.1},whileTap:{scale:.9},title:"Comunicarse con el usuario",children:l.jsx(is,{size:16})}),l.jsx(ie.button,{onClick:()=>w(C.id),disabled:d[`reject_${C.id}`],className:`p-2 rounded-xl ${d[`reject_${C.id}`]?"bg-gray-400 text-gray-500 cursor-not-allowed":p?"bg-red-500 hover:bg-red-600 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,whileHover:d[`reject_${C.id}`]?{}:{scale:1.1},whileTap:d[`reject_${C.id}`]?{}:{scale:.9},title:"Rechazar soporte",children:d[`reject_${C.id}`]?l.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):l.jsx(Oz,{size:16})}),l.jsx(ie.button,{onClick:()=>_(C.id),disabled:d[`solve_${C.id}`],className:`p-2 rounded-xl ${d[`solve_${C.id}`]?"bg-gray-400 text-gray-500 cursor-not-allowed":p?"bg-green-500 hover:bg-green-600 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,whileHover:d[`solve_${C.id}`]?{}:{scale:1.1},whileTap:d[`solve_${C.id}`]?{}:{scale:.9},title:"Solucionar soporte",children:d[`solve_${C.id}`]?l.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):l.jsx(xu,{size:16})})]})})]},`${C.id}-${C.soporteMessage}`)})})]})}):l.jsxs(ie.div,{className:"text-center py-12",variants:x,initial:"hidden",animate:"visible",children:[l.jsx(yu,{className:`mx-auto text-4xl ${p?"text-gray-400":"text-gray-500"} mb-3`}),l.jsx("h4",{className:`text-lg font-medium ${p?"text-gray-300":"text-gray-700"}`,children:"No hay pedidos en soporte"}),l.jsx("p",{className:`text-sm ${p?"text-gray-400":"text-gray-600"}`,children:"Los pedidos en soporte aparecerán aquí"})]})]})},BQ=({editModalOpen:t,setEditModalOpen:e,selectedProduct:r,setSelectedProduct:n,editError:s,setEditError:i,handleFileChange:o,handleEditStockChange:u,handleEditAccountFieldChange:d,handleUpdateProduct:h,theme:p="dark"})=>{const x=p==="dark",y={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}}},v={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}},T=w=>{const{name:_,value:C,type:j,checked:O}=w.target;n(M=>({...M,[_]:j==="checkbox"?O:C,..._==="status"&&{stock:C==="Agotado"?0:M.stock||1,accounts:C==="En stock"?M.accounts.length?M.accounts:Array(M.stock||1).fill({email:"",password:"",profile:"",pin:""}):[]}}))};return t?l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs(ie.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl w-full max-w-4xl border max-h-[90vh] overflow-y-auto ${x?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,variants:y,initial:"hidden",animate:"visible",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${x?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Editar Producto"}),l.jsx(ie.button,{onClick:()=>e(!1),className:`${x?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:l.jsx(Bs,{size:20})})]}),s&&l.jsx(ie.div,{className:`mb-4 p-3 border rounded-xl ${x?"bg-red-900/20 border-red-900/50 text-red-400":"bg-red-100/20 border-red-200/50 text-red-600"}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:s}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs(ie.div,{className:`col-span-1 rounded-2xl p-4 border shadow-xl backdrop-blur-sm ${x?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:v,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsx("label",{className:`block text-lg font-semibold mb-2 ${x?"text-gray-300":"text-gray-700"}`,children:"Imagen del producto"}),l.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl ${x?"bg-gray-900/80 border-gray-700/50":"bg-gray-200/80 border-gray-300/50"}`,children:r.image?l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:r.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain",loading:"lazy"}),l.jsx(ie.button,{type:"button",onClick:()=>n({...r,image:""}),className:`absolute top-0 right-0 ${x?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:l.jsx(Bs,{size:16})})]}):l.jsxs(l.Fragment,{children:[l.jsx(UA,{className:`mx-auto h-12 w-12 ${x?"text-gray-400":"text-gray-500"}`}),l.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:l.jsxs("label",{htmlFor:"edit-file-upload",className:`relative cursor-pointer rounded-xl font-medium ${x?"bg-gray-900/50 text-blue-400 hover:text-blue-500":"bg-gray-200/50 text-blue-600 hover:text-blue-700"} focus-within:outline-none`,children:[l.jsx("span",{children:"Subir una imagen"}),l.jsx("input",{id:"edit-file-upload",name:"edit-file-upload",type:"file",className:"sr-only",onChange:w=>o(w,!0),accept:"image/*"})]})}),l.jsx("p",{className:`text-xs ${x?"text-gray-500":"text-gray-600"}`,children:"PNG, JPG, GIF hasta 10MB"})]})})]}),l.jsxs(ie.div,{className:`col-span-1 space-y-4 rounded-2xl p-4 border shadow-xl backdrop-blur-sm ${x?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:v,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${x?"text-gray-300":"text-gray-700"}`,children:"Nombre del producto*"}),l.jsx("input",{type:"text",name:"name",value:r.name,onChange:T,className:`w-full px-4 py-2 rounded-xl ${x?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${x?"text-gray-300":"text-gray-700"}`,children:"Categoría*"}),l.jsxs("select",{name:"category",value:r.category,onChange:T,className:`w-full px-4 py-2 rounded-xl ${x?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all`,children:[l.jsx("option",{value:"Netflix",children:"Netflix"}),l.jsx("option",{value:"Spotify",children:"Spotify"}),l.jsx("option",{value:"Disney",children:"Disney+"}),l.jsx("option",{value:"Max",children:"Max"}),l.jsx("option",{value:"Prime Video",children:"Prime Video"}),l.jsx("option",{value:"Vix",children:"Vix"}),l.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),l.jsx("option",{value:"Canva",children:"Canva"}),l.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),l.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),l.jsx("option",{value:"Dgo",children:"DGO"}),l.jsx("option",{value:"Liga Max",children:"Liga Max"}),l.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),l.jsx("option",{value:"Youtube",children:"YouTube"}),l.jsx("option",{value:"Deezer",children:"Deezer"}),l.jsx("option",{value:"Tidal",children:"Tidal"}),l.jsx("option",{value:"Vpn",children:"VPN"}),l.jsx("option",{value:"WinTv",children:"WinTV"}),l.jsx("option",{value:"Apple Music",children:"Apple Music"}),l.jsx("option",{value:"Apple Tv",children:"Apple TV"}),l.jsx("option",{value:"Iptv",children:"IPTV"}),l.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),l.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),l.jsx("option",{value:"Pornhub",children:"Pornhub"}),l.jsx("option",{value:"Paramount",children:"Paramount"}),l.jsx("option",{value:"Licencias",children:"Licencias"}),l.jsx("option",{value:"Capcut",children:"Capcut"}),l.jsx("option",{value:"Duolingo",children:"Duolingo"}),l.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${x?"text-gray-300":"text-gray-700"}`,children:"Tipo de cuenta*"}),l.jsxs("select",{name:"accountType",value:r.accountType,onChange:T,className:`w-full px-4 py-2 rounded-xl ${x?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all`,children:[l.jsx("option",{value:"Premium",children:"Premium"}),l.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${x?"text-gray-300":"text-gray-700"}`,children:"Estado*"}),l.jsxs("select",{name:"status",value:r.status,onChange:T,className:`w-full px-4 py-2 rounded-xl ${x?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all`,children:[l.jsx("option",{value:"En stock",children:"En stock"}),l.jsx("option",{value:"A pedido",children:"A pedido"}),l.jsx("option",{value:"Agotado",children:"Agotado"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${x?"text-gray-300":"text-gray-700"}`,children:"Stock*"}),l.jsx("input",{type:"number",name:"stock",value:r.status==="Agotado"?0:r.stock,onChange:u,className:`w-full px-4 py-2 rounded-xl ${x?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all ${r.status==="Agotado"?"opacity-50 cursor-not-allowed":""}`,min:"0",required:!0,disabled:r.status==="Agotado"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${x?"text-gray-300":"text-gray-700"}`,children:"Precio (S/)*"}),l.jsx("input",{type:"number",name:"price",value:r.price,onChange:T,className:`w-full px-4 py-2 rounded-xl ${x?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:"renewal",checked:r.renewal,onChange:T,className:`h-4 w-4 ${x?"text-blue-400 focus:ring-blue-400 border-gray-600/50":"text-blue-600 focus:ring-blue-600 border-gray-300/50"} rounded`}),l.jsx("label",{className:`ml-2 ${x?"text-gray-300":"text-gray-700"}`,children:"¿Tiene renovación?"})]})]}),r.renewal&&l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${x?"text-gray-300":"text-gray-700"}`,children:"Precio de renovación (S/)*"}),l.jsx("input",{type:"number",name:"renewalPrice",value:r.renewalPrice,onChange:T,className:`w-full px-4 py-2 rounded-xl ${x?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${x?"text-gray-300":"text-gray-700"}`,children:"Duración (días)"}),l.jsx("input",{type:"number",name:"duration",value:r.duration,onChange:T,className:`w-full px-4 py-2 rounded-xl ${x?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Dejar vacío para ilimitado",min:"1"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:`block text-gray-300 mb-2 ${x?"text-gray-300":"text-gray-700"}`,children:["Teléfono de contacto ",r.status==="A pedido"?"*":""]}),l.jsx("input",{type:"text",name:"providerPhone",value:r.providerPhone,onChange:T,className:`w-full px-4 py-2 rounded-xl ${x?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: +51 987654321",required:r.status==="A pedido"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${x?"text-gray-300":"text-gray-700"}`,children:"URL del producto (opcional)"}),l.jsx("input",{type:"url",name:"productUrl",value:r.productUrl||"",onChange:T,className:`w-full px-4 py-2 rounded-xl ${x?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Ej: https://www.ejemplo.com/producto"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${x?"text-gray-300":"text-gray-700"}`,children:"Detalles del producto"}),l.jsx("textarea",{name:"details",value:r.details,onChange:T,rows:"3",className:`w-full px-4 py-2 rounded-xl ${x?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Describe los detalles y características del producto"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-gray-300 mb-2 ${x?"text-gray-300":"text-gray-700"}`,children:"Términos y condiciones"}),l.jsx("textarea",{name:"terms",value:r.terms,onChange:T,rows:"3",className:`w-full px-4 py-2 rounded-xl ${x?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500`,placeholder:"Especifica los términos y condiciones de uso"})]}),r.status==="En stock"&&l.jsxs(ie.div,{className:`rounded-2xl p-4 shadow-xl border backdrop-blur-sm ${x?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:v,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsx("label",{className:`block text-lg font-semibold mb-2 ${x?"text-white":"text-gray-900"}`,children:"Cuentas asociadas*"}),l.jsx("p",{className:`text-xs mb-3 ${x?"text-gray-400":"text-gray-600"}`,children:"Debe completar todas las cuentas según el stock indicado"}),l.jsx("div",{className:"space-y-4",children:r.accounts.map((w,_)=>l.jsxs(ie.div,{className:`border rounded-xl p-4 ${x?"bg-gray-900/70 border-gray-700/50":"bg-gray-200/70 border-gray-300/50"} backdrop-blur-sm`,variants:v,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsxs("h4",{className:`text-sm font-medium ${x?"text-white":"text-gray-900"} mb-3`,children:["Cuenta ",_+1]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${x?"text-gray-400":"text-gray-600"} mb-1`,children:"Correo electrónico*"}),l.jsx("input",{type:"email",value:w.email,onChange:C=>d(_,"email",C.target.value),className:`w-full px-3 py-2 rounded-xl ${x?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-sm`,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${x?"text-gray-400":"text-gray-600"} mb-1`,children:"Contraseña*"}),l.jsx("input",{type:"text",value:w.password,onChange:C=>d(_,"password",C.target.value),className:`w-full px-3 py-2 rounded-xl ${x?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-sm`,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${x?"text-gray-400":"text-gray-600"} mb-1`,children:"Perfil (opcional)"}),l.jsx("input",{type:"text",value:w.profile,onChange:C=>d(_,"profile",C.target.value),className:`w-full px-3 py-2 rounded-xl ${x?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-sm`,placeholder:"Ej: Perfil 1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium ${x?"text-gray-400":"text-gray-600"} mb-1`,children:"PIN (opcional)"}),l.jsx("input",{type:"text",value:w.pin,onChange:C=>d(_,"pin",C.target.value),className:`w-full px-3 py-2 rounded-xl ${x?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-sm`,placeholder:"Ej: 1234"})]})]})]},_))})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[l.jsx(ie.button,{onClick:()=>e(!1),className:`px-4 py-2 rounded-xl transition-all duration-300 ${x?"bg-gray-900/70 text-gray-300 hover:bg-gray-700/50":"bg-gray-200/70 text-gray-700 hover:bg-gray-300/50"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50`,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancelar"}),l.jsx(ie.button,{onClick:h,className:`px-6 py-2 text-white rounded-xl transition-all duration-300 bg-gradient-to-r ${x?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50`,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Actualizar Producto"})]})]})]})}):null},UQ=({editOrderModalOpen:t,setEditOrderModalOpen:e,selectedOrder:r,handleOrderAccountChange:n,editOrderError:s,setEditOrderError:i,handleUpdateOrder:o,theme:u="dark"})=>{const d=u==="dark",h={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}}},p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}};return t?l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs(ie.div,{className:`backdrop-blur-md p-4 sm:p-6 rounded-2xl shadow-2xl w-full max-w-md border max-h-[90vh] overflow-y-auto ${d?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,variants:h,initial:"hidden",animate:"visible",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:`text-xl sm:text-2xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${d?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Editar Detalles de Cuenta"}),l.jsx(ie.button,{onClick:()=>e(!1),className:`${d?"bg-blue-500":"bg-blue-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:l.jsx(Bs,{size:20})})]}),s&&l.jsx(ie.div,{className:`mb-4 p-3 border rounded-xl ${d?"bg-red-900/20 border-red-900/50 text-red-400":"bg-red-100/20 border-red-200/50 text-red-600"}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:s}),l.jsxs(ie.div,{className:`border rounded-2xl p-4 shadow-xl backdrop-blur-sm ${d?"bg-gray-800/50 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"} space-y-4`,variants:p,initial:"hidden",animate:"visible",whileHover:"hover",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium mb-1 ${d?"text-gray-400":"text-gray-600"}`,children:"Correo electrónico*"}),l.jsx("input",{type:"email",name:"email",value:r.accountDetails.email,onChange:n,className:`w-full px-3 py-2 rounded-xl ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-sm placeholder-gray-500`,placeholder:"Ej: usuario@ejemplo.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium mb-1 ${d?"text-gray-400":"text-gray-600"}`,children:"Contraseña*"}),l.jsx("input",{type:"text",name:"password",value:r.accountDetails.password,onChange:n,className:`w-full px-3 py-2 rounded-xl ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-sm placeholder-gray-500`,placeholder:"Ej: contraseña123",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium mb-1 ${d?"text-gray-400":"text-gray-600"}`,children:"Perfil (opcional)"}),l.jsx("input",{type:"text",name:"profile",value:r.accountDetails.profile,onChange:n,className:`w-full px-3 py-2 rounded-xl ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-sm placeholder-gray-500`,placeholder:"Ej: Perfil 1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-xs font-medium mb-1 ${d?"text-gray-400":"text-gray-600"}`,children:"PIN (opcional)"}),l.jsx("input",{type:"text",name:"pin",value:r.accountDetails.pin,onChange:n,className:`w-full px-3 py-2 rounded-xl ${d?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all text-sm placeholder-gray-500`,placeholder:"Ej: 1234"})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[l.jsx(ie.button,{onClick:()=>e(!1),className:`px-4 py-2 rounded-xl transition-all duration-300 ${d?"bg-gray-900/70 text-gray-300 hover:bg-gray-700/50":"bg-gray-200/70 text-gray-700 hover:bg-gray-300/50"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50`,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancelar"}),l.jsx(ie.button,{onClick:o,className:`px-6 py-2 text-white rounded-xl transition-all duration-300 bg-gradient-to-r ${d?"from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700":"from-blue-600 to-purple-800 hover:from-blue-700 hover:to-purple-900"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50`,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Guardar Cambios"})]})]})}):null},zQ=ki.memo(({show:t,onClose:e,title:r,message:n,theme:s})=>l.jsx(bn,{children:t&&l.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:l.jsxs(ie.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${s==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:i=>i.stopPropagation(),children:[l.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:l.jsx($s,{size:20})}),l.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${s==="dark"?"text-white":"text-gray-900"}`,children:r}),l.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));zQ.propTypes={show:ee.bool.isRequired,onClose:ee.func.isRequired,title:ee.string.isRequired,message:ee.string.isRequired,theme:ee.string.isRequired};const R6=()=>{const[t,e]=k.useState(!1),[r,n]=k.useState("inicio"),[s,i]=k.useState("Usuario"),[o,u]=k.useState(""),[d,h]=k.useState(""),[p,x]=k.useState([]),[y,v]=k.useState([]),[T,w]=k.useState([]),[_,C]=k.useState(!0),[j,O]=k.useState(""),[M,Y]=k.useState({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:Array(1).fill({email:"",password:"",profile:"",pin:""})}),[ne,A]=k.useState(null),[S,I]=k.useState(!1),[V,B]=k.useState(""),[H,D]=k.useState(""),[ae,Ce]=k.useState({isOpen:!1,message:"",title:""}),[Ge,ke]=k.useState({email:"",password:"",preferences:""}),[ce,ye]=k.useState(!1),[be,te]=k.useState(!0),[R,X]=k.useState(0),[Q,J]=k.useState(!1),[re,Ae]=k.useState(null),[Re,Se]=k.useState(""),[pe,Qe]=k.useState("dark"),[yt,Gt]=k.useState(!1),[Et,dr]=k.useState(!1),[kt,Ue]=k.useState([]),nr=ji(),Ot=cv(),vr=k.useCallback(()=>{Qe(we=>we==="dark"?"light":"dark")},[]),le=k.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),Me=k.useCallback((we,Be)=>{Ce({isOpen:!0,title:we,message:Be})},[]),ht=k.useCallback(()=>{Ce({isOpen:!1,message:"",title:""})},[]),it=k.useCallback(we=>{if(!we)return"No especificada";try{const Be=we instanceof Date?we:we?.toDate?.()||new Date(we);return isNaN(Be.getTime())?"Fecha inválida":Be.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(Be){return console.error("Error formatting date:",Be),"Fecha inválida"}},[]),Te=k.useCallback(we=>({netflix:"Netflix",spotify:"Spotify",disney:"Disney",max:"Max",primevideo:"Prime Video",vix:"Vix",crunchyroll:"Crunchyroll",canva:"Canva",chatgpt:"ChatGPT",redessociales:"Redes Sociales",dgo:"Dgo",ligamax:"Liga Max",movistarplay:"Movistar Play",youtube:"Youtube",deezer:"Deezer",tidal:"Tidal",vpn:"Vpn",wintv:"WinTv",applemusic:"Apple Music",appletv:"Apple TV",iptv:"Iptv",flujotv:"Flujo Tv",vikirakuten:"Viki Rakuten",pornhub:"Pornhub",paramount:"Paramount",licencias:"Licencias",capcut:"Capcut",duolingo:"Duolingo",buscapersonas:"BuscaPersonas"})[we?.toLowerCase()]||"Otro",[]);k.useEffect(()=>{const we=Hl(Ot,Be=>{Be?(u(Be.email||""),h(Be.uid),Ie(Be.uid)):nr("/login")});return()=>we()},[Ot,nr]);const Ie=async we=>{try{const Be=vt(qe,"users",we),at=await Mo(Be);if(at.exists()){const ut=at.data();i(ut.username||"Usuario"),ke({email:ut.email||"",password:"",preferences:ut.preferences||""})}C(!1)}catch(Be){O("Error al cargar datos del usuario"),console.error("Error fetching user data:",Be),C(!1)}};k.useEffect(()=>{o&&(async Be=>{try{const at=await Mo(vt(qe,"admins",Be));ye(at.exists())}catch(at){console.error("Error checking admin status:",at)}})(o)},[o]),k.useEffect(()=>{const we=gr(vt(qe,"notifications","adminMessage"),Be=>{if(Be.exists()){const at=Be.data(),ut=ce?"admin":"provider";at.roles&&at.roles.includes(ut)?Ue([{id:Be.id,...at,timestamp:at.updatedAt?.toDate()}]):Ue([])}else Ue([])},Be=>{console.error("Error in notifications listener:",Be),O("Error al cargar notificaciones: "+Be.message)});return()=>we()},[ce]),k.useEffect(()=>{if(!s)return;const we=wr(Dt(qe,"products"),Or("provider","==",s)),Be=gr(we,at=>{const ut=at.docs.map(Lt=>({id:Lt.id,...Lt.data()}));v(ut)},at=>{console.error("Error fetching products:",at),O("Error al cargar productos")});return()=>Be()},[s]),k.useEffect(()=>{if(!d)return;const we=wr(Dt(qe,"sales"),Or("providerId","==",d)),Be=gr(we,ut=>{if(ut.empty){x([]),te(!1);return}const Lt=ut.docs.map(pr=>{const jt=pr.data(),q=jt.saleDate?.toDate?.()||jt.createdAt?.toDate?.()||new Date;let z=jt.startDate?.toDate?.(),W=z||q,G=!z;const K=jt.durationDays||30;let ue;jt.endDate?ue=typeof jt.endDate=="string"?new Date(jt.endDate):jt.endDate.toDate?.()||new Date(jt.endDate):(ue=new Date(W.getTime()+K*24*60*60*1e3),G=!0),G&&Jr(vt(qe,"sales",pr.id),{startDate:z||yr.fromDate(q),endDate:yr.fromDate(ue),durationDays:K}).catch($e=>{console.error("Error al actualizar startDate/endDate en Firestore:",$e)});const _e=new Date,fe=ue.getTime()-W.getTime(),me=_e.getTime()-W.getTime(),xe=ue.getTime()-_e.getTime(),Fe=Math.max(1,Math.ceil(fe/(1e3*60*60*24))),Ze=Math.max(0,Math.ceil(xe/(1e3*60*60*24))),nt=Math.ceil(me/(1e3*60*60*24)),Ke=Fe>0?Math.min(100,nt/Fe*100):100;return{id:pr.id,productName:jt.productName||"Producto sin nombre",category:jt.type||"netflix",amount:parseFloat(jt.price)||0,buyer:jt.buyerName||jt.customerName||"Comprador desconocido",buyerPhone:jt.buyerPhone||"No especificado",buyerEmail:jt.customerEmail||"No especificado",status:jt.status||"completed",saleDate:q,startDate:W,endDate:ue,durationDays:K,daysRemaining:Ze,totalDays:Fe,timeElapsedPercentage:Ke,accountDetails:jt.accountDetails||{email:"No disponible",password:"No disponible",profile:"N/A",pin:""},balance:parseFloat(jt.price)||0,...jt}});x(Lt);const Rr=Lt.filter(pr=>pr.status==="completed"&&pr.accountDetails).map(pr=>({...pr.accountDetails,productName:pr.productName,saleDate:pr.saleDate,orderId:pr.id}));w(Rr),te(!1)},ut=>{console.error("Error fetching sales:",ut),O("Error al cargar ventas"),te(!1)}),at=setInterval(()=>{x(ut=>ut.map(Lt=>{const Rr=new Date,pr=new Date(Lt.endDate).getTime()-new Date(Lt.startDate).getTime(),jt=Rr.getTime()-new Date(Lt.startDate).getTime(),L=new Date(Lt.endDate).getTime()-Rr.getTime(),q=Math.max(1,Math.ceil(pr/(1e3*60*60*24))),z=Math.max(0,Math.ceil(L/(1e3*60*60*24))),W=Math.ceil(jt/(1e3*60*60*24)),G=q>0?Math.min(100,W/q*100):100;return{...Lt,daysRemaining:z,totalDays:q,timeElapsedPercentage:G}}))},6e4);return()=>{Be(),clearInterval(at)}},[d]),k.useEffect(()=>{if(!s)return;const we=vt(qe,"providerBalances",s),Be=gr(we,at=>{at.exists()?X(at.data().balance||0):(ti(we,{balance:0,provider:s,updatedAt:Fr()}),X(0)),te(!1)},at=>{console.error("Error fetching provider balance:",at),O("Error al cargar el saldo del proveedor"),te(!1)});return()=>Be()},[s]);const Xe=k.useCallback(async()=>{try{await O0(Ot),nr("/login")}catch(we){console.error("Error al cerrar sesión:",we),Me("Error",we.message||"Error al cerrar sesión")}},[nr,Me]),ze=k.useCallback(we=>{const{name:Be,value:at,type:ut,checked:Lt}=we.target;Y(Rr=>({...Rr,[Be]:ut==="checkbox"?Lt:at}))},[]),Rt=k.useCallback(we=>{const{name:Be,value:at}=we.target;ke(ut=>({...ut,[Be]:at}))},[]),Oe=k.useCallback((we,Be=!1)=>{const at=we.target.files[0];if(at){if(at.size>10485760){Be?B("La imagen no debe exceder los 10MB"):O("La imagen no debe exceder los 10MB");return}const Lt=new FileReader;Lt.onloadend=()=>{Be?A(Rr=>({...Rr,image:Lt.result})):Y(Rr=>({...Rr,image:Lt.result}))},Lt.readAsDataURL(at)}},[]),He=k.useCallback(we=>{const Be=parseInt(we.target.value)||1,at=M.accounts||[];if(Be>at.length){const ut=[...at];for(;ut.length<Be;)ut.push({email:"",password:"",profile:"",pin:""});Y({...M,stock:Be,accounts:ut})}else if(Be<at.length){const ut=at.slice(0,Math.max(Be,1));Y({...M,stock:Be,accounts:ut})}else Y({...M,stock:Be})},[M]),mt=k.useCallback(we=>{const Be=parseInt(we.target.value)||1;let ut=[...ne.accounts||[]];if(Be>ut.length)for(;ut.length<Be;)ut.push({email:"",password:"",profile:"",pin:""});else Be<ut.length&&(ut=ut.slice(0,Math.max(Be,1)));A({...ne,stock:Be,accounts:ut})},[ne]),pt=k.useCallback((we,Be,at)=>{const ut=[...M.accounts];ut[we]={...ut[we],[Be]:at},Y({...M,accounts:ut})},[M]),hr=k.useCallback((we,Be,at)=>{A(ut=>({...ut,accounts:ut.accounts.map((Lt,Rr)=>Rr===we?{...Lt,[Be]:at}:Lt)}))},[]),Ht=k.useCallback(we=>{const{name:Be,value:at}=we.target;Ae(ut=>({...ut,accountDetails:{...ut.accountDetails,[Be]:at}}))},[]),Er=k.useCallback(async()=>{if(O(""),!M.name||!M.price){Me("Error","Por favor complete todos los campos obligatorios");return}if(M.renewal&&!M.renewalPrice){Me("Error","Por favor ingrese el precio de renovación");return}if(M.status==="En stock"&&M.accounts.some(Be=>!Be.email||!Be.password)){Me("Error","Por favor complete todos los campos de las cuentas");return}try{const we={...M,provider:s,providerId:d,providerPhone:M.status==="En stock"?M.providerPhone||"":M.providerPhone||"No especificado",createdAt:Fr(),availableAccounts:M.status==="En stock"?M.accounts.length:0},Be=await Io(Dt(qe,"products"),we);if(M.status==="En stock"){const at=Dt(qe,`products/${Be.id}/accounts`);for(const ut of M.accounts)await Io(at,{email:ut.email,password:ut.password,profile:ut.profile||"",pin:ut.pin||"",status:"available"})}Y({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:[{email:"",password:"",profile:"",pin:""}]}),n("inventario"),Me("Éxito","Producto subido exitosamente!")}catch(we){console.error("Error al subir el producto:",we),Me("Error",`Error al subir el producto: ${we.message}`)}},[M,s,d,Me]),qr=k.useCallback(async we=>{B("");try{const Be=wr(Dt(qe,"sales"),Or("providerId","==",d),Or("productName","==",we.name)),ut=(await qn(Be)).docs.filter(jt=>jt.data().status==="completed"&&jt.data().accountDetails?.email).map(jt=>jt.data().accountDetails.email),Lt=Dt(qe,`products/${we.id}/accounts`),pr=(await qn(Lt)).docs.filter(jt=>jt.data().status==="available").map(jt=>({email:jt.data().email||"",password:jt.data().password||"",profile:jt.data().profile||"",pin:jt.data().pin||""}));A({id:we.id,name:we.name||"",image:we.image||"",category:we.category||"Netflix",accountType:we.accountType||"Premium",status:we.status||"En stock",stock:pr.length||we.stock||1,price:we.price||"",renewal:we.renewal||!1,renewalPrice:we.renewalPrice||"",duration:we.duration||"",providerPhone:we.providerPhone||"",details:we.details||"",terms:we.terms||"",providerId:we.providerId||d,accounts:we.status==="En stock"?pr.length>0?pr:Array(Math.max(we.stock||1,1)).fill({email:"",password:"",profile:"",pin:""}):[]}),I(!0)}catch(Be){console.error("Error al preparar edición del producto:",Be),B("Error al preparar edición del producto")}},[d]),$r=k.useCallback(async()=>{if(B(""),!ne.name||!ne.price){B("Por favor complete todos los campos obligatorios");return}if(ne.renewal&&!ne.renewalPrice){B("Por favor ingrese el precio de renovación");return}if(ne.status==="En stock"&&ne.accounts.some(Be=>!Be.email||!Be.password)){B("Por favor complete todos los campos de las cuentas");return}try{const we=vt(qe,"products",ne.id);if(await ti(we,{...ne,providerId:ne.providerId||d,availableAccounts:ne.status==="En stock"&&ne.accounts?.length||0},{merge:!0}),ne.status==="En stock"){const Be=Dt(qe,`products/${ne.id}/accounts`),at=await qn(Be);for(const ut of at.docs)await El(ut.ref);for(const ut of ne.accounts)await Io(Be,{email:ut.email,password:ut.password,profile:ut.profile||"",pin:ut.pin||"",status:"available"})}I(!1),Me("Éxito","Producto actualizado exitosamente!")}catch(we){console.error("Error al actualizar el producto:",we),B("Error al actualizar el producto")}},[ne,d,Me]),Zr=k.useCallback(async we=>{try{await El(vt(qe,"products",we)),Me("Éxito","Producto eliminado exitosamente!")}catch(Be){console.error("Error al eliminar el producto:",Be),Me("Error","Error al eliminar el producto")}},[Me]),St=k.useCallback(async we=>{try{await El(vt(qe,"sales",we)),Me("Éxito","Pedido eliminado exitosamente!")}catch(Be){console.error("Error al eliminar el pedido:",Be),Me("Error","Error al eliminar el pedido")}},[Me]),Wt=k.useCallback(async()=>{try{const we=Ot.currentUser;if(we){const Be=vt(qe,"users",we.uid);await ti(Be,{preferences:Ge.preferences,...Ge.password&&{password:Ge.password}},{merge:!0}),Me("Éxito","Configuración actualizada correctamente!")}}catch(we){console.error("Error al actualizar la configuración:",we),Me("Error","Error al actualizar la configuración")}},[Ge,Me]),$t=k.useCallback(we=>{Se(""),Ae({...we,accountDetails:{email:we.accountDetails.email||"",password:we.accountDetails.password||"",profile:we.accountDetails.profile||"",pin:we.accountDetails.pin||""}}),J(!0)},[]),Br=k.useCallback(async()=>{if(Se(""),!re.accountDetails.email||!re.accountDetails.password){Se("Por favor complete todos los campos obligatorios de la cuenta");return}try{const we=vt(qe,"sales",re.id);await Jr(we,{accountDetails:re.accountDetails,updatedAt:Fr()}),J(!1),Me("Éxito","Detalles de la cuenta actualizados exitosamente!")}catch(we){console.error("Error al actualizar los detalles de la cuenta:",we),Se("Error al actualizar los detalles de la cuenta")}},[re,Me]),Pr=k.useCallback(async we=>{try{const Be=vt(qe,"sales",we);await Jr(Be,{status:"completed",updatedAt:Fr()}),Me("Éxito","Pedido activado exitosamente!")}catch(Be){console.error("Error al activar el pedido:",Be),Me("Error","Error al activar el pedido")}},[Me]);k.useEffect(()=>{const we=()=>{Gt(window.scrollY>300)};return window.addEventListener("scroll",we),()=>window.removeEventListener("scroll",we)},[]);const Qn=be?0:p.reduce((we,Be)=>we+(Be.amount||0),0),Jn=y.reduce((we,Be)=>we+(parseInt(Be.stock)||0),0),ai=k.useCallback(()=>_?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):j?l.jsxs("div",{className:`bg-${pe==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${pe==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[l.jsx(Fl,{className:"mx-auto text-4xl text-red-400 mb-4"}),l.jsx("h3",{className:`text-xl font-bold ${pe==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),l.jsx("p",{className:`text-base ${pe==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:j}),l.jsx("button",{onClick:()=>O(""),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):l.jsx("div",{className:`bg-${pe==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 lg:p-10 rounded-2xl shadow-md max-w-6xl mx-auto border ${pe==="dark"?"border-gray-700/50":"border-gray-300"} w-full`,children:(()=>{switch(r){case"inicio":return l.jsx(jQ,{username:s,products:y,orders:p,providerBalance:R,balanceLoading:be,totalStock:Jn,totalEarnings:Qn,isAdmin:ce,email:o,setActiveSection:n,formatDate:it});case"inventario":return l.jsx(DQ,{products:y,setActiveSection:n,handleEdit:qr,handleDelete:Zr,getCategoryDisplayName:Te,totalStock:Jn});case"cuentas":return l.jsx(OQ,{soldAccounts:T,formatDate:it});case"subirProducto":return l.jsx(FQ,{product:M,setProduct:Y,handleChange:ze,handleFileChange:Oe,handleStockChange:He,handleAccountFieldChange:pt,handleSubmit:Er,setActiveSection:n});case"ganancias":return l.jsx(LQ,{orders:p,totalEarnings:Qn,providerBalance:R,balanceLoading:be,getCategoryDisplayName:Te,formatDate:it});case"pedidos":return l.jsx(MQ,{orders:p,searchQuery:H,setSearchQuery:D,getCategoryDisplayName:Te,formatDate:it,handleEditOrder:$t,handleActivateOrder:Pr,handleDeleteOrder:St});case"configuracion":return l.jsx(VQ,{accountDetails:Ge,handleAccountChange:Rt,handleUpdateAccount:Wt});case"soporte":return l.jsx($Q,{orders:p,setOrders:x,searchQuery:H,setSearchQuery:D,getCategoryDisplayName:Te,formatDate:it,theme:pe,username:s,email:o,showModal:Me});default:return l.jsxs("div",{className:`bg-${pe==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${pe==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[l.jsx(Fl,{className:"mx-auto text-4xl text-red-400 mb-4"}),l.jsx("h3",{className:`text-xl font-bold ${pe==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Sección no encontrada"}),l.jsx("p",{className:`text-base ${pe==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La sección que estás buscando no existe o no está disponible."}),l.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()}),[_,j,pe,r,s,y,p,R,be,Jn,Qn,ce,o,n,it,qr,Zr,Te,T,M,Y,ze,Oe,He,pt,Er,H,D,$t,Pr,St,Ge,Rt,Wt,Me]);return l.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${pe==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[l.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[l.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${pe==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),l.jsx("div",{className:"particles",children:[...Array(15)].map((we,Be)=>l.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},Be))})]}),l.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${pe==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:l.jsxs("div",{className:"p-4 flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("button",{onClick:()=>{nr("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),l.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:l.jsx($s,{className:"text-lg"})})]}),l.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${pe==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:s.charAt(0).toUpperCase()}),l.jsxs("div",{children:[l.jsx("p",{className:`font-medium ${pe==="dark"?"text-white":"text-gray-900"}`,children:s}),l.jsx("p",{className:`text-xs ${pe==="dark"?"text-gray-400":"text-gray-600"}`,children:ce?"Admin":"Proveedor"})]})]}),l.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Wv},{id:"inventario",label:"Inventario",icon:jU},{id:"cuentas",label:"Cuentas Vendidas",icon:pu},{id:"pedidos",label:"Pedidos",icon:pu},{id:"ganancias",label:"Ganancias",icon:Sa},{id:"subirProducto",label:"Subir Producto",icon:zU},{id:"soporte",label:"Soporte",icon:BU},{id:"configuracion",label:"Configuración",icon:_p}].map(we=>l.jsxs("button",{onClick:()=>{n(we.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===we.id?"bg-blue-100 text-blue-600 border border-blue-300":pe==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":r===we.id?"page":void 0,children:[l.jsx(we.icon,{className:"text-lg"}),l.jsx("span",{children:we.label})]},we.id))}),l.jsx("div",{className:"mt-auto pt-6",children:l.jsxs("button",{onClick:()=>{Xe(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${pe==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[l.jsx(mu,{className:"text-lg"}),l.jsx("span",{children:"Cerrar Sesión"})]})})]})}),l.jsxs("header",{className:`${pe==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(ie.img,{src:Yl,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border ${pe==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),l.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),l.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:l.jsxs("div",{className:"relative group",children:[l.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:H,onChange:we=>D(we.target.value),className:`w-full py-2.5 px-5 ${pe==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:we=>we.key==="Enter"&&n("pedidos")}),l.jsx("button",{onClick:()=>n("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${pe==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:l.jsx(fu,{size:18})})]})}),l.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[l.jsx("button",{onClick:vr,className:`p-2 rounded-full ${pe==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${pe==="dark"?"light":"dark"} theme`,children:pe==="dark"?l.jsx(Xl,{size:20}):l.jsx(Kl,{size:20})}),l.jsxs("button",{onClick:()=>dr(!0),className:`p-2 rounded-full relative ${pe==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${kt.length} new)`,children:[l.jsx(Ol,{size:20}),kt.length>0&&l.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:kt.length})]}),l.jsx("button",{className:`lg:hidden p-2 rounded-full ${pe==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:l.jsx(wm,{size:20,className:pe==="dark"?"text-gray-300":"text-gray-600"})}),l.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:l.jsx("div",{className:"relative",children:l.jsxs("button",{className:`flex items-center space-x-2 ${pe==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[l.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:s.charAt(0).toUpperCase()}),l.jsx("span",{className:`text-sm font-semibold ${pe==="dark"?"text-gray-200":"text-gray-800"}`,children:s})]})})})]})]}),l.jsx(bn,{children:Et&&l.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>dr(!1),role:"dialog","aria-labelledby":"notifications-title",children:l.jsxs(ie.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${pe==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${pe==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:we=>we.stopPropagation(),children:[l.jsx("button",{onClick:()=>dr(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:l.jsx($s,{size:20})}),l.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${pe==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),kt.length>0?kt.map(we=>l.jsxs("div",{className:`p-4 mb-2 rounded-md ${pe==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${pe==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[l.jsx("h3",{className:`font-semibold ${pe==="dark"?"text-gray-200":"text-gray-800"}`,children:we.title||"Nueva Notificación"}),l.jsx("p",{className:`text-sm ${pe==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:we.message}),we.roles&&we.roles.length>0&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",we.roles.join(", ")]}),we.timestamp&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:it(we.timestamp)})]},we.id)):l.jsx("p",{className:`text-center ${pe==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),l.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:ai()}),l.jsxs("footer",{className:`${pe==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${pe==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),l.jsxs("p",{className:`text-base sm:text-lg ${pe==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",l.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),l.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[l.jsx("a",{href:"https://twitter.com",className:`${pe==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:l.jsx(Gl,{size:28})}),l.jsx("a",{href:"https://instagram.com",className:`${pe==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:l.jsx(ql,{size:28})}),l.jsx("a",{href:"https://facebook.com",className:`${pe==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:l.jsx(Wl,{size:28})})]}),l.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[l.jsx("a",{href:"#",className:`text-sm ${pe==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Política de Privacidad"}),l.jsx("a",{href:"#",className:`text-sm ${pe==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Términos de Servicio"}),l.jsx("a",{href:"#",className:`text-sm ${pe==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contáctanos"})]})]}),l.jsxs("p",{className:`text-sm ${pe==="dark"?"text-gray-500":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Hecho con pasión."]})]}),l.jsx(bn,{children:yt&&l.jsx(ie.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:le,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:l.jsx(bm,{size:20})})}),l.jsx(RQ,{isOpen:ae.isOpen,title:ae.title,message:ae.message,onClose:ht}),l.jsx(BQ,{editModalOpen:S,setEditModalOpen:I,selectedProduct:ne,setSelectedProduct:A,editError:V,setEditError:B,handleFileChange:Oe,handleEditStockChange:mt,handleEditAccountFieldChange:hr,handleUpdateProduct:$r}),l.jsx(UQ,{editOrderModalOpen:Q,setEditOrderModalOpen:J,selectedOrder:re,handleOrderAccountChange:Ht,editOrderError:Re,setEditOrderError:Se,handleUpdateOrder:Br}),t&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};R6.propTypes={};const HQ=()=>{const[t,e]=k.useState(""),[r,n]=k.useState(""),[s,i]=k.useState(0),[o,u]=k.useState([]),[d,h]=k.useState([]),[p,x]=k.useState([]),[y,v]=k.useState([]),[T,w]=k.useState([]),[_,C]=k.useState(0),[j,O]=k.useState({day:0,week:0,month:0,total:0}),[M,Y]=k.useState(!0),[ne,A]=k.useState(null),[S,I]=k.useState("dark"),V=ji();k.useEffect(()=>{const D=Hl(Qr,ae=>{ae?(n(ae.email||"No especificado"),B(ae.uid),Y(!1)):V("/login")});return()=>D()},[V]);const B=async D=>{try{const ae=vt(qe,"users",D),Ce=await Mo(ae);if(Ce.exists()){const Ge=Ce.data();e(Ge.username||Ge.email.split("@")[0])}else A("Usuario no encontrado en la base de datos")}catch(ae){console.error("Error al obtener el nombre de usuario:",ae),A("Error al cargar datos del usuario")}},H=D=>{const Ce=D*5,Ge=Ce*.25,ke=Ce*.05;O({day:ke,week:Ge,month:Ce,total:Ce})};return k.useEffect(()=>{(async()=>{try{const ye=await qn(Dt(qe,"users")),be=ye.size,te=ye.docs.map(Qe=>({id:Qe.id,...Qe.data()}));i(be),u(te.slice(-5)),H(be);const R=wr(Dt(qe,"pendingRegistrations"),Or("status","==","pending")),X=await qn(R);h(X.docs.map(Qe=>({id:Qe.id,...Qe.data()})));const Q=wr(Dt(qe,"pendingTopUps"),Or("status","==","pendiente")),J=await qn(Q);x(J.docs.map(Qe=>({id:Qe.id,...Qe.data()})));const re=wr(Dt(qe,"withdrawals"),Or("status","==","pending")),Ae=await qn(re);v(Ae.docs.map(Qe=>({id:Qe.id,...Qe.data()})));const Se=(await qn(Dt(qe,"sales"))).docs.map(Qe=>({id:Qe.id,...Qe.data()}));w(Se);const pe=Se.reduce((Qe,yt)=>Qe+(parseFloat(yt.price)||0),0);C(pe)}catch(ye){console.error("Error al obtener datos:",ye),A("Error al cargar datos")}})();const ae=gr(Dt(qe,"users"),ye=>{const be=ye.size,te=ye.docs.map(R=>({id:R.id,...R.data()}));i(be),u(te.slice(-5)),H(be)}),Ce=gr(wr(Dt(qe,"pendingRegistrations"),Or("status","==","pending")),ye=>{h(ye.docs.map(be=>({id:be.id,...be.data()})))}),Ge=gr(wr(Dt(qe,"pendingTopUps"),Or("status","==","pendiente")),ye=>{x(ye.docs.map(be=>({id:be.id,...be.data()})))}),ke=gr(wr(Dt(qe,"withdrawals"),Or("status","==","pending")),ye=>{v(ye.docs.map(be=>({id:be.id,...be.data()})))}),ce=gr(Dt(qe,"sales"),ye=>{const be=ye.docs.map(R=>({id:R.id,...R.data()}));w(be);const te=be.reduce((R,X)=>R+(parseFloat(X.price)||0),0);C(te)});return()=>{ae(),Ce(),Ge(),ke(),ce()}},[]),M?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):ne?l.jsxs("div",{className:`bg-${S==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${S==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[l.jsx(Fl,{className:"mx-auto text-4xl text-blue-400 mb-4"}),l.jsx("h3",{className:`text-xl font-bold ${S==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),l.jsx("p",{className:`text-base ${S==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:ne}),l.jsx("button",{onClick:()=>A(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):l.jsxs("div",{className:`bg-${S==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${S==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[l.jsxs("h2",{className:`text-2xl sm:text-3xl font-bold ${S==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Bienvenido a BlackStreaming,"," ",l.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:t})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[l.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[l.jsx(Ep,{className:"mr-2"})," Total Usuarios"]}),l.jsx("p",{className:`text-3xl font-bold ${S==="dark"?"text-white":"text-gray-900"}`,children:s}),l.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",onClick:()=>V("/usuarios"),children:"Ver usuarios"})]}),l.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[l.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[l.jsx(pu,{className:"mr-2"})," Total Ventas"]}),l.jsxs("p",{className:`text-3xl font-bold ${S==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",_.toFixed(2)]}),l.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",onClick:()=>V("/pedidos"),children:"Ver ventas"})]}),l.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 border shadow-lg`,children:[l.jsxs("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-3 flex items-center",children:[l.jsx(Sa,{className:"mr-2"})," Ganancias del Mes"]}),l.jsxs("p",{className:`text-3xl font-bold ${S==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",j.month.toFixed(2)]}),l.jsx("p",{className:`text-sm ${S==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:"(5 soles por usuario)"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[l.jsx("h3",{className:`text-lg font-semibold ${S==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Últimos Usuarios"}),o.length>0?o.map(D=>l.jsxs("div",{className:`border-b ${S==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${S==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("p",{className:`font-medium ${S==="dark"?"text-white":"text-gray-900"}`,children:D.username||"Sin nombre"}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${S==="dark"?"bg-blue-900/80 text-blue-400":"bg-blue-100/80 text-blue-600"}`,children:D.role||"usuario"})]}),l.jsx("p",{className:`text-sm ${S==="dark"?"text-gray-400":"text-gray-600"}`,children:D.email})]},D.id)):l.jsx("p",{className:`text-${S==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay usuarios registrados"})]}),l.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[l.jsx("h3",{className:`text-lg font-semibold ${S==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Solicitudes Pendientes"}),d.length>0?d.slice(0,3).map(D=>l.jsxs("div",{className:`border-b ${S==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${S==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("p",{className:`font-medium ${S==="dark"?"text-white":"text-gray-900"}`,children:D.username||"Sin nombre"}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${S==="dark"?"bg-purple-900/80 text-purple-400":"bg-purple-100/80 text-purple-600"}`,children:D.role||"usuario"})]}),l.jsx("p",{className:`text-sm ${S==="dark"?"text-gray-400":"text-gray-600"}`,children:D.email})]},D.id)):l.jsx("p",{className:`text-${S==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay solicitudes pendientes"})]}),l.jsxs("div",{className:`${S==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-2xl p-4 shadow-lg border`,children:[l.jsx("h3",{className:`text-lg font-semibold ${S==="dark"?"text-white":"text-gray-900"} mb-3`,children:"Retiros Pendientes"}),y.length>0?y.slice(0,3).map(D=>l.jsxs("div",{className:`border-b ${S==="dark"?"border-gray-600/50":"border-gray-300"} py-3 last:border-0 hover:bg-${S==="dark"?"gray-700/50":"gray-200/50"} transition-all duration-300 rounded-xl px-2`,children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("p",{className:`font-medium ${S==="dark"?"text-white":"text-gray-900"}`,children:D.provider||"Sin proveedor"}),l.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${S==="dark"?"bg-yellow-900/80 text-yellow-400":"bg-yellow-100/80 text-yellow-600"}`,children:["S/ ",(D.amount||0).toFixed(2)]})]}),l.jsxs("p",{className:`text-sm ${S==="dark"?"text-gray-400":"text-gray-600"}`,children:["Método: ",D.method||"No especificado"]})]},D.id)):l.jsx("p",{className:`text-${S==="dark"?"gray-400":"gray-600"} py-2`,children:"No hay retiros pendientes"})]})]})]})},WQ=({notificationForm:t={message:"",roles:{user:!1,affiliate:!1,provider:!1,admin:!1}},setNotificationForm:e=()=>{},theme:r="dark"})=>{const[n,s]=k.useState(""),[i,o]=k.useState(""),[u,d]=k.useState(!1),h=t.roles||{user:!1,affiliate:!1,provider:!1,admin:!1},p=Object.values(h).some(y=>y),x=k.useCallback(async y=>{if(y.preventDefault(),!p){s("Selecciona al menos un rol para enviar la notificación");return}if(!t.message.trim()){s("El mensaje de la notificación no puede estar vacío");return}s(""),o(""),d(!0);try{await Io(Dt(qe,"notifications"),{message:t.message.trim(),roles:{user:h.user,affiliate:h.affiliate,provider:h.provider,admin:h.admin},createdAt:Fr()}),e({message:"",roles:{user:!1,affiliate:!1,provider:!1,admin:!1}}),o("Notificación enviada exitosamente")}catch(v){s("Error al enviar la notificación. Por favor, intenta de nuevo."),console.error("Error sending notification:",v)}finally{d(!1)}},[t,h,e]);return l.jsxs("div",{className:`bg-${r==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-2xl mx-auto border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[l.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Enviar Notificación -"," ",l.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),l.jsxs(bn,{children:[n&&l.jsx(ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${r==="dark"?"bg-red-900/50 border-red-600/50":"bg-red-100/50 border-red-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-red-600 border-l-4`,role:"alert",children:n}),i&&l.jsx(ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:`${r==="dark"?"bg-green-900/50 border-green-600/50":"bg-green-100/50 border-green-300/50"} rounded-lg p-4 mb-6 text-center text-sm text-green-600 border-l-4`,role:"alert",children:i})]}),l.jsxs("form",{onSubmit:x,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${r==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Mensaje de la Notificación"}),l.jsx("textarea",{value:t.message||"",onChange:y=>e({...t,message:y.target.value}),className:`w-full px-4 py-2 rounded-xl ${r==="dark"?"bg-gray-800/50 text-gray-200 border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-800 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all resize-y`,rows:"5",placeholder:"Escribe el mensaje para los usuarios...",required:!0,"aria-label":"Mensaje de la notificación"})]}),l.jsxs("div",{children:[l.jsx("label",{className:`block text-sm font-medium ${r==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Enviar a los siguientes roles"}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:["user","affiliate","provider","admin"].map(y=>l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:h[y]||!1,onChange:v=>e({...t,roles:{...h,[y]:v.target.checked}}),className:`h-4 w-4 ${r==="dark"?"text-blue-400 focus:ring-blue-400 border-gray-600":"text-blue-600 focus:ring-blue-600 border-gray-300"} rounded`,"aria-label":`Enviar a rol ${y}`}),l.jsx("span",{className:`text-sm capitalize ${r==="dark"?"text-gray-300":"text-gray-700"}`,children:y})]},y))})]}),l.jsx(ie.button,{type:"submit",disabled:u||!p,className:`w-full py-3 px-4 ${u||!p?r==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"} text-white rounded-xl font-medium transition-all duration-300`,"aria-label":"Enviar notificación",whileHover:{scale:u||!p?1:1.05},whileTap:{scale:u||!p?1:.95},children:u?l.jsx(ie.div,{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}):"Enviar Notificación"}),!p&&l.jsx("p",{className:`text-sm text-center ${r==="dark"?"text-blue-400":"text-blue-600"}`,children:"Selecciona al menos un rol para enviar la notificación"})]})]})},j6=[{value:"user",label:"Usuario"},{value:"affiliate",label:"Afiliador"},{value:"provider",label:"Proveedor"},{value:"admin",label:"Administrador"}],qQ=t=>{const e=j6.find(r=>r.value===t);return e?e.label:t},D6=({isOpen:t,user:e,onClose:r,onSave:n,loading:s,theme:i})=>{const[o,u]=k.useState(e?.balance||0),[d,h]=k.useState("");k.useEffect(()=>{u(e?.balance||0),h("")},[e]);const p=x=>{if(x.preventDefault(),h(""),isNaN(o)||o<0){h("Por favor, ingrese un saldo válido (número no negativo).");return}n(e.id,parseFloat(o))};return!t||!e?null:l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:`bg-${i==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${i==="dark"?"border-gray-800/50":"border-gray-300"}`,children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:`text-xl font-bold ${i==="dark"?"text-white":"text-gray-900"}`,children:["Editar Saldo de ",e.username]}),l.jsx("button",{onClick:r,className:`${i==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar modal",children:"✕"})]}),l.jsxs("form",{onSubmit:p,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:`block text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Nuevo Saldo (S/)"}),l.jsx("input",{type:"number",value:o,onChange:x=>u(x.target.value),className:`w-full px-4 py-2 rounded-xl ${i==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,min:"0",step:"0.01",required:!0,"aria-label":"Nuevo saldo"}),d&&l.jsx("p",{className:`text-sm mt-2 ${i==="dark"?"text-blue-400":"text-blue-600"}`,children:d})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 ${i==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"} rounded-xl transition-all duration-300`,"aria-label":"Cancelar",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 ${s?i==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Guardar saldo",children:s?l.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})};D6.propTypes={isOpen:ee.bool.isRequired,user:ee.object,onClose:ee.func.isRequired,onSave:ee.func.isRequired,loading:ee.bool,theme:ee.oneOf(["dark","light"])};const O6=({isOpen:t,user:e,onClose:r,onSave:n,loading:s,theme:i})=>{const[o,u]=k.useState(e?.role||"user");return k.useEffect(()=>{u(e?.role||"user")},[e]),!t||!e?null:l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:`bg-${i==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${i==="dark"?"border-gray-800/50":"border-gray-300"}`,children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:`text-xl font-bold ${i==="dark"?"text-white":"text-gray-900"}`,children:["Cambiar Rol de ",e.username]}),l.jsx("button",{onClick:r,className:`${i==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar modal",children:"✕"})]}),l.jsxs("form",{onSubmit:d=>{d.preventDefault(),n(e.id,o)},children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:`block text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-700"} mb-2`,children:"Nuevo Rol"}),l.jsx("select",{value:o,onChange:d=>u(d.target.value),className:`w-full px-4 py-2 rounded-xl ${i==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,"aria-label":"Seleccionar nuevo rol",children:j6.map(d=>l.jsx("option",{value:d.value,children:d.label},d.value))})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 ${i==="dark"?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"} rounded-xl transition-all duration-300`,"aria-label":"Cancelar",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 ${s?i==="dark"?"bg-blue-800 cursor-not-allowed":"bg-blue-300 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Guardar rol",children:s?l.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})};O6.propTypes={isOpen:ee.bool.isRequired,user:ee.object,onClose:ee.func.isRequired,onSave:ee.func.isRequired,loading:ee.bool,theme:ee.oneOf(["dark","light"])};const F6=({theme:t="dark"})=>{const[e,r]=k.useState([]),[n,s]=k.useState(""),[i,o]=k.useState({isOpen:!1,user:null}),[u,d]=k.useState({isOpen:!1,user:null}),[h,p]=k.useState(!0),[x,y]=k.useState({}),[v,T]=k.useState(null);k.useEffect(()=>{(async()=>{p(!0);try{const S=await qn(Dt(qe,"users")),I=await Promise.all(S.docs.map(async V=>{const B={id:V.id,...V.data()},H=wr(Dt(qe,"sales"),Or("userId","==",V.id)),D=await qn(H);return{...B,orderCount:D.size}}));r(I)}catch(S){T("No se pudieron obtener los usuarios: "+S.message)}p(!1)})()},[]);const w=A=>o({isOpen:!0,user:A}),_=()=>o({isOpen:!1,user:null}),C=A=>d({isOpen:!0,user:A}),j=()=>d({isOpen:!1,user:null}),O=async(A,S)=>{y(I=>({...I,[`balance_${A}`]:!0}));try{const I=vt(qe,"users",A);await Jr(I,{balance:S}),r(V=>V.map(B=>B.id===A?{...B,balance:S}:B)),_()}catch(I){T("Error al actualizar saldo: "+I.message)}y(I=>({...I,[`balance_${A}`]:!1}))},M=async(A,S)=>{y(I=>({...I,[`role_${A}`]:!0}));try{const I=vt(qe,"users",A);await Jr(I,{role:S}),r(V=>V.map(B=>B.id===A?{...B,role:S}:B)),j()}catch(I){T("Error al actualizar rol: "+I.message)}y(I=>({...I,[`role_${A}`]:!1}))},Y=async(A,S)=>{y(I=>({...I,[`status_${A}`]:!0}));try{const I=vt(qe,"users",A),V=S==="suspended"?"active":"suspended";await Jr(I,{status:V}),r(B=>B.map(H=>H.id===A?{...H,status:V}:H))}catch(I){T("Error al cambiar estado: "+I.message)}y(I=>({...I,[`status_${A}`]:!1}))},ne=async A=>{y(S=>({...S,[`delete_${A}`]:!0}));try{const S=vt(qe,"users",A);await El(S),r(I=>I.filter(V=>V.id!==A))}catch(S){T("Error al eliminar usuario: "+S.message)}y(S=>({...S,[`delete_${A}`]:!1}))};return l.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[l.jsxs("div",{className:`bg-${t==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${t==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${t==="dark"?"text-white":"text-gray-900"}`,children:["Lista de"," ",l.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Usuarios"})," ","(",e.length,")"]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"Buscar usuarios...",className:`px-4 py-2 rounded-xl ${t==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400 placeholder-gray-500":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600 placeholder-gray-400"} focus:ring-2 transition-all text-sm`,value:n,onChange:A=>s(A.target.value),"aria-label":"Buscar usuarios"}),l.jsx(fu,{className:`absolute right-3 top-2.5 ${t==="dark"?"text-blue-400":"text-blue-600"}`})]})]}),h?l.jsx("div",{className:"flex justify-center items-center h-40",children:l.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 ${t==="dark"?"border-blue-500":"border-blue-600"}`})}):v?l.jsx("div",{className:`text-center py-4 ${t==="dark"?"text-blue-400":"text-blue-600"}`,children:v}):e.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[l.jsx("thead",{className:`${t==="dark"?"bg-gray-800/50":"bg-gray-100"} backdrop-blur-sm`,children:l.jsxs("tr",{children:[l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(gu,{})," Usuario"]})}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(d0,{})," Email"]})}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Ep,{})," Rol"]})}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Sa,{})," Saldo"]})}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Órdenes"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Acciones"})]})}),l.jsx("tbody",{className:`${t==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:e.filter(A=>(A.username||"").toLowerCase().includes(n.toLowerCase())||(A.email||"").toLowerCase().includes(n.toLowerCase())).map(A=>l.jsxs("tr",{className:`${A.status==="suspended"?t==="dark"?"bg-red-900/20":"bg-red-100/50":""} hover:bg-${t==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[l.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:A.username||"Sin nombre"}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-gray-300":"text-gray-600"}`,children:A.email}),l.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[l.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t==="dark"?"bg-blue-900/80 text-blue-400":"bg-blue-100/80 text-blue-600"}`,children:qQ(A.role)}),l.jsx("button",{onClick:()=>C(A),disabled:x[`role_${A.id}`],className:`ml-2 p-1 ${t==="dark"?"bg-blue-700 hover:bg-blue-800 text-blue-200 disabled:bg-blue-900":"bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-300"} rounded-xl transition-all duration-300`,title:"Editar Rol","aria-label":`Editar rol de ${A.username}`,children:l.jsx(WE,{size:14})})]}),l.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(A.balance||0).toFixed(2)]}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${t==="dark"?"text-white":"text-gray-900"}`,children:A.orderCount||0}),l.jsxs("td",{className:"px-4 py-4 whitespace-nowrap flex space-x-2",children:[l.jsx("button",{onClick:()=>w(A),disabled:x[`balance_${A.id}`],className:`p-2 ${t==="dark"?"bg-blue-600 hover:bg-blue-700 text-white disabled:bg-blue-800":"bg-blue-500 hover:bg-blue-600 text-white disabled:bg-blue-300"} rounded-xl transition-all duration-300`,title:"Editar Saldo","aria-label":`Editar saldo de ${A.username}`,children:l.jsx(WE,{size:16})}),l.jsx("button",{onClick:()=>Y(A.id,A.status),disabled:x[`status_${A.id}`],className:`p-2 ${A.status==="suspended"?t==="dark"?"bg-green-600 hover:bg-green-700 text-white disabled:bg-green-800":"bg-green-500 hover:bg-green-600 text-white disabled:bg-green-300":t==="dark"?"bg-yellow-600 hover:bg-yellow-700 text-white disabled:bg-yellow-800":"bg-yellow-500 hover:bg-yellow-600 text-white disabled:bg-yellow-300"} rounded-xl transition-all duration-300`,title:A.status==="suspended"?"Activar Cuenta":"Suspender Cuenta","aria-label":A.status==="suspended"?`Activar cuenta de ${A.username}`:`Suspender cuenta de ${A.username}`,children:A.status==="suspended"?l.jsx(OU,{size:16}):l.jsx(RU,{size:16})}),l.jsx("button",{onClick:()=>ne(A.id),disabled:x[`delete_${A.id}`],className:`p-2 ${t==="dark"?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-800":"bg-red-500 hover:bg-red-600 text-white disabled:bg-red-300"} rounded-xl transition-all duration-300`,title:"Eliminar Cuenta","aria-label":`Eliminar cuenta de ${A.username}`,children:l.jsx(Gv,{size:16})})]})]},A.id))})]})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Ep,{className:`mx-auto text-4xl ${t==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),l.jsx("p",{className:`${t==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay usuarios registrados"})]})]}),l.jsx(D6,{isOpen:i.isOpen,user:i.user,onClose:_,onSave:O,loading:x[`balance_${i.user?.id}`],theme:t}),l.jsx(O6,{isOpen:u.isOpen,user:u.user,onClose:j,onSave:M,loading:x[`role_${u.user?.id}`],theme:t})]})};F6.propTypes={theme:ee.oneOf(["dark","light"])};const L6=({isOpen:t,message:e,title:r,onClose:n})=>t?l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:r}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:l.jsx($s,{size:20})})]}),l.jsx("p",{className:"text-gray-300 mb-6",children:e}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null;L6.propTypes={isOpen:ee.bool.isRequired,message:ee.string.isRequired,title:ee.string.isRequired,onClose:ee.func.isRequired};const M6=({formatDate:t=r=>{if(!r)return"No especificada";try{const n=r.toDate?r.toDate():new Date(r);return isNaN(n.getTime())?"Fecha inválida":n.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},theme:e="dark"})=>{const[r,n]=k.useState([]),[s,i]=k.useState([]),[o,u]=k.useState({}),[d,h]=k.useState({isOpen:!1,message:"",title:""}),p=(T,w)=>{h({isOpen:!0,title:T,message:w})},x=()=>{h({isOpen:!1,message:"",title:""})};k.useEffect(()=>{const T=gr(wr(Dt(qe,"pendingTopUps"),Or("status","==","pendiente")),_=>{n(_.docs.map(C=>({id:C.id,...C.data()})))}),w=gr(Dt(qe,"topUpsHistory"),_=>{i(_.docs.map(C=>({id:C.id,...C.data()})))});return()=>{T(),w()}},[]);const y=async T=>{try{u(j=>({...j,[T]:!0}));const w=vt(qe,"pendingTopUps",T),_=r.find(j=>j.id===T);if(!_?.userId)throw new Error("Usuario no encontrado para la recarga");await Jr(w,{status:"aprobado",updatedAt:Fr()});const C=vt(qe,"users",_.userId);await Jr(C,{balance:VO(_.amount||0)}),await ti(vt(qe,"topUpsHistory",T),{..._,status:"aprobado",updatedAt:Fr()}),p("Éxito","Recarga aprobada exitosamente")}catch(w){console.error("Error al aprobar recarga:",w),p("Error",w.message||"Error al aprobar la recarga")}finally{u(w=>({...w,[T]:!1}))}},v=async T=>{try{u(C=>({...C,[T]:!0}));const w=vt(qe,"pendingTopUps",T);await Jr(w,{status:"rechazado",updatedAt:Fr()});const _=r.find(C=>C.id===T);await ti(vt(qe,"topUpsHistory",T),{..._,status:"rechazado",updatedAt:Fr()}),p("Éxito","Recarga rechazada exitosamente")}catch(w){console.error("Error al rechazar recarga:",w),p("Error",w.message||"Error al rechazar la recarga")}finally{u(w=>({...w,[T]:!1}))}};return l.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[l.jsxs("div",{className:`bg-${e==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${e==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[l.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${e==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Recargas"," ",l.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Pendientes - BlackStreaming"})]}),Array.isArray(r)&&r.length>0?l.jsx("div",{className:"space-y-4",children:r.map(T=>l.jsxs("div",{className:`border ${e==="dark"?"border-gray-600/50":"border-gray-300"} rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300`,children:[l.jsxs("div",{className:`${e==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm px-4 py-3 border-b ${e==="dark"?"border-gray-600/50":"border-gray-300"} flex justify-between items-center`,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`w-10 h-10 ${e==="dark"?"bg-blue-900/80":"bg-blue-100/80"} rounded-full flex items-center justify-center ${e==="dark"?"text-blue-400":"text-blue-600"}`,children:l.jsx(Sa,{size:18})}),l.jsxs("div",{children:[l.jsx("h4",{className:`font-semibold ${e==="dark"?"text-white":"text-gray-900"}`,children:T.username||"Sin nombre"}),l.jsxs("p",{className:`text-xs ${e==="dark"?"text-gray-400":"text-gray-600"}`,children:["Solicitado: ",t(T.requestedAt)]})]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("p",{className:`text-lg font-medium ${e==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(T.amount||0).toFixed(2)]})})]}),l.jsx("div",{className:`p-4 ${e==="dark"?"bg-gray-700/50":"bg-gray-50"} backdrop-blur-sm`,children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx("button",{onClick:()=>y(T.id),disabled:o[T.id],className:`flex-1 ${e==="dark"?"bg-green-600 hover:bg-green-700 disabled:bg-green-800":"bg-green-500 hover:bg-green-600 disabled:bg-green-300"} text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300`,"aria-label":`Aprobar recarga de ${T.username}`,children:o[T.id]?l.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):l.jsxs(l.Fragment,{children:[l.jsx(FU,{size:18})," Aprobar Recarga"]})}),l.jsx("button",{onClick:()=>v(T.id),disabled:o[T.id],className:`flex-1 ${e==="dark"?"bg-red-600 hover:bg-red-700 disabled:bg-red-800":"bg-red-500 hover:bg-red-600 disabled:bg-red-300"} text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300`,"aria-label":`Rechazar recarga de ${T.username}`,children:o[T.id]?l.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):l.jsxs(l.Fragment,{children:[l.jsx($s,{size:18})," Rechazar Recarga"]})})]})})]},T.id))}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Sa,{className:`mx-auto text-4xl ${e==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),l.jsx("h4",{className:`text-lg font-medium ${e==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay recargas pendientes"}),l.jsx("p",{className:`${e==="dark"?"text-gray-400":"text-gray-500"}`,children:"Todas las solicitudes han sido procesadas"})]})]}),l.jsxs("div",{className:`bg-${e==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md border ${e==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[l.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${e==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Historial de"," ",l.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Recargas - BlackStreaming"})]}),Array.isArray(s)&&s.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[l.jsx("thead",{className:`${e==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm`,children:l.jsxs("tr",{children:[l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Usuario"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Monto"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"})]})}),l.jsx("tbody",{className:`${e==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:s.map(T=>l.jsxs("tr",{className:`hover:bg-${e==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[l.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-white":"text-gray-900"}`,children:T.username||"Sin nombre"}),l.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(T.amount||0).toFixed(2)]}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${T.status==="aprobado"?e==="dark"?"bg-green-900/80 text-green-400":"bg-green-100/80 text-green-600":e==="dark"?"bg-red-900/80 text-red-400":"bg-red-100/80 text-red-600"}`,children:T.status||"Desconocido"})}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${e==="dark"?"text-gray-300":"text-gray-600"}`,children:t(T.updatedAt)})]},T.id))})]})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Sa,{className:`mx-auto text-4xl ${e==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),l.jsx("p",{className:`${e==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay historial de recargas"})]})]}),l.jsx(L6,{isOpen:d.isOpen,title:d.title,message:d.message,onClose:x})]})};M6.propTypes={formatDate:ee.func,theme:ee.oneOf(["dark","light"])};const GQ=({withdrawals:t,formatDate:e,actionLoading:r,setActionLoading:n,showNotificationModal:s})=>{const i=async(o,u)=>{try{n(h=>({...h,[o]:!0}));const d=vt(qe,"withdrawals",o);await Jr(d,{status:u==="approve"?"completed":"rejected",updatedAt:Fr()}),s("Éxito",`Retiro ${u==="approve"?"aprobado":"rechazado"} exitosamente`)}catch(d){s("Error",d.message||`Error al ${u==="approve"?"aprobar":"rechazar"} el retiro`)}finally{n(d=>({...d,[o]:!1}))}};return l.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[l.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Retiros ",l.jsx("span",{className:"text-red-400",children:"Pendientes"})]}),t.length===0?l.jsxs("div",{className:"text-center text-gray-300 py-8",children:[l.jsx(Ta,{className:"mx-auto text-4xl text-red-400 mb-4"}),l.jsx("p",{children:"No hay retiros pendientes"})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-gray-300",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-600/50",children:[l.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Usuario"}),l.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Monto"}),l.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Fecha"}),l.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Acciones"})]})}),l.jsx("tbody",{children:t.map(o=>l.jsxs("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30 transition-all duration-300",children:[l.jsx("td",{className:"py-3 px-4",children:o.userEmail||"No especificado"}),l.jsxs("td",{className:"py-3 px-4",children:["S/ ",o.amount?.toFixed(2)||"0.00"]}),l.jsx("td",{className:"py-3 px-4",children:e(o.createdAt)}),l.jsxs("td",{className:"py-3 px-4 flex space-x-2",children:[l.jsxs("button",{onClick:()=>i(o.id,"approve"),disabled:r[o.id],className:`px-3 py-1 rounded-xl text-white flex items-center space-x-1 transition-all duration-300 ${r[o.id]?"bg-gray-600 cursor-not-allowed":"bg-green-500 hover:bg-green-600"}`,children:[l.jsx(Az,{}),l.jsx("span",{children:"Aprobar"})]}),l.jsxs("button",{onClick:()=>i(o.id,"reject"),disabled:r[o.id],className:`px-3 py-1 rounded-xl text-white flex items-center space-x-1 transition-all duration-300 ${r[o.id]?"bg-gray-600 cursor-not-allowed":"bg-red-500 hover:bg-red-600"}`,children:[l.jsx(Bs,{}),l.jsx("span",{children:"Rechazar"})]})]})]},o.id))})]})})]})},V6=({sales:t=[],totalSales:e=0,formatDate:r=i=>"No especificada",getOrderStatus:n=()=>"Desconocido",theme:s="dark"})=>{const[i,o]=k.useState({}),[u,d]=k.useState(null),h=async p=>{o(x=>({...x,[`delete_${p}`]:!0}));try{const x=vt(qe,"sales",p);await El(x),window.dispatchEvent(new CustomEvent("saleDeleted",{detail:{saleId:p}}))}catch(x){d("Error al eliminar pedido: "+x.message)}o(x=>({...x,[`delete_${p}`]:!1}))};return l.jsxs("div",{className:`bg-${s==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[l.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${s==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Ventas"," ",l.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"General - BlackStreaming"})]}),l.jsxs("div",{className:`${s==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-6 text-center mb-6 border ${s==="dark"?"border-gray-600/50":"border-gray-300"}`,children:[l.jsx("h4",{className:`text-lg font-semibold ${s==="dark"?"text-blue-400":"text-blue-600"} mb-2`,children:"Total Ventas"}),l.jsxs("p",{className:`text-3xl font-bold ${s==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",e.toFixed(2)]}),l.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-600"} mt-2`,children:"Suma de todos los pedidos realizados"})]}),l.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${s==="dark"?"text-white":"text-gray-900"} mb-4`,children:["Historial de"," ",l.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Pedidos - BlackStreaming"})]}),u&&l.jsx("div",{className:`text-center py-4 ${s==="dark"?"text-blue-400":"text-blue-600"}`,children:u}),t.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[l.jsx("thead",{className:`${s==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm`,children:l.jsxs("tr",{children:[l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Nombre del Producto"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Precio"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Proveedor"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Usuario Comprador"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Fecha"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Estado"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${s==="dark"?"text-gray-300":"text-gray-700"} uppercase tracking-wider`,children:"Acciones"})]})}),l.jsx("tbody",{className:`${s==="dark"?"bg-gray-800/50":"bg-white"} divide-y divide-gray-600/50`,children:t.map(p=>l.jsxs("tr",{className:`hover:bg-${s==="dark"?"gray-700/50":"gray-100"} transition-all duration-300`,children:[l.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-white":"text-gray-900"}`,children:p.productName||"Sin nombre"}),l.jsxs("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-white":"text-gray-900"}`,children:["S/ ",(p.price||0).toFixed(2)]}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:p.provider||"Sin proveedor"}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:p.buyer||"Sin comprador"}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:r(p.createdAt)}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${n(p)==="Pendiente"?s==="dark"?"bg-yellow-900/80 text-yellow-400":"bg-yellow-100/80 text-yellow-600":n(p)==="Activo"?s==="dark"?"bg-green-900/80 text-green-400":"bg-green-100/80 text-green-600":s==="dark"?"bg-red-900/80 text-red-400":"bg-red-100/80 text-red-600"}`,children:n(p)})}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:l.jsx("button",{onClick:()=>h(p.id),disabled:i[`delete_${p.id}`],className:`p-2 ${s==="dark"?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-800":"bg-red-500 hover:bg-red-600 text-white disabled:bg-red-300"} rounded-xl transition-all duration-300`,title:"Eliminar Pedido","aria-label":`Eliminar pedido ${p.productName||"sin nombre"}`,children:i[`delete_${p.id}`]?l.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):l.jsx(Gv,{size:16})})})]},p.id))})]})}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx(pu,{className:`mx-auto text-4xl ${s==="dark"?"text-blue-400":"text-blue-600"} mb-3`}),l.jsx("p",{className:`${s==="dark"?"text-gray-300":"text-gray-600"}`,children:"No hay pedidos registrados"})]})]})};V6.propTypes={sales:ee.array,totalSales:ee.number,formatDate:ee.func,getOrderStatus:ee.func,theme:ee.oneOf(["dark","light"])};const $6=({earnings:t={day:0,week:0,month:0,total:0},totalUsers:e=0,theme:r="dark"})=>l.jsxs("div",{className:`bg-${r==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-6xl mx-auto border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[l.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Ganancias -"," ",l.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[l.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[l.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[l.jsx(kd,{className:"mr-2","aria-hidden":"true"})," Ganancias Diarias"]}),l.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias diarias",children:["S/ ",(t.day||0).toFixed(2)]}),l.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por día"})]}),l.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[l.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[l.jsx(kd,{className:"mr-2","aria-hidden":"true"})," Ganancias Semanales"]}),l.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias semanales",children:["S/ ",(t.week||0).toFixed(2)]}),l.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por semana"})]}),l.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[l.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[l.jsx(kd,{className:"mr-2","aria-hidden":"true"})," Ganancias Mensuales"]}),l.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias mensuales",children:["S/ ",(t.month||0).toFixed(2)]}),l.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Estimado por mes"})]}),l.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[l.jsxs("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2 flex items-center`,children:[l.jsx(kd,{className:"mr-2","aria-hidden":"true"})," Ganancias Totales"]}),l.jsxs("p",{className:`text-2xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancias totales",children:["S/ ",(t.total||0).toFixed(2)]}),l.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Total acumulado"})]})]}),l.jsxs("div",{className:`${r==="dark"?"bg-gray-700/50":"bg-gray-100"} backdrop-blur-sm rounded-2xl p-4 border ${r==="dark"?"border-gray-600/50":"border-gray-300"} shadow-lg`,children:[l.jsx("h4",{className:`text-lg font-semibold ${r==="dark"?"text-blue-400":"text-blue-600"} mb-2`,children:"Resumen"}),l.jsxs("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"}`,children:["Total de usuarios registrados:"," ",l.jsx("span",{className:`font-medium ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Total de usuarios registrados",children:e})]}),l.jsxs("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:["Ganancia por usuario:"," ",l.jsx("span",{className:`font-medium ${r==="dark"?"text-white":"text-gray-900"}`,"aria-label":"Ganancia por usuario",children:"S/ 5.00"})]}),l.jsx("p",{className:`${r==="dark"?"text-gray-300":"text-gray-600"} mt-1`,children:"Las ganancias se calculan asumiendo S/ 5.00 por cada usuario registrado. Las estimaciones diarias y semanales son proporciones del total (5% y 25%, respectivamente)."})]})]});$6.propTypes={earnings:ee.shape({day:ee.number,week:ee.number,month:ee.number,total:ee.number}),totalUsers:ee.number,theme:ee.oneOf(["dark","light"])};const B6=({userName:t="",setUserName:e=()=>{},email:r="",handleSaveChanges:n=()=>{},handleLogout:s=()=>{},actionLoading:i={},theme:o="dark"})=>l.jsxs("div",{className:`bg-${o==="dark"?"black/50":"white"} backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-md max-w-2xl mx-auto border ${o==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[l.jsxs("h3",{className:`text-xl sm:text-2xl font-bold ${o==="dark"?"text-white":"text-gray-900"} mb-6`,children:["Configuración -"," ",l.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),l.jsxs("form",{onSubmit:n,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:`block text-sm font-medium ${o==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[l.jsx(gu,{className:`mr-2 ${o==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Nombre de usuario"]}),l.jsx("input",{type:"text",value:t,onChange:u=>e(u.target.value),className:`w-full px-4 py-2 rounded-xl ${o==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,placeholder:"Ingresa tu nombre de usuario",required:!0,"aria-label":"Nombre de usuario"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:`block text-sm font-medium ${o==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[l.jsx(d0,{className:`mr-2 ${o==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Correo electrónico"]}),l.jsx("input",{type:"email",value:r,disabled:!0,className:`w-full px-4 py-2 rounded-xl ${o==="dark"?"bg-gray-700/50 text-gray-400 border-gray-600/50":"bg-gray-100 text-gray-500 border-gray-300"} cursor-not-allowed`,"aria-label":"Correo electrónico (solo lectura)"}),l.jsx("p",{className:`text-sm ${o==="dark"?"text-gray-400":"text-gray-500"} mt-1`,children:"El correo no puede ser modificado."})]}),l.jsxs("div",{children:[l.jsxs("label",{className:`block text-sm font-medium ${o==="dark"?"text-gray-300":"text-gray-700"} mb-2 flex items-center`,children:[l.jsx(qv,{className:`mr-2 ${o==="dark"?"text-blue-400":"text-blue-600"}`,"aria-hidden":"true"})," ","Nueva contraseña (opcional)"]}),l.jsx("input",{type:"password",name:"password",className:`w-full px-4 py-2 rounded-xl ${o==="dark"?"bg-gray-700/50 text-white border-gray-600/50 focus:ring-blue-400 focus:border-blue-400":"bg-gray-100 text-gray-900 border-gray-300 focus:ring-blue-600 focus:border-blue-600"} focus:ring-2 transition-all`,placeholder:"Ingresa una nueva contraseña","aria-label":"Nueva contraseña"}),l.jsx("p",{className:`text-sm ${o==="dark"?"text-gray-400":"text-gray-500"} mt-1`,children:"Mínimo 6 caracteres. Déjalo en blanco para no cambiarla."})]}),l.jsx("button",{type:"submit",disabled:i.config,className:`w-full py-3 px-4 ${o==="dark"?"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-800":"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300"} text-white rounded-xl font-medium transition-all duration-300`,"aria-label":"Guardar cambios",children:i.config?l.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar Cambios"})]}),l.jsx("div",{className:"mt-6",children:l.jsxs("button",{onClick:s,className:`w-full py-3 px-4 ${o==="dark"?"bg-red-600 hover:bg-red-700 disabled:bg-red-800":"bg-red-500 hover:bg-red-600 disabled:bg-red-300"} text-white rounded-xl font-medium transition-all duration-300 flex items-center justify-center gap-2`,"aria-label":"Cerrar sesión",children:[l.jsx(mu,{size:18})," Cerrar Sesión"]})})]});B6.propTypes={userName:ee.string,setUserName:ee.func,email:ee.string,handleSaveChanges:ee.func,handleLogout:ee.func,actionLoading:ee.object,theme:ee.oneOf(["dark","light"])};const U6=({isOpen:t,message:e,title:r,onClose:n,theme:s="dark"})=>t?l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:`bg-${s==="dark"?"gray-900/90":"white"} backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border ${s==="dark"?"border-gray-800/50":"border-gray-300"}`,children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:`text-xl font-bold ${s==="dark"?"text-white":"text-gray-900"}`,children:[r||"Notificación"," -"," ",l.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),l.jsx("button",{onClick:n,className:`${s==="dark"?"text-gray-400 hover:text-white":"text-gray-600 hover:text-gray-900"} transition-all duration-300`,"aria-label":"Cerrar notificación",children:l.jsx($s,{size:20})})]}),l.jsx("p",{className:`mb-6 ${s==="dark"?"text-gray-300":"text-gray-600"}`,children:e||"No se proporcionó ningún mensaje."}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:n,className:`px-4 py-2 ${s==="dark"?"bg-blue-500 hover:bg-blue-600 text-white":"bg-blue-600 hover:bg-blue-700 text-white"} rounded-xl transition-all duration-300`,"aria-label":"Aceptar notificación",children:"Aceptar"})})]})})}):null;U6.propTypes={isOpen:ee.bool.isRequired,message:ee.string,title:ee.string,onClose:ee.func.isRequired,theme:ee.oneOf(["dark","light"])};const KQ=({isOpen:t,user:e,onClose:r,onSave:n})=>{const[s,i]=k.useState(e?.balance||0),[o,u]=k.useState(""),d=h=>{if(h.preventDefault(),u(""),isNaN(s)||s<0){u("Por favor, ingrese un saldo válido (número no negativo).");return}n(e.id,parseFloat(s))};return t?l.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-xl font-bold text-white",children:["Editar Saldo de ",e.username]}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-all duration-300",children:l.jsx(Bs,{size:20})})]}),l.jsxs("form",{onSubmit:d,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuevo Saldo (S/)"}),l.jsx("input",{type:"number",value:s,onChange:h=>i(h.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",min:"0",step:"0.01",required:!0}),o&&l.jsx("p",{className:"text-red-400 text-sm mt-2",children:o})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},z6=({theme:t,products:e,loadingProducts:r,searchQuery:n,setSearchQuery:s,handleDeleteProduct:i})=>{const o=t==="dark",u=e.filter(d=>d.name?.toLowerCase().includes(n.toLowerCase())||d.category?.toLowerCase().includes(n.toLowerCase()));return r?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l.jsxs(ie.div,{className:`backdrop-blur-md p-4 sm:p-6 lg:p-8 rounded-2xl shadow-2xl max-w-6xl mx-auto border ${o?"bg-black/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[l.jsx("h3",{className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${o?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Gestión de Productos"}),l.jsx("div",{className:"relative w-full sm:w-64 mt-4 sm:mt-0",children:l.jsx("input",{type:"text",placeholder:"Buscar productos...",value:n,onChange:d=>s(d.target.value),className:`w-full px-3 py-2 rounded-xl ${o?"bg-gray-700/50 text-white border-gray-600/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all duration-300 text-sm placeholder-gray-500`,"aria-label":"Search products"})})]}),u.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[l.jsx("thead",{className:`backdrop-blur-sm ${o?"bg-gray-900/80":"bg-gray-200/80"}`,children:l.jsxs("tr",{children:[l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Imagen"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Nombre"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Categoría"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Tipo"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Proveedor"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Estado"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Stock"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Precio"}),l.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${o?"text-gray-300":"text-gray-700"}`,children:"Acciones"})]})}),l.jsx("tbody",{className:`divide-y divide-gray-700/50 ${o?"bg-gray-800/70":"bg-gray-100/70"}`,children:u.map((d,h)=>l.jsxs("tr",{className:"hover:bg-blue-500/10 transition-all duration-300",children:[l.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:d.image?l.jsx("img",{src:d.image,alt:d.name,className:"h-12 w-12 rounded-lg object-cover",loading:"lazy"}):l.jsx("div",{className:"h-12 w-12 bg-gray-300 rounded-lg flex items-center justify-center",children:l.jsx(Vy,{className:"text-gray-500",size:20})})}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap ${o?"text-white":"text-gray-900"}`,children:d.name||"Sin nombre"}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-gray-300":"text-gray-600"}`,children:d.category||"Sin categoría"}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-gray-300":"text-gray-600"}`,children:d.accountType||"N/A"}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-gray-300":"text-gray-600"}`,children:d.provider||"Sin proveedor"}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:l.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${d.status==="En stock"?"bg-green-500/20 text-green-400 border-green-500/50":d.status==="A pedido"?"bg-yellow-500/20 text-yellow-400 border-yellow-500/50":"bg-red-500/20 text-red-400 border-red-500/50"} border`,children:d.status||"Desconocido"})}),l.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-gray-300":"text-gray-600"}`,children:d.stock!=null?d.stock:"0"}),l.jsxs("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${o?"text-white":"text-gray-900"}`,children:["S/ ",parseFloat(d.price||0).toFixed(2)]}),l.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:l.jsx("button",{onClick:()=>i(d.id),className:`p-2 rounded-full ${o?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-red-100 text-red-600 hover:bg-red-200"} transition-all duration-300`,title:"Eliminar producto","aria-label":`Eliminar producto ${d.name}`,children:l.jsx(Gv,{size:14})})})]},d.id||h))})]})}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Vy,{className:`mx-auto text-4xl ${o?"text-gray-400":"text-gray-500"} mb-3`}),l.jsx("h4",{className:`text-lg font-medium ${o?"text-gray-300":"text-gray-700"}`,children:"No hay productos registrados"}),l.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"}`,children:"Los productos aparecerán aquí cuando los agregues."})]})]})};z6.propTypes={theme:ee.string.isRequired,products:ee.array.isRequired,loadingProducts:ee.bool.isRequired,searchQuery:ee.string.isRequired,setSearchQuery:ee.func.isRequired,handleDeleteProduct:ee.func.isRequired};const XQ=ki.memo(({show:t,onClose:e,title:r,message:n,theme:s})=>l.jsx(bn,{children:t&&l.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:e,role:"dialog","aria-labelledby":"modal-title",children:l.jsxs(ie.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${s==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${s==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:i=>i.stopPropagation(),children:[l.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:l.jsx($s,{size:20})}),l.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${s==="dark"?"text-white":"text-gray-900"}`,children:r}),l.jsx("p",{className:`text-sm ${s==="dark"?"text-gray-300":"text-gray-700"}`,children:n})]})})}));XQ.propTypes={show:ee.bool.isRequired,onClose:ee.func.isRequired,title:ee.string.isRequired,message:ee.string.isRequired,theme:ee.string.isRequired};const H6=()=>{const[t,e]=k.useState(!1),[r,n]=k.useState("inicio"),[s,i]=k.useState(""),[o,u]=k.useState(""),[d,h]=k.useState([]),[p,x]=k.useState([]),[y,v]=k.useState([]),[T,w]=k.useState([]),[_,C]=k.useState([]),[j,O]=k.useState([]),[M,Y]=k.useState(0),[ne,A]=k.useState(0),[S,I]=k.useState(0),[V,B]=k.useState(0),[H,D]=k.useState({day:0,week:0,month:0,total:0}),[ae,Ce]=k.useState(!0),[Ge,ke]=k.useState(!0),[ce,ye]=k.useState(null),[be,te]=k.useState({}),[R,X]=k.useState({isOpen:!1,message:"",title:""}),[Q,J]=k.useState({isOpen:!1,user:null}),[re,Ae]=k.useState("dark"),[Re,Se]=k.useState(!1),[pe,Qe]=k.useState(!1),[yt,Gt]=k.useState(""),[Et,dr]=k.useState(""),kt=ji(),Ue=k.useCallback(()=>{Ae(Oe=>Oe==="dark"?"light":"dark")},[]),nr=k.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),Ot=k.useCallback((Oe,He)=>{X({isOpen:!0,title:Oe,message:He})},[]),vr=k.useCallback(()=>{X({isOpen:!1,message:"",title:""})},[]),le=k.useCallback(Oe=>{J({isOpen:!0,user:Oe})},[]),Me=k.useCallback(()=>{J({isOpen:!1,user:null})},[]),ht=k.useCallback(Oe=>{if(!Oe)return"No especificada";try{const He=Oe instanceof Date?Oe:new Date(Oe);return isNaN(He.getTime())?"Fecha inválida":He.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},[]),it=k.useCallback(async Oe=>{if(window.confirm("¿Estás seguro de que quieres eliminar este producto?"))try{te(He=>({...He,deleteProduct:!0})),await El(vt(qe,"products",Oe)),Ot("Éxito","Producto eliminado correctamente")}catch(He){console.error("Error al eliminar producto:",He),Ot("Error",He.message||"Error al eliminar el producto")}finally{te(He=>({...He,deleteProduct:!1}))}},[Ot]),Te=k.useCallback(async(Oe,He)=>{try{te(pt=>({...pt,balance:!0}));const mt=vt(qe,"users",Oe);await Jr(mt,{balance:He,updatedAt:Fr()}),Ot("Éxito","Saldo actualizado exitosamente"),Me()}catch(mt){console.error("Error al actualizar saldo:",mt),Ot("Error",mt.message||"Error al actualizar el saldo")}finally{te(mt=>({...mt,balance:!1}))}},[Ot,Me]),Ie=k.useCallback(async Oe=>{Oe.preventDefault();try{te(hr=>({...hr,config:!0}));const He=Oe.target.password.value,mt=vt(qe,"users",Qr.currentUser.uid),pt={username:s,updatedAt:Fr()};if(He){if(He.length<6){Ot("Error","La contraseña debe tener al menos 6 caracteres");return}await av(Qr.currentUser,He)}await Jr(mt,pt),Ot("Éxito","Cambios guardados correctamente"),Oe.target.reset()}catch(He){console.error("Error al guardar cambios:",He),Ot("Error",He.message||"Error al guardar los cambios")}finally{te(He=>({...He,config:!1}))}},[s,Ot]),Xe=k.useCallback(async()=>{try{await O0(Qr),kt("/")}catch(Oe){console.error("Error al cerrar sesión:",Oe),Ot("Error",Oe.message||"Error al cerrar sesión")}},[kt,Ot]);k.useEffect(()=>{const Oe=Hl(Qr,He=>{He?(u(He.email||"No especificado"),Ce(!1)):kt("/login")});return()=>Oe()},[kt]),k.useEffect(()=>{if(!Qr.currentUser)return;const Oe=vt(qe,"users",Qr.currentUser.uid),He=gr(Oe,mt=>{if(mt.exists()){const pt=mt.data();i(pt.username||"Admin")}else ye("Usuario no encontrado")},mt=>{console.error("Error al cargar datos del usuario:",mt),ye("Error al cargar datos del usuario: "+mt.message)});return()=>He()},[]),k.useEffect(()=>{const Oe=Dt(qe,"users"),He=Dt(qe,"sales"),mt=wr(Dt(qe,"pendingTopUps"),Or("status","==","pendiente")),pt=wr(Dt(qe,"withdrawals"),Or("status","==","pendiente")),hr=wr(Dt(qe,"products"),X1("createdAt","desc")),Ht=gr(Oe,St=>{const Wt=St.docs.map($t=>({id:$t.id,...$t.data()}));h(Wt),Y(Wt.length)},St=>{console.error("Error al cargar usuarios:",St),ye("Error al cargar usuarios: "+St.message)}),Er=gr(He,St=>{const Wt=St.docs.map(Br=>({id:Br.id,...Br.data()}));x(Wt);const $t=Wt.reduce((Br,Pr)=>Br+(parseFloat(Pr.price)||0),0);A($t)},St=>{console.error("Error al cargar ventas:",St),ye("Error al cargar ventas: "+St.message)}),qr=gr(mt,St=>{const Wt=St.docs.map($t=>({id:$t.id,...$t.data(),date:$t.data().requestedAt?.toDate?.()||new Date,amount:parseFloat($t.data().amount)||0}));v(Wt),I(Wt.length)},St=>{console.error("Error al cargar recargas:",St),ye("Error al cargar recargas: "+St.message)}),$r=gr(pt,St=>{const Wt=St.docs.map($t=>({id:$t.id,...$t.data(),date:$t.data().requestedAt?.toDate?.()||new Date,amount:parseFloat($t.data().amount)||0}));w(Wt),B(Wt.length)},St=>{console.error("Error al cargar retiros:",St),ye("Error al cargar retiros: "+St.message)}),Zr=gr(hr,St=>{const Wt=St.docs.map($t=>({id:$t.id,...$t.data(),createdAt:$t.data().createdAt?.toDate?.()||new Date}));C(Wt),ke(!1)},St=>{console.error("Error al cargar productos:",St),ye("Error al cargar productos: "+St.message),ke(!1)});return()=>{Ht(),Er(),qr(),$r(),Zr()}},[]),k.useEffect(()=>{const Oe=gr(vt(qe,"notifications","adminMessage"),He=>{if(He.exists()){const mt=He.data();O([{id:He.id,...mt,timestamp:mt.updatedAt?.toDate()}])}else O([])},He=>{console.error("Error al cargar notificaciones:",He),ye("Error al cargar notificaciones: "+He.message)});return()=>Oe()},[]),k.useEffect(()=>{const Oe=M*5;D({day:Oe*.05,week:Oe*.25,month:Oe,total:Oe})},[M]),k.useEffect(()=>{const Oe=()=>{Se(window.scrollY>300)};return window.addEventListener("scroll",Oe),()=>window.removeEventListener("scroll",Oe)},[]);const ze=k.useCallback(Oe=>{const He=Oe.endDate?.toDate?.()||new Date,mt=new Date;return Oe.status==="pending"?"Pendiente":He>mt&&Oe.status==="completed"?"Activo":"Expirado"},[]),Rt=k.useCallback(()=>ae?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):ce?l.jsxs("div",{className:`bg-${re==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${re==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[l.jsx(Fl,{className:"mx-auto text-4xl text-blue-400 mb-4"}),l.jsx("h3",{className:`text-xl font-bold ${re==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Error"}),l.jsx("p",{className:`text-base ${re==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:ce}),l.jsx("button",{onClick:()=>ye(null),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Aceptar"})]}):l.jsx("div",{className:`bg-${re==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 lg:p-10 rounded-2xl shadow-md max-w-6xl mx-auto border ${re==="dark"?"border-gray-700/50":"border-gray-300"} w-full`,children:(()=>{switch(r){case"inicio":return l.jsx(HQ,{totalUsers:M,totalSales:ne,pendingTopUps:S,pendingWithdrawals:V});case"notificaciones":return l.jsx(WQ,{notifications:j,formatDate:ht});case"usuarios":return l.jsx(F6,{users:d,openEditBalanceModal:le});case"recargas":return l.jsx(M6,{topUps:y,formatDate:ht,actionLoading:be,setActionLoading:te,showNotificationModal:Ot});case"retiros":return l.jsx(GQ,{withdrawals:T,formatDate:ht,actionLoading:be,setActionLoading:te,showNotificationModal:Ot});case"pedidos":return l.jsx(V6,{sales:p,totalSales:ne,formatDate:ht,getOrderStatus:ze});case"productos":return l.jsx(z6,{theme:re,products:_,loadingProducts:Ge,searchQuery:Et,setSearchQuery:dr,handleDeleteProduct:it});case"ganancias":return l.jsx($6,{earnings:H,totalUsers:M});case"configuracion":return l.jsx(B6,{userName:s,setUserName:i,email:o,handleSaveChanges:Ie,handleLogout:Xe,actionLoading:be});default:return l.jsxs("div",{className:`bg-${re==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 rounded-2xl shadow-md text-center max-w-2xl mx-auto border ${re==="dark"?"border-gray-700/50":"border-gray-300"}`,children:[l.jsx(Fl,{className:"mx-auto text-4xl text-blue-400 mb-4"}),l.jsx("h3",{className:`text-xl font-bold ${re==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Sección no encontrada"}),l.jsx("p",{className:`text-base ${re==="dark"?"text-gray-300":"text-gray-700"} mb-4`,children:"La sección que estás buscando no existe o no está disponible."}),l.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Volver al inicio"})]})}})()}),[ae,ce,re,r,M,ne,S,V,j,ht,d,le,y,be,Ot,T,p,ze,H,s,i,o,Ie,Xe,_,Ge,Et,it]);return l.jsxs("div",{className:`min-h-screen bg-gradient-to-b ${re==="dark"?"from-gray-900 via-gray-800 to-black text-white":"from-gray-50 to-gray-50 text-gray-900"} font-inter relative overflow-x-hidden`,children:[l.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[l.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${re==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),l.jsx("div",{className:"particles",children:[...Array(15)].map((Oe,He)=>l.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},He))})]}),l.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${t?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${re==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r overflow-y-auto lg:shadow-md`,children:l.jsxs("div",{className:"p-4 flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("button",{onClick:()=>{kt("/"),e(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),l.jsx("button",{onClick:()=>e(!1),className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:l.jsx($s,{className:"text-lg"})})]}),l.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${re==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:s.charAt(0).toUpperCase()}),l.jsxs("div",{children:[l.jsx("p",{className:`font-medium ${re==="dark"?"text-white":"text-gray-900"}`,children:s}),l.jsx("p",{className:`text-xs ${re==="dark"?"text-gray-400":"text-gray-600"}`,children:"Administrador"})]})]}),l.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Wv},{id:"notificaciones",label:"Notificaciones",icon:Ol},{id:"usuarios",label:"Usuarios",icon:Ep},{id:"recargas",label:"Recargas",icon:Sa},{id:"retiros",label:"Retiros",icon:Sa},{id:"pedidos",label:"Pedidos",icon:pu},{id:"productos",label:"Productos",icon:Vy},{id:"ganancias",label:"Ganancias",icon:kd},{id:"configuracion",label:"Configuración",icon:VU}].map(Oe=>l.jsxs("button",{onClick:()=>{n(Oe.id),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r===Oe.id?"bg-blue-100 text-blue-600 border border-blue-300":re==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":r===Oe.id?"page":void 0,children:[l.jsx(Oe.icon,{className:"text-lg"}),l.jsx("span",{children:Oe.label})]},Oe.id))}),l.jsx("div",{className:"mt-auto pt-6",children:l.jsxs("button",{onClick:()=>{Xe(),e(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${re==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[l.jsx(mu,{className:"text-lg"}),l.jsx("span",{children:"Cerrar Sesión"})]})})]})}),l.jsxs("header",{className:`${re==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md py-4 px-4 sm:px-6 lg:px-8 flex items-center justify-between shadow-md fixed top-0 left-0 right-0 z-50 lg:ml-64`,children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(ie.img,{src:Yl,alt:"BlackStreaming logo",className:`h-10 w-10 rounded-full border ${re==="dark"?"border-gray-700/50":"border-gray-300"} shadow-sm lg:hidden`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),l.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"BlackStreaming"})]}),l.jsx("div",{className:"flex-1 mx-4 max-w-lg",children:l.jsxs("div",{className:"relative group",children:[l.jsx("input",{type:"text",placeholder:"Buscar pedidos...",value:yt,onChange:Oe=>Gt(Oe.target.value),className:`w-full py-2.5 px-5 ${re==="dark"?"bg-gray-800/50 border-gray-600/50 text-gray-200":"bg-gray-100 border-gray-300 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-md`,"aria-label":"Search orders",onKeyDown:Oe=>Oe.key==="Enter"&&n("pedidos")}),l.jsx("button",{onClick:()=>n("pedidos"),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${re==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Search",children:l.jsx(fu,{size:18})})]})}),l.jsxs("nav",{className:"flex items-center space-x-4 relative",children:[l.jsx("button",{onClick:Ue,className:`p-2 rounded-full ${re==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Switch to ${re==="dark"?"light":"dark"} theme`,children:re==="dark"?l.jsx(Xl,{size:20}):l.jsx(Kl,{size:20})}),l.jsxs("button",{onClick:()=>Qe(!0),className:`p-2 rounded-full relative ${re==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-blue-600"} transition duration-300`,"aria-label":`Notifications (${j.length} new)`,children:[l.jsx(Ol,{size:20}),j.length>0&&l.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:j.length})]}),l.jsx("button",{className:`lg:hidden p-2 rounded-full ${re==="dark"?"hover:bg-gray-700/50":"hover:bg-gray-100"} transition-all duration-300`,onClick:()=>e(!t),"aria-label":"Toggle mobile menu","aria-expanded":t,children:l.jsx(wm,{size:20,className:re==="dark"?"text-gray-300":"text-gray-600"})}),l.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:l.jsx("div",{className:"relative",children:l.jsxs("button",{className:`flex items-center space-x-2 ${re==="dark"?"bg-gray-800/50 border-gray-600/50":"bg-gray-100 border-gray-300"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-md transition-all duration-300`,"aria-label":"User menu",children:[l.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:s.charAt(0).toUpperCase()}),l.jsx("span",{className:`text-sm font-semibold ${re==="dark"?"text-gray-200":"text-gray-800"}`,children:s})]})})})]})]}),l.jsx(bn,{children:pe&&l.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>Qe(!1),role:"dialog","aria-labelledby":"notifications-title",children:l.jsxs(ie.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 lg:max-w-lg ${re==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${re==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:Oe=>Oe.stopPropagation(),children:[l.jsx("button",{onClick:()=>Qe(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notifications",children:l.jsx($s,{size:20})}),l.jsx("h2",{id:"notifications-title",className:`text-xl font-bold mb-4 ${re==="dark"?"text-white":"text-gray-900"}`,children:"Notificaciones"}),j.length>0?j.map(Oe=>l.jsxs("div",{className:`p-4 mb-2 rounded-md ${re==="dark"?"bg-gray-800/50":"bg-gray-100/80"} border-l-4 ${re==="dark"?"border-blue-500/50":"border-blue-300/50"}`,children:[l.jsx("h3",{className:`font-semibold ${re==="dark"?"text-gray-200":"text-gray-800"}`,children:Oe.title||"Nueva Notificación"}),l.jsx("p",{className:`text-sm ${re==="dark"?"text-gray-300":"text-gray-700"} mt-1`,children:Oe.message}),Oe.roles&&Oe.roles.length>0&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Roles: ",Oe.roles.join(", ")]}),Oe.timestamp&&l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ht(Oe.timestamp)})]},Oe.id)):l.jsx("p",{className:`text-center ${re==="dark"?"text-gray-400":"text-gray-600"} mt-4`,children:"No hay notificaciones."})]})})}),l.jsx("main",{className:"lg:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start",children:Rt()}),l.jsxs("footer",{className:`${re==="dark"?"bg-gray-900/90":"bg-white"} backdrop-blur-md px-4 sm:px-6 lg:px-8 py-12 text-center relative z-10 lg:ml-64 max-w-6xl mx-auto rounded-2xl border ${re==="dark"?"border-gray-700/50":"border-gray-300"} mt-8 shadow-md`,children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 mb-4",children:"BlackStreaming"}),l.jsxs("p",{className:`text-base sm:text-lg ${re==="dark"?"text-gray-300":"text-gray-700"} mb-6 font-medium`,children:["Todos los derechos reservados. Desarrollado por"," ",l.jsx("span",{className:"font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Saiph"}),"."]}),l.jsxs("div",{className:"flex justify-center space-x-6 sm:space-x-8 mb-6",children:[l.jsx("a",{href:"https://twitter.com",className:`${re==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Twitter",children:l.jsx(Gl,{size:28})}),l.jsx("a",{href:"https://instagram.com",className:`${re==="dark"?"text-gray-400 hover:text-pink-400":"text-gray-600 hover:text-pink-600"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Instagram",children:l.jsx(ql,{size:28})}),l.jsx("a",{href:"https://facebook.com",className:`${re==="dark"?"text-gray-400 hover:text-blue-600":"text-gray-600 hover:text-blue-800"} transition-all duration-300 transform hover:scale-125`,"aria-label":"Visit BlackStreaming Facebook",children:l.jsx(Wl,{size:28})})]}),l.jsxs("div",{className:"flex justify-center space-x-4 sm:space-x-6",children:[l.jsx("a",{href:"#",className:`text-sm ${re==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Privacy Policy",children:"Política de Privacidad"}),l.jsx("a",{href:"#",className:`text-sm ${re==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Terms of Service",children:"Términos de Servicio"}),l.jsx("a",{href:"#",className:`text-sm ${re==="dark"?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-all duration-300`,"aria-label":"Contact Us",children:"Contáctanos"})]})]}),l.jsxs("p",{className:`text-sm ${re==="dark"?"text-gray-500":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Hecho con pasión."]})]}),l.jsx(bn,{children:Re&&l.jsx(ie.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:nr,className:"fixed bottom-6 right-6 bg-blue-600/90 backdrop-blur-md p-3 rounded-full hover:bg-blue-700/95 shadow-lg hover:shadow-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 lg:bottom-8 lg:right-8","aria-label":"Back to top",children:l.jsx(bm,{size:20})})}),l.jsx(U6,{isOpen:R.isOpen,title:R.title,message:R.message,onClose:vr}),l.jsx(KQ,{isOpen:Q.isOpen,user:Q.user,onClose:Me,onSave:Te}),t&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>e(!1),"aria-hidden":"true"})]})};H6.propTypes={};const W6=k.createContext(),YQ=({children:t})=>{const e=cv(L0),[r,n]=k.useState(null),[s,i]=k.useState(null),[o,u]=k.useState(!0);return k.useEffect(()=>{const d=Hl(e,async h=>{if(h){n(h);try{const p=await Mo(vt(qe,"users",h.uid));p.exists()?i(p.data().role):i("user")}catch(p){console.error("Error fetching role:",p),i("user")}}else n(null),i(null);u(!1)});return()=>d()},[]),l.jsx(W6.Provider,{value:{user:r,role:s,loading:o},children:!o&&t})},Nf=()=>{const t=k.useContext(W6);if(t===void 0)throw new Error("useAuth debe usarse dentro de un AuthProvider");return t},QQ=k.lazy(()=>sr(()=>import("./Netflix-S5lW_H5O.js"),[])),JQ=k.lazy(()=>sr(()=>import("./Disney-VyDavDbI.js"),[])),ZQ=k.lazy(()=>sr(()=>import("./Max-BrDDqpYI.js"),[])),eJ=k.lazy(()=>sr(()=>import("./Spotify-CKCY12ER.js"),[])),tJ=k.lazy(()=>sr(()=>import("./PrimeVideo-COXxLpMW.js"),[])),rJ=k.lazy(()=>sr(()=>import("./Vix-DjpGYlRw.js"),[])),nJ=k.lazy(()=>sr(()=>import("./canva-CsVYY12Y.js"),[])),sJ=k.lazy(()=>sr(()=>import("./ChatGPT-BEysGqSB.js"),[])),iJ=k.lazy(()=>sr(()=>import("./Crunchyroll-DliEtudA.js"),[])),aJ=k.lazy(()=>sr(()=>import("./RedesSociales-DsyVn_5u.js"),[])),oJ=k.lazy(()=>sr(()=>import("./AppleMusic-CCnJuoVK.js"),[])),lJ=k.lazy(()=>sr(()=>import("./AppleTv-DVN0YzaY.js"),[])),cJ=k.lazy(()=>sr(()=>import("./IPTV-BHOx8YKS.js"),[])),uJ=k.lazy(()=>sr(()=>import("./FlujoTv-CkHbNeLU.js"),[])),dJ=k.lazy(()=>sr(()=>import("./VikiRakuten-DywKF07T.js"),[])),hJ=k.lazy(()=>sr(()=>import("./Pornhub-BVRz7vzJ.js"),[])),fJ=k.lazy(()=>sr(()=>import("./Paramount-DINKFq2a.js"),[])),pJ=k.lazy(()=>sr(()=>import("./Licencias-BK5G_ciw.js"),[])),mJ=k.lazy(()=>sr(()=>import("./Capcut-B-OCXKCO.js"),[])),gJ=k.lazy(()=>sr(()=>import("./Duolingo-B1t1S6Xw.js"),[])),xJ=k.lazy(()=>sr(()=>import("./Dgo-DwObgzWl.js"),[])),yJ=k.lazy(()=>sr(()=>import("./LigaMax-Cdfw6npg.js"),[])),vJ=k.lazy(()=>sr(()=>import("./MovistarPlay-DipZo5kw.js"),[])),bJ=k.lazy(()=>sr(()=>import("./Youtube-Cgby3fYd.js"),[])),wJ=k.lazy(()=>sr(()=>import("./Deezer-B4eDjPAO.js"),[])),_J=k.lazy(()=>sr(()=>import("./Tidal-tRvSydEN.js"),[])),EJ=k.lazy(()=>sr(()=>import("./Vpn-B9QqWiKT.js"),[])),TJ=k.lazy(()=>sr(()=>import("./WinTv-JEE7VWyk.js"),[])),NJ=k.lazy(()=>sr(()=>import("./Buscapersonas-9aOG3hfY.js"),[]));k.lazy(()=>sr(()=>import("./Maintenance-boPQ-Qgi.js"),[]));const kJ=()=>l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Página no encontrada"}),l.jsx("a",{href:"/",className:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600",children:"Volver al inicio"})]})}),SJ=()=>{const t=({children:s,redirectTo:i})=>{const{user:o,role:u,loading:d}=Nf();return d?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Cargando..."}):o&&u==="user"?s:l.jsx(nf,{to:i||"/login",replace:!0})},e=({children:s,redirectTo:i})=>{const{user:o,role:u,loading:d}=Nf();return d?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Cargando..."}):o&&u==="admin"?s:l.jsx(nf,{to:i||"/login",replace:!0})},r=({children:s,redirectTo:i})=>{const{user:o,role:u,loading:d}=Nf();return d?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Cargando..."}):o&&u==="affiliate"?s:l.jsx(nf,{to:i||"/login",replace:!0})},n=({children:s,redirectTo:i})=>{const{user:o,role:u,loading:d}=Nf();return d?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Cargando..."}):o&&u==="provider"?s:l.jsx(nf,{to:i||"/login",replace:!0})};return l.jsx(YI,{children:l.jsxs(l.Fragment,{children:[l.jsx(Mt,{path:"/",element:l.jsx(OA,{})}),l.jsx(Mt,{path:"/login",element:l.jsx(Nz,{})}),l.jsx(Mt,{path:"/register",element:l.jsx(kz,{})}),l.jsx(Mt,{path:"/forgot-password",element:l.jsx(Sz,{})}),l.jsx(Mt,{path:"/dashboard/user",element:l.jsx(t,{children:l.jsx(P6,{})})}),l.jsx(Mt,{path:"/dashboard/affiliate",element:l.jsx(r,{children:l.jsx(PQ,{})})}),l.jsx(Mt,{path:"/dashboard/provider",element:l.jsx(n,{children:l.jsx(R6,{})})}),l.jsx(Mt,{path:"/dashboard/admin",element:l.jsx(e,{children:l.jsx(H6,{})})}),l.jsx(Mt,{path:"/netflix",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(QQ,{})})}),l.jsx(Mt,{path:"/disney",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(JQ,{})})}),l.jsx(Mt,{path:"/max",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(ZQ,{})})}),l.jsx(Mt,{path:"/spotify",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(eJ,{})})}),l.jsx(Mt,{path:"/primevideo",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(tJ,{})})}),l.jsx(Mt,{path:"/vix",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(rJ,{})})}),l.jsx(Mt,{path:"/canva",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(nJ,{})})}),l.jsx(Mt,{path:"/chatgpt",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(sJ,{})})}),l.jsx(Mt,{path:"/crunchyroll",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(iJ,{})})}),l.jsx(Mt,{path:"/redessociales",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(aJ,{})})}),l.jsx(Mt,{path:"/applemusic",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(oJ,{})})}),l.jsx(Mt,{path:"/appletv",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(lJ,{})})}),l.jsx(Mt,{path:"/iptv",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(cJ,{})})}),l.jsx(Mt,{path:"/flujotv",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(uJ,{})})}),l.jsx(Mt,{path:"/vikirakuten",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(dJ,{})})}),l.jsx(Mt,{path:"/pornhub",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(hJ,{})})}),l.jsx(Mt,{path:"/paramount",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(fJ,{})})}),l.jsx(Mt,{path:"/licencias",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(pJ,{})})}),l.jsx(Mt,{path:"/capcut",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(mJ,{})})}),l.jsx(Mt,{path:"/duolingo",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(gJ,{})})}),l.jsx(Mt,{path:"/dgo",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(xJ,{})})}),l.jsx(Mt,{path:"/ligamax",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(yJ,{})})}),l.jsx(Mt,{path:"/movistarplay",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(vJ,{})})}),l.jsx(Mt,{path:"/youtube",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(bJ,{})})}),l.jsx(Mt,{path:"/deezer",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(wJ,{})})}),l.jsx(Mt,{path:"/tidal",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(_J,{})})}),l.jsx(Mt,{path:"/vpn",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(EJ,{})})}),l.jsx(Mt,{path:"/wintv",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(TJ,{})})}),l.jsx(Mt,{path:"/buscapersonas",element:l.jsx(k.Suspense,{fallback:l.jsx("div",{children:"Cargando..."}),children:l.jsx(NJ,{})})}),l.jsx(Mt,{path:"*",element:l.jsx(kJ,{})})]})})};aI.createRoot(document.getElementById("root")).render(l.jsx(ki.StrictMode,{children:l.jsx(vP,{children:l.jsx(YQ,{children:l.jsx(SJ,{})})})}));export{ql as $,Pz as A,ta as B,FJ as C,Aa as D,ie as E,$A as F,Yl as G,fu as H,Xl as I,Kl as J,Ol as K,Dz as L,DU as M,bn as N,_p as O,mu as P,ys as Q,$y as R,By as S,$s as T,_m as U,zJ as V,PJ as W,OJ as X,vu as Y,bm as Z,Gl as _,gr as a,Wl as a0,Mo as a1,X1 as a2,ee as a3,ki as a4,BJ as a5,Ca as a6,Np as a7,CJ as b,Dt as c,qe as d,vt as e,O0 as f,qn as g,Qr as h,VO as i,l as j,jJ as k,jO as l,MJ as m,UJ as n,Hl as o,HJ as p,wr as q,k as r,Fr as s,$J as t,ji as u,RJ as v,Or as w,VJ as x,LJ as y,DJ as z};
